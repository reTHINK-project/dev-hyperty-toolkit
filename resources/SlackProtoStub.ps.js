(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(1)\n\n/**\n * reads api.json and generates a matching javascript object\n * the leaf nodes bind the method name to the passed in exec function\n */\nmodule.exports = function _bind(ns, exec) {\n\n  // walks the generated api.json keys dynamically constructing the client\n  Object.keys(api).forEach(key=> {\n\n    // each key is namespaced so we break up into an array to work with \n    // example: api.test --> ['api', 'test']\n    var parts = key.split('.')\n\n    // then we get the root part of the namespace\n    // example: 'api'\n    var root = parts.shift() \n  \n    // initialize the root namespace object if it wasn't already\n    var init = typeof ns[root] === 'undefined'\n    if (init) {\n      ns[root] = {} \n    }\n\n    // walks the remaining namespace parts assigning the _exec function at the end\n    ;(function _iterator(o) {\n      var bit = parts.shift()\n      var last = parts.length === 0\n      if (last) {\n        o[bit] = exec.bind({}, key)\n      }\n      else {\n        var init = typeof o[bit] === 'undefined'\n        if (init) {\n          o[bit] = {}\n        }\n        // keep iterating\n        _iterator(o[bit])\n      }\n    })(ns[root])\n  })\n\n  return ns\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL19iaW5kLmpzPzM5MjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUI7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoJy4vYXBpLmpzb24nKVxuXG4vKipcbiAqIHJlYWRzIGFwaS5qc29uIGFuZCBnZW5lcmF0ZXMgYSBtYXRjaGluZyBqYXZhc2NyaXB0IG9iamVjdFxuICogdGhlIGxlYWYgbm9kZXMgYmluZCB0aGUgbWV0aG9kIG5hbWUgdG8gdGhlIHBhc3NlZCBpbiBleGVjIGZ1bmN0aW9uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gX2JpbmQobnMsIGV4ZWMpIHtcblxuICAvLyB3YWxrcyB0aGUgZ2VuZXJhdGVkIGFwaS5qc29uIGtleXMgZHluYW1pY2FsbHkgY29uc3RydWN0aW5nIHRoZSBjbGllbnRcbiAgT2JqZWN0LmtleXMoYXBpKS5mb3JFYWNoKGtleT0+IHtcblxuICAgIC8vIGVhY2gga2V5IGlzIG5hbWVzcGFjZWQgc28gd2UgYnJlYWsgdXAgaW50byBhbiBhcnJheSB0byB3b3JrIHdpdGggXG4gICAgLy8gZXhhbXBsZTogYXBpLnRlc3QgLS0+IFsnYXBpJywgJ3Rlc3QnXVxuICAgIHZhciBwYXJ0cyA9IGtleS5zcGxpdCgnLicpXG5cbiAgICAvLyB0aGVuIHdlIGdldCB0aGUgcm9vdCBwYXJ0IG9mIHRoZSBuYW1lc3BhY2VcbiAgICAvLyBleGFtcGxlOiAnYXBpJ1xuICAgIHZhciByb290ID0gcGFydHMuc2hpZnQoKSBcbiAgXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgcm9vdCBuYW1lc3BhY2Ugb2JqZWN0IGlmIGl0IHdhc24ndCBhbHJlYWR5XG4gICAgdmFyIGluaXQgPSB0eXBlb2YgbnNbcm9vdF0gPT09ICd1bmRlZmluZWQnXG4gICAgaWYgKGluaXQpIHtcbiAgICAgIG5zW3Jvb3RdID0ge30gXG4gICAgfVxuXG4gICAgLy8gd2Fsa3MgdGhlIHJlbWFpbmluZyBuYW1lc3BhY2UgcGFydHMgYXNzaWduaW5nIHRoZSBfZXhlYyBmdW5jdGlvbiBhdCB0aGUgZW5kXG4gICAgOyhmdW5jdGlvbiBfaXRlcmF0b3Iobykge1xuICAgICAgdmFyIGJpdCA9IHBhcnRzLnNoaWZ0KClcbiAgICAgIHZhciBsYXN0ID0gcGFydHMubGVuZ3RoID09PSAwXG4gICAgICBpZiAobGFzdCkge1xuICAgICAgICBvW2JpdF0gPSBleGVjLmJpbmQoe30sIGtleSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgaW5pdCA9IHR5cGVvZiBvW2JpdF0gPT09ICd1bmRlZmluZWQnXG4gICAgICAgIGlmIChpbml0KSB7XG4gICAgICAgICAgb1tiaXRdID0ge31cbiAgICAgICAgfVxuICAgICAgICAvLyBrZWVwIGl0ZXJhdGluZ1xuICAgICAgICBfaXRlcmF0b3Iob1tiaXRdKVxuICAgICAgfVxuICAgIH0pKG5zW3Jvb3RdKVxuICB9KVxuXG4gIHJldHVybiBuc1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL19iaW5kLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = {\"api.test\":[],\"apps.permissions.info\":[\"token\"],\"apps.permissions.request\":[\"token\",\"scopes\",\"trigger_id\"],\"auth.revoke\":[\"token\"],\"auth.test\":[\"token\"],\"bots.info\":[\"token\"],\"channels.archive\":[\"token\",\"channel\"],\"channels.create\":[\"token\",\"name\"],\"channels.history\":[\"token\",\"channel\"],\"channels.info\":[\"token\",\"channel\"],\"channels.invite\":[\"token\",\"channel\",\"user\"],\"channels.join\":[\"token\",\"name\"],\"channels.kick\":[\"token\",\"channel\",\"user\"],\"channels.leave\":[\"token\",\"channel\"],\"channels.list\":[\"token\"],\"channels.mark\":[\"token\",\"channel\",\"ts\"],\"channels.rename\":[\"token\",\"channel\",\"name\"],\"channels.replies\":[\"token\",\"channel\",\"thread_ts\"],\"channels.setPurpose\":[\"token\",\"channel\",\"purpose\"],\"channels.setTopic\":[\"token\",\"channel\",\"topic\"],\"channels.unarchive\":[\"token\",\"channel\"],\"chat.delete\":[\"token\",\"channel\",\"ts\"],\"chat.meMessage\":[\"token\",\"channel\",\"text\"],\"chat.postEphemeral\":[\"token\",\"channel\",\"text\",\"user\"],\"chat.postMessage\":[\"token\",\"channel\",\"text\"],\"chat.unfurl\":[\"token\",\"channel\",\"ts\",\"unfurls\"],\"chat.update\":[\"token\",\"channel\",\"text\",\"ts\"],\"conversations.archive\":[\"token\",\"channel\"],\"conversations.close\":[\"token\",\"channel\"],\"conversations.create\":[\"token\",\"name\"],\"conversations.history\":[\"token\",\"channel\"],\"conversations.info\":[\"token\",\"channel\"],\"conversations.invite\":[\"token\",\"channel\",\"users\"],\"conversations.join\":[\"token\",\"channel\"],\"conversations.kick\":[\"token\",\"channel\",\"user\"],\"conversations.leave\":[\"token\",\"channel\"],\"conversations.list\":[\"token\"],\"conversations.members\":[\"token\",\"channel\"],\"conversations.open\":[\"token\"],\"conversations.rename\":[\"token\",\"channel\",\"name\"],\"conversations.replies\":[\"token\",\"channel\",\"ts\"],\"conversations.setPurpose\":[\"token\",\"channel\",\"purpose\"],\"conversations.setTopic\":[\"token\",\"channel\",\"topic\"],\"conversations.unarchive\":[\"token\",\"channel\"],\"dnd.endDnd\":[\"token\"],\"dnd.endSnooze\":[\"token\"],\"dnd.info\":[\"token\"],\"dnd.setSnooze\":[\"token\",\"num_minutes\"],\"dnd.teamInfo\":[\"token\"],\"emoji.list\":[\"token\"],\"files.comments.add\":[\"token\",\"comment\",\"file\"],\"files.comments.delete\":[\"token\",\"file\",\"id\"],\"files.comments.edit\":[\"token\",\"comment\",\"file\",\"id\"],\"files.delete\":[\"token\",\"file\"],\"files.info\":[\"token\",\"file\"],\"files.list\":[\"token\"],\"files.revokePublicURL\":[\"token\",\"file\"],\"files.sharedPublicURL\":[\"token\",\"file\"],\"files.upload\":[\"token\"],\"groups.archive\":[\"token\",\"channel\"],\"groups.create\":[\"token\",\"name\"],\"groups.createChild\":[\"token\",\"channel\"],\"groups.history\":[\"token\",\"channel\"],\"groups.info\":[\"token\",\"channel\"],\"groups.invite\":[\"token\",\"channel\",\"user\"],\"groups.kick\":[\"token\",\"channel\",\"user\"],\"groups.leave\":[\"token\",\"channel\"],\"groups.list\":[\"token\"],\"groups.mark\":[\"token\",\"channel\",\"ts\"],\"groups.open\":[\"token\",\"channel\"],\"groups.rename\":[\"token\",\"channel\",\"name\"],\"groups.replies\":[\"token\",\"channel\",\"thread_ts\"],\"groups.setPurpose\":[\"token\",\"channel\",\"purpose\"],\"groups.setTopic\":[\"token\",\"channel\",\"topic\"],\"groups.unarchive\":[\"token\",\"channel\"],\"im.close\":[\"token\",\"channel\"],\"im.history\":[\"token\",\"channel\"],\"im.list\":[\"token\"],\"im.mark\":[\"token\",\"channel\",\"ts\"],\"im.open\":[\"token\",\"user\"],\"im.replies\":[\"token\",\"channel\",\"thread_ts\"],\"mpim.close\":[\"token\",\"channel\"],\"mpim.history\":[\"token\",\"channel\"],\"mpim.list\":[\"token\"],\"mpim.mark\":[\"token\",\"channel\",\"ts\"],\"mpim.open\":[\"token\",\"users\"],\"mpim.replies\":[\"token\",\"channel\",\"thread_ts\"],\"oauth.access\":[\"client_id\",\"client_secret\",\"code\"],\"oauth.token\":[\"client_id\",\"client_secret\",\"code\"],\"pins.add\":[\"token\",\"channel\"],\"pins.list\":[\"token\",\"channel\"],\"pins.remove\":[\"token\",\"channel\"],\"reactions.add\":[\"token\",\"name\"],\"reactions.get\":[\"token\"],\"reactions.list\":[\"token\"],\"reactions.remove\":[\"token\",\"name\"],\"reminders.add\":[\"token\",\"text\",\"time\"],\"reminders.complete\":[\"token\",\"reminder\"],\"reminders.delete\":[\"token\",\"reminder\"],\"reminders.info\":[\"token\",\"reminder\"],\"reminders.list\":[\"token\"],\"rtm.connect\":[\"token\"],\"rtm.start\":[\"token\"],\"search.all\":[\"token\",\"query\"],\"search.files\":[\"token\",\"query\"],\"search.messages\":[\"token\",\"query\"],\"stars.add\":[\"token\"],\"stars.list\":[\"token\"],\"stars.remove\":[\"token\"],\"team.accessLogs\":[\"token\"],\"team.billableInfo\":[\"token\"],\"team.info\":[\"token\"],\"team.integrationLogs\":[\"token\"],\"team.profile.get\":[\"token\"],\"usergroups.create\":[\"token\",\"name\"],\"usergroups.disable\":[\"token\",\"usergroup\"],\"usergroups.enable\":[\"token\",\"usergroup\"],\"usergroups.list\":[\"token\"],\"usergroups.update\":[\"token\",\"usergroup\"],\"usergroups.users.list\":[\"token\",\"usergroup\"],\"usergroups.users.update\":[\"token\",\"usergroup\",\"users\"],\"users.deletePhoto\":[\"token\"],\"users.getPresence\":[\"token\",\"user\"],\"users.identity\":[\"token\"],\"users.info\":[\"token\",\"user\"],\"users.list\":[\"token\"],\"users.setActive\":[\"token\"],\"users.setPhoto\":[\"token\",\"image\"],\"users.setPresence\":[\"token\",\"presence\"],\"users.profile.get\":[\"token\"],\"users.profile.set\":[\"token\"]}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL2FwaS5qc29uP2JkY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcImFwaS50ZXN0XCI6W10sXCJhcHBzLnBlcm1pc3Npb25zLmluZm9cIjpbXCJ0b2tlblwiXSxcImFwcHMucGVybWlzc2lvbnMucmVxdWVzdFwiOltcInRva2VuXCIsXCJzY29wZXNcIixcInRyaWdnZXJfaWRcIl0sXCJhdXRoLnJldm9rZVwiOltcInRva2VuXCJdLFwiYXV0aC50ZXN0XCI6W1widG9rZW5cIl0sXCJib3RzLmluZm9cIjpbXCJ0b2tlblwiXSxcImNoYW5uZWxzLmFyY2hpdmVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImNoYW5uZWxzLmNyZWF0ZVwiOltcInRva2VuXCIsXCJuYW1lXCJdLFwiY2hhbm5lbHMuaGlzdG9yeVwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiY2hhbm5lbHMuaW5mb1wiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiY2hhbm5lbHMuaW52aXRlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInVzZXJcIl0sXCJjaGFubmVscy5qb2luXCI6W1widG9rZW5cIixcIm5hbWVcIl0sXCJjaGFubmVscy5raWNrXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInVzZXJcIl0sXCJjaGFubmVscy5sZWF2ZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiY2hhbm5lbHMubGlzdFwiOltcInRva2VuXCJdLFwiY2hhbm5lbHMubWFya1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0c1wiXSxcImNoYW5uZWxzLnJlbmFtZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJuYW1lXCJdLFwiY2hhbm5lbHMucmVwbGllc1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0aHJlYWRfdHNcIl0sXCJjaGFubmVscy5zZXRQdXJwb3NlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInB1cnBvc2VcIl0sXCJjaGFubmVscy5zZXRUb3BpY1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0b3BpY1wiXSxcImNoYW5uZWxzLnVuYXJjaGl2ZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiY2hhdC5kZWxldGVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidHNcIl0sXCJjaGF0Lm1lTWVzc2FnZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0ZXh0XCJdLFwiY2hhdC5wb3N0RXBoZW1lcmFsXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRleHRcIixcInVzZXJcIl0sXCJjaGF0LnBvc3RNZXNzYWdlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRleHRcIl0sXCJjaGF0LnVuZnVybFwiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0c1wiLFwidW5mdXJsc1wiXSxcImNoYXQudXBkYXRlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRleHRcIixcInRzXCJdLFwiY29udmVyc2F0aW9ucy5hcmNoaXZlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJjb252ZXJzYXRpb25zLmNsb3NlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJjb252ZXJzYXRpb25zLmNyZWF0ZVwiOltcInRva2VuXCIsXCJuYW1lXCJdLFwiY29udmVyc2F0aW9ucy5oaXN0b3J5XCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJjb252ZXJzYXRpb25zLmluZm9cIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImNvbnZlcnNhdGlvbnMuaW52aXRlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInVzZXJzXCJdLFwiY29udmVyc2F0aW9ucy5qb2luXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJjb252ZXJzYXRpb25zLmtpY2tcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidXNlclwiXSxcImNvbnZlcnNhdGlvbnMubGVhdmVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImNvbnZlcnNhdGlvbnMubGlzdFwiOltcInRva2VuXCJdLFwiY29udmVyc2F0aW9ucy5tZW1iZXJzXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJjb252ZXJzYXRpb25zLm9wZW5cIjpbXCJ0b2tlblwiXSxcImNvbnZlcnNhdGlvbnMucmVuYW1lXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcIm5hbWVcIl0sXCJjb252ZXJzYXRpb25zLnJlcGxpZXNcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidHNcIl0sXCJjb252ZXJzYXRpb25zLnNldFB1cnBvc2VcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwicHVycG9zZVwiXSxcImNvbnZlcnNhdGlvbnMuc2V0VG9waWNcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidG9waWNcIl0sXCJjb252ZXJzYXRpb25zLnVuYXJjaGl2ZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiZG5kLmVuZERuZFwiOltcInRva2VuXCJdLFwiZG5kLmVuZFNub296ZVwiOltcInRva2VuXCJdLFwiZG5kLmluZm9cIjpbXCJ0b2tlblwiXSxcImRuZC5zZXRTbm9vemVcIjpbXCJ0b2tlblwiLFwibnVtX21pbnV0ZXNcIl0sXCJkbmQudGVhbUluZm9cIjpbXCJ0b2tlblwiXSxcImVtb2ppLmxpc3RcIjpbXCJ0b2tlblwiXSxcImZpbGVzLmNvbW1lbnRzLmFkZFwiOltcInRva2VuXCIsXCJjb21tZW50XCIsXCJmaWxlXCJdLFwiZmlsZXMuY29tbWVudHMuZGVsZXRlXCI6W1widG9rZW5cIixcImZpbGVcIixcImlkXCJdLFwiZmlsZXMuY29tbWVudHMuZWRpdFwiOltcInRva2VuXCIsXCJjb21tZW50XCIsXCJmaWxlXCIsXCJpZFwiXSxcImZpbGVzLmRlbGV0ZVwiOltcInRva2VuXCIsXCJmaWxlXCJdLFwiZmlsZXMuaW5mb1wiOltcInRva2VuXCIsXCJmaWxlXCJdLFwiZmlsZXMubGlzdFwiOltcInRva2VuXCJdLFwiZmlsZXMucmV2b2tlUHVibGljVVJMXCI6W1widG9rZW5cIixcImZpbGVcIl0sXCJmaWxlcy5zaGFyZWRQdWJsaWNVUkxcIjpbXCJ0b2tlblwiLFwiZmlsZVwiXSxcImZpbGVzLnVwbG9hZFwiOltcInRva2VuXCJdLFwiZ3JvdXBzLmFyY2hpdmVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImdyb3Vwcy5jcmVhdGVcIjpbXCJ0b2tlblwiLFwibmFtZVwiXSxcImdyb3Vwcy5jcmVhdGVDaGlsZFwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiZ3JvdXBzLmhpc3RvcnlcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImdyb3Vwcy5pbmZvXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJncm91cHMuaW52aXRlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInVzZXJcIl0sXCJncm91cHMua2lja1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ1c2VyXCJdLFwiZ3JvdXBzLmxlYXZlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJncm91cHMubGlzdFwiOltcInRva2VuXCJdLFwiZ3JvdXBzLm1hcmtcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidHNcIl0sXCJncm91cHMub3BlblwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwiZ3JvdXBzLnJlbmFtZVwiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJuYW1lXCJdLFwiZ3JvdXBzLnJlcGxpZXNcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwidGhyZWFkX3RzXCJdLFwiZ3JvdXBzLnNldFB1cnBvc2VcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiLFwicHVycG9zZVwiXSxcImdyb3Vwcy5zZXRUb3BpY1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0b3BpY1wiXSxcImdyb3Vwcy51bmFyY2hpdmVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcImltLmNsb3NlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJpbS5oaXN0b3J5XCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJpbS5saXN0XCI6W1widG9rZW5cIl0sXCJpbS5tYXJrXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRzXCJdLFwiaW0ub3BlblwiOltcInRva2VuXCIsXCJ1c2VyXCJdLFwiaW0ucmVwbGllc1wiOltcInRva2VuXCIsXCJjaGFubmVsXCIsXCJ0aHJlYWRfdHNcIl0sXCJtcGltLmNsb3NlXCI6W1widG9rZW5cIixcImNoYW5uZWxcIl0sXCJtcGltLmhpc3RvcnlcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcIm1waW0ubGlzdFwiOltcInRva2VuXCJdLFwibXBpbS5tYXJrXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRzXCJdLFwibXBpbS5vcGVuXCI6W1widG9rZW5cIixcInVzZXJzXCJdLFwibXBpbS5yZXBsaWVzXCI6W1widG9rZW5cIixcImNoYW5uZWxcIixcInRocmVhZF90c1wiXSxcIm9hdXRoLmFjY2Vzc1wiOltcImNsaWVudF9pZFwiLFwiY2xpZW50X3NlY3JldFwiLFwiY29kZVwiXSxcIm9hdXRoLnRva2VuXCI6W1wiY2xpZW50X2lkXCIsXCJjbGllbnRfc2VjcmV0XCIsXCJjb2RlXCJdLFwicGlucy5hZGRcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcInBpbnMubGlzdFwiOltcInRva2VuXCIsXCJjaGFubmVsXCJdLFwicGlucy5yZW1vdmVcIjpbXCJ0b2tlblwiLFwiY2hhbm5lbFwiXSxcInJlYWN0aW9ucy5hZGRcIjpbXCJ0b2tlblwiLFwibmFtZVwiXSxcInJlYWN0aW9ucy5nZXRcIjpbXCJ0b2tlblwiXSxcInJlYWN0aW9ucy5saXN0XCI6W1widG9rZW5cIl0sXCJyZWFjdGlvbnMucmVtb3ZlXCI6W1widG9rZW5cIixcIm5hbWVcIl0sXCJyZW1pbmRlcnMuYWRkXCI6W1widG9rZW5cIixcInRleHRcIixcInRpbWVcIl0sXCJyZW1pbmRlcnMuY29tcGxldGVcIjpbXCJ0b2tlblwiLFwicmVtaW5kZXJcIl0sXCJyZW1pbmRlcnMuZGVsZXRlXCI6W1widG9rZW5cIixcInJlbWluZGVyXCJdLFwicmVtaW5kZXJzLmluZm9cIjpbXCJ0b2tlblwiLFwicmVtaW5kZXJcIl0sXCJyZW1pbmRlcnMubGlzdFwiOltcInRva2VuXCJdLFwicnRtLmNvbm5lY3RcIjpbXCJ0b2tlblwiXSxcInJ0bS5zdGFydFwiOltcInRva2VuXCJdLFwic2VhcmNoLmFsbFwiOltcInRva2VuXCIsXCJxdWVyeVwiXSxcInNlYXJjaC5maWxlc1wiOltcInRva2VuXCIsXCJxdWVyeVwiXSxcInNlYXJjaC5tZXNzYWdlc1wiOltcInRva2VuXCIsXCJxdWVyeVwiXSxcInN0YXJzLmFkZFwiOltcInRva2VuXCJdLFwic3RhcnMubGlzdFwiOltcInRva2VuXCJdLFwic3RhcnMucmVtb3ZlXCI6W1widG9rZW5cIl0sXCJ0ZWFtLmFjY2Vzc0xvZ3NcIjpbXCJ0b2tlblwiXSxcInRlYW0uYmlsbGFibGVJbmZvXCI6W1widG9rZW5cIl0sXCJ0ZWFtLmluZm9cIjpbXCJ0b2tlblwiXSxcInRlYW0uaW50ZWdyYXRpb25Mb2dzXCI6W1widG9rZW5cIl0sXCJ0ZWFtLnByb2ZpbGUuZ2V0XCI6W1widG9rZW5cIl0sXCJ1c2VyZ3JvdXBzLmNyZWF0ZVwiOltcInRva2VuXCIsXCJuYW1lXCJdLFwidXNlcmdyb3Vwcy5kaXNhYmxlXCI6W1widG9rZW5cIixcInVzZXJncm91cFwiXSxcInVzZXJncm91cHMuZW5hYmxlXCI6W1widG9rZW5cIixcInVzZXJncm91cFwiXSxcInVzZXJncm91cHMubGlzdFwiOltcInRva2VuXCJdLFwidXNlcmdyb3Vwcy51cGRhdGVcIjpbXCJ0b2tlblwiLFwidXNlcmdyb3VwXCJdLFwidXNlcmdyb3Vwcy51c2Vycy5saXN0XCI6W1widG9rZW5cIixcInVzZXJncm91cFwiXSxcInVzZXJncm91cHMudXNlcnMudXBkYXRlXCI6W1widG9rZW5cIixcInVzZXJncm91cFwiLFwidXNlcnNcIl0sXCJ1c2Vycy5kZWxldGVQaG90b1wiOltcInRva2VuXCJdLFwidXNlcnMuZ2V0UHJlc2VuY2VcIjpbXCJ0b2tlblwiLFwidXNlclwiXSxcInVzZXJzLmlkZW50aXR5XCI6W1widG9rZW5cIl0sXCJ1c2Vycy5pbmZvXCI6W1widG9rZW5cIixcInVzZXJcIl0sXCJ1c2Vycy5saXN0XCI6W1widG9rZW5cIl0sXCJ1c2Vycy5zZXRBY3RpdmVcIjpbXCJ0b2tlblwiXSxcInVzZXJzLnNldFBob3RvXCI6W1widG9rZW5cIixcImltYWdlXCJdLFwidXNlcnMuc2V0UHJlc2VuY2VcIjpbXCJ0b2tlblwiLFwicHJlc2VuY2VcIl0sXCJ1c2Vycy5wcm9maWxlLmdldFwiOltcInRva2VuXCJdLFwidXNlcnMucHJvZmlsZS5zZXRcIjpbXCJ0b2tlblwiXX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9kZXYtcHJvdG9zdHVicy9zcmMvcHJvdG9zdHViL3NsYWNrL25vZGVfbW9kdWxlcy9zbGFjay9zcmMvYXBpLmpzb25cbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

eval("let validate = __webpack_require__(5)\nlet encode = encodeURIComponent\nlet serialize = o=> Object.keys(o).map(k=> encode(k) + '=' + encode(o[k])).join('&')\n\n/**\n * returns a promise if callback isn't defined; _exec is the actual impl\n */\nmodule.exports = function exec(url, params, callback) {\n  if (!callback) {\n    return new Promise(function(resolve, reject) {\n      _exec(url, params, function __exec(err, res) {\n        if (err) {\n          reject(err)\n        }\n        else { \n          resolve(res)\n        }\n      })\n    })\n  }\n  else {\n    _exec(url, params, callback)\n  }\n}\n\nasync function _exec(url, params, callback) {\n  try {\n    // validates the params against api.json\n    var err = validate(url, params)\n    if (err) throw err\n\n    // stringify any objects under keys since form \n    // is posted as application/x-www-form-urlencoded\n    Object.keys(params).forEach(function (key) {\n      if (typeof params[key] === 'object') {\n        params[key] = JSON.stringify(params[key])\n      }\n    })\n\n    var opts = {\n      method: 'POST', \n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }),\n      body: serialize(params)\n    }\n\n    var res = await fetch(`https://slack.com/api/${url}`, opts)\n    var json = await res.json()\n\n    if (json.error) {\n      callback(Error(json.error))\n    }\n    else {\n      callback(null, json)\n    }\n  }\n  catch(e) {\n    callback(e)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL19leGVjLWJyb3dzZXIuanM/ZDQzMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBLG1EQUFtRCxJQUFJO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCB2YWxpZGF0ZSA9IHJlcXVpcmUoJy4vX3ZhbGlkYXRlJylcbmxldCBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnRcbmxldCBzZXJpYWxpemUgPSBvPT4gT2JqZWN0LmtleXMobykubWFwKGs9PiBlbmNvZGUoaykgKyAnPScgKyBlbmNvZGUob1trXSkpLmpvaW4oJyYnKVxuXG4vKipcbiAqIHJldHVybnMgYSBwcm9taXNlIGlmIGNhbGxiYWNrIGlzbid0IGRlZmluZWQ7IF9leGVjIGlzIHRoZSBhY3R1YWwgaW1wbFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4ZWModXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gIGlmICghY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfZXhlYyh1cmwsIHBhcmFtcywgZnVuY3Rpb24gX19leGVjKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyBcbiAgICAgICAgICByZXNvbHZlKHJlcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIGVsc2Uge1xuICAgIF9leGVjKHVybCwgcGFyYW1zLCBjYWxsYmFjaylcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfZXhlYyh1cmwsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgdHJ5IHtcbiAgICAvLyB2YWxpZGF0ZXMgdGhlIHBhcmFtcyBhZ2FpbnN0IGFwaS5qc29uXG4gICAgdmFyIGVyciA9IHZhbGlkYXRlKHVybCwgcGFyYW1zKVxuICAgIGlmIChlcnIpIHRocm93IGVyclxuXG4gICAgLy8gc3RyaW5naWZ5IGFueSBvYmplY3RzIHVuZGVyIGtleXMgc2luY2UgZm9ybSBcbiAgICAvLyBpcyBwb3N0ZWQgYXMgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG4gICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHBhcmFtc1trZXldID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW2tleV0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHZhciBvcHRzID0ge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsIFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgIH0pLFxuICAgICAgYm9keTogc2VyaWFsaXplKHBhcmFtcylcbiAgICB9XG5cbiAgICB2YXIgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vc2xhY2suY29tL2FwaS8ke3VybH1gLCBvcHRzKVxuICAgIHZhciBqc29uID0gYXdhaXQgcmVzLmpzb24oKVxuXG4gICAgaWYgKGpzb24uZXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrKEVycm9yKGpzb24uZXJyb3IpKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pXG4gICAgfVxuICB9XG4gIGNhdGNoKGUpIHtcbiAgICBjYWxsYmFjayhlKVxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9kZXYtcHJvdG9zdHVicy9zcmMvcHJvdG9zdHViL3NsYWNrL25vZGVfbW9kdWxlcy9zbGFjay9zcmMvX2V4ZWMtYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = activate;\n\nvar _slack = __webpack_require__(4);\n\nvar _slack2 = _interopRequireDefault(_slack);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//import { Syncher, NotificationHandler } from 'service-framework/dist/Syncher';\n//import IdentityManager from 'service-framework/dist/IdentityManager';\n//import {ChatManager} from 'runtime-core/dist/ChatManager';\n//import MessageBodyIdentity from 'service-framework/dist/IdentityFactory';\n//import {ContextReporter} from 'service-framework/dist/ContextManager';\n\nvar SlackProtoStub = function () {\n  function SlackProtoStub(runtimeProtoStubURL, bus, config, factory) {\n    _classCallCheck(this, SlackProtoStub);\n\n    if (!runtimeProtoStubURL) throw new Error('The runtimeProtoStubURL is a needed parameter');\n    if (!bus) throw new Error('The bus is a needed parameter');\n    if (!config) throw new Error('The config is a needed parameter');\n\n    console.log('[SlackProtostub] Constructor Loaded');\n\n    var _this = this;\n    this._ws = null;\n    this._toSubscribePresence = [];\n    this._addedUsersInfo = [];\n    this._alreadyCreated = false;\n    this._slack = _slack2.default;\n    this._usersUpdated = false;\n    this._subscribedList = [];\n    this._messageHistoryControl = {};\n    this._usersList = [];\n    //this._groupsList = [];\n    this._channelsList = [];\n    //this._imsList = [];\n    //this._observer;\n    this._id = 0;\n    //this._continuousOpen = true;\n    this._token = '';\n    //this._chatController;\n    //this._chatControllersExtra = {};\n    //this._schemaURL;\n    this._dataObjectReporterURL;\n    this._factory = factory;\n    this._contextReportersInfo = {};\n    this._syncher = factory.createSyncher(runtimeProtoStubURL, bus, config);\n    this._chatManager = factory.createChatManager(runtimeProtoStubURL, bus, config, this._syncher);\n    this._contextReporter = factory.createContextReporter(runtimeProtoStubURL, bus, config, this._syncher);\n\n    this._myUrl = runtimeProtoStubURL;\n    this._bus = bus;\n    this._config = config;\n\n    this._runtimeSessionURL = config.runtimeURL;\n    this._reOpen = false;\n    this._chatManager.onInvitation(function (event) {\n      _this._onSlackInvitation(event);\n    });\n\n    this._notificationHandler = factory.createNotificationHandler(bus);\n\n    this._notificationHandler.onNotification('comm', function (event) {\n      _this._chatManager.processNotification(event);\n    });\n\n    bus.addListener('*', function (msg) {\n      //ignore msg sent by himself\n      if (msg.from !== runtimeProtoStubURL) {\n        console.log('[SlackProtostub] new msg ', msg);\n        switch (msg.type) {\n          case 'create':\n            _this._notificationHandler.onCreate(msg);break;\n          case 'delete':\n            _this._notificationHandler.onDelete(msg);break;\n        }\n      }\n    });\n\n    _this._sendStatus('created');\n  }\n\n  _createClass(SlackProtoStub, [{\n    key: '_filter',\n    value: function _filter(msg) {\n      if (msg.via === this._myUrl) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It Open a new Session using received token connect to a webSocket Url,\r\n    *  where handle all received messages on this socket\r\n    * @param {string} token - message with a new user added\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_open',\n    value: function _open(token, callback) {\n      var _this = this;\n\n      if (!_this._session) {\n        console.log('[SlackProtostub] creating Session for token:', token);\n        _this._sendStatus('in-progress');\n\n        _this._session = this._slack.rtm.connect({ token: token, batch_presence_aware: 1, presence_sub: true });\n        console.log('[SlackProtostub] session', _this._session);\n        _this._session.createdTime = new Date().getTime() / 1000;\n\n        _this._session.then(function (result) {\n          console.log('[SlackProtostub] Session result', result);\n          if (result.ok) {\n            _this._ws = new WebSocket(result.url);\n            console.log('[SlackProtostub] websocket', _this._ws);\n            console.log('[SlackProtostub] websocket url ', _this._ws.url);\n\n            _this._ws.onmessage = function (event) {\n              var msg = JSON.parse(event.data);\n              console.log('[SlackProtostub] new msg on webSocket', msg);\n\n              if (msg.type == 'message') {\n                _this._handleNewMessage(msg);\n              } else if (msg.type == 'presence_change') {\n                _this._handlePresenceChange(msg);\n              } else if (msg.type == 'member_joined_channel') {\n                _this._handleNewUser(msg);\n              }\n            };\n            _this._ws.onerror = function (error) {\n              console.log('[SlackProtostub] websocker Error', error);\n            };\n          }\n        });\n        _this._sendStatus('live');\n      } else {\n\n        console.log('[SlackProtostub] session already exist');\n      }\n      setTimeout(function () {\n        callback();\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It Resumes all reporters including contextreporters\r\n    * @param {string} reporterURL - message with a new user added\r\n    * @return {Promise<Object>} Returns a promise with a reporter DataObject\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_resumeReporter',\n    value: function _resumeReporter(reporterURL) {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        console.log('[SlackProtostub] resuming reporter of ', reporterURL);\n        _this._syncher.resumeReporters({ store: true, reporter: reporterURL }).then(function (reporters) {\n          var dataObjectReporter = void 0;\n          var reportersList = Object.keys(reporters);\n\n          console.log('[SlackProtostub] ', reporters, reportersList);\n          var i = 0;\n          reportersList.forEach(function (key) {\n            if (reporters[key]._name === reporterURL && key.startsWith('context://')) {\n              console.log('[SlackProtostub] reporter to return', reporters[key]);\n              return resolve(reporters[key]);\n            }\n          });\n          return resolve(false);\n        });\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It is called when a event ocurred related with a invitation of a slack User\r\n    * @param {Object} event - Object event\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_onSlackInvitation',\n    value: function _onSlackInvitation(event) {\n      var _this = this;\n\n      if (event.identity.hasOwnProperty('accessToken') && event.identity.accessToken) {\n\n        this._token = event.identity.accessToken;\n\n        _this._open(this._token, function () {\n          if (_this._filter(event)) {\n\n            console.log('[SlackProtostub] After Filter', event);\n\n            var schemaUrl = event.schema;\n            if (event.value.name) {\n\n              var schemaSplitted = schemaUrl.split('/');\n\n              if (schemaSplitted[schemaSplitted.length - 1] === 'Communication') {\n\n                _this._getSlackInformation(event.to, event.identity.input.user_id).then(function (infoReturned) {\n\n                  var userInfo = infoReturned.ownInfo;\n                  var toInvInfo = infoReturned.invInfo;\n                  console.log('Slack User information: ', infoReturned, event);\n\n                  // username, userURL, avatar, cn, locale, idp, assertion\n                  var identity = _this._factory.createMessageBodyIdentity(userInfo.name, 'slack://slack.com/' + userInfo.name + '@slack.com', userInfo.profile.image_192, userInfo.name, '', 'slack.com', undefined, userInfo.profile);\n\n                  var identityToInv = _this._factory.createMessageBodyIdentity(toInvInfo.name, 'slack://slack.com/' + toInvInfo.name + '@slack.com', toInvInfo.profile.image_192, toInvInfo.name, '', 'slack.com', undefined, toInvInfo.profile);\n\n                  event.ack(200);\n\n                  console.log('[SlackProtostub] subscribing object', event.url, identity);\n\n                  var neededInfoInvited = { id: toInvInfo.id, name: toInvInfo.name, userURL: identityToInv.userProfile.userURL, identity: identityToInv };\n                  var neededOwnInfo = { id: event.identity.input.user_id, userURL: identity.userProfile.userURL };\n\n                  if (!_this._alreadyCreated) {\n                    console.log('[SlackProtostub] Not Already created', event);\n                    _this._alreadyCreated = true;\n                    //_this._schemaURL = event.schema;\n                    _this._dataObjectReporterURL = event.url;\n\n                    var userToAdd = { user: 'slack://' + userInfo.name + '@slack.com', domain: 'slack.com', id: event.identity.input.user_id, userURL: 'slack://slack.com/' + userInfo.name + '@slack.com', identity: identity };\n                    _this._addedUsersInfo.push(userToAdd);\n\n                    _this._createNewContextReporter(identity.userProfile.userURL).then(function (creation) {\n                      //debugger;\n                      if (creation == true) {\n                        _this._chatManager.join(event.url, false, identity).then(function (chatController) {\n                          _this._prepareChat(chatController);\n                          var msgQuery = { \"type\": \"presence_sub\",\n                            \"ids\": _this._toSubscribePresence };\n                          console.log('[SlackProtostub] websocket sentmessage', _this._ws.readyState, msgQuery);\n                          _this._ws.send(JSON.stringify(msgQuery));\n                          //_this._createNewContextReporter(identity.userProfile.userURL);\n\n                          var subscription = {\n                            urlDataObj: event.url,\n                            schema: event.schema,\n                            subscribed: true,\n                            identity: identity,\n                            chat: chatController\n                          };\n\n                          _this._subscribedList.push(subscription);\n                          console.log('[SlackProtostub] subscribed list', _this._subscribedList);\n                          if (event.identity.input.user_id) {\n                            _this._id = event.identity.input.user_id;\n                          }\n\n                          //_this._channelStatusInfo(event, toInvInfo.id, event.url, toInvInfo.name, identityToInv.userProfile.userURL, event.url, identityToInv, identity.userProfile.userURL, event.identity.input.user_id);\n                          _this._channelStatusInfo(event, neededInfoInvited, neededOwnInfo);\n                        });\n                      }\n                    });\n                  } else {\n                    console.log('[SlackProtostub] Already created', event);\n                    console.log(_this._subscribedList.length);\n                    if (_this._subscribedList.length != 0) {\n                      _this._channelStatusInfo(event, neededInfoInvited, neededOwnInfo);\n                    } else {\n                      var testURL = event.to.split('//')[0] + '//slack.com/' + event.to.split('//')[1];\n                      _this._createNewContextReporter(testURL);\n                    }\n                  }\n                });\n              } else event.error('Invalid Scheme: ' + schemaSplitted[schemaSplitted.length - 1]);\n            } else event.error('Chat Name Missing');\n          }\n        });\n      } else event.error('Access Token Missing');\n    }\n\n    /*****************************************************************************************************\r\n    * It creates a new contextReporter with userURL\r\n    * @param {string} userURL - userURL of user to create a new ContextReporter\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_createNewContextReporter',\n    value: function _createNewContextReporter(userURL) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        _this._resumeReporter(userURL).then(function (reporterResumed) {\n\n          console.log('[SlackProtostub] TEST creating reporter for', userURL);\n          _this._addedUsersInfo.forEach(function (currentUser) {\n\n            if (currentUser.userURL == userURL) {\n              console.log('[SlackProtostub] TEST get presense for ', currentUser);\n              var toGetPresence = { token: _this._token, user: currentUser.id };\n\n              _this._slack.users.getPresence(toGetPresence, function (err, data) {\n\n                if (err) {\n                  console.error('[SlackProtostub] error', err);\n                  return resolve(false);\n                } else {\n                  console.log('[SlackProtostub] PRESENCE OF USER', currentUser, data);\n                  if (data.ok) {\n                    _this._toSubscribePresence.push(currentUser.id);\n                    console.log('[SlackProtostub] toSubscribeArray', _this._toSubscribePresence, 'intext', JSON.stringify(_this._toSubscribePresence));\n                    console.log('[SlackProtostub] resumed obj', reporterResumed);\n                    if (!reporterResumed) {\n                      var objPresence = _this._createNewObjPresence(data.presence);\n                      console.log('[SlackProtostub] creating a new contextReporter for invitedUSER ', objPresence, currentUser);\n                      //debugger;\n                      _this._contextReporter.create(currentUser.userURL, objPresence, ['availability_context'], currentUser.userURL, currentUser.userURL).then(function (context) {\n                        console.log('[SlackProtostub] CONTEXT RETURNED', context);\n                        context.onSubscription(function (event) {\n                          event.accept();\n                          console.log('[SlackProtostub] new subs', event);\n                        });\n                        _this._contextReportersInfo[currentUser.id] = context;\n                        return resolve(true);\n                      }).catch(function (err) {\n                        console.error('[SlackProtostub] err', err);\n                      });\n                    } else {\n                      console.log('[SlackProtostub] reporter for this userURL:', userURL, ' already exists ', reporterResumed);\n                      _this._contextReportersInfo[currentUser.id] = reporterResumed;\n                      return resolve(true);\n                    }\n\n                    console.log('[SlackProtostub] websocket readyState', _this._ws.readyState);\n                  } else {\n                    return resolve(false);\n                  }\n                }\n              });\n            }\n          });\n        }).catch(function (error) {\n          console.log('[SlackProtostub] error', error);\n          return resolve(false);\n        });\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It returns a dataobject with info of a slack User\r\n    * @param {string} info - status info of a slackUser\r\n    * @return {object} return a object related with info of a slackUser\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_createNewObjPresence',\n    value: function _createNewObjPresence(info) {\n      var _this = this;\n\n      return Object.assign({}, {\n        id: '_' + Math.random().toString(36).substr(2, 9), // do we need this?\n        values: [{\n          value: _this._getPresence(info),\n          name: 'availability',\n          type: 'availability_status',\n          unit: 'pres'\n        }]\n      });\n    }\n  }, {\n    key: '_getPresence',\n\n\n    /*****************************************************************************************************\r\n    * It returns a string with info related with presence of a user\r\n    * @param {string} info - status info of a slackUser\r\n    * @return {string} return info of presence of a slack user\r\n    *******************************************************************************************************/\n    value: function _getPresence(info) {\n      var status = void 0;\n\n      if (info === \"active\") {\n        return 'available';\n      } else {\n        return 'unavailable';\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It get some info about channels, users, and groups of slack using token and returns info\r\n    * of who invite and who was invited\r\n    * @param {string} to - status info of a slackUser\r\n    * @param {string} ownID - status info of a slackUser\r\n    * @return {object} return object with info of who invite and who was invited\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_getSlackInformation',\n    value: function _getSlackInformation(to, ownID) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n\n        var URLUsersList = 'https://slack.com/api/users.list?token=' + _this._token;\n        //let URLGroupsList = 'https://slack.com/api/groups.list?token=' + _this._token;\n        var URLChannelsList = 'https://slack.com/api/channels.list?token=' + _this._token;\n        //let URLImsList = 'https://slack.com/api/im.list?token=' + _this._token;\n\n        var UsersListPromise = _this._sendHTTPRequest('GET', URLUsersList);\n        //let GroupsListPromise = _this._sendHTTPRequest('GET', URLGroupsList);\n        var ChannelsListPromise = _this._sendHTTPRequest('GET', URLChannelsList);\n        //let ImsListPromise = _this._sendHTTPRequest('GET', URLImsList);\n\n        Promise.all([UsersListPromise, ChannelsListPromise]).then(function (result) {\n          //Promise.all([UsersListPromise, GroupsListPromise, ChannelsListPromise, ImsListPromise]).then(function(result) {\n          _this._usersList = result[0].members;\n          //_this._groupsList = result[1].groups;\n          _this._channelsList = result[1].channels;\n          //_this._imsList = result[2].ims;\n\n          //get userID to invite\n          var toSplitted = to.split('://')[1];\n          var user = toSplitted.split('@')[0];\n          var invInfo = _this._usersList.filter(function (value) {\n            return value.name === user;\n          })[0];\n          var ownInfo = _this._usersList.filter(function (value) {\n            return value.id === ownID;\n          })[0];\n          var infotoReturn = { invInfo: invInfo, ownInfo: ownInfo };\n\n          resolve(infotoReturn);\n        }, function (error) {\n          console.error('[SlackProtostub] ', error);\n          reject(error);\n        });\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It check if channelexist, if user is on channel and check which users need to be invited\r\n    * @param {string} msg - message related with event received\r\n    * @param {Object} neededInfoInvited - info about user to be invited\r\n    * @param {Object} neededOwnInfo - info about user own info\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_channelStatusInfo',\n    value: function _channelStatusInfo(msg, neededInfoInvited, neededOwnInfo) {\n      //_channelStatusInfo(msg, userID, channelObjUrl, userName, userURL, eventURL, identityToInv, ownUserURL, ownUserID) {\n      var _this = this;\n      var channelName = msg.value.name.split(' ').join('-').replace(/\\//gi, '-');\n      var channelExists = _this._channelsList.filter(function (value) {\n        return value.name === channelName;\n      })[0];\n      var channelMembers = null;\n      // if channel exist, invite user, else channel need to be created and then invite user\n      if (channelExists) {\n        console.log('[SlackProtostub] channel exist', channelExists);\n        channelMembers = _this._channelsList.filter(function (value) {\n          return value.name === channelName;\n        })[0].members;\n\n        var alreadyOnChannel = false;\n\n        channelMembers.forEach(function (s) {\n          if (s === neededInfoInvited.id) {\n            alreadyOnChannel = true;\n          }\n        });\n        console.log('[SlackProtostub] channel members', channelMembers, '   ->', alreadyOnChannel);\n\n        var count = 0;\n        var key = 0;\n        _this._subscribedList.forEach(function (obj) {\n          if (obj.urlDataObj === msg.url) {\n            key = count;\n          }\n          count++;\n        });\n        console.log('[SlackProtostub] channels', _this._subscribedList, _this._subscribedList.length, key);\n        _this._subscribedList[key].channelID = channelExists.id;\n        //debugger;\n        // if user isnt on Channel invite, else just set channelID\n        if (!alreadyOnChannel) {\n          _this._invite(neededInfoInvited.id, channelExists.id);\n        }\n      } else {\n        _this._createChannel(channelName, msg.url).then(function (result) {\n          console.log('[SlackProtostub]  after create channel ', result);\n          if (result) {\n            _this._invite(neededInfoInvited.id, '', msg.url);\n          }\n        });\n      }\n      if (!_this._usersUpdated) {\n        _this._addAllUsersToHyperty(channelMembers, neededInfoInvited, neededOwnInfo);\n        //_this._addAllUsersToHyperty(channelMembers,userID, userURL, eventURL, userName, identityToInv, ownUserURL, ownUserID);\n      } else {\n        console.log('[SlackProtostub] users Already Updated');\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It add all users to dataobject and  create contextReporters for each one\r\n    * @param {Object[]} channelMembers - List of channel Members\r\n    * @param {Object} neededInfoInvited - info about user to be invited\r\n    * @param {Object} neededOwnInfo - info about user own info\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_addAllUsersToHyperty',\n    value: function _addAllUsersToHyperty(channelMembers, neededInfoInvited, neededOwnInfo) {\n      //_addAllUsersToHyperty(channelMembers, userID, userURL, eventURL, userName, identityToInv, ownUserURL, ownUserID) {\n      var _this = this;\n      _this._usersUpdated = true;\n      var usersInfo = {};\n      var toADD = [];\n      var userToAdd = void 0;\n      console.log('[SlackProtostub] lets check if users needs to be added');\n      if (channelMembers) {\n        _this._usersList.forEach(function (currentUser) {\n          channelMembers.forEach(function (s) {\n            //console.log('[SlackProtostub] currentUser', currentUser);\n            if (s === currentUser.id) {\n\n              if (neededInfoInvited.id != currentUser.id && neededOwnInfo.id != currentUser.id) {\n                console.log('[SlackProtostub] to add ', currentUser.id);\n                var identity = _this._factory.createMessageBodyIdentity(currentUser.name, 'slack://slack.com/' + currentUser.name + '@slack.com', currentUser.profile.image_192, currentUser.name, '', 'slack.com', undefined, currentUser.profile);\n\n                userToAdd = { user: 'slack://' + currentUser.name + '@slack.com', domain: 'slack.com', id: currentUser.id, userURL: 'slack://slack.com/' + currentUser.name + '@slack.com', identity: identity };\n                _this._addedUsersInfo.push(userToAdd);\n\n                toADD.push(userToAdd);\n              }\n            }\n          });\n        });\n      }\n\n      userToAdd = { user: 'slack://' + neededInfoInvited.name + '@slack.com', domain: 'slack.com', id: neededInfoInvited.id, userURL: 'slack://slack.com/' + neededInfoInvited.name + '@slack.com', identity: neededInfoInvited.identity };\n      _this._addedUsersInfo.push(userToAdd);\n      toADD.push(userToAdd);\n\n      toADD.forEach(function (user) {\n        console.log('[SlackProtostub] TEST joining with user', user);\n        if (user.userURL !== neededOwnInfo.userURL) {\n          _this._createNewContextReporter(user.userURL).then(function (creation) {\n            //debugger;\n            if (creation == true) {\n              _this._chatManager.join(_this._dataObjectReporterURL, false, user.identity).then(function (result) {\n                console.log('[SlackProtostub] chatmanager JOIN', result, user.userURL, neededOwnInfo.userURL);\n                _this._prepareChat(result);\n                // if (user.userURL !== neededOwnInfo.userURL) {\n                //   _this._createNewContextReporter(user.userURL);\n                // }\n                var msgQuery = { \"type\": \"presence_sub\",\n                  \"ids\": _this._toSubscribePresence };\n                console.log('[SlackProtostub] websocket sentmessage', _this._ws.readyState, msgQuery);\n                _this._ws.send(JSON.stringify(msgQuery));\n              }).catch(function (error) {\n                console.log('[SlackProtostub] chatmanager JOIN error', error);\n              });\n            }\n          });\n        } else {\n          //TODO pode faltar aqui o chatmanager join\n        }\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It handle a new user added to a Slack channel, and add him to DataObject.participants\r\n    * @param {Object} message - message with a new user added\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_handleNewUser',\n    value: function _handleNewUser(message) {\n      console.log('[SlackProtostub] Handling a new user', message);\n      var _this = this;\n      var subcribed = void 0;\n      _this._subscribedList.forEach(function (obj) {\n        if (obj.channelID === message.channel) {\n          subcribed = obj;\n        }\n      });\n      if (subcribed) {\n        var invInfo = _this._usersList.filter(function (value) {\n          return value.id === message.user;\n        })[0];\n\n        var identity = _this._factory.createMessageBodyIdentity(invInfo.name, 'slack://slack.com/' + invInfo.name + '@slack.com', invInfo.profile.image_192, invInfo.name, '', 'slack.com', undefined, invInfo.profile);\n\n        var userToAdd = { user: 'slack://' + invInfo.name + '@slack.com', domain: 'slack.com', id: message.user, userURL: 'slack://slack.com/' + invInfo.name + '@slack.com', identity: identity };\n        _this._addedUsersInfo.push(userToAdd);\n        console.log('[SlackProtostub] Joining chat', subcribed.urlDataObj, ' with', identity);\n        _this._createNewContextReporter(identity.userProfile.userURL).then(function (creation) {\n          //debugger;\n          if (creation == true) {\n            _this._chatManager.join(subcribed.urlDataObj, false, identity).then(function (result) {\n              _this._prepareChat(result);\n              var msgQuery = { \"type\": \"presence_sub\",\n                \"ids\": _this._toSubscribePresence };\n              console.log('[SlackProtostub] websocket sentmessage', _this._ws.readyState, msgQuery);\n              _this._ws.send(JSON.stringify(msgQuery));\n              //_this._createNewContextReporter(identity.userProfile.userURL);\n            });\n          }\n        });\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It handle a new Presence change of Slack user, and change his status\r\n    * @param {Object} message - message with info about user and his status\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_handlePresenceChange',\n    value: function _handlePresenceChange(message) {\n      var _this = this;\n      console.log('[SlackProtostub] updating presence of user');\n      if (_this._contextReportersInfo[message.user]) {\n        var reporter = _this._contextReportersInfo[message.user];\n        reporter.data.values[0].value = _this._getPresence(message.presence);\n        console.log('[SlackProtostub] presence of user', message.user, ' updated to', reporter.data);\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It handle a new message received on channel, and send it to hyperty\r\n    * @param {Object} message - message with info about channel and text to send\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_handleNewMessage',\n    value: function _handleNewMessage(message) {\n      console.log('[SlackProtostub] Handling a new message', message);\n      var _this = this;\n      var channelID = '';\n      var chat = void 0;\n      _this._subscribedList.forEach(function (obj) {\n        if (obj.channelID === message.channel) {\n          channelID = obj.channelID;\n          chat = obj.chat;\n        }\n      });\n      console.log('[SlackProtostub] subscribed list', _this._subscribedList);\n      if (message.channel && message.ts > _this._session.createdTime) {\n        if (message.channel === channelID && message.user !== _this._id || !message.hasOwnProperty('bot_id') && message.user === _this._id && message.channel === channelID) {\n\n          _this._getUserInfo(message.user).then(function (identity) {\n            console.log('[SlackProtostub] msg to addChild', message.text, '     identity:', identity);\n            chat.send(message.text, identity);\n          });\n        }\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It retrieves information from a slack user and creates a reTHINK Identity object with it\r\n    * @param {string} user - slack user id\r\n    * @return {Promise<Object>} Returns a promise with an Identity object resolved\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_getUserInfo',\n    value: function _getUserInfo(user) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this._slack.users.info({ token: _this._token, user: user }, function (err, data) {\n          if (err) {\n            console.error('[SlackProtostub] error', err);\n          } else {\n\n            console.log('[SlackProtostub getUserInfo] ', data);\n            var identity = _this._factory.createMessageBodyIdentity(data.user.name, 'slack://slack.com/' + data.user.name + '@slack.com', data.user.profile.image_192, data.user.name, '', 'slack.com');\n\n            resolve(identity);\n          }\n        });\n      });\n    }\n  }, {\n    key: '_prepareChat',\n    value: function _prepareChat(chat) {\n      var _this = this;\n      console.log('[SlackProtostub] chat', chat);\n      chat.onMessage(function (msg) {\n        console.info('[SlackProtostub] onMessage: ', msg);\n        console.info('[SlackProtostub] Observer - Message History Control ', _this._messageHistoryControl);\n\n        //check if for each msg message has been delivered, and control that for when we have more than one slack user subscribed\n        var currentID = chat.child_cseq;\n        // check if this child already sent messages\n        var channelObjUrl = chat._dataObjectObserver.url;\n        var channelID = void 0;\n\n        _this._subscribedList.forEach(function (obj) {\n          if (obj.urlDataObj === channelObjUrl) {\n            channelID = obj.channelID;\n          }\n        });\n\n        if (_this._messageHistoryControl.hasOwnProperty(channelObjUrl)) {\n\n          // in that case check if the currentID its equal to oldID\n          var oldID = _this._messageHistoryControl[channelObjUrl].id;\n          if (oldID !== currentID) {\n            _this._messageHistoryControl[channelObjUrl].id = currentID;\n            _this._deliver(msg, channelID);\n          }\n        } else {\n          _this._messageHistoryControl[channelObjUrl] = { id: currentID };\n          _this._deliver(msg, channelID);\n        }\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It retrieves information from a slack user and creates a reTHINK Identity object with it\r\n    * @param {string} idUser - slack user ID to be invited\r\n    * @param {string} idChannel - channelID for user will be invited\r\n    * @param {string} channelObjUrl - DataObjectURL from where user is invited\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_invite',\n    value: function _invite(idUser) {\n      var idChannel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var channelObjUrl = arguments[2];\n\n      var _this = this;\n\n      if (idChannel == '') {\n        _this._subscribedList.forEach(function (obj) {\n          if (obj.urlDataObj === channelObjUrl) {\n            idChannel = obj.channelID;\n          }\n        });\n      }\n\n      var toInvite = { token: _this._token, channel: idChannel, user: idUser };\n\n      _this._slack.channels.invite(toInvite, function (err, data) {\n        if (err) {\n          console.error('[SlackProtostub] error', err);\n        } else {\n\n          console.log('[SlackProtostub] user invited with sucess', data);\n        }\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It deliver a message to a slack channel\r\n    * @param {Object} msg - Message Object\r\n    * @param {String} channelID - channelID to deliver message\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_deliver',\n    value: function _deliver(msg, channelID) {\n      var _this = this;\n\n      console.log('[SlackProtostub] Msg to Deliver: ', msg, ' on channel:', channelID);\n      if (channelID && msg.value) {\n\n        if (msg.hasOwnProperty('identity') && msg.identity.hasOwnProperty('userProfile') && msg.identity.userProfile.hasOwnProperty('name') && msg.identity.userProfile.name) {\n\n          var text = '' + msg.identity.userProfile.name + ': ' + msg.value.content;\n          var message = { as_user: true, token: _this._token, channel: channelID, text: text };\n          console.log('[SlackProtostub] (PostMessage slack api) token(', _this._token, ')  channel(', channelID, ') text(', msg.value.content, ')');\n\n          // call Slack postMessage method to deliver msg on slack channel\n          _this._slack.chat.postMessage(message, function (err, data) {\n            if (err) {\n              if (err.message == 'not_in_channel') {\n                console.error('[SlackProtostub] Channel exist, but user is not on channel', err);\n                var channelToJoin = _this._channelsList.filter(function (value) {\n                  return value.id === channelID;\n                })[0];\n                var objToJoin = { token: _this._token, name: channelToJoin.name };\n\n                _this._slack.channels.join(objToJoin);\n                _this._deliver(msg, channelID);\n              } else {\n                console.error('[SlackProtostub] error', err);\n              }\n            } else {\n              console.log('[SlackProtostub] PostMessage with Sucess', data);\n            }\n          });\n        }\n      }\n    }\n\n    /*****************************************************************************************************\r\n    * It create a new slackChannel using channelName\r\n    * @param {String} channelName - name to be used to create a new channel\r\n    * @param {String} channelObjUrl - Dataobject URL of a channel to be used to associate this channel to this dataobject\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_createChannel',\n    value: function _createChannel(channelName, channelObjUrl) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        var toCreate = { token: _this._token, name: channelName };\n        console.log('[SlackProtostub] Creating a new channel toCreate:', toCreate, '  channelObjUrl:', channelObjUrl);\n        _this._slack.channels.create(toCreate, function (err, data) {\n          if (err) {\n            console.error('[SlackProtostub] ', err);\n          } else {\n            if (data.ok) {\n              console.log('[SlackProtostub] Channel Created with Sucess ', data);\n              console.log('[SlackProtostub] Associate a new channel ID', data.channel.id, 'to urlDataObj', channelObjUrl);\n\n              var count = 0;\n              var key = 0;\n              //Associate a channel to comm dataObject\n              _this._subscribedList.forEach(function (obj) {\n                if (obj.urlDataObj === channelObjUrl) {\n                  key = count;\n                }\n                count++;\n              });\n              _this._subscribedList[key].channelID = data.channel.id;\n              console.log('[SlackProtostub] subscribed list', _this._subscribedList);\n              resolve(true);\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: '_sendHTTPRequest',\n    value: function _sendHTTPRequest(method, url) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        if ('withCredentials' in xhr) {\n          xhr.open(method, url, true);\n        } else if (typeof XDomainRequest !== 'undefined') {\n          // Otherwise, check if XDomainRequest.\n          // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n          xhr = new XDomainRequest();\n          xhr.open(method, url);\n        } else {\n          // Otherwise, CORS is not supported by the browser.\n          xhr = null;\n        }\n        if (xhr) {\n          xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n              if (xhr.status === 200) {\n                var info = JSON.parse(xhr.responseText);\n                resolve(info);\n              } else if (xhr.status === 400) {\n                reject('There was an error processing the token');\n              } else {\n                reject('something else other than 200 was returned');\n              }\n            }\n          };\n          xhr.send();\n        } else {\n          reject('CORS not supported');\n        }\n      });\n    }\n\n    /*****************************************************************************************************\r\n    * It Updates the state of ProtoStub\r\n    * @param {String} value - status of protostub to be updated\r\n    * @param {String} reason - reason of this update, optional\r\n    *******************************************************************************************************/\n\n  }, {\n    key: '_sendStatus',\n    value: function _sendStatus(value, reason) {\n      var _this = this;\n\n      console.log('[SlackProtostub status changed] to ', value);\n\n      _this._state = value;\n\n      var msg = {\n        type: 'update',\n        from: _this._myUrl,\n        to: _this._myUrl + '/status',\n        body: {\n          value: value\n        }\n      };\n\n      if (reason) {\n        msg.body.desc = reason;\n      }\n      _this._bus.postMessage(msg);\n    }\n  }, {\n    key: 'config',\n    get: function get() {\n      return this._config;\n    }\n  }, {\n    key: 'runtimeSession',\n    get: function get() {\n      return this._runtimeSessionURL;\n    }\n  }]);\n\n  return SlackProtoStub;\n}();\n\nfunction activate(url, bus, config, factory) {\n  return {\n    name: 'SlackProtoStub',\n    instance: new SlackProtoStub(url, bus, config, factory)\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi8uLi9kZXYtcHJvdG9zdHVicy9zcmMvcHJvdG9zdHViL3NsYWNrL1NsYWNrUHJvdG9TdHViLnBzLmpzP2I3MGYiXSwibmFtZXMiOlsiYWN0aXZhdGUiLCJTbGFja1Byb3RvU3R1YiIsInJ1bnRpbWVQcm90b1N0dWJVUkwiLCJidXMiLCJjb25maWciLCJmYWN0b3J5IiwiRXJyb3IiLCJjb25zb2xlIiwibG9nIiwiX3RoaXMiLCJfd3MiLCJfdG9TdWJzY3JpYmVQcmVzZW5jZSIsIl9hZGRlZFVzZXJzSW5mbyIsIl9hbHJlYWR5Q3JlYXRlZCIsIl9zbGFjayIsInNsYWNrIiwiX3VzZXJzVXBkYXRlZCIsIl9zdWJzY3JpYmVkTGlzdCIsIl9tZXNzYWdlSGlzdG9yeUNvbnRyb2wiLCJfdXNlcnNMaXN0IiwiX2NoYW5uZWxzTGlzdCIsIl9pZCIsIl90b2tlbiIsIl9kYXRhT2JqZWN0UmVwb3J0ZXJVUkwiLCJfZmFjdG9yeSIsIl9jb250ZXh0UmVwb3J0ZXJzSW5mbyIsIl9zeW5jaGVyIiwiY3JlYXRlU3luY2hlciIsIl9jaGF0TWFuYWdlciIsImNyZWF0ZUNoYXRNYW5hZ2VyIiwiX2NvbnRleHRSZXBvcnRlciIsImNyZWF0ZUNvbnRleHRSZXBvcnRlciIsIl9teVVybCIsIl9idXMiLCJfY29uZmlnIiwiX3J1bnRpbWVTZXNzaW9uVVJMIiwicnVudGltZVVSTCIsIl9yZU9wZW4iLCJvbkludml0YXRpb24iLCJldmVudCIsIl9vblNsYWNrSW52aXRhdGlvbiIsIl9ub3RpZmljYXRpb25IYW5kbGVyIiwiY3JlYXRlTm90aWZpY2F0aW9uSGFuZGxlciIsIm9uTm90aWZpY2F0aW9uIiwicHJvY2Vzc05vdGlmaWNhdGlvbiIsImFkZExpc3RlbmVyIiwibXNnIiwiZnJvbSIsInR5cGUiLCJvbkNyZWF0ZSIsIm9uRGVsZXRlIiwiX3NlbmRTdGF0dXMiLCJ2aWEiLCJ0b2tlbiIsImNhbGxiYWNrIiwiX3Nlc3Npb24iLCJydG0iLCJjb25uZWN0IiwiYmF0Y2hfcHJlc2VuY2VfYXdhcmUiLCJwcmVzZW5jZV9zdWIiLCJjcmVhdGVkVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwidGhlbiIsInJlc3VsdCIsIm9rIiwiV2ViU29ja2V0IiwidXJsIiwib25tZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsIl9oYW5kbGVOZXdNZXNzYWdlIiwiX2hhbmRsZVByZXNlbmNlQ2hhbmdlIiwiX2hhbmRsZU5ld1VzZXIiLCJvbmVycm9yIiwiZXJyb3IiLCJzZXRUaW1lb3V0IiwicmVwb3J0ZXJVUkwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VtZVJlcG9ydGVycyIsInN0b3JlIiwicmVwb3J0ZXIiLCJyZXBvcnRlcnMiLCJkYXRhT2JqZWN0UmVwb3J0ZXIiLCJyZXBvcnRlcnNMaXN0IiwiT2JqZWN0Iiwia2V5cyIsImkiLCJmb3JFYWNoIiwia2V5IiwiX25hbWUiLCJzdGFydHNXaXRoIiwiaWRlbnRpdHkiLCJoYXNPd25Qcm9wZXJ0eSIsImFjY2Vzc1Rva2VuIiwiX29wZW4iLCJfZmlsdGVyIiwic2NoZW1hVXJsIiwic2NoZW1hIiwidmFsdWUiLCJuYW1lIiwic2NoZW1hU3BsaXR0ZWQiLCJzcGxpdCIsImxlbmd0aCIsIl9nZXRTbGFja0luZm9ybWF0aW9uIiwidG8iLCJpbnB1dCIsInVzZXJfaWQiLCJpbmZvUmV0dXJuZWQiLCJ1c2VySW5mbyIsIm93bkluZm8iLCJ0b0ludkluZm8iLCJpbnZJbmZvIiwiY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eSIsInByb2ZpbGUiLCJpbWFnZV8xOTIiLCJ1bmRlZmluZWQiLCJpZGVudGl0eVRvSW52IiwiYWNrIiwibmVlZGVkSW5mb0ludml0ZWQiLCJpZCIsInVzZXJVUkwiLCJ1c2VyUHJvZmlsZSIsIm5lZWRlZE93bkluZm8iLCJ1c2VyVG9BZGQiLCJ1c2VyIiwiZG9tYWluIiwicHVzaCIsIl9jcmVhdGVOZXdDb250ZXh0UmVwb3J0ZXIiLCJjcmVhdGlvbiIsImpvaW4iLCJjaGF0Q29udHJvbGxlciIsIl9wcmVwYXJlQ2hhdCIsIm1zZ1F1ZXJ5IiwicmVhZHlTdGF0ZSIsInNlbmQiLCJzdHJpbmdpZnkiLCJzdWJzY3JpcHRpb24iLCJ1cmxEYXRhT2JqIiwic3Vic2NyaWJlZCIsImNoYXQiLCJfY2hhbm5lbFN0YXR1c0luZm8iLCJ0ZXN0VVJMIiwiX3Jlc3VtZVJlcG9ydGVyIiwicmVwb3J0ZXJSZXN1bWVkIiwiY3VycmVudFVzZXIiLCJ0b0dldFByZXNlbmNlIiwidXNlcnMiLCJnZXRQcmVzZW5jZSIsImVyciIsIm9ialByZXNlbmNlIiwiX2NyZWF0ZU5ld09ialByZXNlbmNlIiwicHJlc2VuY2UiLCJjcmVhdGUiLCJjb250ZXh0Iiwib25TdWJzY3JpcHRpb24iLCJhY2NlcHQiLCJjYXRjaCIsImluZm8iLCJhc3NpZ24iLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ2YWx1ZXMiLCJfZ2V0UHJlc2VuY2UiLCJ1bml0Iiwic3RhdHVzIiwib3duSUQiLCJVUkxVc2Vyc0xpc3QiLCJVUkxDaGFubmVsc0xpc3QiLCJVc2Vyc0xpc3RQcm9taXNlIiwiX3NlbmRIVFRQUmVxdWVzdCIsIkNoYW5uZWxzTGlzdFByb21pc2UiLCJhbGwiLCJtZW1iZXJzIiwiY2hhbm5lbHMiLCJ0b1NwbGl0dGVkIiwiZmlsdGVyIiwiaW5mb3RvUmV0dXJuIiwiY2hhbm5lbE5hbWUiLCJyZXBsYWNlIiwiY2hhbm5lbEV4aXN0cyIsImNoYW5uZWxNZW1iZXJzIiwiYWxyZWFkeU9uQ2hhbm5lbCIsInMiLCJjb3VudCIsIm9iaiIsImNoYW5uZWxJRCIsIl9pbnZpdGUiLCJfY3JlYXRlQ2hhbm5lbCIsIl9hZGRBbGxVc2Vyc1RvSHlwZXJ0eSIsInVzZXJzSW5mbyIsInRvQUREIiwibWVzc2FnZSIsInN1YmNyaWJlZCIsImNoYW5uZWwiLCJ0cyIsIl9nZXRVc2VySW5mbyIsInRleHQiLCJvbk1lc3NhZ2UiLCJjdXJyZW50SUQiLCJjaGlsZF9jc2VxIiwiY2hhbm5lbE9ialVybCIsIl9kYXRhT2JqZWN0T2JzZXJ2ZXIiLCJvbGRJRCIsIl9kZWxpdmVyIiwiaWRVc2VyIiwiaWRDaGFubmVsIiwidG9JbnZpdGUiLCJpbnZpdGUiLCJjb250ZW50IiwiYXNfdXNlciIsInBvc3RNZXNzYWdlIiwiY2hhbm5lbFRvSm9pbiIsIm9ialRvSm9pbiIsInRvQ3JlYXRlIiwibWV0aG9kIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiWERvbWFpblJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZXNwb25zZVRleHQiLCJyZWFzb24iLCJfc3RhdGUiLCJib2R5IiwiZGVzYyIsImluc3RhbmNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztrQkFrM0J3QkEsUTs7QUFsM0J4Qjs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztJQUVNQyxjO0FBRUosMEJBQVlDLG1CQUFaLEVBQWlDQyxHQUFqQyxFQUFzQ0MsTUFBdEMsRUFBOENDLE9BQTlDLEVBQXVEO0FBQUE7O0FBRXJELFFBQUksQ0FBQ0gsbUJBQUwsRUFBMEIsTUFBTSxJQUFJSSxLQUFKLENBQVUsK0NBQVYsQ0FBTjtBQUMxQixRQUFJLENBQUNILEdBQUwsRUFBVSxNQUFNLElBQUlHLEtBQUosQ0FBVSwrQkFBVixDQUFOO0FBQ1YsUUFBSSxDQUFDRixNQUFMLEVBQWEsTUFBTSxJQUFJRSxLQUFKLENBQVUsa0NBQVYsQ0FBTjs7QUFFYkMsWUFBUUMsR0FBUixDQUFZLHFDQUFaOztBQUVBLFFBQUlDLFFBQVEsSUFBWjtBQUNBLFNBQUtDLEdBQUwsR0FBVyxJQUFYO0FBQ0EsU0FBS0Msb0JBQUwsR0FBNEIsRUFBNUI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEVBQXZCO0FBQ0EsU0FBS0MsZUFBTCxHQUF1QixLQUF2QjtBQUNBLFNBQUtDLE1BQUwsR0FBY0MsZUFBZDtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsS0FBckI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEVBQXZCO0FBQ0EsU0FBS0Msc0JBQUwsR0FBOEIsRUFBOUI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FB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O2dDQUtZcUIsSyxFQUFPNkgsTSxFQUFRO0FBQ3pCLFVBQUkxTixRQUFRLElBQVo7O0FBRUFGLGNBQVFDLEdBQVIsQ0FBWSxxQ0FBWixFQUFtRDhGLEtBQW5EOztBQUVBN0YsWUFBTTJOLE1BQU4sR0FBZTlILEtBQWY7O0FBRUEsVUFBSXhELE1BQU07QUFDUkUsY0FBTSxRQURFO0FBRVJELGNBQU10QyxNQUFNdUIsTUFGSjtBQUdSNEUsWUFBSW5HLE1BQU11QixNQUFOLEdBQWUsU0FIWDtBQUlScU0sY0FBTTtBQUNKL0gsaUJBQU9BO0FBREg7QUFKRSxPQUFWOztBQVNBLFVBQUk2SCxNQUFKLEVBQVk7QUFDVnJMLFlBQUl1TCxJQUFKLENBQVNDLElBQVQsR0FBZ0JILE1BQWhCO0FBQ0Q7QUFDRDFOLFlBQU13QixJQUFOLENBQVd1TCxXQUFYLENBQXdCMUssR0FBeEI7QUFDRDs7O3dCQW55Qlk7QUFBRSxhQUFPLEtBQUtaLE9BQVo7QUFBc0I7Ozt3QkFFaEI7QUFBRSxhQUFPLEtBQUtDLGtCQUFaO0FBQWlDOzs7Ozs7QUFxeUIzQyxTQUFTbkMsUUFBVCxDQUFrQm1FLEdBQWxCLEVBQXVCaEUsR0FBdkIsRUFBNEJDLE1BQTVCLEVBQW9DQyxPQUFwQyxFQUE2QztBQUMxRCxTQUFPO0FBQ0xrRyxVQUFNLGdCQUREO0FBRUxnSSxjQUFVLElBQUl0TyxjQUFKLENBQW1Ca0UsR0FBbkIsRUFBd0JoRSxHQUF4QixFQUE2QkMsTUFBN0IsRUFBcUNDLE9BQXJDO0FBRkwsR0FBUDtBQUlEIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2xhY2sgZnJvbSAnc2xhY2snO1xyXG4vL2ltcG9ydCB7IFN5bmNoZXIsIE5vdGlmaWNhdGlvbkhhbmRsZXIgfSBmcm9tICdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1N5bmNoZXInO1xyXG4vL2ltcG9ydCBJZGVudGl0eU1hbmFnZXIgZnJvbSAnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9JZGVudGl0eU1hbmFnZXInO1xyXG4vL2ltcG9ydCB7Q2hhdE1hbmFnZXJ9IGZyb20gJ3J1bnRpbWUtY29yZS9kaXN0L0NoYXRNYW5hZ2VyJztcclxuLy9pbXBvcnQgTWVzc2FnZUJvZHlJZGVudGl0eSBmcm9tICdzZXJ2aWNlLWZyYW1ld29yay9kaXN0L0lkZW50aXR5RmFjdG9yeSc7XHJcbi8vaW1wb3J0IHtDb250ZXh0UmVwb3J0ZXJ9IGZyb20gJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvQ29udGV4dE1hbmFnZXInO1xyXG5cclxuY2xhc3MgU2xhY2tQcm90b1N0dWIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZywgZmFjdG9yeSkge1xyXG5cclxuICAgIGlmICghcnVudGltZVByb3RvU3R1YlVSTCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgcnVudGltZVByb3RvU3R1YlVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXInKTtcclxuICAgIGlmICghYnVzKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBidXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7XHJcbiAgICBpZiAoIWNvbmZpZykgdGhyb3cgbmV3IEVycm9yKCdUaGUgY29uZmlnIGlzIGEgbmVlZGVkIHBhcmFtZXRlcicpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIENvbnN0cnVjdG9yIExvYWRlZCcpO1xyXG5cclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLl93cyA9IG51bGw7XHJcbiAgICB0aGlzLl90b1N1YnNjcmliZVByZXNlbmNlID0gW107XHJcbiAgICB0aGlzLl9hZGRlZFVzZXJzSW5mbyA9IFtdO1xyXG4gICAgdGhpcy5fYWxyZWFkeUNyZWF0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3NsYWNrID0gc2xhY2s7XHJcbiAgICB0aGlzLl91c2Vyc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3N1YnNjcmliZWRMaXN0ID0gW107XHJcbiAgICB0aGlzLl9tZXNzYWdlSGlzdG9yeUNvbnRyb2wgPSB7fTtcclxuICAgIHRoaXMuX3VzZXJzTGlzdCA9IFtdO1xyXG4gICAgLy90aGlzLl9ncm91cHNMaXN0ID0gW107XHJcbiAgICB0aGlzLl9jaGFubmVsc0xpc3QgPSBbXTtcclxuICAgIC8vdGhpcy5faW1zTGlzdCA9IFtdO1xyXG4gICAgLy90aGlzLl9vYnNlcnZlcjtcclxuICAgIHRoaXMuX2lkID0gMDtcclxuICAgIC8vdGhpcy5fY29udGludW91c09wZW4gPSB0cnVlO1xyXG4gICAgdGhpcy5fdG9rZW4gPSAnJztcclxuICAgIC8vdGhpcy5fY2hhdENvbnRyb2xsZXI7XHJcbiAgICAvL3RoaXMuX2NoYXRDb250cm9sbGVyc0V4dHJhID0ge307XHJcbiAgICAvL3RoaXMuX3NjaGVtYVVSTDtcclxuICAgIHRoaXMuX2RhdGFPYmplY3RSZXBvcnRlclVSTDtcclxuICAgIHRoaXMuX2ZhY3RvcnkgPSBmYWN0b3J5O1xyXG4gICAgdGhpcy5fY29udGV4dFJlcG9ydGVyc0luZm8gPSB7fTtcclxuICAgIHRoaXMuX3N5bmNoZXIgPSBmYWN0b3J5LmNyZWF0ZVN5bmNoZXIocnVudGltZVByb3RvU3R1YlVSTCwgYnVzLCBjb25maWcpO1xyXG4gICAgdGhpcy5fY2hhdE1hbmFnZXIgPSBmYWN0b3J5LmNyZWF0ZUNoYXRNYW5hZ2VyKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnLCB0aGlzLl9zeW5jaGVyKTtcclxuICAgIHRoaXMuX2NvbnRleHRSZXBvcnRlciA9IGZhY3RvcnkuY3JlYXRlQ29udGV4dFJlcG9ydGVyKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnLCB0aGlzLl9zeW5jaGVyKTtcclxuXHJcbiAgICB0aGlzLl9teVVybCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7XHJcbiAgICB0aGlzLl9idXMgPSBidXM7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcblxyXG4gICAgdGhpcy5fcnVudGltZVNlc3Npb25VUkwgPSBjb25maWcucnVudGltZVVSTDtcclxuICAgIHRoaXMuX3JlT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5fY2hhdE1hbmFnZXIub25JbnZpdGF0aW9uKChldmVudCkgPT4ge1xyXG4gICAgICBfdGhpcy5fb25TbGFja0ludml0YXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlciA9IGZhY3RvcnkuY3JlYXRlTm90aWZpY2F0aW9uSGFuZGxlcihidXMpO1xyXG5cclxuICAgIHRoaXMuX25vdGlmaWNhdGlvbkhhbmRsZXIub25Ob3RpZmljYXRpb24oJ2NvbW0nLCAoZXZlbnQpID0+IHtcclxuICAgICAgX3RoaXMuX2NoYXRNYW5hZ2VyLnByb2Nlc3NOb3RpZmljYXRpb24oZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnVzLmFkZExpc3RlbmVyKCcqJywgKG1zZykgPT4ge1xyXG4gICAgICAvL2lnbm9yZSBtc2cgc2VudCBieSBoaW1zZWxmXHJcbiAgICAgIGlmIChtc2cuZnJvbSAhPT0gcnVudGltZVByb3RvU3R1YlVSTCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIG5ldyBtc2cgJywgbXNnKTtcclxuICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdjcmVhdGUnOiBfdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlci5vbkNyZWF0ZShtc2cpOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6IF90aGlzLl9ub3RpZmljYXRpb25IYW5kbGVyLm9uRGVsZXRlKG1zZyk7IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgX3RoaXMuX3NlbmRTdGF0dXMoJ2NyZWF0ZWQnKTtcclxuXHJcbiAgfVxyXG5cclxuICBnZXQgY29uZmlnKCkgeyByZXR1cm4gdGhpcy5fY29uZmlnOyB9XHJcblxyXG4gIGdldCBydW50aW1lU2Vzc2lvbigpIHsgcmV0dXJuIHRoaXMuX3J1bnRpbWVTZXNzaW9uVVJMOyB9XHJcblxyXG4gIF9maWx0ZXIobXNnKSB7XHJcbiAgICBpZiAobXNnLnZpYSA9PT0gdGhpcy5fbXlVcmwpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAqIEl0IE9wZW4gYSBuZXcgU2Vzc2lvbiB1c2luZyByZWNlaXZlZCB0b2tlbiBjb25uZWN0IHRvIGEgd2ViU29ja2V0IFVybCxcclxuICAqICB3aGVyZSBoYW5kbGUgYWxsIHJlY2VpdmVkIG1lc3NhZ2VzIG9uIHRoaXMgc29ja2V0XHJcbiAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBtZXNzYWdlIHdpdGggYSBuZXcgdXNlciBhZGRlZFxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX29wZW4odG9rZW4sIGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmICghX3RoaXMuX3Nlc3Npb24pIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gY3JlYXRpbmcgU2Vzc2lvbiBmb3IgdG9rZW46JywgdG9rZW4pO1xyXG4gICAgICBfdGhpcy5fc2VuZFN0YXR1cygnaW4tcHJvZ3Jlc3MnKTtcclxuXHJcbiAgICAgIF90aGlzLl9zZXNzaW9uID0gdGhpcy5fc2xhY2sucnRtLmNvbm5lY3Qoe3Rva2VuOiB0b2tlbiwgYmF0Y2hfcHJlc2VuY2VfYXdhcmU6IDEsIHByZXNlbmNlX3N1YjogdHJ1ZX0pO1xyXG4gICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBzZXNzaW9uJywgX3RoaXMuX3Nlc3Npb24pO1xyXG4gICAgICBfdGhpcy5fc2Vzc2lvbi5jcmVhdGVkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcclxuXHJcbiAgICAgIF90aGlzLl9zZXNzaW9uLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gU2Vzc2lvbiByZXN1bHQnLCByZXN1bHQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQub2spIHtcclxuICAgICAgICAgIF90aGlzLl93cyA9IG5ldyBXZWJTb2NrZXQocmVzdWx0LnVybCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSB3ZWJzb2NrZXQnLCBfdGhpcy5fd3MpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gd2Vic29ja2V0IHVybCAnLCBfdGhpcy5fd3MudXJsKTtcclxuXHJcblxyXG4gICAgICAgICAgX3RoaXMuX3dzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBsZXQgbXNnID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gbmV3IG1zZyBvbiB3ZWJTb2NrZXQnLCBtc2cpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1zZy50eXBlID09ICdtZXNzYWdlJykge1xyXG4gICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVOZXdNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobXNnLnR5cGUgPT0gJ3ByZXNlbmNlX2NoYW5nZScpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUHJlc2VuY2VDaGFuZ2UobXNnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtc2cudHlwZSA9PSAnbWVtYmVyX2pvaW5lZF9jaGFubmVsJykge1xyXG4gICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVOZXdVc2VyKG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBfdGhpcy5fd3Mub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gd2Vic29ja2VyIEVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIF90aGlzLl9zZW5kU3RhdHVzKCdsaXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gc2Vzc2lvbiBhbHJlYWR5IGV4aXN0Jyk7XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtjYWxsYmFjaygpO30pO1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBSZXN1bWVzIGFsbCByZXBvcnRlcnMgaW5jbHVkaW5nIGNvbnRleHRyZXBvcnRlcnNcclxuICAqIEBwYXJhbSB7c3RyaW5nfSByZXBvcnRlclVSTCAtIG1lc3NhZ2Ugd2l0aCBhIG5ldyB1c2VyIGFkZGVkXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSByZXBvcnRlciBEYXRhT2JqZWN0XHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBfcmVzdW1lUmVwb3J0ZXIocmVwb3J0ZXJVUkwpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3QpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gcmVzdW1pbmcgcmVwb3J0ZXIgb2YgJywgcmVwb3J0ZXJVUkwpO1xyXG4gICAgICBfdGhpcy5fc3luY2hlci5yZXN1bWVSZXBvcnRlcnMoe3N0b3JlOiB0cnVlLCByZXBvcnRlcjogcmVwb3J0ZXJVUkx9KS50aGVuKChyZXBvcnRlcnMpID0+IHtcclxuICAgICAgICBsZXQgZGF0YU9iamVjdFJlcG9ydGVyO1xyXG4gICAgICAgIGxldCByZXBvcnRlcnNMaXN0ID0gT2JqZWN0LmtleXMocmVwb3J0ZXJzKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gJywgcmVwb3J0ZXJzLCByZXBvcnRlcnNMaXN0KTtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgcmVwb3J0ZXJzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgaWYocmVwb3J0ZXJzW2tleV0uX25hbWUgPT09IHJlcG9ydGVyVVJMICYmIGtleS5zdGFydHNXaXRoKCdjb250ZXh0Oi8vJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gcmVwb3J0ZXIgdG8gcmV0dXJuJywgcmVwb3J0ZXJzW2tleV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXBvcnRlcnNba2V5XSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBpcyBjYWxsZWQgd2hlbiBhIGV2ZW50IG9jdXJyZWQgcmVsYXRlZCB3aXRoIGEgaW52aXRhdGlvbiBvZiBhIHNsYWNrIFVzZXJcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIE9iamVjdCBldmVudFxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX29uU2xhY2tJbnZpdGF0aW9uKGV2ZW50KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChldmVudC5pZGVudGl0eS5oYXNPd25Qcm9wZXJ0eSgnYWNjZXNzVG9rZW4nKSAmJiBldmVudC5pZGVudGl0eS5hY2Nlc3NUb2tlbikge1xyXG5cclxuICAgICAgdGhpcy5fdG9rZW4gPSBldmVudC5pZGVudGl0eS5hY2Nlc3NUb2tlbjtcclxuXHJcbiAgICAgIF90aGlzLl9vcGVuKHRoaXMuX3Rva2VuLCAoKT0+IHtcclxuICAgICAgICBpZiAoX3RoaXMuX2ZpbHRlcihldmVudCkpIHtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBBZnRlciBGaWx0ZXInLCBldmVudCk7XHJcblxyXG4gICAgICAgICAgbGV0IHNjaGVtYVVybCA9IGV2ZW50LnNjaGVtYTtcclxuICAgICAgICAgIGlmIChldmVudC52YWx1ZS5uYW1lKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2NoZW1hU3BsaXR0ZWQgPSAgc2NoZW1hVXJsLnNwbGl0KCcvJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2NoZW1hU3BsaXR0ZWRbc2NoZW1hU3BsaXR0ZWQubGVuZ3RoIC0gMV0gPT09ICdDb21tdW5pY2F0aW9uJykge1xyXG5cclxuICAgICAgICAgICAgICBfdGhpcy5fZ2V0U2xhY2tJbmZvcm1hdGlvbihldmVudC50bywgZXZlbnQuaWRlbnRpdHkuaW5wdXQudXNlcl9pZCkudGhlbigoaW5mb1JldHVybmVkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJJbmZvID0gaW5mb1JldHVybmVkLm93bkluZm87XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9JbnZJbmZvID0gaW5mb1JldHVybmVkLmludkluZm87XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2xhY2sgVXNlciBpbmZvcm1hdGlvbjogJywgaW5mb1JldHVybmVkLCBldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdXNlcm5hbWUsIHVzZXJVUkwsIGF2YXRhciwgY24sIGxvY2FsZSwgaWRwLCBhc3NlcnRpb25cclxuICAgICAgICAgICAgICAgIGxldCBpZGVudGl0eSA9IF90aGlzLl9mYWN0b3J5LmNyZWF0ZU1lc3NhZ2VCb2R5SWRlbnRpdHkoXHJcbiAgICAgICAgICAgICAgICAgIHVzZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICdzbGFjazovL3NsYWNrLmNvbS8nICsgdXNlckluZm8ubmFtZSArICdAc2xhY2suY29tJyxcclxuICAgICAgICAgICAgICAgICAgdXNlckluZm8ucHJvZmlsZS5pbWFnZV8xOTIsXHJcbiAgICAgICAgICAgICAgICAgIHVzZXJJbmZvLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICcnLCAnc2xhY2suY29tJywgdW5kZWZpbmVkLCB1c2VySW5mby5wcm9maWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaWRlbnRpdHlUb0ludiA9IF90aGlzLl9mYWN0b3J5LmNyZWF0ZU1lc3NhZ2VCb2R5SWRlbnRpdHkoXHJcbiAgICAgICAgICAgICAgICAgIHRvSW52SW5mby5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAnc2xhY2s6Ly9zbGFjay5jb20vJyArIHRvSW52SW5mby5uYW1lICsgJ0BzbGFjay5jb20nLFxyXG4gICAgICAgICAgICAgICAgICB0b0ludkluZm8ucHJvZmlsZS5pbWFnZV8xOTIsXHJcbiAgICAgICAgICAgICAgICAgIHRvSW52SW5mby5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAnJywgJ3NsYWNrLmNvbScsIHVuZGVmaW5lZCwgdG9JbnZJbmZvLnByb2ZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgZXZlbnQuYWNrKDIwMCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gc3Vic2NyaWJpbmcgb2JqZWN0JywgZXZlbnQudXJsLCBpZGVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBsZXQgbmVlZGVkSW5mb0ludml0ZWQgPSB7IGlkOiB0b0ludkluZm8uaWQsIG5hbWU6IHRvSW52SW5mby5uYW1lLCB1c2VyVVJMOiBpZGVudGl0eVRvSW52LnVzZXJQcm9maWxlLnVzZXJVUkwsIGlkZW50aXR5OiBpZGVudGl0eVRvSW52fVxyXG4gICAgICAgICAgICAgICAgICBsZXQgbmVlZGVkT3duSW5mbyA9IHsgaWQ6IGV2ZW50LmlkZW50aXR5LmlucHV0LnVzZXJfaWQsIHVzZXJVUkw6IGlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkx9XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoISBfdGhpcy5fYWxyZWFkeUNyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBOb3QgQWxyZWFkeSBjcmVhdGVkJywgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9hbHJlYWR5Q3JlYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9fdGhpcy5fc2NoZW1hVVJMID0gZXZlbnQuc2NoZW1hO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXJVUkwgPSBldmVudC51cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VyVG9BZGQgPSB7IHVzZXIgOiAnc2xhY2s6Ly8nK3VzZXJJbmZvLm5hbWUrJ0BzbGFjay5jb20nLCBkb21haW46ICdzbGFjay5jb20nLCBpZDogZXZlbnQuaWRlbnRpdHkuaW5wdXQudXNlcl9pZCwgdXNlclVSTDogJ3NsYWNrOi8vc2xhY2suY29tLycrdXNlckluZm8ubmFtZSsnQHNsYWNrLmNvbScsIGlkZW50aXR5OiBpZGVudGl0eX07XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FkZGVkVXNlcnNJbmZvLnB1c2godXNlclRvQWRkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NyZWF0ZU5ld0NvbnRleHRSZXBvcnRlcihpZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMKS50aGVuKGZ1bmN0aW9uKGNyZWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0aW9uID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NoYXRNYW5hZ2VyLmpvaW4oZXZlbnQudXJsLCBmYWxzZSwgaWRlbnRpdHkpLnRoZW4oKGNoYXRDb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ByZXBhcmVDaGF0KGNoYXRDb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbXNnUXVlcnkgPSB7IFwidHlwZVwiOiBcInByZXNlbmNlX3N1YlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRzXCI6IF90aGlzLl90b1N1YnNjcmliZVByZXNlbmNlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gd2Vic29ja2V0IHNlbnRtZXNzYWdlJywgX3RoaXMuX3dzLnJlYWR5U3RhdGUsIG1zZ1F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fd3Muc2VuZChKU09OLnN0cmluZ2lmeShtc2dRdWVyeSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vX3RoaXMuX2NyZWF0ZU5ld0NvbnRleHRSZXBvcnRlcihpZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybERhdGFPYmo6IGV2ZW50LnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYTogZXZlbnQuc2NoZW1hLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5OiBpZGVudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQ6IGNoYXRDb250cm9sbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LnB1c2goc3Vic2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBzdWJzY3JpYmVkIGxpc3QnLCBfdGhpcy5fc3Vic2NyaWJlZExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5pZGVudGl0eS5pbnB1dC51c2VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faWQgPSBldmVudC5pZGVudGl0eS5pbnB1dC51c2VyX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL190aGlzLl9jaGFubmVsU3RhdHVzSW5mbyhldmVudCwgdG9JbnZJbmZvLmlkLCBldmVudC51cmwsIHRvSW52SW5mby5uYW1lLCBpZGVudGl0eVRvSW52LnVzZXJQcm9maWxlLnVzZXJVUkwsIGV2ZW50LnVybCwgaWRlbnRpdHlUb0ludiwgaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCwgZXZlbnQuaWRlbnRpdHkuaW5wdXQudXNlcl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NoYW5uZWxTdGF0dXNJbmZvKGV2ZW50LCBuZWVkZWRJbmZvSW52aXRlZCwgbmVlZGVkT3duSW5mbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gQWxyZWFkeSBjcmVhdGVkJywgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLl9zdWJzY3JpYmVkTGlzdC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggX3RoaXMuX3N1YnNjcmliZWRMaXN0Lmxlbmd0aCAhPSAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NoYW5uZWxTdGF0dXNJbmZvKGV2ZW50LCBuZWVkZWRJbmZvSW52aXRlZCwgbmVlZGVkT3duSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXN0VVJMID0gZXZlbnQudG8uc3BsaXQoJy8vJylbMF0gKyAnLy9zbGFjay5jb20vJyArIGV2ZW50LnRvLnNwbGl0KCcvLycpWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY3JlYXRlTmV3Q29udGV4dFJlcG9ydGVyKHRlc3RVUkwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGV2ZW50LmVycm9yKCdJbnZhbGlkIFNjaGVtZTogJyArIHNjaGVtYVNwbGl0dGVkW3NjaGVtYVNwbGl0dGVkLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgIH0gZWxzZSBldmVudC5lcnJvcignQ2hhdCBOYW1lIE1pc3NpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGV2ZW50LmVycm9yKCdBY2Nlc3MgVG9rZW4gTWlzc2luZycpO1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBjcmVhdGVzIGEgbmV3IGNvbnRleHRSZXBvcnRlciB3aXRoIHVzZXJVUkxcclxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyVVJMIC0gdXNlclVSTCBvZiB1c2VyIHRvIGNyZWF0ZSBhIG5ldyBDb250ZXh0UmVwb3J0ZXJcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9jcmVhdGVOZXdDb250ZXh0UmVwb3J0ZXIodXNlclVSTCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBfdGhpcy5fcmVzdW1lUmVwb3J0ZXIodXNlclVSTCkudGhlbihmdW5jdGlvbihyZXBvcnRlclJlc3VtZWQpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gVEVTVCBjcmVhdGluZyByZXBvcnRlciBmb3InLCB1c2VyVVJMKTtcclxuICAgICAgICBfdGhpcy5fYWRkZWRVc2Vyc0luZm8uZm9yRWFjaChmdW5jdGlvbihjdXJyZW50VXNlcikge1xyXG5cclxuICAgICAgICAgIGlmKGN1cnJlbnRVc2VyLnVzZXJVUkwgPT0gdXNlclVSTCApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gVEVTVCBnZXQgcHJlc2Vuc2UgZm9yICcsIGN1cnJlbnRVc2VyKTtcclxuICAgICAgICAgICAgbGV0IHRvR2V0UHJlc2VuY2UgPSB7IHRva2VuOiBfdGhpcy5fdG9rZW4sIHVzZXI6IGN1cnJlbnRVc2VyLmlkIH07XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5fc2xhY2sudXNlcnMuZ2V0UHJlc2VuY2UodG9HZXRQcmVzZW5jZSwgKGVyciwgZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdIGVycm9yJywgZXJyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gUFJFU0VOQ0UgT0YgVVNFUicsIGN1cnJlbnRVc2VyLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgIF90aGlzLl90b1N1YnNjcmliZVByZXNlbmNlLnB1c2goY3VycmVudFVzZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSB0b1N1YnNjcmliZUFycmF5JywgX3RoaXMuX3RvU3Vic2NyaWJlUHJlc2VuY2UsICdpbnRleHQnLCBKU09OLnN0cmluZ2lmeShfdGhpcy5fdG9TdWJzY3JpYmVQcmVzZW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSByZXN1bWVkIG9iaicsIHJlcG9ydGVyUmVzdW1lZCk7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghcmVwb3J0ZXJSZXN1bWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9ialByZXNlbmNlID0gX3RoaXMuX2NyZWF0ZU5ld09ialByZXNlbmNlKGRhdGEucHJlc2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIGNyZWF0aW5nIGEgbmV3IGNvbnRleHRSZXBvcnRlciBmb3IgaW52aXRlZFVTRVIgJywgb2JqUHJlc2VuY2UsIGN1cnJlbnRVc2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9jb250ZXh0UmVwb3J0ZXIuY3JlYXRlKGN1cnJlbnRVc2VyLnVzZXJVUkwsIG9ialByZXNlbmNlLCBbJ2F2YWlsYWJpbGl0eV9jb250ZXh0J10sIGN1cnJlbnRVc2VyLnVzZXJVUkwsIGN1cnJlbnRVc2VyLnVzZXJVUkwpLnRoZW4oZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gQ09OVEVYVCBSRVRVUk5FRCcsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5hY2NlcHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gbmV3IHN1YnMnLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9jb250ZXh0UmVwb3J0ZXJzSW5mb1tjdXJyZW50VXNlci5pZF0gPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdIGVycicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gcmVwb3J0ZXIgZm9yIHRoaXMgdXNlclVSTDonLCB1c2VyVVJMLCAnIGFscmVhZHkgZXhpc3RzICcsIHJlcG9ydGVyUmVzdW1lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NvbnRleHRSZXBvcnRlcnNJbmZvW2N1cnJlbnRVc2VyLmlkXSA9IHJlcG9ydGVyUmVzdW1lZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gd2Vic29ja2V0IHJlYWR5U3RhdGUnLCBfdGhpcy5fd3MucmVhZHlTdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLmNhdGNoKCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogSXQgcmV0dXJucyBhIGRhdGFvYmplY3Qgd2l0aCBpbmZvIG9mIGEgc2xhY2sgVXNlclxyXG4gICogQHBhcmFtIHtzdHJpbmd9IGluZm8gLSBzdGF0dXMgaW5mbyBvZiBhIHNsYWNrVXNlclxyXG4gICogQHJldHVybiB7b2JqZWN0fSByZXR1cm4gYSBvYmplY3QgcmVsYXRlZCB3aXRoIGluZm8gb2YgYSBzbGFja1VzZXJcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9jcmVhdGVOZXdPYmpQcmVzZW5jZShpbmZvKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7XHJcbiAgICAgICAgaWQ6ICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KSwvLyBkbyB3ZSBuZWVkIHRoaXM/XHJcbiAgICAgICAgdmFsdWVzOiBbe1xyXG4gICAgICAgICAgICB2YWx1ZTogX3RoaXMuX2dldFByZXNlbmNlKGluZm8pLFxyXG4gICAgICAgICAgICBuYW1lOiAnYXZhaWxhYmlsaXR5JyxcclxuICAgICAgICAgICAgdHlwZTogJ2F2YWlsYWJpbGl0eV9zdGF0dXMnLFxyXG4gICAgICAgICAgICB1bml0OiAncHJlcydcclxuICAgICAgICB9XVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCByZXR1cm5zIGEgc3RyaW5nIHdpdGggaW5mbyByZWxhdGVkIHdpdGggcHJlc2VuY2Ugb2YgYSB1c2VyXHJcbiAgKiBAcGFyYW0ge3N0cmluZ30gaW5mbyAtIHN0YXR1cyBpbmZvIG9mIGEgc2xhY2tVc2VyXHJcbiAgKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybiBpbmZvIG9mIHByZXNlbmNlIG9mIGEgc2xhY2sgdXNlclxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX2dldFByZXNlbmNlKGluZm8pIHtcclxuICAgIGxldCBzdGF0dXM7XHJcblxyXG4gICAgaWYgKGluZm8gPT09IFwiYWN0aXZlXCIpIHtcclxuICAgICAgcmV0dXJuICdhdmFpbGFibGUnO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAndW5hdmFpbGFibGUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBnZXQgc29tZSBpbmZvIGFib3V0IGNoYW5uZWxzLCB1c2VycywgYW5kIGdyb3VwcyBvZiBzbGFjayB1c2luZyB0b2tlbiBhbmQgcmV0dXJucyBpbmZvXHJcbiAgKiBvZiB3aG8gaW52aXRlIGFuZCB3aG8gd2FzIGludml0ZWRcclxuICAqIEBwYXJhbSB7c3RyaW5nfSB0byAtIHN0YXR1cyBpbmZvIG9mIGEgc2xhY2tVc2VyXHJcbiAgKiBAcGFyYW0ge3N0cmluZ30gb3duSUQgLSBzdGF0dXMgaW5mbyBvZiBhIHNsYWNrVXNlclxyXG4gICogQHJldHVybiB7b2JqZWN0fSByZXR1cm4gb2JqZWN0IHdpdGggaW5mbyBvZiB3aG8gaW52aXRlIGFuZCB3aG8gd2FzIGludml0ZWRcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9nZXRTbGFja0luZm9ybWF0aW9uKHRvLCBvd25JRCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgbGV0IFVSTFVzZXJzTGlzdCA9ICdodHRwczovL3NsYWNrLmNvbS9hcGkvdXNlcnMubGlzdD90b2tlbj0nICsgX3RoaXMuX3Rva2VuO1xyXG4gICAgICAvL2xldCBVUkxHcm91cHNMaXN0ID0gJ2h0dHBzOi8vc2xhY2suY29tL2FwaS9ncm91cHMubGlzdD90b2tlbj0nICsgX3RoaXMuX3Rva2VuO1xyXG4gICAgICBsZXQgVVJMQ2hhbm5lbHNMaXN0ID0gJ2h0dHBzOi8vc2xhY2suY29tL2FwaS9jaGFubmVscy5saXN0P3Rva2VuPScgKyBfdGhpcy5fdG9rZW47XHJcbiAgICAgIC8vbGV0IFVSTEltc0xpc3QgPSAnaHR0cHM6Ly9zbGFjay5jb20vYXBpL2ltLmxpc3Q/dG9rZW49JyArIF90aGlzLl90b2tlbjtcclxuXHJcbiAgICAgIGxldCBVc2Vyc0xpc3RQcm9taXNlID0gX3RoaXMuX3NlbmRIVFRQUmVxdWVzdCgnR0VUJywgVVJMVXNlcnNMaXN0KTtcclxuICAgICAgLy9sZXQgR3JvdXBzTGlzdFByb21pc2UgPSBfdGhpcy5fc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBVUkxHcm91cHNMaXN0KTtcclxuICAgICAgbGV0IENoYW5uZWxzTGlzdFByb21pc2UgPSBfdGhpcy5fc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBVUkxDaGFubmVsc0xpc3QpO1xyXG4gICAgICAvL2xldCBJbXNMaXN0UHJvbWlzZSA9IF90aGlzLl9zZW5kSFRUUFJlcXVlc3QoJ0dFVCcsIFVSTEltc0xpc3QpO1xyXG5cclxuICAgICAgUHJvbWlzZS5hbGwoW1VzZXJzTGlzdFByb21pc2UsIENoYW5uZWxzTGlzdFByb21pc2VdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAvL1Byb21pc2UuYWxsKFtVc2Vyc0xpc3RQcm9taXNlLCBHcm91cHNMaXN0UHJvbWlzZSwgQ2hhbm5lbHNMaXN0UHJvbWlzZSwgSW1zTGlzdFByb21pc2VdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgIF90aGlzLl91c2Vyc0xpc3QgPSByZXN1bHRbMF0ubWVtYmVycztcclxuICAgICAgICAvL190aGlzLl9ncm91cHNMaXN0ID0gcmVzdWx0WzFdLmdyb3VwcztcclxuICAgICAgICBfdGhpcy5fY2hhbm5lbHNMaXN0ID0gcmVzdWx0WzFdLmNoYW5uZWxzO1xyXG4gICAgICAgIC8vX3RoaXMuX2ltc0xpc3QgPSByZXN1bHRbMl0uaW1zO1xyXG5cclxuICAgICAgICAvL2dldCB1c2VySUQgdG8gaW52aXRlXHJcbiAgICAgICAgbGV0IHRvU3BsaXR0ZWQgPSB0by5zcGxpdCgnOi8vJylbMV07XHJcbiAgICAgICAgbGV0IHVzZXIgPSB0b1NwbGl0dGVkLnNwbGl0KCdAJylbMF07XHJcbiAgICAgICAgbGV0IGludkluZm8gPSBfdGhpcy5fdXNlcnNMaXN0LmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLm5hbWUgPT09IHVzZXI7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICAgICAgbGV0IG93bkluZm8gPSBfdGhpcy5fdXNlcnNMaXN0LmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmlkID09PSBvd25JRDtcclxuICAgICAgICB9KVswXTtcclxuICAgICAgICBsZXQgaW5mb3RvUmV0dXJuID0ge2ludkluZm86IGludkluZm8sIG93bkluZm86b3duSW5mb31cclxuXHJcbiAgICAgICAgcmVzb2x2ZShpbmZvdG9SZXR1cm4pO1xyXG5cclxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdICcsIGVycm9yKTtcclxuICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBjaGVjayBpZiBjaGFubmVsZXhpc3QsIGlmIHVzZXIgaXMgb24gY2hhbm5lbCBhbmQgY2hlY2sgd2hpY2ggdXNlcnMgbmVlZCB0byBiZSBpbnZpdGVkXHJcbiAgKiBAcGFyYW0ge3N0cmluZ30gbXNnIC0gbWVzc2FnZSByZWxhdGVkIHdpdGggZXZlbnQgcmVjZWl2ZWRcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBuZWVkZWRJbmZvSW52aXRlZCAtIGluZm8gYWJvdXQgdXNlciB0byBiZSBpbnZpdGVkXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGVkT3duSW5mbyAtIGluZm8gYWJvdXQgdXNlciBvd24gaW5mb1xyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX2NoYW5uZWxTdGF0dXNJbmZvKG1zZywgbmVlZGVkSW5mb0ludml0ZWQsIG5lZWRlZE93bkluZm8pIHtcclxuICAgIC8vX2NoYW5uZWxTdGF0dXNJbmZvKG1zZywgdXNlcklELCBjaGFubmVsT2JqVXJsLCB1c2VyTmFtZSwgdXNlclVSTCwgZXZlbnRVUkwsIGlkZW50aXR5VG9JbnYsIG93blVzZXJVUkwsIG93blVzZXJJRCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBjaGFubmVsTmFtZSA9IG1zZy52YWx1ZS5uYW1lLnNwbGl0KCcgJykuam9pbignLScpLnJlcGxhY2UoL1xcLy9naSwgJy0nKTtcclxuICAgIGxldCBjaGFubmVsRXhpc3RzID0gX3RoaXMuX2NoYW5uZWxzTGlzdC5maWx0ZXIoZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlLm5hbWUgPT09IGNoYW5uZWxOYW1lOyB9KVswXTtcclxuICAgIGxldCBjaGFubmVsTWVtYmVycyA9IG51bGw7XHJcbiAgICAvLyBpZiBjaGFubmVsIGV4aXN0LCBpbnZpdGUgdXNlciwgZWxzZSBjaGFubmVsIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgdGhlbiBpbnZpdGUgdXNlclxyXG4gICAgaWYgKGNoYW5uZWxFeGlzdHMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gY2hhbm5lbCBleGlzdCcsIGNoYW5uZWxFeGlzdHMpO1xyXG4gICAgICBjaGFubmVsTWVtYmVycyA9IF90aGlzLl9jaGFubmVsc0xpc3QuZmlsdGVyKGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZS5uYW1lID09PSBjaGFubmVsTmFtZTsgfSlbMF0ubWVtYmVycztcclxuXHJcbiAgICAgIGxldCBhbHJlYWR5T25DaGFubmVsID0gZmFsc2U7XHJcblxyXG4gICAgICBjaGFubmVsTWVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKHMpIHtcclxuICAgICAgICBpZiAocyA9PT0gbmVlZGVkSW5mb0ludml0ZWQuaWQpIHtcclxuICAgICAgICAgIGFscmVhZHlPbkNoYW5uZWwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIGNoYW5uZWwgbWVtYmVycycsIGNoYW5uZWxNZW1iZXJzLCAnICAgLT4nLCBhbHJlYWR5T25DaGFubmVsKTtcclxuXHJcblxyXG4gICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICBsZXQga2V5ID0gMDtcclxuICAgICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai51cmxEYXRhT2JqID09PSBtc2cudXJsICkge1xyXG4gICAgICAgICAga2V5ID0gY291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBjaGFubmVscycsIF90aGlzLl9zdWJzY3JpYmVkTGlzdCwgX3RoaXMuX3N1YnNjcmliZWRMaXN0Lmxlbmd0aCwga2V5KTtcclxuICAgICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0W2tleV0uY2hhbm5lbElEID0gY2hhbm5lbEV4aXN0cy5pZDtcclxuICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgLy8gaWYgdXNlciBpc250IG9uIENoYW5uZWwgaW52aXRlLCBlbHNlIGp1c3Qgc2V0IGNoYW5uZWxJRFxyXG4gICAgICBpZiAoIWFscmVhZHlPbkNoYW5uZWwpIHtcclxuICAgICAgICBfdGhpcy5faW52aXRlKG5lZWRlZEluZm9JbnZpdGVkLmlkLCBjaGFubmVsRXhpc3RzLmlkKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF90aGlzLl9jcmVhdGVDaGFubmVsKGNoYW5uZWxOYW1lLCBtc2cudXJsKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdICBhZnRlciBjcmVhdGUgY2hhbm5lbCAnLCByZXN1bHQgKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBfdGhpcy5faW52aXRlKG5lZWRlZEluZm9JbnZpdGVkLmlkLCcnLG1zZy51cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgICBpZiAoISBfdGhpcy5fdXNlcnNVcGRhdGVkKSB7XHJcbiAgICAgIF90aGlzLl9hZGRBbGxVc2Vyc1RvSHlwZXJ0eShjaGFubmVsTWVtYmVycywgbmVlZGVkSW5mb0ludml0ZWQsIG5lZWRlZE93bkluZm8pO1xyXG4gICAgICAvL190aGlzLl9hZGRBbGxVc2Vyc1RvSHlwZXJ0eShjaGFubmVsTWVtYmVycyx1c2VySUQsIHVzZXJVUkwsIGV2ZW50VVJMLCB1c2VyTmFtZSwgaWRlbnRpdHlUb0ludiwgb3duVXNlclVSTCwgb3duVXNlcklEKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIHVzZXJzIEFscmVhZHkgVXBkYXRlZCcpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogSXQgYWRkIGFsbCB1c2VycyB0byBkYXRhb2JqZWN0IGFuZCAgY3JlYXRlIGNvbnRleHRSZXBvcnRlcnMgZm9yIGVhY2ggb25lXHJcbiAgKiBAcGFyYW0ge09iamVjdFtdfSBjaGFubmVsTWVtYmVycyAtIExpc3Qgb2YgY2hhbm5lbCBNZW1iZXJzXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbmVlZGVkSW5mb0ludml0ZWQgLSBpbmZvIGFib3V0IHVzZXIgdG8gYmUgaW52aXRlZFxyXG4gICogQHBhcmFtIHtPYmplY3R9IG5lZWRlZE93bkluZm8gLSBpbmZvIGFib3V0IHVzZXIgb3duIGluZm9cclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9hZGRBbGxVc2Vyc1RvSHlwZXJ0eShjaGFubmVsTWVtYmVycywgbmVlZGVkSW5mb0ludml0ZWQsIG5lZWRlZE93bkluZm8pIHtcclxuICAgIC8vX2FkZEFsbFVzZXJzVG9IeXBlcnR5KGNoYW5uZWxNZW1iZXJzLCB1c2VySUQsIHVzZXJVUkwsIGV2ZW50VVJMLCB1c2VyTmFtZSwgaWRlbnRpdHlUb0ludiwgb3duVXNlclVSTCwgb3duVXNlcklEKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgX3RoaXMuX3VzZXJzVXBkYXRlZCA9IHRydWU7XHJcbiAgICBsZXQgdXNlcnNJbmZvID0ge307XHJcbiAgICBsZXQgdG9BREQgPSBbXTtcclxuICAgIGxldCB1c2VyVG9BZGQ7XHJcbiAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBsZXRzIGNoZWNrIGlmIHVzZXJzIG5lZWRzIHRvIGJlIGFkZGVkJyk7XHJcbiAgICBpZiAoY2hhbm5lbE1lbWJlcnMpIHtcclxuICAgICAgX3RoaXMuX3VzZXJzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgY2hhbm5lbE1lbWJlcnMuZm9yRWFjaChmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIGN1cnJlbnRVc2VyJywgY3VycmVudFVzZXIpO1xyXG4gICAgICAgICAgaWYgKHMgPT09IGN1cnJlbnRVc2VyLmlkKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobmVlZGVkSW5mb0ludml0ZWQuaWQgIT0gY3VycmVudFVzZXIuaWQgJiYgbmVlZGVkT3duSW5mby5pZCAhPSBjdXJyZW50VXNlci5pZCkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIHRvIGFkZCAnLCBjdXJyZW50VXNlci5pZCk7XHJcbiAgICAgICAgICAgICAgbGV0IGlkZW50aXR5ID0gX3RoaXMuX2ZhY3RvcnkuY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eShcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAnc2xhY2s6Ly9zbGFjay5jb20vJyArIGN1cnJlbnRVc2VyLm5hbWUgKyAnQHNsYWNrLmNvbScsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5wcm9maWxlLmltYWdlXzE5MixcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAnJywgJ3NsYWNrLmNvbScsIHVuZGVmaW5lZCwgY3VycmVudFVzZXIucHJvZmlsZSk7XHJcblxyXG4gICAgICAgICAgICAgIHVzZXJUb0FkZCA9IHsgdXNlciA6ICdzbGFjazovLycrY3VycmVudFVzZXIubmFtZSsnQHNsYWNrLmNvbScsIGRvbWFpbjogJ3NsYWNrLmNvbScsIGlkOiBjdXJyZW50VXNlci5pZCwgdXNlclVSTDogJ3NsYWNrOi8vc2xhY2suY29tLycrY3VycmVudFVzZXIubmFtZSsnQHNsYWNrLmNvbScsIGlkZW50aXR5OiBpZGVudGl0eX07XHJcbiAgICAgICAgICAgICAgX3RoaXMuX2FkZGVkVXNlcnNJbmZvLnB1c2godXNlclRvQWRkKTtcclxuXHJcbiAgICAgICAgICAgICAgdG9BREQucHVzaCh1c2VyVG9BZGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZXJUb0FkZCA9IHsgdXNlciA6ICdzbGFjazovLycrbmVlZGVkSW5mb0ludml0ZWQubmFtZSsnQHNsYWNrLmNvbScsIGRvbWFpbjogJ3NsYWNrLmNvbScsIGlkOiBuZWVkZWRJbmZvSW52aXRlZC5pZCwgdXNlclVSTDogJ3NsYWNrOi8vc2xhY2suY29tLycrbmVlZGVkSW5mb0ludml0ZWQubmFtZSsnQHNsYWNrLmNvbScsIGlkZW50aXR5OiBuZWVkZWRJbmZvSW52aXRlZC5pZGVudGl0eX07XHJcbiAgICBfdGhpcy5fYWRkZWRVc2Vyc0luZm8ucHVzaCh1c2VyVG9BZGQpO1xyXG4gICAgdG9BREQucHVzaCh1c2VyVG9BZGQpO1xyXG5cclxuXHJcbiAgICB0b0FERC5mb3JFYWNoKGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gVEVTVCBqb2luaW5nIHdpdGggdXNlcicsIHVzZXIpO1xyXG4gICAgICBpZiAodXNlci51c2VyVVJMICE9PSBuZWVkZWRPd25JbmZvLnVzZXJVUkwpIHtcclxuICAgICAgICBfdGhpcy5fY3JlYXRlTmV3Q29udGV4dFJlcG9ydGVyKHVzZXIudXNlclVSTCkudGhlbihmdW5jdGlvbihjcmVhdGlvbil7XHJcbiAgICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgICAgaWYgKGNyZWF0aW9uID09IHRydWUpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2NoYXRNYW5hZ2VyLmpvaW4oX3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlclVSTCwgZmFsc2UsIHVzZXIuaWRlbnRpdHkpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gY2hhdG1hbmFnZXIgSk9JTicsIHJlc3VsdCwgdXNlci51c2VyVVJMLCBuZWVkZWRPd25JbmZvLnVzZXJVUkwpO1xyXG4gICAgICAgICAgICAgIF90aGlzLl9wcmVwYXJlQ2hhdChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgIC8vIGlmICh1c2VyLnVzZXJVUkwgIT09IG5lZWRlZE93bkluZm8udXNlclVSTCkge1xyXG4gICAgICAgICAgICAgIC8vICAgX3RoaXMuX2NyZWF0ZU5ld0NvbnRleHRSZXBvcnRlcih1c2VyLnVzZXJVUkwpO1xyXG4gICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICBsZXQgbXNnUXVlcnkgPSB7IFwidHlwZVwiOiBcInByZXNlbmNlX3N1YlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRzXCI6IF90aGlzLl90b1N1YnNjcmliZVByZXNlbmNlIH07XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gd2Vic29ja2V0IHNlbnRtZXNzYWdlJywgX3RoaXMuX3dzLnJlYWR5U3RhdGUsIG1zZ1F1ZXJ5KTtcclxuICAgICAgICAgICAgICBfdGhpcy5fd3Muc2VuZChKU09OLnN0cmluZ2lmeShtc2dRdWVyeSkpO1xyXG5cclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBjaGF0bWFuYWdlciBKT0lOIGVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vVE9ETyBwb2RlIGZhbHRhciBhcXVpIG8gY2hhdG1hbmFnZXIgam9pblxyXG4gICAgICB9XHJcblxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAqIEl0IGhhbmRsZSBhIG5ldyB1c2VyIGFkZGVkIHRvIGEgU2xhY2sgY2hhbm5lbCwgYW5kIGFkZCBoaW0gdG8gRGF0YU9iamVjdC5wYXJ0aWNpcGFudHNcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIC0gbWVzc2FnZSB3aXRoIGEgbmV3IHVzZXIgYWRkZWRcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9oYW5kbGVOZXdVc2VyKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIEhhbmRsaW5nIGEgbmV3IHVzZXInLCBtZXNzYWdlKTtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgc3ViY3JpYmVkO1xyXG4gICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgIGlmIChvYmouY2hhbm5lbElEID09PSBtZXNzYWdlLmNoYW5uZWwpIHtcclxuICAgICAgICBzdWJjcmliZWQgPSBvYmo7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHN1YmNyaWJlZCkge1xyXG4gICAgICBsZXQgaW52SW5mbyA9IF90aGlzLl91c2Vyc0xpc3QuZmlsdGVyKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLmlkID09PSBtZXNzYWdlLnVzZXI7XHJcbiAgICAgIH0pWzBdO1xyXG5cclxuICAgICAgbGV0IGlkZW50aXR5ID0gX3RoaXMuX2ZhY3RvcnkuY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eShcclxuICAgICAgICBpbnZJbmZvLm5hbWUsXHJcbiAgICAgICAgJ3NsYWNrOi8vc2xhY2suY29tLycgKyBpbnZJbmZvLm5hbWUgKyAnQHNsYWNrLmNvbScsXHJcbiAgICAgICAgaW52SW5mby5wcm9maWxlLmltYWdlXzE5MixcclxuICAgICAgICBpbnZJbmZvLm5hbWUsXHJcbiAgICAgICAgJycsICdzbGFjay5jb20nLCB1bmRlZmluZWQsIGludkluZm8ucHJvZmlsZSk7XHJcblxyXG4gICAgICBsZXQgdXNlclRvQWRkID0geyB1c2VyIDogJ3NsYWNrOi8vJytpbnZJbmZvLm5hbWUrJ0BzbGFjay5jb20nLCBkb21haW46ICdzbGFjay5jb20nLCBpZDogbWVzc2FnZS51c2VyLCB1c2VyVVJMOiAnc2xhY2s6Ly9zbGFjay5jb20vJytpbnZJbmZvLm5hbWUrJ0BzbGFjay5jb20nLCBpZGVudGl0eTogaWRlbnRpdHl9O1xyXG4gICAgICBfdGhpcy5fYWRkZWRVc2Vyc0luZm8ucHVzaCh1c2VyVG9BZGQpO1xyXG4gICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBKb2luaW5nIGNoYXQnLHN1YmNyaWJlZC51cmxEYXRhT2JqLCAnIHdpdGgnLCBpZGVudGl0eSk7XHJcbiAgICAgIF90aGlzLl9jcmVhdGVOZXdDb250ZXh0UmVwb3J0ZXIoaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCkudGhlbihmdW5jdGlvbihjcmVhdGlvbikge1xyXG4gICAgICAgIC8vZGVidWdnZXI7XHJcbiAgICAgICAgaWYgKGNyZWF0aW9uID09IHRydWUpIHtcclxuICAgICAgICAgIF90aGlzLl9jaGF0TWFuYWdlci5qb2luKHN1YmNyaWJlZC51cmxEYXRhT2JqLCBmYWxzZSwgaWRlbnRpdHkpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9wcmVwYXJlQ2hhdChyZXN1bHQpO1xyXG4gICAgICAgICAgICBsZXQgbXNnUXVlcnkgPSB7IFwidHlwZVwiOiBcInByZXNlbmNlX3N1YlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkc1wiOiBfdGhpcy5fdG9TdWJzY3JpYmVQcmVzZW5jZSB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSB3ZWJzb2NrZXQgc2VudG1lc3NhZ2UnLCBfdGhpcy5fd3MucmVhZHlTdGF0ZSwgbXNnUXVlcnkpO1xyXG4gICAgICAgICAgICBfdGhpcy5fd3Muc2VuZChKU09OLnN0cmluZ2lmeShtc2dRdWVyeSkpO1xyXG4gICAgICAgICAgICAvL190aGlzLl9jcmVhdGVOZXdDb250ZXh0UmVwb3J0ZXIoaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBoYW5kbGUgYSBuZXcgUHJlc2VuY2UgY2hhbmdlIG9mIFNsYWNrIHVzZXIsIGFuZCBjaGFuZ2UgaGlzIHN0YXR1c1xyXG4gICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2UgLSBtZXNzYWdlIHdpdGggaW5mbyBhYm91dCB1c2VyIGFuZCBoaXMgc3RhdHVzXHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBfaGFuZGxlUHJlc2VuY2VDaGFuZ2UobWVzc2FnZSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIHVwZGF0aW5nIHByZXNlbmNlIG9mIHVzZXInKTtcclxuICAgIGlmIChfdGhpcy5fY29udGV4dFJlcG9ydGVyc0luZm9bbWVzc2FnZS51c2VyXSkge1xyXG4gICAgICBsZXQgcmVwb3J0ZXIgPSBfdGhpcy5fY29udGV4dFJlcG9ydGVyc0luZm9bbWVzc2FnZS51c2VyXTtcclxuICAgICAgcmVwb3J0ZXIuZGF0YS52YWx1ZXNbMF0udmFsdWUgPSBfdGhpcy5fZ2V0UHJlc2VuY2UobWVzc2FnZS5wcmVzZW5jZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIHByZXNlbmNlIG9mIHVzZXInLCBtZXNzYWdlLnVzZXIsICcgdXBkYXRlZCB0bycsIHJlcG9ydGVyLmRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBoYW5kbGUgYSBuZXcgbWVzc2FnZSByZWNlaXZlZCBvbiBjaGFubmVsLCBhbmQgc2VuZCBpdCB0byBoeXBlcnR5XHJcbiAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZSAtIG1lc3NhZ2Ugd2l0aCBpbmZvIGFib3V0IGNoYW5uZWwgYW5kIHRleHQgdG8gc2VuZFxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX2hhbmRsZU5ld01lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gSGFuZGxpbmcgYSBuZXcgbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBjaGFubmVsSUQgPSAnJztcclxuICAgIGxldCBjaGF0O1xyXG4gICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgIGlmIChvYmouY2hhbm5lbElEID09PSBtZXNzYWdlLmNoYW5uZWwpIHtcclxuICAgICAgICBjaGFubmVsSUQgPSBvYmouY2hhbm5lbElEO1xyXG4gICAgICAgIGNoYXQgPSBvYmouY2hhdDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViXSBzdWJzY3JpYmVkIGxpc3QnLCBfdGhpcy5fc3Vic2NyaWJlZExpc3QpO1xyXG4gICAgaWYgKG1lc3NhZ2UuY2hhbm5lbCAmJiBtZXNzYWdlLnRzID4gX3RoaXMuX3Nlc3Npb24uY3JlYXRlZFRpbWUgKSB7XHJcbiAgICAgIGlmIChtZXNzYWdlLmNoYW5uZWwgPT09IGNoYW5uZWxJRCAmJiBtZXNzYWdlLnVzZXIgIT09IF90aGlzLl9pZCB8fFxyXG4gICAgICAgICAgKCFtZXNzYWdlLmhhc093blByb3BlcnR5KCdib3RfaWQnKSAmJiBtZXNzYWdlLnVzZXIgPT09IF90aGlzLl9pZCAmJiBtZXNzYWdlLmNoYW5uZWwgPT09IGNoYW5uZWxJRCkpIHtcclxuXHJcbiAgICAgICAgX3RoaXMuX2dldFVzZXJJbmZvKG1lc3NhZ2UudXNlcikudGhlbigoaWRlbnRpdHkpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIG1zZyB0byBhZGRDaGlsZCcsICBtZXNzYWdlLnRleHQsICcgICAgIGlkZW50aXR5OicsIGlkZW50aXR5KTtcclxuICAgICAgICAgIGNoYXQuc2VuZCggbWVzc2FnZS50ZXh0LCBpZGVudGl0eSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogSXQgcmV0cmlldmVzIGluZm9ybWF0aW9uIGZyb20gYSBzbGFjayB1c2VyIGFuZCBjcmVhdGVzIGEgcmVUSElOSyBJZGVudGl0eSBvYmplY3Qgd2l0aCBpdFxyXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXIgLSBzbGFjayB1c2VyIGlkXHJcbiAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYW4gSWRlbnRpdHkgb2JqZWN0IHJlc29sdmVkXHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBfZ2V0VXNlckluZm8odXNlcikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xyXG4gICAgICBfdGhpcy5fc2xhY2sudXNlcnMuaW5mbyh7dG9rZW46IF90aGlzLl90b2tlbiwgdXNlcjogdXNlcn0sIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdIGVycm9yJywgZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWIgZ2V0VXNlckluZm9dICcsIGRhdGEpO1xyXG4gICAgICAgICAgbGV0IGlkZW50aXR5ID0gX3RoaXMuX2ZhY3RvcnkuY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eShcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAnc2xhY2s6Ly9zbGFjay5jb20vJyArIGRhdGEudXNlci5uYW1lICsgJ0BzbGFjay5jb20nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXNlci5wcm9maWxlLmltYWdlXzE5MixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAnJywgJ3NsYWNrLmNvbScpO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoaWRlbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBfcHJlcGFyZUNoYXQoY2hhdCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIGNoYXQnLCBjaGF0KTtcclxuICAgIGNoYXQub25NZXNzYWdlKChtc2cpID0+IHtcclxuICAgICAgY29uc29sZS5pbmZvKCdbU2xhY2tQcm90b3N0dWJdIG9uTWVzc2FnZTogJywgbXNnKTtcclxuICAgICAgY29uc29sZS5pbmZvKCdbU2xhY2tQcm90b3N0dWJdIE9ic2VydmVyIC0gTWVzc2FnZSBIaXN0b3J5IENvbnRyb2wgJywgX3RoaXMuX21lc3NhZ2VIaXN0b3J5Q29udHJvbCk7XHJcblxyXG4gICAgICAvL2NoZWNrIGlmIGZvciBlYWNoIG1zZyBtZXNzYWdlIGhhcyBiZWVuIGRlbGl2ZXJlZCwgYW5kIGNvbnRyb2wgdGhhdCBmb3Igd2hlbiB3ZSBoYXZlIG1vcmUgdGhhbiBvbmUgc2xhY2sgdXNlciBzdWJzY3JpYmVkXHJcbiAgICAgIGxldCBjdXJyZW50SUQgPSBjaGF0LmNoaWxkX2NzZXE7XHJcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgY2hpbGQgYWxyZWFkeSBzZW50IG1lc3NhZ2VzXHJcbiAgICAgIGxldCBjaGFubmVsT2JqVXJsID0gY2hhdC5fZGF0YU9iamVjdE9ic2VydmVyLnVybDtcclxuICAgICAgbGV0IGNoYW5uZWxJRDtcclxuXHJcbiAgICAgIF90aGlzLl9zdWJzY3JpYmVkTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgIGlmIChvYmoudXJsRGF0YU9iaiA9PT0gY2hhbm5lbE9ialVybCApIHtcclxuICAgICAgICAgIGNoYW5uZWxJRCA9IG9iai5jaGFubmVsSUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmKCBfdGhpcy5fbWVzc2FnZUhpc3RvcnlDb250cm9sLmhhc093blByb3BlcnR5KGNoYW5uZWxPYmpVcmwpKSB7XHJcblxyXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSBjaGVjayBpZiB0aGUgY3VycmVudElEIGl0cyBlcXVhbCB0byBvbGRJRFxyXG4gICAgICAgIGxldCBvbGRJRCA9IF90aGlzLl9tZXNzYWdlSGlzdG9yeUNvbnRyb2xbY2hhbm5lbE9ialVybF0uaWQ7XHJcbiAgICAgICAgaWYgKCBvbGRJRCAhPT0gY3VycmVudElEICkge1xyXG4gICAgICAgICAgX3RoaXMuX21lc3NhZ2VIaXN0b3J5Q29udHJvbFtjaGFubmVsT2JqVXJsXS5pZCA9IGN1cnJlbnRJRDtcclxuICAgICAgICAgIF90aGlzLl9kZWxpdmVyKG1zZywgY2hhbm5lbElEKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgX3RoaXMuX21lc3NhZ2VIaXN0b3J5Q29udHJvbFtjaGFubmVsT2JqVXJsXSA9IHtpZDogY3VycmVudElEfTtcclxuICAgICAgICBfdGhpcy5fZGVsaXZlcihtc2csIGNoYW5uZWxJRCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogSXQgcmV0cmlldmVzIGluZm9ybWF0aW9uIGZyb20gYSBzbGFjayB1c2VyIGFuZCBjcmVhdGVzIGEgcmVUSElOSyBJZGVudGl0eSBvYmplY3Qgd2l0aCBpdFxyXG4gICogQHBhcmFtIHtzdHJpbmd9IGlkVXNlciAtIHNsYWNrIHVzZXIgSUQgdG8gYmUgaW52aXRlZFxyXG4gICogQHBhcmFtIHtzdHJpbmd9IGlkQ2hhbm5lbCAtIGNoYW5uZWxJRCBmb3IgdXNlciB3aWxsIGJlIGludml0ZWRcclxuICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFubmVsT2JqVXJsIC0gRGF0YU9iamVjdFVSTCBmcm9tIHdoZXJlIHVzZXIgaXMgaW52aXRlZFxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX2ludml0ZShpZFVzZXIsIGlkQ2hhbm5lbCA9ICcnLCBjaGFubmVsT2JqVXJsKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGlmIChpZENoYW5uZWwgPT0gJycpIHtcclxuICAgICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai51cmxEYXRhT2JqID09PSBjaGFubmVsT2JqVXJsICkge1xyXG4gICAgICAgICAgaWRDaGFubmVsID0gb2JqLmNoYW5uZWxJRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0b0ludml0ZSA9IHsgdG9rZW46IF90aGlzLl90b2tlbiwgY2hhbm5lbDogaWRDaGFubmVsLCB1c2VyOiBpZFVzZXIgfTtcclxuXHJcbiAgICBfdGhpcy5fc2xhY2suY2hhbm5lbHMuaW52aXRlKHRvSW52aXRlLCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdIGVycm9yJywgZXJyKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gdXNlciBpbnZpdGVkIHdpdGggc3VjZXNzJywgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgKiBJdCBkZWxpdmVyIGEgbWVzc2FnZSB0byBhIHNsYWNrIGNoYW5uZWxcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBtc2cgLSBNZXNzYWdlIE9iamVjdFxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNoYW5uZWxJRCAtIGNoYW5uZWxJRCB0byBkZWxpdmVyIG1lc3NhZ2VcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIF9kZWxpdmVyKG1zZywgY2hhbm5lbElEKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIE1zZyB0byBEZWxpdmVyOiAnLG1zZywgJyBvbiBjaGFubmVsOicsIGNoYW5uZWxJRCk7XHJcbiAgICBpZiAoY2hhbm5lbElEICYmIG1zZy52YWx1ZSkge1xyXG5cclxuICAgICAgaWYgKG1zZy5oYXNPd25Qcm9wZXJ0eSgnaWRlbnRpdHknKSAmJiBtc2cuaWRlbnRpdHkuaGFzT3duUHJvcGVydHkoJ3VzZXJQcm9maWxlJylcclxuICAgICAgJiYgbXNnLmlkZW50aXR5LnVzZXJQcm9maWxlLmhhc093blByb3BlcnR5KCduYW1lJykgJiYgbXNnLmlkZW50aXR5LnVzZXJQcm9maWxlLm5hbWUpIHtcclxuXHJcbiAgICAgICAgbGV0IHRleHQgPSAnJyArIG1zZy5pZGVudGl0eS51c2VyUHJvZmlsZS5uYW1lICsgJzogJyArIG1zZy52YWx1ZS5jb250ZW50O1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0geyBhc191c2VyOiB0cnVlLCB0b2tlbjogX3RoaXMuX3Rva2VuLCBjaGFubmVsOiBjaGFubmVsSUQsIHRleHQ6IHRleHR9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIChQb3N0TWVzc2FnZSBzbGFjayBhcGkpIHRva2VuKCcsIF90aGlzLl90b2tlbiwgJykgIGNoYW5uZWwoJywgY2hhbm5lbElELCAnKSB0ZXh0KCcsICBtc2cudmFsdWUuY29udGVudCwgJyknKTtcclxuXHJcbiAgICAgICAgLy8gY2FsbCBTbGFjayBwb3N0TWVzc2FnZSBtZXRob2QgdG8gZGVsaXZlciBtc2cgb24gc2xhY2sgY2hhbm5lbFxyXG4gICAgICAgIF90aGlzLl9zbGFjay5jaGF0LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xyXG4gICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT0gJ25vdF9pbl9jaGFubmVsJykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTbGFja1Byb3Rvc3R1Yl0gQ2hhbm5lbCBleGlzdCwgYnV0IHVzZXIgaXMgbm90IG9uIGNoYW5uZWwnLCBlcnIpXHJcbiAgICAgICAgICAgICAgbGV0IGNoYW5uZWxUb0pvaW4gPSBfdGhpcy5fY2hhbm5lbHNMaXN0LmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmlkID09PSBjaGFubmVsSUQ7XHJcbiAgICAgICAgICAgICAgfSlbMF07XHJcbiAgICAgICAgICAgICAgbGV0IG9ialRvSm9pbiA9IHsgdG9rZW46IF90aGlzLl90b2tlbiwgbmFtZTogY2hhbm5lbFRvSm9pbi5uYW1lfTtcclxuXHJcbiAgICAgICAgICAgICAgX3RoaXMuX3NsYWNrLmNoYW5uZWxzLmpvaW4ob2JqVG9Kb2luKTtcclxuICAgICAgICAgICAgICBfdGhpcy5fZGVsaXZlcihtc2csIGNoYW5uZWxJRCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1NsYWNrUHJvdG9zdHViXSBlcnJvcicsIGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIFBvc3RNZXNzYWdlIHdpdGggU3VjZXNzJywgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogSXQgY3JlYXRlIGEgbmV3IHNsYWNrQ2hhbm5lbCB1c2luZyBjaGFubmVsTmFtZVxyXG4gICogQHBhcmFtIHtTdHJpbmd9IGNoYW5uZWxOYW1lIC0gbmFtZSB0byBiZSB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBjaGFubmVsXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gY2hhbm5lbE9ialVybCAtIERhdGFvYmplY3QgVVJMIG9mIGEgY2hhbm5lbCB0byBiZSB1c2VkIHRvIGFzc29jaWF0ZSB0aGlzIGNoYW5uZWwgdG8gdGhpcyBkYXRhb2JqZWN0XHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBfY3JlYXRlQ2hhbm5lbChjaGFubmVsTmFtZSwgY2hhbm5lbE9ialVybCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xyXG4gICAgICBsZXQgdG9DcmVhdGUgPSB7IHRva2VuOiBfdGhpcy5fdG9rZW4sIG5hbWU6IGNoYW5uZWxOYW1lIH07XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIENyZWF0aW5nIGEgbmV3IGNoYW5uZWwgdG9DcmVhdGU6Jyx0b0NyZWF0ZSwgJyAgY2hhbm5lbE9ialVybDonLCAgY2hhbm5lbE9ialVybCk7XHJcbiAgICAgIF90aGlzLl9zbGFjay5jaGFubmVscy5jcmVhdGUodG9DcmVhdGUsIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbU2xhY2tQcm90b3N0dWJdICcsIGVycik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChkYXRhLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIENoYW5uZWwgQ3JlYXRlZCB3aXRoIFN1Y2VzcyAnLCBkYXRhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tTbGFja1Byb3Rvc3R1Yl0gQXNzb2NpYXRlIGEgbmV3IGNoYW5uZWwgSUQnLCBkYXRhLmNoYW5uZWwuaWQsICd0byB1cmxEYXRhT2JqJywgIGNoYW5uZWxPYmpVcmwpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgbGV0IGtleSA9IDA7XHJcbiAgICAgICAgICAgIC8vQXNzb2NpYXRlIGEgY2hhbm5lbCB0byBjb21tIGRhdGFPYmplY3RcclxuICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZWRMaXN0LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9iai51cmxEYXRhT2JqID09PSBjaGFubmVsT2JqVXJsICkge1xyXG4gICAgICAgICAgICAgICAga2V5ID0gY291bnQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5fc3Vic2NyaWJlZExpc3Rba2V5XS5jaGFubmVsSUQgPSBkYXRhLmNoYW5uZWwuaWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2tQcm90b3N0dWJdIHN1YnNjcmliZWQgbGlzdCcsIF90aGlzLl9zdWJzY3JpYmVkTGlzdCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NlbmRIVFRQUmVxdWVzdChtZXRob2QsIHVybCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpIHtcclxuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaWYgWERvbWFpblJlcXVlc3QuXHJcbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3Qgb25seSBleGlzdHMgaW4gSUUsIGFuZCBpcyBJRSdzIHdheSBvZiBtYWtpbmcgQ09SUyByZXF1ZXN0cy5cclxuICAgICAgICB4aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBDT1JTIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuXHJcbiAgICAgICAgeGhyID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoeGhyKSB7XHJcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICBsZXQgaW5mbyA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDApIHtcclxuICAgICAgICAgICAgICByZWplY3QoJ1RoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSB0b2tlbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVqZWN0KCdDT1JTIG5vdCBzdXBwb3J0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAqIEl0IFVwZGF0ZXMgdGhlIHN0YXRlIG9mIFByb3RvU3R1YlxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIC0gc3RhdHVzIG9mIHByb3Rvc3R1YiB0byBiZSB1cGRhdGVkXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uIC0gcmVhc29uIG9mIHRoaXMgdXBkYXRlLCBvcHRpb25hbFxyXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgX3NlbmRTdGF0dXModmFsdWUsIHJlYXNvbikge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW1NsYWNrUHJvdG9zdHViIHN0YXR1cyBjaGFuZ2VkXSB0byAnLCB2YWx1ZSk7XHJcblxyXG4gICAgX3RoaXMuX3N0YXRlID0gdmFsdWU7XHJcblxyXG4gICAgbGV0IG1zZyA9IHtcclxuICAgICAgdHlwZTogJ3VwZGF0ZScsXHJcbiAgICAgIGZyb206IF90aGlzLl9teVVybCxcclxuICAgICAgdG86IF90aGlzLl9teVVybCArICcvc3RhdHVzJyxcclxuICAgICAgYm9keToge1xyXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChyZWFzb24pIHtcclxuICAgICAgbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjtcclxuICAgIH1cclxuICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoIG1zZyApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcsIGZhY3RvcnkpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ1NsYWNrUHJvdG9TdHViJyxcclxuICAgIGluc3RhbmNlOiBuZXcgU2xhY2tQcm90b1N0dWIodXJsLCBidXMsIGNvbmZpZywgZmFjdG9yeSlcclxuICB9O1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLy4uL2Rldi1wcm90b3N0dWJzL3NyYy9wcm90b3N0dWIvc2xhY2svU2xhY2tQcm90b1N0dWIucHMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

eval("let bind = __webpack_require__(0)\nlet exec = __webpack_require__(2)\nlet factory = __webpack_require__(6)\n\n/**\n * bind accepts an object, in this case the factory function, and\n * applies exec to the Slack API methods as defined in api.json\n */\nmodule.exports = bind(factory, exec)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svaW5kZXguanM/NDMzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGJpbmQgPSByZXF1aXJlKCcuL3NyYy9fYmluZCcpXG5sZXQgZXhlYyA9IHJlcXVpcmUoJy4vc3JjL19leGVjJylcbmxldCBmYWN0b3J5ID0gcmVxdWlyZSgnLi9zcmMvX2ZhY3RvcnknKVxuXG4vKipcbiAqIGJpbmQgYWNjZXB0cyBhbiBvYmplY3QsIGluIHRoaXMgY2FzZSB0aGUgZmFjdG9yeSBmdW5jdGlvbiwgYW5kXG4gKiBhcHBsaWVzIGV4ZWMgdG8gdGhlIFNsYWNrIEFQSSBtZXRob2RzIGFzIGRlZmluZWQgaW4gYXBpLmpzb25cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBiaW5kKGZhY3RvcnksIGV4ZWMpXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9kZXYtcHJvdG9zdHVicy9zcmMvcHJvdG9zdHViL3NsYWNrL25vZGVfbW9kdWxlcy9zbGFjay9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(1)\n\nmodule.exports = function validate(method, params) {\n  // get all the requried params for this method\n  let required = api[method]\n  // collect any missing params\n  let missing = required.filter(param=> typeof params[param] === 'undefined')\n  // optimistic: assume the best but have a plan for the worst\n  return missing.length? Error(`${method} missing params: ${missing.join(', ')}`) : false\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL192YWxpZGF0ZS5qcz9mNTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxPQUFPLG1CQUFtQixtQkFBbUI7QUFDL0UiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKCcuL2FwaS5qc29uJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWxpZGF0ZShtZXRob2QsIHBhcmFtcykge1xuICAvLyBnZXQgYWxsIHRoZSByZXF1cmllZCBwYXJhbXMgZm9yIHRoaXMgbWV0aG9kXG4gIGxldCByZXF1aXJlZCA9IGFwaVttZXRob2RdXG4gIC8vIGNvbGxlY3QgYW55IG1pc3NpbmcgcGFyYW1zXG4gIGxldCBtaXNzaW5nID0gcmVxdWlyZWQuZmlsdGVyKHBhcmFtPT4gdHlwZW9mIHBhcmFtc1twYXJhbV0gPT09ICd1bmRlZmluZWQnKVxuICAvLyBvcHRpbWlzdGljOiBhc3N1bWUgdGhlIGJlc3QgYnV0IGhhdmUgYSBwbGFuIGZvciB0aGUgd29yc3RcbiAgcmV0dXJuIG1pc3NpbmcubGVuZ3RoPyBFcnJvcihgJHttZXRob2R9IG1pc3NpbmcgcGFyYW1zOiAke21pc3Npbmcuam9pbignLCAnKX1gKSA6IGZhbHNlXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9kZXYtcHJvdG9zdHVicy9zcmMvcHJvdG9zdHViL3NsYWNrL25vZGVfbW9kdWxlcy9zbGFjay9zcmMvX3ZhbGlkYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

eval("var bind = __webpack_require__(0)\nvar exec = __webpack_require__(2)\n\n/** \n * factory returns a new instance of Slack\n * \n * things to understand:\n *\n * - this function is the root object exported \n * - can be a constuctor for creating oo style instances of Slack \n * - requires named params to allow for future flexability in the function sig\n * - all methods have token pre applied\n * - all methods either accept a callback or return a promise\n */\nmodule.exports = function factory(xxx) {\n  \n  if (!xxx) xxx = {}\n\n  // Slack instance applies the token param to all the api methods\n  class Slack {\n    constructor() {\n      function _execWithToken(method, params, callback) {\n        params.token = params.token || xxx.token\n        return exec(method, params, callback)\n      }\n      // bind applies the above method to this obj\n      // bind also returns all methods promisified\n      bind(this, _execWithToken)\n    }\n  }\n\n  return new Slack\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL19mYWN0b3J5LmpzPzAzOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiaW5kID0gcmVxdWlyZSgnLi9fYmluZCcpXG52YXIgZXhlYyA9IHJlcXVpcmUoJy4vX2V4ZWMnKVxuXG4vKiogXG4gKiBmYWN0b3J5IHJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgU2xhY2tcbiAqIFxuICogdGhpbmdzIHRvIHVuZGVyc3RhbmQ6XG4gKlxuICogLSB0aGlzIGZ1bmN0aW9uIGlzIHRoZSByb290IG9iamVjdCBleHBvcnRlZCBcbiAqIC0gY2FuIGJlIGEgY29uc3R1Y3RvciBmb3IgY3JlYXRpbmcgb28gc3R5bGUgaW5zdGFuY2VzIG9mIFNsYWNrIFxuICogLSByZXF1aXJlcyBuYW1lZCBwYXJhbXMgdG8gYWxsb3cgZm9yIGZ1dHVyZSBmbGV4YWJpbGl0eSBpbiB0aGUgZnVuY3Rpb24gc2lnXG4gKiAtIGFsbCBtZXRob2RzIGhhdmUgdG9rZW4gcHJlIGFwcGxpZWRcbiAqIC0gYWxsIG1ldGhvZHMgZWl0aGVyIGFjY2VwdCBhIGNhbGxiYWNrIG9yIHJldHVybiBhIHByb21pc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmYWN0b3J5KHh4eCkge1xuICBcbiAgaWYgKCF4eHgpIHh4eCA9IHt9XG5cbiAgLy8gU2xhY2sgaW5zdGFuY2UgYXBwbGllcyB0aGUgdG9rZW4gcGFyYW0gdG8gYWxsIHRoZSBhcGkgbWV0aG9kc1xuICBjbGFzcyBTbGFjayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBmdW5jdGlvbiBfZXhlY1dpdGhUb2tlbihtZXRob2QsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgcGFyYW1zLnRva2VuID0gcGFyYW1zLnRva2VuIHx8IHh4eC50b2tlblxuICAgICAgICByZXR1cm4gZXhlYyhtZXRob2QsIHBhcmFtcywgY2FsbGJhY2spXG4gICAgICB9XG4gICAgICAvLyBiaW5kIGFwcGxpZXMgdGhlIGFib3ZlIG1ldGhvZCB0byB0aGlzIG9ialxuICAgICAgLy8gYmluZCBhbHNvIHJldHVybnMgYWxsIG1ldGhvZHMgcHJvbWlzaWZpZWRcbiAgICAgIGJpbmQodGhpcywgX2V4ZWNXaXRoVG9rZW4pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTbGFja1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vZGV2LXByb3Rvc3R1YnMvc3JjL3Byb3Rvc3R1Yi9zbGFjay9ub2RlX21vZHVsZXMvc2xhY2svc3JjL19mYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ })
/******/ ])["default"];
});