{
  "IMSIWProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewoJdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IGFjdGl2YXRlOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgZG9tYWluID0gJ3JldGhpbmstcHJvamVjdC5ldSc7CgovKioKICogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgogKi8KCnZhciBJTVNJV1Byb3h5U3R1YiA9IGZ1bmN0aW9uICgpIHsKCgkvKioKICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViCiAgKiBUaGUgY29uc3RydWN0b3IgYWRkIGEgbGlzdGVuZXIgaW4gdGhlIG1lc3NhZ2VCdXMgcmVjZWl2ZWQgYW5kIHN0YXJ0IGEgd2ViIHdvcmtlciB3aXRoIHRoZSByZWNlaXZlZCBpZHBQcm94eQogICoKICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTAogICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAgKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb24KICAqLwoJZnVuY3Rpb24gSU1TSVdQcm94eVN0dWIocnVudGltZVByb3RvU3R1YlVSTCwgYnVzLCBjb25maWcpIHsKCQl2YXIgX3RoaXMyID0gdGhpczsKCgkJX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElNU0lXUHJveHlTdHViKTsKCgkJdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMID0gcnVudGltZVByb3RvU3R1YlVSTDsKCQl0aGlzLm1lc3NhZ2VCdXMgPSBidXM7CgkJdGhpcy5jb25maWcgPSBjb25maWc7CgoJCXRoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uIChtc2cpIHsKCQkJLy9UT0RPIGFkZCB0aGUgcmVzcGVjdGl2ZSBsaXN0ZW5lcgoJCQlpZiAobXNnLnRvID09PSAnZG9tYWluLWlkcDovLycgKyBkb21haW4pIHsKCQkJCV90aGlzMi5yZXF1ZXN0VG9JZHAobXNnKTsKCQkJfQoJCX0pOwoKCQl0aGlzLl9zZW5kU3RhdHVzKCdjcmVhdGVkJyk7Cgl9CgoJX2NyZWF0ZUNsYXNzKElNU0lXUHJveHlTdHViLCBbewoJCWtleTogJ19zZW5kU3RhdHVzJywKCQl2YWx1ZTogZnVuY3Rpb24gX3NlbmRTdGF0dXModmFsdWUsIHJlYXNvbikgewoJCQl2YXIgX3RoaXMgPSB0aGlzOwoKCQkJY29uc29sZS5sb2coJ1tTbGFjayBJZHAgUHJveHkgc3RhdHVzIGNoYW5nZWRdIHRvICcsIHZhbHVlKTsKCgkJCV90aGlzLl9zdGF0ZSA9IHZhbHVlOwoKCQkJdmFyIG1zZyA9IHsKCQkJCXR5cGU6ICd1cGRhdGUnLAoJCQkJZnJvbTogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCwKCQkJCXRvOiBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMICsgJy9zdGF0dXMnLAoJCQkJYm9keTogewoJCQkJCXZhbHVlOiB2YWx1ZQoJCQkJfQoJCQl9OwoKCQkJaWYgKHJlYXNvbikgewoJCQkJbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjsKCQkJfQoKCQkJX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2cpOwoJCX0KCgkJLyoqCiAgICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbgogICAqCiAgICogQHBhcmFtIHttZXNzYWdlfSAgbWVzc2FnZSByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZUJ1cwogICAqLwoKCX0sIHsKCQlrZXk6ICdyZXF1ZXN0VG9JZHAnLAoJCXZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKSB7CgkJCXZhciBfdGhpczMgPSB0aGlzOwoKCQkJdmFyIHBhcmFtcyA9IG1zZy5ib2R5LnBhcmFtczsKCgkJCXN3aXRjaCAobXNnLmJvZHkubWV0aG9kKSB7CgkJCQljYXNlICdnZW5lcmF0ZUFzc2VydGlvbic6CgkJCQkJdGhpcy5nZW5lcmF0ZUFzc2VydGlvbihwYXJhbXMuY29udGVudHMsIHBhcmFtcy5vcmlnaW4sIHBhcmFtcy51c2VybmFtZUhpbnQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CgkJCQkJCXJldHVybiBfdGhpczMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpOwoJCQkJCX0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkJCQlyZXR1cm4gX3RoaXMzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKCQkJCQl9KTsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ3ZhbGlkYXRlQXNzZXJ0aW9uJzoKCQkJCQl0aGlzLnJlcGx5TWVzc2FnZShtc2csIHsgaWRlbnRpdHk6ICdpZGVudGl0eUBpZHAuY29tJywgY29udGVudHM6ICdjb250ZW50JyB9KTsKCQkJCQlicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJYnJlYWs7CgkJCX0KCQl9Cgl9LCB7CgkJa2V5OiAnZ2VuZXJhdGVBc3NlcnRpb24nLAoJCXZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgkJCXZhciBfdGhpczQgPSB0aGlzOwoKCQkJY29uc29sZS5sb2coJ2NvbnRlbnRzLT4nLCBjb250ZW50cyk7CgkJCWNvbnNvbGUubG9nKCdvcmlnaW4tPicsIG9yaWdpbik7CgkJCWNvbnNvbGUubG9nKCdoaW50LT4nLCBoaW50KTsKCgkJCXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgoJCQkJLy90aGUgaGludCBmaWVsZCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gb2J0YWluZWQgYWZ0ZXIgdGhlIHVzZXIgYXV0aGVudGljYXRpb24KCQkJCS8vIGlmIHRoZSBoaW50IGNvbnRlbnQgaXMgbm90IHByZXNlbnQsIHRoZW4gcmVqZWN0cyB0aGUgdmFsdWUgd2l0aCB0aGUgVVJMIHRvIG9wZW4gdGhlIHBhZ2UgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyCgkJCQlpZiAoIWhpbnQpIHsKCQkJCQl2YXIgcmVxdWVzdFVybCA9ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvdjIvYXV0aD9zY29wZT1lbWFpbCUyMHByb2ZpbGUmc3RhdGU9JTJGcHJvZmlsZSZyZWRpcmVjdF91cmk9JyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3RuYW1lICsgJyZyZXNwb25zZV90eXBlPXRva2VuJmNsaWVudF9pZD04MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nOwoJCQkJCWNvbnNvbGUubG9nKCdmaXJzdCB1cmwgJywgcmVxdWVzdFVybCwgJ2RvbmUnKTsKCQkJCQlyZWplY3QoeyBuYW1lOiAnSWRQTG9naW5FcnJvcicsIGxvZ2luVXJsOiByZXF1ZXN0VXJsIH0pOwoJCQkJfSBlbHNlIHsKCQkJCQl2YXIgYWNjZXNzVG9rZW4gPSBfdGhpczQuX3VybFBhcnNlcihoaW50LCAnYWNjZXNzX3Rva2VuJyk7CgkJCQkJZmV0Y2goJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS91c2VyaW5mbz9hY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNfdXNlcikgewoJCQkJCQlyZXR1cm4gcmVzX3VzZXIuanNvbigpOwoJCQkJCX0pLnRoZW4oZnVuY3Rpb24gKGJvZHkpIHsKCQkJCQkJdmFyIGV4cGlyZXMgPSBfdGhpczQuX3VybFBhcnNlcihoaW50LCAnZXhwaXJlcycpOwoJCQkJCQl2YXIgaW5mb1Rva2VuID0geyBwaWN0dXJlOiBib2R5LnBpY3R1cmUsIGVtYWlsOiBib2R5LmVtYWlsLCBmYW1pbHlfbmFtZTogYm9keS5mYW1pbHlfbmFtZSwgZ2l2ZW5fbmFtZTogYm9keS5naXZlbl9uYW1lLCBleHBpcmVzOiBleHBpcmVzIH07CgkJCQkJCXZhciBhc3NlcnRpb24gPSBidG9hKEpTT04uc3RyaW5naWZ5KHsgdG9rZW5JRDogYWNjZXNzVG9rZW4sIGVtYWlsOiBib2R5LmVtYWlsLCBpZDogYm9keS5pZCB9KSk7CgkJCQkJCXZhciB0b1Jlc29sdmUgPSB7IGFzc2VydGlvbjogYXNzZXJ0aW9uLCBpZHA6IHsgZG9tYWluOiBkb21haW4sIHByb3RvY29sOiAnT0F1dGggMi4wJyB9LCBpbmZvVG9rZW46IGluZm9Ub2tlbiwgaW50ZXJ3b3JraW5nOiB7IGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW4sIGRvbWFpbjogZG9tYWluIH0gfTsKCQkJCQkJY29uc29sZS5sb2coJ1JFU09MVklORyBUSElTIE9CSkVDVCcsIHRvUmVzb2x2ZSk7CgkJCQkJCXJlc29sdmUodG9SZXNvbHZlKTsKCQkJCQl9KS5jYXRjaChyZWplY3QpOwoJCQkJfQoJCQl9KTsKCQl9Cgl9LCB7CgkJa2V5OiAnX3VybFBhcnNlcicsCgkJdmFsdWU6IGZ1bmN0aW9uIF91cmxQYXJzZXIodXJsLCBuYW1lKSB7CgkJCW5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcW10vLCAnXFxcWycpLnJlcGxhY2UoL1tcXV0vLCAnXFxcXScpOwoJCQl2YXIgcmVnZXhTID0gJ1tcXCMmP10nICsgbmFtZSArICc9KFteJiNdKiknOwoJCQl2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4Uyk7CgkJCXZhciByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpOwoJCQlpZiAocmVzdWx0cyA9PT0gbnVsbCkgcmV0dXJuICcnO2Vsc2UgcmV0dXJuIHJlc3VsdHNbMV07CgkJfQoKCQkvKioKICAgKiBUaGlzIGZ1bmN0aW9uIHJlY2VpdmVzIGEgbWVzc2FnZSBhbmQgYSB2YWx1ZS4gSXQgcmVwbGllcyB0aGUgdmFsdWUgdG8gdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSByZWNlaXZlZAogICAqCiAgICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgICogQHBhcmFtICB7dmFsdWV9ICAgICB2YWx1ZSB0byBpbmNsdWRlIGluIHRoZSBuZXcgbWVzc2FnZSB0byBzZW5kCiAgICovCgoJfSwgewoJCWtleTogJ3JlcGx5TWVzc2FnZScsCgkJdmFsdWU6IGZ1bmN0aW9uIHJlcGx5TWVzc2FnZShtc2csIHZhbHVlKSB7CgkJCXZhciBtZXNzYWdlID0geyBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCB0bzogbXNnLmZyb20sIGZyb206IG1zZy50bywgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiB2YWx1ZSB9IH07CgoJCQl0aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7CgkJfQoJfV0pOwoKCXJldHVybiBJTVNJV1Byb3h5U3R1YjsKfSgpOwoKLyoqCiAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLgogKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1YgogKi8KCgpmdW5jdGlvbiBhY3RpdmF0ZSh1cmwsIGJ1cywgY29uZmlnKSB7CglyZXR1cm4gewoJCW5hbWU6ICdJTVNJV1Byb3h5U3R1YicsCgkJaW5zdGFuY2U6IG5ldyBJTVNJV1Byb3h5U3R1Yih1cmwsIGJ1cywgY29uZmlnKQoJfTsKfQptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dfSx7fSxbMV0pKDEpCn0pOwo=",
      "sourceCodeClassname": "IMSIWProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df0",
    "version": 0.8999999999999999,
    "description": "Description of IMSIWProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": true,
    "objectName": "rethink-project.eu",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  },
  "IdpProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCWlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JykKCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZSgiYWN0aXZhdGUiLCBbXSwgZmFjdG9yeSk7CgllbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykKCQlleHBvcnRzWyJhY3RpdmF0ZSJdID0gZmFjdG9yeSgpOwoJZWxzZQoJCXJvb3RbImFjdGl2YXRlIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSd1c2Ugc3RyaWN0JzsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCglleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCglmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCgl2YXIgaWRlbnRpdGllcyA9IHt9OwoJdmFyIG5JZGVudGl0eSA9IDA7CgoJLyoNCgkJU28gdGhhdCBhbiBhcHBsaWNhdGlvbiBjYW4gdXNlIEdvb2dsZSdzIE9BdXRoIDIuMCBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gZm9yIHVzZXIgbG9naW4sDQoJCWZpcnN0IGlzIHJlcXVpcmVkIHRvIHNldCB1cCBhIHByb2plY3QgaW4gdGhlIEdvb2dsZSBEZXZlbG9wZXJzIENvbnNvbGUgdG8gb2J0YWluIE9BdXRoIDIuMCBjcmVkZW50aWFscyBhbmQgc2V0IGEgcmVkaXJlY3QgVVJJLg0KCQlBIHRlc3QgYWNjb3VudCB3YXMgY3JlYXRlZCB0byBzZXQgdGhlIHByb2plY3QgaW4gdGhlIEdvb2dsZSBEZXZlbG9wZXJzIENvbnNvbGUgdG8gb2J0YWluIE9BdXRoIDIuMCBjcmVkZW50aWFscywJd2l0aCB0aGUgZm9sbG93aW5nIGNyZWRlbnRpYWxzOg0KCSAgICAgIAl1c2VybmFtZTogb3BlbmlkdGVzdDEwQGdtYWlsLmNvbQ0KCSAgICAgICAgcGFzc3dvcmQ6IHRlc3RPcGVuSUQxMA0KCQlUbyBhZGQgbW9yZSBVUkkncywgZm9sbG93IHRoZSBzdGVwczoNCgkJMcK6IGNob29zZSB0aGUgcHJvamVjdCAoIGNhbiBiZSB0aGUgTXkgT3BlbklEIFByb2plY3QpCSBmcm9tICBodHRwczovL2NvbnNvbGUuZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb2plY3RzZWxlY3Rvci9hcGlzL2NyZWRlbnRpYWxzIHVzaW5nIHRoZSBjcmVkZW50aWFscyBwcm92aWRlZCBhYm92ZS4NCgkJMsK6IE9wZW4gVGhlIENsaWVudCBXZWIgMSBsaXN0ZWQgaW4gT0F1dGggMi4wIENsaWVudCBJRCdzDQoJCTPCuiBBZGQgdGhlIFVSSSAgaW4gdGhlIGF1dGhvcml6ZWQgcmVkaXJlY3QgVVJJIHNlY3Rpb24uDQoJICA0wrogY2hhbmdlIHRoZSBSRURJUkVDVCBwYXJhbWV0ZXIgYmVsbG93IHdpdGggdGhlIHByZXRlbmRlZCBVUkkNCgkgKi8KCgl2YXIgZ29vZ2xlSW5mbyA9IHsKCSAgY2xpZW50U2VjcmV0OiAnWHg0ckt1Y2I1WllUYVhsY1pYOUhMZlpXJywKCSAgY2xpZW50SUQ6ICc4MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLAoJICByZWRpcmVjdFVSSTogbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdG5hbWUsIC8vbG9jYXRpb24ub3JpZ2luLAoJICBpc3N1ZXI6ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20nLAoJICB0b2tlbkVuZHBvaW50OiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3Y0L3Rva2VuPycsCgkgIGp3a3NVcmk6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvY2VydHM/JywKCSAgYXV0aG9yaXNhdGlvbkVuZHBvaW50OiAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGg/JywKCSAgdXNlcmluZm86ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdXNlcmluZm8/YWNjZXNzX3Rva2VuPScsCgkgIHRva2VuSW5mbzogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbmluZm8/aWRfdG9rZW49JywKCSAgYWNjZXNzVHlwZTogJ29mZmxpbmUnLAoJICB0eXBlOiAnY29kZSB0b2tlbiBpZF90b2tlbicsCgkgIHNjb3BlOiAnb3BlbmlkJTIwZW1haWwlMjBwcm9maWxlJywKCSAgc3RhdGU6ICdzdGF0ZScKCX07CgoJLy9mdW5jdGlvbiB0byBwYXJzZSB0aGUgcXVlcnkgc3RyaW5nIGluIHRoZSBnaXZlbiBVUkwgdG8gb2JhdGluIGNlcnRhaW4gdmFsdWVzCglmdW5jdGlvbiB1cmxQYXJzZXIodXJsLCBuYW1lKSB7CgkgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcW10vLCAnXFxcWycpLnJlcGxhY2UoL1tcXV0vLCAnXFxcXScpOwoJICB2YXIgcmVnZXhTID0gJ1tcXCMmP10nICsgbmFtZSArICc9KFteJiNdKiknOwoJICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4Uyk7CgkgIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpOwoJICBpZiAocmVzdWx0cyA9PT0gbnVsbCkgcmV0dXJuICcnO2Vsc2UgcmV0dXJuIHJlc3VsdHNbMV07Cgl9CgoJZnVuY3Rpb24gc2VuZEhUVFBSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7CgkgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCSAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikgewoJICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTsKCSAgfSBlbHNlIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKCSAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIFhEb21haW5SZXF1ZXN0LgoJICAgIC8vIFhEb21haW5SZXF1ZXN0IG9ubHkgZXhpc3RzIGluIElFLCBhbmQgaXMgSUUncyB3YXkgb2YgbWFraW5nIENPUlMgcmVxdWVzdHMuCgkgICAgeGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7CgkgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwpOwoJICB9IGVsc2UgewoJICAgIC8vIE90aGVyd2lzZSwgQ09SUyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLgoJICAgIHhociA9IG51bGw7CgkgIH0KCSAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCSAgICBpZiAoeGhyKSB7CgkgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKCSAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CgkgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkgewoJICAgICAgICAgICAgdmFyIGluZm8gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpOwoJICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTsKCSAgICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDQwMCkgewoJICAgICAgICAgICAgcmVqZWN0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB0aGUgdG9rZW4nKTsKCSAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgcmVqZWN0KCdzb21ldGhpbmcgZWxzZSBvdGhlciB0aGFuIDIwMCB3YXMgcmV0dXJuZWQnKTsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgIH07CgkgICAgICB4aHIuc2VuZCgpOwoJICAgIH0gZWxzZSB7CgkgICAgICByZWplY3QoJ0NPUlMgbm90IHN1cHBvcnRlZCcpOwoJICAgIH0KCSAgfSk7Cgl9CgoJLyoqDQoJKiBGdW5jdGlvbiB0byBleGNoYW5nZSB0aGUgY29kZSByZWNlaXZlZCB0byB0aGUgaWQgVG9rZW4sIGFjY2VzcyB0b2tlbiBhbmQgYSByZWZyZXNoIHRva2VuDQoJKg0KCSovCgl2YXIgZXhjaGFuZ2VDb2RlID0gZnVuY3Rpb24gZXhjaGFuZ2VDb2RlKGNvZGUpIHsKCSAgdmFyIGkgPSBnb29nbGVJbmZvOwoKCSAgdmFyIFVSTCA9IGkudG9rZW5FbmRwb2ludCArICdjb2RlPScgKyBjb2RlICsgJyZjbGllbnRfaWQ9JyArIGkuY2xpZW50SUQgKyAnJmNsaWVudF9zZWNyZXQ9JyArIGkuY2xpZW50U2VjcmV0ICsgJyZyZWRpcmVjdF91cmk9JyArIGkucmVkaXJlY3RVUkkgKyAnJmdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJzsKCgkgIC8vbGV0IFVSTCA9ID0gaS50b2tlbkVuZHBvaW50ICsgJ2NsaWVudF9pZD0nICsgaS5jbGllbnRJRCArICcmY2xpZW50X3NlY3JldD0nICsgaS5jbGllbnRTZWNyZXQgKyAnJnJlZnJlc2hfdG9rZW49JyArIGNvZGUgKyAnJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlbic7CgoJICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoJICAgIHNlbmRIVFRQUmVxdWVzdCgnUE9TVCcsIFVSTCkudGhlbihmdW5jdGlvbiAoaW5mbykgewoJICAgICAgcmVzb2x2ZShpbmZvKTsKCSAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgIHJlamVjdChlcnJvcik7CgkgICAgfSk7CgkgIH0pOwoJfTsKCgkvKioNCgkqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5DQoJKi8KCXZhciBJZHBQcm94eSA9IHsKCgkgIC8qKg0KCSAgKiBGdW5jdGlvbiB0byB2YWxpZGF0ZSBhbiBpZGVudGl0eSBBc3NlcnRpb24gcmVjZWl2ZWQNCgkgICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIHRoZSBpbXBsZW1lbnRhdGlvbg0KCSAgKg0KCSAgKiBAcGFyYW0gIHthc3NlcnRpb259ICAgIElkZW50aXR5IEFzc2VydGlvbiB0byBiZSB2YWxpZGF0ZWQNCgkgICogQHBhcmFtICB7b3JpZ2lufSAgICAgICBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbg0KCSAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdA0KCSAgKi8KCSAgdmFsaWRhdGVBc3NlcnRpb246IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbiwgb3JpZ2luKSB7CgoJICAgIC8vVE9ETyBjaGVjayB0aGUgdmFsdWVzIHdpdGggdGhlIGhhc2ggcmVjZWl2ZWQKCSAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKCSAgICAgIHZhciBkZWNvZGVkQ29udGVudCA9IGF0b2IoYXNzZXJ0aW9uKTsKCSAgICAgIHZhciBjb250ZW50ID0gSlNPTi5wYXJzZShkZWNvZGVkQ29udGVudCk7CgoJICAgICAgdmFyIGlkVG9rZW5TcGxpdGVkID0gY29udGVudC50b2tlbklELnNwbGl0KCcuJyk7CgoJICAgICAgdmFyIGlkVG9rZW4gPSBKU09OLnBhcnNlKGF0b2IoaWRUb2tlblNwbGl0ZWRbMV0pKTsKCgkgICAgICByZXNvbHZlKHsgaWRlbnRpdHk6IGlkVG9rZW4uZW1haWwsIGNvbnRlbnRzOiBpZFRva2VuLm5vbmNlIH0pOwoJICAgIH0pOwoJICAgIC8qcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7DQoJICAgICAgbGV0IGkgPSBnb29nbGVJbmZvOw0KCSAgICAgICAgbGV0IGRlY29kZWRDb250ZW50ID0gYXRvYihhc3NlcnRpb24pOw0KCSAgICAgIGxldCBjb250ZW50ID0gSlNPTi5wYXJzZShkZWNvZGVkQ29udGVudCk7DQoJICAgICAgc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBpLnRva2VuSW5mbyArIGNvbnRlbnQudG9rZW5JRCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHsNCgkgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkgPT09IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQudG9rZW5JREpTT04pKSB7DQoJICAgICAgICAgIHJlc29sdmUoe2lkZW50aXR5OiBjb250ZW50LnRva2VuSURKU09OLmVtYWlsLCBjb250ZW50czogY29udGVudC50b2tlbklESlNPTn0pOw0KCSAgICAgICAgfSBlbHNlIHsNCgkgICAgICAgICAgcmVqZWN0KCdpbnZhbGlkJyk7DQoJICAgICAgICB9DQoJICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7DQoJICAgICAgICAgIHJlamVjdChlcnIpOw0KCSAgICAgIH0pOw0KCSAgICB9KTsqLwoJICB9LAoKCSAgLyoqDQoJICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbg0KCSAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgaW1wbGVtZW50YXRpb24NCgkgICoNCgkgICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQNCgkgICogQHBhcmFtICB7b3JpZ2lufSBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbg0KCSAgKiBAcGFyYW0gIHt1c2VybmFtZUhpbnR9IG9wdGlvbmFsIHVzZXJuYW1lSGludCBwYXJhbWV0ZXINCgkgICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24NCgkgICovCgkgIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgkgICAgdmFyIGkgPSBnb29nbGVJbmZvOwoKCSAgICAvL3N0YXJ0IHRoZSBsb2dpbiBwaGFzZQoJICAgIC8vVE9ETyBsYXRlciBzaG91bGQgYmUgZGVmaW5lZCBhIGJldHRlciBhcHByb2FjaAoJICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkgICAgICBpZiAoIWhpbnQpIHsKCSAgICAgICAgLyp0cnkgew0KCSAgICAgICAgICBpZiAod2luZG93KSB7DQoJICAgICAgICAgICAgcmVzb2x2ZSgndXJsJyk7DQoJICAgICAgICAgIH0NCgkgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7Ki8KCgkgICAgICAgIHZhciByZXF1ZXN0VXJsID0gaS5hdXRob3Jpc2F0aW9uRW5kcG9pbnQgKyAnc2NvcGU9JyArIGkuc2NvcGUgKyAnJmNsaWVudF9pZD0nICsgaS5jbGllbnRJRCArICcmcmVkaXJlY3RfdXJpPScgKyBpLnJlZGlyZWN0VVJJICsgJyZyZXNwb25zZV90eXBlPScgKyBpLnR5cGUgKyAnJnN0YXRlPScgKyBpLnN0YXRlICsgJyZhY2Nlc3NfdHlwZT0nICsgaS5hY2Nlc3NUeXBlICsgJyZub25jZT0nICsgY29udGVudHM7CgoJICAgICAgICByZWplY3QoeyBuYW1lOiAnSWRQTG9naW5FcnJvcicsIGxvZ2luVXJsOiByZXF1ZXN0VXJsIH0pOwoKCSAgICAgICAgLy8gIH0KCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIC8vIHRoZSByZXF1ZXN0IGhhdmUgYWxyZWFkeSBiZWVuIG1hZGUsIHNvIGlkcFBSb3h5IHdpbGwgZXhjaGFuZ2UgdGhlIHRva2VucyBhbG9uZyB0byB0aGUgaWRwLCB0byBvYnRhaW4gdGhlIGluZm9ybWF0aW9uIG5lY2Vzc2FyeQoJICAgICAgICB2YXIgYWNjZXNzVG9rZW4gPSB1cmxQYXJzZXIoaGludCwgJ2FjY2Vzc190b2tlbicpOwoJICAgICAgICB2YXIgaWRUb2tlbiA9IHVybFBhcnNlcihoaW50LCAnaWRfdG9rZW4nKTsKCSAgICAgICAgdmFyIGNvZGUgPSB1cmxQYXJzZXIoaGludCwgJ2NvZGUnKTsKCgkgICAgICAgIGV4Y2hhbmdlQ29kZShjb2RlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewoKCSAgICAgICAgICAvL29idGFpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlcgoJICAgICAgICAgIHZhciBpbmZvVG9rZW5VUkwgPSBpLnVzZXJpbmZvICsgdmFsdWUuYWNjZXNzX3Rva2VuOwoJICAgICAgICAgIHNlbmRIVFRQUmVxdWVzdCgnR0VUJywgaW5mb1Rva2VuVVJMKS50aGVuKGZ1bmN0aW9uIChpbmZvVG9rZW4pIHsKCgkgICAgICAgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7IGFjY2Vzc1Rva2VuOiB2YWx1ZS5hY2Nlc3NfdG9rZW4sIGlkVG9rZW46IHZhbHVlLmlkX3Rva2VuLCByZWZyZXNoVG9rZW46IHZhbHVlLnJlZnJlc2hfdG9rZW4sIHRva2VuVHlwZTogdmFsdWUudG9rZW5fdHlwZSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4gfTsKCgkgICAgICAgICAgICB2YXIgaWRUb2tlblVSTCA9IGkudG9rZW5JbmZvICsgdmFsdWUuaWRfdG9rZW47CgoJICAgICAgICAgICAgLy9vYnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgaWRUb2tlbgoJICAgICAgICAgICAgc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBpZFRva2VuVVJMKS50aGVuKGZ1bmN0aW9uIChpZFRva2VuKSB7CgoJICAgICAgICAgICAgICBpZGVudGl0eUJ1bmRsZS50b2tlbklESlNPTiA9IGlkVG9rZW47CgkgICAgICAgICAgICAgIGlkZW50aXR5QnVuZGxlLmV4cGlyZXMgPSBpZFRva2VuLmV4cDsKCSAgICAgICAgICAgICAgaWRlbnRpdHlCdW5kbGUuZW1haWwgPSBpZFRva2VuLmVtYWlsOwoKCSAgICAgICAgICAgICAgdmFyIGFzc2VydGlvbiA9IGJ0b2EoSlNPTi5zdHJpbmdpZnkoeyB0b2tlbklEOiB2YWx1ZS5pZF90b2tlbiwgdG9rZW5JREpTT046IGlkVG9rZW4gfSkpOwoJICAgICAgICAgICAgICB2YXIgaWRwQnVuZGxlID0geyBkb21haW46ICdnb29nbGUuY29tJywgcHJvdG9jb2w6ICdPSURDJyB9OwoKCSAgICAgICAgICAgICAgLy9UT0RPIGRlbGV0ZSBsYXRlciB0aGUgZmllbGQgaW5mb1Rva2VuLCBhbmQgZGVsZXRlIHRoZSBuZWVkIGluIHRoZSBleGFtcGxlCgkgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHsgYXNzZXJ0aW9uOiBhc3NlcnRpb24sIGlkcDogaWRwQnVuZGxlLCBpbmZvOiBpZGVudGl0eUJ1bmRsZSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4gfTsKCgkgICAgICAgICAgICAgIGlkZW50aXRpZXNbbklkZW50aXR5XSA9IHJldHVyblZhbHVlOwoJICAgICAgICAgICAgICArK25JZGVudGl0eTsKCgkgICAgICAgICAgICAgIHJlc29sdmUocmV0dXJuVmFsdWUpOwoJICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKCgkgICAgICAgICAgICAgIHJlamVjdChlKTsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewoKCSAgICAgICAgICAgIHJlamVjdChlcnJvcik7CgkgICAgICAgICAgfSk7CgkgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKCgkgICAgICAgICAgcmVqZWN0KGVycik7CgkgICAgICAgIH0pOwoJICAgICAgfQoJICAgIH0pOwoJICB9Cgl9OwoKCS8qKg0KCSogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1Yg0KCSovCgoJdmFyIElkcFByb3h5UHJvdG9TdHViID0gZnVuY3Rpb24gKCkgewoKCSAgLyoqDQoJICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViDQoJICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5IHJlY2VpdmVkDQoJICAqDQoJICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24NCgkgICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uDQoJICAqLwoJICBmdW5jdGlvbiBJZHBQcm94eVByb3RvU3R1YihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZykgewoJICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJZHBQcm94eVByb3RvU3R1Yik7CgoJICAgIHZhciBfdGhpcyA9IHRoaXM7CgkgICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CgkgICAgX3RoaXMubWVzc2FnZUJ1cyA9IGJ1czsKCSAgICBfdGhpcy5jb25maWcgPSBjb25maWc7CgoJICAgIGNvbnNvbGUubG9nKCdbR29vZ2xlIElkcFByb3h5XSBzdGFydGluZycsIHJ1bnRpbWVQcm90b1N0dWJVUkwpOwoKCSAgICBfdGhpcy5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKCcqJywgZnVuY3Rpb24gKG1zZykgewoJICAgICAgaWYgKG1zZy50byA9PT0gJ2RvbWFpbi1pZHA6Ly9nb29nbGUuY29tJykgewoKCSAgICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7CgkgICAgICB9CgkgICAgfSk7CgkgICAgX3RoaXMuX3NlbmRTdGF0dXMoJ2NyZWF0ZWQnKTsKCSAgfQoKCSAgLyoqDQoJICAqIEZ1bmN0aW9uIHRoYXQgc2VlIHRoZSBpbnRlbmRlZCBtZXRob2QgaW4gdGhlIG1lc3NhZ2UgcmVjZWl2ZWQgYW5kIGNhbGwgdGhlIHJlc3BlY3RpdmUgZnVuY3Rpb24NCgkgICoNCgkgICogQHBhcmFtIHttZXNzYWdlfSAgbWVzc2FnZSByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZUJ1cw0KCSAgKi8KCgoJICBfY3JlYXRlQ2xhc3MoSWRwUHJveHlQcm90b1N0dWIsIFt7CgkgICAga2V5OiAncmVxdWVzdFRvSWRwJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdFRvSWRwKG1zZykgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCSAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CgoJICAgICAgc3dpdGNoIChtc2cuYm9keS5tZXRob2QpIHsKCSAgICAgICAgY2FzZSAnZ2VuZXJhdGVBc3NlcnRpb24nOgoJICAgICAgICAgIElkcFByb3h5LmdlbmVyYXRlQXNzZXJ0aW9uKHBhcmFtcy5jb250ZW50cywgcGFyYW1zLm9yaWdpbiwgcGFyYW1zLnVzZXJuYW1lSGludCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKCSAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICBicmVhazsKCSAgICAgICAgY2FzZSAndmFsaWRhdGVBc3NlcnRpb24nOgoJICAgICAgICAgIElkcFByb3h5LnZhbGlkYXRlQXNzZXJ0aW9uKHBhcmFtcy5hc3NlcnRpb24sIHBhcmFtcy5vcmlnaW4pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CgkgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgYnJlYWs7CgkgICAgICAgIGRlZmF1bHQ6CgkgICAgICAgICAgYnJlYWs7CgkgICAgICB9CgkgICAgfQoKCSAgICAvKioNCgkgICAgKiBUaGlzIGZ1bmN0aW9uIHJlY2VpdmVzIGEgbWVzc2FnZSBhbmQgYSB2YWx1ZS4gSXQgcmVwbGllcyB0aGUgdmFsdWUgdG8gdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSByZWNlaXZlZA0KCSAgICAqDQoJICAgICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkDQoJICAgICogQHBhcmFtICB7dmFsdWV9ICAgICB2YWx1ZSB0byBpbmNsdWRlIGluIHRoZSBuZXcgbWVzc2FnZSB0byBzZW5kDQoJICAgICovCgoJICB9LCB7CgkgICAga2V5OiAncmVwbHlNZXNzYWdlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpIHsKCSAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgoJICAgICAgdmFyIG1lc3NhZ2UgPSB7IGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLAoJICAgICAgICBib2R5OiB7IGNvZGU6IDIwMCwgdmFsdWU6IHZhbHVlIH0gfTsKCgkgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ19zZW5kU3RhdHVzJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gX3NlbmRTdGF0dXModmFsdWUsIHJlYXNvbikgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCgkgICAgICBjb25zb2xlLmxvZygnW0dvb2dsZUlkcFByb3h5LnNlbmRTdGF0dXNdICcsIHZhbHVlKTsKCgkgICAgICBfdGhpcy5fc3RhdGUgPSB2YWx1ZTsKCgkgICAgICB2YXIgbXNnID0gewoJICAgICAgICB0eXBlOiAndXBkYXRlJywKCSAgICAgICAgZnJvbTogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCwKCSAgICAgICAgdG86IF90aGlzLnJ1bnRpbWVQcm90b1N0dWJVUkwgKyAnL3N0YXR1cycsCgkgICAgICAgIGJvZHk6IHsKCSAgICAgICAgICB2YWx1ZTogdmFsdWUKCSAgICAgICAgfQoJICAgICAgfTsKCgkgICAgICBpZiAocmVhc29uKSB7CgkgICAgICAgIG1zZy5ib2R5LmRlc2MgPSByZWFzb247CgkgICAgICB9CgoJICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2cpOwoJICAgIH0KCSAgfV0pOwoKCSAgcmV0dXJuIElkcFByb3h5UHJvdG9TdHViOwoJfSgpOwoKCS8vIGV4cG9ydCBkZWZhdWx0IElkcFByb3h5UHJvdG9TdHViOwoKCS8qKg0KCSAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLg0KCSAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbg0KCSAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbg0KCSAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViDQoJICovCgoKCWZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKCSAgcmV0dXJuIHsKCSAgICBuYW1lOiAnSWRwUHJveHlQcm90b1N0dWInLAoJICAgIGluc3RhbmNlOiBuZXcgSWRwUHJveHlQcm90b1N0dWIodXJsLCBidXMsIGNvbmZpZykKCSAgfTsKCX0KCW1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfQovKioqKioqLyBdKQp9KTsKOw==",
      "sourceCodeClassname": "IdpProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df1",
    "version": 0.30000000000000004,
    "description": "Description of IdpProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": false,
    "objectName": "google.com",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  },
  "SlackProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCWlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JykKCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZSgiYWN0aXZhdGUiLCBbXSwgZmFjdG9yeSk7CgllbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykKCQlleHBvcnRzWyJhY3RpdmF0ZSJdID0gZmFjdG9yeSgpOwoJZWxzZQoJCXJvb3RbImFjdGl2YXRlIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHQKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgewovKioqKioqLyAJCQkJY29uZmlndXJhYmxlOiBmYWxzZSwKLyoqKioqKi8gCQkJCWVudW1lcmFibGU6IHRydWUsCi8qKioqKiovIAkJCQlnZXQ6IGdldHRlcgovKioqKioqLyAJCQl9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXMKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkgewovKioqKioqLyAJCXZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgPwovKioqKioqLyAJCQlmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOgovKioqKioqLyAJCQlmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9OwovKioqKioqLyAJCV9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTsKLyoqKioqKi8gCQlyZXR1cm4gZ2V0dGVyOwovKioqKioqLyAJfTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbAovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9OwovKioqKioqLwovKioqKioqLyAJLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ucCA9ICIiOwovKioqKioqLwovKioqKioqLyAJLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzCi8qKioqKiovIAlyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTsKLyoqKioqKi8gfSkKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyoqKioqKi8gKFsKLyogMCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CgoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIHNsYWNrSW5mbyA9IHsKICBjbGllbnRJRDogJzExNTMzNjAzODcyLjcyNDM0OTM0MzU2JywKICBjbGllbnRTZWNyZXQ6ICdkNDI3ZWYzYzk1N2Q2OGEyOTJkYzdjNGUyMGI3ODMzMCcsCiAgcmVkaXJlY3RVUkk6IGxvY2F0aW9uLm9yaWdpbiwKICBjb2RlRW5kcG9pbnQ6ICdodHRwczovL3NsYWNrLmNvbS9vYXV0aC9hdXRob3JpemU/JywKICB0b2tlbkVuZHBvaW50OiAnaHR0cHM6Ly9zbGFjay5jb20vYXBpL29hdXRoLmFjY2Vzcz8nLAogIGluZm9FbmRwb2ludDogJ2h0dHBzOi8vc2xhY2suY29tL2FwaS91c2Vycy5pbmZvPycsCiAgc2NvcGU6ICdjbGllbnQnCn07CgovL2Z1bmN0aW9uIHRvIHBhcnNlIHRoZSBxdWVyeSBzdHJpbmcgaW4gdGhlIGdpdmVuIFVSTCB0byBvYmF0aW4gY2VydGFpbiB2YWx1ZXMKZnVuY3Rpb24gdXJsUGFyc2VyKHVybCwgbmFtZSkgewogIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcW10vLCAnXFxcWycpLnJlcGxhY2UoL1tcXV0vLCAnXFxcXScpOwogIHZhciByZWdleFMgPSAnW1xcIyY/XScgKyBuYW1lICsgJz0oW14mI10qKSc7CiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleFMpOwogIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpOwogIGlmIChyZXN1bHRzID09PSBudWxsKSByZXR1cm4gJyc7ZWxzZSByZXR1cm4gcmVzdWx0c1sxXTsKfQoKZnVuY3Rpb24gc2VuZEhUVFBSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7CiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpIHsKICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTsKICB9IGVsc2UgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPSAndW5kZWZpbmVkJykgewogICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpZiBYRG9tYWluUmVxdWVzdC4KICAgIC8vIFhEb21haW5SZXF1ZXN0IG9ubHkgZXhpc3RzIGluIElFLCBhbmQgaXMgSUUncyB3YXkgb2YgbWFraW5nIENPUlMgcmVxdWVzdHMuCiAgICB4aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsKICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsKTsKICB9IGVsc2UgewogICAgLy8gT3RoZXJ3aXNlLCBDT1JTIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuCiAgICB4aHIgPSBudWxsOwogIH0KICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgaWYgKHhocikgewogICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHsKICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIGluZm8gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpOwogICAgICAgICAgICByZXNvbHZlKGluZm8pOwogICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgcmVqZWN0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB0aGUgdG9rZW4nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB4aHIuc2VuZCgpOwogICAgfSBlbHNlIHsKICAgICAgcmVqZWN0KCdDT1JTIG5vdCBzdXBwb3J0ZWQnKTsKICAgIH0KICB9KTsKfQoKLyoqCiogRnVuY3Rpb24gdG8gZXhjaGFuZ2UgdGhlIGNvZGUgcmVjZWl2ZWQgdG8gdGhlIGlkIFRva2VuLCBhY2Nlc3MgdG9rZW4gYW5kIGEgcmVmcmVzaCB0b2tlbgoqCiovCnZhciBleGNoYW5nZUNvZGUgPSBmdW5jdGlvbiBleGNoYW5nZUNvZGUoY29kZSkgewoKICB2YXIgcyA9IHNsYWNrSW5mbzsKICB2YXIgVVJMID0gcy50b2tlbkVuZHBvaW50ICsgJ2NsaWVudF9pZD0nICsgcy5jbGllbnRJRCArICcmY2xpZW50X3NlY3JldD0nICsgcy5jbGllbnRTZWNyZXQgKyAnJmNvZGU9JyArIGNvZGUgKyAnJnJlZGlyZWN0X3VyaT0nICsgcy5yZWRpcmVjdFVSSTsKCiAgY29uc29sZS5sb2coJ1VSTCcsIFVSTCk7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsIFVSTCkudGhlbihmdW5jdGlvbiAoaW5mbykgewogICAgICByZXNvbHZlKGluZm8pOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJlamVjdChlcnJvcik7CiAgICB9KTsKICB9KTsKfTsKCi8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5CiovCnZhciBpZHAgPSB7CgogIC8qKgogICogRnVuY3Rpb24gdG8gdmFsaWRhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uIHJlY2VpdmVkCiAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgdGhlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7YXNzZXJ0aW9ufSAgICBJZGVudGl0eSBBc3NlcnRpb24gdG8gYmUgdmFsaWRhdGVkCiAgKiBAcGFyYW0gIHtvcmlnaW59ICAgICAgIE9yaWdpbiBwYXJhbWV0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBvcmlnaW4gb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uCiAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdAogICovCiAgdmFsaWRhdGVBc3NlcnRpb246IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbiwgb3JpZ2luKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgY29uc29sZS5sb2coJ2Fzc2VydGlvbiAtID4nLCBhc3NlcnRpb24pOwogICAgICBjb25zb2xlLmxvZygnb3JpZ2luIC0gPicsIG9yaWdpbik7CiAgICAgIGNvbnNvbGUubG9nKCdNWVBST1hZIC0gVkFMSURBVElORycpOwogICAgICByZXNvbHZlKHsgaWRlbnRpdHk6ICdpZGVudGl0eUBpZHAuY29tJywgY29udGVudHM6ICdjb250ZW50JyB9KTsKICAgIH0pOwogIH0sCgogIC8qKgogICogRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uCiAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgaW1wbGVtZW50YXRpb24KICAqCiAgKiBAcGFyYW0gIHtjb250ZW50c30gVGhlIGNvbnRlbnRzIGluY2x1ZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpZGVudGl0eSByZWNlaXZlZAogICogQHBhcmFtICB7b3JpZ2lufSBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbgogICogQHBhcmFtICB7dXNlcm5hbWVIaW50fSBvcHRpb25hbCB1c2VybmFtZUhpbnQgcGFyYW1ldGVyCiAgKiBAcmV0dXJuIHtQcm9taXNlfSByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGFuIGlkZW50aXR5IGFzc2VydGlvbgogICovCiAgZ2VuZXJhdGVBc3NlcnRpb246IGZ1bmN0aW9uIGdlbmVyYXRlQXNzZXJ0aW9uKGNvbnRlbnRzLCBvcmlnaW4sIGhpbnQpIHsKCiAgICBjb25zb2xlLmxvZygnY29udGVudHMtPicsIGNvbnRlbnRzKTsKICAgIGNvbnNvbGUubG9nKCdvcmlnaW4tPicsIG9yaWdpbik7CiAgICBjb25zb2xlLmxvZygnaGludC0+JywgaGludCk7CgogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgIC8vdGhlIGhpbnQgZmllbGQgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIG9idGFpbmVkIGFmdGVyIHRoZSB1c2VyIGF1dGhlbnRpY2F0aW9uCiAgICAgIC8vIGlmIHRoZSBoaW50IGNvbnRlbnQgaXMgbm90IHByZXNlbnQsIHRoZW4gcmVqZWN0cyB0aGUgdmFsdWUgd2l0aCB0aGUgVVJMIHRvIG9wZW4gdGhlIHBhZ2UgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyCiAgICAgIHZhciBzID0gc2xhY2tJbmZvOwogICAgICBpZiAoIWhpbnQpIHsKICAgICAgICAvL2xldCByZXF1ZXN0VXJsID0gaHR0cHM6Ly9zbGFjay5jb20vb2F1dGgvYXV0aG9yaXplP2NsaWVudF9pZD0xMTUzMzYwMzg3Mi43MjQzNDkzNDM1NiZzY29wZT1jaGF0OndyaXRlOnVzZXImcmVkaXJlY3RfdXJpPWh0dHBzOi8vd3d3LmdldHBvc3RtYW4uY29tL29hdXRoMi9jYWxsYmFjazsKCiAgICAgICAgdmFyIHJlcXVlc3RVcmwgPSBzLmNvZGVFbmRwb2ludCArICdjbGllbnRfaWQ9JyArIHMuY2xpZW50SUQgKyAnJnNjb3BlPScgKyBzLnNjb3BlICsgJyZyZWRpcmVjdF91cmk9JyArIHMucmVkaXJlY3RVUkk7CgogICAgICAgIGNvbnNvbGUubG9nKCdmaXJzdCB1cmwgJywgcmVxdWVzdFVybCwgJ2RvbmUnKTsKICAgICAgICByZWplY3QoeyBuYW1lOiAnSWRQTG9naW5FcnJvcicsIGxvZ2luVXJsOiByZXF1ZXN0VXJsIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBjb2RlID0gdXJsUGFyc2VyKGhpbnQsICdjb2RlJyk7CiAgICAgICAgY29uc29sZS5sb2coJ2NvZGUnLCBjb2RlKTsKICAgICAgICBleGNoYW5nZUNvZGUoY29kZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCiAgICAgICAgICBjb25zb2xlLmxvZygndmFsdWUgQUZURVIgZXhjaGFuZ2VDb2RlJywgdmFsdWUpOwoKICAgICAgICAgIHZhciBpbmZvVXJsID0gcy5pbmZvRW5kcG9pbnQgKyAndG9rZW49JyArIHZhbHVlLmFjY2Vzc190b2tlbiArICcmdXNlcj0nICsgdmFsdWUudXNlcl9pZDsKCiAgICAgICAgICBzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsIGluZm9VcmwpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2luZm8tPicsIGluZm8pOwoKICAgICAgICAgICAgdmFyIHByb2ZpbGUgPSBpbmZvLnVzZXIucHJvZmlsZTsKICAgICAgICAgICAgdmFyIGluZm9Ub2tlbiA9IHsgcGljdHVyZTogcHJvZmlsZS5pbWFnZV9vcmlnaW5hbCwgZW1haWw6IHByb2ZpbGUuZW1haWwsIGZhbWlseV9uYW1lOiBwcm9maWxlLmxhc3RfbmFtZSwgZ2l2ZW5fbmFtZTogcHJvZmlsZS5maXJzdF9uYW1lLCBpZDogaW5mby51c2VyLmlkIH07CgogICAgICAgICAgICB2YXIgYXNzZXJ0aW9uID0gYnRvYShKU09OLnN0cmluZ2lmeSh7IHRva2VuSUQ6IHZhbHVlLmFjY2Vzc190b2tlbiwgZW1haWw6IHByb2ZpbGUuZW1haWwsIGlkOiBpbmZvLnVzZXIuaWQgfSkpOwoKICAgICAgICAgICAgdmFyIHRvUmVzb2x2ZSA9IHsgYXNzZXJ0aW9uOiBhc3NlcnRpb24sIGlkcDogeyBkb21haW46ICdzbGFjay5jb20nLCBwcm90b2NvbDogJ09BdXRoIDIuMCcgfSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4sIGludGVyd29ya2luZzogeyBhY2Nlc3NfdG9rZW46IHZhbHVlLmFjY2Vzc190b2tlbiwgZG9tYWluOiAnc2xhY2suY29tJyB9LCBpbmZvOiB7IGV4cGlyZXM6IDMxNTM2MDAwMDAgfSB9OwogICAgICAgICAgICBjb25zb2xlLmxvZygnUkVTT0xWSU5HIFRISVMgT0JKRUNUJywgdG9SZXNvbHZlKTsKICAgICAgICAgICAgcmVzb2x2ZSh0b1Jlc29sdmUpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvci0+JywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTsKCi8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5IFByb3RvY29sIFN0dWIKKi8KCnZhciBTbGFja1Byb3h5U3R1YiA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1YgogICogVGhlIGNvbnN0cnVjdG9yIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBtZXNzYWdlQnVzIHJlY2VpdmVkIGFuZCBzdGFydCBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgcmVjZWl2ZWQgaWRwUHJveHkKICAqCiAgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbgogICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAgKi8KICBmdW5jdGlvbiBTbGFja1Byb3h5U3R1YihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsYWNrUHJveHlTdHViKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gYnVzOwogICAgX3RoaXMuY29uZmlnID0gY29uZmlnOwoKICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIC8vVE9ETyBhZGQgdGhlIHJlc3BlY3RpdmUgbGlzdGVuZXIKICAgICAgaWYgKG1zZy50byA9PT0gJ2RvbWFpbi1pZHA6Ly9zbGFjay5jb20nKSB7CiAgICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7CiAgICAgIH0KICAgIH0pOwogICAgX3RoaXMuX3NlbmRTdGF0dXMoJ2NyZWF0ZWQnKTsKICB9CgogIC8qKgogICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbgogICoKICAqIEBwYXJhbSB7bWVzc2FnZX0gIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2VCdXMKICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFNsYWNrUHJveHlTdHViLCBbewogICAga2V5OiAncmVxdWVzdFRvSWRwJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CgogICAgICBzd2l0Y2ggKG1zZy5ib2R5Lm1ldGhvZCkgewogICAgICAgIGNhc2UgJ2dlbmVyYXRlQXNzZXJ0aW9uJzoKICAgICAgICAgIGlkcC5nZW5lcmF0ZUFzc2VydGlvbihwYXJhbXMuY29udGVudHMsIHBhcmFtcy5vcmlnaW4sIHBhcmFtcy51c2VybmFtZUhpbnQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3ZhbGlkYXRlQXNzZXJ0aW9uJzoKICAgICAgICAgIGlkcC52YWxpZGF0ZUFzc2VydGlvbihwYXJhbXMuYXNzZXJ0aW9uLCBwYXJhbXMub3JpZ2luKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQKICAgICoKICAgICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZAogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVwbHlNZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLCBib2R5OiB7IGNvZGU6IDIwMCwgdmFsdWU6IHZhbHVlIH0gfTsKCiAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX3NlbmRTdGF0dXMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZW5kU3RhdHVzKHZhbHVlLCByZWFzb24pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdbU2xhY2sgSWRwIFByb3h5IHN0YXR1cyBjaGFuZ2VkXSB0byAnLCB2YWx1ZSk7CgogICAgICBfdGhpcy5fc3RhdGUgPSB2YWx1ZTsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgdHlwZTogJ3VwZGF0ZScsCiAgICAgICAgZnJvbTogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCwKICAgICAgICB0bzogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCArICcvc3RhdHVzJywKICAgICAgICBib2R5OiB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAocmVhc29uKSB7CiAgICAgICAgbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjsKICAgICAgfQoKICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2cpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNsYWNrUHJveHlTdHViOwp9KCk7CgovKioKICogVG8gYWN0aXZhdGUgdGhpcyBwcm90b2NvbCBzdHViLCB1c2luZyB0aGUgc2FtZSBtZXRob2QgZm9yIGFsbCBwcm90b3N0dWIuCiAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTAogKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViCiAqLwoKCmZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKICByZXR1cm4gewogICAgbmFtZTogJ1NsYWNrUHJveHlTdHViJywKICAgIGluc3RhbmNlOiBuZXcgU2xhY2tQcm94eVN0dWIodXJsLCBidXMsIGNvbmZpZykKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKLyoqKi8gfSkKLyoqKioqKi8gXSk7Cn0pOw==",
      "sourceCodeClassname": "SlackProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df2",
    "version": 0.5,
    "description": "Description of SlackProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": true,
    "objectName": "slack.com",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  },
  "MicrosoftProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCWlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JykKCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZSgiYWN0aXZhdGUiLCBbXSwgZmFjdG9yeSk7CgllbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykKCQlleHBvcnRzWyJhY3RpdmF0ZSJdID0gZmFjdG9yeSgpOwoJZWxzZQoJCXJvb3RbImFjdGl2YXRlIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSd1c2Ugc3RyaWN0JzsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCglleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCglmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCgl2YXIgbWljcm9zb2Z0SW5mbyA9IHsKCSAgY2xpZW50SUQ6ICc3ZTJmMzU4OS00YjM4LTRiMWMtYTMyMS1jOTI1MWRlMDBlZjInLAoJICByZWRpcmVjdFVSSTogbG9jYXRpb24ub3JpZ2luLAoJICB0b2tlbkVuZHBvaW50OiAnaHR0cHM6Ly9sb2dpbi53aW5kb3dzLm5ldC9jb21tb24vb2F1dGgyL2F1dGhvcml6ZT8nLAoJICB0eXBlOiAnaWRfdG9rZW4nLAoJICBzY29wZTogJ29wZW5pZCcsCgkgIG1vZGU6ICdmcmFnbWVudCcKCX07CgoJLyoNCglJTlNUUlVDVElPTlMgVE8gQUREIEFOT1RIRVIgRE9NQUlOUyBUTyBCRSBBVVRIT1JJU0VEDQoNCglIb3cgdG8gY2hhbmdlIGluZm9ybWF0aW9uICh1c2luZyB0aGUgcmV0aGlua1Byb2plY3QyMDIwQG91dGxvb2suY29tIGFjY291bnQpOg0KCXVzZXI6IHJldGhpbmtQcm9qZWN0MjAyMEBvdXRsb29rLmNvbQ0KCXBhc3M6IDQ1JWFzZDM0IXpEMiYNCg0KCW90aGVyIHRlc3QgYWNjb3VudHM6DQoJdXNlcjogb3BlbmlkdGVzdDEwQG91dGxvb2suY29tDQoJcGFzczogdGVzdE9wZW5JRDEwDQoNCgkxwrogaHR0cHM6Ly9wb3J0YWwuYXp1cmUuY29tLyAtPiBleGFtcGxlDQoJMsK6IGdvIHRvIHRoZSBsZWZ0IHNpZGUgYmFyIC0+IG1vcmUgc2VydmljZXMgLT4gQXp1cmUgYWN0aXZlIGRpcmVjdG9yeQ0KCTPCuiBvcGVuIGEgc21hbGwgYm94IG9uIHRoZSByaWd0aCBzYXlpbmcgIkFwcCByZWdpc3RyYXRpb25zIi4NCgk0wrogb24gcmlnaHQgb2YgdGhlIHBhZ2UgLT4gInJldGhpbmsgUHJvamVjdCIgLT4gcmVkaXJlY3QgVVJJcw0KCTXCuiBBZGQgdGhlIFVSSSB0byBiZSBhdXRob3Jpc2VkIGZvciB0aGUgcmVxdWVzdHMuDQoNCglUTyBBREQgTU9SRSBVU0VSUyBUSEFUIEFSRSBBTExPVyBUTyBNQURFIFJFUVVFU1QgKG1heWJlIGJlY2F1c2UgaXMgYSB0cmlhbCBhY2NvdW50LCBpdCBpcyByZXF1aXJlZCAgdG8gYWRkIHVzZXJzIHRvIHRoZSBsaXN0IG9mIHRoZSB1c2VycyB0aGF0IGNhbiBtYWtlIHJlcXVlc3RzIGZvciB0aGUgT0lEQyApDQoNCgkxwrogaHR0cHM6Ly9wb3J0YWwuYXp1cmUuY29tLyAtPiBleGFtcGxlDQoJMsK6IGdvIHRvIHRoZSBsZWZ0IHNpZGUgYmFyIC0+IG1vcmUgc2VydmljZXMgLT4gQXp1cmUgYWN0aXZlIGRpcmVjdG9yeQ0KCTPCuiBvcGVuIGEgc21hbGwgYm94IG9uIHRoZSBtaWRkbGUgc2F5aW5nICJVc2VycyBhbmQgZ3JvdXBzIi4NCgk0wrogb24gcmlnaHQgb2YgdGhlIHBhZ2UgLT4gIkFsbCB1c2VycyIgLT4gdG9wIGJ1dHRvbiAiICsgYWRkIg0KCTXCuiBmaWxsIHdpdGggdGhlIGluZm9ybWF0aW9uIGFuZCBjbGljayBjcmVhdGUNCgkqLwoKCS8qKg0KCSogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkNCgkqLwoJdmFyIGlkcCA9IHsKCgkgIC8qKg0KCSAgKiBGdW5jdGlvbiB0byB2YWxpZGF0ZSBhbiBpZGVudGl0eSBBc3NlcnRpb24gcmVjZWl2ZWQNCgkgICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIHRoZSBpbXBsZW1lbnRhdGlvbg0KCSAgKg0KCSAgKiBAcGFyYW0gIHthc3NlcnRpb259ICAgIElkZW50aXR5IEFzc2VydGlvbiB0byBiZSB2YWxpZGF0ZWQNCgkgICogQHBhcmFtICB7b3JpZ2lufSAgICAgICBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbg0KCSAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdA0KCSAgKi8KCSAgdmFsaWRhdGVBc3NlcnRpb246IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbiwgb3JpZ2luKSB7CgkgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCgkgICAgICB2YXIgaWRUb2tlbiA9IEpTT04ucGFyc2UoYXRvYihhc3NlcnRpb24pKTsKCgkgICAgICByZXNvbHZlKHsgaWRlbnRpdHk6IGlkVG9rZW4uZW1haWwsIGNvbnRlbnRzOiBpZFRva2VuLm5vbmNlIH0pOwoJICAgIH0pOwoJICB9LAoKCSAgLyoqDQoJICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbg0KCSAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgaW1wbGVtZW50YXRpb24NCgkgICoNCgkgICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQNCgkgICogQHBhcmFtICB7b3JpZ2lufSBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbg0KCSAgKiBAcGFyYW0gIHt1c2VybmFtZUhpbnR9IG9wdGlvbmFsIHVzZXJuYW1lSGludCBwYXJhbWV0ZXINCgkgICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24NCgkgICovCgkgIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgoJICAgIC8vc3RhcnQgdGhlIGxvZ2luIHBoYXNlCgkgICAgLy9UT0RPIGxhdGVyIHNob3VsZCBiZSBkZWZpbmVkIGEgYmV0dGVyIGFwcHJvYWNoCgkgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCSAgICAgIGlmICghaGludCkgewoJICAgICAgICB2YXIgbSA9IG1pY3Jvc29mdEluZm87CgoJICAgICAgICAvL2xldCByZXF1ZXN0VXJsID0gJ2h0dHBzOi8vbG9naW4ud2luZG93cy5uZXQvY29tbW9uL29hdXRoMi9hdXRob3JpemU/cmVzcG9uc2VfdHlwZT1pZF90b2tlbiZjbGllbnRfaWQ9N2UyZjM1ODktNGIzOC00YjFjLWEzMjEtYzkyNTFkZTAwZWYyJnNjb3BlPW9wZW5pZCZub25jZT03MzYyQ0FFQS05Q0E1LTRCNDMtOUJBMy0zNEQ3QzMwM0VCQTcmcmVzcG9uc2VfbW9kZT1mcmFnbWVudCZyZWRpcmVjdF91cmk9JyArIGxvY2F0aW9uLm9yaWdpbjsKCgkgICAgICAgIHZhciByZXF1ZXN0VXJsID0gbS50b2tlbkVuZHBvaW50ICsgJ3Jlc3BvbnNlX3R5cGU9JyArIG0udHlwZSArICcmY2xpZW50X2lkPScgKyBtLmNsaWVudElEICsgJyZzY29wZT0nICsgbS5zY29wZSArICcmbm9uY2U9JyArIGNvbnRlbnRzICsgJyZyZXNwb25zZV9tb2RlPScgKyBtLm1vZGUgKyAnJnJlZGlyZWN0X3VyaT0nICsgbS5yZWRpcmVjdFVSSTsKCgkgICAgICAgIHJlamVjdCh7IG5hbWU6ICdJZFBMb2dpbkVycm9yJywgbG9naW5Vcmw6IHJlcXVlc3RVcmwgfSk7CgkgICAgICB9IGVsc2UgewoKCSAgICAgICAgLy9sYXRlciB2ZXJpZnkgdGhlIHRva2VuIGFuZCB1c2UgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIEpXVAoKCSAgICAgICAgdmFyIHRva2VuID0gaGludC5zcGxpdCgnLycpOwoJICAgICAgICB2YXIgdG9rZW5TcGxpdGVkID0gdG9rZW5bM107CgoJICAgICAgICB2YXIgaGludFNwbGl0ZWQgPSB0b2tlblNwbGl0ZWQuc3BsaXQoJy4nKTsKCgkgICAgICAgIHZhciBpZFRva2VuID0gSlNPTi5wYXJzZShhdG9iKGhpbnRTcGxpdGVkWzFdKSk7CgoJICAgICAgICB2YXIgaWRwQnVuZGxlID0geyBkb21haW46ICdtaWNyb3NvZnQuY29tJywgcHJvdG9jb2w6ICdPSURDJyB9OwoJICAgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7IGFzc2VydGlvbjogaGludFNwbGl0ZWRbMV0sIGlkcDogaWRwQnVuZGxlLCBpbmZvVG9rZW46IGlkVG9rZW4gfTsKCgkgICAgICAgIHJlc29sdmUoaWRlbnRpdHlCdW5kbGUpOwoJICAgICAgfQoJICAgIH0pOwoJICB9Cgl9OwoKCS8qKg0KCSogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1Yg0KCSovCgoJdmFyIE1pY3Jvc29mdFByb3h5U3R1YiA9IGZ1bmN0aW9uICgpIHsKCgkgIC8qKg0KCSAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1Yg0KCSAgKiBUaGUgY29uc3RydWN0b3IgYWRkIGEgbGlzdGVuZXIgaW4gdGhlIG1lc3NhZ2VCdXMgcmVjZWl2ZWQgYW5kIHN0YXJ0IGEgd2ViIHdvcmtlciB3aXRoIHRoZSBpZHBQcm94eSByZWNlaXZlZA0KCSAgKg0KCSAgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwNCgkgICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uDQoJICAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbg0KCSAgKi8KCSAgZnVuY3Rpb24gTWljcm9zb2Z0UHJveHlTdHViKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnKSB7CgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pY3Jvc29mdFByb3h5U3R1Yik7CgoJICAgIHZhciBfdGhpcyA9IHRoaXM7CgkgICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CgkgICAgX3RoaXMubWVzc2FnZUJ1cyA9IGJ1czsKCSAgICBfdGhpcy5jb25maWcgPSBjb25maWc7CgoJICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7CgkgICAgICBpZiAobXNnLnRvID09PSAnZG9tYWluLWlkcDovL21pY3Jvc29mdC5jb20nKSB7CgoJICAgICAgICBfdGhpcy5yZXF1ZXN0VG9JZHAobXNnKTsKCSAgICAgIH0KCSAgICB9KTsKCSAgICBfdGhpcy5fc2VuZFN0YXR1cygnY3JlYXRlZCcpOwoJICB9CgoJICAvKioNCgkgICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbg0KCSAgKg0KCSAgKiBAcGFyYW0ge21lc3NhZ2V9ICBtZXNzYWdlIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlQnVzDQoJICAqLwoKCgkgIF9jcmVhdGVDbGFzcyhNaWNyb3NvZnRQcm94eVN0dWIsIFt7CgkgICAga2V5OiAncmVxdWVzdFRvSWRwJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdFRvSWRwKG1zZykgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCSAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CgoJICAgICAgc3dpdGNoIChtc2cuYm9keS5tZXRob2QpIHsKCSAgICAgICAgY2FzZSAnZ2VuZXJhdGVBc3NlcnRpb24nOgoJICAgICAgICAgIGlkcC5nZW5lcmF0ZUFzc2VydGlvbihwYXJhbXMuY29udGVudHMsIHBhcmFtcy5vcmlnaW4sIHBhcmFtcy51c2VybmFtZUhpbnQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CgkgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgYnJlYWs7CgkgICAgICAgIGNhc2UgJ3ZhbGlkYXRlQXNzZXJ0aW9uJzoKCSAgICAgICAgICBpZHAudmFsaWRhdGVBc3NlcnRpb24ocGFyYW1zLmFzc2VydGlvbiwgcGFyYW1zLm9yaWdpbikudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKCSAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICBicmVhazsKCSAgICAgICAgZGVmYXVsdDoKCSAgICAgICAgICBicmVhazsKCSAgICAgIH0KCSAgICB9CgoJICAgIC8qKg0KCSAgICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkDQoJICAgICoNCgkgICAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWQNCgkgICAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmQNCgkgICAgKi8KCgkgIH0sIHsKCSAgICBrZXk6ICdyZXBseU1lc3NhZ2UnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSkgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCgkgICAgICB2YXIgbWVzc2FnZSA9IHsgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgdG86IG1zZy5mcm9tLCBmcm9tOiBtc2cudG8sCgkgICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCB2YWx1ZTogdmFsdWUgfSB9OwoKCSAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnX3NlbmRTdGF0dXMnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VuZFN0YXR1cyh2YWx1ZSwgcmVhc29uKSB7CgkgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICAgIGNvbnNvbGUubG9nKCdbR29vZ2xlSWRwUHJveHkuc2VuZFN0YXR1c10gJywgdmFsdWUpOwoKCSAgICAgIF90aGlzLl9zdGF0ZSA9IHZhbHVlOwoKCSAgICAgIHZhciBtc2cgPSB7CgkgICAgICAgIHR5cGU6ICd1cGRhdGUnLAoJICAgICAgICBmcm9tOiBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMLAoJICAgICAgICB0bzogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCArICcvc3RhdHVzJywKCSAgICAgICAgYm9keTogewoJICAgICAgICAgIHZhbHVlOiB2YWx1ZQoJICAgICAgICB9CgkgICAgICB9OwoKCSAgICAgIGlmIChyZWFzb24pIHsKCSAgICAgICAgbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjsKCSAgICAgIH0KCgkgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4gTWljcm9zb2Z0UHJveHlTdHViOwoJfSgpOwoKCS8vIGV4cG9ydCBkZWZhdWx0IElkcFByb3h5UHJvdG9TdHViOwoKCS8qKg0KCSAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLg0KCSAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbg0KCSAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbg0KCSAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViDQoJICovCgoKCWZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKCSAgcmV0dXJuIHsKCSAgICBuYW1lOiAnTWljcm9zb2Z0UHJveHlTdHViJywKCSAgICBpbnN0YW5jZTogbmV3IE1pY3Jvc29mdFByb3h5U3R1Yih1cmwsIGJ1cywgY29uZmlnKQoJICB9OwoJfQoJbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9Ci8qKioqKiovIF0pCn0pOwo7",
      "sourceCodeClassname": "MicrosoftProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df3",
    "version": 0.2,
    "description": "Description of MicrosoftProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": false,
    "objectName": "microsoft.com",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  },
  "OrangeProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCWlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JykKCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZSgiYWN0aXZhdGUiLCBbXSwgZmFjdG9yeSk7CgllbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykKCQlleHBvcnRzWyJhY3RpdmF0ZSJdID0gZmFjdG9yeSgpOwoJZWxzZQoJCXJvb3RbImFjdGl2YXRlIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSJ1c2Ugc3RyaWN0IjsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCglleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCglmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCgkvKioNCgkqIElkZW50aXR5UHJveHkgLS0gTk9ERSBPUEVOSUQgQ09OTkVDVCBTZXJ2ZXINCgkqDQoJKiBJbml0aWFsIHNwZWNpZmljYXRpb246IEQ0LjENCgkqDQoJKiBUaGUgSWRlbnRpdHlNb2R1bGUgaXMgYSBjb21wb25lbnQgbWFuYWdpbmcgdXNlciBJZGVudGl0eS4gSXQgZG93bmxvYWRzLCBpbnN0YW50aWF0ZXMNCgkqIGFuZCBtYW5hZ2UgSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgKElkUCkgZm9yIGl0cyBvd24gdXNlciBpZGVudGl0eSBvciBmb3IgZXh0ZXJuYWwNCgkqIHVzZXIgaWRlbnRpdHkgdmVyaWZpY2F0aW9uLg0KCSoNCgkqIFRoZSBJZFAgY29udGFpbnMgbWV0aG9kcyBhbmQgcGFyYW1ldGVycyB0byBhY3R1YWxseSBhY2Nlc3MgYW5kIG1ha2UgcmVxdWVzdA0KCSogdG8gdGhlIElkUCBTZXJ2ZXIuIEFsdGVybmF0aXZlbHkgc29tZSBmdW5jdGlvbm5hbGl0aWVzIGNhbiBiZSBkb25lIGxvY2FsbHkuDQoJKg0KCSovCgl2YXIgU0NIRU1FID0gImh0dHBzOi8vIiwKCSAgICBTT1VSQ0VVUkwgPSAiZW5lcmd5cS5pZHAucmV0aGluay5vcmFuZ2UtbGFicy5mciIsCgoJLy9TT1VSQ0VVUkwgPSAnMTkyLjE2OC45OS4xMDA6ODA4MCcsCglBVVRIUEFUSCA9ICIvcHJveHkvYXV0aG9yaXplIiwKCSAgICBWRVJJRllQQVRIID0gIi9wcm94eS92ZXJpZnkiLAoJICAgIERPTkVQQVRIID0gIi9wcm94eS9kb25lIiwKCSAgICBLRVlQQVRIID0gJy9wcm94eS9rZXknLAoJICAgIElEUEFUSCA9ICcvcHJveHkvaWQnLAoJICAgIFBST1hZVFlQRSA9ICdyZXRoaW5rLW9pZGMnLAoJICAgIElEU0NPUEUgPSAnb3BlbmlkJywKCSAgICBGVUxMU0NPUEUgPSAnb3BlbmlkIHdlYnJ0YycsCgkgICAgVFlQRSA9ICdpZF90b2tlbiB0b2tlbic7CgkvL3ZhciBUWVBFICAgICAgID0gICAnY29kZSc7CgoJdmFyIGlkcF9hZGRyID0geyAnZG9tYWluJzogU09VUkNFVVJMLCAncHJvdG9jb2wnOiBQUk9YWVRZUEUgfTsKCglpZiAodHlwZW9mIGNvbnNvbGUgPT0gInVuZGVmaW5lZCIpIHsKCSAgdW5kZWZpbmVkLmNvbnNvbGUgPSB7CgkgICAgbG9nOiBmdW5jdGlvbiBsb2coKSB7fSwKCSAgICB3YXJuOiBmdW5jdGlvbiB3YXJuKCkge30KCSAgfTsKCX0KCgkvL2Z1bmN0aW9uIHRvIHBhcnNlIHRoZSBxdWVyeSBzdHJpbmcgaW4gdGhlIGdpdmVuIFVSTCB0byBvYmF0aW4gY2VydGFpbiB2YWx1ZXMKCWZ1bmN0aW9uIHVybFBhcnNlcih1cmwsIG5hbWUpIHsKCSAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xbXS8sICdcXFxbJykucmVwbGFjZSgvW1xdXS8sICdcXFxdJyk7CgkgIHZhciByZWdleFMgPSAnW1xcIyY/XScgKyBuYW1lICsgJz0oW14mI10qKSc7CgkgIHZhciByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhTKTsKCSAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7CgkgIGlmIChyZXN1bHRzID09PSBudWxsKSByZXR1cm4gJyc7ZWxzZSByZXR1cm4gcmVzdWx0c1sxXTsKCX0KCglmdW5jdGlvbiBnZXRQcm94eUtleSgpIHsKCSAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCSAgICB2YXIgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJICAgIHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgaWYgKHhtbGh0dHAucmVhZHlTdGF0ZSA9PSA0ICYmIHhtbGh0dHAuc3RhdHVzID09IDIwMCkgewoJICAgICAgICB2YXIgcmVzID0gSlNPTi5wYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7CgkgICAgICAgIHJlcy5lcnJvciAhPSB1bmRlZmluZWQgPyByZWplY3QocmVzLmVycm9yKSA6IHJlc29sdmUocmVzKTsKCSAgICAgIH0KCSAgICB9OwoJICAgIHhtbGh0dHAub3BlbigiR0VUIiwgU0NIRU1FICsgU09VUkNFVVJMICsgS0VZUEFUSCwgdHJ1ZSk7CgkgICAgeG1saHR0cC5zZW5kKCk7CgkgIH0pOwoJfWZ1bmN0aW9uIGdldFByb3h5SUQoKSB7CgkgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkgICAgdmFyIHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCSAgICB4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgIGlmICh4bWxodHRwLnJlYWR5U3RhdGUgPT0gNCAmJiB4bWxodHRwLnN0YXR1cyA9PSAyMDApIHsKCSAgICAgICAgdmFyIHJlcyA9IEpTT04ucGFyc2UoeG1saHR0cC5yZXNwb25zZVRleHQpOwoJICAgICAgICByZXMuZXJyb3IgIT0gdW5kZWZpbmVkID8gcmVqZWN0KHJlcy5lcnJvcikgOiByZXNvbHZlKHJlcy5rZXkpOwoJICAgICAgfQoJICAgIH07CgkgICAgeG1saHR0cC5vcGVuKCJHRVQiLCBTQ0hFTUUgKyBTT1VSQ0VVUkwgKyBJRFBBVEgsIHRydWUpOwoJICAgIHhtbGh0dHAuc2VuZCgpOwoJICB9KTsKCX0KCWZ1bmN0aW9uIGdldElkQXNzZXJ0aW9uKCkgewoJICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoJICAgIHZhciB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgkgICAgeG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICBpZiAoeG1saHR0cC5yZWFkeVN0YXRlID09IDQgJiYgeG1saHR0cC5zdGF0dXMgPT0gMjAwKSB7CgkgICAgICAgIHZhciByZXMgPSBKU09OLnBhcnNlKHhtbGh0dHAucmVzcG9uc2VUZXh0KTsKCSAgICAgICAgcmVzLmVycm9yICE9IHVuZGVmaW5lZCA/IHJlamVjdChyZXMuZXJyb3IpIDogcmVzb2x2ZShyZXMua2V5KTsKCSAgICAgIH0KCSAgICB9OwoJICAgIHhtbGh0dHAub3BlbigiR0VUIiwgU0NIRU1FICsgU09VUkNFVVJMICsgSURQQVRILCB0cnVlKTsKCSAgICB4bWxodHRwLnNlbmQoKTsKCSAgfSk7Cgl9CglmdW5jdGlvbiBzdHIyYWIoc3RyKSB7CgkgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoc3RyLmxlbmd0aCk7CgkgIHZhciBidWZWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsKCSAgZm9yICh2YXIgaSA9IDAsIHN0ckxlbiA9IHN0ci5sZW5ndGg7IGkgPCBzdHJMZW47IGkrKykgewoJICAgIGJ1ZlZpZXdbaV0gPSBzdHIuY2hhckNvZGVBdChpKTsKCSAgfQoJICByZXR1cm4gYnVmOwoJfQoKCWZ1bmN0aW9uIGFiMnN0cihidWYpIHsKCSAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmKSk7Cgl9CgoJLy8gSURQIFByb3h5IGNvZGUKCXZhciBpZHAgPSB7CgkgIC8qKg0KCSAgKiBHZW5lcmF0aW9uIG9mIGFuIElkQXNzZXJ0aW9uIHRocm91Z2ggT0lEQyBJZFANCgkgICovCgkgIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgkgICAgaWYgKGhpbnQpIHsKCgkgICAgICB2YXIgaWRUb2tlbiA9IHVybFBhcnNlcihoaW50LCAnaWRfdG9rZW4nKTsKCgkgICAgICB2YXIgaWRwQnVuZGxlID0geyBkb21haW46ICdvcmFuZ2UuZnInLCBwcm90b2NvbDogJ09JREMnIH07CgkgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7IGFzc2VydGlvbjogaWRUb2tlbiwgaWRwOiBpZHBCdW5kbGUgfTsKCgkgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGlkZW50aXR5QnVuZGxlKTsKCSAgICB9IGVsc2UgewoJICAgICAgLy9Db21wdXRlIG5vbmNlICsgY29udGVudAoJICAgICAgdmFyIG5vbmNlID0gYnRvYShKU09OLnN0cmluZ2lmeSh7ICdzZHAnOiBjb250ZW50cywgJ24nOiBNYXRoLnJhbmRvbSgpIH0pKTsKCSAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkgICAgICAgIHJldHVybiBnZXRQcm94eUlEKCkudGhlbihmdW5jdGlvbiAoSUQpIHsKCSAgICAgICAgICB2YXIgX3VybCA9IFNDSEVNRSArIFNPVVJDRVVSTCArIEFVVEhQQVRIICsgJz9zY29wZT0nICsgSURTQ09QRSArICcmY2xpZW50X2lkPScgKyBJRCArICcmcmVkaXJlY3RfdXJpPScgKyBTQ0hFTUUgKyBTT1VSQ0VVUkwgKyBET05FUEFUSCArICcmcmVzcG9uc2VfdHlwZT0nICsgVFlQRSArICcmbm9uY2U9JyArIG5vbmNlOwoKCSAgICAgICAgICAvL3JlbW92ZWQgV2VicnRjIHNjb3BlIGFuZCBydGNzZHAKCgkgICAgICAgICAgcmVqZWN0KHsgJ25hbWUnOiAnSWRwTG9naW5FcnJvcicsICdsb2dpblVybCc6IF91cmwgfSk7CgkgICAgICAgIH0pOwoJICAgICAgfSk7CgkgICAgfQoJICB9LAoJICAvKioNCgkgICogVmVyaWZpY2F0aW9uIG9mIGEgcmVjZWl2ZWQgSWRBc3NlcnRpb24gdmFsaWRpdHkNCgkgICogQ2FuIGFsc28gYmUgdXNlZCB0byB2YWxpZGF0ZSB0b2tlbiByZWNlaXZlZCBieSBJZFANCgkgICogQHBhcmFtICB7RE9NU3RyaW5nfSBhc3NlcnRpb24gYXNzZXJ0aW9uDQoJICAqLwoJICB2YWxpZGF0ZUFzc2VydGlvbjogZnVuY3Rpb24gdmFsaWRhdGVBc3NlcnRpb24oYXNzZXJ0aW9uIC8qLCBvcmlnaW4gKi8pIHsKCSAgICBhc3NlcnRpb24gPSBhc3NlcnRpb24uc3BsaXQoIi4iKTsKCSAgICB2YXIgaGVhZGVyID0gYXNzZXJ0aW9uWzBdLAoJICAgICAgICBwYXlsb2FkID0gYXNzZXJ0aW9uWzFdLAoJICAgICAgICBzaWduYXR1cmUgPSBhc3NlcnRpb25bMl07CgkgICAgLy9UT0RPIHRoZXJlIGlzIHByb2JhYmx5IGEgYmV0dGVyIHdheSB0byBkbyB0aGF0PwoJICAgIHNpZ25hdHVyZSA9IHNpZ25hdHVyZS5yZXBsYWNlKC9fL2csICIvIikucmVwbGFjZSgvLS9nLCAiKyIpOwoJICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgkgICAgICByZXR1cm4gZ2V0UHJveHlLZXkoKS50aGVuKGZ1bmN0aW9uIChLZXkpIHsKCSAgICAgICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdqd2snLCBLZXksIHsgbmFtZTogJ1JTQVNTQS1QS0NTMS12MV81JywgaGFzaDogeyBuYW1lOiAiU0hBLTI1NiIgfSB9LCB0cnVlLCBbJ3ZlcmlmeSddKTsKCSAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKEpXSykgewoJICAgICAgICByZXR1cm4gKAoJICAgICAgICAgIC8vY3J5cHRvLnZlcmlmeShhbGdvLCBrZXksIHNpZ25hdHVyZSwgdGV4dDJ2ZXJpZnkpOwoJICAgICAgICAgIGNyeXB0by5zdWJ0bGUudmVyaWZ5KCdSU0FTU0EtUEtDUzEtdjFfNScsIEpXSywgc3RyMmFiKGF0b2Ioc2lnbmF0dXJlKSksIC8vQXJyYXlCdWZmZXIgb2YgdGhlIHNpZ25hdHVyZSwKCSAgICAgICAgICBzdHIyYWIoaGVhZGVyICsgIi4iICsgcGF5bG9hZCkpCgkgICAgICAgICk7CgkgICAgICB9KSAvL0FycmF5QnVmZmVyIG9mIHRoZSBkYXRhCgkgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CgkgICAgICAgIGlmICghcmVzdWx0KSByZWplY3QoeyAnbmFtZSc6ICdJZHBFcnJvcicsICdtZXNzYWdlJzogJ0ludmFsaWQgc2lnbmF0dXJlIG9uIGlkZW50aXR5IGFzc2VydGlvbicgfSk7ZWxzZSB7CgkgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGF0b2IocGF5bG9hZCkpOwoJICAgICAgICAgIC8vIGhhY2sgdG8gZ2V0IG9ubHkgdGhlIG5hbWUgYW5kIHJlbW92ZSBhbnkgQG1haWwuY29tCgkgICAgICAgICAgLy8gTW96aWxsYSB3YW50IHVzIHRvIHByb3ZpZGUgYSB1c2VybmFtZSB3aXRoIG5hbWVARE9NQUlOCgkgICAgICAgICAgLy8gd2hlcmUgRE9NQUlOIGlzIElkUCBQcm94eSBET01BSU4KCSAgICAgICAgICB2YXIgbmFtZSA9IGpzb24uc3ViLnNwbGl0KCdAJylbMF07CgkgICAgICAgICAgLy8gRGVjb2RlIG5vbmNlIHRvIGdldCBjb250ZW50cwoJICAgICAgICAgIHZhciBjb250ZW50cyA9IEpTT04ucGFyc2UoYXRvYihqc29uLm5vbmNlKSkuc2RwOwoJICAgICAgICAgIHJlc29sdmUoeyAnaWRlbnRpdHknOiBuYW1lICsgJ0AnICsgaWRwX2FkZHIuZG9tYWluLCAnY29udGVudHMnOiBjb250ZW50cyB9KTsKCSAgICAgICAgfQoJICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CgkgICAgICAgIHJldHVybiByZWplY3QoeyAnbmFtZSc6ICdJZHBFcnJvcicsICdtZXNzYWdlJzogZXJyb3IgfSk7CgkgICAgICB9KTsKCSAgICB9KTsKCSAgfQoJfTsKCglpZiAodHlwZW9mIHJ0Y0lkZW50aXR5UHJvdmlkZXIgIT0gJ3VuZGVmaW5lZCcpIHsKCSAgcnRjSWRlbnRpdHlQcm92aWRlci5yZWdpc3RlcihpZHApOwoJICBjb25zb2xlLmxvZygiUHJveHkgbG9hZGVkIik7Cgl9IGVsc2UgewoJICBjb25zb2xlLndhcm4oJ0lkUCBub3QgcnVubmluZyBpbiB0aGUgcmlnaHQgc2FuZGJveCcpOwoJfQoKCS8qKg0KCSogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1Yg0KCSovCgoJdmFyIFJldGhpbmtPaWRjUHJvdG9TdHViID0gZnVuY3Rpb24gKCkgewoKCSAgLyoqDQoJICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViDQoJICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5IHJlY2VpdmVkDQoJICAqDQoJICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24NCgkgICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uDQoJICAqLwoJICBmdW5jdGlvbiBSZXRoaW5rT2lkY1Byb3RvU3R1YihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZykgewoJICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXRoaW5rT2lkY1Byb3RvU3R1Yik7CgoJICAgIHZhciBfdGhpcyA9IHRoaXM7CgkgICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CgkgICAgX3RoaXMubWVzc2FnZUJ1cyA9IGJ1czsKCSAgICBfdGhpcy5jb25maWcgPSBjb25maWc7CgoJICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7CgkgICAgICBpZiAobXNnLnRvID09ICdkb21haW4taWRwOi8vb3JhbmdlLmZyJykgewoJICAgICAgICAvKmxldCBuZXdWYWx1ZSA9IElkcFByb3h5LmdlbmVyYXRlQXNzZXJ0aW9uKCk7DQoJICAgICAgICBsZXQgbWVzc2FnZSA9IHtpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCB0bzogbXNnLmZyb20sIGZyb206IG1zZy50bywNCgkgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHtjb2RlOiAyMDAsIHZhbHVlOiBuZXdWYWx1ZSwgYnVzOiBidXMsIHJ1bnRpbWVQcm90b1N0dWJVUkw6IHJ1bnRpbWVQcm90b1N0dWJVUkx9fTsNCgkgICAgICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTsqLwoJICAgICAgICBfdGhpcy5yZXF1ZXN0VG9JZHAobXNnKTsKCSAgICAgIH0KCSAgICB9KTsKCSAgICBfdGhpcy5fc2VuZFN0YXR1cygnY3JlYXRlZCcpOwoJICB9CgoJICAvKioNCgkgICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbg0KCSAgKg0KCSAgKiBAcGFyYW0ge21lc3NhZ2V9ICBtZXNzYWdlIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlQnVzDQoJICAqLwoKCgkgIF9jcmVhdGVDbGFzcyhSZXRoaW5rT2lkY1Byb3RvU3R1YiwgW3sKCSAgICBrZXk6ICJyZXF1ZXN0VG9JZHAiLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKSB7CgkgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoJICAgICAgdmFyIHBhcmFtcyA9IG1zZy5ib2R5LnBhcmFtczsKCgkgICAgICBzd2l0Y2ggKG1zZy5ib2R5Lm1ldGhvZCkgewoJICAgICAgICBjYXNlICdnZW5lcmF0ZUFzc2VydGlvbic6CgkgICAgICAgICAgaWRwLmdlbmVyYXRlQXNzZXJ0aW9uKHBhcmFtcy5jb250ZW50cywgcGFyYW1zLm9yaWdpbiwgcGFyYW1zLnVzZXJuYW1lSGludCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKCSAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICBicmVhazsKCSAgICAgICAgY2FzZSAndmFsaWRhdGVBc3NlcnRpb24nOgoJICAgICAgICAgIGlkcC52YWxpZGF0ZUFzc2VydGlvbihwYXJhbXMuYXNzZXJ0aW9uLCBwYXJhbXMub3JpZ2luKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewoJICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpOwoJICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewoJICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwoJICAgICAgICAgIH0pOwoJICAgICAgICAgIGJyZWFrOwoJICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgIGJyZWFrOwoJICAgICAgfQoJICAgIH0KCgkgICAgLyoqDQoJICAgICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQNCgkgICAgKg0KCSAgICAqIEBwYXJhbSAge21lc3NhZ2V9ICAgbWVzc2FnZSByZWNlaXZlZA0KCSAgICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZA0KCSAgICAqLwoKCSAgfSwgewoJICAgIGtleTogInJlcGx5TWVzc2FnZSIsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIHJlcGx5TWVzc2FnZShtc2csIHZhbHVlKSB7CgkgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICAgIHZhciBtZXNzYWdlID0geyBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCB0bzogbXNnLmZyb20sIGZyb206IG1zZy50bywKCSAgICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiB2YWx1ZSB9IH07CgoJICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICJfc2VuZFN0YXR1cyIsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZW5kU3RhdHVzKHZhbHVlLCByZWFzb24pIHsKCSAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgoJICAgICAgY29uc29sZS5sb2coJ1tHb29nbGVJZHBQcm94eS5zZW5kU3RhdHVzXSAnLCB2YWx1ZSk7CgoJICAgICAgX3RoaXMuX3N0YXRlID0gdmFsdWU7CgoJICAgICAgdmFyIG1zZyA9IHsKCSAgICAgICAgdHlwZTogJ3VwZGF0ZScsCgkgICAgICAgIGZyb206IF90aGlzLnJ1bnRpbWVQcm90b1N0dWJVUkwsCgkgICAgICAgIHRvOiBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMICsgJy9zdGF0dXMnLAoJICAgICAgICBib2R5OiB7CgkgICAgICAgICAgdmFsdWU6IHZhbHVlCgkgICAgICAgIH0KCSAgICAgIH07CgoJICAgICAgaWYgKHJlYXNvbikgewoJICAgICAgICBtc2cuYm9keS5kZXNjID0gcmVhc29uOwoJICAgICAgfQoKCSAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnKTsKCSAgICB9CgkgIH1dKTsKCgkgIHJldHVybiBSZXRoaW5rT2lkY1Byb3RvU3R1YjsKCX0oKTsKCgkvLyBleHBvcnQgZGVmYXVsdCBJZHBQcm94eVByb3RvU3R1YjsKCgkvKioNCgkgKiBUbyBhY3RpdmF0ZSB0aGlzIHByb3RvY29sIHN0dWIsIHVzaW5nIHRoZSBzYW1lIG1ldGhvZCBmb3IgYWxsIHByb3Rvc3R1Yi4NCgkgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwNCgkgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24NCgkgKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb24NCgkgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1Yg0KCSAqLwoKCglmdW5jdGlvbiBhY3RpdmF0ZSh1cmwsIGJ1cywgY29uZmlnKSB7CgkgIHJldHVybiB7CgkgICAgbmFtZTogJ1JldGhpbmtPaWRjUHJvdG9TdHViJywKCSAgICBpbnN0YW5jZTogbmV3IFJldGhpbmtPaWRjUHJvdG9TdHViKHVybCwgYnVzLCBjb25maWcpCgkgIH07Cgl9Cgltb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKCi8qKiovIH0KLyoqKioqKi8gXSkKfSk7Cjs=",
      "sourceCodeClassname": "OrangeProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df4",
    "version": 0.2,
    "description": "Description of OrangeProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": false,
    "objectName": "orange.com",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  },
  "NodejsProxyStub": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKCWlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JykKCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZSgiYWN0aXZhdGUiLCBbXSwgZmFjdG9yeSk7CgllbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykKCQlleHBvcnRzWyJhY3RpdmF0ZSJdID0gZmFjdG9yeSgpOwoJZWxzZQoJCXJvb3RbImFjdGl2YXRlIl0gPSBmYWN0b3J5KCk7Cn0pKHRoaXMsIGZ1bmN0aW9uKCkgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSd1c2Ugc3RyaWN0JzsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCglleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCglmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCgkvKioNCgkqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5DQoJKi8KCgl2YXIgaWRwID0gewoKCSAgLyoqDQoJICAqIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbiByZWNlaXZlZA0KCSAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgdGhlIGltcGxlbWVudGF0aW9uDQoJICAqDQoJICAqIEBwYXJhbSAge2Fzc2VydGlvbn0gICAgSWRlbnRpdHkgQXNzZXJ0aW9uIHRvIGJlIHZhbGlkYXRlZA0KCSAgKiBAcGFyYW0gIHtvcmlnaW59ICAgICAgIE9yaWdpbiBwYXJhbWV0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBvcmlnaW4gb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uDQoJICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgUmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgaWRlbnRpdHkgYXNzZXJ0aW9uIHZhbGlkYXRpb24gcmVzdWx0DQoJICAqLwoJICB2YWxpZGF0ZUFzc2VydGlvbjogZnVuY3Rpb24gdmFsaWRhdGVBc3NlcnRpb24oYXNzZXJ0aW9uLCBvcmlnaW4pIHsKCgkgICAgLy9UT0RPIGNoZWNrIHRoZSB2YWx1ZXMgd2l0aCB0aGUgaGFzaCByZWNlaXZlZAoJICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgoJICAgICAgLy8gYXRvYiBtYXkgbmVlZCB0byBiZSByZXF1aXJlZCBmb3Igbm9kZWpzCgkgICAgICAvLyB2YXIgYXRvYiA9IHJlcXVpcmUoJ2F0b2InKTsKCSAgICAgIHZhciBkZWNvZGVkQ29udGVudCA9IGF0b2IoYXNzZXJ0aW9uKTsKCSAgICAgIHZhciBjb250ZW50ID0gSlNPTi5wYXJzZShkZWNvZGVkQ29udGVudCk7CgoJICAgICAgdmFyIGlkVG9rZW5TcGxpdGVkID0gY29udGVudC50b2tlbklELnNwbGl0KCcuJyk7CgoJICAgICAgdmFyIGlkVG9rZW4gPSBKU09OLnBhcnNlKGF0b2IoaWRUb2tlblNwbGl0ZWRbMV0pKTsKCgkgICAgICByZXNvbHZlKHsgaWRlbnRpdHk6IGlkVG9rZW4uZW1haWwsIGNvbnRlbnRzOiBpZFRva2VuLm5vbmNlIH0pOwoJICAgIH0pOwoJICB9LAoKCSAgLyoqDQoJICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbg0KCSAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgaW1wbGVtZW50YXRpb24NCgkgICoNCgkgICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQNCgkgICogQHBhcmFtICB7b3JpZ2lufSBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbg0KCSAgKiBAcGFyYW0gIHt1c2VybmFtZUhpbnR9IG9wdGlvbmFsIHVzZXJuYW1lSGludCBwYXJhbWV0ZXINCgkgICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24NCgkgICovCgkgIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgoJICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgoJICAgICAgLy90aGUgaGludCBmaWVsZCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gb2J0YWluZWQgYWZ0ZXIgdGhlIHVzZXIgYXV0aGVudGljYXRpb24KCSAgICAgIC8vIGlmIHRoZSBoaW50IGNvbnRlbnQgaXMgbm90IHByZXNlbnQsIHRoZW4gcmVqZWN0cyB0aGUgdmFsdWUgd2l0aCB0aGUgVVJMIHRvIG9wZW4gdGhlIHBhZ2UgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyCgkgICAgICBpZiAoIWhpbnQpIHsKCgkgICAgICAgIC8vIHRoaXMgaXMgdGVtcG9yYXJ5CgkgICAgICAgIHJlamVjdCh7IG5hbWU6ICdJZFBMb2dpbkVycm9yJywgbG9naW5Vcmw6ICdyZXF1ZXN0VXJsJyB9KTsKCSAgICAgICAgLy9sZXQgdXJsID0gImh0dHBzOi8vbG9jYWxob3N0LyNzdGF0ZT1zdGF0ZSZjb2RlPTQvMTRwd2N0S2g4TU9kbDR2aGYxTG80c1pmZ1pkLTE4Z3I1YmdTbW9YaC1MVSZhY2Nlc3NfdG9rZW49eWEyOS5HbHY0QTJUMmxEV3lRTlpyTVNRT0FNV0J0SVZGMmYxeVlxVms2X3Z4WHBOeVFPcGVZUGVVbTNsWURNNXNXVHd5cy16TTB4UWxXMGk3SXR6cXlDeENzSjdkY0dsX3lmYUM0bHhXTXJOZ2dMdUtBXzI3bU1BM0JCeVlCTlJKJnRva2VuX3R5cGU9QmVhcmVyJmV4cGlyZXNfaW49MzYwMCZpZF90b2tlbj1leUpoYkdjaU9pSlNVekkxTmlJc0ltdHBaQ0k2SW1aa1kyRmhOak15TkRCbFpESTRaV0ZsTXpneFpERTJORE5rTkdOak9UTTFObVJqTXprM1pXSWlmUS5leUpwYzNNaU9pSmhZMk52ZFc1MGN5NW5iMjluYkdVdVkyOXRJaXdpYVdGMElqb3hORGczTmpBeE5URXpMQ0psZUhBaU9qRTBPRGMyTURVeE1UTXNJbUYwWDJoaGMyZ2lPaUpzV1VWRVlVOXVabGRvVFdSR1FtRkNObFV0VDNobklpd2lZWFZrSWpvaU9EQTRNekk1TlRZMk1ERXlMWFJ4Y2poeGIyZ3hNVEU1TkRKblpESnJaekF3TjNRd2N6aG1NamMzY205cExtRndjSE11WjI5dloyeGxkWE5sY21OdmJuUmxiblF1WTI5dElpd2ljM1ZpSWpvaU1URXhPVE0wTWpNek5qTXlOVEl3TURjM056UXpJaXdpWTE5b1lYTm9Jam9pYlhwWFRXaE1aMnhXWWtaQ2JEVXpPVWN5YzFGblp5SXNJbVZ0WVdsc1gzWmxjbWxtYVdWa0lqcDBjblZsTENKaGVuQWlPaUk0TURnek1qazFOall3TVRJdGRIRnlPSEZ2YURFeE1UazBNbWRrTW10bk1EQTNkREJ6T0dZeU56ZHliMmt1WVhCd2N5NW5iMjluYkdWMWMyVnlZMjl1ZEdWdWRDNWpiMjBpTENKdWIyNWpaU0k2SWs1RVozTk5WRTEzVEVSRmMwMTZVWE5PUkdkelRWUk5jMDVwZHpWTVJGRjVURVJGZWs1RGR6Tk5hWGQ0VFhwUmMwMXFVVE5NUkVWNlRFUkZjMDFUZDNoTVJGVnpUVU4zZWt4RVJYcE5RM2Q0VEVSRk1VeEVRWE5PUkdkelRWUk5kMHhFUlhOTlZFRnpUV2wzZUUxNlFYTk5VM2Q0VEVSQmMwMXFTWHBNUkVWM1RubDNlRTE2YTNOTlZGVXhURVJKZDA1NWQzaE5ha2x6VFdwUmQweEVTVEJPYVhkNFRXcE5jMDFVVVhwTVJFVjRUbE4zZVUxNlJYTk5WR013VEVSRmQwNVRkelZOUTNkNFRFUkZOVTlEZDNoTmFrRnpUa1JGYzAxcVJYaE1SRWt3VGtOM2VVNUVXWE5OYWtWNVRFUnJlRXhFVVhsTVJHTXlURVJGTUU1RGQzaE9ha2x6VFZSWk1FeEVSWGROZVhkNVRWUkZjMDFVU1RSTVJFbHpUa1JuYzAxNlNYTk5WRWt6VEVSRk0wOVRkM2xOYWxselRXcE5la3hFU1hkT2FYZDVUbFJSYzA5VVRYTk5WRmt4VEVSSmQwMTVkekJQVTNjeVRtbDNlRTlFYTNOTmFsRjZURVJKZVUxcGR6UlBRM2Q1VFZSVmMwMXFUVEJNUkZVeVRFUkZlazlEZDNoTlZGRnpUVlJWTlV4RVJUTk5VM2Q1VFhwQmMwMVVRVEpNUkVVMVRubDNORTVEZDNoT1JHTnpUMVJyYzAxVVRYZE1SRWw2VGxOM2VVMUVaM05QUkZGelRXcHJjMDFVVFRGTVJGazBURVJSTVV4RVJUVlBVM2Q2VGtOM01VOURkM2xOUkdOelQwUk5jMDFxVVhoTVJFbDNUa04zZUU1cVdYTk5hbEV3VEVSRk5VNXBkM2hOYW1kelRtbDNlRTFxVlhOTlZFazFURVJKTUU5RGR6Uk5VM2N6VEVSRk1FMVRkM2xOVkUxelRWUmpNVXhFYXpGTVJGVjRURVJyTVV4RVNYcE5RM2Q0VFVSQmMwMVVVVEZNUkVVelQxTjNlRTlVVVhOTlZGVTBURVJaZWt4RVJUVk5lWGQ0VDBSSmMwMVVUWE5PVTNkNlRYbDNlRTFxU1hOUFJHZHpUVlJOZDB4RVNYTk5WR3Q0VEVSRmVrOVRkM2xOUkdkelRXcE5OVXhFUlhsUFUzZDRUVVJGYzAxVVZYbE1SRVY1VEVSSmVFMXBkM2hQVTNjelQwTjNlRTE2YTNOTmFrMTNURVJSZDB4RVJYaE5hWGQ0VG1wWmMwMTZVWE5OYWsxNlRFUlJOVXhFUlhoT1UzY3hUME4zZUUxRVJYTk5hbEY0VEVSSmQweEVUWHBNUkVVd1RtbDNNazVwZHpWTlEzZDRUWHBqYzAxVWEzTk5WRmt6VEVSRk1VMURkM2hPVkVselRWUmpNMHhFU1RGTlEzZDVUWHByYzAxVVl6Vk1SR015VEVSVk1VeEVSWGxOUTNkNFRXcHJjMDFVVlRGTVJFMHpURVJaTkV4RVJUSlBRM2N4VFZOM2VVMXFWWE5OYWtFMFRFUkZlRTE1ZDNsTlUzZDRUbE4zZVUxNWQzaE5SR3R6VFZSbmVVeEVRWE5QUkVGelRWUlZOVXhFUlhsTlEzZDRUMFJuYzA1RVFYTk9WRVZ6VDBOM2VFOVVSWE5PYWtselQwUm5jMDFxUVhoTVJFVjVUbE4zZUUxcGR6RlBRM2Q0VG1wVmMwMTZaM05OVkVWelQwUlJjMDE2UVhOUFZGRnpUMVJOYzAxNWQzbE5SRWx6VDBSamMwMVVSVFZNUkZVMVRFUkZNMDVEZDNoTmFrMXpUVlJOYzAxVVNYZE1SRWwzVDBOM2VVMUVUWE5OVkVFMVRFUmplRXhFU1hsT2VYYzBUVU4zZUUxVGQzaE5lbWR6VFZSUk5VeEVSWHBPVTNkNFQwUmpjMDlFVlhOT1JHZHpUVlJuZUV4RVdUUk1SRVV4VFVOM2VrOVRkM2xPUkZGelQwUlJjMDFVUVRSTVJFRnpUVlJaTlV4RVJUVlBVM2Q1VGtSamMwMVVTVFJNUkVrMVRFUmplRXhFU1hsUFUzZDRUME4zZUUxNlVYTk5ha1Y0VEVSRk5VMXBkM2hOZWtWelRWUm5NRXhFYTNwTVJFbDVUbmwzZVU1RVRYTk5ha2wzVEVSSmQwNVRkM2hPUkdkelRWUkpORXhFU1hkUFUzY3pUWGwzTVU5RGQzaFBSRVZ6VFZSQmQweEVSWHBNUkZFeFRFUlpNVXhFUlhsT1EzZDZUMU4zZUUxRVdYTk5WRkV4VEVSSmVVNTVkM2hPVkd0elQxUmpjMDFVUlRWTVJHTjRURVJGTlUxcGQzaE5lbU56VGtScmMwMXBkM3BNUkVWelRVTjNlQ0lzSW1WdFlXbHNJam9pYjNCbGJtbGtkR1Z6ZERFd1FHZHRZV2xzTG1OdmJTSjkuQTFIN2t5dG1qbVpjOW5JYzVDNjc0Q0xfZURsel8xM1lMZWZwRExDck9DbGVmYXRfRzVhQ1c4b3ZFLXZhU3ljZWY3cllBMVp4SnQwcVAxcHZMUDlrOW1kU3l3VVhVdUg0em1zWUQwa2hQQUhWTUxpU1llY2xiYlpVMnVTb2dlS2NHN0JqSzZwMUYzd1J0dWprWUtuMFFwS093Ri1YU0lUY3NVdUlEYXlBTEZQYzF4NUxIakF0WWtLVTBZMDdUaUZ5WmlWanJDLWVaQjZETEpKQkNpZTNFMnExYjZwVzhLbndJOVZ5elhGLU13RzVEWTgzYW13SjNTYXVLWlpsdXU0NTY1WjlzdFdwLXZMSks2SVVKS29IV094R2REWGR6TmhQOXVHUmo4d1N2Z0JfUlpuUE90Ym9KbTlHMG9Mdl8ycXQtTDNyMU1hakU4YThLMjVLMkgyVWV3JmF1dGh1c2VyPTEmc2Vzc2lvbl9zdGF0ZT05Y2EzZWMyYmQyNGZkZWNiOTVkNjgzZGM2ZjU4YWM5ZjZkOWE2MmYzLi40ZjAwJnByb21wdD1ub25lIjsKCSAgICAgICAgLy9yZXNvbHZlKHVybCk7CgkgICAgICB9IGVsc2UgewoKCSAgICAgICAgdmFyIGFzc2VydGlvbiA9ICJleUowYjJ0bGJrbEVJam9pWlhsS2FHSkhZMmxQYVVwVFZYcEpNVTVwU1hOSmJYUndXa05KTmtsdFdtdFpNa1pvVG1wTmVVNUVRbXhhUkVrMFdsZEdiRTE2WjNoYVJFVXlUa1JPYTA1SFRtcFBWRTB4VG0xU2FrMTZhek5hVjBscFpsRXVaWGxLY0dNelRXbFBhVXB2WkVoU2QyTjZiM1pNTWtacVdUSTVNV0p1VW5wTWJXUjJZakprYzFwVE5XcGlNakJwVEVOS2NGbFlVV2xQYWtVd1QwUmpNazFVUVROT2VtZHpTVzFXTkdORFNUWk5WRkUwVG5wWmVFNUVUVE5QUTNkcFdWaFNabUZIUm5waFEwazJTV3R6TWxReFJUUmpNVXAwVG1wQ2RVNHpVa2RYYmtaM1lUSmtRMVJ0WTJsTVEwcG9aRmRSYVU5cFNUUk5SR2Q2VFdwck1VNXFXWGROVkVsMFpFaEdlVTlJUm5aaFJFVjRUVlJyTUUxdFpHdE5iWFJ1VFVSQk0yUkVRbnBQUjFsNVRucGtlV0l5YTNWWldFSjNZM2sxYm1JeU9XNWlSMVl4WXpKV2VWa3lPWFZrUjFaMVpFTTFhbUl5TUdsTVEwcDZaRmRKYVU5cFNYaE5WRVUxVFhwUmVVMTZUVEpOZWtreFRXcEJkMDU2WXpOT1JFMXBURU5LYkdKWFJuQmlSamt5V2xoS2NGcHRiR3hhUTBrMlpFaEtNVnBUZDJsWldIQjNTV3B2YVU5RVFUUk5la2sxVGxSWk1rMUVSWGxNV0ZKNFkycG9lR0l5WjNoTlZFVTFUa1JLYmxwRVNuSmFla0YzVGpOUmQyTjZhRzFOYW1NelkyMDVjRXh0Um5kalNFMTFXakk1ZGxveWVHeGtXRTVzWTIxT2RtSnVVbXhpYmxGMVdUSTVkRWxwZDJsaWJUbDFXVEpWYVU5cFNrOVNSMlI2VkZaU1RtUXdlRVZTV0U1T1pXeEdlbFJyVW01ak1ERlZWRmhPVDJGWVl6RlVSVkpTWlZWNFJWSlljRTlSTTJONlZGZHNNMlZGTVRaVldFNU9ZV3hGZWxSRlVrWmxhM2hGVWxoT1RsVXpaRFJVUlZKV1l6QXhSR1F6Y0UxU1JWWTJWRlZPTTJWRmVFVlNWRVpOVWtWR2VsUnJVbTVqTURGVlZGaGtUVkpGVm5wVVZsSkNZekF4Y0dRemFFNWxhMFo2VkZaT00yVkZlRVZSV0U1T1lXeFdOVlJGVWtwTlJYaEZVbGh3VUZFelpEUlVWbEpHWXpBeFZWVlVWazFTUjAweFZFVlNUazFGZUVWVFdHeFBVVE5rTkZSc1VsSmpNREZWVlZoa1RWSkZiSHBVVjNCS1pVVjRSVkpVVmsxU1JWVXdWRlZPTTJWRk9WVlZXRTVQWlZoa05WUlljRVpqTURGVlZGUlNUVkpHUlRGVVJWSkdaVlU1VkdSNlFrNWxXR1EwVkRGT00yVlZNWEZTV0U1T1ZrVnJlbFJGVWtwTlZURndaRE5zVUZVelkzbFViRTR6VFdzMU5XUXphRkJXUmtaNlZGWlNRbVZGZUVWVVdHaE5Va1ZXTmxSVlRqTmxWVEUyVlZoT1RsWkhkRE5VUlZKS1l6QXhjVlJZYkUxU1JWVjZWREJPTTJWRk5WVlRXRTVPWVd0RmVGUkZVbkpOUlhoRlUxaHNUMUV6WkRWVVdHd3paVlV4Tm1FelRrNVdSMk40VkVWU1JtVlZlRVZTV0dSUFpWaGtORlJYYkRObFZURlZVVmhPVDFKRmJIcFVXSEJ1WXpBeFZWbDZVazFTUld3MlZGZHNNMlZWTVZWV1dFNU9Wa2RrZWxSWGNGWk5SWGhGVTFSQ1VGVXpaRFZVV0hCT1l6QXhjVlJVU2sxU1JXdDNWRlpPTTJWRk1VVmFNMDVPWldzeGVsUldVbHBsYTNoRlUxUkNUbEV6WTNwVWEwNHpaVVUxUlZWWVRrNVdSa1o2Vkd4U1VtTXdNVlZoZWxKTlVrVlZlRlJGVWxKTlJYaEZVbFJXVUZFell6QlVWazR6VGtVNVZHUXphRTlXUm14NlZHeFNhbU13TVZWVlZFWk5Va1ZyZDFSc1RqTmxSVEZGVjFoT1RsWkdWVEZVUlZKR1pEQTVWR1F6YUU5Vk0yUTBWR3hTUm1Nd01WVlNWRVpOVWtkTmVWUkZVa1prTURGVVpETm9UbFpIWkhwVVZsSmFUVlY0UlZKWVpGQlJNMk41VkZoc00yVkZPVlZYV0U1T1lXdHJlbFJGVWtaTmF6RTFaRE5vVUZaRlJucFVWbEp5WlZWNFJWSlVVazVsV0dRMFZGZHdVbU13TVZWVFZFWk5Va1ZWZWxRd1RqTk5WVFZ3WkROd1RtRllZekZVYkU0elRXczVSR1I2Vms1bFdHTjVWREJPTTAxVk1VUmtla0pQWlZoa05WUldVbXBqTURFMlUxaE9UbUZ0ZEhwVWJGSldZekF4VlZGVVFrMVNSVlV4VkRCT00wNVZOVVJrTTJoUVZrZGtlbFJXVW1wak1ERnhWVlJDVFZKRlZqTlVibXd6WlZVeFJWRllUazVXUlRCNlZFVlNUazFGZUVWU1ZGSk9VVE5rTkZRd1VuSmpNREUxWkROb1VGWkhkSHBVVlU0elpWVXhObEZZVGs1V1JrVXdWRVZTU21Rd01YQmtNMmhPWlcxMGVsUldVazVsUlhoRlVsUkdVRlV6WkRSVVdIQmFZekF4VlZkVVFrMVNSa1V4VkVWU1JtVkZOVlJrTTJoT1pXdEdlbFF3VWtwak1ERnhVVlJTVFZKRlZUQlViRTR6WlZVeE5sVllUazVoYTFZMFZFVlNSbVZGTlZSa00yeE9ZV3hzZWxSc1VrSmpNREZWVWxoc1RWSkhaRFZVUlZKS1pEQTFOV1F6YkU1V1JXeDZWRzV3UW1Nd09WVmhNMDVQWVd0c2VsUnNVbkpqTURVMllUTk9UMUpIZEhwVVZsSldUVVY0UlZKVVJrNWxXR1EwVkd0U1VtTXdNWEZSV0hCTlVrVlZNRlJ1YkRObFZUVkZVMWhPVGxaR1ZYZFVSVkpLVFRCNFJXRjZWazFTUlZWNVZHeE9NMlZGT1ZWUldFNU9Wa1V4TmxSRlVrWk5NRFZFWkROc1RtRnJSbnBVVmxKS1RWVjRSVmRZYkUxU1JWVjRWREJPTTJWVk5WVlNXRTVPWVd4Rk1WUkZVbEpOVlhoRlVsUkdUbFV6WXpCVVYyd3paVlV4UldFelRrNVdSM014VkVWU1drNVZlRVZhZWtwTlVrVlZNRlJ0YkROa01IaEZVbGhrVFZKRlZqUlViV3d6WlVVeFZWTllUazVXUjNRMFZFVlNVazFyZUVWU1dHaE9VVE5rTlZSc1RqTk5SVGxVWkhwR1RtVllZM2hVVjJ3elpWVXhSVk5ZVGs1V1JXdDNWRVZTU21WVk5VUmtNMmhRVmtVeGVsUldVbHBqTURGeFZsaG9UVkpGVlRCVWJFNHpaVlV4TmxaWVRrNWhhekI1VkVWU1JrMVZPVVJrTTJ4T1ZrZDBlbFJ0Y0ZKak1EVlZWRmhPVGxaSFpEUlVSVkpHVGtVMVZHUXphRkJTUmxaNlZGZHdSbVZWZUVWaGVrSk5Va1ZXTlZSclRqTmxSVEUyVlZoT1RtRnJNSGhVUlZKR1pWVXhSR1I2Vms5bFdHUTBWRlZTY21Nd01WVlVXR1JOVWtWVmVGUXhUak5sVlRWRlVsaE9UbFpHVlhoVVJWSldaVlY0UlZOWWFGQlJNMlExVkd0U1NtTXdNWEZTV0hCTlVrVXhlbFJXVWtwa01IaEZVbFJHVDFVelpEVlVWM0JHWXpBeGNWTlVUazFTUmxWNlZFVlNTazFyZUVWWmVrNU5Va1V4TmxSRlVtNWxhM2hGVTFoa1RsVXpZekZVV0d3elpWVXhjVlpZVGs5V1JXeDZWREJTVm1Nd01WVmFNMlJOVWtWV05sUlliRE5sUlRFMldqTk9UMlZyYkhwVVYzQlNaVlY0UlZOWWJFNWhXR1ExVkd0U2FtTXdPVlZXV0U1T1ZrZE5lbFJGVWtwbFZUVTFaRE5vVUZKR1JucFVWM0JPVGxWNFJWSllaRTloV0dRMFZHdFNWbU13TVZWWFZFNU5Va1ZXTmxSWWJETk5WVEUxWkROc1RWSkZNWHBVVms0elpEQjRSVkpVTUdsTVEwcHNZbGRHY0dKRFNUWkpiVGwzV2xjMWNGcElVbXhqTTFGNFRVVkNibUpYUm5CaVF6VnFZakl3YVdaUkxsVk9jbEZEZVY5MWNrcEZaWEkzTlMxSmNWcHVjR2hVTkRoRmVHdEhNazlxVVV4c1RGUnRZMVJHVEhsTlpUZDRYMnR1V0c1T1NXRlFUbEppVFhGU2FWWTBaRTF4TmpFMmJYbFhkRXB2WWxWd1NWTmlTbkZhVEMxbU0wOWpiM0kxTFRjM2NqVlhSUzFXVjJVNVJEbGZOelJXYlhSUWFtVjJaSEkzZGtwRU5sWlJMVFV5V2xoNFdtMU1lRGRUYzJkUldrdDRVbUp4U0c0NGJ6ZEVaM1poUTB0dldEbFBTM0l3V1ZCME9HUldhMUUxVm5walJXNTBOa1JrVjFoMVVVWnJVVkpVV1VGTFNYRnZjbkJCU201dmVYWlZSMGxKTmtGV1RtWnVjbVpWVms1b2EwcEhWelpIWkdOS2IxQkNka05EYlhveFIwZDBWV2xJVEVSU1VEaFBjRGhuVmxOa1ZreFpTblp4VEc5S1FqaHZYMGh4VVRKV05sTmpkMXBpUW1WRE1tcExWV2RmV1haZmQxZDBPVkpSZVhwd1FXOWxSM1V0VWxaMFIxQjJja2RGWVVWQmRrbEZXSGszYzFaTWFXTkhNSGx1VlhWWGR5SXNJblJ2YTJWdVNVUktVMDlPSWpwN0ltbHpjeUk2SW1oMGRIQnpPaTh2WVdOamIzVnVkSE11WjI5dloyeGxMbU52YlNJc0ltbGhkQ0k2SWpFME9EYzJNVEEzTnpnaUxDSmxlSEFpT2lJeE5EZzNOakUwTXpjNElpd2lZWFJmYUdGemFDSTZJa3MyVDFFNGMxSnROakJ1TjNSR1duRndhMmRDVG1jaUxDSmhkV1FpT2lJNE1EZ3pNamsxTmpZd01USXRkSEZ5T0hGdmFERXhNVGswTW1ka01tdG5NREEzZERCek9HWXlOemR5YjJrdVlYQndjeTVuYjI5bmJHVjFjMlZ5WTI5dWRHVnVkQzVqYjIwaUxDSnpkV0lpT2lJeE1URTVNelF5TXpNMk16STFNakF3TnpjM05ETWlMQ0psYldGcGJGOTJaWEpwWm1sbFpDSTZJblJ5ZFdVaUxDSmhlbkFpT2lJNE1EZ3pNamsxTmpZd01USXRkSEZ5T0hGdmFERXhNVGswTW1ka01tdG5NREEzZERCek9HWXlOemR5YjJrdVlYQndjeTVuYjI5bmJHVjFjMlZ5WTI5dWRHVnVkQzVqYjIwaUxDSnViMjVqWlNJNklrNUVaM05OVkUxM1RFUkZjMDE2VVhOT1JHZHpUVlJOYzA1cGR6Vk1SRkY1VEVSRmVrNURkek5OYVhkNFRYcFJjMDFxVVROTVJFVjZURVJGYzAxVGQzaE1SRlZ6VFVOM2VreEVSWHBOUTNkNFRFUkZNVXhFUVhOT1JHZHpUVlJOZDB4RVJYTk5WRUZ6VFdsM2VFMTZRWE5OVTNkNFRFUkJjMDFxVlhsTVJFa3dURVJGZWs5RGQzaE5WRVZ6VFZSUk5VeEVZelZNUkUwd1RFUkplVTVEZDNoT1ZGRnpUVlJSZDB4RVNYTk5ha2w0VEVSRk5VeEVSVFJOUTNkNFQxUlJjMDU1ZDNsTmVrVnpUVlJOTkV4RVVUVk1SRVY1VDFOM01FMTVkM2hQVTNkNVRXcEZjMDFVU1ROTVJFa3hUV2wzZVU5VGR6Sk9VM2N5VG5sM2VFOVVVWE5OVkVGNFRFUk5lRXhFUlhwTlEzZDVUWHBSYzAxVWEzZE1SRWx6VFdwTmVVeEVSVE5QUTNkNFRsUkpjMDFxUVRGTVJHc3dURVJKZVU1RGQzbE5lWGQ1VFhwcmMwMVVaekZNUkVWNVRFUkZkMDU1ZDNoTmFYZDVUVlJCYzA1RVNYTk5lbWR6VFZSak5FeEVTWHBOYVhkNVRWUlZjMDFVWjNOTmFsVXdURVJKTUU5VGQzbE5lazF6VFdwTk1reEVTVEJOVTNkNFRVUm5jMDE2VFhOTlZGbDZURVJKTUUxRGR6Tk9RM2Q0VGtSUmMwMVVVWE5PVkZGelRWUnJORXhFUlRGTVJGRXdURVJGTlU5RGR6Uk5VM2MwVDFOM2VFNVVXWE5PVkdOelRWUlJNVXhFU1RCT1UzZDRUVVJaYzAxVVZUVk1SRVYzVDFOM2VFNVRkM2hPVkVWelRWUkZNVXhFWXpKTVJFVjNUVk4zZUUxVVozTk5WRmt4VEVSRmQwOURkekpOZVhkNFQxUlpjMDFxU1ROTVJFVXlUWGwzZUU5VVFYTk5WR3Q1VEVSRk5FMTVkM2hOYWxGelRWUkpNVXhFUlROUFEzY3hUbWwzZWsxcGR6Vk9VM2N5VDBOM05VMTVkekpQUTNjeFRVTjNNRTU1ZDNsTlZHTnpUWHBKYzAxcWEzTk9WRlZ6VFZSQk1FeEVSVFZQUTNjMVRrTjNlRTlVWjNOTlZHTnpUV3BSTUV4RVJYZE9lWGQ1VFVSQmMwMVVUVE5NUkUwd1RFUkZORTFEZDNoUFJHdHpUWGwzZUU5VWEzTk5RM2Q1VFhwQmMwMVVVVFJNUkVsM1RXbDNlRTE2YTNOTlZFMTRURVJGTVU5VGQzaE5lbGx6VFZSWk1FeEVVVFZNUkVWNFRsTjNlRTE2UVhOUFJFbHpUV3BCTkV4RVJUUk9VM2Q1VFhwUmMwMXFSWGhNUkVWNFRsTjNlVTFxV1hOT1ZFRnpUVlJGZVV4RVozbE1SRWwzVG5sM2VVMVVTWE5PZWtGelQxUnJjMDVxU1hOT1ZHdHpUbnByYzA1RWEzTk5WRlV3VEVSRk1VMTVkM2hPUkZGelRXcEJla3hFUlRST2VYZDVUa1JKYzAxVVZUQk1SRWt6VEVSck5VeEVSVEpPVTNkNFQxUkJjMDFVVFhwTVJFVXpUa04zZVUxcVFYTk5WRWt4VEVSWmVVeEVSVEZQUTNkNVRsUkZjMDFxVVRWTVJGRXhURVJGTVUxVGR6Uk5hWGQ1VFVScmMwMVVhelZNUkZrMVRFUm5Na3hFUlRST2FYZDNURVJGZDB4RVJYaE9hWGQ0VFZSSmMwMVVhM2hNUkZFeVRFUkZlRTFEZDNsT1UzY3dUMU4zTVUxNWR6Rk5hWGQ1VFVSSmMwMVVTVEJNUkVsNVRrTjNlRTlVVFhOTlZGbHpUV3BWZUV4RVJUUk9VM2Q1VFhwVmMwMXFUVEpNUkVVeFQwTjNlVTFVYTNOT2FsRnpUbFJOYzAxVVozaE1SRVUwVGxOM2VFOUVWWE5OYWtWNVRFUnJNRXhFUlhsT1EzZDRUWHBSYzAxcVRURk1SRVY1VFVOM05VNTVkM2hOUkd0elRWUk5kMHhFUlRGUFUzZDVUa1JGYzAxVVZURk1SRlY1VEVSSmVFOURkM2xPUkVselRXcEZla3hFVFhOTlZFbDNURVJGTVU1VGQzbE5ha1Z6VFdwSk0weEVWVE5NUkVreVRFUmpNMHhFVFhwTVJHZDZURVJKZDAxVGR6Vk5lWGQ1VFdwVmMwNVVTWE5QUkZWelRWUm5kMHhFUlhwTmVYZDRUWHBuYzA1NlNYTk5hbEY1VEVSSmVVMXBkM2xPUkdOelQxUlZjMDFVWXpOTVJFbDVUbmwzZUU5RVVYTk5hazAxVEVSRmQwNXBkM2hPUkZWelRWUlpNMHhFUlhwTmVYY3hUWGwzZVV4RVRYTk5VM2QzVEVSRlBTSXNJbVZ0WVdsc0lqb2liM0JsYm1sa2RHVnpkREV3UUdkdFlXbHNMbU52YlNJc0ltRnNaeUk2SWxKVE1qVTJJaXdpYTJsa0lqb2labVJqWVdFMk16STBNR1ZrTWpobFlXVXpPREZrTVRZME0yUTBZMk01TXpVMlpHTXpPVGRsWWlKOWZRPT0iOwoJICAgICAgICB2YXIgaWRwQnVuZGxlID0geyBkb21haW46ICdnb29nbGUuY29tJywgcHJvdG9jb2w6ICdPSURDJyB9OwoJICAgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7ICJhY2Nlc3NUb2tlbiI6ICJ5YTI5LkdsdjRBMW5fSFNjUkJOdFRfT0VxNm82Ql9WSGJwLTFjSnF0ci05N2tUYTQwZWpwcUcwZlRiQWh0ck1sYWpWa1lMRjMzUXRjeFFBVGZad1ZxYXVuN0xYby03LTRJdEw1RkNNQzNtOVZ3Uko4U0QzU3JiTW9RX19LYzhWNmgiLCAiaWRUb2tlbiI6ICJleUpoYkdjaU9pSlNVekkxTmlJc0ltdHBaQ0k2SW1aa1kyRmhOak15TkRCbFpESTRaV0ZsTXpneFpERTJORE5rTkdOak9UTTFObVJqTXprM1pXSWlmUS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwyRmpZMjkxYm5SekxtZHZiMmRzWlM1amIyMGlMQ0pwWVhRaU9qRTBPRGMyTVRBM056Z3NJbVY0Y0NJNk1UUTROell4TkRNM09Dd2lZWFJmYUdGemFDSTZJa3MyVDFFNGMxSnROakJ1TjNSR1duRndhMmRDVG1jaUxDSmhkV1FpT2lJNE1EZ3pNamsxTmpZd01USXRkSEZ5T0hGdmFERXhNVGswTW1ka01tdG5NREEzZERCek9HWXlOemR5YjJrdVlYQndjeTVuYjI5bmJHVjFjMlZ5WTI5dWRHVnVkQzVqYjIwaUxDSnpkV0lpT2lJeE1URTVNelF5TXpNMk16STFNakF3TnpjM05ETWlMQ0psYldGcGJGOTJaWEpwWm1sbFpDSTZkSEoxWlN3aVlYcHdJam9pT0RBNE16STVOVFkyTURFeUxYUnhjamh4YjJneE1URTVOREpuWkRKclp6QXdOM1F3Y3pobU1qYzNjbTlwTG1Gd2NITXVaMjl2WjJ4bGRYTmxjbU52Ym5SbGJuUXVZMjl0SWl3aWJtOXVZMlVpT2lKT1JHZHpUVlJOZDB4RVJYTk5lbEZ6VGtSbmMwMVVUWE5PYVhjMVRFUlJlVXhFUlhwT1EzY3pUV2wzZUUxNlVYTk5hbEV6VEVSRmVreEVSWE5OVTNkNFRFUlZjMDFEZDNwTVJFVjZUVU4zZUV4RVJURk1SRUZ6VGtSbmMwMVVUWGRNUkVWelRWUkJjMDFwZDNoTmVrRnpUVk4zZUV4RVFYTk5hbFY1VEVSSk1FeEVSWHBQUTNkNFRWUkZjMDFVVVRWTVJHTTFURVJOTUV4RVNYbE9RM2Q0VGxSUmMwMVVVWGRNUkVselRXcEplRXhFUlRWTVJFVTBUVU4zZUU5VVVYTk9lWGQ1VFhwRmMwMVVUVFJNUkZFMVRFUkZlVTlUZHpCTmVYZDRUMU4zZVUxcVJYTk5WRWt6VEVSSk1VMXBkM2xQVTNjeVRsTjNNazU1ZDNoUFZGRnpUVlJCZUV4RVRYaE1SRVY2VFVOM2VVMTZVWE5OVkd0M1RFUkpjMDFxVFhsTVJFVXpUME4zZUU1VVNYTk5ha0V4VEVSck1FeEVTWGxPUTNkNVRYbDNlVTE2YTNOTlZHY3hURVJGZVV4RVJYZE9lWGQ0VFdsM2VVMVVRWE5PUkVselRYcG5jMDFVWXpSTVJFbDZUV2wzZVUxVVZYTk5WR2R6VFdwVk1FeEVTVEJQVTNkNVRYcE5jMDFxVFRKTVJFa3dUVk4zZUUxRVozTk5lazF6VFZSWmVreEVTVEJOUTNjelRrTjNlRTVFVVhOTlZGRnpUbFJSYzAxVWF6Uk1SRVV4VEVSUk1FeEVSVFZQUTNjMFRWTjNORTlUZDNoT1ZGbHpUbFJqYzAxVVVURk1SRWt3VGxOM2VFMUVXWE5OVkZVMVRFUkZkMDlUZDNoT1UzZDRUbFJGYzAxVVJURk1SR015VEVSRmQwMVRkM2hOVkdkelRWUlpNVXhFUlhkUFEzY3lUWGwzZUU5VVdYTk5ha2t6VEVSRk1rMTVkM2hQVkVGelRWUnJlVXhFUlRSTmVYZDRUV3BSYzAxVVNURk1SRVV6VDBOM01VNXBkM3BOYVhjMVRsTjNNazlEZHpWTmVYY3lUME4zTVUxRGR6Qk9lWGQ1VFZSamMwMTZTWE5OYW10elRsUlZjMDFVUVRCTVJFVTFUME4zTlU1RGQzaFBWR2R6VFZSamMwMXFVVEJNUkVWM1RubDNlVTFFUVhOTlZFMHpURVJOTUV4RVJUUk5RM2Q0VDBScmMwMTVkM2hQVkd0elRVTjNlVTE2UVhOTlZGRTBURVJKZDAxcGQzaE5lbXR6VFZSTmVFeEVSVEZQVTNkNFRYcFpjMDFVV1RCTVJGRTFURVJGZUU1VGQzaE5la0Z6VDBSSmMwMXFRVFJNUkVVMFRsTjNlVTE2VVhOTmFrVjRURVJGZUU1VGQzbE5hbGx6VGxSQmMwMVVSWGxNUkdkNVRFUkpkMDU1ZDNsTlZFbHpUbnBCYzA5VWEzTk9ha2x6VGxScmMwNTZhM05PUkd0elRWUlZNRXhFUlRGTmVYZDRUa1JSYzAxcVFYcE1SRVUwVG5sM2VVNUVTWE5OVkZVd1RFUkpNMHhFYXpWTVJFVXlUbE4zZUU5VVFYTk5WRTE2VEVSRk0wNURkM2xOYWtGelRWUkpNVXhFV1hsTVJFVXhUME4zZVU1VVJYTk5hbEUxVEVSUk1VeEVSVEZOVTNjMFRXbDNlVTFFYTNOTlZHczFURVJaTlV4RVp6Sk1SRVUwVG1sM2QweEVSWGRNUkVWNFRtbDNlRTFVU1hOTlZHdDRURVJSTWt4RVJYaE5RM2Q1VGxOM01FOVRkekZOZVhjeFRXbDNlVTFFU1hOTlZFa3dURVJKZVU1RGQzaFBWRTF6VFZSWmMwMXFWWGhNUkVVMFRsTjNlVTE2VlhOTmFrMHlURVJGTVU5RGQzbE5WR3R6VG1wUmMwNVVUWE5OVkdkNFRFUkZORTVUZDNoUFJGVnpUV3BGZVV4RWF6Qk1SRVY1VGtOM2VFMTZVWE5OYWsweFRFUkZlVTFEZHpWT2VYZDRUVVJyYzAxVVRYZE1SRVV4VDFOM2VVNUVSWE5OVkZVeFRFUlZlVXhFU1hoUFEzZDVUa1JKYzAxcVJYcE1SRTF6VFZSSmQweEVSVEZPVTNkNVRXcEZjMDFxU1ROTVJGVXpURVJKTWt4RVl6Tk1SRTE2VEVSbmVreEVTWGROVTNjMVRYbDNlVTFxVlhOT1ZFbHpUMFJWYzAxVVozZE1SRVY2VFhsM2VFMTZaM05PZWtselRXcFJlVXhFU1hsTmFYZDVUa1JqYzA5VVZYTk5WR016VEVSSmVVNTVkM2hQUkZGelRXcE5OVXhFUlhkT2FYZDRUa1JWYzAxVVdUTk1SRVY2VFhsM01VMTVkM2xNUkUxelRWTjNkMHhFUlQwaUxDSmxiV0ZwYkNJNkltOXdaVzVwWkhSbGMzUXhNRUJuYldGcGJDNWpiMjBpZlEuVU5yUUN5X3VySkVlcjc1LUlxWm5waFQ0OEV4a0cyT2pRTGxMVG1jVEZMeU1lN3hfa25Ybk5JYVBOUmJNcVJpVjRkTXE2MTZteVd0Sm9iVXBJU2JKcVpMLWYzT2NvcjUtNzdyNVdFLVZXZTlEOV83NFZtdFBqZXZkcjd2SkQ2VlEtNTJaWHhabUx4N1NzZ1FaS3hSYnFIbjhvN0RndmFDS29YOU9LcjBZUHQ4ZFZrUTVWemNFbnQ2RGRXWHVRRmtRUlRZQUtJcW9ycEFKbm95dlVHSUk2QVZOZm5yZlVWTmhrSkdXNkdkY0pvUEJ2Q0NtejFHR3RVaUhMRFJQOE9wOGdWU2RWTFlKdnFMb0pCOG9fSHFRMlY2U2N3WmJCZUMyaktVZ19Zdl93V3Q5UlF5enBBb2VHdS1SVnRHUHZyR0VhRUF2SUVYeTdzVkxpY0cweW5VdVd3IiwgInRva2VuVHlwZSI6ICJCZWFyZXIiLCAiaW5mb1Rva2VuIjogeyAic3ViIjogIjExMTkzNDIzMzYzMjUyMDA3Nzc0MyIsICJuYW1lIjogInRlc3QgT3BlbklEIiwgImdpdmVuX25hbWUiOiAidGVzdCIsICJmYW1pbHlfbmFtZSI6ICJPcGVuSUQiLCAicGljdHVyZSI6ICJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLVdhQ3JqVk1NVi1RL0FBQUFBQUFBQUFJL0FBQUFBQUFBQUFzLzhPbFZxQ3BTQjljL3Bob3RvLmpwZyIsICJlbWFpbCI6ICJvcGVuaWR0ZXN0MTBAZ21haWwuY29tIiwgImVtYWlsX3ZlcmlmaWVkIjogdHJ1ZSwgImxvY2FsZSI6ICJlbi1HQiIgfSwgInRva2VuSURKU09OIjogeyAiaXNzIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbSIsICJpYXQiOiAiMTQ4NzYxMDc3OCIsICJleHAiOiAiMTQ4NzYxNDM3OCIsICJhdF9oYXNoIjogIks2T1E4c1JtNjBuN3RGWnFwa2dCTmciLCAiYXVkIjogIjgwODMyOTU2NjAxMi10cXI4cW9oMTExOTQyZ2Qya2cwMDd0MHM4ZjI3N3JvaS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsICJzdWIiOiAiMTExOTM0MjMzNjMyNTIwMDc3NzQzIiwgImVtYWlsX3ZlcmlmaWVkIjogInRydWUiLCAiYXpwIjogIjgwODMyOTU2NjAxMi10cXI4cW9oMTExOTQyZ2Qya2cwMDd0MHM4ZjI3N3JvaS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsICJub25jZSI6ICJORGdzTVRNd0xERXNNelFzTkRnc01UTXNOaXc1TERReUxERXpOQ3czTWl3eE16UXNNalEzTERFekxERXNNU3d4TERVc01Dd3pMREV6TUN3eExERTFMREFzTkRnc01UTXdMREVzTVRBc01pd3hNekFzTVN3eExEQXNNalV5TERJMExERXpPQ3d4TVRFc01UUTVMRGM1TERNMExESXlOQ3d4TlRRc01UUXdMRElzTWpJeExERTVMREU0TUN3eE9UUXNOeXd5TXpFc01UTTRMRFE1TERFeU9TdzBNeXd4T1N3eU1qRXNNVEkzTERJMU1pd3lPU3cyTlN3Mk55d3hPVFFzTVRBeExETXhMREV6TUN3eU16UXNNVGt3TERJc01qTXlMREUzT0N3eE5USXNNakExTERrMExESXlOQ3d5TXl3eU16a3NNVGcxTERFeUxERXdOeXd4TWl3eU1UQXNORElzTXpnc01UYzRMREl6TWl3eU1UVXNNVGdzTWpVMExESTBPU3d5TXpNc01qTTJMREkwTVN3eE1EZ3NNek1zTVRZekxESTBNQ3czTkN3eE5EUXNNVFFzTlRRc01UazRMREUxTERRMExERTVPQ3c0TVN3NE9Td3hOVFlzTlRjc01UUTFMREkwTlN3eE1EWXNNVFU1TERFd09Td3hOU3d4TlRFc01URTFMRGMyTERFd01Td3hNVGdzTVRZMUxERXdPQ3cyTXl3eE9UWXNNakkzTERFMk15d3hPVEFzTVRreUxERTRNeXd4TWpRc01USTFMREUzT0N3MU5pd3pNaXc1TlN3Mk9DdzVNeXcyT0N3MU1DdzBOeXd5TVRjc016SXNNamtzTlRVc01UQTBMREU1T0N3NU5Dd3hPVGdzTVRjc01qUTBMREV3Tnl3eU1EQXNNVE0zTERNMExERTRNQ3d4T0Rrc015d3hPVGtzTUN3eU16QXNNVFE0TERJd01pd3hNemtzTVRNeExERTFPU3d4TXpZc01UWTBMRFE1TERFeE5Td3hNekFzT0RJc01qQTRMREU0TlN3eU16UXNNakV4TERFeE5Td3lNallzTlRBc01URXlMRGd5TERJd055d3lNVElzTnpBc09Ua3NOaklzTlRrc056a3NORGtzTVRVMExERTFNeXd4TkRRc01qQXpMREU0Tnl3eU5ESXNNVFUwTERJM0xEazVMREUyTlN3eE9UQXNNVE16TERFM05Dd3lNakFzTVRJMUxEWXlMREUxT0N3eU5URXNNalE1TERRMUxERTFNU3c0TWl3eU1Ea3NNVGs1TERZNUxEZzJMREU0Tml3d0xERXdMREV4Tml3eE1USXNNVGt4TERRMkxERXhNQ3d5TlN3ME9TdzFNeXcxTWl3eU1ESXNNVEkwTERJeU5Dd3hPVE1zTVRZc01qVXhMREU0TlN3eU16VXNNak0yTERFMU9Dd3lNVGtzTmpRc05UTXNNVGd4TERFNE5Td3hPRFVzTWpFeUxEazBMREV5TkN3eE16UXNNak0xTERFeU1DdzVOeXd4TURrc01UTXdMREUxT1N3eU5ERXNNVFUxTERVeUxESXhPQ3d5TkRJc01qRXpMRE1zTVRJd0xERTFOU3d5TWpFc01qSTNMRFUzTERJMkxEYzNMRE16TERnekxESXdNU3c1TXl3eU1qVXNOVElzT0RVc01UZ3dMREV6TXl3eE16Z3NOeklzTWpReUxESXlNaXd5TkRjc09UVXNNVGMzTERJeU55d3hPRFFzTWpNNUxERXdOaXd4TkRVc01UWTNMREV6TXl3MU15d3lMRE1zTVN3d0xERT0iLCAiZW1haWwiOiAib3BlbmlkdGVzdDEwQGdtYWlsLmNvbSIsICJhbGciOiAiUlMyNTYiLCAia2lkIjogImZkY2FhNjMyNDBlZDI4ZWFlMzgxZDE2NDNkNGNjOTM1NmRjMzk3ZWIiIH0sICJleHBpcmVzIjogIjE0ODc2MTQzNzgiLCAiZW1haWwiOiAib3BlbmlkdGVzdDEwQGdtYWlsLmNvbSIgfTsKCSAgICAgICAgdmFyIGluZm9Ub2tlbiA9IHsgInN1YiI6ICIxMTE5MzQyMzM2MzI1MjAwNzc3NDMiLCAibmFtZSI6ICJ0ZXN0IE9wZW5JRCIsICJnaXZlbl9uYW1lIjogInRlc3QiLCAiZmFtaWx5X25hbWUiOiAiT3BlbklEIiwgInBpY3R1cmUiOiAiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1XYUNyalZNTVYtUS9BQUFBQUFBQUFBSS9BQUFBQUFBQUFBcy84T2xWcUNwU0I5Yy9waG90by5qcGciLCAiZW1haWwiOiAib3BlbmlkdGVzdDEwQGdtYWlsLmNvbSIsICJlbWFpbF92ZXJpZmllZCI6IHRydWUsICJsb2NhbGUiOiAiZW4tR0IiIH07CgoJICAgICAgICByZXNvbHZlKHsgYXNzZXJ0aW9uOiBhc3NlcnRpb24sIGlkcDogaWRwQnVuZGxlLCBpbmZvOiBpZGVudGl0eUJ1bmRsZSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4gfSk7CgkgICAgICB9CgkgICAgfSk7CgkgIH0KCX07CgoJLyoqDQoJKiBJZGVudGl0eSBQcm92aWRlciBQcm94eSBQcm90b2NvbCBTdHViDQoJKi8KCgl2YXIgTm9kZWpzUHJveHlTdHViID0gZnVuY3Rpb24gKCkgewoKCSAgLyoqDQoJICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViDQoJICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIHJlY2VpdmVkIGlkcFByb3h5DQoJICAqDQoJICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24NCgkgICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uDQoJICAqLwoJICBmdW5jdGlvbiBOb2RlanNQcm94eVN0dWIocnVudGltZVByb3RvU3R1YlVSTCwgYnVzLCBjb25maWcpIHsKCSAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9kZWpzUHJveHlTdHViKTsKCgkgICAgdmFyIF90aGlzID0gdGhpczsKCSAgICBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMID0gcnVudGltZVByb3RvU3R1YlVSTDsKCSAgICBfdGhpcy5tZXNzYWdlQnVzID0gYnVzOwoJICAgIF90aGlzLmNvbmZpZyA9IGNvbmZpZzsKCgkgICAgX3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uIChtc2cpIHsKCgkgICAgICAvL1RPRE8gYWRkIHRoZSByZXNwZWN0aXZlIGxpc3RlbmVyCgkgICAgICBpZiAobXNnLnRvID09PSAnZG9tYWluLWlkcDovL2dvb2dsZS5jb20nKSB7CgoJICAgICAgICBfdGhpcy5yZXF1ZXN0VG9JZHAobXNnKTsKCSAgICAgIH0KCSAgICB9KTsKCSAgICBfdGhpcy5fc2VuZFN0YXR1cygnY3JlYXRlZCcpOwoJICB9CgoJICAvKioNCgkgICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbg0KCSAgKg0KCSAgKiBAcGFyYW0ge21lc3NhZ2V9ICBtZXNzYWdlIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlQnVzDQoJICAqLwoKCgkgIF9jcmVhdGVDbGFzcyhOb2RlanNQcm94eVN0dWIsIFt7CgkgICAga2V5OiAncmVxdWVzdFRvSWRwJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdFRvSWRwKG1zZykgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCSAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CgoJICAgICAgc3dpdGNoIChtc2cuYm9keS5tZXRob2QpIHsKCSAgICAgICAgY2FzZSAnZ2VuZXJhdGVBc3NlcnRpb24nOgoJICAgICAgICAgIGlkcC5nZW5lcmF0ZUFzc2VydGlvbihwYXJhbXMuY29udGVudHMsIHBhcmFtcy5vcmlnaW4sIHBhcmFtcy51c2VybmFtZUhpbnQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CgkgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CgkgICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgYnJlYWs7CgkgICAgICAgIGNhc2UgJ3ZhbGlkYXRlQXNzZXJ0aW9uJzoKCSAgICAgICAgICBpZHAudmFsaWRhdGVBc3NlcnRpb24ocGFyYW1zLmFzc2VydGlvbiwgcGFyYW1zLm9yaWdpbikudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKCSAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCSAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICBicmVhazsKCSAgICAgICAgZGVmYXVsdDoKCSAgICAgICAgICBicmVhazsKCSAgICAgIH0KCSAgICB9CgoJICAgIC8qKg0KCSAgICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkDQoJICAgICoNCgkgICAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWQNCgkgICAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmQNCgkgICAgKi8KCgkgIH0sIHsKCSAgICBrZXk6ICdyZXBseU1lc3NhZ2UnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSkgewoJICAgICAgdmFyIF90aGlzID0gdGhpczsKCgkgICAgICB2YXIgbWVzc2FnZSA9IHsgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgdG86IG1zZy5mcm9tLCBmcm9tOiBtc2cudG8sCgkgICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCB2YWx1ZTogdmFsdWUgfSB9OwoKCSAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnX3NlbmRTdGF0dXMnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VuZFN0YXR1cyh2YWx1ZSwgcmVhc29uKSB7CgkgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICAgIGNvbnNvbGUubG9nKCdbR29vZ2xlSWRwUHJveHkuc2VuZFN0YXR1c10gJywgdmFsdWUpOwoKCSAgICAgIF90aGlzLl9zdGF0ZSA9IHZhbHVlOwoKCSAgICAgIHZhciBtc2cgPSB7CgkgICAgICAgIHR5cGU6ICd1cGRhdGUnLAoJICAgICAgICBmcm9tOiBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMLAoJICAgICAgICB0bzogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCArICcvc3RhdHVzJywKCSAgICAgICAgYm9keTogewoJICAgICAgICAgIHZhbHVlOiB2YWx1ZQoJICAgICAgICB9CgkgICAgICB9OwoKCSAgICAgIGlmIChyZWFzb24pIHsKCSAgICAgICAgbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjsKCSAgICAgIH0KCgkgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4gTm9kZWpzUHJveHlTdHViOwoJfSgpOwoKCS8qKg0KCSAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLg0KCSAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTA0KCSAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbg0KCSAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbg0KCSAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViDQoJICovCgoKCWZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKCSAgcmV0dXJuIHsKCSAgICBuYW1lOiAnTm9kZWpzUHJveHlTdHViJywKCSAgICBpbnN0YW5jZTogbmV3IE5vZGVqc1Byb3h5U3R1Yih1cmwsIGJ1cywgY29uZmlnKQoJICB9OwoJfQoJbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107CgovKioqLyB9Ci8qKioqKiovIF0pCn0pOwo7",
      "sourceCodeClassname": "NodejsProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-f443122b-aa2f-5243-3bb3-7b39e2db16df5",
    "version": 0.2,
    "description": "Description of NodejsProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "constraints": {
      "browser": true
    },
    "interworking": false,
    "objectName": "node.google.com",
    "configuration": {},
    "messageSchemas": "",
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}