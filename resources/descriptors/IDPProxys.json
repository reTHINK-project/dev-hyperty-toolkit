{
  "orange.com": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSJpbiBkZXNjcmlwdG9yKWRlc2NyaXB0b3Iud3JpdGFibGU9dHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe2lmKHByb3RvUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyk7aWYoc3RhdGljUHJvcHMpZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO307fSgpO2V4cG9ydHMuZGVmYXVsdD1hY3RpdmF0ZTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO319LyoqCiogSWRlbnRpdHlQcm94eSAtLSBOT0RFIE9QRU5JRCBDT05ORUNUIFNlcnZlcgoqCiogSW5pdGlhbCBzcGVjaWZpY2F0aW9uOiBENC4xCioKKiBUaGUgSWRlbnRpdHlNb2R1bGUgaXMgYSBjb21wb25lbnQgbWFuYWdpbmcgdXNlciBJZGVudGl0eS4gSXQgZG93bmxvYWRzLCBpbnN0YW50aWF0ZXMKKiBhbmQgbWFuYWdlIElkZW50aXR5IFByb3ZpZGVyIFByb3h5IChJZFApIGZvciBpdHMgb3duIHVzZXIgaWRlbnRpdHkgb3IgZm9yIGV4dGVybmFsCiogdXNlciBpZGVudGl0eSB2ZXJpZmljYXRpb24uCioKKiBUaGUgSWRQIGNvbnRhaW5zIG1ldGhvZHMgYW5kIHBhcmFtZXRlcnMgdG8gYWN0dWFsbHkgYWNjZXNzIGFuZCBtYWtlIHJlcXVlc3QKKiB0byB0aGUgSWRQIFNlcnZlci4gQWx0ZXJuYXRpdmVseSBzb21lIGZ1bmN0aW9ubmFsaXRpZXMgY2FuIGJlIGRvbmUgbG9jYWxseS4KKgoqL3ZhciBTT1VSQ0VVUkw9Imh0dHBzOi8vZW5lcmd5cS5pZHAucmV0aGluay5vcmFuZ2UtbGFicy5mciIsQVVUSFBBVEg9Ii9wcm94eS9hdXRob3JpemUiLFZFUklGWVBBVEg9Ii9wcm94eS92ZXJpZnkiLERPTkVQQVRIPSIvcHJveHkvZG9uZSIsS0VZUEFUSD0nL3Byb3h5L2tleScsSURQQVRIPScvcHJveHkvaWQnLFBST1hZVFlQRT0icmV0aGluay1vaWRjIixJRFNDT1BFPSJvcGVuaWQiLEZVTExTQ09QRT0ib3BlbmlkIHdlYnJ0YyIsVFlQRT0naWRfdG9rZW4gdG9rZW4nOy8vdmFyIFRZUEUgICAgICAgPSAgICdjb2RlJzsKdmFyIGlkcF9hZGRyPXsnZG9tYWluJzoiaHR0cHM6Ly9lbmVyZ3lxLmlkcC5yZXRoaW5rLm9yYW5nZS1sYWJzLmZyIiwncHJvdG9jb2wnOlBST1hZVFlQRX07aWYodHlwZW9mIGNvbnNvbGU9PSJ1bmRlZmluZWQiKXt1bmRlZmluZWQuY29uc29sZT17bG9nOmZ1bmN0aW9uIGxvZygpe319O31mdW5jdGlvbiBnZXRQcm94eUtleSgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHhtbGh0dHA9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7eG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZih4bWxodHRwLnJlYWR5U3RhdGU9PTQmJnhtbGh0dHAuc3RhdHVzPT0yMDApe3ZhciByZXM9SlNPTi5wYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7cmVzLmVycm9yIT11bmRlZmluZWQ/cmVqZWN0KHJlcy5lcnJvcik6cmVzb2x2ZShyZXMpO319O3htbGh0dHAub3BlbigiR0VUIixTT1VSQ0VVUkwrS0VZUEFUSCx0cnVlKTt4bWxodHRwLnNlbmQoKTt9KTt9ZnVuY3Rpb24gZ2V0UHJveHlJRCgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHhtbGh0dHA9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7eG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZih4bWxodHRwLnJlYWR5U3RhdGU9PTQmJnhtbGh0dHAuc3RhdHVzPT0yMDApe3ZhciByZXM9SlNPTi5wYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7cmVzLmVycm9yIT11bmRlZmluZWQ/cmVqZWN0KHJlcy5lcnJvcik6cmVzb2x2ZShyZXMua2V5KTt9fTt4bWxodHRwLm9wZW4oIkdFVCIsU09VUkNFVVJMK0lEUEFUSCx0cnVlKTt4bWxodHRwLnNlbmQoKTt9KTt9ZnVuY3Rpb24gZ2V0SWRBc3NlcnRpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciB4bWxodHRwPW5ldyBYTUxIdHRwUmVxdWVzdCgpO3htbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoeG1saHR0cC5yZWFkeVN0YXRlPT00JiZ4bWxodHRwLnN0YXR1cz09MjAwKXt2YXIgcmVzPUpTT04ucGFyc2UoeG1saHR0cC5yZXNwb25zZVRleHQpO3Jlcy5lcnJvciE9dW5kZWZpbmVkP3JlamVjdChyZXMuZXJyb3IpOnJlc29sdmUocmVzLmtleSk7fX07eG1saHR0cC5vcGVuKCJHRVQiLFNPVVJDRVVSTCtJRFBBVEgsdHJ1ZSk7eG1saHR0cC5zZW5kKCk7fSk7fWZ1bmN0aW9uIHN0cjJhYihzdHIpe3ZhciBidWY9bmV3IEFycmF5QnVmZmVyKHN0ci5sZW5ndGgpO3ZhciBidWZWaWV3PW5ldyBVaW50OEFycmF5KGJ1Zik7Zm9yKHZhciBpPTAsc3RyTGVuPXN0ci5sZW5ndGg7aTxzdHJMZW47aSsrKXtidWZWaWV3W2ldPXN0ci5jaGFyQ29kZUF0KGkpO31yZXR1cm4gYnVmO31mdW5jdGlvbiBhYjJzdHIoYnVmKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGJ1ZikpO30vLyBJRFAgUHJveHkgY29kZQp2YXIgaWRwPXsvKioKICAqIEdlbmVyYXRpb24gb2YgYW4gSWRBc3NlcnRpb24gdGhyb3VnaCBPSURDIElkUAogICovZ2VuZXJhdGVBc3NlcnRpb246ZnVuY3Rpb24gZ2VuZXJhdGVBc3NlcnRpb24oY29udGVudHMvKiwgb3JpZ2luLCBoaW50ICovKXsvLyBUT0RPIDogc2lnbiBjb250ZW50cyBpbiB0aGUgSWQgVG9rZW4KcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXR1cm4gZ2V0UHJveHlJRCgpLnRoZW4oZnVuY3Rpb24oSUQpe3ZhciBfdXJsPVNPVVJDRVVSTCtBVVRIUEFUSCsnP3Njb3BlPScrRlVMTFNDT1BFKycmY2xpZW50X2lkPScrSUQrJyZyZWRpcmVjdF91cmk9JytTT1VSQ0VVUkwrRE9ORVBBVEgrJyZyZXNwb25zZV90eXBlPScrVFlQRSsnJm5vbmNlPScrJ04tJytNYXRoLnJhbmRvbSgpKycmcnRjc2RwPScrYnRvYShjb250ZW50cyk7dmFyIG15SW5pdD17bWV0aG9kOidHRVQnLC8vaGVhZGVyczogbXlIZWFkZXJzLApjcmVkZW50aWFsczonc2FtZS1vcmlnaW4nLC8vIHdlIGRvbid0IGZvbGxvdyByZWRpcmVjdCBzbyB0aGF0IGlmIHVzZXIgaXMgbm90IGxvZ2dlZCAocmVkaXJlY3QpCi8vIHdlIGdldCBhbiBlcnJvciBhbiBjYW4gcmV0dXJuIGxvZ2luIFVSTCB0byB0aGUgYXBwbGljYXRpb24KcmVkaXJlY3Q6J2Vycm9yJ307Ly92YXIgdXJsVyA9ICdodHRwczovL2xvY2FsaG9zdDo4MDgwL3Byb3h5L2F1dGhvcml6ZT9zY29wZT1vcGVuaWQmY2xpZW50X2lkPUxTMHRMUzFDUlVkSlRpQlFWVUpNU1VNZ1MwVlpMUzB0TFMwS1RVbEhaazFCTUVkRFUzRkhVMGxpTTBSUlJVSkJVVlZCUVRSSFRrRkVRMEpwVVV0Q1oxRkRZMFZuY2t4MFdWUklVSEF2ZEhGQ1EzQlVMMVV3UzFkSlRRbzBkMmxrYUdORldFZDFVa1pDWkROM1RscFBZMGh1TW5SRmFuWmFUa2htYzNOdlVYUjBVakJPVkVRMVVTczVVR1IwVFdaSlRGaHhVM0UzVjNodE1rNXNDa05oTlhKVFZIcG1UMWs1TldoWlFtczNVVkJaZFRONmRFVlFVSFZPUTNCMU1sZDZRbFEyWkdnNFlYcFZPR1V2UkhaWVYyUndiSHBYZG1wdVRtZHVWR0lLU0haT0swMVBXVTg0U0doTE1rWldSMkYzU1VSQlVVRkNDaTB0TFMwdFJVNUVJRkJWUWt4SlF5QkxSVmt0TFMwdExRbz0mcmVkaXJlY3RfdXJpPWh0dHBzOi8vbG9jYWxob3N0OjgwODAvcHJveHkvZG9uZSZyZXNwb25zZV90eXBlPWlkX3Rva2VuJTIwdG9rZW4mbm9uY2U9Ti0wLjkzMTY3ODU2OTkxNjIzNDInCmZldGNoKF91cmwsbXlJbml0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UudGV4dCgpO30pLnRoZW4oZnVuY3Rpb24oaGFzaCl7ZHVtcChoYXNoKTt2YXIganNvbj17fTt2YXIgZGF0YT1oYXNoLnNwbGl0KCcmJykudG9TdHJpbmcoKS5zcGxpdCgvWz0sXSsvKTtmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krPTIpe2pzb25bZGF0YVtpXV09ZGF0YVtpKzFdO31yZXNvbHZlKHsnYXNzZXJ0aW9uJzpqc29uLmlkX3Rva2VuLCdpZHAnOmlkcF9hZGRyfSk7fSk7fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipey8vIFdlIGp1c3QgbG9naW4gYnV0IHdlIGNvdWxkIGRvIHNvbWV0aGluZyBiZXR0ZXIgbWF5YmU/Ci8vIEhhbmRsaW5nIGF1dGhvcml6YXRpb25zIGFuZCBzdWNoCnZhciBsb2dpblVSTD1TT1VSQ0VVUkwrJy9sb2dpbic7cmVqZWN0KHsnbmFtZSc6J0lkUExvZ2luRXJyb3InLCdsb2dpblVybCc6bG9naW5VUkx9KTt9KTt9Ly8gICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBvcGVuIGEgd2luZG93IHdpdGggdGhlIFVSTCB3aGljaCB3aWxsIG9wZW4gYSBwYWdlCi8vICAgICAgICAgICAgICAvLyBzZW50IGJ5IElkUCBmb3IgdGhlIHVzZXIgdG8gaW5zZXJ0IHRoZSBjcmVkZW50aWFscwovLyAgICAgICAgICAgICAgLy8gdGhlIElkUCB2YWxpZGF0ZXMgdGhlIGNyZWRlbnRpYWxzIHRoZW4gc2VuZCBhIGFjY2VzcyB0b2tlbgovLyAgICAgICAgICB3aW5kb3cub3BlbihfdXJsLCAnb3BlbklEcmVxdWVzdCcsICd3aWR0aD04MDAsIGhlaWdodD02MDAnKQovLyAgICAgICAgICAgICAgLy8gcmVzcG9uZCB0byBldmVudHMKLy8gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4gewovLyAgICAgICAgICAgIGlmKGV2ZW50Lm9yaWdpbiAhPT0gU09VUkNFVVJMKSByZXR1cm47Ci8vCi8vICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGV2ZW50LmRhdGEpLmlkX3Rva2VuKQovLyAgICAgICAgICAgIC8vaWRwLnZhbGlkYXRlQXNzZXJ0aW9uKHJlcy5pZF90b2tlbikudGhlbigKLy8gICAgICAgICAgICAvLyAgICByZXNwb25zZSA9PiByZXNvbHZlKHJlc3BvbnNlKSwgZXJyb3IgPT4gcmVqZWN0KGVycm9yKSkKLy8gICAgICAgICAgfSxmYWxzZSkKKTt9LC8qKgogICogVmVyaWZpY2F0aW9uIG9mIGEgcmVjZWl2ZWQgSWRBc3NlcnRpb24gdmFsaWRpdHkKICAqIENhbiBhbHNvIGJlIHVzZWQgdG8gdmFsaWRhdGUgdG9rZW4gcmVjZWl2ZWQgYnkgSWRQCiAgKiBAcGFyYW0gIHtET01TdHJpbmd9IGFzc2VydGlvbiBhc3NlcnRpb24KICAqL3ZhbGlkYXRlQXNzZXJ0aW9uOmZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbi8qLCBvcmlnaW4gKi8pe2Fzc2VydGlvbj1hc3NlcnRpb24uc3BsaXQoIi4iKTt2YXIgaGVhZGVyPWFzc2VydGlvblswXSxwYXlsb2FkPWFzc2VydGlvblsxXSxzaWduYXR1cmU9YXNzZXJ0aW9uWzJdOy8vVE9ETyB0aGVyZSBpcyBwcm9iYWJseSBhIGJldHRlciB3YXkgdG8gZG8gdGhhdD8Kc2lnbmF0dXJlPXNpZ25hdHVyZS5yZXBsYWNlKC9fL2csIi8iKS5yZXBsYWNlKC8tL2csIisiKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JldHVybiBnZXRQcm94eUtleSgpLnRoZW4oZnVuY3Rpb24oS2V5KXtyZXR1cm4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ2p3aycsS2V5LHtuYW1lOidSU0FTU0EtUEtDUzEtdjFfNScsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSx0cnVlLFsndmVyaWZ5J10pLnRoZW4oZnVuY3Rpb24oSldLKXtyZXR1cm4oLy9jcnlwdG8udmVyaWZ5KGFsZ28sIGtleSwgc2lnbmF0dXJlLCB0ZXh0MnZlcmlmeSk7CmNyeXB0by5zdWJ0bGUudmVyaWZ5KCdSU0FTU0EtUEtDUzEtdjFfNScsSldLLHN0cjJhYihhdG9iKHNpZ25hdHVyZSkpLC8vQXJyYXlCdWZmZXIgb2YgdGhlIHNpZ25hdHVyZSwKc3RyMmFiKGhlYWRlcisiLiIrcGF5bG9hZCkpLy9BcnJheUJ1ZmZlciBvZiB0aGUgZGF0YQoudGhlbihmdW5jdGlvbihyZXN1bHQpe2lmKCFyZXN1bHQpcmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgb24gaWRlbnRpdHkgYXNzZXJ0aW9uJykpO2Vsc2V7dmFyIGpzb249SlNPTi5wYXJzZShhdG9iKHBheWxvYWQpKTsvLyBoYWNrIHRvIGdldCBvbmx5IHRoZSBuYW1lIGFuZCByZW1vdmUgYW55IEBtYWlsLmNvbQovLyBNb3ppbGxhIHdhbnQgdXMgdG8gcHJvdmlkZSBhIHVzZXJuYW1lIHdpdGggbmFtZUBET01BSU4KLy8gd2hlcmUgRE9NQUlOIGlzIElkUCBQcm94eSBET01BSU4KdmFyIG5hbWU9anNvbi5zdWIuc3BsaXQoJ0AnKVswXTtyZXNvbHZlKHsnaWRlbnRpdHknOm5hbWUrJ0AnK2lkcF9hZGRyLmRvbWFpbiwnY29udGVudHMnOmF0b2IoanNvbi5ydGNzZHApfSk7fX0pKTt9KTt9KTt9KTt9fTsvKgppZiAocnRjSWRlbnRpdHlQcm92aWRlcikgewogIHJ0Y0lkZW50aXR5UHJvdmlkZXIucmVnaXN0ZXIoaWRwKTsKICBjb25zb2xlLmxvZygiUHJveHkgbG9hZGVkIikKfSBlbHNlIHsKICBjb25zb2xlLndhcm4oJ0lkUCBub3QgcnVubmluZyBpbiB0aGUgcmlnaHQgc2FuZGJveCcpOwp9CiovLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgoqL3ZhciBSZXRoaW5rT2lkY1Byb3RvU3R1Yj1mdW5jdGlvbigpey8qKgogICogQ29uc3RydWN0b3Igb2YgdGhlIElkcFByb3h5IFN0dWIKICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5IHJlY2VpdmVkCiAgKgogICogQHBhcmFtICB7VVJMLlJ1bnRpbWVVUkx9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkwgcnVudGltZVByb3RvU3ViVVJMCiAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogICovZnVuY3Rpb24gUmV0aGlua09pZGNQcm90b1N0dWIocnVudGltZVByb3RvU3R1YlVSTCxidXMsY29uZmlnKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSZXRoaW5rT2lkY1Byb3RvU3R1Yik7dmFyIF90aGlzPXRoaXM7X3RoaXMucnVudGltZVByb3RvU3R1YlVSTD1ydW50aW1lUHJvdG9TdHViVVJMO190aGlzLm1lc3NhZ2VCdXM9YnVzO190aGlzLmNvbmZpZz1jb25maWc7X3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignKicsZnVuY3Rpb24obXNnKXtpZihtc2cudG89PSdkb21haW4taWRwOi8vb3JhbmdlLmNvbScpey8qbGV0IG5ld1ZhbHVlID0gSWRwUHJveHkuZ2VuZXJhdGVBc3NlcnRpb24oKTsKICAgICAgIGxldCBtZXNzYWdlID0ge2lkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLAogICAgICAgICAgICAgICAgICAgICAgYm9keToge2NvZGU6IDIwMCwgdmFsdWU6IG5ld1ZhbHVlLCBidXM6IGJ1cywgcnVudGltZVByb3RvU3R1YlVSTDogcnVudGltZVByb3RvU3R1YlVSTH19OwoKICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7Ki9fdGhpcy5yZXF1ZXN0VG9JZHAobXNnKTt9fSk7fS8qKgogICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbgogICoKICAqIEBwYXJhbSB7bWVzc2FnZX0gIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2VCdXMKICAqL19jcmVhdGVDbGFzcyhSZXRoaW5rT2lkY1Byb3RvU3R1Yixbe2tleToicmVxdWVzdFRvSWRwIix2YWx1ZTpmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKXt2YXIgX3RoaXM9dGhpczt2YXIgcGFyYW1zPW1zZy5ib2R5LnBhcmFtcztzd2l0Y2gobXNnLmJvZHkubWV0aG9kKXtjYXNlJ2dlbmVyYXRlQXNzZXJ0aW9uJzppZHAuZ2VuZXJhdGVBc3NlcnRpb24ocGFyYW1zLmNvbnRlbnRzLHBhcmFtcy5vcmlnaW4scGFyYW1zLnVzZXJuYW1lSGludCkudGhlbihmdW5jdGlvbih2YWx1ZSl7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyx2YWx1ZSk7fSxmdW5jdGlvbihlcnJvcil7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyxlcnJvcik7fSk7YnJlYWs7Y2FzZSd2YWxpZGF0ZUFzc2VydGlvbic6aWRwLnZhbGlkYXRlQXNzZXJ0aW9uKHBhcmFtcy5hc3NlcnRpb24scGFyYW1zLm9yaWdpbikudGhlbihmdW5jdGlvbih2YWx1ZSl7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyx2YWx1ZSk7fSxmdW5jdGlvbihlcnJvcil7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyxlcnJvcik7fSk7YnJlYWs7ZGVmYXVsdDpicmVhazt9fS8qKgogICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQKICAqCiAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWQKICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZAogICovfSx7a2V5OiJyZXBseU1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uIHJlcGx5TWVzc2FnZShtc2csdmFsdWUpe3ZhciBfdGhpcz10aGlzO3ZhciBtZXNzYWdlPXtpZDptc2cuaWQsdHlwZToncmVzcG9uc2UnLHRvOm1zZy5mcm9tLGZyb206bXNnLnRvLGJvZHk6e2NvZGU6MjAwLHZhbHVlOnZhbHVlfX07X3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTt9fV0pO3JldHVybiBSZXRoaW5rT2lkY1Byb3RvU3R1Yjt9KCk7Ly8gZXhwb3J0IGRlZmF1bHQgSWRwUHJveHlQcm90b1N0dWI7Ci8qKgogKiBUbyBhY3RpdmF0ZSB0aGlzIHByb3RvY29sIHN0dWIsIHVzaW5nIHRoZSBzYW1lIG1ldGhvZCBmb3IgYWxsIHByb3Rvc3R1Yi4KICogQHBhcmFtICB7VVJMLlJ1bnRpbWVVUkx9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkwgcnVudGltZVByb3RvU3ViVVJMCiAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbgogKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb24KICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBuYW1lIGFuZCBpbnN0YW5jZSBvZiBQcm90b1N0dWIKICovZnVuY3Rpb24gYWN0aXZhdGUodXJsLGJ1cyxjb25maWcpe3JldHVybntuYW1lOidSZXRoaW5rT2lkY1Byb3RvU3R1YicsaW5zdGFuY2U6bmV3IFJldGhpbmtPaWRjUHJvdG9TdHViKHVybCxidXMsY29uZmlnKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dfSx7fSxbMV0pKDEpCn0pOw==",
      "sourceCodeClassname": "OrangeProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": "5-b880b9eb-bc13-8897-5db9-004d53e89cd80",
    "type": "IDPProxys",
    "version": "0.1",
    "description": "Description of OrangeProxyStub",
    "objectName": "OrangeProxyStub",
    "configuration": {},
    "constraints": "",
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "microsoft.com": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIG1pY3Jvc29mdEluZm8gPSB7CiAgY2xpZW50SUQ6ICc3ZTJmMzU4OS00YjM4LTRiMWMtYTMyMS1jOTI1MWRlMDBlZjInLAogIHJlZGlyZWN0VVJJOiBsb2NhdGlvbi5vcmlnaW4sCiAgdG9rZW5FbmRwb2ludDogJ2h0dHBzOi8vbG9naW4ud2luZG93cy5uZXQvY29tbW9uL29hdXRoMi9hdXRob3JpemU/JywKICB0eXBlOiAnaWRfdG9rZW4nLAogIHNjb3BlOiAnb3BlbmlkJywKICBtb2RlOiAnZnJhZ21lbnQnCn07CgovKgpJTlNUUlVDVElPTlMgVE8gQUREIEFOT1RIRVIgRE9NQUlOUyBUTyBCRSBBVVRIT1JJU0VECgpIb3cgdG8gY2hhbmdlIGluZm9ybWF0aW9uICh1c2luZyB0aGUgcmV0aGlua1Byb2plY3QyMDIwQG91dGxvb2suY29tIGFjY291bnQpOgp1c2VyOiByZXRoaW5rUHJvamVjdDIwMjBAb3V0bG9vay5jb20KcGFzczogNDUlYXNkMzQhekQyJgoKb3RoZXIgdGVzdCBhY2NvdW50czoKdXNlcjogb3BlbmlkdGVzdDEwQG91dGxvb2suY29tCnBhc3M6IHRlc3RPcGVuSUQxMAoKMcK6IGh0dHBzOi8vcG9ydGFsLmF6dXJlLmNvbS8gLT4gZXhhbXBsZQoywrogZ28gdG8gdGhlIGxlZnQgc2lkZSBiYXIgLT4gbW9yZSBzZXJ2aWNlcyAtPiBBenVyZSBhY3RpdmUgZGlyZWN0b3J5CjPCuiBvcGVuIGEgc21hbGwgYm94IG9uIHRoZSByaWd0aCBzYXlpbmcgIkFwcCByZWdpc3RyYXRpb25zIi4KNMK6IG9uIHJpZ2h0IG9mIHRoZSBwYWdlIC0+ICJyZXRoaW5rIFByb2plY3QiIC0+IHJlZGlyZWN0IFVSSXMKNcK6IEFkZCB0aGUgVVJJIHRvIGJlIGF1dGhvcmlzZWQgZm9yIHRoZSByZXF1ZXN0cy4KClRPIEFERCBNT1JFIFVTRVJTIFRIQVQgQVJFIEFMTE9XIFRPIE1BREUgUkVRVUVTVCAobWF5YmUgYmVjYXVzZSBpcyBhIHRyaWFsIGFjY291bnQsIGl0IGlzIHJlcXVpcmVkICB0byBhZGQgdXNlcnMgdG8gdGhlIGxpc3Qgb2YgdGhlIHVzZXJzIHRoYXQgY2FuIG1ha2UgcmVxdWVzdHMgZm9yIHRoZSBPSURDICkKCjHCuiBodHRwczovL3BvcnRhbC5henVyZS5jb20vIC0+IGV4YW1wbGUKMsK6IGdvIHRvIHRoZSBsZWZ0IHNpZGUgYmFyIC0+IG1vcmUgc2VydmljZXMgLT4gQXp1cmUgYWN0aXZlIGRpcmVjdG9yeQozwrogb3BlbiBhIHNtYWxsIGJveCBvbiB0aGUgbWlkZGxlIHNheWluZyAiVXNlcnMgYW5kIGdyb3VwcyIuCjTCuiBvbiByaWdodCBvZiB0aGUgcGFnZSAtPiAiQWxsIHVzZXJzIiAtPiB0b3AgYnV0dG9uICIgKyBhZGQiCjXCuiBmaWxsIHdpdGggdGhlIGluZm9ybWF0aW9uIGFuZCBjbGljayBjcmVhdGUKKi8KCi8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5CiovCnZhciBpZHAgPSB7CgogIC8qKgogICogRnVuY3Rpb24gdG8gdmFsaWRhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uIHJlY2VpdmVkCiAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgdGhlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7YXNzZXJ0aW9ufSAgICBJZGVudGl0eSBBc3NlcnRpb24gdG8gYmUgdmFsaWRhdGVkCiAgKiBAcGFyYW0gIHtvcmlnaW59ICAgICAgIE9yaWdpbiBwYXJhbWV0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBvcmlnaW4gb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uCiAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdAogICovCiAgdmFsaWRhdGVBc3NlcnRpb246IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbiwgb3JpZ2luKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgdmFyIGlkVG9rZW4gPSBKU09OLnBhcnNlKGF0b2IoYXNzZXJ0aW9uKSk7CgogICAgICByZXNvbHZlKHsgaWRlbnRpdHk6IGlkVG9rZW4uZW1haWwsIGNvbnRlbnRzOiBpZFRva2VuIH0pOwogICAgfSk7CiAgfSwKCiAgLyoqCiAgKiBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhbiBpZGVudGl0eSBBc3NlcnRpb24KICAqIFRPRE8gYWRkIGRldGFpbHMgb2YgdGhlIGltcGxlbWVudGF0aW9uLCBhbmQgaW1wcm92ZSBpbXBsZW1lbnRhdGlvbgogICoKICAqIEBwYXJhbSAge2NvbnRlbnRzfSBUaGUgY29udGVudHMgaW5jbHVkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGlkZW50aXR5IHJlY2VpdmVkCiAgKiBAcGFyYW0gIHtvcmlnaW59IE9yaWdpbiBwYXJhbWV0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBvcmlnaW4gb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uCiAgKiBAcGFyYW0gIHt1c2VybmFtZUhpbnR9IG9wdGlvbmFsIHVzZXJuYW1lSGludCBwYXJhbWV0ZXIKICAqIEByZXR1cm4ge1Byb21pc2V9IHJldHVybnMgYSBwcm9taXNlIHdpdGggYW4gaWRlbnRpdHkgYXNzZXJ0aW9uCiAgKi8KICBnZW5lcmF0ZUFzc2VydGlvbjogZnVuY3Rpb24gZ2VuZXJhdGVBc3NlcnRpb24oY29udGVudHMsIG9yaWdpbiwgaGludCkgewoKICAgIC8vc3RhcnQgdGhlIGxvZ2luIHBoYXNlCiAgICAvL1RPRE8gbGF0ZXIgc2hvdWxkIGJlIGRlZmluZWQgYSBiZXR0ZXIgYXBwcm9hY2gKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGlmICghaGludCkgewogICAgICAgIHZhciBtID0gbWljcm9zb2Z0SW5mbzsKCiAgICAgICAgLy9sZXQgcmVxdWVzdFVybCA9ICdodHRwczovL2xvZ2luLndpbmRvd3MubmV0L2NvbW1vbi9vYXV0aDIvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9aWRfdG9rZW4mY2xpZW50X2lkPTdlMmYzNTg5LTRiMzgtNGIxYy1hMzIxLWM5MjUxZGUwMGVmMiZzY29wZT1vcGVuaWQmbm9uY2U9NzM2MkNBRUEtOUNBNS00QjQzLTlCQTMtMzREN0MzMDNFQkE3JnJlc3BvbnNlX21vZGU9ZnJhZ21lbnQmcmVkaXJlY3RfdXJpPScgKyBsb2NhdGlvbi5vcmlnaW47CgogICAgICAgIHZhciByZXF1ZXN0VXJsID0gbS50b2tlbkVuZHBvaW50ICsgJ3Jlc3BvbnNlX3R5cGU9JyArIG0udHlwZSArICcmY2xpZW50X2lkPScgKyBtLmNsaWVudElEICsgJyZzY29wZT0nICsgbS5zY29wZSArICcmbm9uY2U9JyArIGNvbnRlbnRzICsgJyZyZXNwb25zZV9tb2RlPScgKyBtLm1vZGUgKyAnJnJlZGlyZWN0X3VyaT0nICsgbS5yZWRpcmVjdFVSSTsKCiAgICAgICAgcmVqZWN0KHsgbmFtZTogJ0lkUExvZ2luRXJyb3InLCBsb2dpblVybDogcmVxdWVzdFVybCB9KTsKICAgICAgfSBlbHNlIHsKCiAgICAgICAgLy9sYXRlciB2ZXJpZnkgdGhlIHRva2VuIGFuZCB1c2UgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIEpXVAoKICAgICAgICB2YXIgdG9rZW4gPSBoaW50LnNwbGl0KCcvJyk7CiAgICAgICAgdmFyIHRva2VuU3BsaXRlZCA9IHRva2VuWzNdOwoKICAgICAgICB2YXIgaGludFNwbGl0ZWQgPSB0b2tlblNwbGl0ZWQuc3BsaXQoJy4nKTsKCiAgICAgICAgdmFyIGlkVG9rZW4gPSBKU09OLnBhcnNlKGF0b2IoaGludFNwbGl0ZWRbMV0pKTsKCiAgICAgICAgdmFyIGlkcEJ1bmRsZSA9IHsgZG9tYWluOiAnbWljcm9zb2Z0LmNvbScsIHByb3RvY29sOiAnT0lEQycgfTsKICAgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7IGFzc2VydGlvbjogaGludFNwbGl0ZWRbMV0sIGlkcDogaWRwQnVuZGxlLCBpbmZvVG9rZW46IGlkVG9rZW4gfTsKCiAgICAgICAgcmVzb2x2ZShpZGVudGl0eUJ1bmRsZSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTsKCi8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5IFByb3RvY29sIFN0dWIKKi8KCnZhciBNaWNyb3NvZnRQcm94eVN0dWIgPSBmdW5jdGlvbiAoKSB7CgogIC8qKgogICogQ29uc3RydWN0b3Igb2YgdGhlIElkcFByb3h5IFN0dWIKICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5IHJlY2VpdmVkCiAgKgogICogQHBhcmFtICB7VVJMLlJ1bnRpbWVVUkx9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkwgcnVudGltZVByb3RvU3ViVVJMCiAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogICovCiAgZnVuY3Rpb24gTWljcm9zb2Z0UHJveHlTdHViKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWljcm9zb2Z0UHJveHlTdHViKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gYnVzOwogICAgX3RoaXMuY29uZmlnID0gY29uZmlnOwoKICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGlmIChtc2cudG8gPT09ICdkb21haW4taWRwOi8vbWljcm9zb2Z0LmNvbScpIHsKCiAgICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqCiAgKiBGdW5jdGlvbiB0aGF0IHNlZSB0aGUgaW50ZW5kZWQgbWV0aG9kIGluIHRoZSBtZXNzYWdlIHJlY2VpdmVkIGFuZCBjYWxsIHRoZSByZXNwZWN0aXZlIGZ1bmN0aW9uCiAgKgogICogQHBhcmFtIHttZXNzYWdlfSAgbWVzc2FnZSByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZUJ1cwogICovCgoKICBfY3JlYXRlQ2xhc3MoTWljcm9zb2Z0UHJveHlTdHViLCBbewogICAga2V5OiAncmVxdWVzdFRvSWRwJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CgogICAgICBzd2l0Y2ggKG1zZy5ib2R5Lm1ldGhvZCkgewogICAgICAgIGNhc2UgJ2dlbmVyYXRlQXNzZXJ0aW9uJzoKICAgICAgICAgIGlkcC5nZW5lcmF0ZUFzc2VydGlvbihwYXJhbXMuY29udGVudHMsIHBhcmFtcy5vcmlnaW4sIHBhcmFtcy51c2VybmFtZUhpbnQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3ZhbGlkYXRlQXNzZXJ0aW9uJzoKICAgICAgICAgIGlkcC52YWxpZGF0ZUFzc2VydGlvbihwYXJhbXMuYXNzZXJ0aW9uLCBwYXJhbXMub3JpZ2luKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQKICAgICoKICAgICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZAogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVwbHlNZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLAogICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCB2YWx1ZTogdmFsdWUgfSB9OwoKICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBNaWNyb3NvZnRQcm94eVN0dWI7Cn0oKTsKCi8vIGV4cG9ydCBkZWZhdWx0IElkcFByb3h5UHJvdG9TdHViOwoKLyoqCiAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLgogKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1YgogKi8KCgpmdW5jdGlvbiBhY3RpdmF0ZSh1cmwsIGJ1cywgY29uZmlnKSB7CiAgcmV0dXJuIHsKICAgIG5hbWU6ICdNaWNyb3NvZnRQcm94eVN0dWInLAogICAgaW5zdGFuY2U6IG5ldyBNaWNyb3NvZnRQcm94eVN0dWIodXJsLCBidXMsIGNvbmZpZykKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFsxXSkoMSkKfSk7",
      "sourceCodeClassname": "MicrosoftProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": "5-b880b9eb-bc13-8897-5db9-004d53e89cd81",
    "type": "IDPProxys",
    "version": 0.2,
    "description": "Description of MicrosoftProxyStub",
    "objectName": "MicrosoftProxyStub",
    "configuration": {},
    "constraints": "",
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "google.com": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIGlkZW50aXRpZXMgPSB7fTsKdmFyIG5JZGVudGl0eSA9IDA7Cgp2YXIgZ29vZ2xlSW5mbyA9IHsKICBjbGllbnRTZWNyZXQ6ICdYeDRyS3VjYjVaWVRhWGxjWlg5SExmWlcnLAogIGNsaWVudElEOiAnODA4MzI5NTY2MDEyLXRxcjhxb2gxMTE5NDJnZDJrZzAwN3QwczhmMjc3cm9pLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywKICByZWRpcmVjdFVSSTogbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdG5hbWUsIC8vbG9jYXRpb24ub3JpZ2luLAogIGlzc3VlcjogJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbScsCiAgdG9rZW5FbmRwb2ludDogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92NC90b2tlbj8nLAogIGp3a3NVcmk6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvY2VydHM/JywKICBhdXRob3Jpc2F0aW9uRW5kcG9pbnQ6ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aD8nLAogIHVzZXJpbmZvOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3VzZXJpbmZvP2FjY2Vzc190b2tlbj0nLAogIHRva2VuSW5mbzogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbmluZm8/aWRfdG9rZW49JywKICBhY2Nlc3NUeXBlOiAnb2ZmbGluZScsCiAgdHlwZTogJ2NvZGUgdG9rZW4gaWRfdG9rZW4nLAogIHNjb3BlOiAnb3BlbmlkJTIwZW1haWwlMjBwcm9maWxlJywKICBzdGF0ZTogJ3N0YXRlJwp9OwoKLy9mdW5jdGlvbiB0byBwYXJzZSB0aGUgcXVlcnkgc3RyaW5nIGluIHRoZSBnaXZlbiBVUkwgdG8gb2JhdGluIGNlcnRhaW4gdmFsdWVzCmZ1bmN0aW9uIHVybFBhcnNlcih1cmwsIG5hbWUpIHsKICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFtdLywgJ1xcXFsnKS5yZXBsYWNlKC9bXF1dLywgJ1xcXF0nKTsKICB2YXIgcmVnZXhTID0gJ1tcXCMmP10nICsgbmFtZSArICc9KFteJiNdKiknOwogIHZhciByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhTKTsKICB2YXIgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTsKICBpZiAocmVzdWx0cyA9PT0gbnVsbCkgcmV0dXJuICcnO2Vsc2UgcmV0dXJuIHJlc3VsdHNbMV07Cn0KCmZ1bmN0aW9uIHNlbmRIVFRQUmVxdWVzdChtZXRob2QsIHVybCkgewogIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKSB7CiAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaWYgWERvbWFpblJlcXVlc3QuCiAgICAvLyBYRG9tYWluUmVxdWVzdCBvbmx5IGV4aXN0cyBpbiBJRSwgYW5kIGlzIElFJ3Mgd2F5IG9mIG1ha2luZyBDT1JTIHJlcXVlc3RzLgogICAgeGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7CiAgICB4aHIub3BlbihtZXRob2QsIHVybCk7CiAgfSBlbHNlIHsKICAgIC8vIE90aGVyd2lzZSwgQ09SUyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLgogICAgeGhyID0gbnVsbDsKICB9CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGlmICh4aHIpIHsKICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBpbmZvID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTsKICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgICAgIHJlamVjdCgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIHRva2VuJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QoJ3NvbWV0aGluZyBlbHNlIG90aGVyIHRoYW4gMjAwIHdhcyByZXR1cm5lZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgeGhyLnNlbmQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlamVjdCgnQ09SUyBub3Qgc3VwcG9ydGVkJyk7CiAgICB9CiAgfSk7Cn0KCi8qKgoqIEZ1bmN0aW9uIHRvIGV4Y2hhbmdlIHRoZSBjb2RlIHJlY2VpdmVkIHRvIHRoZSBpZCBUb2tlbiwgYWNjZXNzIHRva2VuIGFuZCBhIHJlZnJlc2ggdG9rZW4KKgoqLwp2YXIgZXhjaGFuZ2VDb2RlID0gZnVuY3Rpb24gZXhjaGFuZ2VDb2RlKGNvZGUpIHsKICB2YXIgaSA9IGdvb2dsZUluZm87CgogIHZhciBVUkwgPSBpLnRva2VuRW5kcG9pbnQgKyAnY29kZT0nICsgY29kZSArICcmY2xpZW50X2lkPScgKyBpLmNsaWVudElEICsgJyZjbGllbnRfc2VjcmV0PScgKyBpLmNsaWVudFNlY3JldCArICcmcmVkaXJlY3RfdXJpPScgKyBpLnJlZGlyZWN0VVJJICsgJyZncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSc7CgogIC8vbGV0IFVSTCA9ID0gaS50b2tlbkVuZHBvaW50ICsgJ2NsaWVudF9pZD0nICsgaS5jbGllbnRJRCArICcmY2xpZW50X3NlY3JldD0nICsgaS5jbGllbnRTZWNyZXQgKyAnJnJlZnJlc2hfdG9rZW49JyArIGNvZGUgKyAnJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlbic7CgogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBzZW5kSFRUUFJlcXVlc3QoJ1BPU1QnLCBVUkwpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHsKICAgICAgcmVzb2x2ZShpbmZvKTsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZWplY3QoZXJyb3IpOwogICAgfSk7CiAgfSk7Cn07CgovKioKKiBJZGVudGl0eSBQcm92aWRlciBQcm94eQoqLwp2YXIgSWRwUHJveHkgPSB7CgogIC8qKgogICogRnVuY3Rpb24gdG8gdmFsaWRhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uIHJlY2VpdmVkCiAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgdGhlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7YXNzZXJ0aW9ufSAgICBJZGVudGl0eSBBc3NlcnRpb24gdG8gYmUgdmFsaWRhdGVkCiAgKiBAcGFyYW0gIHtvcmlnaW59ICAgICAgIE9yaWdpbiBwYXJhbWV0ZXIgdGhhdCBpZGVudGlmaWVzIHRoZSBvcmlnaW4gb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uCiAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdAogICovCiAgdmFsaWRhdGVBc3NlcnRpb246IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbiwgb3JpZ2luKSB7CgogICAgLy9UT0RPIGNoZWNrIHRoZSB2YWx1ZXMgd2l0aCB0aGUgaGFzaCByZWNlaXZlZAogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgIHZhciBkZWNvZGVkQ29udGVudCA9IGF0b2IoYXNzZXJ0aW9uKTsKICAgICAgdmFyIGNvbnRlbnQgPSBKU09OLnBhcnNlKGRlY29kZWRDb250ZW50KTsKCiAgICAgIHZhciBpZFRva2VuU3BsaXRlZCA9IGNvbnRlbnQudG9rZW5JRC5zcGxpdCgnLicpOwoKICAgICAgdmFyIGlkVG9rZW4gPSBKU09OLnBhcnNlKGF0b2IoaWRUb2tlblNwbGl0ZWRbMV0pKTsKCiAgICAgIHJlc29sdmUoeyBpZGVudGl0eTogaWRUb2tlbi5lbWFpbCwgY29udGVudHM6IGlkVG9rZW4gfSk7CiAgICB9KTsKICAgIC8qcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7CiAgICAgIGxldCBpID0gZ29vZ2xlSW5mbzsKICAgICAgIGxldCBkZWNvZGVkQ29udGVudCA9IGF0b2IoYXNzZXJ0aW9uKTsKICAgICAgbGV0IGNvbnRlbnQgPSBKU09OLnBhcnNlKGRlY29kZWRDb250ZW50KTsKICAgICAgc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBpLnRva2VuSW5mbyArIGNvbnRlbnQudG9rZW5JRCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkgPT09IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQudG9rZW5JREpTT04pKSB7CiAgICAgICAgICByZXNvbHZlKHtpZGVudGl0eTogY29udGVudC50b2tlbklESlNPTi5lbWFpbCwgY29udGVudHM6IGNvbnRlbnQudG9rZW5JREpTT059KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVqZWN0KCdpbnZhbGlkJyk7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbihlcnIpIHsKICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7Ki8KICB9LAoKICAvKioKICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbgogICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQKICAqIEBwYXJhbSAge29yaWdpbn0gT3JpZ2luIHBhcmFtZXRlciB0aGF0IGlkZW50aWZpZXMgdGhlIG9yaWdpbiBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb24KICAqIEBwYXJhbSAge3VzZXJuYW1lSGludH0gb3B0aW9uYWwgdXNlcm5hbWVIaW50IHBhcmFtZXRlcgogICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24KICAqLwogIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CiAgICB2YXIgaSA9IGdvb2dsZUluZm87CgogICAgLy9zdGFydCB0aGUgbG9naW4gcGhhc2UKICAgIC8vVE9ETyBsYXRlciBzaG91bGQgYmUgZGVmaW5lZCBhIGJldHRlciBhcHByb2FjaAogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKCFoaW50KSB7CiAgICAgICAgLyp0cnkgewogICAgICAgICAgaWYgKHdpbmRvdykgewogICAgICAgICAgICByZXNvbHZlKCd1cmwnKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgeyovCgogICAgICAgIHZhciByZXF1ZXN0VXJsID0gaS5hdXRob3Jpc2F0aW9uRW5kcG9pbnQgKyAnc2NvcGU9JyArIGkuc2NvcGUgKyAnJmNsaWVudF9pZD0nICsgaS5jbGllbnRJRCArICcmcmVkaXJlY3RfdXJpPScgKyBpLnJlZGlyZWN0VVJJICsgJyZyZXNwb25zZV90eXBlPScgKyBpLnR5cGUgKyAnJnN0YXRlPScgKyBpLnN0YXRlICsgJyZhY2Nlc3NfdHlwZT0nICsgaS5hY2Nlc3NUeXBlICsgJyZub25jZT0nICsgY29udGVudHM7CgogICAgICAgIHJlamVjdCh7IG5hbWU6ICdJZFBMb2dpbkVycm9yJywgbG9naW5Vcmw6IHJlcXVlc3RVcmwgfSk7CgogICAgICAgIC8vICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhlIHJlcXVlc3QgaGF2ZSBhbHJlYWR5IGJlZW4gbWFkZSwgc28gaWRwUFJveHkgd2lsbCBleGNoYW5nZSB0aGUgdG9rZW5zIGFsb25nIHRvIHRoZSBpZHAsIHRvIG9idGFpbiB0aGUgaW5mb3JtYXRpb24gbmVjZXNzYXJ5CiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gdXJsUGFyc2VyKGhpbnQsICdhY2Nlc3NfdG9rZW4nKTsKICAgICAgICB2YXIgaWRUb2tlbiA9IHVybFBhcnNlcihoaW50LCAnaWRfdG9rZW4nKTsKICAgICAgICB2YXIgY29kZSA9IHVybFBhcnNlcihoaW50LCAnY29kZScpOwoKICAgICAgICBleGNoYW5nZUNvZGUoY29kZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCiAgICAgICAgICAvL29idGFpbiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlcgogICAgICAgICAgdmFyIGluZm9Ub2tlblVSTCA9IGkudXNlcmluZm8gKyB2YWx1ZS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICBzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsIGluZm9Ub2tlblVSTCkudGhlbihmdW5jdGlvbiAoaW5mb1Rva2VuKSB7CgogICAgICAgICAgICB2YXIgaWRlbnRpdHlCdW5kbGUgPSB7IGFjY2Vzc1Rva2VuOiB2YWx1ZS5hY2Nlc3NfdG9rZW4sIGlkVG9rZW46IHZhbHVlLmlkX3Rva2VuLCByZWZyZXNoVG9rZW46IHZhbHVlLnJlZnJlc2hfdG9rZW4sIHRva2VuVHlwZTogdmFsdWUudG9rZW5fdHlwZSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4gfTsKCiAgICAgICAgICAgIHZhciBpZFRva2VuVVJMID0gaS50b2tlbkluZm8gKyB2YWx1ZS5pZF90b2tlbjsKCiAgICAgICAgICAgIC8vb2J0YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIGlkVG9rZW4KICAgICAgICAgICAgc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBpZFRva2VuVVJMKS50aGVuKGZ1bmN0aW9uIChpZFRva2VuKSB7CgogICAgICAgICAgICAgIGlkZW50aXR5QnVuZGxlLnRva2VuSURKU09OID0gaWRUb2tlbjsKICAgICAgICAgICAgICBpZGVudGl0eUJ1bmRsZS5leHBpcmVzID0gaWRUb2tlbi5leHA7CiAgICAgICAgICAgICAgaWRlbnRpdHlCdW5kbGUuZW1haWwgPSBpZFRva2VuLmVtYWlsOwoKICAgICAgICAgICAgICB2YXIgYXNzZXJ0aW9uID0gYnRvYShKU09OLnN0cmluZ2lmeSh7IHRva2VuSUQ6IHZhbHVlLmlkX3Rva2VuLCB0b2tlbklESlNPTjogaWRUb2tlbiB9KSk7CiAgICAgICAgICAgICAgdmFyIGlkcEJ1bmRsZSA9IHsgZG9tYWluOiAnZ29vZ2xlLmNvbScsIHByb3RvY29sOiAnT0lEQycgfTsKCiAgICAgICAgICAgICAgLy9UT0RPIGRlbGV0ZSBsYXRlciB0aGUgZmllbGQgaW5mb1Rva2VuLCBhbmQgZGVsZXRlIHRoZSBuZWVkIGluIHRoZSBleGFtcGxlCiAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0geyBhc3NlcnRpb246IGFzc2VydGlvbiwgaWRwOiBpZHBCdW5kbGUsIGluZm86IGlkZW50aXR5QnVuZGxlLCBpbmZvVG9rZW46IGluZm9Ub2tlbiB9OwoKICAgICAgICAgICAgICBpZGVudGl0aWVzW25JZGVudGl0eV0gPSByZXR1cm5WYWx1ZTsKICAgICAgICAgICAgICArK25JZGVudGl0eTsKCiAgICAgICAgICAgICAgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CgogICAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKCiAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CgogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTsKCi8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5IFByb3RvY29sIFN0dWIKKi8KCnZhciBJZHBQcm94eVByb3RvU3R1YiA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1YgogICogVGhlIGNvbnN0cnVjdG9yIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBtZXNzYWdlQnVzIHJlY2VpdmVkIGFuZCBzdGFydCBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgcmVjZWl2ZWQKICAqCiAgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbgogICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAgKi8KICBmdW5jdGlvbiBJZHBQcm94eVByb3RvU3R1YihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElkcFByb3h5UHJvdG9TdHViKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gYnVzOwogICAgX3RoaXMuY29uZmlnID0gY29uZmlnOwoKICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGlmIChtc2cudG8gPT09ICdkb21haW4taWRwOi8vZ29vZ2xlLmNvbScpIHsKCiAgICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqCiAgKiBGdW5jdGlvbiB0aGF0IHNlZSB0aGUgaW50ZW5kZWQgbWV0aG9kIGluIHRoZSBtZXNzYWdlIHJlY2VpdmVkIGFuZCBjYWxsIHRoZSByZXNwZWN0aXZlIGZ1bmN0aW9uCiAgKgogICogQHBhcmFtIHttZXNzYWdlfSAgbWVzc2FnZSByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZUJ1cwogICovCgoKICBfY3JlYXRlQ2xhc3MoSWRwUHJveHlQcm90b1N0dWIsIFt7CiAgICBrZXk6ICdyZXF1ZXN0VG9JZHAnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3RUb0lkcChtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IG1zZy5ib2R5LnBhcmFtczsKCiAgICAgIHN3aXRjaCAobXNnLmJvZHkubWV0aG9kKSB7CiAgICAgICAgY2FzZSAnZ2VuZXJhdGVBc3NlcnRpb24nOgogICAgICAgICAgSWRwUHJveHkuZ2VuZXJhdGVBc3NlcnRpb24ocGFyYW1zLmNvbnRlbnRzLCBwYXJhbXMub3JpZ2luLCBwYXJhbXMudXNlcm5hbWVIaW50KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd2YWxpZGF0ZUFzc2VydGlvbic6CiAgICAgICAgICBJZHBQcm94eS52YWxpZGF0ZUFzc2VydGlvbihwYXJhbXMuYXNzZXJ0aW9uLCBwYXJhbXMub3JpZ2luKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQKICAgICoKICAgICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZAogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVwbHlNZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLAogICAgICAgIGJvZHk6IHsgY29kZTogMjAwLCB2YWx1ZTogdmFsdWUgfSB9OwoKICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBJZHBQcm94eVByb3RvU3R1YjsKfSgpOwoKLy8gZXhwb3J0IGRlZmF1bHQgSWRwUHJveHlQcm90b1N0dWI7CgovKioKICogVG8gYWN0aXZhdGUgdGhpcyBwcm90b2NvbCBzdHViLCB1c2luZyB0aGUgc2FtZSBtZXRob2QgZm9yIGFsbCBwcm90b3N0dWIuCiAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTAogKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViCiAqLwoKCmZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKICByZXR1cm4gewogICAgbmFtZTogJ0lkcFByb3h5UHJvdG9TdHViJywKICAgIGluc3RhbmNlOiBuZXcgSWRwUHJveHlQcm90b1N0dWIodXJsLCBidXMsIGNvbmZpZykKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFsxXSkoMSkKfSk7",
      "sourceCodeClassname": "IdpProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": "5-b880b9eb-bc13-8897-5db9-004d53e89cd82",
    "type": "IDPProxys",
    "version": 0.2,
    "description": "Description of IdpProxyStub",
    "objectName": "IdpProxyStub",
    "configuration": {},
    "constraints": "",
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "slack.com": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBhY3RpdmF0ZTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIHNsYWNrSW5mbyA9IHsKICBjbGllbnRJRDogJzExNTMzNjAzODcyLjcyNDM0OTM0MzU2JywKICBjbGllbnRTZWNyZXQ6ICdkNDI3ZWYzYzk1N2Q2OGEyOTJkYzdjNGUyMGI3ODMzMCcsCiAgcmVkaXJlY3RVUkk6IGxvY2F0aW9uLm9yaWdpbiwKICBjb2RlRW5kcG9pbnQ6ICdodHRwczovL3NsYWNrLmNvbS9vYXV0aC9hdXRob3JpemU/JywKICB0b2tlbkVuZHBvaW50OiAnaHR0cHM6Ly9zbGFjay5jb20vYXBpL29hdXRoLmFjY2Vzcz8nLAogIGluZm9FbmRwb2ludDogJ2h0dHBzOi8vc2xhY2suY29tL2FwaS91c2Vycy5pbmZvPycsCiAgc2NvcGU6ICd1c2VyczpyZWFkIGNoYXQ6d3JpdGU6dXNlcicKfTsKCi8vZnVuY3Rpb24gdG8gcGFyc2UgdGhlIHF1ZXJ5IHN0cmluZyBpbiB0aGUgZ2l2ZW4gVVJMIHRvIG9iYXRpbiBjZXJ0YWluIHZhbHVlcwpmdW5jdGlvbiB1cmxQYXJzZXIodXJsLCBuYW1lKSB7CiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xbXS8sICdcXFxbJykucmVwbGFjZSgvW1xdXS8sICdcXFxdJyk7CiAgdmFyIHJlZ2V4UyA9ICdbXFwjJj9dJyArIG5hbWUgKyAnPShbXiYjXSopJzsKICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4Uyk7CiAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7CiAgaWYgKHJlc3VsdHMgPT09IG51bGwpIHJldHVybiAnJztlbHNlIHJldHVybiByZXN1bHRzWzFdOwp9CgpmdW5jdGlvbiBzZW5kSFRUUFJlcXVlc3QobWV0aG9kLCB1cmwpIHsKICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikgewogICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpOwogIH0gZWxzZSBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIFhEb21haW5SZXF1ZXN0LgogICAgLy8gWERvbWFpblJlcXVlc3Qgb25seSBleGlzdHMgaW4gSUUsIGFuZCBpcyBJRSdzIHdheSBvZiBtYWtpbmcgQ09SUyByZXF1ZXN0cy4KICAgIHhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOwogICAgeGhyLm9wZW4obWV0aG9kLCB1cmwpOwogIH0gZWxzZSB7CiAgICAvLyBPdGhlcndpc2UsIENPUlMgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci4KICAgIHhociA9IG51bGw7CiAgfQogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBpZiAoeGhyKSB7CiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgaW5mbyA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIHJlc29sdmUoaW5mbyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDQwMCkgewogICAgICAgICAgICByZWplY3QoJ1RoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSB0b2tlbicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KCdzb21ldGhpbmcgZWxzZSBvdGhlciB0aGFuIDIwMCB3YXMgcmV0dXJuZWQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHhoci5zZW5kKCk7CiAgICB9IGVsc2UgewogICAgICByZWplY3QoJ0NPUlMgbm90IHN1cHBvcnRlZCcpOwogICAgfQogIH0pOwp9CgovKioKKiBGdW5jdGlvbiB0byBleGNoYW5nZSB0aGUgY29kZSByZWNlaXZlZCB0byB0aGUgaWQgVG9rZW4sIGFjY2VzcyB0b2tlbiBhbmQgYSByZWZyZXNoIHRva2VuCioKKi8KdmFyIGV4Y2hhbmdlQ29kZSA9IGZ1bmN0aW9uIGV4Y2hhbmdlQ29kZShjb2RlKSB7CgogIHZhciBzID0gc2xhY2tJbmZvOwogIHZhciBVUkwgPSBzLnRva2VuRW5kcG9pbnQgKyAnY2xpZW50X2lkPScgKyBzLmNsaWVudElEICsgJyZjbGllbnRfc2VjcmV0PScgKyBzLmNsaWVudFNlY3JldCArICcmY29kZT0nICsgY29kZSArICcmcmVkaXJlY3RfdXJpPScgKyBzLnJlZGlyZWN0VVJJOwoKICBjb25zb2xlLmxvZygnVVJMJywgVVJMKTsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHNlbmRIVFRQUmVxdWVzdCgnR0VUJywgVVJMKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgIHJlc29sdmUoaW5mbyk7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9OwoKLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkKKi8KdmFyIGlkcCA9IHsKCiAgLyoqCiAgKiBGdW5jdGlvbiB0byB2YWxpZGF0ZSBhbiBpZGVudGl0eSBBc3NlcnRpb24gcmVjZWl2ZWQKICAqIFRPRE8gYWRkIGRldGFpbHMgb2YgdGhlIGltcGxlbWVudGF0aW9uLCBhbmQgaW1wcm92ZSB0aGUgaW1wbGVtZW50YXRpb24KICAqCiAgKiBAcGFyYW0gIHthc3NlcnRpb259ICAgIElkZW50aXR5IEFzc2VydGlvbiB0byBiZSB2YWxpZGF0ZWQKICAqIEBwYXJhbSAge29yaWdpbn0gICAgICAgT3JpZ2luIHBhcmFtZXRlciB0aGF0IGlkZW50aWZpZXMgdGhlIG9yaWdpbiBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb24KICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgUmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgaWRlbnRpdHkgYXNzZXJ0aW9uIHZhbGlkYXRpb24gcmVzdWx0CiAgKi8KICB2YWxpZGF0ZUFzc2VydGlvbjogZnVuY3Rpb24gdmFsaWRhdGVBc3NlcnRpb24oYXNzZXJ0aW9uLCBvcmlnaW4pIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICBjb25zb2xlLmxvZygnTVlQUk9YWSAtIFZBTElEQVRJTkcnKTsKICAgICAgcmVzb2x2ZSh7IGlkZW50aXR5OiAnaWRlbnRpdHlAaWRwLmNvbScsIGNvbnRlbnRzOiAnY29udGVudCcgfSk7CiAgICB9KTsKICB9LAoKICAvKioKICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbgogICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQKICAqIEBwYXJhbSAge29yaWdpbn0gT3JpZ2luIHBhcmFtZXRlciB0aGF0IGlkZW50aWZpZXMgdGhlIG9yaWdpbiBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb24KICAqIEBwYXJhbSAge3VzZXJuYW1lSGludH0gb3B0aW9uYWwgdXNlcm5hbWVIaW50IHBhcmFtZXRlcgogICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24KICAqLwogIGdlbmVyYXRlQXNzZXJ0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUFzc2VydGlvbihjb250ZW50cywgb3JpZ2luLCBoaW50KSB7CgogICAgY29uc29sZS5sb2coJ2NvbnRlbnRzLT4nLCBjb250ZW50cyk7CiAgICBjb25zb2xlLmxvZygnb3JpZ2luLT4nLCBvcmlnaW4pOwogICAgY29uc29sZS5sb2coJ2hpbnQtPicsIGhpbnQpOwoKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAvL3RoZSBoaW50IGZpZWxkIGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBvYnRhaW5lZCBhZnRlciB0aGUgdXNlciBhdXRoZW50aWNhdGlvbgogICAgICAvLyBpZiB0aGUgaGludCBjb250ZW50IGlzIG5vdCBwcmVzZW50LCB0aGVuIHJlamVjdHMgdGhlIHZhbHVlIHdpdGggdGhlIFVSTCB0byBvcGVuIHRoZSBwYWdlIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlcgogICAgICB2YXIgcyA9IHNsYWNrSW5mbzsKICAgICAgaWYgKCFoaW50KSB7CiAgICAgICAgLy9sZXQgcmVxdWVzdFVybCA9IGh0dHBzOi8vc2xhY2suY29tL29hdXRoL2F1dGhvcml6ZT9jbGllbnRfaWQ9MTE1MzM2MDM4NzIuNzI0MzQ5MzQzNTYmc2NvcGU9Y2hhdDp3cml0ZTp1c2VyJnJlZGlyZWN0X3VyaT1odHRwczovL3d3dy5nZXRwb3N0bWFuLmNvbS9vYXV0aDIvY2FsbGJhY2s7CgogICAgICAgIHZhciByZXF1ZXN0VXJsID0gcy5jb2RlRW5kcG9pbnQgKyAnY2xpZW50X2lkPScgKyBzLmNsaWVudElEICsgJyZ0ZWFtPVQwQkZQSFJSTicgKyAnJnNjb3BlPScgKyBzLnNjb3BlICsgJyZyZWRpcmVjdF91cmk9JyArIHMucmVkaXJlY3RVUkk7CgogICAgICAgIGNvbnNvbGUubG9nKCdmaXJzdCB1cmwgJywgcmVxdWVzdFVybCwgJ2RvbmUnKTsKICAgICAgICByZWplY3QoeyBuYW1lOiAnSWRQTG9naW5FcnJvcicsIGxvZ2luVXJsOiByZXF1ZXN0VXJsIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBjb2RlID0gdXJsUGFyc2VyKGhpbnQsICdjb2RlJyk7CiAgICAgICAgY29uc29sZS5sb2coJ2NvZGUnLCBjb2RlKTsKICAgICAgICBleGNoYW5nZUNvZGUoY29kZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKCiAgICAgICAgICBjb25zb2xlLmxvZygndmFsdWUgQUZURVIgZXhjaGFuZ2VDb2RlJywgdmFsdWUpOwoKICAgICAgICAgIHZhciBpbmZvVXJsID0gcy5pbmZvRW5kcG9pbnQgKyAndG9rZW49JyArIHZhbHVlLmFjY2Vzc190b2tlbiArICcmdXNlcj0nICsgdmFsdWUudXNlcl9pZDsKCiAgICAgICAgICBzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsIGluZm9VcmwpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2luZm8tPicsIGluZm8pOwoKICAgICAgICAgICAgdmFyIHByb2ZpbGUgPSBpbmZvLnVzZXIucHJvZmlsZTsKICAgICAgICAgICAgdmFyIGluZm9Ub2tlbiA9IHsgcGljdHVyZTogcHJvZmlsZS5pbWFnZV9vcmlnaW5hbCwgZW1haWw6IHByb2ZpbGUuZW1haWwsIGZhbWlseV9uYW1lOiBwcm9maWxlLmxhc3RfbmFtZSwgZ2l2ZW5fbmFtZTogcHJvZmlsZS5maXJzdF9uYW1lIH07CgogICAgICAgICAgICB2YXIgYXNzZXJ0aW9uID0gYnRvYShKU09OLnN0cmluZ2lmeSh7IHRva2VuSUQ6IHZhbHVlLmFjY2Vzc190b2tlbiwgZW1haWw6IHByb2ZpbGUuZW1haWwsIGlkOiBpbmZvLnVzZXIuaWQgfSkpOwogICAgICAgICAgICByZXNvbHZlKHsgYXNzZXJ0aW9uOiBhc3NlcnRpb24sIGlkcDogeyBkb21haW46ICdzbGFjay5jb20nLCBwcm90b2NvbDogJ09BdXRoIDIuMCcgfSwgaW5mb1Rva2VuOiBpbmZvVG9rZW4gfSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yLT4nLCBlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQp9OwoKLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgoqLwoKdmFyIFNsYWNrUHJveHlTdHViID0gZnVuY3Rpb24gKCkgewoKICAvKioKICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViCiAgKiBUaGUgY29uc3RydWN0b3IgYWRkIGEgbGlzdGVuZXIgaW4gdGhlIG1lc3NhZ2VCdXMgcmVjZWl2ZWQgYW5kIHN0YXJ0IGEgd2ViIHdvcmtlciB3aXRoIHRoZSByZWNlaXZlZCBpZHBQcm94eQogICoKICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTAogICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAgKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb24KICAqLwogIGZ1bmN0aW9uIFNsYWNrUHJveHlTdHViKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xhY2tQcm94eVN0dWIpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMID0gcnVudGltZVByb3RvU3R1YlVSTDsKICAgIF90aGlzLm1lc3NhZ2VCdXMgPSBidXM7CiAgICBfdGhpcy5jb25maWcgPSBjb25maWc7CgogICAgX3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgLy9UT0RPIGFkZCB0aGUgcmVzcGVjdGl2ZSBsaXN0ZW5lcgogICAgICBpZiAobXNnLnRvID09PSAnZG9tYWluLWlkcDovL3NsYWNrLmNvbScpIHsKICAgICAgICBfdGhpcy5yZXF1ZXN0VG9JZHAobXNnKTsKICAgICAgfQogICAgfSk7CiAgfQoKICAvKioKICAqIEZ1bmN0aW9uIHRoYXQgc2VlIHRoZSBpbnRlbmRlZCBtZXRob2QgaW4gdGhlIG1lc3NhZ2UgcmVjZWl2ZWQgYW5kIGNhbGwgdGhlIHJlc3BlY3RpdmUgZnVuY3Rpb24KICAqCiAgKiBAcGFyYW0ge21lc3NhZ2V9ICBtZXNzYWdlIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlQnVzCiAgKi8KCgogIF9jcmVhdGVDbGFzcyhTbGFja1Byb3h5U3R1YiwgW3sKICAgIGtleTogJ3JlcXVlc3RUb0lkcCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdFRvSWRwKG1zZykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gbXNnLmJvZHkucGFyYW1zOwoKICAgICAgc3dpdGNoIChtc2cuYm9keS5tZXRob2QpIHsKICAgICAgICBjYXNlICdnZW5lcmF0ZUFzc2VydGlvbic6CiAgICAgICAgICBpZHAuZ2VuZXJhdGVBc3NlcnRpb24ocGFyYW1zLmNvbnRlbnRzLCBwYXJhbXMub3JpZ2luLCBwYXJhbXMudXNlcm5hbWVIaW50KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd2YWxpZGF0ZUFzc2VydGlvbic6CiAgICAgICAgICBpZHAudmFsaWRhdGVBc3NlcnRpb24ocGFyYW1zLmFzc2VydGlvbiwgcGFyYW1zLm9yaWdpbikudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkCiAgICAqCiAgICAqIEBwYXJhbSAge21lc3NhZ2V9ICAgbWVzc2FnZSByZWNlaXZlZAogICAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmQKICAgICovCgogIH0sIHsKICAgIGtleTogJ3JlcGx5TWVzc2FnZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtZXNzYWdlID0geyBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCB0bzogbXNnLmZyb20sIGZyb206IG1zZy50bywgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiB2YWx1ZSB9IH07CgogICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNsYWNrUHJveHlTdHViOwp9KCk7CgovKioKICogVG8gYWN0aXZhdGUgdGhpcyBwcm90b2NvbCBzdHViLCB1c2luZyB0aGUgc2FtZSBtZXRob2QgZm9yIGFsbCBwcm90b3N0dWIuCiAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTAogKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViCiAqLwoKCmZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHsKICByZXR1cm4gewogICAgbmFtZTogJ1NsYWNrUHJveHlTdHViJywKICAgIGluc3RhbmNlOiBuZXcgU2xhY2tQcm94eVN0dWIodXJsLCBidXMsIGNvbmZpZykKICB9Owp9Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV19LHt9LFsxXSkoMSkKfSk7",
      "sourceCodeClassname": "SlackProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-b880b9eb-bc13-8897-5db9-004d53e89cd83",
    "version": 0.7999999999999999,
    "description": "Description of SlackProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "objectName": "SlackProxyStub",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "constraints": "",
    "dataObjects": [],
    "interworking": true
  },
  "SlackProxyStub": {
    "sourcePackage": {
      "sourceCode": "CmxldCBzbGFja0luZm8gPSB7CiAgY2xpZW50SUQ6ICcxMTUzMzYwMzg3Mi43MjQzNDkzNDM1NicsCiAgY2xpZW50U2VjcmV0OiAnZDQyN2VmM2M5NTdkNjhhMjkyZGM3YzRlMjBiNzgzMzAnLAogIHJlZGlyZWN0VVJJOiBsb2NhdGlvbi5vcmlnaW4sCiAgY29kZUVuZHBvaW50OiAnaHR0cHM6Ly9zbGFjay5jb20vb2F1dGgvYXV0aG9yaXplPycsCiAgdG9rZW5FbmRwb2ludDogJ2h0dHBzOi8vc2xhY2suY29tL2FwaS9vYXV0aC5hY2Nlc3M/JywKICBpbmZvRW5kcG9pbnQ6ICdodHRwczovL3NsYWNrLmNvbS9hcGkvdXNlcnMuaW5mbz8nLAogIHNjb3BlOiAndXNlcnM6cmVhZCBjaGF0OndyaXRlOnVzZXInCn07CgovL2Z1bmN0aW9uIHRvIHBhcnNlIHRoZSBxdWVyeSBzdHJpbmcgaW4gdGhlIGdpdmVuIFVSTCB0byBvYmF0aW4gY2VydGFpbiB2YWx1ZXMKZnVuY3Rpb24gdXJsUGFyc2VyKHVybCwgbmFtZSkgewogIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcW10vLCAnXFxcWycpLnJlcGxhY2UoL1tcXV0vLCAnXFxcXScpOwogIGxldCByZWdleFMgPSAnW1xcIyY/XScgKyBuYW1lICsgJz0oW14mI10qKSc7CiAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleFMpOwogIGxldCByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpOwogIGlmIChyZXN1bHRzID09PSBudWxsKQogIHJldHVybiAnJzsKICBlbHNlCiAgcmV0dXJuIHJlc3VsdHNbMV07Cn0KCmZ1bmN0aW9uIHNlbmRIVFRQUmVxdWVzdChtZXRob2QsIHVybCkgewogIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKSB7CiAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgfSBlbHNlIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaWYgWERvbWFpblJlcXVlc3QuCiAgICAvLyBYRG9tYWluUmVxdWVzdCBvbmx5IGV4aXN0cyBpbiBJRSwgYW5kIGlzIElFJ3Mgd2F5IG9mIG1ha2luZyBDT1JTIHJlcXVlc3RzLgogICAgeGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7CiAgICB4aHIub3BlbihtZXRob2QsIHVybCk7CiAgfSBlbHNlIHsKICAgIC8vIE90aGVyd2lzZSwgQ09SUyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLgogICAgeGhyID0gbnVsbDsKICB9CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7CiAgICBpZiAoeGhyKSB7CiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIGxldCBpbmZvID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTsKICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgICAgIHJlamVjdCgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIHRva2VuJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QoJ3NvbWV0aGluZyBlbHNlIG90aGVyIHRoYW4gMjAwIHdhcyByZXR1cm5lZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgeGhyLnNlbmQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlamVjdCgnQ09SUyBub3Qgc3VwcG9ydGVkJyk7CiAgICB9CiAgfSk7Cn0KCi8qKgoqIEZ1bmN0aW9uIHRvIGV4Y2hhbmdlIHRoZSBjb2RlIHJlY2VpdmVkIHRvIHRoZSBpZCBUb2tlbiwgYWNjZXNzIHRva2VuIGFuZCBhIHJlZnJlc2ggdG9rZW4KKgoqLwpsZXQgZXhjaGFuZ2VDb2RlID0gKGZ1bmN0aW9uKGNvZGUpIHsKCiAgbGV0IHMgPSBzbGFja0luZm87CiAgbGV0IFVSTCA9IHMudG9rZW5FbmRwb2ludCArICdjbGllbnRfaWQ9JyArIHMuY2xpZW50SUQgKyAnJmNsaWVudF9zZWNyZXQ9JyArIHMuY2xpZW50U2VjcmV0ICsgJyZjb2RlPScgKyBjb2RlICsgJyZyZWRpcmVjdF91cmk9JyArICBzLnJlZGlyZWN0VVJJOwoKICBjb25zb2xlLmxvZygnVVJMJywgVVJMKTsKCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgc2VuZEhUVFBSZXF1ZXN0KCdHRVQnLCBVUkwpLnRoZW4oZnVuY3Rpb24oaW5mbykgewogICAgICByZXNvbHZlKGluZm8pOwogICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwoKICB9KTsKfSk7CgovKioKKiBJZGVudGl0eSBQcm92aWRlciBQcm94eQoqLwpsZXQgaWRwID0gewoKICAvKioKICAqIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbiByZWNlaXZlZAogICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIHRoZSBpbXBsZW1lbnRhdGlvbgogICoKICAqIEBwYXJhbSAge2Fzc2VydGlvbn0gICAgSWRlbnRpdHkgQXNzZXJ0aW9uIHRvIGJlIHZhbGlkYXRlZAogICogQHBhcmFtICB7b3JpZ2lufSAgICAgICBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbgogICogQHJldHVybiB7UHJvbWlzZX0gICAgICBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHRoZSBpZGVudGl0eSBhc3NlcnRpb24gdmFsaWRhdGlvbiByZXN1bHQKICAqLwogIHZhbGlkYXRlQXNzZXJ0aW9uOiAoYXNzZXJ0aW9uLCBvcmlnaW4pID0+IHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCkgewoKICAgICAgY29uc29sZS5sb2coJ01ZUFJPWFkgLSBWQUxJREFUSU5HJyk7CiAgICAgIHJlc29sdmUoe2lkZW50aXR5OiAnaWRlbnRpdHlAaWRwLmNvbScsIGNvbnRlbnRzOiAnY29udGVudCd9KTsKCiAgICB9KTsKICB9LAoKICAvKioKICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbgogICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIGltcGxlbWVudGF0aW9uCiAgKgogICogQHBhcmFtICB7Y29udGVudHN9IFRoZSBjb250ZW50cyBpbmNsdWRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaWRlbnRpdHkgcmVjZWl2ZWQKICAqIEBwYXJhbSAge29yaWdpbn0gT3JpZ2luIHBhcmFtZXRlciB0aGF0IGlkZW50aWZpZXMgdGhlIG9yaWdpbiBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb24KICAqIEBwYXJhbSAge3VzZXJuYW1lSGludH0gb3B0aW9uYWwgdXNlcm5hbWVIaW50IHBhcmFtZXRlcgogICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24KICAqLwogIGdlbmVyYXRlQXNzZXJ0aW9uOiAoY29udGVudHMsIG9yaWdpbiwgaGludCkgPT4gewoKICAgIGNvbnNvbGUubG9nKCdjb250ZW50cy0+JywgY29udGVudHMpOwogICAgY29uc29sZS5sb2coJ29yaWdpbi0+Jywgb3JpZ2luKTsKICAgIGNvbnNvbGUubG9nKCdoaW50LT4nLCBoaW50KTsKCiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAvL3RoZSBoaW50IGZpZWxkIGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBvYnRhaW5lZCBhZnRlciB0aGUgdXNlciBhdXRoZW50aWNhdGlvbgogICAgICAvLyBpZiB0aGUgaGludCBjb250ZW50IGlzIG5vdCBwcmVzZW50LCB0aGVuIHJlamVjdHMgdGhlIHZhbHVlIHdpdGggdGhlIFVSTCB0byBvcGVuIHRoZSBwYWdlIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlcgogICAgICBsZXQgcyA9IHNsYWNrSW5mbzsKICAgICAgaWYgKCFoaW50KSB7CiAgICAgICAgLy9sZXQgcmVxdWVzdFVybCA9IGh0dHBzOi8vc2xhY2suY29tL29hdXRoL2F1dGhvcml6ZT9jbGllbnRfaWQ9MTE1MzM2MDM4NzIuNzI0MzQ5MzQzNTYmc2NvcGU9Y2hhdDp3cml0ZTp1c2VyJnJlZGlyZWN0X3VyaT1odHRwczovL3d3dy5nZXRwb3N0bWFuLmNvbS9vYXV0aDIvY2FsbGJhY2s7CgogICAgICAgIGxldCByZXF1ZXN0VXJsID0gcy5jb2RlRW5kcG9pbnQgKyAnY2xpZW50X2lkPScgKyBzLmNsaWVudElEICsgJyZ0ZWFtPVQwQkZQSFJSTicgKyAnJnNjb3BlPScgKyBzLnNjb3BlICsgJyZyZWRpcmVjdF91cmk9JyArICBzLnJlZGlyZWN0VVJJOwoKICAgICAgICBjb25zb2xlLmxvZygnZmlyc3QgdXJsICcsIHJlcXVlc3RVcmwsICdkb25lJyk7CiAgICAgICAgcmVqZWN0KHtuYW1lOiAnSWRQTG9naW5FcnJvcicsIGxvZ2luVXJsOiByZXF1ZXN0VXJsfSk7CgogICAgICB9IGVsc2UgewogICAgICAgIGxldCBjb2RlID0gdXJsUGFyc2VyKGhpbnQsICdjb2RlJyk7CiAgICAgICAgY29uc29sZS5sb2coJ2NvZGUnLCBjb2RlKTsKICAgICAgICBleGNoYW5nZUNvZGUoY29kZSkudGhlbihmdW5jdGlvbih2YWx1ZSkgewoKICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWx1ZSBBRlRFUiBleGNoYW5nZUNvZGUnLCB2YWx1ZSk7CgogICAgICAgICAgbGV0IGluZm9VcmwgPSBzLmluZm9FbmRwb2ludCArICd0b2tlbj0nICsgdmFsdWUuYWNjZXNzX3Rva2VuICsgJyZ1c2VyPScgKyB2YWx1ZS51c2VyX2lkOwoKICAgICAgICAgIHNlbmRIVFRQUmVxdWVzdCgnR0VUJywgaW5mb1VybCkudGhlbihmdW5jdGlvbihpbmZvKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmZvLT4nLCBpbmZvKTsKCiAgICAgICAgICAgIGxldCBwcm9maWxlID0gaW5mby51c2VyLnByb2ZpbGU7CiAgICAgICAgICAgIGxldCBpbmZvVG9rZW4gPSB7cGljdHVyZTogcHJvZmlsZS5pbWFnZV9vcmlnaW5hbCwgZW1haWw6IHByb2ZpbGUuZW1haWwsIGZhbWlseV9uYW1lOiBwcm9maWxlLmxhc3RfbmFtZSwgZ2l2ZW5fbmFtZTogcHJvZmlsZS5maXJzdF9uYW1lfTsKCiAgICAgICAgICAgIGxldCBhc3NlcnRpb24gPSBidG9hKEpTT04uc3RyaW5naWZ5KHt0b2tlbklEOiB2YWx1ZS5hY2Nlc3NfdG9rZW4sIGVtYWlsOiBwcm9maWxlLmVtYWlsLCBpZDogaW5mby51c2VyLmlkfSkpOwogICAgICAgICAgICByZXNvbHZlKHthc3NlcnRpb246IGFzc2VydGlvbiwgaWRwOiB7ZG9tYWluOiAnc2xhY2suY29tJywgcHJvdG9jb2w6ICdPQXV0aCAyLjAnfSwgaW5mb1Rva2VuOiBpbmZvVG9rZW59KTsKICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvci0+JywgZXJyb3IpOwogICAgICAgICAgfSk7CgogICAgICAgIH0pOwoKICAgICAgfQogICAgfSk7CiAgfQp9OwoKLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgoqLwpjbGFzcyBTbGFja1Byb3h5U3R1YiB7CgogIC8qKgogICogQ29uc3RydWN0b3Igb2YgdGhlIElkcFByb3h5IFN0dWIKICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIHJlY2VpdmVkIGlkcFByb3h5CiAgKgogICogQHBhcmFtICB7VVJMLlJ1bnRpbWVVUkx9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkwgcnVudGltZVByb3RvU3ViVVJMCiAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb24KICAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogICovCiAgY29uc3RydWN0b3IocnVudGltZVByb3RvU3R1YlVSTCwgYnVzLCBjb25maWcpIHsKICAgIGxldCBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMID0gcnVudGltZVByb3RvU3R1YlVSTDsKICAgIF90aGlzLm1lc3NhZ2VCdXMgPSBidXM7CiAgICBfdGhpcy5jb25maWcgPSBjb25maWc7CgogICAgX3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uKG1zZykgewogICAgICAvL1RPRE8gYWRkIHRoZSByZXNwZWN0aXZlIGxpc3RlbmVyCiAgICAgIGlmIChtc2cudG8gPT09ICdkb21haW4taWRwOi8vc2xhY2suY29tJykgewogICAgICAgIF90aGlzLnJlcXVlc3RUb0lkcChtc2cpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbgogICoKICAqIEBwYXJhbSB7bWVzc2FnZX0gIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2VCdXMKICAqLwogIHJlcXVlc3RUb0lkcChtc2cpIHsKICAgIGxldCBfdGhpcyA9IHRoaXM7CiAgICBsZXQgcGFyYW1zID0gbXNnLmJvZHkucGFyYW1zOwoKICAgIHN3aXRjaCAobXNnLmJvZHkubWV0aG9kKSB7CiAgICAgIGNhc2UgJ2dlbmVyYXRlQXNzZXJ0aW9uJzoKICAgICAgICBpZHAuZ2VuZXJhdGVBc3NlcnRpb24ocGFyYW1zLmNvbnRlbnRzLCBwYXJhbXMub3JpZ2luLCBwYXJhbXMudXNlcm5hbWVIaW50KS50aGVuKAogICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHsgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpO30sCgogICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpO30KICAgICAgICApOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICd2YWxpZGF0ZUFzc2VydGlvbic6CiAgICAgICAgaWRwLnZhbGlkYXRlQXNzZXJ0aW9uKHBhcmFtcy5hc3NlcnRpb24sIHBhcmFtcy5vcmlnaW4pLnRoZW4oCiAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7fSwKCiAgICAgICAgICBmdW5jdGlvbihlcnJvcikgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvcik7fQogICAgICAgICk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvKioKICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkCiAgKgogICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmQKICAqLwogIHJlcGx5TWVzc2FnZShtc2csIHZhbHVlKSB7CiAgICBsZXQgX3RoaXMgPSB0aGlzOwoKICAgIGxldCBtZXNzYWdlID0ge2lkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtc2cuZnJvbSwgZnJvbTogbXNnLnRvLCBib2R5OiB7Y29kZTogMjAwLCB2YWx1ZTogdmFsdWV9fTsKCiAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogIH0KfQoKLyoqCiAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLgogKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1YgogKi8KZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWN0aXZhdGUodXJsLCBidXMsIGNvbmZpZykgewogIHJldHVybiB7CiAgICBuYW1lOiAnU2xhY2tQcm94eVN0dWInLAogICAgaW5zdGFuY2U6IG5ldyBTbGFja1Byb3h5U3R1Yih1cmwsIGJ1cywgY29uZmlnKQogIH07Cn0K",
      "sourceCodeClassname": "SlackProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "cguid": "5-b880b9eb-bc13-8897-5db9-004d53e89cd84",
    "version": 0.2,
    "description": "Description of SlackProxyStub",
    "language": "Javascript",
    "type": "IDPProxys",
    "objectName": "SlackProxyStub",
    "configuration": {},
    "messageSchemas": "",
    "signature": "",
    "accessControlPolicy": "somePolicy",
    "constraints": ""
  }
}