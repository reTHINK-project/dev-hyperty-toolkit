{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xMy4wCi8vIGRhdGU6IEZyaSBBdWcgMzEgMjAxOCAwOToyNDo1MyBHTVQrMDEwMCAoV2VzdGVybiBFdXJvcGVhbiBTdW1tZXIgVGltZSkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKCiFmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJSdW50aW1lIixbXSx0KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SdW50aW1lPXQoKTplLlJ1bnRpbWU9dCgpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBuPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG4ubD0hMCxuLmV4cG9ydHN9dmFyIHQ9e307cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT1lLF9fd2VicGFja19yZXF1aXJlX18uYz10LF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihlLHQscil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpyfSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQsImEiLHQpLHR9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPSIiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTIyMSl9KFtmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxvPXIoMzEpLGk9cigyMyksYT1yKDI0KSxzPXIoMzIpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGwsZixkLHA9ZSZ1LkYseT1lJnUuRyxoPWUmdS5TLHY9ZSZ1LlAsZz1lJnUuQixfPXk/bjpoP25bdF18fChuW3RdPXt9KTooblt0XXx8e30pLnByb3RvdHlwZSxiPXk/bzpvW3RdfHwob1t0XT17fSksbT1iLnByb3RvdHlwZXx8KGIucHJvdG90eXBlPXt9KTt5JiYocj10KTtmb3IoYyBpbiByKWw9IXAmJl8mJnZvaWQgMCE9PV9bY10sZj0obD9fOnIpW2NdLGQ9ZyYmbD9zKGYsbik6diYmImZ1bmN0aW9uIj09dHlwZW9mIGY/cyhGdW5jdGlvbi5jYWxsLGYpOmYsXyYmYShfLGMsZixlJnUuVSksYltjXSE9ZiYmaShiLGMsZCksdiYmbVtjXSE9ZiYmKG1bY109Zil9O24uY29yZT1vLHUuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyMDQpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxvLmRlZmF1bHQpKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDI5KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG87IWZ1bmN0aW9uKGksYSl7InVzZSBzdHJpY3QiO249YSx2b2lkIDAhPT0obz0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwodCxyLHQsZSk6bikmJihlLmV4cG9ydHM9byl9KDAsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYmluZE1ldGhvZChlLHQpe3ZhciByPWVbdF07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIuYmluZClyZXR1cm4gci5iaW5kKGUpO3RyeXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChyLGUpfWNhdGNoKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkocixbZSxhcmd1bWVudHNdKX19fWZ1bmN0aW9uIHJlYWxNZXRob2Qocil7cmV0dXJuImRlYnVnIj09PXImJihyPSJsb2ciKSx0eXBlb2YgY29uc29sZSE9PXQmJih2b2lkIDAhPT1jb25zb2xlW3JdP2JpbmRNZXRob2QoY29uc29sZSxyKTp2b2lkIDAhPT1jb25zb2xlLmxvZz9iaW5kTWV0aG9kKGNvbnNvbGUsImxvZyIpOmUpfWZ1bmN0aW9uIHJlcGxhY2VMb2dnaW5nTWV0aG9kcyh0LG4pe2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dO3RoaXNbaV09bzx0P2U6dGhpcy5tZXRob2RGYWN0b3J5KGksdCxuKX10aGlzLmxvZz10aGlzLmRlYnVnfWZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMoZSxyLG4pe3JldHVybiBmdW5jdGlvbigpe3R5cGVvZiBjb25zb2xlIT09dCYmKHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMscixuKSx0aGlzW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KGUsdCxyKXtyZXR1cm4gcmVhbE1ldGhvZChlKXx8ZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTG9nZ2VyKGUsbixvKXtmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGUpe3ZhciBuPShyW2VdfHwic2lsZW50IikudG9VcHBlckNhc2UoKTtpZih0eXBlb2Ygd2luZG93IT09dCl7dHJ5e3JldHVybiB2b2lkKHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc109bil9Y2F0Y2goZSl7fXRyeXt3aW5kb3cuZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChzKSsiPSIrbisiOyJ9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gZ2V0UGVyc2lzdGVkTGV2ZWwoKXt2YXIgZTtpZih0eXBlb2Ygd2luZG93IT09dCl7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZVtzXX1jYXRjaChlKXt9aWYodHlwZW9mIGU9PT10KXRyeXt2YXIgcj13aW5kb3cuZG9jdW1lbnQuY29va2llLG49ci5pbmRleE9mKGVuY29kZVVSSUNvbXBvbmVudChzKSsiPSIpOy0xIT09biYmKGU9L14oW147XSspLy5leGVjKHIuc2xpY2UobikpWzFdKX1jYXRjaChlKXt9cmV0dXJuIHZvaWQgMD09PWEubGV2ZWxzW2VdJiYoZT12b2lkIDApLGV9fXZhciBpLGE9dGhpcyxzPSJsb2dsZXZlbCI7ZSYmKHMrPSI6IitlKSxhLm5hbWU9ZSxhLmxldmVscz17VFJBQ0U6MCxERUJVRzoxLElORk86MixXQVJOOjMsRVJST1I6NCxTSUxFTlQ6NX0sYS5tZXRob2RGYWN0b3J5PW98fGRlZmF1bHRNZXRob2RGYWN0b3J5LGEuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYS5zZXRMZXZlbD1mdW5jdGlvbihyLG4pe2lmKCJzdHJpbmciPT10eXBlb2YgciYmdm9pZCAwIT09YS5sZXZlbHNbci50b1VwcGVyQ2FzZSgpXSYmKHI9YS5sZXZlbHNbci50b1VwcGVyQ2FzZSgpXSksISgibnVtYmVyIj09dHlwZW9mIHImJnI+PTAmJnI8PWEubGV2ZWxzLlNJTEVOVCkpdGhyb3cibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogIityO2lmKGk9ciwhMSE9PW4mJnBlcnNpc3RMZXZlbElmUG9zc2libGUocikscmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwoYSxyLGUpLHR5cGVvZiBjb25zb2xlPT09dCYmcjxhLmxldmVscy5TSUxFTlQpcmV0dXJuIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nIn0sYS5zZXREZWZhdWx0TGV2ZWw9ZnVuY3Rpb24oZSl7Z2V0UGVyc2lzdGVkTGV2ZWwoKXx8YS5zZXRMZXZlbChlLCExKX0sYS5lbmFibGVBbGw9ZnVuY3Rpb24oZSl7YS5zZXRMZXZlbChhLmxldmVscy5UUkFDRSxlKX0sYS5kaXNhYmxlQWxsPWZ1bmN0aW9uKGUpe2Euc2V0TGV2ZWwoYS5sZXZlbHMuU0lMRU5ULGUpfTt2YXIgdT1nZXRQZXJzaXN0ZWRMZXZlbCgpO251bGw9PXUmJih1PW51bGw9PW4/IldBUk4iOm4pLGEuc2V0TGV2ZWwodSwhMSl9dmFyIGU9ZnVuY3Rpb24oKXt9LHQ9InVuZGVmaW5lZCIscj1bInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIl0sbj1uZXcgTG9nZ2VyLG89e307bi5nZXRMb2dnZXI9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwiIj09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLiIpO3ZhciB0PW9bZV07cmV0dXJuIHR8fCh0PW9bZV09bmV3IExvZ2dlcihlLG4uZ2V0TGV2ZWwoKSxuLm1ldGhvZEZhY3RvcnkpKSx0fTt2YXIgaT10eXBlb2Ygd2luZG93IT09dD93aW5kb3cubG9nOnZvaWQgMDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3chPT10JiZ3aW5kb3cubG9nPT09biYmKHdpbmRvdy5sb2c9aSksbn0sbi5nZXRMb2dnZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG99LG59KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPXIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGRpdmlkZVVSTChlKXtmdW5jdGlvbiByZWN1cnNlKGUpe3ZhciB0PS8oW2EtekEtWi1dKikoOlwvXC8oPzpcLik/fDopKFstYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl8rfiM9XC9dKikvZ2k7cmV0dXJuIGUucmVwbGFjZSh0LCIkMSwkMywkNCIpLnNwbGl0KCIsIil9dmFyIHQ9cmVjdXJzZShlKTtpZih0WzBdPT09ZSYmIXRbMF0uaW5jbHVkZXMoIkAiKSl7cmV0dXJue3R5cGU6IiIsZG9tYWluOmUsaWRlbnRpdHk6IiJ9fWlmKHRbMF09PT1lJiZ0WzBdLmluY2x1ZGVzKCJAIikpe3Q9cmVjdXJzZSgodFswXT09PWU/InNtdHAiOnRbMF0pKyI6Ly8iK3RbMF0pfXJldHVybiB0WzFdLmluY2x1ZGVzKCJAIikmJih0WzJdPXRbMF0rIjovLyIrdFsxXSx0WzFdPXRbMV0uc3Vic3RyKHRbMV0uaW5kZXhPZigiQCIpKzEpKSx7dHlwZTp0WzBdLGRvbWFpbjp0WzFdLGlkZW50aXR5OnRbMl19fWZ1bmN0aW9uIGVtcHR5T2JqZWN0KGUpe3JldHVybiEoKDAsYS5kZWZhdWx0KShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gc2Vjb25kc1NpbmNlRXBvY2goKXtyZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9ZnVuY3Rpb24gZGVlcENsb25lKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsby5kZWZhdWx0KShlKSl9ZnVuY3Rpb24gcmVtb3ZlUGF0aEZyb21VUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX1mdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gY29udmVydFRvVXNlclVSTChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1kaXZpZGVVUkwoZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGdldFVzZXJVUkxGcm9tRW1haWwoZSl9ZnVuY3Rpb24gaXNEYXRhT2JqZWN0VVJMKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iLCJoeXBlcnR5Il0scj1lLnNwbGl0KCI6Ly8iKSxuPXJbMF07cmV0dXJuLTE9PT10LmluZGV4T2Yobil9ZnVuY3Rpb24gaXNMZWdhY3koZSl7cmV0dXJuIGUuc3BsaXQoIkAiKS5sZW5ndGg+MX1mdW5jdGlvbiBpc1VSTChlKXtyZXR1cm4gZS5zcGxpdCgiLyIpLmxlbmd0aD49M31mdW5jdGlvbiBpc1VzZXJVUkwoZSl7cmV0dXJuInVzZXIiPT09ZGl2aWRlVVJMKGUpLnR5cGV9ZnVuY3Rpb24gaXNIeXBlcnR5VVJMKGUpe3JldHVybiJoeXBlcnR5Ij09PWRpdmlkZVVSTChlKS50eXBlfWZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMoZSx0LHIpe3JldHVybiBlW3RdW3JdfWZ1bmN0aW9uIGJ1aWxkVVJMKGUsdCxyLG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYT1lW3RdLHM9dm9pZCAwO2lmKCFhLmhhc093blByb3BlcnR5KHIpKXRocm93IEVycm9yKCJUaGUgY29uZmlndXJhdGlvbiAiKygwLG8uZGVmYXVsdCkoYSwiIiwyKSsiIGRvbid0IGhhdmUgdGhlICIrcisiIHJlc291cmNlIHlvdSBhcmUgbG9va2luZyBmb3IiKTt2YXIgdT1hW3JdO3JldHVybiBuPyhzPXUucHJlZml4K2UuZG9tYWluK3Uuc3VmZml4K24sdS5oYXNPd25Qcm9wZXJ0eSgiZmFsbGJhY2siKSYmaSYmKHM9dS5mYWxsYmFjay5pbmRleE9mKCIlZG9tYWluJSIpP3UuZmFsbGJhY2sucmVwbGFjZSgvKCVkb21haW4lKS9nLGUuZG9tYWluKStuOnUuZmFsbGJhY2srbikpOnM9dS5wcmVmaXgrZS5kb21haW4rdS5zdWZmaXgsc31mdW5jdGlvbiBnZW5lcmF0ZUdVSUQoKXtmdW5jdGlvbiBzNCgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBzNCgpK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrczQoKStzNCgpfWZ1bmN0aW9uIGdldFVzZXJJZGVudGl0eURvbWFpbihlKXt2YXIgdD1kaXZpZGVVUkwoZSkscj10LmRvbWFpbi5zcGxpdCgiLiIpLG49ci5sZW5ndGg7cmV0dXJuIDE9PW4/cltuLTFdOnJbbi0yXSsiLiIrcltuLTFdfWZ1bmN0aW9uIGlzQmFja2VuZFNlcnZpY2VVUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpLHI9dC5kb21haW4uc3BsaXQoIi4iKSxuPVsiZG9tYWluIiwiZ2xvYmFsIiwiZG9tYWluLWlkcCJdLG89WyJyZWdpc3RyeSIsIm1zZy1ub2RlIl0saT12b2lkIDA7cmV0dXJuIHIubGVuZ3RoPjEmJihpPXIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09by5pbmRleE9mKGUpfSlbMF0pLCEoIWl8fC0xPT09by5pbmRleE9mKGkpKXx8ISF0LnR5cGUmJi0xIT09bi5pbmRleE9mKHQudHlwZSl9ZnVuY3Rpb24gZGl2aWRlRW1haWwoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJue3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9fWZ1bmN0aW9uIGFzc2lnbihlLHQscil7ZXx8KGU9e30pLCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9cGFyc2VBdHRyaWJ1dGVzKHQpKTtmb3IodmFyIG49dC5sZW5ndGgtMSxvPTA7bzxuOysrbyl7dmFyIGk9dFtvXTtpIGluIGV8fChlW2ldPXt9KSxlPWVbaV19ZVt0W25dXT1yfWZ1bmN0aW9uIHNwbGl0T2JqZWN0VVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKSxyPXRbMF0rIi8vIit0WzJdKyIvIit0WzNdLG49dFs1XSxvPXt1cmw6cixyZXNvdXJjZTpufTtyZXR1cm4gb31mdW5jdGlvbiBjaGVja0F0dHJpYnV0ZShlKXt2YXIgdD0vKCgoW2EtekEtWl0rKTpcL1wvKFswLTlhLXpBLVpdWy1cd10qWzAtOWEtekEtWl1cLikrW2EtekEtWl17Miw5fSlcL1thLXpBLVowLTkuXStAW2EtekEtWjAtOV0rKC0pP1thLXpBLVowLTldKyhcLik/W2EtekEtWjAtOV17MiwxMH0/XC5bYS16QS1aXXsyLDEwfSkoLisoPz0uaWRlbnRpdHkpKT8vZ20scj1bXSxuPVtdO2lmKG51bGw9PWUubWF0Y2godCkpbj1lLnNwbGl0KCIuIik7ZWxzZXtmb3IodmFyIG89dm9pZCAwO251bGwhPT0obz10LmV4ZWMoZSkpOylvLmluZGV4PT09dC5sYXN0SW5kZXgmJnQubGFzdEluZGV4Kyssby5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7MD09PXQmJnIucHVzaChlKX0pO3ZhciBpPXZvaWQgMDtyLmZvckVhY2goZnVuY3Rpb24odCl7aT1lLnJlcGxhY2UodCwiKi0qIiksbj1pLnNwbGl0KCIuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIqLSoiPT09ZT90OmV9KX0pfXJldHVybiBufWZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlcyhlKXt2YXIgdD0vKFswLTlhLXpBLVpdWy1cd10qKTpcL1wvL2c7aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciByPWUuc3BsaXQodClbMF0sbj1yLnNwbGl0KCIuIiksbz1lLnJlcGxhY2UociwiIik7aWYoZS5pbmNsdWRlcygiaWRlbnRpdHkiKSl7dmFyIGk9by5zcGxpdCgiaWRlbnRpdHkuIik7bz1pWzBdLnNsaWNlKCIuIiwtMSksaT1pWzFdLnNwbGl0KCIuIiksbi5wdXNoKG8sImlkZW50aXR5Iiksbj1uLmNvbmNhdChpKX1lbHNlIG4ucHVzaChvKTtyZXR1cm4gbi5maWx0ZXIoQm9vbGVhbil9cmV0dXJuIGUuc3BsaXQoIi4iKX1mdW5jdGlvbiBpc0VtcHR5KGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuITE7cmV0dXJuKDAsby5kZWZhdWx0KShlKT09PSgwLG8uZGVmYXVsdCkoe30pfWZ1bmN0aW9uIGNoYXRrZXlzVG9TdHJpbmdDbG9uZXIoZSl7dmFyIHQ9e30scj0oMCxhLmRlZmF1bHQpKGUpO2lmKHIpdHJ5e2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dO3Rbb109e30sdFtvXS5zZXNzaW9uS2V5PWVbb10uc2Vzc2lvbktleS50b1N0cmluZygpLHRbb10uaXNUb0VuY3J5cHQ9ZVtvXS5pc1RvRW5jcnlwdH19Y2F0Y2goZSl7fXJldHVybiB0fWZ1bmN0aW9uIGNoYXRrZXlzVG9BcnJheUNsb25lcihlKXt2YXIgdD17fSxyPSgwLGEuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07dFtvXT17fTt2YXIgaT1KU09OLnBhcnNlKCJbIitlW29dLnNlc3Npb25LZXkrIl0iKTt0W29dLnNlc3Npb25LZXk9bmV3IFVpbnQ4QXJyYXkoaSksdFtvXS5pc1RvRW5jcnlwdD1lW29dLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gcGFyc2VNZXNzYWdlVVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdC5sZW5ndGg8PTY/dFswXSsiLy8iK3RbMl0rIi8iK3RbM106dFswXSsiLy8iK3RbMl0rIi8iK3RbM10rIi8iK3RbNF19ZnVuY3Rpb24gYXZhaWxhYmxlU3BhY2UoZSx0KXt2YXIgcj0oZS90KS50b0ZpeGVkKDIpO3JldHVybntxdW90YTp0LHVzYWdlOmUscGVyY2VudDpOdW1iZXIocil9fWZ1bmN0aW9uIGVuY29kZShlKXt0cnl7dmFyIHQ9c3RyaW5naWZ5KGUpO3JldHVybiBidG9hKHQpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIGRlY29kZShlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYXRvYihlKSl9Y2F0Y2goZSl7dGhyb3cgZX19ZnVuY3Rpb24gZGVjb2RlVG9VaW50OEFycmF5KGUpe3RyeXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGVjb2RlKGUpKX1jYXRjaChlKXt0aHJvdyBlfX1mdW5jdGlvbiBzdHJpbmdpZnkoZSl7dHJ5e3JldHVybiBlLmNvbnN0cnVjdG9yPT09VWludDhBcnJheT8iWyIrZS50b1N0cmluZygpKyJdIjooMCxvLmRlZmF1bHQpKGUpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIHBhcnNlKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXt0aHJvdyBlfX1mdW5jdGlvbiBwYXJzZVRvVWludDhBcnJheShlKXt0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHBhcnNlKGUpKX1jYXRjaChlKXt0aHJvdyBlfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpO3QuZGl2aWRlVVJMPWRpdmlkZVVSTCx0LmVtcHR5T2JqZWN0PWVtcHR5T2JqZWN0LHQuc2Vjb25kc1NpbmNlRXBvY2g9c2Vjb25kc1NpbmNlRXBvY2gsdC5kZWVwQ2xvbmU9ZGVlcENsb25lLHQucmVtb3ZlUGF0aEZyb21VUkw9cmVtb3ZlUGF0aEZyb21VUkwsdC5nZXRVc2VyVVJMRnJvbUVtYWlsPWdldFVzZXJVUkxGcm9tRW1haWwsdC5nZXRVc2VyRW1haWxGcm9tVVJMPWdldFVzZXJFbWFpbEZyb21VUkwsdC5jb252ZXJ0VG9Vc2VyVVJMPWNvbnZlcnRUb1VzZXJVUkwsdC5pc0RhdGFPYmplY3RVUkw9aXNEYXRhT2JqZWN0VVJMLHQuaXNMZWdhY3k9aXNMZWdhY3ksdC5pc1VSTD1pc1VSTCx0LmlzVXNlclVSTD1pc1VzZXJVUkwsdC5pc0h5cGVydHlVUkw9aXNIeXBlcnR5VVJMLHQuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcz1nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzLHQuYnVpbGRVUkw9YnVpbGRVUkwsdC5nZW5lcmF0ZUdVSUQ9Z2VuZXJhdGVHVUlELHQuZ2V0VXNlcklkZW50aXR5RG9tYWluPWdldFVzZXJJZGVudGl0eURvbWFpbix0LmlzQmFja2VuZFNlcnZpY2VVUkw9aXNCYWNrZW5kU2VydmljZVVSTCx0LmRpdmlkZUVtYWlsPWRpdmlkZUVtYWlsLHQuYXNzaWduPWFzc2lnbix0LnNwbGl0T2JqZWN0VVJMPXNwbGl0T2JqZWN0VVJMLHQuY2hlY2tBdHRyaWJ1dGU9Y2hlY2tBdHRyaWJ1dGUsdC5wYXJzZUF0dHJpYnV0ZXM9cGFyc2VBdHRyaWJ1dGVzLHQuaXNFbXB0eT1pc0VtcHR5LHQuY2hhdGtleXNUb1N0cmluZ0Nsb25lcj1jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyLHQuY2hhdGtleXNUb0FycmF5Q2xvbmVyPWNoYXRrZXlzVG9BcnJheUNsb25lcix0LnBhcnNlTWVzc2FnZVVSTD1wYXJzZU1lc3NhZ2VVUkwsdC5hdmFpbGFibGVTcGFjZT1hdmFpbGFibGVTcGFjZSx0LmVuY29kZT1lbmNvZGUsdC5kZWNvZGU9ZGVjb2RlLHQuZGVjb2RlVG9VaW50OEFycmF5PWRlY29kZVRvVWludDhBcnJheSx0LnN0cmluZ2lmeT1zdHJpbmdpZnksdC5wYXJzZT1wYXJzZSx0LnBhcnNlVG9VaW50OEFycmF5PXBhcnNlVG9VaW50OEFycmF5fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODMpKCJ3a3MiKSxvPXIoNTMpLGk9cig2KS5TeW1ib2wsYT0iZnVuY3Rpb24iPT10eXBlb2YgaTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1hJiZpW2VdfHwoYT9pOm8pKCJTeW1ib2wuIitlKSl9KS5zdG9yZT1ufSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz17dmVyc2lvbjoiMi41LjcifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1yKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUpLG89cigxNTUpLGk9cigzNiksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoMTIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PWkodCwhMCksbihyKSxvKXRyeXtyZXR1cm4gYShlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOCksbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NjUpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDI1KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig4Miksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsby5kZWZhdWx0KSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNDY3KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDQ3MSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig4MiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsdS5kZWZhdWx0KSh0KSkpO2UucHJvdG90eXBlPSgwLGEuZGVmYXVsdCkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvLmRlZmF1bHQ/KDAsby5kZWZhdWx0KShlLHQpOmUuX19wcm90b19fPXQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPXIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzYpKCJ3a3MiKSxvPXIoOTgpLGk9cigyMSkuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGk7KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YSYmaVtlXXx8KGE/aTpvKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9bn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTMpLG89cig1Mik7ZS5leHBvcnRzPXIoMTIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksbz1yKDIzKSxpPXIoMjcpLGE9cig1MykoInNyYyIpLHM9RnVuY3Rpb24udG9TdHJpbmcsdT0oIiIrcykuc3BsaXQoInRvU3RyaW5nIik7cigzMSkuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gcy5jYWxsKGUpfSwoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHMpe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByO2MmJihpKHIsIm5hbWUiKXx8byhyLCJuYW1lIix0KSksZVt0XSE9PXImJihjJiYoaShyLGEpfHxvKHIsYSxlW3RdPyIiK2VbdF06dS5qb2luKFN0cmluZyh0KSkpKSxlPT09bj9lW3RdPXI6cz9lW3RdP2VbdF09cjpvKGUsdCxyKTooZGVsZXRlIGVbdF0sbyhlLHQscikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJnRoaXNbYV18fHMuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoOCksaT1yKDM3KSxhPS8iL2cscz1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1TdHJpbmcoaShlKSkscz0iPCIrdDtyZXR1cm4iIiE9PXImJihzKz0iICIrcisnPSInK1N0cmluZyhuKS5yZXBsYWNlKGEsIiZxdW90OyIpKyciJykscysiPiIrbysiPC8iK3QrIj4ifTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyW2VdPXQocyksbihuLlArbi5GKm8oZnVuY3Rpb24oKXt2YXIgdD0iIltlXSgnIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCciJykubGVuZ3RoPjN9KSwiU3RyaW5nIixyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKSxvPXIoMTEpLGk9cig2OSksYT1yKDYzKSxzPXIoNjIpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGwsZixkPWUmdS5GLHA9ZSZ1LkcseT1lJnUuUyxoPWUmdS5QLHY9ZSZ1LkIsZz1lJnUuVyxfPXA/bzpvW3RdfHwob1t0XT17fSksYj1fLnByb3RvdHlwZSxtPXA/bjp5P25bdF06KG5bdF18fHt9KS5wcm90b3R5cGU7cCYmKHI9dCk7Zm9yKGMgaW4gcikobD0hZCYmbSYmdm9pZCAwIT09bVtjXSkmJnMoXyxjKXx8KGY9bD9tW2NdOnJbY10sX1tjXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgbVtjXT9yW2NdOnYmJmw/aShmLG4pOmcmJm1bY109PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGYpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP2koRnVuY3Rpb24uY2FsbCxmKTpmLGgmJigoXy52aXJ0dWFsfHwoXy52aXJ0dWFsPXt9KSlbY109ZixlJnUuUiYmYiYmIWJbY10mJmEoYixjLGYpKSl9O3UuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzMpLG89cigzNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzQpLG89cig1MiksaT1yKDI4KSxhPXIoMzYpLHM9cigyNyksdT1yKDE1NSksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDEyKT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9YSh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihzKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNyksbz1yKDE5KSxpPXIoMTA4KSgiSUVfUFJPVE8iKSxhPU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9hOm51bGx9fSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz17dmVyc2lvbjoiMi41LjcifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1yKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJm4oZnVuY3Rpb24oKXt0P2UuY2FsbChudWxsLGZ1bmN0aW9uKCl7fSwxKTplLmNhbGwobnVsbCl9KX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4gZTt2YXIgcixvO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5jZWlsLG49TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOnIpKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDMxKSxpPXIoOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxhPXt9O2FbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixhKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMyKSxvPXIoNzMpLGk9cigxOSksYT1yKDE0KSxzPXIoMTI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0xPT1lLHU9Mj09ZSxjPTM9PWUsbD00PT1lLGY9Nj09ZSxkPTU9PWV8fGYscD10fHxzO3JldHVybiBmdW5jdGlvbih0LHMseSl7Zm9yKHZhciBoLHYsZz1pKHQpLF89byhnKSxiPW4ocyx5LDMpLG09YShfLmxlbmd0aCksUj0wLE89cj9wKHQsbSk6dT9wKHQsMCk6dm9pZCAwO20+UjtSKyspaWYoKGR8fFIgaW4gXykmJihoPV9bUl0sdj1iKGgsUixnKSxlKSlpZihyKU9bUl09djtlbHNlIGlmKHYpc3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIGg7Y2FzZSA2OnJldHVybiBSO2Nhc2UgMjpPLnB1c2goaCl9ZWxzZSBpZihsKXJldHVybiExO3JldHVybiBmPy0xOmN8fGw/bDpPfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtpZihyKDEyKSl7dmFyIG49cig0OCksbz1yKDYpLGk9cig4KSxhPXIoMCkscz1yKDk0KSx1PXIoMTMxKSxjPXIoMzIpLGw9cig1OSksZj1yKDUyKSxkPXIoMjMpLHA9cig2MSkseT1yKDM4KSxoPXIoMTQpLHY9cigxODEpLGc9cig1NSksXz1yKDM2KSxiPXIoMjcpLG09cig3NSksUj1yKDkpLE89cigxOSksdz1yKDEyMiksaz1yKDU2KSxTPXIoMzApLFA9cig1NykuZixEPXIoMTI0KSxNPXIoNTMpLEw9cigxMCksaj1yKDQwKSxVPXIoODQpLEU9cig5MSkseD1yKDEyNyksQT1yKDY2KSxJPXIoODgpLEM9cig1OCksVD1yKDEyNikscT1yKDE3MSksSD1yKDEzKSxOPXIoMjkpLEY9SC5mLEI9Ti5mLEc9by5SYW5nZUVycm9yLEs9by5UeXBlRXJyb3IsVj1vLlVpbnQ4QXJyYXksVz1BcnJheS5wcm90b3R5cGUsWT11LkFycmF5QnVmZmVyLEo9dS5EYXRhVmlldyx6PWooMCksWD1qKDIpLCQ9aigzKSxRPWooNCksWj1qKDUpLGVlPWooNiksdGU9VSghMCkscmU9VSghMSksbmU9eC52YWx1ZXMsb2U9eC5rZXlzLGllPXguZW50cmllcyxhZT1XLmxhc3RJbmRleE9mLHNlPVcucmVkdWNlLHVlPVcucmVkdWNlUmlnaHQsY2U9Vy5qb2luLGxlPVcuc29ydCxmZT1XLnNsaWNlLGRlPVcudG9TdHJpbmcscGU9Vy50b0xvY2FsZVN0cmluZyx5ZT1MKCJpdGVyYXRvciIpLGhlPUwoInRvU3RyaW5nVGFnIiksdmU9TSgidHlwZWRfY29uc3RydWN0b3IiKSxnZT1NKCJkZWZfY29uc3RydWN0b3IiKSxfZT1zLkNPTlNUUixiZT1zLlRZUEVELG1lPXMuVklFVyxSZT1qKDEsZnVuY3Rpb24oZSx0KXtyZXR1cm4gUGUoRShlLGVbZ2VdKSx0KX0pLE9lPWkoZnVuY3Rpb24oKXtyZXR1cm4gMT09PW5ldyBWKG5ldyBVaW50MTZBcnJheShbMV0pLmJ1ZmZlcilbMF19KSx3ZT0hIVYmJiEhVi5wcm90b3R5cGUuc2V0JiZpKGZ1bmN0aW9uKCl7bmV3IFYoMSkuc2V0KHt9KX0pLGtlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eShlKTtpZihyPDB8fHIldCl0aHJvdyBHKCJXcm9uZyBvZmZzZXQhIik7cmV0dXJuIHJ9LFNlPWZ1bmN0aW9uKGUpe2lmKFIoZSkmJmJlIGluIGUpcmV0dXJuIGU7dGhyb3cgSyhlKyIgaXMgbm90IGEgdHlwZWQgYXJyYXkhIil9LFBlPWZ1bmN0aW9uKGUsdCl7aWYoIShSKGUpJiZ2ZSBpbiBlKSl0aHJvdyBLKCJJdCBpcyBub3QgYSB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvciEiKTtyZXR1cm4gbmV3IGUodCl9LERlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1lKEUoZSxlW2dlXSksdCl9LE1lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aCxvPVBlKGUsbik7bj5yOylvW3JdPXRbcisrXTtyZXR1cm4gb30sTGU9ZnVuY3Rpb24oZSx0LHIpe0YoZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZFtyXX19KX0samU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLG8saSxhLHM9TyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsbD11PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxmPXZvaWQgMCE9PWwsZD1EKHMpO2lmKHZvaWQgMCE9ZCYmIXcoZCkpe2ZvcihhPWQuY2FsbChzKSxuPVtdLHQ9MDshKGk9YS5uZXh0KCkpLmRvbmU7dCsrKW4ucHVzaChpLnZhbHVlKTtzPW59Zm9yKGYmJnU+MiYmKGw9YyhsLGFyZ3VtZW50c1syXSwyKSksdD0wLHI9aChzLmxlbmd0aCksbz1QZSh0aGlzLHIpO3I+dDt0Kyspb1t0XT1mP2woc1t0XSx0KTpzW3RdO3JldHVybiBvfSxVZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPVBlKHRoaXMsdCk7dD5lOylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiByfSxFZT0hIVYmJmkoZnVuY3Rpb24oKXtwZS5jYWxsKG5ldyBWKDEpKX0pLHhlPWZ1bmN0aW9uKCl7cmV0dXJuIHBlLmFwcGx5KEVlP2ZlLmNhbGwoU2UodGhpcykpOlNlKHRoaXMpLGFyZ3VtZW50cyl9LEFlPXtjb3B5V2l0aGluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHEuY2FsbChTZSh0aGlzKSxlLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfSxldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gUShTZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmlsbDpmdW5jdGlvbihlKXtyZXR1cm4gVC5hcHBseShTZSh0aGlzKSxhcmd1bWVudHMpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIERlKHRoaXMsWChTZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSl9LGZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFooU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGZpbmRJbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZWUoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7eihTZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0saW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gcmUoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGluY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiB0ZShTZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sam9pbjpmdW5jdGlvbihlKXtyZXR1cm4gY2UuYXBwbHkoU2UodGhpcyksYXJndW1lbnRzKX0sbGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGFlLmFwcGx5KFNlKHRoaXMpLGFyZ3VtZW50cyl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gUmUoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHJlZHVjZTpmdW5jdGlvbihlKXtyZXR1cm4gc2UuYXBwbHkoU2UodGhpcyksYXJndW1lbnRzKX0scmVkdWNlUmlnaHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVlLmFwcGx5KFNlKHRoaXMpLGFyZ3VtZW50cyl9LHJldmVyc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD10aGlzLHI9U2UodCkubGVuZ3RoLG49TWF0aC5mbG9vcihyLzIpLG89MDtvPG47KWU9dFtvXSx0W28rK109dFstLXJdLHRbcl09ZTtyZXR1cm4gdH0sc29tZTpmdW5jdGlvbihlKXtyZXR1cm4gJChTZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sc29ydDpmdW5jdGlvbihlKXtyZXR1cm4gbGUuY2FsbChTZSh0aGlzKSxlKX0sc3ViYXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1TZSh0aGlzKSxuPXIubGVuZ3RoLG89ZyhlLG4pO3JldHVybiBuZXcoRShyLHJbZ2VdKSkoci5idWZmZXIsci5ieXRlT2Zmc2V0K28qci5CWVRFU19QRVJfRUxFTUVOVCxoKCh2b2lkIDA9PT10P246Zyh0LG4pKS1vKSl9fSxJZT1mdW5jdGlvbihlLHQpe3JldHVybiBEZSh0aGlzLGZlLmNhbGwoU2UodGhpcyksZSx0KSl9LENlPWZ1bmN0aW9uKGUpe1NlKHRoaXMpO3ZhciB0PWtlKGFyZ3VtZW50c1sxXSwxKSxyPXRoaXMubGVuZ3RoLG49TyhlKSxvPWgobi5sZW5ndGgpLGk9MDtpZihvK3Q+cil0aHJvdyBHKCJXcm9uZyBsZW5ndGghIik7Zm9yKDtpPG87KXRoaXNbdCtpXT1uW2krK119LFRlPXtlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIGllLmNhbGwoU2UodGhpcykpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG9lLmNhbGwoU2UodGhpcykpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmUuY2FsbChTZSh0aGlzKSl9fSxxZT1mdW5jdGlvbihlLHQpe3JldHVybiBSKGUpJiZlW2JlXSYmInN5bWJvbCIhPXR5cGVvZiB0JiZ0IGluIGUmJlN0cmluZygrdCk9PVN0cmluZyh0KX0sSGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcWUoZSx0PV8odCwhMCkpP2YoMixlW3RdKTpCKGUsdCl9LE5lPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4hKHFlKGUsdD1fKHQsITApKSYmUihyKSYmYihyLCJ2YWx1ZSIpKXx8YihyLCJnZXQiKXx8YihyLCJzZXQiKXx8ci5jb25maWd1cmFibGV8fGIociwid3JpdGFibGUiKSYmIXIud3JpdGFibGV8fGIociwiZW51bWVyYWJsZSIpJiYhci5lbnVtZXJhYmxlP0YoZSx0LHIpOihlW3RdPXIudmFsdWUsZSl9O19lfHwoTi5mPUhlLEguZj1OZSksYShhLlMrYS5GKiFfZSwiT2JqZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkhlLGRlZmluZVByb3BlcnR5Ok5lfSksaShmdW5jdGlvbigpe2RlLmNhbGwoe30pfSkmJihkZT1wZT1mdW5jdGlvbigpe3JldHVybiBjZS5jYWxsKHRoaXMpfSk7dmFyIEZlPXAoe30sQWUpO3AoRmUsVGUpLGQoRmUseWUsVGUudmFsdWVzKSxwKEZlLHtzbGljZTpJZSxzZXQ6Q2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt9LHRvU3RyaW5nOmRlLHRvTG9jYWxlU3RyaW5nOnhlfSksTGUoRmUsImJ1ZmZlciIsImIiKSxMZShGZSwiYnl0ZU9mZnNldCIsIm8iKSxMZShGZSwiYnl0ZUxlbmd0aCIsImwiKSxMZShGZSwibGVuZ3RoIiwiZSIpLEYoRmUsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW2JlXX19KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dT0hIXU7dmFyIGM9ZSsodT8iQ2xhbXBlZCI6IiIpKyJBcnJheSIsZj0iZ2V0IitlLHA9InNldCIrZSx5PW9bY10sZz15fHx7fSxfPXkmJlMoeSksYj0heXx8IXMuQUJWLE89e30sdz15JiZ5LnByb3RvdHlwZSxEPWZ1bmN0aW9uKGUscil7dmFyIG49ZS5fZDtyZXR1cm4gbi52W2ZdKHIqdCtuLm8sT2UpfSxNPWZ1bmN0aW9uKGUscixuKXt2YXIgbz1lLl9kO3UmJihuPShuPU1hdGgucm91bmQobikpPDA/MDpuPjI1NT8yNTU6MjU1Jm4pLG8udltwXShyKnQrby5vLG4sT2UpfSxMPWZ1bmN0aW9uKGUsdCl7RihlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBEKHRoaXMsdCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gTSh0aGlzLHQsZSl9LGVudW1lcmFibGU6ITB9KX07Yj8oeT1yKGZ1bmN0aW9uKGUscixuLG8pe2woZSx5LGMsIl9kIik7dmFyIGksYSxzLHUsZj0wLHA9MDtpZihSKHIpKXtpZighKHIgaW5zdGFuY2VvZiBZfHwiQXJyYXlCdWZmZXIiPT0odT1tKHIpKXx8IlNoYXJlZEFycmF5QnVmZmVyIj09dSkpcmV0dXJuIGJlIGluIHI/TWUoeSxyKTpqZS5jYWxsKHkscik7aT1yLHA9a2Uobix0KTt2YXIgZz1yLmJ5dGVMZW5ndGg7aWYodm9pZCAwPT09byl7aWYoZyV0KXRocm93IEcoIldyb25nIGxlbmd0aCEiKTtpZigoYT1nLXApPDApdGhyb3cgRygiV3JvbmcgbGVuZ3RoISIpfWVsc2UgaWYoKGE9aChvKSp0KStwPmcpdGhyb3cgRygiV3JvbmcgbGVuZ3RoISIpO3M9YS90fWVsc2Ugcz12KHIpLGE9cyp0LGk9bmV3IFkoYSk7Zm9yKGQoZSwiX2QiLHtiOmksbzpwLGw6YSxlOnMsdjpuZXcgSihpKX0pO2Y8czspTChlLGYrKyl9KSx3PXkucHJvdG90eXBlPWsoRmUpLGQodywiY29uc3RydWN0b3IiLHkpKTppKGZ1bmN0aW9uKCl7eSgxKX0pJiZpKGZ1bmN0aW9uKCl7bmV3IHkoLTEpfSkmJkkoZnVuY3Rpb24oZSl7bmV3IHksbmV3IHkobnVsbCksbmV3IHkoMS41KSxuZXcgeShlKX0sITApfHwoeT1yKGZ1bmN0aW9uKGUscixuLG8pe2woZSx5LGMpO3ZhciBpO3JldHVybiBSKHIpP3IgaW5zdGFuY2VvZiBZfHwiQXJyYXlCdWZmZXIiPT0oaT1tKHIpKXx8IlNoYXJlZEFycmF5QnVmZmVyIj09aT92b2lkIDAhPT1vP25ldyBnKHIsa2Uobix0KSxvKTp2b2lkIDAhPT1uP25ldyBnKHIsa2Uobix0KSk6bmV3IGcocik6YmUgaW4gcj9NZSh5LHIpOmplLmNhbGwoeSxyKTpuZXcgZyh2KHIpKX0pLHooXyE9PUZ1bmN0aW9uLnByb3RvdHlwZT9QKGcpLmNvbmNhdChQKF8pKTpQKGcpLGZ1bmN0aW9uKGUpe2UgaW4geXx8ZCh5LGUsZ1tlXSl9KSx5LnByb3RvdHlwZT13LG58fCh3LmNvbnN0cnVjdG9yPXkpKTt2YXIgaj13W3llXSxVPSEhaiYmKCJ2YWx1ZXMiPT1qLm5hbWV8fHZvaWQgMD09ai5uYW1lKSxFPVRlLnZhbHVlcztkKHksdmUsITApLGQodyxiZSxjKSxkKHcsbWUsITApLGQodyxnZSx5KSwodT9uZXcgeSgxKVtoZV09PWM6aGUgaW4gdyl8fEYodyxoZSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSksT1tjXT15LGEoYS5HK2EuVythLkYqKHkhPWcpLE8pLGEoYS5TLGMse0JZVEVTX1BFUl9FTEVNRU5UOnR9KSxhKGEuUythLkYqaShmdW5jdGlvbigpe2cub2YuY2FsbCh5LDEpfSksYyx7ZnJvbTpqZSxvZjpVZX0pLCJCWVRFU19QRVJfRUxFTUVOVCJpbiB3fHxkKHcsIkJZVEVTX1BFUl9FTEVNRU5UIix0KSxhKGEuUCxjLEFlKSxDKGMpLGEoYS5QK2EuRip3ZSxjLHtzZXQ6Q2V9KSxhKGEuUCthLkYqIVUsYyxUZSksbnx8dy50b1N0cmluZz09ZGV8fCh3LnRvU3RyaW5nPWRlKSxhKGEuUCthLkYqaShmdW5jdGlvbigpe25ldyB5KDEpLnNsaWNlKCl9KSxjLHtzbGljZTpJZX0pLGEoYS5QK2EuRiooaShmdW5jdGlvbigpe3JldHVyblsxLDJdLnRvTG9jYWxlU3RyaW5nKCkhPW5ldyB5KFsxLDJdKS50b0xvY2FsZVN0cmluZygpfSl8fCFpKGZ1bmN0aW9uKCl7dy50b0xvY2FsZVN0cmluZy5jYWxsKFsxLDJdKX0pKSxjLHt0b0xvY2FsZVN0cmluZzp4ZX0pLEFbY109VT9qOkUsbnx8VXx8ZCh3LHllLEUpfX1lbHNlIGUuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3Niksbz1yKDApLGk9cig4MykoIm1ldGFkYXRhIiksYT1pLnN0b3JlfHwoaS5zdG9yZT1uZXcocigxNzkpKSkscz1mdW5jdGlvbihlLHQscil7dmFyIG89YS5nZXQoZSk7aWYoIW8pe2lmKCFyKXJldHVybjthLnNldChlLG89bmV3IG4pfXZhciBpPW8uZ2V0KHQpO2lmKCFpKXtpZighcilyZXR1cm47by5zZXQodCxpPW5ldyBuKX1yZXR1cm4gaX0sdT1mdW5jdGlvbihlLHQscil7dmFyIG49cyh0LHIsITEpO3JldHVybiB2b2lkIDAhPT1uJiZuLmhhcyhlKX0sYz1mdW5jdGlvbihlLHQscil7dmFyIG49cyh0LHIsITEpO3JldHVybiB2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldChlKX0sbD1mdW5jdGlvbihlLHQscixuKXtzKHIsbiwhMCkuc2V0KGUsdCl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKGUsdCwhMSksbj1bXTtyZXR1cm4gciYmci5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7bi5wdXNoKHQpfSksbn0sZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZXx8InN5bWJvbCI9PXR5cGVvZiBlP2U6U3RyaW5nKGUpfSxwPWZ1bmN0aW9uKGUpe28oby5TLCJSZWZsZWN0IixlKX07ZS5leHBvcnRzPXtzdG9yZTphLG1hcDpzLGhhczp1LGdldDpjLHNldDpsLGtleXM6ZixrZXk6ZCxleHA6cH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKSxvPXIoMTkxKSxpPXIoMTQwKSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cig1MSk/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBhKGUsdCxyKX1jYXRjaChlKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDYpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MykoIm1ldGEiKSxvPXIoOSksaT1yKDI3KSxhPXIoMTMpLmYscz0wLHU9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hcig4KShmdW5jdGlvbigpe3JldHVybiB1KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXthKGUsbix7dmFsdWU6e2k6Ik8iKyArK3Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbikpe2lmKCF1KGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhaShlLG4pJiZsKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6cH19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSExfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMCkoInVuc2NvcGFibGVzIiksbz1BcnJheS5wcm90b3R5cGU7dm9pZCAwPT1vW25dJiZyKDIzKShvLG4se30pLGUuZXhwb3J0cz1mdW5jdGlvbihlKXtvW25dW2VdPSEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTkwKSxvPXIoMTMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obyhlKSl9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDcwKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sZnVuY3Rpb24oZSx0KXt2YXIgcj0wLG49TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytyK24pLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNTcpLG89cigxMDkpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM4KSxvPU1hdGgubWF4LGk9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSxlPDA/byhlK3QsMCk6aShlLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNSksbz1yKDE1OCksaT1yKDEwOSksYT1yKDEwOCkoIklFX1BST1RPIikscz1mdW5jdGlvbigpe30sdT1mdW5jdGlvbigpe3ZhciBlLHQ9cigxMDYpKCJpZnJhbWUiKSxuPWkubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHIoMTEwKS5hcHBlbmRDaGlsZCh0KSx0LnNyYz0iamF2YXNjcmlwdDoiLGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8XC9zY3JpcHQ+IiksZS5jbG9zZSgpLHU9ZS5GO24tLTspZGVsZXRlIHUucHJvdG90eXBlW2lbbl1dO3JldHVybiB1KCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBudWxsIT09ZT8ocy5wcm90b3R5cGU9bihlKSxyPW5ldyBzLHMucHJvdG90eXBlPW51bGwsclthXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6byhyLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTU3KSxvPXIoMTA5KS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2KSxvPXIoMTMpLGk9cigxMiksYT1yKDEwKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W2FdJiZvLmYodCxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzIpLG89cigxNjkpLGk9cigxMjIpLGE9cig1KSxzPXIoMTQpLHU9cigxMjQpLGM9e30sbD17fSx0PWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixmLGQpe3ZhciBwLHksaCx2LGc9ZD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLF89bihyLGYsdD8yOjEpLGI9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZyl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGcpKXtmb3IocD1zKGUubGVuZ3RoKTtwPmI7YisrKWlmKCh2PXQ/XyhhKHk9ZVtiXSlbMF0seVsxXSk6XyhlW2JdKSk9PT1jfHx2PT09bClyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PW8oaCxfLHkudmFsdWUsdCkpPT09Y3x8dj09PWwpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1sfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdCluKGUsbyx0W29dLHIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NCksbz1yKDc5KTtlLmV4cG9ydHM9cig1MSk/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMykuZixvPXIoMjcpLGk9cigxMCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMzcpLGk9cig4KSxhPXIoMTEyKSxzPSJbIithKyJdIix1PSLigIvChSIsYz1SZWdFeHAoIl4iK3MrcysiKiIpLGw9UmVnRXhwKHMrcysiKiQiKSxmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz17fSxzPWkoZnVuY3Rpb24oKXtyZXR1cm4hIWFbZV0oKXx8dVtlXSgpIT11fSksYz1vW2VdPXM/dChkKTphW2VdO3ImJihvW3JdPWMpLG4obi5QK24uRipzLCJTdHJpbmciLG8pfSxkPWYudHJpbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhvKGUpKSwxJnQmJihlPWUucmVwbGFjZShjLCIiKSksMiZ0JiYoZT1lLnJlcGxhY2UobCwiIikpLGV9O2UuZXhwb3J0cz1mfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSl8fGUuX3QhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4OSksbz1yKDEzNyk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOTkpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LkRhdGFPYmplY3RTb3VyY2VMYW5ndWFnZT10LkNhdGFsb2d1ZU9iamVjdFR5cGU9dm9pZCAwO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE3KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDU1NikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ2F0YWxvZ3VlRGF0YU9iamVjdChlLHQscixuLGkscyx1KXsoMCxhLmRlZmF1bHQpKHRoaXMsQ2F0YWxvZ3VlRGF0YU9iamVjdCk7dmFyIGM9KDAsbC5kZWZhdWx0KSh0aGlzLChDYXRhbG9ndWVEYXRhT2JqZWN0Ll9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShDYXRhbG9ndWVEYXRhT2JqZWN0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGMuX2d1aWQ9ZSxjLl90eXBlPXQsYy5fdmVyc2lvbj1yLGMuX29iamVjdE5hbWU9bixjLl9kZXNjcmlwdGlvbj1pLGMuX2xhbmd1YWdlPXMsYy5fc291cmNlUGFja2FnZVVSTD11LGMuX3NpZ25hdHVyZT1udWxsLGMuX3NvdXJjZVBhY2thZ2U9bnVsbCxjfXJldHVybigwLGQuZGVmYXVsdCkoQ2F0YWxvZ3VlRGF0YU9iamVjdCxlKSwoMCx1LmRlZmF1bHQpKENhdGFsb2d1ZURhdGFPYmplY3QsW3trZXk6Imd1aWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlkfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2d1aWQ9ZSl9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl90eXBlPWUpfX0se2tleToidmVyc2lvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fdmVyc2lvbj1lKX19LHtrZXk6Im9iamVjdE5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmplY3ROYW1lfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX29iamVjdE5hbWU9ZSl9fSx7a2V5OiJkZXNjcmlwdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2Rlc2NyaXB0aW9uPWUpfX0se2tleToibGFuZ3VhZ2UiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYW5ndWFnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9sYW5ndWFnZT1lKX19LHtrZXk6InNpZ25hdHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zaWduYXR1cmU9ZSl9fSx7a2V5OiJzb3VyY2VQYWNrYWdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlUGFja2FnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VQYWNrYWdlPWUpfX0se2tleToic291cmNlUGFja2FnZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVBhY2thZ2VVUkx9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlUGFja2FnZVVSTD1lKX19XSksQ2F0YWxvZ3VlRGF0YU9iamVjdH0oeS5kZWZhdWx0KTt0LkNhdGFsb2d1ZU9iamVjdFR5cGU9e0hZUEVSVFk6Imh5cGVydHkiLFBST1RPU1RVQjoicHJvdG9zdHViIixIWVBFUlRZX1JVTlRJTUU6Imh5cGVydHlfcnVudGltZSIsSFlQRVJUWV9JTlRFUkNFUFRPUjoiaHlwZXJ0eV9pbnNwZWN0b3IiLEhZUEVSVFlfREFUQV9PQkpFQ1Q6Imh5cGVydHlfZGF0YV9vYmplY3QifSx0LkRhdGFPYmplY3RTb3VyY2VMYW5ndWFnZT17SkFWQVNDUklQVF9FQ01BNjoiamF2YXNjcmlwdF9lY21hNiIsSkFWQVNDUklQVF9FQ01BNToiamF2YXNjcmlwdF9lY21hNSIsSlNPTl9TQ0hFTUFfVjQ6Impzb25fc2NoZW1hX3Y0IixQWVRIT046InB5dGhvbiIsVFlQRVNDUklQVDoidHlwZXNjcmlwdCJ9O3QuZGVmYXVsdD1ofSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyk7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSxmdW5jdGlvbihlLHQpe3QuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzMpLG89cigxMCkoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGE9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIscztyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPWEodD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0ocz1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnN9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MzApKCEwKTtyKDE5MykoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNDUzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDQ1NSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGEuZGVmYXVsdCYmInN5bWJvbCI9PXR5cGVvZiBvLmRlZmF1bHQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PWEuZGVmYXVsdCYmZSE9PWEuZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O3QuZGVmYXVsdD0iZnVuY3Rpb24iPT10eXBlb2YgYS5kZWZhdWx0JiYic3ltYm9sIj09PXMoby5kZWZhdWx0KT9mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT8idW5kZWZpbmVkIjpzKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PWEuZGVmYXVsdCYmZSE9PWEuZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dm9pZCAwPT09ZT8idW5kZWZpbmVkIjpzKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzEpLG89cig2KSxpPW9bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwob1siX19jb3JlLWpzX3NoYXJlZF9fIl09e30pOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246bi52ZXJzaW9uLG1vZGU6cig0OCk/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAxOCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjgpLG89cigxNCksaT1yKDU1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixhKXt2YXIgcyx1PW4odCksYz1vKHUubGVuZ3RoKSxsPWkoYSxjKTtpZihlJiZyIT1yKXtmb3IoO2M+bDspaWYoKHM9dVtsKytdKSE9cylyZXR1cm4hMH1lbHNlIGZvcig7Yz5sO2wrKylpZigoZXx8bCBpbiB1KSYmdVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LGZ1bmN0aW9uKGUsdCl7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMzKTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cigzMyksaT1yKDEwKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG4oZSkmJih2b2lkIDAhPT0odD1lW2ldKT8hIXQ6IlJlZ0V4cCI9PW8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTApKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxhPWlbbl0oKTthLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBhfSxlKGkpfWNhdGNoKGUpe31yZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1uKHRoaXMpLHQ9IiI7cmV0dXJuIGUuZ2xvYmFsJiYodCs9ImciKSxlLmlnbm9yZUNhc2UmJih0Kz0iaSIpLGUubXVsdGlsaW5lJiYodCs9Im0iKSxlLnVuaWNvZGUmJih0Kz0idSIpLGUuc3RpY2t5JiYodCs9InkiKSx0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIzKSxvPXIoMjQpLGk9cig4KSxhPXIoMzcpLHM9cigxMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdT1zKGUpLGM9cihhLHUsIiJbZV0pLGw9Y1swXSxmPWNbMV07aShmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0W3VdPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPSIiW2VdKHQpfSkmJihvKFN0cmluZy5wcm90b3R5cGUsZSxsKSxuKFJlZ0V4cC5wcm90b3R5cGUsdSwyPT10P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGYuY2FsbChlLHRoaXMsdCl9OmZ1bmN0aW9uKGUpe3JldHVybiBmLmNhbGwoZSx0aGlzKX0pKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUpLG89cigyMCksaT1yKDEwKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGE9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8dm9pZCAwPT0ocj1uKGEpW2ldKT90Om8ocil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxvPW4ubmF2aWdhdG9yO2UuZXhwb3J0cz1vJiZvLnVzZXJBZ2VudHx8IiJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2KSxvPXIoMCksaT1yKDI0KSxhPXIoNjEpLHM9cig0NyksdT1yKDYwKSxjPXIoNTkpLGw9cig5KSxmPXIoOCksZD1yKDg4KSxwPXIoNjQpLHk9cigxMTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixoLHYsZyl7dmFyIF89bltlXSxiPV8sbT12PyJzZXQiOiJhZGQiLFI9YiYmYi5wcm90b3R5cGUsTz17fSx3PWZ1bmN0aW9uKGUpe3ZhciB0PVJbZV07aShSLGUsImRlbGV0ZSI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIShnJiYhbChlKSkmJnQuY2FsbCh0aGlzLDA9PT1lPzA6ZSl9OiJoYXMiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiEoZyYmIWwoZSkpJiZ0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiZ2V0Ij09ZT9mdW5jdGlvbihlKXtyZXR1cm4gZyYmIWwoZSk/dm9pZCAwOnQuY2FsbCh0aGlzLDA9PT1lPzA6ZSl9OiJhZGQiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiB0LmNhbGwodGhpcywwPT09ZT8wOmUpLHRoaXN9OmZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbCh0aGlzLDA9PT1lPzA6ZSxyKSx0aGlzfSl9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBiJiYoZ3x8Ui5mb3JFYWNoJiYhZihmdW5jdGlvbigpeyhuZXcgYikuZW50cmllcygpLm5leHQoKX0pKSl7dmFyIGs9bmV3IGIsUz1rW21dKGc/e306LTAsMSkhPWssUD1mKGZ1bmN0aW9uKCl7ay5oYXMoMSl9KSxEPWQoZnVuY3Rpb24oZSl7bmV3IGIoZSl9KSxNPSFnJiZmKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBiLHQ9NTt0LS07KWVbbV0odCx0KTtyZXR1cm4hZS5oYXMoLTApfSk7RHx8KGI9dChmdW5jdGlvbih0LHIpe2ModCxiLGUpO3ZhciBuPXkobmV3IF8sdCxiKTtyZXR1cm4gdm9pZCAwIT1yJiZ1KHIsdixuW21dLG4pLG59KSxiLnByb3RvdHlwZT1SLFIuY29uc3RydWN0b3I9YiksKFB8fE0pJiYodygiZGVsZXRlIiksdygiaGFzIiksdiYmdygiZ2V0IikpLChNfHxTKSYmdyhtKSxnJiZSLmNsZWFyJiZkZWxldGUgUi5jbGVhcn1lbHNlIGI9aC5nZXRDb25zdHJ1Y3Rvcih0LGUsdixtKSxhKGIucHJvdG90eXBlLHIpLHMuTkVFRD0hMDtyZXR1cm4gcChiLGUpLE9bZV09YixvKG8uRytvLlcrby5GKihiIT1fKSxPKSxnfHxoLnNldFN0cm9uZyhiLGUsdiksYn19LGZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG4sbz1yKDYpLGk9cigyMyksYT1yKDUzKSxzPWEoInR5cGVkX2FycmF5IiksdT1hKCJ2aWV3IiksYz0hKCFvLkFycmF5QnVmZmVyfHwhby5EYXRhVmlldyksbD1jLGY9MCxkPSJJbnQ4QXJyYXksVWludDhBcnJheSxVaW50OENsYW1wZWRBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheSIuc3BsaXQoIiwiKTtmPDk7KShuPW9bZFtmKytdXSk/KGkobi5wcm90b3R5cGUscywhMCksaShuLnByb3RvdHlwZSx1LCEwKSk6bD0hMTtlLmV4cG9ydHM9e0FCVjpjLENPTlNUUjpsLFRZUEVEOnMsVklFVzp1fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cig0OCl8fCFyKDgpKGZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yYW5kb20oKTtfX2RlZmluZVNldHRlcl9fLmNhbGwobnVsbCxlLGZ1bmN0aW9uKCl7fSksZGVsZXRlIHIoNilbZV19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtuKG4uUyxlLHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0pfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigyMCksaT1yKDMyKSxhPXIoNjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtuKG4uUyxlLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixzLHU9YXJndW1lbnRzWzFdO3JldHVybiBvKHRoaXMpLHQ9dm9pZCAwIT09dSx0JiZvKHUpLHZvaWQgMD09ZT9uZXcgdGhpczoocj1bXSx0PyhuPTAscz1pKHUsYXJndW1lbnRzWzJdLDIpLGEoZSwhMSxmdW5jdGlvbihlKXtyLnB1c2gocyhlLG4rKykpfSkpOmEoZSwhMSxyLnB1c2gsciksbmV3IHRoaXMocikpfX0pfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj0wLG49TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiLmNvbmNhdCh2b2lkIDA9PT1lPyIiOmUsIilfIiwoKytyK24pLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDQpLmYsbz1yKDYyKSxpPXIoMjIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDMzKTtmb3IodmFyIG49cigyMSksbz1yKDYzKSxpPXIoNzEpLGE9cigyMikoInRvU3RyaW5nVGFnIikscz0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIiksdT0wO3U8cy5sZW5ndGg7dSsrKXt2YXIgYz1zW3VdLGw9bltjXSxmPWwmJmwucHJvdG90eXBlO2YmJiFmW2FdJiZvKGYsYSxjKSxpW2NdPWkuQXJyYXl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt0LnJ1bnRpbWVVdGlscz17cnVudGltZURlc2NyaXB0b3I6e30scnVudGltZUNhcGFiaWxpdGllczp7Y29uc3RyYWludHM6e319fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NzkpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKTt0LmRlZmF1bHQ9ZnVuY3Rpb24gZ2V0KGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxhLmRlZmF1bHQpKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIGk9KDAsby5kZWZhdWx0KShlKTtyZXR1cm4gbnVsbD09PWk/dm9pZCAwOmdldChpLHQscil9aWYoInZhbHVlImluIG4pcmV0dXJuIG4udmFsdWU7dmFyIHM9bi5nZXQ7aWYodm9pZCAwIT09cylyZXR1cm4gcy5jYWxsKHIpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1yKDcpLGQ9bC5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHA9dm9pZCAwLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBZGRyZXNzQWxsb2NhdGlvbihlLHQscixuKXtpZigoMCxhLmRlZmF1bHQpKHRoaXMsQWRkcmVzc0FsbG9jYXRpb24pLHApcmV0dXJuIHA7dGhpcy5fdXJsPWUrIi9hZGRyZXNzLWFsbG9jYXRpb24iLHRoaXMuX2J1cz10LHRoaXMuX3JlZ2lzdHJ5PXIsdGhpcy5fc3Vic2NyaXB0aW9uTWFuYWdlcj1uLHA9dGhpc31yZXR1cm4oMCx1LmRlZmF1bHQpKEFkZHJlc3NBbGxvY2F0aW9uLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuIGk/ImJvb2xlYW4iPT10eXBlb2YgaT9pP3RoaXMuX3JldXNlQWxsb2NhdGVkQWRkcmVzcyhlLHQscixuLGkpOnRoaXMuX2FsbG9jYXRlTmV3QWRkcmVzcyhlLG4sdCxyKToic3RyaW5nIj09dHlwZW9mIGkmJigwLGYuaXNVUkwpKGkpP25ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSh7bmV3QWRkcmVzczohMSxhZGRyZXNzOltpXX0pfSk6dm9pZCAwOihkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbl0gLSBuZXcgYWRkcmVzcyB3aWxsIGJlIGFsbG9jYXRlZCIpLHRoaXMuX2FsbG9jYXRlTmV3QWRkcmVzcyhlLG4sdCxyKSl9fSx7a2V5OiJfcmV1c2VBbGxvY2F0ZWRBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxzKXthLl9yZWdpc3RyeS5jaGVja1JlZ2lzdGVyZWRVUkxzKHIsaSkudGhlbihmdW5jdGlvbih1KXtpZih1KXtkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtICIrbisiXSAtIFJldXNlIFVSTCIpO28oe25ld0FkZHJlc3M6ITEsYWRkcmVzczp1fSl9ZWxzZSJzdHJpbmciPT10eXBlb2YgaT8oZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb24gLSByZXVzZVVSTF0gLSBPYmplY3QgIitpKyIgbm90IGZvdW5kIikscygiVVJMIE5vdCBGb3VuZCIpKToiYm9vbGVhbiI9PXR5cGVvZiBpP2EuX2FsbG9jYXRlTmV3QWRkcmVzcyhlLG4sdCxyKS50aGVuKG8pLmNhdGNoKHMpOnMoIlVSTCBOb3QgRm91bmQiKX0pfSl9fSx7a2V5OiJfYWxsb2NhdGVOZXdBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8sYSl7dmFyIHMsdT1bXTtmb3Iocz0wO3M8cjtzKyspdS5wdXNoKHQrIjovLyIrZSsiLyIrKDAsZi5nZW5lcmF0ZUdVSUQpKCkpO3ZhciBjPXtuZXdBZGRyZXNzOiEwLGFkZHJlc3M6dX07aWYoImh5cGVydHkiPT09dClpZihuLmhhc093blByb3BlcnR5KCJfY29uZmlndXJhdGlvbiIpKXt2YXIgbD0hbi5fY29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3JvdXRpbmciKXx8bi5jb25maWd1cmF0aW9uLmRvbWFpbl9yb3V0aW5nO2w/aS5fc3Vic2NyaXB0aW9uTWFuYWdlci5jcmVhdGVTdWJzY3JpcHRpb24oZSx1LGkuX3VybCkudGhlbihmdW5jdGlvbigpe28oYyl9KTpvKGMpfWVsc2UgbyhjKTtlbHNlIG8oYyl9KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2UoMjAwKX0pfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dLFt7a2V5OiJpbnN0YW5jZSIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXApdGhyb3cgbmV3IEVycm9yKCJUaGUgYWRkcmVzcyBhbGxvY2F0aW9uIHdhcyBub3QgaW5zdGFudGlhdGVkIik7cmV0dXJuIHB9fV0pLEFkZHJlc3NBbGxvY2F0aW9ufSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9cig3KSxkPXIoNTIzKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1sLmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDcnlwdG9NYW5hZ2VyKGUpeygwLGEuZGVmYXVsdCkodGhpcyxDcnlwdG9NYW5hZ2VyKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyPWUsdGhpcy51c2VyRGVmYXVsdEtleVJlZj0idXNlckFzeW1tZXRyaWNLZXkifXJldHVybigwLHUuZGVmYXVsdCkoQ3J5cHRvTWFuYWdlcixbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzKXt2YXIgdT10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW10gcnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFzKXRocm93IG5ldyBFcnJvcigicnVudGltZUZhY3RvcnkgaXMgbWlzc2luZyIpO3UuX3J1bnRpbWVVUkw9ZSx1Ll9jcnlwdG9NYW5hZ2VyVVJMPXUuX3J1bnRpbWVVUkwrIi9jcnlwdG9NYW5hZ2VyIix1LnN0b3JhZ2VNYW5hZ2VyPXIsdS5kYXRhT2JqZWN0c1N0b3JhZ2U9bix1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCx1Ll9ydW50aW1lRmFjdG9yeT1zLHUuX2RvbWFpbj0oMCxmLmRpdmlkZVVSTCkodS5fcnVudGltZVVSTCkuZG9tYWluLHUuY3J5cHRvPW5ldyBwLmRlZmF1bHQodS5fcnVudGltZUZhY3RvcnkpLHUuY2hhdEtleXM9e30sdS5kYXRhT2JqZWN0U2Vzc2lvbktleXM9e30sdS5pc1RvVXNlRW5jcnlwdGlvbj0hMCx1Ll9yZWdpc3RyeT1vLHUuX2NvcmVEaXNjb3Zlcnk9aSx1Ll9pZG09YX19LHtrZXk6ImxvYWRTZXNzaW9uS2V5cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHIpe2UuZGF0YU9iamVjdFNlc3Npb25LZXlzPXJ8fHt9LHQoKX0pfSl9fSx7a2V5OiJfaXNGcm9tUmVtb3RlU00iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJydW50aW1lIj09PWUuc3BsaXQoIjovLyIpWzBdJiZlIT09dGhpcy5fcnVudGltZVVSTCsiL3NtIn19LHtrZXk6ImFkZENyeXB0b0dVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5fY3J5cHRvTWFuYWdlclVSTCxmdW5jdGlvbih0KXtpZigiZ2VuZXJhdGVSU0FLZXlQYWlyIj09PXQuYm9keS5tZXRob2QpcmV0dXJuIHZvaWQgZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe3kuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIGdlbmVyYXRlUlNBS2V5UGFpciBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9KX19LHtrZXk6Il9pc1RvRW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt5LmluZm8oIltDcnlwdG9NYW5hZ2VyLmlzdG9DaHlwZXJNb2R1bGVdIixlKTt2YXIgcj0iY3JlYXRlIj09PWUudHlwZSxuPWUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpLG89ZS50by5pbmNsdWRlcygiaHlwZXJ0eTovLyIpLGk9KDAsZi5pc0RhdGFPYmplY3RVUkwpKGUudG8pLGE9dC5yZWdpc3RyeS5nZXREYXRhT2JqZWN0UmVwb3J0ZXIoZS50bykscz0hZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKXx8ZS5ib2R5Lm11dHVhbDtyZXR1cm4hIXMmJigobnVsbD09PWF8fCEoMCxmLmlzTGVnYWN5KShhKSkmJih0aGlzLmlzVG9Vc2VFbmNyeXB0aW9ufHwiaGFuZHNoYWtlIj09PWUudHlwZT8idXBkYXRlIj09PWUudHlwZT8oeS5pbmZvKCJ1cGRhdGU6ZW5jcnlwdGlvbiBkaXNhYmxlZCIpLCExKTohKDAsZi5pc0xlZ2FjeSkoZS50bykmJihyJiZuJiZvfHxyJiZuJiZpJiZzfHwiaGFuZHNoYWtlIj09PWUudHlwZXx8InVwZGF0ZSI9PT1lLnR5cGUmJnMpOih5LmluZm8oIm5vdCBoYW5kc2hha2U6IGVuY3J5cHRpb24gZGlzYWJsZWQiKSwhMSkpKX19LHtrZXk6Il9pc1RvRGVjcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKCJzdWJzY3JpYmUiPT09ZS50eXBlJnQuX2lzRnJvbVJlbW90ZVNNKGUuZnJvbSkpe3kubG9nKCJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMSIpO3ZhciBvPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFJlcG9ydGVyKGUudG8pO2lmKG51bGwhPT1vJiYoMCxmLmlzTGVnYWN5KShvKSlyZXR1cm4gcighMSk7dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMShlKS50aGVuKGZ1bmN0aW9uKCl7cighMSl9LGZ1bmN0aW9uKGUpe24oZSl9KX1lbHNlIGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiYic3RyaW5nIj09dHlwZW9mIGUuYm9keS52YWx1ZT8oeS5sb2coIl9pc1RvRGVjcnlwdDp0cnVlIikscighMCkpOih5LmxvZygiX2lzVG9EZWNyeXB0OmZhbHNlIikscighMSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW0NyeXB0b01hbmFnZXIuX2lzVG9EZWNyeXB0XSIsZSl9KX19LHtrZXk6ImVuY3J5cHRNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB5LmxvZygiZW5jcnlwdCBtZXNzYWdlICIpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0iaGFuZHNoYWtlIj09PWUudHlwZTtpZighdC5faXNUb0VuY3J5cHQoZSkpcmV0dXJuIHIoZSk7dmFyIGk9KDAsZi5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLGE9KDAsZi5pc0RhdGFPYmplY3RVUkwpKGkpLHM9KDAsZi5pc0xlZ2FjeSkoZS50byksdT0iaHlwZXJ0eSI9PT0oMCxmLmRpdmlkZVVSTCkoZS5mcm9tKS50eXBlLGM9Imh5cGVydHkiPT09KDAsZi5kaXZpZGVVUkwpKGUudG8pLnR5cGU7aWYoInVwZGF0ZSI9PT1lLnR5cGUpcmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2U6IG1lc3NhZ2UgdHlwZSB1cGRhdGUiKSxyKGUpO2lmKHMpcihlKTtlbHNlIGlmKHUmJmMpe3ZhciBsPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO2lmKGwpe3ZhciBkPXQuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dO2lmKGR8fChkPXQuX25ld0NoYXRDcnlwdG8oZSxsKSx0LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT1kLGUuYm9keS5oYW5kc2hha2VQaGFzZT0ic3RhcnRIYW5kU2hha2UiKSxkLmF1dGhlbnRpY2F0ZWQmJiFvKXt2YXIgcD10LmNyeXB0by5nZW5lcmF0ZUlWKCk7dC5jcnlwdG8uZW5jcnlwdEFFUyhkLmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCgwLGYuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpLHApLnRoZW4oZnVuY3Rpb24obil7dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGYuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpKygwLGYuc3RyaW5naWZ5KShwKSxkLmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTt0LmNyeXB0by5oYXNoSE1BQyhkLmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LG8pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89e2l2OigwLGYuZW5jb2RlKShwKSx2YWx1ZTooMCxmLmVuY29kZSkobiksaGFzaDooMCxmLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxmLmVuY29kZSkobykscihlKX0pfSl9ZWxzZSBvP3IoZSk6dC5fZG9IYW5kU2hha2VQaGFzZShlLGQpLnRoZW4oZnVuY3Rpb24ocil7dC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109ci5jaGF0S2V5cyx0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIubWVzc2FnZSksbigiZW5jcnlwdCBoYW5kc2hha2UgcHJvdG9jb2wgcGhhc2UgIil9KX1lbHNlIG4oIkluIGVuY3J5cHRNZXNzYWdlOiBIeXBlcnR5IG93bmVyIFVSTCB3YXMgbm90IGZvdW5kIil9ZWxzZSB1JiZhJiZ0LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihvKXtvPSgwLGYuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShvfHx7fSk7dmFyIGE9bz9vW2ldOm51bGw7dC5kYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0RGF0YU9iamVjdChpKS50aGVuKGZ1bmN0aW9uKG8pe2lmKCFhJiZvLnJlcG9ydGVyJiZvLnJlcG9ydGVyPT09ZS5mcm9tKXt2YXIgcz10LmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3QuZGF0YU9iamVjdFNlc3Npb25LZXlzW2ldPXtzZXNzaW9uS2V5OnMsaXNUb0VuY3J5cHQ6ITB9O3ZhciB1PSgwLGYuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikodC5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiLDAsdSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2Qgc3RvcmFnZU1hbmFnZXIuc2V0IGVycm9yOiAiK2UpfSksYT10LmRhdGFPYmplY3RTZXNzaW9uS2V5c1tpXX1pZihhKWlmKGEuaXNUb0VuY3J5cHQpe3ZhciBjPXQuY3J5cHRvLmdlbmVyYXRlSVYoKSxsPSgwLGYuc3RyaW5naWZ5KShjKSxkPSgwLGYuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpO3QuY3J5cHRvLmVuY3J5cHRBRVMoYS5zZXNzaW9uS2V5LGQsYykudGhlbihmdW5jdGlvbihuKXtkZWxldGUgZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgZS5ib2R5LmlkZW50aXR5LmV4cGlyZXM7dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLGQrbCk7dC5jcnlwdG8uaGFzaEhNQUMoYS5zZXNzaW9uS2V5LG8pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89e3ZhbHVlOigwLGYuZW5jb2RlKShuKSxpdjooMCxmLmVuY29kZSkoYyksaGFzaDooMCxmLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxmLnN0cmluZ2lmeSkobykscihlKX0pfSl9ZWxzZSByKGUpO2Vsc2UgbigiRGF0YSBvYmplY3Qga2V5IGNvdWxkIG5vdCBiZSBkZWZpbmVkOiBGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlICIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2QgZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJlbmNyeXB0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7eS5pbmZvKCJkYXRhT2JqZWN0IHZhbHVlIHRvIGVuY3J5cHQ6ICIsZSk7dmFyIGk9KDAsZi5wYXJzZU1lc3NhZ2VVUkwpKHQpO3Iuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHQpe3Q9KDAsZi5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKHR8fHt9KTt2YXIgYT10P3RbaV06bnVsbDtpZighYSlyZXR1cm4gbygiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsaSk7aWYoIWEuaXNUb0VuY3J5cHQpcmV0dXJuIHkuaW5mbygiVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCIpLG4oZSk7dmFyIHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpO3IuY3J5cHRvLmVuY3J5cHRBRVMoYS5zZXNzaW9uS2V5LCgwLGYuc3RyaW5naWZ5KShlKSxzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt2YWx1ZTooMCxmLmVuY29kZSkoZSksaXY6KDAsZi5lbmNvZGUpKHMpfTtyZXR1cm4gbih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGVuY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGVuY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJkZWNyeXB0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSJoYW5kc2hha2UiPT09ZS50eXBlO3QuX2lzVG9EZWNyeXB0KGUpLnRoZW4oZnVuY3Rpb24oaSl7aWYoIWkpcmV0dXJuIHIoZSk7dmFyIGE9KDAsZi5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLHM9KDAsZi5pc0RhdGFPYmplY3RVUkwpKGEpLHU9Imh5cGVydHkiPT09KDAsZi5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGYuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiByKGUpO2lmKHUmJmMpe3ZhciBsPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLnRvKTtpZihsKXt2YXIgZD10LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXTtpZihkfHwoZD10Ll9uZXdDaGF0Q3J5cHRvKGUsbCwiZGVjcnlwdCIpLHQuY2hhdEtleXNbZS50bysiPC0+IitlLmZyb21dPWQpLGQuYXV0aGVudGljYXRlZCYmIW8pe3ZhciBwPSgwLGYuZGVjb2RlKShlLmJvZHkudmFsdWUpLGg9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAuaXYpLHY9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAudmFsdWUpLGc9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAuaGFzaCk7dC5jcnlwdG8uZGVjcnlwdEFFUyhkLmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSx2LGgpLnRoZW4oZnVuY3Rpb24obil7ZS5ib2R5LnZhbHVlPW47dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4raCk7dC5jcnlwdG8udmVyaWZ5SE1BQyhkLmtleXMuaHlwZXJ0eVRvSGFzaEtleSxvLGcpLnRoZW4oZnVuY3Rpb24odCl7ZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pfSl9ZWxzZSBvP3QuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpeyJoYW5kU2hha2VFbmQiPT09cnx8KHQuY2hhdEtleXNbZS50bysiPC0+IitlLmZyb21dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpKX0pOm4oIndyb25nIG1lc3NhZ2UgZG8gZGVjcnlwdCIpfWVsc2UgbigiZXJyb3Igb24gZGVjcnlwdCBtZXNzYWdlIil9ZWxzZSB1JiZzP3Quc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKG8pe289KDAsZi5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKG98fHt9KTt2YXIgaT1vP29bYV06bnVsbDtpZihpKWlmKGkuaXNUb0VuY3J5cHQpe3ZhciBzPSgwLGYucGFyc2UpKGUuYm9keS52YWx1ZSksdT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkocy5pdiksYz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkocy52YWx1ZSksbD0oMCxmLmRlY29kZVRvVWludDhBcnJheSkocy5oYXNoKTt0LmNyeXB0by5kZWNyeXB0QUVTKGkuc2Vzc2lvbktleSxjLHUpLnRoZW4oZnVuY3Rpb24obyl7dmFyIGE9KDAsZi5wYXJzZSkobyk7ZS5ib2R5LnZhbHVlPWE7dmFyIHM9dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGYuc3RyaW5naWZ5KShhKSsoMCxmLnN0cmluZ2lmeSkodSkpO3QuY3J5cHRvLnZlcmlmeUhNQUMoaS5zZXNzaW9uS2V5LHMsbCkudGhlbihmdW5jdGlvbih0KXt5LmxvZygiUmVjZWl2ZWQgbWVzc2FnZSBITUFDIHJlc3VsdCIsdCksZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk1lc3NhZ2UgSE1BQyBpcyBpbnZhbGlkOiAiK2UpfSl9KX1lbHNlIGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSk7ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpfSk6bigid3JvbmcgbWVzc2FnZSB0byBkZWNyeXB0Iil9KX0pfX0se2tleToiZGVjcnlwdERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKCFyLmlzVG9Vc2VFbmNyeXB0aW9uKXJldHVybiBuKGUpO3ZhciBpPSgwLGYucGFyc2VNZXNzYWdlVVJMKSh0KTtyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGYuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0KTt2YXIgYT10P3RbaV06bnVsbDtpZighYSlyZXR1cm4gbygiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsaSk7aWYoIWEuaXNUb0VuY3J5cHQpcmV0dXJuIG4oZSk7dmFyIHM9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUuaXYpLHU9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVMoYS5zZXNzaW9uS2V5LHUscykudGhlbihmdW5jdGlvbihlKXt2YXIgdD0oMCxmLnBhcnNlKShlKSxyPXt2YWx1ZTp0LGl2OigwLGYuZW5jb2RlKShzKX07cmV0dXJuIG4ocil9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBkZWNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX0pfX0se2tleToiX2RvTXV0dWFsQXV0aGVudGljYXRpb25QaGFzZTEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnRvLnNwbGl0KCIvIik7by5wb3AoKTt2YXIgaT1vWzBdKyIvLyIrb1syXSsiLyIrb1szXTt0Ll9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UyKGksZS5ib2R5LnN1YnNjcmliZXIpLnRoZW4oZnVuY3Rpb24oKXt0Ll9yZWdpc3RyeS5yZWdpc3RlclN1YnNjcmliZXIoaSxlLmJvZHkuc3Vic2NyaWJlcikscigpfSxmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6Il9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kuaW5mbygiZG9NdXR1YWxBdXRoZW50aWNhdGlvbjpzZW5kZXIgIixlKSx5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246cmVjZWl2ZXIgIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9dm9pZCAwLGE9ci5fcmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKGUpO2EmJihpPWUsZT1hKTt2YXIgcz17dG86dCxmcm9tOmUsY2FsbGJhY2s6dm9pZCAwLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzdGFydEhhbmRTaGFrZSIsaWdub3JlOiJpZ25vcmVNZXNzYWdlIn19O2lmKCFlfHwhdClyZXR1cm4gbygic2VuZGVyIG9yIHJlY2VpdmVyIG1pc3Npbmcgb24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiIpO3ZhciB1PXIuY2hhdEtleXNbZSsiPC0+Iit0XSxjPXIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKTtpZihjKXtpZighdSl7dmFyIGw9ZnVuY3Rpb24oZSl7bihlKX07cy5jYWxsYmFjaz1sLHMuZGF0YU9iamVjdFVSTD1pLHU9ci5fbmV3Q2hhdENyeXB0byhzLGMpLHIuY2hhdEtleXNbZSsiPC0+Iit0XT11fWlmKHUuYXV0aGVudGljYXRlZCl7dmFyIGY9e3RvOmUsZnJvbTp0fTt1LmRhdGFPYmplY3RVUkw9aSxyLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGYsdSkudGhlbihmdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUubWVzc2FnZSksbigiZXhjaGFuZ2Ugb2YgY2hhdCBzZXNzaW9uS2V5IGluaXRpYXRlZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiBmcm9tIG1ldGhvZCBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pfWVsc2Ugci5fZG9IYW5kU2hha2VQaGFzZShzLHUpfWVsc2UgbygiTXV0dWFsIGF1dGhlbnRpY2F0aW9uIGVycm9yOiBIeXBlcnR5IG93bmVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZCIpfSl9fSx7a2V5OiJfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXSxhPXZvaWQgMCxzPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxsPXt9O2lmKGkpdT1pLnNlc3Npb25LZXk7ZWxzZXt1PXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCksci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXT17c2Vzc2lvbktleTp1LGlzVG9FbmNyeXB0OiEwfTt2YXIgZD0oMCxmLmNoYXRrZXlzVG9TdHJpbmdDbG9uZXIpKHIuZGF0YU9iamVjdFNlc3Npb25LZXlzKTtyLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLGQpLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldChkYXRhT2JqZWN0U2Vzc2lvbktleXMuLi4pIGVycm9yOiAiK2UpfSl9dHJ5e3M9KDAsZi5lbmNvZGUpKHt2YWx1ZTooMCxmLmVuY29kZSkodSksZGF0YU9iamVjdFVSTDp0LmRhdGFPYmplY3RVUkx9KX1jYXRjaChlKXtyZXR1cm4gbygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2Qgc3RvcmFnZU1hbmFnZXIuc2V0IGVycm9yIHZhbHVlVG9FbmNyeXB0OiAiK2UpfWM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLGwuaXY9KDAsZi5lbmNvZGUpKGMpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSxzLGMpLnRoZW4oZnVuY3Rpb24obil7YT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZXBvcnRlclNlc3Npb25LZXkiLHZhbHVlOigwLGYuZW5jb2RlKShuKX19O3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goYSxzK2MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksbyl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGYuZW5jb2RlKSh7dmFsdWU6YS5ib2R5LnZhbHVlLGhhc2g6KDAsZi5lbmNvZGUpKGUpLGl2OmwuaXZ9KTthLmJvZHkudmFsdWU9cixuKHttZXNzYWdlOmEsY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBjaGFpbmVkIHByb21pc2VzIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJfZG9IYW5kU2hha2VQaGFzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ZS5ib2R5LmhhbmRzaGFrZVBoYXNlLGE9dm9pZCAwLHM9dm9pZCAwLHU9e30sYz12b2lkIDAsbD12b2lkIDA7c3dpdGNoKHkuaW5mbygiaGFuZHNoYWtlIHBoYXNlOiAiLGkpLGkpe2Nhc2Uic3RhcnRIYW5kU2hha2UiOnQua2V5cy5mcm9tUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIGQ9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS50byxmcm9tOmUuZnJvbSxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVySGVsbG8iLHZhbHVlOigwLGYuZW5jb2RlKSh0LmtleXMuZnJvbVJhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChkLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSx0LmluaXRpYWxNZXNzYWdlP24oe21lc3NhZ2U6ZCxjaGF0S2V5czp0fSk6KHIuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXQsci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShkKSk7YnJlYWs7Y2FzZSJzZW5kZXJIZWxsbyI6eS5sb2coInNlbmRlckhlbGxvIiksdC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSksdC5rZXlzLmZyb21SYW5kb209KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUuYm9keS52YWx1ZSksdC5rZXlzLnRvUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIHA9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJIZWxsbyIsdmFsdWU6KDAsZi5lbmNvZGUpKHQua2V5cy50b1JhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3RvcnkucmVjZWl2ZXJIZWxsbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHAsdm9pZCAwLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLG4oe21lc3NhZ2U6cCxjaGF0S2V5czp0fSk7YnJlYWs7Y2FzZSJyZWNlaXZlckhlbGxvIjp5LmxvZygicmVjZWl2ZXJIZWxsbyIpLHIuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gbD1uLHQuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSksci5faWRtLnZhbGlkYXRlQXNzZXJ0aW9uKGUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdm9pZCAwLGUuYm9keS5pZGVudGl0eS5pZHAuZG9tYWluKX0pLnRoZW4oZnVuY3Rpb24obil7dmFyIG89InN0cmluZyI9PXR5cGVvZiBuLmNvbnRlbnRzP24uY29udGVudHM6bi5jb250ZW50cy5ub25jZSxpPSgwLGYucGFyc2VUb1VpbnQ4QXJyYXkpKG8pLGE9ci5jcnlwdG8uZ2VuZXJhdGVQTVMoKSxzPWUuYm9keS52YWx1ZTt0Lmh5cGVydHlUby5hc3NlcnRpb249ZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix0Lmh5cGVydHlUby5wdWJsaWNLZXk9aSx0Lmh5cGVydHlUby51c2VySUQ9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdC5rZXlzLnRvUmFuZG9tPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShzKSx0LmtleXMucHJlbWFzdGVyS2V5PWE7dmFyIHU9ci5jcnlwdG8uY29uY2F0UE1Td2l0aFJhbmRvbXMoYSx0LmtleXMudG9SYW5kb20sdC5rZXlzLmZyb21SYW5kb20pO3JldHVybiByLmNyeXB0by5nZW5lcmF0ZU1hc3RlclNlY3JldCh1LCJtZXNzYWdlSGlzdG9yaWMiK3Qua2V5cy50b1JhbmRvbSt0LmtleXMuZnJvbVJhbmRvbSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmtleXMubWFzdGVyS2V5PWUsci5jcnlwdG8uZ2VuZXJhdGVLZXlzKGUsImtleSBleHBhbnNpb24iK3Qua2V5cy50b1JhbmRvbSt0LmtleXMuZnJvbVJhbmRvbSl9KS50aGVuKGZ1bmN0aW9uKG4pe3Qua2V5cy5oeXBlcnR5VG9TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMF0pLHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXk9bmV3IFVpbnQ4QXJyYXkoblsxXSksdC5rZXlzLmh5cGVydHlUb0hhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblsyXSksdC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleT1uZXcgVWludDhBcnJheShuWzNdKSxhPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSx1Lml2PSgwLGYuZW5jb2RlKShhKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fTtyZXR1cm4gYz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKG8sIm9rIithLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksYyl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB1Lmhhc2g9KDAsZi5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2siLGEpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5zeW1ldHJpY0VuY3J5cHRpb249KDAsZi5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LHQua2V5cy5wcmVtYXN0ZXJLZXkpfSkudGhlbihmdW5jdGlvbihuKXt1LmFzc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGYuZW5jb2RlKShuKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fSxpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gobyx0LmtleXMucHJlbWFzdGVyS2V5LHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5zaWduUlNBKGwsKDAsZi5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsZi5lbmNvZGUpKGkpKX0pLnRoZW4oZnVuY3Rpb24obyl7dS5zaWduYXR1cmU9KDAsZi5lbmNvZGUpKG8pO3ZhciBpPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckNlcnRpZmljYXRlIix2YWx1ZTooMCxmLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayIrYSx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOmksY2hhdEtleXM6dH0pfSxmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pO2JyZWFrO2Nhc2Uic2VuZGVyQ2VydGlmaWNhdGUiOnkubG9nKCJzZW5kZXJDZXJ0aWZpY2F0ZSIpO3ZhciBoPSgwLGYuZGVjb2RlKShlLmJvZHkudmFsdWUpO3IuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbD10LHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBvPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShoLmFzc3ltZXRyaWNFbmNyeXB0aW9uKSxpPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2UsYT0oMCxmLnBhcnNlVG9VaW50OEFycmF5KShpKTtyZXR1cm4gdC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PWEsdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHIuY3J5cHRvLmRlY3J5cHRSU0EobCxvKX0sZnVuY3Rpb24oZSl7bygiRXJyb3IgZHVyaW5nIGF1dGhlbnRpY2F0aW9uIG9mIGlkZW50aXR5OiAiLGUubWVzc2FnZSl9KS50aGVuKGZ1bmN0aW9uKG4pe3Qua2V5cy5wcmVtYXN0ZXJLZXk9bmV3IFVpbnQ4QXJyYXkobik7dmFyIG89KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguc2lnbmF0dXJlKSxpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSx0LmtleXMucHJlbWFzdGVyS2V5KTtyZXR1cm4gci5jcnlwdG8udmVyaWZ5UlNBKHQuaHlwZXJ0eVRvLnB1YmxpY0tleSwoMCxmLmVuY29kZSkodC5oYW5kc2hha2VIaXN0b3J5KSsoMCxmLmVuY29kZSkoaSksbyl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBuPXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKHQua2V5cy5wcmVtYXN0ZXJLZXksdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQobiwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXt0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KGVbMF0pLHQua2V5cy5oeXBlcnR5VG9TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KGVbMV0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoZVsyXSksdC5rZXlzLmh5cGVydHlUb0hhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoZVszXSksYT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoaC5pdik7dmFyIG49KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguc3ltZXRyaWNFbmNyeXB0aW9uKTtyZXR1cm4gci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxuLGEpfSkudGhlbihmdW5jdGlvbihuKXt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rYSk7dmFyIG89KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaGFzaCk7cmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rYSksci5jcnlwdG8udmVyaWZ5SE1BQyh0LmtleXMuaHlwZXJ0eVRvSGFzaEtleSxjLG8pfSkudGhlbihmdW5jdGlvbihuKXt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSJ9fTtyZXR1cm4gYT1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxmLmVuY29kZSkoYSksYz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKG8sIm9rISIrYSx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5oYXNoPSgwLGYuZW5jb2RlKShlKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksIm9rISIsYSl9KS50aGVuKGZ1bmN0aW9uKG8pe3UudmFsdWU9KDAsZi5lbmNvZGUpKG8pO3ZhciBpPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIix2YWx1ZTooMCxmLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3RvcnkucmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayEiK2EsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksdC5hdXRoZW50aWNhdGVkPSEwLG4oe21lc3NhZ2U6aSxjaGF0S2V5czp0fSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHNlbmRlckNlcnRpZmljYXRlIGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSI6dC5hdXRoZW50aWNhdGVkPSEwLHU9KDAsZi5kZWNvZGUpKGUuYm9keS52YWx1ZSksYT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkodS5pdik7dmFyIHY9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUudmFsdWUpO3M9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaGFzaCksci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSx2LGEpLnRoZW4oZnVuY3Rpb24oaSl7dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxpK2EpO3ZhciB1PXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxpK2EpO3IuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksdSxzKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuaW5pdGlhbE1lc3NhZ2Upe3ZhciBhPXt0eXBlOiJjcmVhdGUiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7dmFsdWU6dC5pbml0aWFsTWVzc2FnZS5ib2R5LnZhbHVlfX07bih7bWVzc2FnZTphLGNoYXRLZXlzOnR9KX1lbHNlIHIuX3NlbmRSZXBvcnRlclNlc3Npb25LZXkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX0pO2JyZWFrO2Nhc2UicmVwb3J0ZXJTZXNzaW9uS2V5Ijp5LmxvZygicmVwb3J0ZXJTZXNzaW9uS2V5Iik7dmFyIGc9KDAsZi5kZWNvZGUpKGUuYm9keS52YWx1ZSk7cz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoZy5oYXNoKSxhPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShnLml2KTt2YXIgXz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoZy52YWx1ZSksYj12b2lkIDAsbT12b2lkIDAsUj12b2lkIDAsTz12b2lkIDA7ci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxfLGEpLnRoZW4oZnVuY3Rpb24obil7Yj0oMCxmLmRlY29kZSkobiksbT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoYi52YWx1ZSksUj1iLmRhdGFPYmplY3RVUkw7dmFyIG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rYSk7cmV0dXJuIHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksbyxzKX0pLnRoZW4oZnVuY3Rpb24oZSl7ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbUl09e3Nlc3Npb25LZXk6bSxpc1RvRW5jcnlwdDohMH07dmFyIG49KDAsZi5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7cmV0dXJuIHIuc3RvcmFnZU1hbmFnZXIuc2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiLDAsbikuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2QgcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSksYT1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxmLmVuY29kZSkoYSksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEhIixhKX0pLnRoZW4oZnVuY3Rpb24obil7Tz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckFja25vd2xlZGdlIn19LHUudmFsdWU9KDAsZi5lbmNvZGUpKG4pO3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goTywib2shISIrYSx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTtyZXR1cm4gci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxvKX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9KDAsZi5lbmNvZGUpKHt2YWx1ZTp1LnZhbHVlLGhhc2g6KDAsZi5lbmNvZGUpKGUpLGl2OnUuaXZ9KTtPLmJvZHkudmFsdWU9cixuKHttZXNzYWdlOk8sY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZXBvcnRlclNlc3Npb25LZXkgZXJyb3I6ICIrZSl9KTticmVhaztjYXNlInJlY2VpdmVyQWNrbm93bGVkZ2UiOnkubG9nKCJyZWNlaXZlckFja25vd2xlZGdlIik7dmFyIHc9KDAsZi5kZWNvZGUpKGUuYm9keS52YWx1ZSksaz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkody5oYXNoKTthPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KSh3Lml2KTt2YXIgUz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkody52YWx1ZSk7ci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxTLGEpLnRoZW4oZnVuY3Rpb24obil7dmFyIG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rYSk7cmV0dXJuIHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksbyxrKX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9dC5jYWxsYmFjaztyJiZyKCJoYW5kU2hha2VFbmQiKSxuKCJoYW5kU2hha2VFbmQiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVjZWl2ZXJBY2tub3dsZWRnZSBlcnJvcjogIitlKX0pO2JyZWFrO2RlZmF1bHQ6byhlKX19KX19LHtrZXk6Il9maWx0ZXJNZXNzYWdlVG9IYXNoIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJue3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHRvOmUudG8sYm9keTp7aWRlbnRpdHk6cnx8ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR8fGUuYm9keS52YWx1ZSxoYW5kc2hha2VQaGFzZTplLmJvZHkuaGFuZHNoYWtlUGhhc2V9fX19LHtrZXk6Il9uZXdDaGF0Q3J5cHRvIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXI/ZS50bzplLmZyb20saT1yP2UuZnJvbTplLnRvLGE9bi5faWRtLmdldElkZW50aXR5KHQpO3JldHVybntoeXBlcnR5RnJvbTp7aHlwZXJ0eTpvLHVzZXJJRDphLnVzZXJQcm9maWxlLnVzZXJVUkwsYXNzZXJ0aW9uOmEuYXNzZXJ0aW9uLG1lc3NhZ2VJbmZvOmF9LGh5cGVydHlUbzp7aHlwZXJ0eTppLHVzZXJJRDp2b2lkIDAscHVibGljS2V5OnZvaWQgMCxhc3NlcnRpb246dm9pZCAwfSxrZXlzOntoeXBlcnR5VG9TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5RnJvbVNlc3Npb25LZXk6dm9pZCAwLGh5cGVydHlUb0hhc2hLZXk6dm9pZCAwLGh5cGVydHlGcm9tSGFzaEtleTp2b2lkIDAsdG9SYW5kb206dm9pZCAwLGZyb21SYW5kb206dm9pZCAwLHByZW1hc3RlcktleTp2b2lkIDAsbWFzdGVyS2V5OnZvaWQgMH0saGFuZHNoYWtlSGlzdG9yeTp7c2VuZGVySGVsbG86dm9pZCAwLHJlY2VpdmVySGVsbG86dm9pZCAwLHNlbmRlckNlcnRpZmljYXRlOnZvaWQgMCxyZWNlaXZlckZpbmlzaGVkTWVzc2FnZTp2b2lkIDB9LGluaXRpYWxNZXNzYWdlOmUuYm9keS5pZ25vcmU/dm9pZCAwOmUsY2FsbGJhY2s6ZS5jYWxsYmFjayxhdXRoZW50aWNhdGVkOiExLGRhdGFPYmplY3RVUkw6ZS5kYXRhT2JqZWN0VVJMfX19LHtrZXk6ImdldE15UHVibGljS2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnVzZXJEZWZhdWx0S2V5UmVmLHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuZ2V0KGUpLnRoZW4oZnVuY3Rpb24obyl7aWYobylyZXR1cm4gcihvLnB1YmxpYyk7dC5fZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IoZS5wdWJsaWMpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5Ol9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQdWJsaWNLZXk6c3RvcmFnZU1hbmFnZXI6ZXJyXTogIitlLm1lc3NhZ2UpLG4oZSl9KX0pfX0se2tleToiZ2V0TXlQcml2YXRlS2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnVzZXJEZWZhdWx0S2V5UmVmLHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuZ2V0KGUpLnRoZW4oZnVuY3Rpb24obyl7aWYobylyZXR1cm4gcihvLnByaXZhdGUpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHJpdmF0ZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQcml2YXRlS2V5Ol9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQcml2YXRlS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6Il9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dm9pZCAwO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dC5jcnlwdG8uZ2VuZXJhdGVSU0FLZXlQYWlyKCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4geS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5R2VuZXJhdGVkIixuKSxyPW4sdC5zdG9yYWdlTWFuYWdlci5zZXQoZSwwLG4pfSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygiX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXk6dXNlckFzeW1tZXRyaWNLZXlTdWNjZXNzIixlKSxuKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW19nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxvKGUpfSl9KX19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9tZXNzYWdlQnVzPWUsdC5hZGRDcnlwdG9HVUlMaXN0ZW5lcnMoKX19LHtrZXk6ImNvcmVEaXNjb3ZlcnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlRGlzY292ZXJ5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29yZURpc2NvdmVyeT1lfX0se2tleToicmVnaXN0cnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWdpc3RyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWV9fV0pLENyeXB0b01hbmFnZXJ9KCk7dC5kZWZhdWx0PW5ldyBoLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cig2KS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksbz1yKDMxKSxpPXIoNDgpLGE9cigxNTYpLHM9cigxMykuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9by5TeW1ib2x8fChvLlN5bWJvbD1pP3t9Om4uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxzKHQsZSx7dmFsdWU6YS5mKGUpfSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig4MykoImtleXMiKSxvPXIoNTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KS5kb2N1bWVudDtlLmV4cG9ydHM9biYmbi5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cig1KSxpPWZ1bmN0aW9uKGUsdCl7aWYobyhlKSwhbih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07ZS5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGUsdCxuKXt0cnl7bj1yKDMyKShGdW5jdGlvbi5jYWxsLHIoMjkpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gaShlLHIpLHQ/ZS5fX3Byb3RvX189cjpuKGUsciksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iXHRcblx2XGZcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFx1MjAyOFx1MjAyOVx1ZmVmZiJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cigxMTEpLnNldDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLGE9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gYSE9PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoaT1hLnByb3RvdHlwZSkhPT1yLnByb3RvdHlwZSYmbihpKSYmbyYmbyhlLGkpLGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzgpLG89cigzNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PVN0cmluZyhvKHRoaXMpKSxyPSIiLGk9bihlKTtpZihpPDB8fGk9PTEvMCl0aHJvdyBSYW5nZUVycm9yKCJDb3VudCBjYW4ndCBiZSBuZWdhdGl2ZSIpO2Zvcig7aT4wOyhpPj4+PTEpJiYodCs9dCkpMSZpJiYocis9dCk7cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1NYXRoLnNpZ258fGZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSl8fGUhPWU/ZTplPDA/LTE6MX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5leHBtMTtlLmV4cG9ydHM9IXJ8fHIoMTApPjIyMDI1LjQ2NTc5NDgwNjcxOHx8cigxMCk8MjIwMjUuNDY1Nzk0ODA2NzE4fHwtMmUtMTchPXIoLTJlLTE3KT9mdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9K2UpP2U6ZT4tMWUtNiYmZTwxZS02P2UrZSplLzI6TWF0aC5leHAoZSktMX06cn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigzNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLGEscz1TdHJpbmcobyh0KSksdT1uKHIpLGM9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49Yz9lPyIiOnZvaWQgMDooaT1zLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09Y3x8KGE9cy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxhPjU3MzQzP2U/cy5jaGFyQXQodSk6aTplP3Muc2xpY2UodSx1KzIpOmEtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNil9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ4KSxvPXIoMCksaT1yKDI0KSxhPXIoMjMpLHM9cig2NiksdT1yKDExOSksYz1yKDY0KSxsPXIoMzApLGY9cigxMCkoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscix5LGgsdixnKXt1KHIsdCx5KTt2YXIgXyxiLG0sUj1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlImtleXMiOmNhc2UidmFsdWVzIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxPPXQrIiBJdGVyYXRvciIsdz0idmFsdWVzIj09aCxrPSExLFM9ZS5wcm90b3R5cGUsUD1TW2ZdfHxTWyJAQGl0ZXJhdG9yIl18fGgmJlNbaF0sRD1QfHxSKGgpLE09aD93P1IoImVudHJpZXMiKTpEOnZvaWQgMCxMPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxQOlA7aWYoTCYmKG09bChMLmNhbGwobmV3IGUpKSkhPT1PYmplY3QucHJvdG90eXBlJiZtLm5leHQmJihjKG0sTywhMCksbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG1bZl18fGEobSxmLHApKSx3JiZQJiYidmFsdWVzIiE9PVAubmFtZSYmKGs9ITAsRD1mdW5jdGlvbigpe3JldHVybiBQLmNhbGwodGhpcyl9KSxuJiYhZ3x8IWQmJiFrJiZTW2ZdfHxhKFMsZixEKSxzW3RdPUQsc1tPXT1wLGgpaWYoXz17dmFsdWVzOnc/RDpSKCJ2YWx1ZXMiKSxrZXlzOnY/RDpSKCJrZXlzIiksZW50cmllczpNfSxnKWZvcihiIGluIF8pYiBpbiBTfHxpKFMsYixfW2JdKTtlbHNlIG8oby5QK28uRiooZHx8ayksdCxfKTtyZXR1cm4gX319LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1Niksbz1yKDUyKSxpPXIoNjQpLGE9e307cigyMykoYSxyKDEwKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKGEse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODcpLG89cigzNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKHQpKXRocm93IFR5cGVFcnJvcigiU3RyaW5nIyIrcisiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4ISIpO3JldHVybiBTdHJpbmcobyhlKSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gocil7dHJ5e3JldHVybiB0W25dPSExLCEiLy4vIltlXSh0KX1jYXRjaChlKXt9fXJldHVybiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjYpLG89cigxMCkoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMyksbz1yKDUyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3QgaW4gZT9uLmYoZSx0LG8oMCxyKSk6ZVt0XT1yfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzUpLG89cigxMCkoIml0ZXJhdG9yIiksaT1yKDY2KTtlLmV4cG9ydHM9cigzMSkuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobihlKSkodCl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTkpLG89cig1NSksaT1yKDE0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW4odGhpcykscj1pKHQubGVuZ3RoKSxhPWFyZ3VtZW50cy5sZW5ndGgscz1vKGE+MT9hcmd1bWVudHNbMV06dm9pZCAwLHIpLHU9YT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYz12b2lkIDA9PT11P3I6byh1LHIpO2M+czspdFtzKytdPWU7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDkpLG89cigxNzIpLGk9cig2NiksYT1yKDI4KTtlLmV4cG9ydHM9cigxMTgpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWEoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGksYT1yKDMyKSxzPXIoMTYyKSx1PXIoMTEwKSxjPXIoMTA2KSxsPXIoNiksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUseT1sLk1lc3NhZ2VDaGFubmVsLGg9bC5EaXNwYXRjaCx2PTAsZz17fSxfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoZy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9Z1tlXTtkZWxldGUgZ1tlXSx0KCl9fSxiPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gZ1srK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGdbZV19LCJwcm9jZXNzIj09cigzMykoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKGEoXyxlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhhKF8sZSwxKSl9Onk/KG89bmV3IHksaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWIsbj1hKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYiwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYShfLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxvPXIoMTI4KS5zZXQsaT1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixhPW4ucHJvY2VzcyxzPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09cigzMykoYSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGM9ZnVuY3Rpb24oKXt2YXIgbixvO2Zvcih1JiYobj1hLmRvbWFpbikmJm4uZXhpdCgpO2U7KXtvPWUuZm4sZT1lLm5leHQ7dHJ5e28oKX1jYXRjaChuKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxufX10PXZvaWQgMCxuJiZuLmVudGVyKCl9O2lmKHUpcj1mdW5jdGlvbigpe2EubmV4dFRpY2soYyl9O2Vsc2UgaWYoIWl8fG4ubmF2aWdhdG9yJiZuLm5hdmlnYXRvci5zdGFuZGFsb25lKWlmKHMmJnMucmVzb2x2ZSl7dmFyIGw9cy5yZXNvbHZlKHZvaWQgMCk7cj1mdW5jdGlvbigpe2wudGhlbihjKX19ZWxzZSByPWZ1bmN0aW9uKCl7by5jYWxsKG4sYyl9O2Vsc2V7dmFyIGY9ITAsZD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IGkoYykub2JzZXJ2ZShkLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2QuZGF0YT1mPSFmfX1yZXR1cm4gZnVuY3Rpb24obil7dmFyIG89e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9byksZXx8KGU9byxyKCkpLHQ9b319fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1uKHQpLHRoaXMucmVqZWN0PW4ocil9dmFyIG49cigyMCk7ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShlKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcGFja0lFRUU3NTQoZSx0LHIpe3ZhciBuLG8saSxhPW5ldyBBcnJheShyKSxzPTgqci10LTEsdT0oMTw8cyktMSxjPXU+PjEsbD0yMz09PXQ/RCgyLC0yNCktRCgyLC03Nyk6MCxmPTAsZD1lPDB8fDA9PT1lJiYxL2U8MD8xOjA7Zm9yKGU9UChlKSxlIT1lfHxlPT09az8obz1lIT1lPzE6MCxuPXUpOihuPU0oTChlKS9qKSxlKihpPUQoMiwtbikpPDEmJihuLS0saSo9MiksZSs9bitjPj0xP2wvaTpsKkQoMiwxLWMpLGUqaT49MiYmKG4rKyxpLz0yKSxuK2M+PXU/KG89MCxuPXUpOm4rYz49MT8obz0oZSppLTEpKkQoMix0KSxuKz1jKToobz1lKkQoMixjLTEpKkQoMix0KSxuPTApKTt0Pj04O2FbZisrXT0yNTUmbyxvLz0yNTYsdC09OCk7Zm9yKG49bjw8dHxvLHMrPXQ7cz4wO2FbZisrXT0yNTUmbixuLz0yNTYscy09OCk7cmV0dXJuIGFbLS1mXXw9MTI4KmQsYX1mdW5jdGlvbiB1bnBhY2tJRUVFNzU0KGUsdCxyKXt2YXIgbixvPTgqci10LTEsaT0oMTw8byktMSxhPWk+PjEscz1vLTcsdT1yLTEsYz1lW3UtLV0sbD0xMjcmYztmb3IoYz4+PTc7cz4wO2w9MjU2KmwrZVt1XSx1LS0scy09OCk7Zm9yKG49bCYoMTw8LXMpLTEsbD4+PS1zLHMrPXQ7cz4wO249MjU2Km4rZVt1XSx1LS0scy09OCk7aWYoMD09PWwpbD0xLWE7ZWxzZXtpZihsPT09aSlyZXR1cm4gbj9OYU46Yz8tazprO24rPUQoMix0KSxsLT1hfXJldHVybihjPy0xOjEpKm4qRCgyLGwtdCl9ZnVuY3Rpb24gdW5wYWNrSTMyKGUpe3JldHVybiBlWzNdPDwyNHxlWzJdPDwxNnxlWzFdPDw4fGVbMF19ZnVuY3Rpb24gcGFja0k4KGUpe3JldHVyblsyNTUmZV19ZnVuY3Rpb24gcGFja0kxNihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTVdfWZ1bmN0aW9uIHBhY2tJMzIoZSl7cmV0dXJuWzI1NSZlLGU+PjgmMjU1LGU+PjE2JjI1NSxlPj4yNCYyNTVdfWZ1bmN0aW9uIHBhY2tGNjQoZSl7cmV0dXJuIHBhY2tJRUVFNzU0KGUsNTIsOCl9ZnVuY3Rpb24gcGFja0YzMihlKXtyZXR1cm4gcGFja0lFRUU3NTQoZSwyMyw0KX1mdW5jdGlvbiBhZGRHZXR0ZXIoZSx0LHIpe2goZVtfXSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tyXX19KX1mdW5jdGlvbiBnZXQoZSx0LHIsbil7dmFyIG89K3IsaT1wKG8pO2lmKGkrdD5lW0VdKXRocm93IHcoYik7dmFyIGE9ZVtVXS5fYixzPWkrZVt4XSx1PWEuc2xpY2UocyxzK3QpO3JldHVybiBuP3U6dS5yZXZlcnNlKCl9ZnVuY3Rpb24gc2V0KGUsdCxyLG4sbyxpKXt2YXIgYT0rcixzPXAoYSk7aWYocyt0PmVbRV0pdGhyb3cgdyhiKTtmb3IodmFyIHU9ZVtVXS5fYixjPXMrZVt4XSxsPW4oK28pLGY9MDtmPHQ7ZisrKXVbYytmXT1sW2k/Zjp0LWYtMV19dmFyIG49cig2KSxvPXIoMTIpLGk9cig0OCksYT1yKDk0KSxzPXIoMjMpLHU9cig2MSksYz1yKDgpLGw9cig1OSksZj1yKDM4KSxkPXIoMTQpLHA9cigxODEpLHk9cig1NykuZixoPXIoMTMpLmYsdj1yKDEyNiksZz1yKDY0KSxfPSJwcm90b3R5cGUiLGI9Ildyb25nIGluZGV4ISIsbT1uLkFycmF5QnVmZmVyLFI9bi5EYXRhVmlldyxPPW4uTWF0aCx3PW4uUmFuZ2VFcnJvcixrPW4uSW5maW5pdHksUz1tLFA9Ty5hYnMsRD1PLnBvdyxNPU8uZmxvb3IsTD1PLmxvZyxqPU8uTE4yLFU9bz8iX2IiOiJidWZmZXIiLEU9bz8iX2wiOiJieXRlTGVuZ3RoIix4PW8/Il9vIjoiYnl0ZU9mZnNldCI7aWYoYS5BQlYpe2lmKCFjKGZ1bmN0aW9uKCl7bSgxKX0pfHwhYyhmdW5jdGlvbigpe25ldyBtKC0xKX0pfHxjKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtLG5ldyBtKDEuNSksbmV3IG0oTmFOKSwiQXJyYXlCdWZmZXIiIT1tLm5hbWV9KSl7bT1mdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLG0pLG5ldyBTKHAoZSkpfTtmb3IodmFyIEEsST1tW19dPVNbX10sQz15KFMpLFQ9MDtDLmxlbmd0aD5UOykoQT1DW1QrK10paW4gbXx8cyhtLEEsU1tBXSk7aXx8KEkuY29uc3RydWN0b3I9bSl9dmFyIHE9bmV3IFIobmV3IG0oMikpLEg9UltfXS5zZXRJbnQ4O3Euc2V0SW50OCgwLDIxNDc0ODM2NDgpLHEuc2V0SW50OCgxLDIxNDc0ODM2NDkpLCFxLmdldEludDgoMCkmJnEuZ2V0SW50OCgxKXx8dShSW19dLHtzZXRJbnQ4OmZ1bmN0aW9uKGUsdCl7SC5jYWxsKHRoaXMsZSx0PDwyND4+MjQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe0guY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX19LCEwKX1lbHNlIG09ZnVuY3Rpb24oZSl7bCh0aGlzLG0sIkFycmF5QnVmZmVyIik7dmFyIHQ9cChlKTt0aGlzLl9iPXYuY2FsbChuZXcgQXJyYXkodCksMCksdGhpc1tFXT10fSxSPWZ1bmN0aW9uKGUsdCxyKXtsKHRoaXMsUiwiRGF0YVZpZXciKSxsKGUsbSwiRGF0YVZpZXciKTt2YXIgbj1lW0VdLG89Zih0KTtpZihvPDB8fG8+bil0aHJvdyB3KCJXcm9uZyBvZmZzZXQhIik7aWYocj12b2lkIDA9PT1yP24tbzpkKHIpLG8rcj5uKXRocm93IHcoIldyb25nIGxlbmd0aCEiKTt0aGlzW1VdPWUsdGhpc1t4XT1vLHRoaXNbRV09cn0sbyYmKGFkZEdldHRlcihtLCJieXRlTGVuZ3RoIiwiX2wiKSxhZGRHZXR0ZXIoUiwiYnVmZmVyIiwiX2IiKSxhZGRHZXR0ZXIoUiwiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ5dGVPZmZzZXQiLCJfbyIpKSx1KFJbX10se2dldEludDg6ZnVuY3Rpb24oZSl7cmV0dXJuIGdldCh0aGlzLDEsZSlbMF08PDI0Pj4yNH0sZ2V0VWludDg6ZnVuY3Rpb24oZSl7cmV0dXJuIGdldCh0aGlzLDEsZSlbMF19LGdldEludDE2OmZ1bmN0aW9uKGUpe3ZhciB0PWdldCh0aGlzLDIsZSxhcmd1bWVudHNbMV0pO3JldHVybih0WzFdPDw4fHRbMF0pPDwxNj4+MTZ9LGdldFVpbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4gdFsxXTw8OHx0WzBdfSxnZXRJbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKX0sZ2V0VWludDMyOmZ1bmN0aW9uKGUpe3JldHVybiB1bnBhY2tJMzIoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSkpPj4+MH0sZ2V0RmxvYXQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSUVFRTc1NChnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSwyMyw0KX0sZ2V0RmxvYXQ2NDpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSUVFRTc1NChnZXQodGhpcyw4LGUsYXJndW1lbnRzWzFdKSw1Miw4KX0sc2V0SW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldFVpbnQ4OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMSxlLHBhY2tJOCx0KX0sc2V0SW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldFVpbnQxNjpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDIsZSxwYWNrSTE2LHQsYXJndW1lbnRzWzJdKX0sc2V0SW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldFVpbnQzMjpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDQsZSxwYWNrSTMyLHQsYXJndW1lbnRzWzJdKX0sc2V0RmxvYXQzMjpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDQsZSxwYWNrRjMyLHQsYXJndW1lbnRzWzJdKX0sc2V0RmxvYXQ2NDpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDgsZSxwYWNrRjY0LHQsYXJndW1lbnRzWzJdKX19KTtnKG0sIkFycmF5QnVmZmVyIiksZyhSLCJEYXRhVmlldyIpLHMoUltfXSxhLlZJRVcsITApLHQuQXJyYXlCdWZmZXI9bSx0LkRhdGFWaWV3PVJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM0KSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzYpKCJrZXlzIiksbz1yKDk4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPW8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cigyMSksaT1vWyJfX2NvcmUtanNfc2hhcmVkX18iXXx8KG9bIl9fY29yZS1qc19zaGFyZWRfXyJdPXt9KTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlbZV18fChpW2VdPXZvaWQgMCE9PXQ/dDp7fSl9KSgidmVyc2lvbnMiLFtdKS5wdXNoKHt2ZXJzaW9uOm4udmVyc2lvbixtb2RlOnIoNzgpPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMTggRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KSxvPXIoMTEpLGk9cig3MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxhPXt9O2FbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixhKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ1KSxvPXIoMjEpLmRvY3VtZW50LGk9bihvKSYmbihvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLG89cig0MzIpLGk9cigxMzcpLGE9cigxMzUpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LHU9ZnVuY3Rpb24oKXt2YXIgZSx0PXIoMTM5KSgiaWZyYW1lIiksbj1pLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDE5NSkuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IixlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtpW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KHMucHJvdG90eXBlPW4oZSkscj1uZXcgcyxzLnByb3RvdHlwZT1udWxsLHJbYV09ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc3KSxvPXIoMjIpKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxhPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319O2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1hKHQ9T2JqZWN0KGUpLG8pKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTQyKSxvPXIoMjIpKCJpdGVyYXRvciIpLGk9cig3MSk7ZS5leHBvcnRzPXIoMTEpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQcm9taXNlQ2FwYWJpbGl0eShlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bih0KSx0aGlzLnJlamVjdD1uKHIpfXZhciBuPXIoOTkpO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoZSl9fSxmdW5jdGlvbihlLHQpe3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbihlLHQscil7dC5mPXIoMjIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSksbz1yKDExKSxpPXIoNzgpLGE9cigxNDYpLHM9cig0NCkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9by5TeW1ib2x8fChvLlN5bWJvbD1pP3t9Om4uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxzKHQsZSx7dmFsdWU6YS5mKGUpfSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig4MSksbz1yKDc5KSxpPXIoNTApLGE9cigxNDApLHM9cig2MiksdT1yKDE5MSksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDUxKT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1pKGUpLHQ9YSh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihzKGUsdCkpcmV0dXJuIG8oIW4uZi5jYWxsKGUsdCksZVt0XSl9fSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBPYnNlcnZlcihlLHQscixuLG8saSl7ZnVuY3Rpb24gZGVsaXZlcihlLG4pe2lmKGRlbGl2ZXIuZGVsYXk9biwhZGVsaXZlci5wYXVzZSYmcy5jaGFuZ2VzZXQubGVuZ3RoPjApe2lmKCFlKXt2YXIgbz1zLmNoYW5nZXNldC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIXJ8fHIuaW5kZXhPZihlLnR5cGUpPj0wfSk7by5sZW5ndGg+MCYmdChvKX1zLmNoYW5nZXNldD1bXX19dmFyIGEscz10aGlzO3JldHVybiBkZWxpdmVyLnBhdXNlPW8sZGVsaXZlci5kZWxheT1pLHMuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIl9fb2JzZXJ2ZXJfXyI9PT10P3M6InVub2JzZXJ2ZSI9PT10P2Z1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC51bm9ic2VydmUoZSksZX06ImRlbGl2ZXIiPT09dD9kZWxpdmVyOmVbdF19LHMudGFyZ2V0PWUscy5jaGFuZ2VzZXQ9W10scy50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19ffHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fb2JzZXJ2ZXJDYWxsYmFja3NfXyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiExLHZhbHVlOltdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fb2JzZXJ2ZXJzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pKSxzLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX18ucHVzaCh0KSxzLnRhcmdldC5fX29ic2VydmVyc19fLnB1c2godGhpcyksYT1uZXcgUHJveHkoZSxzKSxkZWxpdmVyKCExLGkpLGF9T2JqZWN0Lm9ic2VydmV8fCJmdW5jdGlvbiIhPXR5cGVvZiBQcm94eXx8KE9ic2VydmVyLnByb3RvdHlwZS5kZWxpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KG51bGwsImRlbGl2ZXIiKX0sT2JzZXJ2ZXIucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7dmFyIG49ZVt0XSxvPXZvaWQgMD09PW4/ImFkZCI6InVwZGF0ZSI7aWYoZVt0XT1yLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYoIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2Yobyk+PTApKXt2YXIgaT17b2JqZWN0OmUsbmFtZTp0LHR5cGU6b30sYT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLHM9dGhpcy5kZWxpdmVyKCk7InVwZGF0ZSI9PT1vJiYoaS5vbGRWYWx1ZT1uKSx0aGlzLmNoYW5nZXNldC5wdXNoKGkpLGEmJnMoITEsIm51bWJlciI9PXR5cGVvZiBzLmRlbGF5P3MuZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuZGVsZXRlUHJvcGVydHk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lW3RdO2lmKGRlbGV0ZSBlW3RdLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigiZGVsZXRlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZToiZGVsZXRlIixvbGRWYWx1ZTpyfSxvPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsaT10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLG8mJmkoITEsIm51bWJlciI9PXR5cGVvZiBpLmRlbGF5P2kuZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsciksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJyZWNvbmZpZ3VyZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6InJlY29uZmlndXJlIn0sbz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGk9dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxvJiZpKCExLCJudW1iZXIiPT10eXBlb2YgaS5kZWxheT9pLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLnNldFByb3RvdHlwZU9mPWZ1bmN0aW9uKGUsdCl7dmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigic2V0UHJvdG90eXBlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOiJfX3Byb3RvX18iLHR5cGU6InNldFByb3RvdHlwZSIsb2xkVmFsdWU6cn0sbz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGk9dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxvJiZpKCExLCJudW1iZXIiPT10eXBlb2YgaS5kZWxheT9pLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKGUpe2lmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhlKSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInByZXZlbnRFeHRlbnNpb25zIik+PTApe3ZhciB0PXtvYmplY3Q6ZSx0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyJ9LHI9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxuPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2godCksciYmbighMSwibnVtYmVyIj09dHlwZW9mIG4uZGVsYXk/bi5kZWxheToxMCl9cmV0dXJuITB9LE9iamVjdC5vYnNlcnZlPWZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtyZXR1cm4gbmV3IE9ic2VydmVyKGUsdCxyLG4sbyxpKX0sT2JqZWN0LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fKXtpZighdClyZXR1cm4gZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKSx2b2lkIGUuX19vYnNlcnZlcnNfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dD09PXImJihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UobiwxKSxkZWxldGUgZS5fX29ic2VydmVyc19fW25dLmNhbGxiYWNrLGUuX19vYnNlcnZlcnNfXy5zcGxpY2UobiwxKSl9KX19LEFycmF5Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixvLGkpe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBBcnJheS5vYnNlcnZlciBpcyBub3QgYW4gQXJyYXkiKTtyPXJ8fFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwic3BsaWNlIl07dmFyIGE9bmV3IFByb3h5KGUse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiJ1bm9ic2VydmUiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gZT9PYmplY3QudW5vYnNlcnZlKHQsZSk6dC51bm9ic2VydmUoKX06InNwbGljZSI9PT1uP2Z1bmN0aW9uKG4sbyl7aWYoIm51bWJlciIhPXR5cGVvZiBufHwibnVtYmVyIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgdHdvIGFyZ3VtZW50cyB0byBBcnJheSBzcGxpY2UgYXJlIG5vdCBudW1iZXIsIG51bWJlciIpO3ZhciBpPXRoaXMuc2xpY2UobixuK28pLGE9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50cy5sZW5ndGgtMjowLHU9e29iamVjdDplLHR5cGU6InNwbGljZSIsaW5kZXg6bixyZW1vdmVkOmksYWRkZWRDb3VudDphfTtpZih0LnNwbGljZS5hcHBseSh0LGFyZ3VtZW50cyksci5pbmRleE9mKCJzcGxpY2UiKT49MCl7dmFyIG49MD09PXMuX19vYnNlcnZlcl9fLmNoYW5nZXNldC5sZW5ndGgsYz1zLl9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7cy5fX29ic2VydmVyX18uY2hhbmdlc2V0LnB1c2godSksbiYmYyghMSwibnVtYmVyIj09dHlwZW9mIGMuZGVsYXk/Yy5kZWxheToxMCl9fToicHVzaCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aCwwLGUpfToicG9wIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKX06InVuc2hpZnQiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwwLGUpfToic2hpZnQiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSgwLDEpfTp0W25dfX0pLHM9T2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ibGVuZ3RoIiE9PWUubmFtZSYmImFkZCIhPT1lLm5hbWUmJighcnx8ci5pbmRleE9mKGUudHlwZSk+PTApfSk7bi5sZW5ndGg+MCYmdChuKX0scixuLG8saSk7cmV0dXJuIHN9LEFycmF5LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVub2JzZXJ2ZSh0KX0pLE9iamVjdC5kZWVwT2JzZXJ2ZT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gcmVvYnNlcnZlKGUscil7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihvKXtpZigoIm9iamVjdCI9PT1uKGVbb10pfHwiYXJyYXkiPT09bihlW29dKSkmJiFlW29dLmhhc093blByb3BlcnR5KCJfX29ic2VydmVyc19fIikpe3ZhciBpPXIuc2xpY2UoMCk7aS5wdXNoKG8pLGVbb109T2JqZWN0LmRlZXBPYnNlcnZlKGVbb10sdCxpKX19KX1yPXJ8fFtdO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpfTtyZXR1cm4gcmVvYnNlcnZlKGUsciksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihlKXtmdW5jdGlvbiByZWN1cnNlKGUsdCxyLG8saSl7aWYobyBpbnN0YW5jZW9mIE9iamVjdCl7T2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbihhKXtpZighcnx8clthXSE9PW9bYV0pe3ZhciBzPXImJnZvaWQgMCE9PXJbYV0/clthXTp2b2lkIDAsdT12b2lkIDA9PT1zPyJhZGQiOiJ1cGRhdGUiLGM9aSsiLiIrYTtuLnB1c2goe25hbWU6ZSxvYmplY3Q6dCx0eXBlOnUsb2xkVmFsdWU6cyxuZXdWYWx1ZTpvW2FdLGtleXBhdGg6Y30pLHJlY3Vyc2UoZSx0LHMsb1thXSxjKX19KX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBhPU9iamVjdC5rZXlzKHIpO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgcz1udWxsPT09bz8idXBkYXRlIjoiZGVsZXRlIix1PWkrIi4iK2E7bi5wdXNoKHtuYW1lOmUsb2JqZWN0OnQsdHlwZTpzLG9sZFZhbHVlOnJbYV0sbmV3VmFsdWU6byxrZXlwYXRoOnV9KSxyZWN1cnNlKGUsdCxyW2FdLHZvaWQgMCx1KX0pfX12YXIgbj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KHIubGVuZ3RoPjA/ci5qb2luKCIuIikrIi4iOiIiKStlLm5hbWU7InVwZGF0ZSIhPT1lLnR5cGUmJiJhZGQiIT09ZS50eXBlfHxyZW9ic2VydmUoZS5vYmplY3Qsciksbi5wdXNoKHtuYW1lOmUubmFtZSxvYmplY3Q6ZS5vYmplY3QsdHlwZTplLnR5cGUsb2xkVmFsdWU6ZS5vbGRWYWx1ZSxuZXdWYWx1ZTplLm9iamVjdFtlLm5hbWVdLGtleXBhdGg6dH0pLHJlY3Vyc2UoZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQobil9KX19KCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGYpLHA9cig3KSx5PWQuZ2V0TG9nZ2VyKCJSZWdpc3RyYXRpb25TdGF0dXMiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVnaXN0cmF0aW9uU3RhdHVzKGUsdCxyLG4peygwLHUuZGVmYXVsdCkodGhpcyxSZWdpc3RyYXRpb25TdGF0dXMpLHRoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMPWUsdGhpcy5fcnVudGltZVVSTD10LHRoaXMuX2RvbWFpbj0oMCxwLmRpdmlkZVVSTCkodCkuZG9tYWluLHRoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkw9cix0aGlzLl9tZXNzYWdlQnVzPW4sdGhpcy5fc3Vic2NyaXB0aW9uU2V0PSExLHRoaXMuX3N1YnNjcmliZXJzPXtsaXZlOnt9LGRpc2Nvbm5lY3RlZDp7fX19cmV0dXJuKDAsbC5kZWZhdWx0KShSZWdpc3RyYXRpb25TdGF0dXMsW3trZXk6Im9uTGl2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5fc3Vic2NyaXB0aW9uU2V0PyhyLl9zdWJzY3JpYmVycy5saXZlW2VdPXQsbigpKTpyLl9zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7ci5fc3Vic2NyaWJlcnMubGl2ZVtlXT10LG4oKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSl9KX19LHtrZXk6Im9uRGlzY29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl9zdWJzY3JpcHRpb25TZXQ/KHIuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZFtlXT10LG4oKSk6ci5fc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbigpe3IuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZFtlXT10LG4oKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSl9KX19LHtrZXk6Il9zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJzdWJzY3JpYmUiLGZyb206dGhpcy5fZGlzY292ZXJlZE9iamVjdFVSTCx0bzp0aGlzLl9ydW50aW1lVVJMKyIvc3Vic2NyaXB0aW9ucyIsYm9keTp7cmVzb3VyY2VzOlt0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCsiL3JlZ2lzdHJhdGlvbiJdfX07cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24odCl7eS5sb2coIltEaXNjb3ZlcmVkT2JqZWN0LnN1YnNjcmliZV0gIitlLl9yZWdpc3RyeU9iamVjdFVSTCsiIHJjdmVkIHJlcGx5ICIsdCksMjAwPT09dC5ib2R5LmNvZGU/KGUuX2dlbmVyYXRlTGlzdGVuZXIoZS5fcmVnaXN0cnlPYmplY3RVUkwrIi9yZWdpc3RyYXRpb24iKSxlLl9zdWJzY3JpcHRpb25TZXQ9ITAscigpKTooeS5lcnJvcigiRXJyb3Igc3Vic2NyaWJpbmcgIixlLl9yZWdpc3RyeU9iamVjdFVSTCksbigiRXJyb3Igc3Vic2NyaWJpbmcgIitlLl9yZWdpc3RyeU9iamVjdFVSTCkpfSl9KX19LHtrZXk6Il9nZW5lcmF0ZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXt5LmxvZygiW0Rpc2NvdmVyZWRPYmplY3Qubm90aWZpY2F0aW9uXSAiK3QuX3JlZ2lzdHJ5T2JqZWN0VVJMKyI6ICIsZSksdC5fcHJvY2Vzc05vdGlmaWNhdGlvbihlKX0pfX0se2tleToiX3Byb2Nlc3NOb3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkudmFsdWU7c2V0VGltZW91dChmdW5jdGlvbigpeygwLG8uZGVmYXVsdCkodC5fc3Vic2NyaWJlcnNbcl0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3N1YnNjcmliZXJzW3JdW2VdKCl9KX0sNWUzKX19LHtrZXk6Il91bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnRoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwsdG86dGhpcy5fcnVudGltZVVSTCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlOnRoaXMuX3JlZ2lzdHJ5T2JqZWN0VVJMKyIvcmVnaXN0cmF0aW9uIn19O3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe3kubG9nKCJbRGlzY292ZXJlZE9iamVjdC51bnN1YnNjcmliZV0gIitlLl9yZWdpc3RyeU9iamVjdFVSTCsiIHJjdmVkIHJlcGx5ICIsdCksMjAwPT09dC5ib2R5LmNvZGU/cigpOih5LmVycm9yKCJFcnJvciB1bnN1YnNjcmliaW5nICIsZS5fcmVnaXN0cnlPYmplY3RVUkwpLG4oIkVycm9yIHVuc3Vic2NyaWJpbmcgIitlLl9yZWdpc3RyeU9iamVjdFVSTCkpfSl9KX19LHtrZXk6InVuc3Vic2NyaWJlTGl2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UgaW4gdC5fc3Vic2NyaWJlcnMubGl2ZSYmZGVsZXRlIHQuX3N1YnNjcmliZXJzLmxpdmVbZV0sdC5fYXJlU3Vic2NyaXB0aW9uc0VtcHR5KCk/dC5fdW5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSk6cigpfSl9fSx7a2V5OiJ1bnN1YnNjcmliZURpc2Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UgaW4gdC5fc3Vic2NyaWJlcnMuZGlzY29ubmVjdGVkPyhkZWxldGUgdC5fc3Vic2NyaWJlcnMuZGlzY29ubmVjdGVkW2VdLHQuX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSgpP3QuX3Vuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiByKCl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pOnIoKSk6bihlKyIgZG9lc24ndCBzdWJzY3JpYmUgb25EaXNjb25uZWN0ZWQgZm9yICIrdC5fcmVnaXN0cnlPYmplY3RVUkwpfSl9fSx7a2V5OiJfYXJlU3Vic2NyaXB0aW9uc0VtcHR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09KDAsby5kZWZhdWx0KSh0aGlzLl9zdWJzY3JpYmVycy5saXZlKS5sZW5ndGgmJjA9PT0oMCxvLmRlZmF1bHQpKHRoaXMuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZCkubGVuZ3RofX1dKSxSZWdpc3RyYXRpb25TdGF0dXN9KCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lQ29uZmlndXJhdGlvbj17c3RvcmFnZVNjaGVtYXM6e2NhcGFiaWxpdGllczp7Y2FwYWJpbGl0aWVzOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHN1YnNjcmlwdGlvbnM6e3N1YnNjcmlwdGlvbnM6ImtleSx2ZXJzaW9uLHZhbHVlIn0scnVudGltZTp7InJ1bnRpbWU6VVJMIjoia2V5LHZlcnNpb24sdmFsdWUiLCJwMnBIYW5kbGVyOlVSTCI6ImtleSx2ZXJzaW9uLHZhbHVlIn0scmVnaXN0cnk6eyJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmVnaXN0cnk6SHlwZXJ0eVVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGNyeXB0b01hbmFnZXI6e3VzZXJBc3ltbWV0cmljS2V5OiJrZXksdmVyc2lvbix2YWx1ZSIsZGF0YU9iamVjdFNlc3Npb25LZXlzOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGlkZW50aXR5OnthY2Nlc3NUb2tlbnM6ImtleSx2ZXJzaW9uLHZhbHVlIixpZGVudGl0aWVzOiJ1c2VyVVJMLCB1c2VyUHJvZmlsZS5lbWFpbCwgdXNlclByb2ZpbGUudXNlclVSTCwgdXNlclByb2ZpbGUubmFtZSJ9LHJ1bnRpbWVDYXRhbG9ndWU6e3J1bnRpbWVDYXRhbG9ndWU6IiZjZ3VpZCwgYWNjZXNzQ29udHJvbFBvbGljeSwgY29uc3RyYWludHMsIGRhdGFPYmplY3RzLCBoeXBlcnR5VHlwZSwgb2JqZWN0TmFtZSwgc291cmNlUGFja2FnZSwgdmVyc2lvbiJ9LHBvbGljeTp7InJldGhpbms6YWN0aXZlUG9saWN5Ijoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOmdyb3VwcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazp1c2VyUG9saWNpZXMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6c3BQb2xpY2llcyI6ImtleSx2ZXJzaW9uLHZhbHVlIn0sc3luY2hlck1hbmFnZXI6eyJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUifSxoeXBlcnR5UmVzb3VyY2VzOntoeXBlcnR5UmVzb3VyY2VzOiImcmVzb3VyY2VVUkwsIG5hbWUsIGNvbnRlbnRVcmwsIGNvbnRlbnQsIGNyZWF0ZWQsIHJlcG9ydGVyLCByZXNvdXJjZVR5cGUifX0scnVudGltZVVSTFM6e3JlZ2lzdHJ5OntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiJyZWdpc3RyeSJ9LGlkZW50aXR5TW9kdWxlOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvaWRtIn0scnVudGltZVVBOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvdWEifSxjYXRhbG9ndWU6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9jYXRhbG9ndWUifSxncmFwaENvbm5lY3Rvcjp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2dyYXBoIn0sc3luY01hbmFnZXI6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9zbSJ9fSxjYXRhbG9ndWVVUkxzOntwcm90b2NvbHN0dWI6e3ByZWZpeDoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIixzdWZmaXg6Ii8ud2VsbC1rbm93bi9wcm90b2NvbHN0dWIvIixmYWxsYmFjazoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJWRvbWFpbiUvLndlbGwta25vd24vcHJvdG9jb2xzdHViLyJ9LGlkcFByb3h5OntwcmVmaXg6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIsc3VmZml4OiIvLndlbGwta25vd24vaWRwLXByb3h5LyIsZmFsbGJhY2s6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiVkb21haW4lLy53ZWxsLWtub3duL2lkcC1wcm94eS8ifX0sbXNnTm9kZVVSTDp7cHJlZml4OiJkb21haW46Ly9tc2ctbm9kZS4iLHN1ZmZpeDoiIixoeXBlcnR5QWRkcmVzc0FsbG9jYXRpb246Ii9oeXBlcnR5LWFkZHJlc3MtYWxsb2NhdGlvbiIsb2JqZWN0QWRkcmVzc0FsbG9jYXRpb246Ii9vYmplY3QtYWRkcmVzcy1hbGxvY2F0aW9uIixzdWJzY3JpcHRpb25NYW5hZ2VtZW50OiIvc20ifSxkb21haW5SZWdpc3RyeVVSTDp7cHJlZml4OiJkb21haW46Ly9yZWdpc3RyeS4iLHN1ZmZpeDoiIn0sZ2xvYmFsUmVnaXN0cnlVUkw6Imdsb2JhbDovL3JlZ2lzdHJ5LiJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcGVyYXRvcnMoKXsoMCxvLmRlZmF1bHQpKHRoaXMsT3BlcmF0b3JzKX1yZXR1cm4oMCxhLmRlZmF1bHQpKE9wZXJhdG9ycyxbe2tleToiYW5kIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXX19LHtrZXk6ImJldHdlZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGVbMF1bMF0pLHI9cGFyc2VJbnQoZVswXVsxXSksbj1lWzFdO3JldHVybiByPHQmJihuPW48dD9uKz0yNDAwOm4scis9MjQwMCksbj50JiZuPHJ9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiIqIj09PVN0cmluZyhlWzBdKXx8U3RyaW5nKGVbMF0pPT09U3RyaW5nKGVbMV0pfX0se2tleToiZ3JlYXRlclRoYW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPmVbMF19fSx7a2V5OiJpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT4tMX19LHtrZXk6Imxlc3NUaGFuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXTxlWzBdfX0se2tleToibm90Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hZVswXX19LHtrZXk6Im9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXXx8ZVsxXX19XSksT3BlcmF0b3JzfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDE1MiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb25kaXRpb24oZSx0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxDb25kaXRpb24pLHRoaXMuYXR0cmlidXRlPWUsdGhpcy5vcGVyYXRvcj10LHRoaXMucGFyYW1zPXIsdGhpcy5vcGVyYXRvcnM9bmV3IHUuZGVmYXVsdH1yZXR1cm4oMCxhLmRlZmF1bHQpKENvbmRpdGlvbixbe2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2VbdGhpcy5hdHRyaWJ1dGVdPXttZXNzYWdlOnR9O3ZhciByPWVbdGhpcy5hdHRyaWJ1dGVdLG49dm9pZCAwO3JldHVybiJpbiIhPT10aGlzLm9wZXJhdG9yfHxBcnJheS5pc0FycmF5KHRoaXMucGFyYW1zKT90aGlzLm9wZXJhdG9yc1t0aGlzLm9wZXJhdG9yXShbdGhpcy5wYXJhbXMscl0pOihuPWUuZ2V0R3JvdXAodGhpcy5wYXJhbXMsdC50byksdGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW24scl0pKX19XSksQ29uZGl0aW9ufSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7dmFyIHI7cj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtyPXJ8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fCgwLGV2YWwpKCJ0aGlzIil9Y2F0Y2goZSl7Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoMTIpJiYhcig4KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMDYpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDEwKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjcpLG89cigyOCksaT1yKDg0KSghMSksYT1yKDEwOCkoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLHU9MCxjPVtdO2ZvcihyIGluIHMpciE9YSYmbihzLHIpJiZjLnB1c2gocik7Zm9yKDt0Lmxlbmd0aD51OyluKHMscj10W3UrK10pJiYofmkoYyxyKXx8Yy5wdXNoKHIpKTtyZXR1cm4gY319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxvPXIoNSksaT1yKDU0KTtlLmV4cG9ydHM9cigxMik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixhPWkodCkscz1hLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWFbdSsrXSx0W3JdKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI4KSxvPXIoNTcpLmYsaT17fS50b1N0cmluZyxhPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10scz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2goZSl7cmV0dXJuIGEuc2xpY2UoKX19O2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBhJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP3MoZSk6byhuKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1NCksbz1yKDg1KSxpPXIoNzQpLGE9cigxOSkscz1yKDczKSx1PU9iamVjdC5hc3NpZ247ZS5leHBvcnRzPSF1fHxyKDgpKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtyXT03LG4uc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbigiIikhPW59KT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1hKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxjPTEsbD1vLmYsZj1pLmY7dT5jOylmb3IodmFyIGQscD1zKGFyZ3VtZW50c1tjKytdKSx5PWw/bihwKS5jb25jYXQobChwKSk6bihwKSxoPXkubGVuZ3RoLHY9MDtoPnY7KWYuY2FsbChwLGQ9eVt2KytdKSYmKHJbZF09cFtkXSk7cmV0dXJuIHJ9OnV9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMCksbz1yKDkpLGk9cigxNjIpLGE9W10uc2xpY2Uscz17fSx1PWZ1bmN0aW9uKGUsdCxyKXtpZighKHQgaW4gcykpe2Zvcih2YXIgbj1bXSxvPTA7bzx0O28rKyluW29dPSJhWyIrbysiXSI7c1t0XT1GdW5jdGlvbigiRixhIiwicmV0dXJuIG5ldyBGKCIrbi5qb2luKCIsIikrIikiKX1yZXR1cm4gc1t0XShlLHIpfTtlLmV4cG9ydHM9RnVuY3Rpb24uYmluZHx8ZnVuY3Rpb24oZSl7dmFyIHQ9bih0aGlzKSxyPWEuY2FsbChhcmd1bWVudHMsMSkscz1mdW5jdGlvbigpe3ZhciBuPXIuY29uY2F0KGEuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHM/dSh0LG4ubGVuZ3RoLG4pOmkodCxuLGUpfTtyZXR1cm4gbyh0LnByb3RvdHlwZSkmJihzLnByb3RvdHlwZT10LnByb3RvdHlwZSksc319LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLnBhcnNlSW50LG89cig2NSkudHJpbSxpPXIoMTEyKSxhPS9eWy0rXT8wW3hYXS87ZS5leHBvcnRzPTghPT1uKGkrIjA4Iil8fDIyIT09bihpKyIweDE2Iik/ZnVuY3Rpb24oZSx0KXt2YXIgcj1vKFN0cmluZyhlKSwzKTtyZXR1cm4gbihyLHQ+Pj4wfHwoYS50ZXN0KHIpPzE2OjEwKSl9Om59LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLnBhcnNlRmxvYXQsbz1yKDY1KS50cmltO2UuZXhwb3J0cz0xL24ocigxMTIpKyItMCIpIT0tMS8wP2Z1bmN0aW9uKGUpe3ZhciB0PW8oU3RyaW5nKGUpLDMpLHI9bih0KTtyZXR1cm4gMD09PXImJiItIj09dC5jaGFyQXQoMCk/LTA6cn06bn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmIk51bWJlciIhPW4oZSkpdGhyb3cgVHlwZUVycm9yKHQpO3JldHVybitlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hbihlKSYmaXNGaW5pdGUoZSkmJm8oZSk9PT1lfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9TWF0aC5sb2cxcHx8ZnVuY3Rpb24oZSl7cmV0dXJuKGU9K2UpPi0xZS04JiZlPDFlLTg/ZS1lKmUvMjpNYXRoLmxvZygxK2UpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTE1KSxvPU1hdGgucG93LGk9bygyLC01MiksYT1vKDIsLTIzKSxzPW8oMiwxMjcpKigyLWEpLHU9bygyLC0xMjYpLGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUrMS9pLTEvaX07ZS5leHBvcnRzPU1hdGguZnJvdW5kfHxmdW5jdGlvbihlKXt2YXIgdCxyLG89TWF0aC5hYnMoZSksbD1uKGUpO3JldHVybiBvPHU/bCpjKG8vdS9hKSp1KmE6KHQ9KDErYS9pKSpvLHI9dC0odC1vKSxyPnN8fHIhPXI/bCooMS8wKTpsKnIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3RyeXtyZXR1cm4gbz90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgaT1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1pJiZuKGkuY2FsbChlKSksdH19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMCksbz1yKDE5KSxpPXIoNzMpLGE9cigxNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHMsdSl7bih0KTt2YXIgYz1vKGUpLGw9aShjKSxmPWEoYy5sZW5ndGgpLGQ9dT9mLTE6MCxwPXU/LTE6MTtpZihyPDIpZm9yKDs7KXtpZihkIGluIGwpe3M9bFtkXSxkKz1wO2JyZWFrfWlmKGQrPXAsdT9kPDA6Zjw9ZCl0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKX1mb3IoO3U/ZD49MDpmPmQ7ZCs9cClkIGluIGwmJihzPXQocyxsW2RdLGQsYykpO3JldHVybiBzfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE5KSxvPXIoNTUpLGk9cigxNCk7ZS5leHBvcnRzPVtdLmNvcHlXaXRoaW58fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bih0aGlzKSxhPWkoci5sZW5ndGgpLHM9byhlLGEpLHU9byh0LGEpLGM9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsbD1NYXRoLm1pbigodm9pZCAwPT09Yz9hOm8oYyxhKSktdSxhLXMpLGY9MTtmb3IodTxzJiZzPHUrbCYmKGY9LTEsdSs9bC0xLHMrPWwtMSk7bC0tID4wOyl1IGluIHI/cltzXT1yW3VdOmRlbGV0ZSByW3NdLHMrPWYsdSs9ZjtyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0sZnVuY3Rpb24oZSx0LHIpe3IoMTIpJiYiZyIhPS8uL2cuZmxhZ3MmJnIoMTMpLmYoUmVnRXhwLnByb3RvdHlwZSwiZmxhZ3MiLHtjb25maWd1cmFibGU6ITAsZ2V0OnIoODkpfSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm57ZTohMSx2OmUoKX19Y2F0Y2goZSl7cmV0dXJue2U6ITAsdjplfX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1KSxvPXIoOSksaT1yKDEzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYobihlKSxvKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgcj1pLmYoZSk7cmV0dXJuKDAsci5yZXNvbHZlKSh0KSxyLnByb21pc2V9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTc3KSxvPXIoNjcpO2UuZXhwb3J0cz1yKDkzKSgiTWFwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRFbnRyeShvKHRoaXMsIk1hcCIpLGUpO3JldHVybiB0JiZ0LnZ9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiBuLmRlZihvKHRoaXMsIk1hcCIpLDA9PT1lPzA6ZSx0KX19LG4sITApfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTMpLmYsbz1yKDU2KSxpPXIoNjEpLGE9cigzMikscz1yKDU5KSx1PXIoNjApLGM9cigxMTgpLGw9cigxNzIpLGY9cig1OCksZD1yKDEyKSxwPXIoNDcpLmZhc3RLZXkseT1yKDY3KSxoPWQ/Il9zIjoic2l6ZSIsdj1mdW5jdGlvbihlLHQpe3ZhciByLG49cCh0KTtpZigiRiIhPT1uKXJldHVybiBlLl9pW25dO2ZvcihyPWUuX2Y7cjtyPXIubilpZihyLms9PXQpcmV0dXJuIHJ9O2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsYyl7dmFyIGw9ZShmdW5jdGlvbihlLG4pe3MoZSxsLHQsIl9pIiksZS5fdD10LGUuX2k9byhudWxsKSxlLl9mPXZvaWQgMCxlLl9sPXZvaWQgMCxlW2hdPTAsdm9pZCAwIT1uJiZ1KG4scixlW2NdLGUpfSk7cmV0dXJuIGkobC5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXkodGhpcyx0KSxyPWUuX2ksbj1lLl9mO247bj1uLm4pbi5yPSEwLG4ucCYmKG4ucD1uLnAubj12b2lkIDApLGRlbGV0ZSByW24uaV07ZS5fZj1lLl9sPXZvaWQgMCxlW2hdPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgcj15KHRoaXMsdCksbj12KHIsZSk7aWYobil7dmFyIG89bi5uLGk9bi5wO2RlbGV0ZSByLl9pW24uaV0sbi5yPSEwLGkmJihpLm49byksbyYmKG8ucD1pKSxyLl9mPT1uJiYoci5fZj1vKSxyLl9sPT1uJiYoci5fbD1pKSxyW2hdLS19cmV0dXJuISFufSxmb3JFYWNoOmZ1bmN0aW9uKGUpe3kodGhpcyx0KTtmb3IodmFyIHIsbj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cj1yP3Iubjp0aGlzLl9mOylmb3IobihyLnYsci5rLHRoaXMpO3ImJnIucjspcj1yLnB9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXYoeSh0aGlzLHQpLGUpfX0pLGQmJm4obC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHQpW2hdfX0pLGx9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpPXYoZSx0KTtyZXR1cm4gaT9pLnY9cjooZS5fbD1pPXtpOm89cCh0LCEwKSxrOnQsdjpyLHA6bj1lLl9sLG46dm9pZCAwLHI6ITF9LGUuX2Z8fChlLl9mPWkpLG4mJihuLm49aSksZVtoXSsrLCJGIiE9PW8mJihlLl9pW29dPWkpKSxlfSxnZXRFbnRyeTp2LHNldFN0cm9uZzpmdW5jdGlvbihlLHQscil7YyhlLHQsZnVuY3Rpb24oZSxyKXt0aGlzLl90PXkoZSx0KSx0aGlzLl9rPXIsdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1lLl9rLHI9ZS5fbDtyJiZyLnI7KXI9ci5wO3JldHVybiBlLl90JiYoZS5fbD1yPXI/ci5uOmUuX3QuX2YpPyJrZXlzIj09dD9sKDAsci5rKToidmFsdWVzIj09dD9sKDAsci52KTpsKDAsW3IuayxyLnZdKTooZS5fdD12b2lkIDAsbCgxKSl9LHI/ImVudHJpZXMiOiJ2YWx1ZXMiLCFyLCEwKSxmKHQpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzcpLG89cig2Nyk7ZS5leHBvcnRzPXIoOTMpKCJTZXQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWYobyh0aGlzLCJTZXQiKSxlPTA9PT1lPzA6ZSxlKX19LG4pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG89cig0MCkoMCksaT1yKDI0KSxhPXIoNDcpLHM9cigxNjApLHU9cigxODApLGM9cig5KSxsPXIoOCksZj1yKDY3KSxkPWEuZ2V0V2VhayxwPU9iamVjdC5pc0V4dGVuc2libGUseT11LnVmc3RvcmUsaD17fSx2PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0sZz17Z2V0OmZ1bmN0aW9uKGUpe2lmKGMoZSkpe3ZhciB0PWQoZSk7cmV0dXJuITA9PT10P3koZih0aGlzLCJXZWFrTWFwIikpLmdldChlKTp0P3RbdGhpcy5faV06dm9pZCAwfX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUuZGVmKGYodGhpcywiV2Vha01hcCIpLGUsdCl9fSxfPWUuZXhwb3J0cz1yKDkzKSgiV2Vha01hcCIsdixnLHUsITAsITApO2woZnVuY3Rpb24oKXtyZXR1cm4gNyE9KG5ldyBfKS5zZXQoKE9iamVjdC5mcmVlemV8fE9iamVjdCkoaCksNykuZ2V0KGgpfSkmJihuPXUuZ2V0Q29uc3RydWN0b3IodiwiV2Vha01hcCIpLHMobi5wcm90b3R5cGUsZyksYS5ORUVEPSEwLG8oWyJkZWxldGUiLCJoYXMiLCJnZXQiLCJzZXQiXSxmdW5jdGlvbihlKXt2YXIgdD1fLnByb3RvdHlwZSxyPXRbZV07aSh0LGUsZnVuY3Rpb24odCxvKXtpZihjKHQpJiYhcCh0KSl7dGhpcy5fZnx8KHRoaXMuX2Y9bmV3IG4pO3ZhciBpPXRoaXMuX2ZbZV0odCxvKTtyZXR1cm4ic2V0Ij09ZT90aGlzOml9cmV0dXJuIHIuY2FsbCh0aGlzLHQsbyl9KX0pKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYxKSxvPXIoNDcpLmdldFdlYWssaT1yKDUpLGE9cig5KSxzPXIoNTkpLHU9cig2MCksYz1yKDQwKSxsPXIoMjcpLGY9cig2NyksZD1jKDUpLHA9Yyg2KSx5PTAsaD1mdW5jdGlvbihlKXtyZXR1cm4gZS5fbHx8KGUuX2w9bmV3IHYpfSx2PWZ1bmN0aW9uKCl7dGhpcy5hPVtdfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQoZS5hLGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPT09dH0pfTt2LnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWcodGhpcyxlKTtpZih0KXJldHVybiB0WzFdfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFnKHRoaXMsZSl9LHNldDpmdW5jdGlvbihlLHQpe3ZhciByPWcodGhpcyxlKTtyP3JbMV09dDp0aGlzLmEucHVzaChbZSx0XSl9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1wKHRoaXMuYSxmdW5jdGlvbih0KXtyZXR1cm4gdFswXT09PWV9KTtyZXR1cm5+dCYmdGhpcy5hLnNwbGljZSh0LDEpLCEhfnR9fSxlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBjPWUoZnVuY3Rpb24oZSxuKXtzKGUsYyx0LCJfaSIpLGUuX3Q9dCxlLl9pPXkrKyxlLl9sPXZvaWQgMCx2b2lkIDAhPW4mJnUobixyLGVbaV0sZSl9KTtyZXR1cm4gbihjLnByb3RvdHlwZSx7ZGVsZXRlOmZ1bmN0aW9uKGUpe2lmKCFhKGUpKXJldHVybiExO3ZhciByPW8oZSk7cmV0dXJuITA9PT1yP2goZih0aGlzLHQpKS5kZWxldGUoZSk6ciYmbChyLHRoaXMuX2kpJiZkZWxldGUgclt0aGlzLl9pXX0saGFzOmZ1bmN0aW9uKGUpe2lmKCFhKGUpKXJldHVybiExO3ZhciByPW8oZSk7cmV0dXJuITA9PT1yP2goZih0aGlzLHQpKS5oYXMoZSk6ciYmbChyLHRoaXMuX2kpfX0pLGN9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG49byhpKHQpLCEwKTtyZXR1cm4hMD09PW4/aChlKS5zZXQodCxyKTpuW2UuX2ldPXIsZX0sdWZzdG9yZTpofX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigxNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIDA7dmFyIHQ9bihlKSxyPW8odCk7aWYodCE9PXIpdGhyb3cgUmFuZ2VFcnJvcigiV3JvbmcgbGVuZ3RoISIpO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTcpLG89cig4NSksaT1yKDUpLGE9cig2KS5SZWZsZWN0O2UuZXhwb3J0cz1hJiZhLm93bktleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PW4uZihpKGUpKSxyPW8uZjtyZXR1cm4gcj90LmNvbmNhdChyKGUpKTp0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmbGF0dGVuSW50b0FycmF5KGUsdCxyLHUsYyxsLGYsZCl7Zm9yKHZhciBwLHksaD1jLHY9MCxnPSEhZiYmYShmLGQsMyk7djx1Oyl7aWYodiBpbiByKXtpZihwPWc/ZyhyW3ZdLHYsdCk6clt2XSx5PSExLG8ocCkmJih5PXBbc10seT12b2lkIDAhPT15PyEheTpuKHApKSx5JiZsPjApaD1mbGF0dGVuSW50b0FycmF5KGUsdCxwLGkocC5sZW5ndGgpLGgsbC0xKS0xO2Vsc2V7aWYoaD49OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBUeXBlRXJyb3IoKTtlW2hdPXB9aCsrfXYrK31yZXR1cm4gaH12YXIgbj1yKDg2KSxvPXIoOSksaT1yKDE0KSxhPXIoMzIpLHM9cigxMCkoImlzQ29uY2F0U3ByZWFkYWJsZSIpO2UuZXhwb3J0cz1mbGF0dGVuSW50b0FycmF5fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNCksbz1yKDExNCksaT1yKDM3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIHM9U3RyaW5nKGkoZSkpLHU9cy5sZW5ndGgsYz12b2lkIDA9PT1yPyIgIjpTdHJpbmcociksbD1uKHQpO2lmKGw8PXV8fCIiPT1jKXJldHVybiBzO3ZhciBmPWwtdSxkPW8uY2FsbChjLE1hdGguY2VpbChmL2MubGVuZ3RoKSk7cmV0dXJuIGQubGVuZ3RoPmYmJihkPWQuc2xpY2UoMCxmKSksYT9kK3M6cytkfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTQpLG89cigyOCksaT1yKDc0KS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciByLGE9byh0KSxzPW4oYSksdT1zLmxlbmd0aCxjPTAsbD1bXTt1PmM7KWkuY2FsbChhLHI9c1tjKytdKSYmbC5wdXNoKGU/W3IsYVtyXV06YVtyXSk7cmV0dXJuIGx9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzUpLG89cigxODcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihuKHRoaXMpIT1lKXRocm93IFR5cGVFcnJvcihlKyIjdG9KU09OIGlzbid0IGdlbmVyaWMiKTtyZXR1cm4gbyh0aGlzKX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIG4oZSwhMSxyLnB1c2gscix0KSxyfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9TWF0aC5zY2FsZXx8ZnVuY3Rpb24oZSx0LHIsbixvKXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGh8fGUhPWV8fHQhPXR8fHIhPXJ8fG4hPW58fG8hPW8/TmFOOmU9PT0xLzB8fGU9PT0tMS8wP2U6KGUtdCkqKG8tbikvKHItdCkrbn19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYyKSxvPXIoNTApLGk9cig0MjcpKCExKSxhPXIoMTM1KSgiSUVfUFJPVE8iKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW8oZSksdT0wLGM9W107Zm9yKHIgaW4gcylyIT1hJiZuKHMscikmJmMucHVzaChyKTtmb3IoO3QubGVuZ3RoPnU7KW4ocyxyPXRbdSsrXSkmJih+aShjLHIpfHxjLnB1c2gocikpO3JldHVybiBjfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzcpO2UuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig1MSkmJiFyKDcwKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMzkpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig3OCksbz1yKDI2KSxpPXIoMTk0KSxhPXIoNjMpLHM9cig3MSksdT1yKDQzMSksYz1yKDEwMCksbD1yKDE5NiksZj1yKDIyKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHksaCx2LGcpe3Uocix0LHkpO3ZhciBfLGIsbSxSPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIFMpcmV0dXJuIFNbZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LE89dCsiIEl0ZXJhdG9yIix3PSJ2YWx1ZXMiPT1oLGs9ITEsUz1lLnByb3RvdHlwZSxQPVNbZl18fFNbIkBAaXRlcmF0b3IiXXx8aCYmU1toXSxEPVB8fFIoaCksTT1oP3c/UigiZW50cmllcyIpOkQ6dm9pZCAwLEw9IkFycmF5Ij09dD9TLmVudHJpZXN8fFA6UDtpZihMJiYobT1sKEwuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJm0ubmV4dCYmKGMobSxPLCEwKSxufHwiZnVuY3Rpb24iPT10eXBlb2YgbVtmXXx8YShtLGYscCkpLHcmJlAmJiJ2YWx1ZXMiIT09UC5uYW1lJiYoaz0hMCxEPWZ1bmN0aW9uKCl7cmV0dXJuIFAuY2FsbCh0aGlzKX0pLG4mJiFnfHwhZCYmIWsmJlNbZl18fGEoUyxmLEQpLHNbdF09RCxzW09dPXAsaClpZihfPXt2YWx1ZXM6dz9EOlIoInZhbHVlcyIpLGtleXM6dj9EOlIoImtleXMiKSxlbnRyaWVzOk19LGcpZm9yKGIgaW4gXyliIGluIFN8fGkoUyxiLF9bYl0pO2Vsc2UgbyhvLlArby5GKihkfHxrKSx0LF8pO3JldHVybiBffX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDYzKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLmRvY3VtZW50O2UuZXhwb3J0cz1uJiZuLmRvY3VtZW50RWxlbWVudH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjIpLG89cig3NiksaT1yKDEzNSkoIklFX1BST1RPIiksYT1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW8oZSksbihlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/YTpudWxsfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2godCl7dmFyIGk9ZS5yZXR1cm47dGhyb3cgdm9pZCAwIT09aSYmbihpLmNhbGwoZSkpLHR9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzEpLG89cigyMikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKSxvPXIoOTkpLGk9cigyMikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09KHI9bihhKVtpXSk/dDpvKHIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxhPXIoNjkpLHM9cig0MzkpLHU9cigxOTUpLGM9cigxMzkpLGw9cigyMSksZj1sLnByb2Nlc3MsZD1sLnNldEltbWVkaWF0ZSxwPWwuY2xlYXJJbW1lZGlhdGUseT1sLk1lc3NhZ2VDaGFubmVsLGg9bC5EaXNwYXRjaCx2PTAsZz17fSxfPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoZy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9Z1tlXTtkZWxldGUgZ1tlXSx0KCl9fSxiPWZ1bmN0aW9uKGUpe18uY2FsbChlLmRhdGEpfTtkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gZ1srK3ZdPWZ1bmN0aW9uKCl7cygiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGdbZV19LCJwcm9jZXNzIj09cig3NykoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKGEoXyxlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhhKF8sZSwxKSl9Onk/KG89bmV3IHksaT1vLnBvcnQyLG8ucG9ydDEub25tZXNzYWdlPWIsbj1hKGkucG9zdE1lc3NhZ2UsaSwxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYiwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLF8uY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYShfLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2U6ITEsdjplKCl9fWNhdGNoKGUpe3JldHVybntlOiEwLHY6ZX19fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLG89cig0NSksaT1yKDE0NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYobihlKSxvKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgcj1pLmYoZSk7cmV0dXJuKDAsci5yZXNvbHZlKSh0KSxyLnByb21pc2V9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMikoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIGk9WzddW25dKCk7aS5yZXR1cm49ZnVuY3Rpb24oKXtvPSEwfSxBcnJheS5mcm9tKGksZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIGk9WzddLGE9aVtuXSgpO2EubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LGUoaSl9Y2F0Y2goZSl7fXJldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ0OSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4OSksbz1yKDEzNykuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDgyKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNDYpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigyKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjA3KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksYj1yKDIwOCksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLFI9cig3KSxPPXIoNDgyKSx3PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTyksaz12LmdldExvZ2dlcigiRGF0YU9iamVjdCIpLFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEYXRhT2JqZWN0KGUpe2Z1bmN0aW9uIHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcihlKXt0aHJvdyJbRGF0YU9iamVjdF0gIitlKyIgbWFuZGF0b3J5IHBhcmFtZXRlciBpcyBtaXNzaW5nIn0oMCxkLmRlZmF1bHQpKHRoaXMsRGF0YU9iamVjdCk7dmFyIHQ9dGhpcztlLnN5bmNoZXI/dC5fc3luY2hlcj1lLnN5bmNoZXI6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJzeW5jaGVyIiksZS51cmw/dC5fdXJsPWUudXJsOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigidXJsIiksZS5jcmVhdGVkP3QuX2NyZWF0ZWQ9ZS5jcmVhdGVkOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigiY3JlYXRlZCIpLGUucmVwb3J0ZXI/dC5fcmVwb3J0ZXI9ZS5yZXBvcnRlcjp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInJlcG9ydGVyIiksZS5ydW50aW1lP3QuX3J1bnRpbWU9ZS5ydW50aW1lOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigicnVudGltZSIpLGUuc2NoZW1hP3QuX3NjaGVtYT1lLnNjaGVtYTp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInNjaGVtYSIpLGUubmFtZT90Ll9uYW1lPWUubmFtZTp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoIm5hbWUiKSx0Ll9zdGF0dXM9ZS5zdGF0dXMsZS5kYXRhP3QuX3N5bmNPYmo9bmV3IF8uZGVmYXVsdChlLmRhdGEpOnQuX3N5bmNPYmo9bmV3IF8uZGVmYXVsdCh7fSksdC5fY2hpbGRyZW5zPWUuY2hpbGRyZW5zLHQuX211dHVhbD1lLm11dHVhbCx0Ll92ZXJzaW9uPTAsdC5fY2hpbGRJZD0wLHQuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLHQuX29uQWRkQ2hpbGRyZW5IYW5kbGVyLHQuX3Jlc3VtZWQ9ZS5yZXN1bWUsZS5yZXN1bWUmJih0Ll92ZXJzaW9uPWUudmVyc2lvbiksdC5fb3duZXI9ZS5zeW5jaGVyLl9vd25lcix0Ll9idXM9ZS5zeW5jaGVyLl9idXMsZS5kZXNjcmlwdGlvbiYmKHQuX2Rlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24pLGUudGFncyYmKHQuX3RhZ3M9ZS50YWdzKSxlLnJlc291cmNlcyYmKHQuX3Jlc291cmNlcz1lLnJlc291cmNlcyksZS5vYnNlcnZlclN0b3JhZ2UmJih0Ll9vYnNlcnZlclN0b3JhZ2U9ZS5vYnNlcnZlclN0b3JhZ2UpLGUucHVibGljT2JzZXJ2YXRpb24mJih0Ll9wdWJsaWNPYnNlcnZhdGlvbj1lLnB1YmxpY09ic2VydmF0aW9uKSx0Ll9tZXRhZGF0YT0oMCxsLmRlZmF1bHQpKGUpLCghZS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIil8fGUuaGFzT3duUHJvcGVydHkoInJlc3VtZSIpJiYhZS5yZXN1bWUpJiYodC5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPXQuX21ldGFkYXRhLmNyZWF0ZWQpLGRlbGV0ZSB0Ll9tZXRhZGF0YS5kYXRhLGRlbGV0ZSB0Ll9tZXRhZGF0YS5zeW5jaGVyLGRlbGV0ZSB0Ll9tZXRhZGF0YS5hdXRob3Jpc2UsdC5faHlwZXJ0eVJlc291cmNlRmFjdG9yeT1uZXcgdy5kZWZhdWx0LHQuX2NoaWxkcmVuT2JqZWN0cz17fSx0Ll9zaGFyZWRDaGlsZHM9W119cmV0dXJuKDAseS5kZWZhdWx0KShEYXRhT2JqZWN0LFt7a2V5OiJfZ2V0TGFzdENoaWxkSWQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PTAscj1lLl9vd25lcisiIyIrdDtyZXR1cm4oMCx1LmRlZmF1bHQpKGUuX2NoaWxkcmVucykuZmlsdGVyKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuc1t0XS5jaGlsZElkPnImJihyPWUuX2NoaWxkcmVuc1t0XS5jaGlsZElkKX0pLHQ9TnVtYmVyKHIuc3BsaXQoIiMiKVsxXSl9fSx7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10Ll91cmwrIi9jaGlsZHJlbi8iO2subG9nKCJbRGF0YSBPYmplY3QgLSBBbGxvY2F0ZUxpc3RlbmVyc10gLSAiLHQuX2NoaWxkcmVucyksdC5fY2hpbGRyZW5zJiZ0Ll9jaGlsZHJlbnMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbz1yK24saT10Ll9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihyKXtpZihyLmZyb20hPT1lLl9vd25lcilzd2l0Y2goay5sb2coIkRhdGFPYmplY3QtQ2hpbGRyZW4tUkNWOiAiLHIpLHIudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uQ2hpbGRDcmVhdGUocik7YnJlYWs7Y2FzZSJkZWxldGUiOmsubG9nKHIpO2JyZWFrO2RlZmF1bHQ6dC5fY2hhbmdlQ2hpbGRyZW4ocil9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCx1LmRlZmF1bHQpKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXsoMCx1LmRlZmF1bHQpKGUuX2NoaWxkcmVuT2JqZWN0c1t0XSkuZm9yRWFjaChmdW5jdGlvbihyKXtlLl9jaGlsZHJlbk9iamVjdHNbdF1bcl0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfSl9fSx7a2V5OiJyZXN1bWVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLG49dGhpcy5fb3duZXIrIiMiK3RoaXMuX2NoaWxkSWQ7KDAsdS5kZWZhdWx0KShlKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBpPWVbb107KDAsdS5kZWZhdWx0KShpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPSExO3IuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShvKXx8KHIuX2NoaWxkcmVuT2JqZWN0c1tvXT17fSksaVtlXS52YWx1ZS5yZXNvdXJjZVR5cGUmJiFyLl9jaGlsZHJlbk9iamVjdHNbb10uaGFzT3duUHJvcGVydHkoZSk/KHIuX2NoaWxkcmVuT2JqZWN0c1tvXVtlXT1yLl9yZXN1bWVIeXBlcnR5UmVzb3VyY2UoaVtlXSksYT0hMCk6ci5fY2hpbGRyZW5PYmplY3RzW29dLmhhc093blByb3BlcnR5KGUpfHwoci5fY2hpbGRyZW5PYmplY3RzW29dW2VdPXIuX3Jlc3VtZUNoaWxkKGlbZV0pLGsubG9nKCJbRGF0YU9iamVjdC5yZXN1bWVDaGlsZHJlbnNdIG5ldyBEYXRhT2JqZWN0Q2hpbGQ6ICIsci5fY2hpbGRyZW5PYmplY3RzW29dW2VdKSxhPSEwKSxhJiZlPm4mJihuPWUsay5sb2coIltEYXRhT2JqZWN0UmVwb3J0ZXIucmVzdW1lQ2hpbGRyZW5zXSAtIHJlc3VtaW5nOiAiLHQuX2NoaWxkcmVuT2JqZWN0c1tvXVtlXSkpfSl9KSx0aGlzLl9jaGlsZElkPU51bWJlcihuLnNwbGl0KCIjIilbMV0pfX0se2tleToiX3Jlc3VtZUNoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS52YWx1ZTtyLnBhcmVudE9iamVjdD10LHIucGFyZW50PXQuX3VybDt2YXIgbj1uZXcgbS5kZWZhdWx0KHIpO24uaWRlbnRpdHk9ZS5pZGVudGl0eTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4ucmVwb3J0ZXIsdXJsOm4ucGFyZW50LHZhbHVlOm4uZGF0YSxjaGlsZElkOm4udXJsLGlkZW50aXR5Om4uaWRlbnRpdHksY2hpbGQ6bn07cmV0dXJuIG4ucmVzb3VyY2VUeXBlJiYoby5yZXNvdXJjZT1uKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobyksbn19LHtrZXk6Il9yZXN1bWVIeXBlcnR5UmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnZhbHVlO3IucGFyZW50T2JqZWN0PXQsci5wYXJlbnQ9dC5fdXJsO3ZhciBuPXQuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKCExLHIucmVzb3VyY2VUeXBlLHIpO24uaWRlbnRpdHk9ZS5pZGVudGl0eTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4ucmVwb3J0ZXIsdXJsOm4ucGFyZW50LHZhbHVlOm4uZGF0YSxjaGlsZElkOm4udXJsLGlkZW50aXR5Om4uaWRlbnRpdHksY2hpbGQ6bn07cmV0dXJuIG4ucmVzb3VyY2VUeXBlJiYoby5yZXNvdXJjZT1uKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobyksbn19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLGk9dm9pZCAwO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGEpe3ZhciBzPW8uX3VybCsiL2NoaWxkcmVuLyIrZSx1PW8uX2dldENoaWxkSW5wdXQobik7dS5kYXRhPXQsdS5jaGlsZHJlbj1lLGk9bmV3IG0uZGVmYXVsdCh1KSxyJiYoaS5pZGVudGl0eT1yKSxpLnNoYXJlKCksay5sb2coIltEYXRhT2JqZWN0LmFkZENoaWxkXSBhZGRlZCAiLGkpLGkub25DaGFuZ2UoZnVuY3Rpb24oZSl7by5fb25DaGFuZ2UoZSx7cGF0aDpzLGNoaWxkSWQ6dS51cmx9KX0pLG8uX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShlKXx8KG8uX2NoaWxkcmVuT2JqZWN0c1tlXT17fSksby5fY2hpbGRyZW5PYmplY3RzW2VdW3UudXJsXT1pLGEoaSl9KX19LHtrZXk6Il9kZWxldGVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIpe2lmKGUuY2hpbGRyZW5zKXtrLmxvZygiW0RhdGFPYmplY3QuZGVsZXRlQ2hpbGRyZW5zXSIsZS5jaGlsZHJlbnMpO3ZhciBuPXZvaWQgMDtmb3IobiBpbiBlLmNoaWxkcmVucyl7dmFyIG89dm9pZCAwO2ZvcihvIGluIGUuY2hpbGRyZW5zW25dKXt2YXIgaT1lLmNoaWxkcmVuc1tuXVtvXTtrLmxvZygiW0RhdGFPYmplY3QuX2RlbGV0ZUNoaWxkcmVuc10gY2hpbGQiLGkpLGkubWV0YWRhdGEuaGFzT3duUHJvcGVydHkoInJlc291cmNlVHlwZSIpJiZ0LnB1c2goZS5jaGlsZHJlbnNbbl1bb10uZGVsZXRlKCkpfX19ay5sb2coIltEYXRhT2JqZWN0Ll9kZWxldGVDaGlsZHJlbnNdIHByb21pc2VzICIsdCksdC5sZW5ndGg+MD9hLmRlZmF1bHQuYWxsKHQpLnRoZW4oZnVuY3Rpb24oKXtyKCJbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBkb25lIil9KTpyKCJbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBub3RoaW5nIHRvIGRlbGV0ZSIpfSl9fSx7a2V5OiJfZ2V0Q2hpbGRJbnB1dCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLGwuZGVmYXVsdCkoe30sZSk7cmV0dXJuIHQuX2NoaWxkSWQrKyxyLnVybD10Ll9vd25lcisiIyIrdC5fY2hpbGRJZCxyLnBhcmVudE9iamVjdD10LHIucmVwb3J0ZXI9dC5fb3duZXIsci5jcmVhdGVkPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSxyLnJ1bnRpbWU9dC5fc3luY2hlci5fcnVudGltZVVybCxyLnAycEhhbmRsZXI9dC5fc3luY2hlci5fcDJwSGFuZGxlcixyLnAycFJlcXVlc3Rlcj10Ll9zeW5jaGVyLl9wMnBSZXF1ZXN0ZXIsci5zY2hlbWE9dC5fc2NoZW1hLHIucGFyZW50PXQudXJsLHJ9fSx7a2V5OiJhZGRIeXBlcnR5UmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihhKXt2YXIgcz12b2lkIDAsdT1pLl91cmwrIi9jaGlsZHJlbi8iK2UsYz1pLl9nZXRDaGlsZElucHV0KG8pO2MuY2hpbGRyZW49ZSxpLl9oeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmNyZWF0ZUh5cGVydHlSZXNvdXJjZVdpdGhDb250ZW50KCEwLHQscixjKS50aGVuKGZ1bmN0aW9uKHQpe3M9dCxuJiYocy5pZGVudGl0eT1uKSxzLnNoYXJlKCksay5sb2coIltEYXRhT2JqZWN0LmFkZEh5cGVydHlSZXNvdXJjZV0gYWRkZWQgIixzKSxzLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe2kuX29uQ2hhbmdlKGUse3BhdGg6dSxjaGlsZElkOnMuY2hpbGRJZH0pfSksaS5fY2hpbGRyZW5PYmplY3RzLmhhc093blByb3BlcnR5KGUpfHwoaS5fY2hpbGRyZW5PYmplY3RzW2VdPXt9KSxpLl9jaGlsZHJlbk9iamVjdHNbZV1bcy5jaGlsZElkXT1zLGEocyl9KX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2subG9nKCJbRGF0YU9iamVjdC5fb25DaGlsZENyZWF0ZV0gcmVjZWl2ZWRCeSAiK3QuX293bmVyKyIgOiAiLGUpO3ZhciByPXtmcm9tOmUudG8sdG86ZS5mcm9tLHR5cGU6InJlc3BvbnNlIixpZDplLmlkLGJvZHk6e2NvZGU6MTAwfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpLGUuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGU/dC5fb25IeXBlcnR5UmVzb3VyY2VBZGRlZChlKTp0Ll9vbkNoaWxkQWRkZWQoZSl9fSx7a2V5OiJfb25DaGlsZEFkZGVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsUi5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7ci5wYXJlbnRPYmplY3Q9dDt2YXIgbj1yLmNoaWxkcmVuLG89bmV3IG0uZGVmYXVsdChyKTtvLmlkZW50aXR5PWUuYm9keS5pZGVudGl0eSx0Ll9jaGlsZHJlbk9iamVjdHMuaGFzT3duUHJvcGVydHkobil8fCh0Ll9jaGlsZHJlbk9iamVjdHNbbl09e30pLHQuX2NoaWxkcmVuT2JqZWN0c1tuXVtyLnVybF09byxlLnRvPT09dC5tZXRhZGF0YS51cmwmJm8uc3RvcmUoKSx0Ll9oeXBlcnR5RXZ0KGUsbyl9fSx7a2V5OiJfb25IeXBlcnR5UmVzb3VyY2VBZGRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS52YWx1ZSxuPXZvaWQgMCxvPXIuY2hpbGRyZW47ci5wYXJlbnRPYmplY3Q9dCxuPXQuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKCExLHIucmVzb3VyY2VUeXBlLHIpLG4uaWRlbnRpdHk9ZS5ib2R5LmlkZW50aXR5LHQuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShvKXx8KHQuX2NoaWxkcmVuT2JqZWN0c1tvXT17fSksdC5fY2hpbGRyZW5PYmplY3RzW29dW24uY2hpbGRJZF09bix0Ll9oeXBlcnR5RXZ0KGUsbiksZS50bz09PXQubWV0YWRhdGEudXJsJiZuLnN0b3JlKCl9fSx7a2V5OiJfaHlwZXJ0eUV2dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOnQuZGF0YSxjaGlsZElkOnQudXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxjaGlsZDp0fTt0LnJlc291cmNlVHlwZSYmKG4ucmVzb3VyY2U9dCksci5fb25BZGRDaGlsZHJlbkhhbmRsZXImJnIuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG4pfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSxyLl92ZXJzaW9uKyssImxpdmUiPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkLGxhc3RNb2RpZmllZDpyLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWR9fTtrLmxvZygiW0RhdGFPYmplY3QgLSBfb25DaGFuZ2VdIC0gIixlLHQsbiksZS5vVHlwZT09PWcuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWcuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9KDAsUi5kZWVwQ2xvbmUpKGUuZGF0YSkpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWcuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5kYXRhLl9tdXR1YWx8fChuLmJvZHkubXV0dWFsPXIuX211dHVhbCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE8PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uPXQuYm9keS52ZXJzaW9uO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsaT12b2lkIDA7aT0ib2JqZWN0Ij09PSgwLG8uZGVmYXVsdCkodC5ib2R5LnZhbHVlKT8oMCxSLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKTp0LmJvZHkudmFsdWU7dmFyIGE9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5sYXN0TW9kaWZpZWQ/ci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPXQuYm9keS5sYXN0TW9kaWZpZWQ6ci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSx0LmJvZHkuYXR0cmlidXRlVHlwZT09PWcuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09Zy5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9YS5vYmosdT1hLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFt1LDBdLmNvbmNhdChpKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09Zy5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9YS5vYmosbD1hLmxhc3Q7Yy5zcGxpY2UobCxpKX1lbHNlIGEub2JqW2EubGFzdF09aTtlbHNlIHQuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKT9hLm9ialthLmxhc3RdPWk6ZGVsZXRlIGEub2JqW2EubGFzdF19ZWxzZSBrLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxSLmRpdmlkZVVSTCkoZS50byksbj1yLmlkZW50aXR5LG89bj9uLnN1YnN0cmluZyhuLmxhc3RJbmRleE9mKCIvIikrMSk6dm9pZCAwLGk9ZS5ib2R5LnJlc291cmNlLGE9dC5fY2hpbGRyZW5PYmplY3RzW29dW2ldO2subG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSxvKSxhP3QuX2NoYW5nZU9iamVjdChhLl9zeW5jT2JqLGUpOmsud2FybigiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLGkpfX0se2tleToibWV0YWRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRhZGF0YX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6InNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjaGVtYX19LHtrZXk6InN0YXR1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJjaGlsZHJlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbk9iamVjdHN9fV0pLERhdGFPYmplY3R9KCk7dC5kZWZhdWx0PVMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5PYmplY3RUeXBlPXQuQ2hhbmdlVHlwZT12b2lkIDA7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKTtyKDE0OSk7dmFyIHM9cig3KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3luY09iamVjdChlKXsoMCxvLmRlZmF1bHQpKHRoaXMsU3luY09iamVjdCk7dmFyIHQ9dGhpczt0Ll9vYnNlcnZlcnM9W10sdC5fZmlsdGVycz17fSx0aGlzLl9kYXRhPWV8fHt9LHRoaXMuX2ludGVybmFsT2JzZXJ2ZSh0aGlzLl9kYXRhKX1yZXR1cm4oMCxhLmRlZmF1bHQpKFN5bmNPYmplY3QsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAscy5wYXJzZUF0dHJpYnV0ZXMpKGUpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj0oMCxzLnBhcnNlQXR0cmlidXRlcykoZSk7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9pbnRlcm5hbE9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1mdW5jdGlvbihlKXtlLmV2ZXJ5KGZ1bmN0aW9uKGUpe3QuX29uQ2hhbmdlcyhlKX0pfTt0aGlzLl9kYXRhPU9iamVjdC5kZWVwT2JzZXJ2ZShlLHIpfX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dChlKX0pfX0se2tleToiX29uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vYmplY3Qscj12b2lkIDA7dC5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKHI9bC5PQkpFQ1QpLHQuY29uc3RydWN0b3I9PT1BcnJheSYmKHI9bC5BUlJBWSk7dmFyIG49ZS5rZXlwYXRoLG89dFtlLm5hbWVdOyJ1cGRhdGUiIT09ZS50eXBlfHxuLmluY2x1ZGVzKCIubGVuZ3RoIil8fHRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yy5VUERBVEUsb1R5cGU6cixmaWVsZDpuLGRhdGE6b30pLCJhZGQiPT09ZS50eXBlJiZ0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmMuQURELG9UeXBlOnIsZmllbGQ6bixkYXRhOm99KSwiZGVsZXRlIj09PWUudHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpjLlJFTU9WRSxvVHlwZTpyLGZpZWxkOm59KX19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSxTeW5jT2JqZWN0fSgpLGM9dC5DaGFuZ2VUeXBlPXtVUERBVEU6InVwZGF0ZSIsQUREOiJhZGQiLFJFTU9WRToicmVtb3ZlIn0sbD10Lk9iamVjdFR5cGU9e09CSkVDVDoib2JqZWN0IixBUlJBWToiYXJyYXkifTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1yKDIwNyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig3KSx5PWwuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0Q2hpbGQiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YU9iamVjdENoaWxkKGUpe2Z1bmN0aW9uIHRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcihlKXt0aHJvdyJbRGF0YU9iamVjdENoaWxkXSAiK2UrIiBtYW5kYXRvcnkgcGFyYW1ldGVyIGlzIG1pc3NpbmcifSgwLGEuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0Q2hpbGQpO3ZhciB0PXRoaXM7ZS5wYXJlbnQ/dC5fcGFyZW50PWUucGFyZW50OnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigicGFyZW50IiksZS51cmw/dC5fdXJsPWUudXJsOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigidXJsIiksZS5jcmVhdGVkP3QuX2NyZWF0ZWQ9ZS5jcmVhdGVkOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigiY3JlYXRlZCIpLGUucmVwb3J0ZXI/dC5fcmVwb3J0ZXI9ZS5yZXBvcnRlcjp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInJlcG9ydGVyIiksZS5ydW50aW1lP3QuX3J1bnRpbWU9ZS5ydW50aW1lOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigicnVudGltZSIpLGUuc2NoZW1hP3QuX3NjaGVtYT1lLnNjaGVtYTp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInNjaGVtYSIpLGUucGFyZW50T2JqZWN0P3QuX3BhcmVudE9iamVjdD1lLnBhcmVudE9iamVjdDp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInBhcmVudE9iamVjdCIpLGUubmFtZSYmKHQuX25hbWU9ZS5uYW1lKSxlLmRlc2NyaXB0aW9uJiYodC5fZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbiksZS50YWdzJiYodC5fdGFncz1lLnRhZ3MpLGUucmVzb3VyY2VzJiYodC5fcmVzb3VyY2VzPWUucmVzb3VyY2VzKSxlLm9ic2VydmVyU3RvcmFnZSYmKHQuX29ic2VydmVyU3RvcmFnZT1lLm9ic2VydmVyU3RvcmFnZSksZS5wdWJsaWNPYnNlcnZhdGlvbiYmKHQuX3B1YmxpY09ic2VydmF0aW9uPWUucHVibGljT2JzZXJ2YXRpb24pLHQuX2NoaWxkSWQ9ZS51cmwsZS5kYXRhP3QuX3N5bmNPYmo9bmV3IGQuZGVmYXVsdChlLmRhdGEpOnQuX3N5bmNPYmo9bmV3IGQuZGVmYXVsdCh7fSkseS5sb2coIltEYXRhT2JqZWN0Q2hpbGQgLSAgQ29uc3RydWN0b3JdIC0gIix0Ll9zeW5jT2JqKSx0Ll9idXM9dC5fcGFyZW50T2JqZWN0Ll9idXMsdC5fb3duZXI9dC5fcGFyZW50T2JqZWN0Ll9vd25lcix0Ll9hbGxvY2F0ZUxpc3RlbmVycygpLHQuX21ldGFkYXRhPWUsZGVsZXRlIHQuX21ldGFkYXRhLnBhcmVudE9iamVjdCx0Ll9zaGFyaW5nU3RhdHVzPSExfXJldHVybigwLHUuZGVmYXVsdCkoRGF0YU9iamVjdENoaWxkLFt7a2V5OiJzaGFyZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9zaGFyaW5nU3RhdHVzPW5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz12b2lkIDA7bz1lP3QubWV0YWRhdGEucGFyZW50OnQubWV0YWRhdGEucGFyZW50KyIvY2hpbGRyZW4vIit0Lm1ldGFkYXRhLmNoaWxkcmVuO3ZhciBpPXQubWV0YWRhdGE7aS5kYXRhPXQuZGF0YTt2YXIgYT17dHlwZToiY3JlYXRlIixmcm9tOnQubWV0YWRhdGEucmVwb3J0ZXIsdG86byxib2R5OntyZXNvdXJjZTppLnVybCx2YWx1ZTppfX07aWYodC5pZGVudGl0eSYmKGEuYm9keS5pZGVudGl0eT10LmlkZW50aXR5KSx0Ll9wYXJlbnRPYmplY3QuZGF0YS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihhLmJvZHkubXV0dWFsPXQuX3BhcmVudE9iamVjdC5kYXRhLm11dHVhbCksdC5fcGFyZW50T2JqZWN0Lm1ldGFkYXRhLnJlcG9ydGVyPT09dC5tZXRhZGF0YS5yZXBvcnRlcilyZXR1cm4gdC5fYnVzLnBvc3RNZXNzYWdlKCgwLHAuZGVlcENsb25lKShhKSkscigpO3ZhciBzPWZ1bmN0aW9uKGUpe2lmKGUudG89PT10Ll9yZXBvcnRlcil7dC5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoYS5mcm9tLGUuaWQpLHkubG9nKCJbU3luY2hlci5EYXRhT2JqZWN0Q2hpbGQuc2hhcmVdIFBhcmVudCByZXBvcnRlciByZXBseSAiLGUpO3ZhciBvPXtjb2RlOmUuYm9keSYmZS5ib2R5LmNvZGU/ZS5ib2R5LmNvZGU6NTAwLGRlc2M6ZS5ib2R5JiZlLmJvZHkuZGVzYz9lLmJvZHkuZGVzYzoiVW5rbm93biJ9O3JldHVybiBlLmJvZHkuY29kZTwzMDA/cihvKTpuKG8pfX0sdT10Ll9idXMucG9zdE1lc3NhZ2UoKDAscC5kZWVwQ2xvbmUpKGEpLHMsITEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoYS5mcm9tLHUpLG4oe2NvZGU6NDA4LGRlc2M6InRpbW91dCJ9KX0sM2UzKX0pfX0se2tleToic3RvcmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9LHI9ZS5tZXRhZGF0YS5jaGlsZHJlbisiLiIrZS5tZXRhZGF0YS51cmw7dC52YWx1ZT1lLm1ldGFkYXRhLHQuaWRlbnRpdHk9ZS5pZGVudGl0eTt2YXIgbj17ZnJvbTplLm1ldGFkYXRhLnJlcG9ydGVyLHRvOmUuX3BhcmVudE9iamVjdC5fc3luY2hlci5fc3ViVVJMLHR5cGU6ImNyZWF0ZSIsYm9keTp7cmVzb3VyY2U6ZS5tZXRhZGF0YS5wYXJlbnQsYXR0cmlidXRlOnIsdmFsdWU6dH19O3kubG9nKCJbRGF0YU9iamVjdENoaWxkLnN0b3JlXToiLG4pLGUuX2J1cy5wb3N0TWVzc2FnZShuKX19LHtrZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlcG9ydGVyPT09ZS5fb3duZXImJihlLl9saXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fcmVwb3J0ZXIsZnVuY3Rpb24odCl7InJlc3BvbnNlIj09PXQudHlwZSYmdC5pZD09PWUuX21zZ0lkJiYoeS5sb2coIkRhdGFPYmplY3RDaGlsZC5vblJlc3BvbnNlOiIsdCksZS5fb25SZXNwb25zZSh0KSl9KSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyJiZlLl9saXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe3kubG9nKCJbRGF0YU9iamVjdENoaWxkIC0gb2JzZXJ2ZXJdIC0gIix0KSxlKHQpfSl9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZTplLnR5cGUsdXJsOmUuYm9keS5zb3VyY2UsY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJnQuX29uUmVzcG9uc2VIYW5kbGVyKHIpfX0se2tleToic2hhcmVhYmxlIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1ldGFkYXRhO3JldHVybiBlLmRhdGE9dGhpcy5kYXRhLGV9fSx7a2V5OiJtZXRhZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhfX0se2tleToiY2hpbGRJZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkSWR9fSx7a2V5OiJzaGFyaW5nU3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmluZ1N0YXR1c319LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fSx7a2V5OiJpZGVudGl0eSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lkZW50aXR5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVudGl0eX19XSksRGF0YU9iamVjdENoaWxkfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpeygwLG8uZGVmYXVsdCkodGhpcyxFdmVudEVtaXR0ZXIpfXJldHVybigwLGEuZGVmYXVsdCkoRXZlbnRFbWl0dGVyLFt7a2V5OiJhZGRFdmVudExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXNbZV09dH19LHtrZXk6InRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyW2VdJiZyW2VdKHQpfX1dKSxFdmVudEVtaXR0ZXJ9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDM1KSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxNTApLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNDk5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIENoYXRDb250cm9sbGVyKGUsdCxyLG4sbyxpKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsQ2hhdENvbnRyb2xsZXIpLCFlKXRocm93IEVycm9yKCJTeW5jaGVyIGlzIGEgbmVjZXNzYXJ5IGRlcGVuZGVjeSIpO2lmKCF0KXRocm93IEVycm9yKCJEaXNjb3ZlciBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3kiKTtpZighcil0aHJvdyBFcnJvcigiRG9tYWluIGlzIGEgbmVjZXNzYXJ5IGRlcGVuZGVjeSIpO2lmKCFuKXRocm93IEVycm9yKCJTZWFyY2ggaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Iik7dmFyIGE9dGhpczthLl9zeW5jaGVyPWUsYS5kaXNjb3Zlcnk9dCxhLnNlYXJjaD1uLGEubXlJZGVudGl0eT1vLGEuY29udHJvbGxlck1vZGU9InJlcG9ydGVyIixhLmNoaWxkX2NzZXE9MCxhLmRvbWFpbj1yLGEuX21hbmFnZXI9aTt2YXIgcz1lLm93bmVyO2EuX29iamVjdERlc2NVUkw9Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIrcisiLy53ZWxsLWtub3duL2RhdGFzY2hlbWEvQ29tbXVuaWNhdGlvbiIsYS5faW52aXRhdGlvbnNIYW5kbGVyPW5ldyB5LmRlZmF1bHQocyl9cmV0dXJuKDAsbC5kZWZhdWx0KShDaGF0Q29udHJvbGxlcixbe2tleToiX3NldE9uQWRkQ2hpbGRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLm9uQWRkQ2hpbGQoZnVuY3Rpb24oZSl7dC5jaGlsZF9jc2VxKz0xLHQuX29uTWVzc2FnZSYmdC5fb25NZXNzYWdlKGUpfSl9fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGFPYmplY3RSZXBvcnRlcjtlLmFjY2VwdCgpO3ZhciByPUpTT04ucGFyc2UoKDAsYS5kZWZhdWx0KShlLmlkZW50aXR5KSk7ci5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIikmJmRlbGV0ZSByLmFzc2VydGlvbjt2YXIgbj17aHlwZXJ0eVVSTDplLnVybCxkb21haW46ZS5kb21haW4saWRlbnRpdHk6cn0sbz1lLmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw7ZS5pZGVudGl0eS5sZWdhY3kmJihuLmxlZ2FjeT1lLmlkZW50aXR5LmxlZ2FjeSksdC5kYXRhLnBhcnRpY2lwYW50c1tvXT1uLHRoaXMuX29uVXNlckFkZGVkJiZ0aGlzLl9vblVzZXJBZGRlZChuKX19LHtrZXk6Il9vblVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIscj1lLmlkZW50aXR5LnVzZXJQcm9maWxlO2UuaWRlbnRpdHkubGVnYWN5JiYoci5sZWdhY3k9ZS5pZGVudGl0eS5sZWdhY3kpLGRlbGV0ZSB0LmRhdGEucGFydGljaXBhbnRzW3IudXNlclVSTF0sdGhpcy5fb25Vc2VyUmVtb3ZlZCYmdGhpcy5fb25Vc2VyUmVtb3ZlZChyKX19LHtrZXk6InNlbmRGaWxlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5jb250cm9sbGVyTW9kZSxuPSJyZXBvcnRlciI9PT1yP3QuZGF0YU9iamVjdFJlcG9ydGVyOnQuZGF0YU9iamVjdE9ic2VydmVyO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbyl7dmFyIGk9e3VzZXJQcm9maWxlOnQubXlJZGVudGl0eX07bi5hZGRIeXBlcnR5UmVzb3VyY2UoInJlc291cmNlcyIsImZpbGUiLGUsaSkudGhlbihmdW5jdGlvbihlKXt2YXIgbz17dXNlclByb2ZpbGU6dC5teUlkZW50aXR5fSxpPXt2YWx1ZTplLGlkZW50aXR5Om8scmVzb3VyY2U6ZX0sYT1uZXcgZC5kZWZhdWx0KG4udXJsLHQuX21hbmFnZXIuX3J1bnRpbWVVUkwsdC5fbWFuYWdlci5faHlwZXJ0eVVSTCx0Ll9tYW5hZ2VyLl9idXMpOyFmdW5jdGlvbiBzaGFyZTJSZXBvcnRlcihlLHQsbixvKXt2YXIgaT1vO2Uuc2hhcmluZ1N0YXR1cy50aGVuKHIobikpLmNhdGNoKGZ1bmN0aW9uKHIpe2kub25MaXZlKHQsZnVuY3Rpb24oKXtpLnVuc3Vic2NyaWJlTGl2ZSh0KSxlLnNoYXJlKCEwKSxzaGFyZTJSZXBvcnRlcihlLHQsbixpKX0pfSl9KGUsdC5fbWFuYWdlci5faHlwZXJ0eVVSTCxpLGEpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZWplY3QoZSl9KX19LHtrZXk6InNlbmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuY29udHJvbGxlck1vZGUsaT0icmVwb3J0ZXIiPT09bj9yLmRhdGFPYmplY3RSZXBvcnRlcjpyLmRhdGFPYmplY3RPYnNlcnZlcjtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3IuY2hpbGRfY3NlcSs9MTt2YXIgYT17dHlwZToiY2hhdCIsY29udGVudDplfSxzPXR8fHt1c2VyUHJvZmlsZTpyLm15SWRlbnRpdHl9O2kuYWRkQ2hpbGQoInJlc291cmNlcyIsYSxzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXtjaGlsZElkOmUuX2NoaWxkSWQsZnJvbTplLl9vd25lcix2YWx1ZTplLmRhdGEsdHlwZToiY3JlYXRlIixpZGVudGl0eTpzfSxvPW5ldyBkLmRlZmF1bHQoaS51cmwsci5fbWFuYWdlci5fcnVudGltZVVSTCxyLl9tYW5hZ2VyLl9oeXBlcnR5VVJMLHIuX21hbmFnZXIuX2J1cyk7IWZ1bmN0aW9uIHNoYXJlMlJlcG9ydGVyKGUsdCxyLG8pe3ZhciBpPW87ZS5zaGFyaW5nU3RhdHVzLnRoZW4obihyKSkuY2F0Y2goZnVuY3Rpb24obil7aS5vbkxpdmUodCxmdW5jdGlvbigpe2kudW5zdWJzY3JpYmVMaXZlKHQpLGUuc2hhcmUoITApLHNoYXJlMlJlcG9ydGVyKGUsdCxyLGkpfSl9KX0oZSxyLl9tYW5hZ2VyLl9oeXBlcnR5VVJMLHQsbyl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkNoYW5nZT1lfX0se2tleToib25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk1lc3NhZ2U9ZX19LHtrZXk6Im9uVXNlckFkZGVkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblVzZXJBZGRlZD1lfX0se2tleToib25Vc2VyUmVtb3ZlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25Vc2VyUmVtb3ZlZD1lfX0se2tleToib25DbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25DbG9zZT1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZT1lfX0se2tleToiYWRkVXNlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5sZW5ndGh9O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7aWYoMD09PWUuZmlsdGVyKHIpLmxlbmd0aClyZXR1cm4gaSgiRG9uJ3QgaGF2ZSB1c2VycyB0byBpbnZpdGUiKTt2YXIgYT1bXSxzPVtdLHU9e307ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzRE8oZS51c2VyLFsiY29tbSJdLFsiY2hhdCJdLGUuZG9tYWluKTthLnB1c2gocil9KSxvLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXsibGl2ZSI9PT1lLmRhdGEuc3RhdHVzPyhyLnB1c2goZS5kYXRhLmh5cGVydHlJRCksdVtlLmRhdGEuaHlwZXJ0eUlEXT1lKTpzLmxlbmd0aDw1JiZzLnB1c2goZSl9KX0pO3ZhciBuPSJyZXBvcnRlciI9PT10LmNvbnRyb2xsZXJNb2RlP3QuZGF0YU9iamVjdFJlcG9ydGVyOnQuZGF0YU9iamVjdE9ic2VydmVyO3MubGVuZ3RoPjAmJnQuX2ludml0YXRpb25zSGFuZGxlci5pbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMocyxuKSxuLmludml0ZU9ic2VydmVycyhyKSxuLmludml0YXRpb25zLmxlbmd0aD4wJiZ0Ll9pbnZpdGF0aW9uc0hhbmRsZXIucHJvY2Vzc0ludml0YXRpb25zKHUsbil9KS50aGVuKGZ1bmN0aW9uKCl7bighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtpKGUpfSl9KX19LHtrZXk6ImFkZFVzZXJSZXEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1mdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUubGVuZ3RofTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKDA9PT1lLmZpbHRlcihyKS5sZW5ndGgpcmV0dXJuIG8oIltDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2VyUmVxXSBEb24ndCBoYXZlIHVzZXJzIHRvIGFkZCIpO2lmKCJvYnNlcnZlciI9PT0hdC5jb250cm9sbGVyTW9kZSl7cmV0dXJuIG8oIltDaGF0TWFuYWdlci5DaGF0Q29udHJvbGxlci5hZGRVc2VyUmVxXSBvbmx5IGFsbG93ZWQgdG8gQ2hhdCBPYnNlcnZlciIpfX0pfX0se2tleToib25JbnZpdGF0aW9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fb25JbnZpdGF0aW9uUmVzcG9uc2U9ZSx0Ll9pbnZpdGF0aW9uc0hhbmRsZXIuaW52aXRhdGlvblJlc3BvbnNlPWV9fSx7a2V5OiJyZW1vdmVVc2VyIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aWYoInJlcG9ydGVyIj09PWUuY29udHJvbGxlck1vZGUpZS5faW52aXRhdGlvbnNIYW5kbGVyLmNsZWFuSW52aXRhdGlvbnMoZS5kYXRhT2JqZWN0UmVwb3J0ZXIpLnRoZW4oZnVuY3Rpb24oKXt0cnl7ZGVsZXRlIGUuX21hbmFnZXIuX3JlcG9ydGVyc0NvbnRyb2xsZXJzW2UuZGF0YU9iamVjdFJlcG9ydGVyLnVybF0sZS5kYXRhT2JqZWN0UmVwb3J0ZXIuZGVsZXRlKCksdCghMCksZS5fb25DbG9zZSYmZS5fb25DbG9zZSh7Y29kZToyMDAsZGVzYzoiZGVsZXRlZCIsdXJsOmUuZGF0YU9iamVjdFJlcG9ydGVyLnVybH0pfWNhdGNoKGUpe3IoITEpfX0pO2Vsc2UgdHJ5e2RlbGV0ZSBlLl9tYW5hZ2VyLl9vYnNlcnZlcnNDb250cm9sbGVyc1tlLmRhdGFPYmplY3RPYnNlcnZlci51cmxdLGUuZGF0YU9iamVjdE9ic2VydmVyLnVuc3Vic2NyaWJlKCksdCghMCl9Y2F0Y2goZSl7cighMSl9fSl9fSx7a2V5OiJpbnZpdGF0aW9uc0hhbmRsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnZpdGF0aW9uc0hhbmRsZXJ9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiJyZXBvcnRlciI9PT10aGlzLmNvbnRyb2xsZXJNb2RlP3RoaXMuZGF0YU9iamVjdFJlcG9ydGVyLnVybDp0aGlzLmRhdGFPYmplY3RPYnNlcnZlci51cmx9fSx7a2V5OiJkYXRhT2JqZWN0UmVwb3J0ZXIiLHNldDpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltDaGF0Q29udHJvbGxlcl0gVGhlIGRhdGEgb2JqZWN0IHJlcG9ydGVyIGlzIG5lY2Vzc2FyeSBwYXJhbWV0ZXIgIik7dmFyIHQ9dGhpczt0LmNvbnRyb2xsZXJNb2RlPSJyZXBvcnRlciIsZS5vblN1YnNjcmlwdGlvbihmdW5jdGlvbihlKXtzd2l0Y2goZS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VbnN1YnNjcmliZShlKX19KSx0Ll9zZXRPbkFkZENoaWxkTGlzdGVuZXIoZSksZS5vblJlYWQoZnVuY3Rpb24oZSl7ZS5hY2NlcHQoKX0pLGUub25FeGVjdXRlKGZ1bmN0aW9uKGUpe3N3aXRjaChlLm1ldGhvZCl7Y2FzZSJhZGRVc2VyIjp0LmFkZFVzZXIoZS5wYXJhbXNbMF0pLnRoZW4oZnVuY3Rpb24oKXtlLmFjY2VwdCgpfSkuY2F0Y2goZnVuY3Rpb24odCl7ZS5yZWplY3QodCl9KTticmVhaztjYXNlInJlbW92ZVVzZXIiOnQucmVtb3ZlVXNlcihlLnBhcmFtcykudGhlbihmdW5jdGlvbigpe2UuYWNjZXB0KCl9KS5jYXRjaChmdW5jdGlvbih0KXtlLnJlamVjdCh0KX0pO2JyZWFrO2RlZmF1bHQ6ZS5yZWplY3QoIltDaGF0Q29udHJvbGxlci5vbkV4ZWN1dGVdIENoYXQgbWV0aG9kIGV4ZWN1dGlvbiBub3QgYWNjZXB0ZWQgYnkgUmVwb3J0ZXIiKX19KSx0Ll9kYXRhT2JqZWN0UmVwb3J0ZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFPYmplY3RSZXBvcnRlcn19LHtrZXk6Im1lc3NhZ2VzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4icmVwb3J0ZXIiPT09dGhpcy5jb250cm9sbGVyTW9kZT90aGlzLl9kYXRhT2JqZWN0UmVwb3J0ZXIuX2NoaWxkcmVuT2JqZWN0cy5yZXNvdXJjZXM6dGhpcy5fZGF0YU9iamVjdE9ic2VydmVyLl9jaGlsZHJlbk9iamVjdHMucmVzb3VyY2VzfX0se2tleToiZGF0YU9iamVjdE9ic2VydmVyIixzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvbnRyb2xsZXJNb2RlPSJvYnNlcnZlciIsdC5fZGF0YU9iamVjdE9ic2VydmVyPWUsZS5vbkNoYW5nZSgiKiIsZnVuY3Rpb24oZSl7aWYoZS5maWVsZC5pbmNsdWRlcygicGFydGljaXBhbnRzIikpc3dpdGNoKGUuY1R5cGUpe2Nhc2UiYWRkIjp0Ll9vblVzZXJBZGRlZCYmdC5fb25Vc2VyQWRkZWQoZSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnQuX29uVXNlclJlbW92ZWQmJnQuX29uVXNlclJlbW92ZWQoZSl9dC5fb25DaGFuZ2UmJnQuX29uQ2hhbmdlKGUpfSksdC5fc2V0T25BZGRDaGlsZExpc3RlbmVyKGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyfX0se2tleToiZGF0YU9iamVjdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInJlcG9ydGVyIj09PXRoaXMuY29udHJvbGxlck1vZGU/dGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXI6dGhpcy5kYXRhT2JqZWN0T2JzZXJ2ZXJ9fSx7a2V5OiJjbG9zZUV2ZW50IixzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jbG9zZUV2ZW50PWUsdC5fb25DbG9zZSYmdC5fb25DbG9zZShlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3NlRXZlbnR9fV0pLENoYXRDb250cm9sbGVyfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9bC5nZXRMb2dnZXIoIkJ1cyIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCdXMoKXsoMCxhLmRlZmF1bHQpKHRoaXMsQnVzKTt2YXIgZT10aGlzO2UuX21zZ0lkPTAsZS5fc3Vic2NyaXB0aW9ucz17fSxlLl9yZXNwb25zZVRpbWVPdXQ9M2U0LGUuX3Jlc3BvbnNlQ2FsbGJhY2tzPXt9LGUuX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lcigpfXJldHVybigwLHUuZGVmYXVsdCkoQnVzLFt7a2V5OiJhZGRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49bmV3IHAoci5fc3Vic2NyaXB0aW9ucyxlLHQpLG89ci5fc3Vic2NyaXB0aW9uc1tlXTtyZXR1cm4gb3x8KG89W10sci5fc3Vic2NyaXB0aW9uc1tlXT1vKSxvLnB1c2gobiksbn19LHtrZXk6ImFkZFJlc3BvbnNlTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tlK3RdPXJ9fSx7a2V5OiJyZW1vdmVSZXNwb25zZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2RlbGV0ZSB0aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tlK3RdfX0se2tleToicmVtb3ZlQWxsTGlzdGVuZXJzT2YiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9zdWJzY3JpcHRpb25zW2VdfX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz10aGlzO3JldHVybnt0aGlzTGlzdGVuZXI6by5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKGUpe3IucG9zdE1lc3NhZ2UoZSl9KSx0YXJnZXRMaXN0ZW5lcjpyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7by5wb3N0TWVzc2FnZShlKX0pLHVuYmluZDpmdW5jdGlvbigpe24udGhpc0xpc3RlbmVyLnJlbW92ZSgpLG4udGFyZ2V0TGlzdGVuZXIucmVtb3ZlKCl9fX19LHtrZXk6Il9wdWJsaXNoT25EZWZhdWx0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zdWJzY3JpcHRpb25zWyIqIl07dCYmdGhpcy5fcHVibGlzaE9uKHQsZSl9fSx7a2V5OiJfcHVibGlzaE9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9jYWxsYmFjayh0KX0pfX0se2tleToiX3Jlc3BvbnNlQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPXRoaXM7aWYodCl7dmFyIG89ZS5mcm9tK2UuaWQ7bi5fcmVzcG9uc2VDYWxsYmFja3Nbb109dCxyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bi5fcmVzcG9uc2VDYWxsYmFja3Nbb107aWYoZGVsZXRlIG4uX3Jlc3BvbnNlQ2FsbGJhY2tzW29dLHQpe3Qoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDA4LGRlc2M6IlJlc3BvbnNlIHRpbWVvdXQhIix2YWx1ZTplfX0pfX0sbi5fcmVzcG9uc2VUaW1lT3V0KX19fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigicmVzcG9uc2UiPT09ZS50eXBlKXt2YXIgcj1lLnRvK2UuaWQsbj10Ll9yZXNwb25zZUNhbGxiYWNrc1tyXTtpZihlLmJvZHkuY29kZT49MjAwJiZkZWxldGUgdC5fcmVzcG9uc2VDYWxsYmFja3Nbcl0sbilyZXR1cm4gbihlKSwhMH1yZXR1cm4hMX19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj90Ll9wdWJsaXNoT24ocixlKTp0Ll9wdWJsaXNoT25EZWZhdWx0KGUpfX19LHtrZXk6Il9nZW5JZCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5pZCYmMCE9PWUuaWR8fCh0aGlzLl9tc2dJZCsrLGUuaWQ9dGhpcy5fbXNnSWQpfX0se2tleToicG9zdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleToicG9zdE1lc3NhZ2VXaXRoUmV0cmllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT0wLGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LG8pe24ucG9zdE1lc3NhZ2UoZSxmdW5jdGlvbihuKXs0MDg9PT1uLmJvZHkuY29kZXx8NTAwPT09bi5ib2R5LmNvZGU/bygpOihmLmluZm8oIltCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllc10gbXNnIGRlbGl2ZXJlZDogIixlKSxyKG4pLHQoKSl9KX0pfTshZnVuY3Rpb24gdHJ5QWdhaW4oKXthKCkudGhlbihmdW5jdGlvbigpe30sZnVuY3Rpb24oKXtpZihmLndhcm4oIltCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllc10gTWVzc2FnZSBCb3VuY2VkIChyZXRyeSAiK2krIik6ICciLGUpLCEoaSsrPHQpKXt2YXIgcj0iW0Vycm9yXSBNZXNzYWdlIEJvdW5jZWQgKGRlbGl2ZXJ5IGF0dGVtcHRzICIrdCsiKTogJyI7dGhyb3cgbmV3IEVycm9yKHIrZSl9dHJ5QWdhaW4oKX0pfSgpfX0se2tleToiX29uUG9zdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6Il9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxCdXN9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIE1zZ0xpc3RlbmVyKGUsdCxyKXsoMCxhLmRlZmF1bHQpKHRoaXMsTXNnTGlzdGVuZXIpO3ZhciBuPXRoaXM7bi5fc3Vic2NyaXB0aW9ucz1lLG4uX3VybD10LG4uX2NhbGxiYWNrPXJ9cmV0dXJuKDAsdS5kZWZhdWx0KShNc2dMaXN0ZW5lcixbe2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl9zdWJzY3JpcHRpb25zW2UuX3VybF07aWYodCl7dmFyIHI9dC5pbmRleE9mKGUpO3Quc3BsaWNlKHIsMSksMD09PXQubGVuZ3RoJiZkZWxldGUgZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdfX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksTXNnTGlzdGVuZXJ9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTcpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNTAzKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5SW5zdGFuY2UoZSx0LHIsbixpLHMsdSxjLGYsZCxwLHksaCx2LGcpeygwLGEuZGVmYXVsdCkodGhpcyxIeXBlcnR5SW5zdGFuY2UpO3ZhciBfPSgwLGwuZGVmYXVsdCkodGhpcywoSHlwZXJ0eUluc3RhbmNlLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UpKS5jYWxsKHRoaXMsZSx0LHIscCx2LGcpKSxiPV87cmV0dXJuIGIuX2Rlc2NyaXB0b3I9bixiLl9oeXBlcnR5VVJMPWksYi5fdXNlcj1zLGIuX2d1aWQ9dSxiLl9ydW50aW1lPWMsYi5fY29udGV4dD1mLGIuX3AycEhhbmRsZXI9ZCxiLl9kYXRhU2NoZW1lcz15LGIuX3Jlc291cmNlcz1oLF99cmV0dXJuKDAsZC5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsZSksKDAsdS5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsW3trZXk6InVzZXIiLHNldDpmdW5jdGlvbihlKXt0aGlzLnVzZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJ9fSx7a2V5OiJoeXBlcnR5VVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eVVSTH19LHtrZXk6ImRlc2NyaXB0b3IiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yfX0se2tleToib2JqZWN0TmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3IuX29iamVjdE5hbWV9fSx7a2V5OiJwMnBIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwSGFuZGxlcn19LHtrZXk6ImRhdGFTY2hlbWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVNjaGVtZXN9fSx7a2V5OiJyZXNvdXJjZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvdXJjZXN9fSx7a2V5OiJydW50aW1lVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZX19XSksSHlwZXJ0eUluc3RhbmNlfSh5LmRlZmF1bHQpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuV2F0Y2hpbmdZb3U9dm9pZCAwO3ZhciBuPXIoNTA2KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5XYXRjaGluZ1lvdT1vLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNTA4KSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDMpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNDYpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigyKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoNyksXz1yKDIxMyksYj12LmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdGllcyhlLHQpeygwLGQuZGVmYXVsdCkodGhpcyxJZGVudGl0aWVzKTt2YXIgcj10aGlzO3IuX3dhdGNoaW5nWW91PW5ldyBfLldhdGNoaW5nWW91LHIuX3N0b3JhZ2VNYW5hZ2VyPXQsci5fZ3VpZCxyLl90eXBlPWUsci5faWRlbnRpdGllcz17fSxyLl9hY2Nlc3NUb2tlbnM9ci53YXRjaGluZ1lvdS53YXRjaCgiYWNjZXNzVG9rZW5zIix7fSwhMCl9cmV0dXJuKDAseS5kZWZhdWx0KShJZGVudGl0aWVzLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pZGVudGl0aWVzPXt9LHRoaXMuY3VycmVudElkZW50aXR5PXZvaWQgMCx0aGlzLmRlZmF1bHRJZGVudGl0eT12b2lkIDB9fSx7a2V5OiJnZXRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKDAsbC5kZWZhdWx0KSh7fSx0aGlzLl9pZGVudGl0aWVzW2VdKX19LHtrZXk6ImxvYWRJZGVudGl0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KG51bGwsbnVsbCwiaWRlbnRpdGllcyIpLnRoZW4oZnVuY3Rpb24ocil7Yi5pbmZvKCJbSWRlbnRpdGllcy5Mb2FkIElkZW50aXRpZXNdIGlkZW50aXRpZXM6ICIsciksciYmKGUuX2lkZW50aXRpZXM9cixlLmlkZW50aWZpZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9KDAsZy5zZWNvbmRzU2luY2VFcG9jaCkoKSxuPWUuX2lkZW50aXRpZXNbdF0sbz1uLmV4cGlyZXM7ZS5kZWZhdWx0SWRlbnRpdHk9dCxwYXJzZUludChvKT5yJiYoZS5kZWZhdWx0SWRlbnRpdHkuZXhwaXJlcz1wYXJzZUludChvKSxlLmN1cnJlbnRJZGVudGl0eT10KX0pKSx0KCl9KX0pfX0se2tleToibG9hZEFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2VNYW5hZ2VyLmdldCgiYWNjZXNzVG9rZW5zIikudGhlbihmdW5jdGlvbihyKXtyJiYoZS5fYWNjZXNzVG9rZW5zPXIpLHQoKX0pfSl9fSx7a2V5OiJhZGRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXtpZihyLl9pc1ZhbGlkKGUpKXt2YXIgaT1lLmlkZW50aWZpZXJzWzBdOygwLGwuZGVmYXVsdCkodC5faWRlbnRpdGllc1tpXSxlKSx0Ll9zdG9yZUlkZW50aXR5KGUpLnRoZW4oZnVuY3Rpb24oKXt0Ll9pZGVudGl0aWVzW2ldLnN0YXR1cz0iY3JlYXRlZCIsbigpfSl9ZWxzZSBvKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBJZEFzc2VydGlvbiIpfSl9fSx7a2V5OiJhZGRBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoci5faXNWYWxpZChlKSl7ZS51c2VyUHJvZmlsZS5ndWlkPXIuX2d1aWQ7dmFyIGk9ZS51c2VyUHJvZmlsZS51c2VyVVJMO3IuaWRlbnRpdGllc1tpXT9yLmlkZW50aXRpZXNbaV09ZTpyLl9pZGVudGl0aWVzW2ldPWUsci5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7dC5faWRlbnRpdGllc1tpXS5zdGF0dXM9ImNyZWF0ZWQiLDA9PXIuZGVmYXVsdElkZW50aXR5JiYoci5kZWZhdWx0SWRlbnRpdHk9aSksbihlKX0pfWVsc2UgbygiW0lkZW50aXRpZXMuYWRkQXNzZXJ0aW9uXSBpbnZhbGlkIElkQXNzZXJ0aW9uOiAiLGUpfSl9fSx7a2V5OiJyZW1vdmVJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2RlbGV0ZSB0LmlkZW50aXRpZXNbZV0sdC5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6ImFkZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBiLmluZm8oIltJZGVudGl0aWVzLmFkZEFjY2Vzc1Rva2VuXSAiLGUpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9pc1ZhbGlkQWNjZXNzVG9rZW4oZSk/KHQuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl09ZSx0Ll9zdG9yZUFjY2Vzc1Rva2VucygpLnRoZW4oZnVuY3Rpb24oKXt0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dLnN0YXR1cz0iY3JlYXRlZCIscihlKX0pKTpuKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBBY2Nlc3NUb2tlbjogIixlKX0pfX0se2tleToic2V0QWNjZXNzVG9rZW5JblByb2dyZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9hY2Nlc3NUb2tlbnNbZV0/dGhpcy5fYWNjZXNzVG9rZW5zW2VdLnN0YXR1cz0iaW4tcHJvZ3Jlc3MiOnRoaXMuX2FjY2Vzc1Rva2Vuc1tlXT17c3RhdHVzOiJpbi1wcm9ncmVzcyJ9fX0se2tleToiZ2V0QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fYWNjZXNzVG9rZW5zW2VdO3JldHVybiByP3QuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPXIucmVzb3VyY2VzLmluZGV4T2YoZSl9KT90aGlzLl9hY2Nlc3NUb2tlbnNbZV06bmV3IEVycm9yKCJbSWRlbnRpdGllcy5nZXRBY2Nlc3NUb2tlbl0gTm90IGZvdW5kIGZvciAiLGUpOnZvaWQgMH19LHtrZXk6InVwZGF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj1lLnVzZXJQcm9maWxlLnVzZXJVUkw7aWYoIXQuaWRlbnRpdGllc1tuXSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdGllcy51cGRhdGVBc3NlcnRpb25dIElkZW50aXR5IG5vdCBmb3VuZCBmb3IgIixuKTt0LmlkZW50aXRpZXNbbl09ZSx0Ll9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToidXBkYXRlQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGIuaW5mbygiW0lkZW50aXRpZXMudXBkYXRlQWNjZXNzVG9rZW5dICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2lzVmFsaWRBY2Nlc3NUb2tlbihlKT8odC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5leHBpcmVzPWUuZXhwaXJlcyx0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dLmFjY2Vzc1Rva2VuPWUuYWNjZXNzVG9rZW4sdC5fc3RvcmVBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5zdGF0dXM9ImNyZWF0ZWQiLHIoZSl9KSk6bigiW0lkZW50aXRpZXMudXBkYXRlQWNjZXNzVG9rZW5dIGludmFsaWQgQWNjZXNzVG9rZW46ICIsZSl9KX19LHtrZXk6ImFkZElkQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLGk9bmV3IFIodCxyLG4pO28uaWRBc3NlcnRpb25MaXN0LnB1c2goaSl9fSx7a2V5OiJfaXNWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpKXJldHVybiExO3ZhciB0PWUuYXNzZXJ0aW9uLnNwbGl0KCIuIik7dHJ5e3RbMV0/KDAsZy5kZWNvZGUpKHRbMV0pOigwLGcuZGVjb2RlKShlLmFzc2VydGlvbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSx7a2V5OiJfaXNWYWxpZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWUuaGFzT3duUHJvcGVydHkoImFjY2Vzc1Rva2VuIikmJighIWUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYoISghZS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2VzIil8fCFBcnJheS5pc0FycmF5KGUucmVzb3VyY2VzKSkmJighKCFlLmhhc093blByb3BlcnR5KCJleHBpcmVzIil8fCEoMCxhLmRlZmF1bHQpKGUuZXhwaXJlcykpJiYhIWUuaGFzT3duUHJvcGVydHkoImlucHV0IikpKSl9fSx7a2V5OiJfc3RvcmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxvLmRlZmF1bHQpKGUuX2lkZW50aXRpZXMpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gdC5fc3RvcmFnZU1hbmFnZXIuc2V0KHIsMCxlLl9pZGVudGl0aWVzW3JdLCJpZGVudGl0aWVzIil9KTt1LmRlZmF1bHQuYWxsKGkpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yZUlkZW50aXR5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9zdG9yZUFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dmFyIG49KDAsZy5kZWVwQ2xvbmUpKGUuX2FjY2Vzc1Rva2Vucyk7ZS5fc3RvcmFnZU1hbmFnZXIuc2V0KCJhY2Nlc3NUb2tlbnMiLDAsbikudGhlbihmdW5jdGlvbigpe3QoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3IoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JlSWRlbnRpdHkgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9fSx7a2V5OiJhY2Nlc3NUb2tlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3NUb2tlbnN9fSx7a2V5OiJ3YXRjaGluZ1lvdSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhdGNoaW5nWW91fX0se2tleToiZ3VpZCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2d1aWQ9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aWR9fSx7a2V5OiJkZWZhdWx0SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IG5ldyBFcnJvcigiW0lkZW50aXRpZXMuc2V0IGRlZmF1bHRJZGVudGl0eSBdIEVycm9yOiBpZGVudGl0eSBkb2VzIG5vdCBleGlzdCBoZXJlOiAiLGUpO3RoaXMuX2RlZmF1bHRJZGVudGl0eT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2RlZmF1bHRJZGVudGl0eSYmKDAsbC5kZWZhdWx0KSh7fSx0aGlzLmlkZW50aXRpZXNbdGhpcy5fZGVmYXVsdElkZW50aXR5XSl9fSx7a2V5OiJjdXJyZW50SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IGU7dGhpcy5fY3VycmVudElkZW50aXR5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybigwLGwuZGVmYXVsdCkoe30sdGhpcy5pZGVudGl0aWVzW3RoaXMuX2N1cnJlbnRJZGVudGl0eV0pfX0se2tleToiaWRlbnRpZmllcnMiLGdldDpmdW5jdGlvbigpe3JldHVybigwLG8uZGVmYXVsdCkodGhpcy5faWRlbnRpdGllcyl9fV0pLElkZW50aXRpZXN9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIElkQXNzZXJ0aW9uKGUsdCxyKXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRBc3NlcnRpb24pO3ZhciBuPXRoaXM7bi5fYXNzZXJ0aW9uPWUsbi5faWRwPXQsbi5fdXNlclByb2ZpbGU9cn1yZXR1cm4oMCx5LmRlZmF1bHQpKElkQXNzZXJ0aW9uLFt7a2V5OiJhc3NlcnRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hc3NlcnRpb259fSx7a2V5OiJpZHAiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZHB9fSx7a2V5OiJ1c2VyUHJvZmlsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJQcm9maWxlfX1dKSxJZEFzc2VydGlvbn0oKTshZnVuY3Rpb24oKXtmdW5jdGlvbiBJZFZhbGlkYXRpb24oZSx0KXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRWYWxpZGF0aW9uKTt2YXIgcj10aGlzO3IuaWRlbnRpdHk9ZSxyLmNvbnRlbnRzPXR9KDAseS5kZWZhdWx0KShJZFZhbGlkYXRpb24sW3trZXk6InZhbGlkYXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fV0pfSgpO3QuZGVmYXVsdD1tLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIEFsbG93T3ZlcnJpZGVzKCl7KDAsby5kZWZhdWx0KSh0aGlzLEFsbG93T3ZlcnJpZGVzKX1yZXR1cm4oMCxhLmRlZmF1bHQpKEFsbG93T3ZlcnJpZGVzLFt7a2V5OiJjb21iaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZighMCl8fC0xPT09ZS5pbmRleE9mKCExKSYmIk5vdCBBcHBsaWNhYmxlIn19XSksQWxsb3dPdmVycmlkZXN9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQmxvY2tPdmVycmlkZXMoKXsoMCxvLmRlZmF1bHQpKHRoaXMsQmxvY2tPdmVycmlkZXMpfXJldHVybigwLGEuZGVmYXVsdCkoQmxvY2tPdmVycmlkZXMsW3trZXk6ImNvbWJpbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCExKSYmKC0xIT09ZS5pbmRleE9mKCEwKXx8Ik5vdCBBcHBsaWNhYmxlIil9fV0pLEJsb2NrT3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIEZpcnN0QXBwbGljYWJsZSgpeygwLG8uZGVmYXVsdCkodGhpcyxGaXJzdEFwcGxpY2FibGUpfXJldHVybigwLGEuZGVmYXVsdCkoRmlyc3RBcHBsaWNhYmxlLFt7a2V5OiJjb21iaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZigiTm90IEFwcGxpY2FibGUiIT09ZVt0XSlyZXR1cm4gZVt0XTtyZXR1cm4iTm90IEFwcGxpY2FibGUifX1dKSxGaXJzdEFwcGxpY2FibGV9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUzMSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig1MzgpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig0KSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocyksYz11LmdldExvZ2dlcigiU3luU3Vic2NyaXB0aW9uIiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbihlLHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBhPXRoaXMscz1yKyIvY2hpbGRyZW4vIix1PXIrIi9jaGFuZ2VzIjthLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTtlLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7Yy5sb2coIlN1YnNjcmlwdGlvbi1ERUxFVEUtUkVQTFk6ICIsZSksMjAwPT09ZS5ib2R5LmNvZGUmJmEuX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0pLGEuX2NoYW5nZUxpc3RlbmVyPWk/ZS5hZGRQdWJsaXNoKHUpOmUuYWRkRm9yd2FyZCh1LHQpLGEuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMubG9nKCJbU3Vic2NyaXB0aW9uXSAtIGNoaWxkSUQiLG4pLG4uZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1zK3I7Yy5sb2coIltTdWJzY3JpcHRpb25dIC0gY2hpbGRJRCIscyxuLHIpO3ZhciBvPWUuYWRkUHVibGlzaChuKTtpZihhLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG8pLCFpKXt2YXIgdT1lLmFkZEZvcndhcmQobix0KTthLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKHUpfX0pfXJldHVybigwLGEuZGVmYXVsdCkoU3Vic2NyaXB0aW9uLFt7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2RlbGV0ZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pfX1dKSxTdWJzY3JpcHRpb259KCk7dC5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe3IoMjIyKSxlLmV4cG9ydHM9cig0MjQpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiBkZWZpbmUoZSxyLG4pe2Vbcl18fE9iamVjdFt0XShlLHIse3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTpufSl9aWYocigyMjMpLHIoNDIwKSxyKDQyMSksZS5fYmFiZWxQb2x5ZmlsbCl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgb25lIGluc3RhbmNlIG9mIGJhYmVsLXBvbHlmaWxsIGlzIGFsbG93ZWQiKTtlLl9iYWJlbFBvbHlmaWxsPSEwO3ZhciB0PSJkZWZpbmVQcm9wZXJ0eSI7ZGVmaW5lKFN0cmluZy5wcm90b3R5cGUsInBhZExlZnQiLCIiLnBhZFN0YXJ0KSxkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwicGFkUmlnaHQiLCIiLnBhZEVuZCksInBvcCxyZXZlcnNlLHNoaWZ0LGtleXMsdmFsdWVzLGVudHJpZXMsaW5kZXhPZixldmVyeSxzb21lLGZvckVhY2gsbWFwLGZpbHRlcixmaW5kLGZpbmRJbmRleCxpbmNsdWRlcyxqb2luLHNsaWNlLGNvbmNhdCxwdXNoLHNwbGljZSx1bnNoaWZ0LHNvcnQsbGFzdEluZGV4T2YscmVkdWNlLHJlZHVjZVJpZ2h0LGNvcHlXaXRoaW4sZmlsbCIuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1tdW2VdJiZkZWZpbmUoQXJyYXksZSxGdW5jdGlvbi5jYWxsLmJpbmQoW11bZV0pKX0pfSkuY2FsbCh0LHIoMTU0KSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDIyNCkscigyMjYpLHIoMjI3KSxyKDIyOCkscigyMjkpLHIoMjMwKSxyKDIzMSkscigyMzIpLHIoMjMzKSxyKDIzNCkscigyMzUpLHIoMjM2KSxyKDIzNykscigyMzgpLHIoMjM5KSxyKDI0MCkscigyNDIpLHIoMjQzKSxyKDI0NCkscigyNDUpLHIoMjQ2KSxyKDI0NykscigyNDgpLHIoMjQ5KSxyKDI1MCkscigyNTEpLHIoMjUyKSxyKDI1MykscigyNTQpLHIoMjU1KSxyKDI1NikscigyNTcpLHIoMjU4KSxyKDI1OSkscigyNjApLHIoMjYxKSxyKDI2MikscigyNjMpLHIoMjY0KSxyKDI2NSkscigyNjYpLHIoMjY3KSxyKDI2OCkscigyNjkpLHIoMjcwKSxyKDI3MSkscigyNzIpLHIoMjczKSxyKDI3NCkscigyNzUpLHIoMjc2KSxyKDI3NykscigyNzgpLHIoMjc5KSxyKDI4MCkscigyODEpLHIoMjgyKSxyKDI4MykscigyODQpLHIoMjg1KSxyKDI4NikscigyODcpLHIoMjg4KSxyKDI4OSkscigyOTApLHIoMjkxKSxyKDI5MikscigyOTMpLHIoMjk0KSxyKDI5NSkscigyOTYpLHIoMjk3KSxyKDI5OCkscigyOTkpLHIoMzAwKSxyKDMwMSkscigzMDIpLHIoMzA0KSxyKDMwNSkscigzMDcpLHIoMzA4KSxyKDMwOSkscigzMTApLHIoMzExKSxyKDMxMikscigzMTMpLHIoMzE1KSxyKDMxNikscigzMTcpLHIoMzE4KSxyKDMxOSkscigzMjApLHIoMzIxKSxyKDMyMikscigzMjMpLHIoMzI0KSxyKDMyNSkscigzMjYpLHIoMzI3KSxyKDEyNykscigzMjgpLHIoMzI5KSxyKDE3MykscigzMzApLHIoMzMxKSxyKDMzMikscigzMzMpLHIoMzM0KSxyKDE3NikscigxNzgpLHIoMTc5KSxyKDMzNSkscigzMzYpLHIoMzM3KSxyKDMzOCkscigzMzkpLHIoMzQwKSxyKDM0MSkscigzNDIpLHIoMzQzKSxyKDM0NCkscigzNDUpLHIoMzQ2KSxyKDM0NykscigzNDgpLHIoMzQ5KSxyKDM1MCkscigzNTEpLHIoMzUyKSxyKDM1MykscigzNTQpLHIoMzU1KSxyKDM1NikscigzNTcpLHIoMzU4KSxyKDM1OSkscigzNjApLHIoMzYxKSxyKDM2MikscigzNjMpLHIoMzY0KSxyKDM2NSkscigzNjYpLHIoMzY3KSxyKDM2OCkscigzNjkpLHIoMzcwKSxyKDM3MSkscigzNzIpLHIoMzczKSxyKDM3NCkscigzNzUpLHIoMzc2KSxyKDM3NykscigzNzgpLHIoMzc5KSxyKDM4MCkscigzODEpLHIoMzgyKSxyKDM4MykscigzODQpLHIoMzg1KSxyKDM4NikscigzODcpLHIoMzg4KSxyKDM4OSkscigzOTApLHIoMzkxKSxyKDM5MikscigzOTMpLHIoMzk0KSxyKDM5NSkscigzOTYpLHIoMzk3KSxyKDM5OCkscigzOTkpLHIoNDAwKSxyKDQwMSkscig0MDIpLHIoNDAzKSxyKDQwNCkscig0MDUpLHIoNDA2KSxyKDQwNykscig0MDgpLHIoNDA5KSxyKDQxMCkscig0MTEpLHIoNDEyKSxyKDQxMykscig0MTQpLHIoNDE1KSxyKDQxNikscig0MTcpLHIoNDE4KSxyKDQxOSksZS5leHBvcnRzPXIoMzEpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNiksbz1yKDI3KSxpPXIoMTIpLGE9cigwKSxzPXIoMjQpLHU9cig0NykuS0VZLGM9cig4KSxsPXIoODMpLGY9cig2NCksZD1yKDUzKSxwPXIoMTApLHk9cigxNTYpLGg9cigxMDcpLHY9cigyMjUpLGc9cig4NiksXz1yKDUpLGI9cig5KSxtPXIoMjgpLFI9cigzNiksTz1yKDUyKSx3PXIoNTYpLGs9cigxNTkpLFM9cigyOSksUD1yKDEzKSxEPXIoNTQpLE09Uy5mLEw9UC5mLGo9ay5mLFU9bi5TeW1ib2wsRT1uLkpTT04seD1FJiZFLnN0cmluZ2lmeSxBPXAoIl9oaWRkZW4iKSxJPXAoInRvUHJpbWl0aXZlIiksQz17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxUPWwoInN5bWJvbC1yZWdpc3RyeSIpLHE9bCgic3ltYm9scyIpLEg9bCgib3Atc3ltYm9scyIpLE49T2JqZWN0LnByb3RvdHlwZSxGPSJmdW5jdGlvbiI9PXR5cGVvZiBVLEI9bi5RT2JqZWN0LEc9IUJ8fCFCLnByb3RvdHlwZXx8IUIucHJvdG90eXBlLmZpbmRDaGlsZCxLPWkmJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9dyhMKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU0oTix0KTtuJiZkZWxldGUgTlt0XSxMKGUsdCxyKSxuJiZlIT09TiYmTChOLHQsbil9OkwsVj1mdW5jdGlvbihlKXt2YXIgdD1xW2VdPXcoVS5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sVz1GJiYic3ltYm9sIj09dHlwZW9mIFUuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFV9LFk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09TiYmWShILHQsciksXyhlKSx0PVIodCwhMCksXyhyKSxvKHEsdCk/KHIuZW51bWVyYWJsZT8obyhlLEEpJiZlW0FdW3RdJiYoZVtBXVt0XT0hMSkscj13KHIse2VudW1lcmFibGU6TygwLCExKX0pKToobyhlLEEpfHxMKGUsQSxPKDEse30pKSxlW0FdW3RdPSEwKSxLKGUsdCxyKSk6TChlLHQscil9LEo9ZnVuY3Rpb24oZSx0KXtfKGUpO2Zvcih2YXIgcixuPXYodD1tKHQpKSxvPTAsaT1uLmxlbmd0aDtpPm87KVkoZSxyPW5bbysrXSx0W3JdKTtyZXR1cm4gZX0sej1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3coZSk6Sih3KGUpLHQpfSxYPWZ1bmN0aW9uKGUpe3ZhciB0PUMuY2FsbCh0aGlzLGU9UihlLCEwKSk7cmV0dXJuISh0aGlzPT09TiYmbyhxLGUpJiYhbyhILGUpKSYmKCEodHx8IW8odGhpcyxlKXx8IW8ocSxlKXx8byh0aGlzLEEpJiZ0aGlzW0FdW2VdKXx8dCl9LCQ9ZnVuY3Rpb24oZSx0KXtpZihlPW0oZSksdD1SKHQsITApLGUhPT1OfHwhbyhxLHQpfHxvKEgsdCkpe3ZhciByPU0oZSx0KTtyZXR1cm4hcnx8IW8ocSx0KXx8byhlLEEpJiZlW0FdW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sUT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1qKG0oZSkpLG49W10saT0wO3IubGVuZ3RoPmk7KW8ocSx0PXJbaSsrXSl8fHQ9PUF8fHQ9PXV8fG4ucHVzaCh0KTtyZXR1cm4gbn0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09TixuPWoocj9IOm0oZSkpLGk9W10sYT0wO24ubGVuZ3RoPmE7KSFvKHEsdD1uW2ErK10pfHxyJiYhbyhOLHQpfHxpLnB1c2gocVt0XSk7cmV0dXJuIGl9O0Z8fChVPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFUpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09TiYmdC5jYWxsKEgsciksbyh0aGlzLEEpJiZvKHRoaXNbQV0sZSkmJih0aGlzW0FdW2VdPSExKSxLKHRoaXMsZSxPKDEscikpfTtyZXR1cm4gaSYmRyYmSyhOLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFYoZSl9LHMoVS5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksUy5mPSQsUC5mPVkscig1NykuZj1rLmY9USxyKDc0KS5mPVgscig4NSkuZj1aLGkmJiFyKDQ4KSYmcyhOLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkseS5mPWZ1bmN0aW9uKGUpe3JldHVybiBWKHAoZSkpfSksYShhLkcrYS5XK2EuRiohRix7U3ltYm9sOlV9KTtmb3IodmFyIGVlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSx0ZT0wO2VlLmxlbmd0aD50ZTspcChlZVt0ZSsrXSk7Zm9yKHZhciByZT1EKHAuc3RvcmUpLG5lPTA7cmUubGVuZ3RoPm5lOyloKHJlW25lKytdKTthKGEuUythLkYqIUYsIlN5bWJvbCIse2ZvcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhULGUrPSIiKT9UW2VdOlRbZV09VShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBUKWlmKFRbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtHPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtHPSExfX0pLGEoYS5TK2EuRiohRiwiT2JqZWN0Iix7Y3JlYXRlOnosZGVmaW5lUHJvcGVydHk6WSxkZWZpbmVQcm9wZXJ0aWVzOkosZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczpafSksRSYmYShhLlMrYS5GKighRnx8YyhmdW5jdGlvbigpe3ZhciBlPVUoKTtyZXR1cm4iW251bGxdIiE9eChbZV0pfHwie30iIT14KHthOmV9KXx8Int9IiE9eChPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7aWYocj10PW5bMV0sKGIodCl8fHZvaWQgMCE9PWUpJiYhVyhlKSlyZXR1cm4gZyh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIVcodCkpcmV0dXJuIHR9KSxuWzFdPXQseC5hcHBseShFLG4pfX0pLFUucHJvdG90eXBlW0ldfHxyKDIzKShVLnByb3RvdHlwZSxJLFUucHJvdG90eXBlLnZhbHVlT2YpLGYoVSwiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihuLkpTT04sIkpTT04iLCEwKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTQpLG89cig4NSksaT1yKDc0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlKSxyPW8uZjtpZihyKWZvcih2YXIgYSxzPXIoZSksdT1pLmYsYz0wO3MubGVuZ3RoPmM7KXUuY2FsbChlLGE9c1tjKytdKSYmdC5wdXNoKGEpO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse2NyZWF0ZTpyKDU2KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUytuLkYqIXIoMTIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDEzKS5mfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TK24uRiohcigxMiksIk9iamVjdCIse2RlZmluZVByb3BlcnRpZXM6cigxNTgpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI4KSxvPXIoMjkpLmY7cigzOSkoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhuKGUpLHQpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSksbz1yKDMwKTtyKDM5KSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSksbz1yKDU0KTtyKDM5KSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDM5KSgiZ2V0T3duUHJvcGVydHlOYW1lcyIsZnVuY3Rpb24oKXtyZXR1cm4gcigxNTkpLmZ9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksbz1yKDQ3KS5vbkZyZWV6ZTtyKDM5KSgiZnJlZXplIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUmJm4odCk/ZShvKHQpKTp0fX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoNDcpLm9uRnJlZXplO3IoMzkpKCJzZWFsIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUmJm4odCk/ZShvKHQpKTp0fX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoNDcpLm9uRnJlZXplO3IoMzkpKCJwcmV2ZW50RXh0ZW5zaW9ucyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2Uobyh0KSk6dH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7cigzOSkoImlzRnJvemVuIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIW4odCl8fCEhZSYmZSh0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7cigzOSkoImlzU2VhbGVkIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIW4odCl8fCEhZSYmZSh0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7cigzOSkoImlzRXh0ZW5zaWJsZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhbih0KSYmKCFlfHxlKHQpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigxNjApfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJPYmplY3QiLHtpczpyKDI0MSl9KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9T2JqZWN0LmlzfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT0xL3Q6ZSE9ZSYmdCE9dH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjpyKDExMSkuc2V0fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig3NSksbz17fTtvW3IoMTApKCJ0b1N0cmluZ1RhZyIpXT0ieiIsbysiIiE9IltvYmplY3Qgel0iJiZyKDI0KShPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK24odGhpcykrIl0ifSwhMCl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJGdW5jdGlvbiIse2JpbmQ6cigxNjEpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKS5mLG89RnVuY3Rpb24ucHJvdG90eXBlLGk9L15ccypmdW5jdGlvbiAoW14gKF0qKS87Im5hbWUiaW4gb3x8cigxMikmJm4obywibmFtZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuKCIiK3RoaXMpLm1hdGNoKGkpWzFdfWNhdGNoKGUpe3JldHVybiIifX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDkpLG89cigzMCksaT1yKDEwKSgiaGFzSW5zdGFuY2UiKSxhPUZ1bmN0aW9uLnByb3RvdHlwZTtpIGluIGF8fHIoMTMpLmYoYSxpLHt2YWx1ZTpmdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdGhpc3x8IW4oZSkpcmV0dXJuITE7aWYoIW4odGhpcy5wcm90b3R5cGUpKXJldHVybiBlIGluc3RhbmNlb2YgdGhpcztmb3IoO2U9byhlKTspaWYodGhpcy5wcm90b3R5cGU9PT1lKXJldHVybiEwO3JldHVybiExfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTYzKTtuKG4uRytuLkYqKHBhcnNlSW50IT1vKSx7cGFyc2VJbnQ6b30pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTY0KTtuKG4uRytuLkYqKHBhcnNlRmxvYXQhPW8pLHtwYXJzZUZsb2F0Om99KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYpLG89cigyNyksaT1yKDMzKSxhPXIoMTEzKSxzPXIoMzYpLHU9cig4KSxjPXIoNTcpLmYsbD1yKDI5KS5mLGY9cigxMykuZixkPXIoNjUpLnRyaW0scD1uLk51bWJlcix5PXAsaD1wLnByb3RvdHlwZSx2PSJOdW1iZXIiPT1pKHIoNTYpKGgpKSxnPSJ0cmltImluIFN0cmluZy5wcm90b3R5cGUsXz1mdW5jdGlvbihlKXt2YXIgdD1zKGUsITEpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmdC5sZW5ndGg+Mil7dD1nP3QudHJpbSgpOmQodCwzKTt2YXIgcixuLG8saT10LmNoYXJDb2RlQXQoMCk7aWYoNDM9PT1pfHw0NT09PWkpe2lmKDg4PT09KHI9dC5jaGFyQ29kZUF0KDIpKXx8MTIwPT09cilyZXR1cm4gTmFOfWVsc2UgaWYoNDg9PT1pKXtzd2l0Y2godC5jaGFyQ29kZUF0KDEpKXtjYXNlIDY2OmNhc2UgOTg6bj0yLG89NDk7YnJlYWs7Y2FzZSA3OTpjYXNlIDExMTpuPTgsbz01NTticmVhaztkZWZhdWx0OnJldHVybit0fWZvcih2YXIgYSx1PXQuc2xpY2UoMiksYz0wLGw9dS5sZW5ndGg7YzxsO2MrKylpZigoYT11LmNoYXJDb2RlQXQoYykpPDQ4fHxhPm8pcmV0dXJuIE5hTjtyZXR1cm4gcGFyc2VJbnQodSxuKX19cmV0dXJuK3R9O2lmKCFwKCIgMG8xIil8fCFwKCIwYjEiKXx8cCgiKzB4MSIpKXtwPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8MT8wOmUscj10aGlzO3JldHVybiByIGluc3RhbmNlb2YgcCYmKHY/dShmdW5jdGlvbigpe2gudmFsdWVPZi5jYWxsKHIpfSk6Ik51bWJlciIhPWkocikpP2EobmV3IHkoXyh0KSkscixwKTpfKHQpfTtmb3IodmFyIGIsbT1yKDEyKT9jKHkpOiJNQVhfVkFMVUUsTUlOX1ZBTFVFLE5hTixORUdBVElWRV9JTkZJTklUWSxQT1NJVElWRV9JTkZJTklUWSxFUFNJTE9OLGlzRmluaXRlLGlzSW50ZWdlcixpc05hTixpc1NhZmVJbnRlZ2VyLE1BWF9TQUZFX0lOVEVHRVIsTUlOX1NBRkVfSU5URUdFUixwYXJzZUZsb2F0LHBhcnNlSW50LGlzSW50ZWdlciIuc3BsaXQoIiwiKSxSPTA7bS5sZW5ndGg+UjtSKyspbyh5LGI9bVtSXSkmJiFvKHAsYikmJmYocCxiLGwoeSxiKSk7cC5wcm90b3R5cGU9aCxoLmNvbnN0cnVjdG9yPXAscigyNCkobiwiTnVtYmVyIixwKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMzgpLGk9cigxNjUpLGE9cigxMTQpLHM9MS4udG9GaXhlZCx1PU1hdGguZmxvb3IsYz1bMCwwLDAsMCwwLDBdLGw9Ik51bWJlci50b0ZpeGVkOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiLGY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9LTEsbj10Oysrcjw2OyluKz1lKmNbcl0sY1tyXT1uJTFlNyxuPXUobi8xZTcpfSxkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD02LHI9MDstLXQ+PTA7KXIrPWNbdF0sY1t0XT11KHIvZSkscj1yJWUqMWU3fSxwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTYsdD0iIjstLWU+PTA7KWlmKCIiIT09dHx8MD09PWV8fDAhPT1jW2VdKXt2YXIgcj1TdHJpbmcoY1tlXSk7dD0iIj09PXQ/cjp0K2EuY2FsbCgiMCIsNy1yLmxlbmd0aCkrcn1yZXR1cm4gdH0seT1mdW5jdGlvbihlLHQscil7cmV0dXJuIDA9PT10P3I6dCUyPT0xP3koZSx0LTEsciplKTp5KGUqZSx0LzIscil9LGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj1lO3I+PTQwOTY7KXQrPTEyLHIvPTQwOTY7Zm9yKDtyPj0yOyl0Kz0xLHIvPTI7cmV0dXJuIHR9O24obi5QK24uRiooISFzJiYoIjAuMDAwIiE9PThlLTUudG9GaXhlZCgzKXx8IjEiIT09LjkudG9GaXhlZCgwKXx8IjEuMjUiIT09MS4yNTUudG9GaXhlZCgyKXx8IjEwMDAwMDAwMDAwMDAwMDAxMjgiIT09KDB4ZGUwYjZiM2E3NjQwMDgwKS50b0ZpeGVkKDApKXx8IXIoOCkoZnVuY3Rpb24oKXtzLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b0ZpeGVkOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixzLHU9aSh0aGlzLGwpLGM9byhlKSx2PSIiLGc9IjAiO2lmKGM8MHx8Yz4yMCl0aHJvdyBSYW5nZUVycm9yKGwpO2lmKHUhPXUpcmV0dXJuIk5hTiI7aWYodTw9LTFlMjF8fHU+PTFlMjEpcmV0dXJuIFN0cmluZyh1KTtpZih1PDAmJih2PSItIix1PS11KSx1PjFlLTIxKWlmKHQ9aCh1KnkoMiw2OSwxKSktNjkscj10PDA/dSp5KDIsLXQsMSk6dS95KDIsdCwxKSxyKj00NTAzNTk5NjI3MzcwNDk2LCh0PTUyLXQpPjApe2ZvcihmKDAsciksbj1jO24+PTc7KWYoMWU3LDApLG4tPTc7Zm9yKGYoeSgxMCxuLDEpLDApLG49dC0xO24+PTIzOylkKDE8PDIzKSxuLT0yMztkKDE8PG4pLGYoMSwxKSxkKDIpLGc9cCgpfWVsc2UgZigwLHIpLGYoMTw8LXQsMCksZz1wKCkrYS5jYWxsKCIwIixjKTtyZXR1cm4gYz4wPyhzPWcubGVuZ3RoLGc9disoczw9Yz8iMC4iK2EuY2FsbCgiMCIsYy1zKStnOmcuc2xpY2UoMCxzLWMpKyIuIitnLnNsaWNlKHMtYykpKTpnPXYrZyxnfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDgpLGk9cigxNjUpLGE9MS4udG9QcmVjaXNpb247bihuLlArbi5GKihvKGZ1bmN0aW9uKCl7cmV0dXJuIjEiIT09YS5jYWxsKDEsdm9pZCAwKX0pfHwhbyhmdW5jdGlvbigpe2EuY2FsbCh7fSl9KSksIk51bWJlciIse3RvUHJlY2lzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcywiTnVtYmVyI3RvUHJlY2lzaW9uOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gdm9pZCAwPT09ZT9hLmNhbGwodCk6YS5jYWxsKHQsZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtFUFNJTE9OOk1hdGgucG93KDIsLTUyKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNikuaXNGaW5pdGU7bihuLlMsIk51bWJlciIse2lzRmluaXRlOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmbyhlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDE2Nil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzTmFOOmZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTY2KSxpPU1hdGguYWJzO24obi5TLCJOdW1iZXIiLHtpc1NhZmVJbnRlZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpJiZpKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7TUFYX1NBRkVfSU5URUdFUjo5MDA3MTk5MjU0NzQwOTkxfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtNSU5fU0FGRV9JTlRFR0VSOi05MDA3MTk5MjU0NzQwOTkxfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNjQpO24obi5TK24uRiooTnVtYmVyLnBhcnNlRmxvYXQhPW8pLCJOdW1iZXIiLHtwYXJzZUZsb2F0Om99KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE2Myk7bihuLlMrbi5GKihOdW1iZXIucGFyc2VJbnQhPW8pLCJOdW1iZXIiLHtwYXJzZUludDpvfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNjcpLGk9TWF0aC5zcXJ0LGE9TWF0aC5hY29zaDtuKG4uUytuLkYqIShhJiY3MTA9PU1hdGguZmxvb3IoYShOdW1iZXIuTUFYX1ZBTFVFKSkmJmEoMS8wKT09MS8wKSwiTWF0aCIse2Fjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihlPStlKTwxP05hTjplPjk0OTA2MjY1LjYyNDI1MTU2P01hdGgubG9nKGUpK01hdGguTE4yOm8oZS0xK2koZS0xKSppKGUrMSkpfX0pfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYXNpbmgoZSl7cmV0dXJuIGlzRmluaXRlKGU9K2UpJiYwIT1lP2U8MD8tYXNpbmgoLWUpOk1hdGgubG9nKGUrTWF0aC5zcXJ0KGUqZSsxKSk6ZX12YXIgbj1yKDApLG89TWF0aC5hc2luaDtuKG4uUytuLkYqIShvJiYxL28oMCk+MCksIk1hdGgiLHthc2luaDphc2luaH0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguYXRhbmg7bihuLlMrbi5GKiEobyYmMS9vKC0wKTwwKSwiTWF0aCIse2F0YW5oOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSk/ZTpNYXRoLmxvZygoMStlKS8oMS1lKSkvMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDExNSk7bihuLlMsIk1hdGgiLHtjYnJ0OmZ1bmN0aW9uKGUpe3JldHVybiBvKGU9K2UpKk1hdGgucG93KE1hdGguYWJzKGUpLDEvMyl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7Y2x6MzI6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+Pj49MCk/MzEtTWF0aC5mbG9vcihNYXRoLmxvZyhlKy41KSpNYXRoLkxPRzJFKTozMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLmV4cDtuKG4uUywiTWF0aCIse2Nvc2g6ZnVuY3Rpb24oZSl7cmV0dXJuKG8oZT0rZSkrbygtZSkpLzJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMTYpO24obi5TK24uRioobyE9TWF0aC5leHBtMSksIk1hdGgiLHtleHBtMTpvfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7ZnJvdW5kOnIoMTY4KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguYWJzO24obi5TLCJNYXRoIix7aHlwb3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpPTAsYT0wLHM9YXJndW1lbnRzLmxlbmd0aCx1PTA7YTxzOylyPW8oYXJndW1lbnRzW2ErK10pLHU8cj8obj11L3IsaT1pKm4qbisxLHU9cik6cj4wPyhuPXIvdSxpKz1uKm4pOmkrPXI7cmV0dXJuIHU9PT0xLzA/MS8wOnUqTWF0aC5zcXJ0KGkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguaW11bDtuKG4uUytuLkYqcig4KShmdW5jdGlvbigpe3JldHVybi01IT1vKDQyOTQ5NjcyOTUsNSl8fDIhPW8ubGVuZ3RofSksIk1hdGgiLHtpbXVsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxvPTY1NTM1JnIsaT02NTUzNSZuO3JldHVybiAwfG8qaSsoKDY1NTM1JnI+Pj4xNikqaStvKig2NTUzNSZuPj4+MTYpPDwxNj4+PjApfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2xvZzEwOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzEwRX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtsb2cxcDpyKDE2Nyl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtsb2cyOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKS9NYXRoLkxOMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduOnIoMTE1KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTE2KSxpPU1hdGguZXhwO24obi5TK24uRipyKDgpKGZ1bmN0aW9uKCl7cmV0dXJuLTJlLTE3IT0hTWF0aC5zaW5oKC0yZS0xNyl9KSwiTWF0aCIse3Npbmg6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU9K2UpPDE/KG8oZSktbygtZSkpLzI6KGkoZS0xKS1pKC1lLTEpKSooTWF0aC5FLzIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTE2KSxpPU1hdGguZXhwO24obi5TLCJNYXRoIix7dGFuaDpmdW5jdGlvbihlKXt2YXIgdD1vKGU9K2UpLHI9bygtZSk7cmV0dXJuIHQ9PTEvMD8xOnI9PTEvMD8tMToodC1yKS8oaShlKStpKC1lKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dHJ1bmM6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+MD9NYXRoLmZsb29yOk1hdGguY2VpbCkoZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cig1NSksaT1TdHJpbmcuZnJvbUNoYXJDb2RlLGE9U3RyaW5nLmZyb21Db2RlUG9pbnQ7bihuLlMrbi5GKighIWEmJjEhPWEubGVuZ3RoKSwiU3RyaW5nIix7ZnJvbUNvZGVQb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQscj1bXSxuPWFyZ3VtZW50cy5sZW5ndGgsYT0wO24+YTspe2lmKHQ9K2FyZ3VtZW50c1thKytdLG8odCwxMTE0MTExKSE9PXQpdGhyb3cgUmFuZ2VFcnJvcih0KyIgaXMgbm90IGEgdmFsaWQgY29kZSBwb2ludCIpO3IucHVzaCh0PDY1NTM2P2kodCk6aSg1NTI5NisoKHQtPTY1NTM2KT4+MTApLHQlMTAyNCs1NjMyMCkpfXJldHVybiByLmpvaW4oIiIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjgpLGk9cigxNCk7bihuLlMsIlN0cmluZyIse3JhdzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9byhlLnJhdykscj1pKHQubGVuZ3RoKSxuPWFyZ3VtZW50cy5sZW5ndGgsYT1bXSxzPTA7cj5zOylhLnB1c2goU3RyaW5nKHRbcysrXSkpLHM8biYmYS5wdXNoKFN0cmluZyhhcmd1bWVudHNbc10pKTtyZXR1cm4gYS5qb2luKCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDY1KSgidHJpbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywzKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDExNykoITApO3IoMTE4KShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDExNykoITEpO24obi5QLCJTdHJpbmciLHtjb2RlUG9pbnRBdDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE0KSxpPXIoMTIwKSxhPSIiLmVuZHNXaXRoO24obi5QK24uRipyKDEyMSkoImVuZHNXaXRoIiksIlN0cmluZyIse2VuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlLCJlbmRzV2l0aCIpLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1vKHQubGVuZ3RoKSxzPXZvaWQgMD09PXI/bjpNYXRoLm1pbihvKHIpLG4pLHU9U3RyaW5nKGUpO3JldHVybiBhP2EuY2FsbCh0LHUscyk6dC5zbGljZShzLXUubGVuZ3RoLHMpPT09dX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMjApO24obi5QK24uRipyKDEyMSkoImluY2x1ZGVzIiksIlN0cmluZyIse2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiEhfm8odGhpcyxlLCJpbmNsdWRlcyIpLmluZGV4T2YoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJTdHJpbmciLHtyZXBlYXQ6cigxMTQpfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTQpLGk9cigxMjApLGE9IiIuc3RhcnRzV2l0aDtuKG4uUCtuLkYqcigxMjEpKCJzdGFydHNXaXRoIiksIlN0cmluZyIse3N0YXJ0c1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzLGUsInN0YXJ0c1dpdGgiKSxyPW8oTWF0aC5taW4oYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdC5sZW5ndGgpKSxuPVN0cmluZyhlKTtyZXR1cm4gYT9hLmNhbGwodCxuLHIpOnQuc2xpY2UocixyK24ubGVuZ3RoKT09PW59fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImFuY2hvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImEiLCJuYW1lIix0KX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgiYmlnIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiaWciLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgiYmxpbmsiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImJsaW5rIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImJvbGQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImIiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgiZml4ZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInR0IiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImZvbnRjb2xvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJjb2xvciIsdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImZvbnRzaXplIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiZm9udCIsInNpemUiLHQpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJpdGFsaWNzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJpIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImxpbmsiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJhIiwiaHJlZiIsdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoInNtYWxsIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzbWFsbCIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJzdHJpa2UiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN0cmlrZSIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJzdWIiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1YiIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJzdXAiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1cCIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiRGF0ZSIse25vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE5KSxpPXIoMzYpO24obi5QK24uRipyKDgpKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1uZXcgRGF0ZShOYU4pLnRvSlNPTigpfHwxIT09RGF0ZS5wcm90b3R5cGUudG9KU09OLmNhbGwoe3RvSVNPU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDF9fSl9KSwiRGF0ZSIse3RvSlNPTjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLHI9aSh0KTtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHJ8fGlzRmluaXRlKHIpP3QudG9JU09TdHJpbmcoKTpudWxsfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMzAzKTtuKG4uUCtuLkYqKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nIT09byksIkRhdGUiLHt0b0lTT1N0cmluZzpvfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig4KSxvPURhdGUucHJvdG90eXBlLmdldFRpbWUsaT1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyxhPWZ1bmN0aW9uKGUpe3JldHVybiBlPjk/ZToiMCIrZX07ZS5leHBvcnRzPW4oZnVuY3Rpb24oKXtyZXR1cm4iMDM4NS0wNy0yNVQwNzowNjozOS45OTlaIiE9aS5jYWxsKG5ldyBEYXRlKC01ZTEzLTEpKX0pfHwhbihmdW5jdGlvbigpe2kuY2FsbChuZXcgRGF0ZShOYU4pKX0pP2Z1bmN0aW9uKCl7aWYoIWlzRmluaXRlKG8uY2FsbCh0aGlzKSkpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCB0aW1lIHZhbHVlIik7dmFyIGU9dGhpcyx0PWUuZ2V0VVRDRnVsbFllYXIoKSxyPWUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksbj10PDA/Ii0iOnQ+OTk5OT8iKyI6IiI7cmV0dXJuIG4rKCIwMDAwMCIrTWF0aC5hYnModCkpLnNsaWNlKG4/LTY6LTQpKyItIithKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIrYShlLmdldFVUQ0RhdGUoKSkrIlQiK2EoZS5nZXRVVENIb3VycygpKSsiOiIrYShlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK2EoZS5nZXRVVENTZWNvbmRzKCkpKyIuIisocj45OT9yOiIwIithKHIpKSsiWiJ9Oml9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1EYXRlLnByb3RvdHlwZSxvPW4udG9TdHJpbmcsaT1uLmdldFRpbWU7bmV3IERhdGUoTmFOKSsiIiE9IkludmFsaWQgRGF0ZSImJnIoMjQpKG4sInRvU3RyaW5nIixmdW5jdGlvbigpe3ZhciBlPWkuY2FsbCh0aGlzKTtyZXR1cm4gZT09PWU/by5jYWxsKHRoaXMpOiJJbnZhbGlkIERhdGUifSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEwKSgidG9QcmltaXRpdmUiKSxvPURhdGUucHJvdG90eXBlO24gaW4gb3x8cigyMykobyxuLHIoMzA2KSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1KSxvPXIoMzYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigic3RyaW5nIiE9PWUmJiJudW1iZXIiIT09ZSYmImRlZmF1bHQiIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkluY29ycmVjdCBoaW50Iik7cmV0dXJuIG8obih0aGlzKSwibnVtYmVyIiE9ZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiQXJyYXkiLHtpc0FycmF5OnIoODYpfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigzMiksbz1yKDApLGk9cigxOSksYT1yKDE2OSkscz1yKDEyMiksdT1yKDE0KSxjPXIoMTIzKSxsPXIoMTI0KTtvKG8uUytvLkYqIXIoODgpKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSwiQXJyYXkiLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxmLGQ9aShlKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkseT1hcmd1bWVudHMubGVuZ3RoLGg9eT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1oLGc9MCxfPWwoZCk7aWYodiYmKGg9bihoLHk+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSx2b2lkIDA9PV98fHA9PUFycmF5JiZzKF8pKWZvcih0PXUoZC5sZW5ndGgpLHI9bmV3IHAodCk7dD5nO2crKyljKHIsZyx2P2goZFtnXSxnKTpkW2ddKTtlbHNlIGZvcihmPV8uY2FsbChkKSxyPW5ldyBwOyEobz1mLm5leHQoKSkuZG9uZTtnKyspYyhyLGcsdj9hKGYsaCxbby52YWx1ZSxnXSwhMCk6by52YWx1ZSk7cmV0dXJuIHIubGVuZ3RoPWcscn19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMjMpO24obi5TK24uRipyKDgpKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKEFycmF5Lm9mLmNhbGwoRilpbnN0YW5jZW9mIEYpfSksIkFycmF5Iix7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSkodCk7dD5lOylvKHIsZSxhcmd1bWVudHNbZSsrXSk7cmV0dXJuIHIubGVuZ3RoPXQscn19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigyOCksaT1bXS5qb2luO24obi5QK24uRioocig3MykhPU9iamVjdHx8IXIoMzQpKGkpKSwiQXJyYXkiLHtqb2luOmZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwobyh0aGlzKSx2b2lkIDA9PT1lPyIsIjplKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMTApLGk9cigzMyksYT1yKDU1KSxzPXIoMTQpLHU9W10uc2xpY2U7bihuLlArbi5GKnIoOCkoZnVuY3Rpb24oKXtvJiZ1LmNhbGwobyl9KSwiQXJyYXkiLHtzbGljZTpmdW5jdGlvbihlLHQpe3ZhciByPXModGhpcy5sZW5ndGgpLG49aSh0aGlzKTtpZih0PXZvaWQgMD09PXQ/cjp0LCJBcnJheSI9PW4pcmV0dXJuIHUuY2FsbCh0aGlzLGUsdCk7Zm9yKHZhciBvPWEoZSxyKSxjPWEodCxyKSxsPXMoYy1vKSxmPW5ldyBBcnJheShsKSxkPTA7ZDxsO2QrKylmW2RdPSJTdHJpbmciPT1uP3RoaXMuY2hhckF0KG8rZCk6dGhpc1tvK2RdO3JldHVybiBmfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDIwKSxpPXIoMTkpLGE9cig4KSxzPVtdLnNvcnQsdT1bMSwyLDNdO24obi5QK24uRiooYShmdW5jdGlvbigpe3Uuc29ydCh2b2lkIDApfSl8fCFhKGZ1bmN0aW9uKCl7dS5zb3J0KG51bGwpfSl8fCFyKDM0KShzKSksIkFycmF5Iix7c29ydDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9zLmNhbGwoaSh0aGlzKSk6cy5jYWxsKGkodGhpcyksbyhlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNDApKDApLGk9cigzNCkoW10uZm9yRWFjaCwhMCk7bihuLlArbi5GKiFpLCJBcnJheSIse2ZvckVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cig4NiksaT1yKDEwKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbyhlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2YgdHx8dCE9PUFycmF5JiYhbyh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksbih0KSYmbnVsbD09PSh0PXRbaV0pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSgxKTtuKG4uUCtuLkYqIXIoMzQpKFtdLm1hcCwhMCksIkFycmF5Iix7bWFwOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSgyKTtuKG4uUCtuLkYqIXIoMzQpKFtdLmZpbHRlciwhMCksIkFycmF5Iix7ZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSgzKTtuKG4uUCtuLkYqIXIoMzQpKFtdLnNvbWUsITApLCJBcnJheSIse3NvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNDApKDQpO24obi5QK24uRiohcigzNCkoW10uZXZlcnksITApLCJBcnJheSIse2V2ZXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE3MCk7bihuLlArbi5GKiFyKDM0KShbXS5yZWR1Y2UsITApLCJBcnJheSIse3JlZHVjZTpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aCxhcmd1bWVudHNbMV0sITEpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE3MCk7bihuLlArbi5GKiFyKDM0KShbXS5yZWR1Y2VSaWdodCwhMCksIkFycmF5Iix7cmVkdWNlUmlnaHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCEwKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig4NCkoITEpLGk9W10uaW5kZXhPZixhPSEhaSYmMS9bMV0uaW5kZXhPZigxLC0wKTwwO24obi5QK24uRiooYXx8IXIoMzQpKGkpKSwiQXJyYXkiLHtpbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBhP2kuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOm8odGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMjgpLGk9cigzOCksYT1yKDE0KSxzPVtdLmxhc3RJbmRleE9mLHU9ISFzJiYxL1sxXS5sYXN0SW5kZXhPZigxLC0wKTwwO24obi5QK24uRioodXx8IXIoMzQpKHMpKSwiQXJyYXkiLHtsYXN0SW5kZXhPZjpmdW5jdGlvbihlKXtpZih1KXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDt2YXIgdD1vKHRoaXMpLHI9YSh0Lmxlbmd0aCksbj1yLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TWF0aC5taW4obixpKGFyZ3VtZW50c1sxXSkpKSxuPDAmJihuPXIrbik7bj49MDtuLS0paWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbnx8MDtyZXR1cm4tMX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7Y29weVdpdGhpbjpyKDE3MSl9KSxyKDQ5KSgiY29weVdpdGhpbiIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCwiQXJyYXkiLHtmaWxsOnIoMTI2KX0pLHIoNDkpKCJmaWxsIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNDApKDUpLGk9ITA7ImZpbmQiaW5bXSYmQXJyYXkoMSkuZmluZChmdW5jdGlvbigpe2k9ITF9KSxuKG4uUCtuLkYqaSwiQXJyYXkiLHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0OSkoImZpbmQiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig0MCkoNiksaT0iZmluZEluZGV4IixhPSEwO2kgaW5bXSYmQXJyYXkoMSlbaV0oZnVuY3Rpb24oKXthPSExfSksbihuLlArbi5GKmEsIkFycmF5Iix7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0OSkoaSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDU4KSgiQXJyYXkiKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksbz1yKDExMyksaT1yKDEzKS5mLGE9cig1NykuZixzPXIoODcpLHU9cig4OSksYz1uLlJlZ0V4cCxsPWMsZj1jLnByb3RvdHlwZSxkPS9hL2cscD0vYS9nLHk9bmV3IGMoZCkhPT1kO2lmKHIoMTIpJiYoIXl8fHIoOCkoZnVuY3Rpb24oKXtyZXR1cm4gcFtyKDEwKSgibWF0Y2giKV09ITEsYyhkKSE9ZHx8YyhwKT09cHx8Ii9hL2kiIT1jKGQsImkiKX0pKSl7Yz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMgaW5zdGFuY2VvZiBjLG49cyhlKSxpPXZvaWQgMD09PXQ7cmV0dXJuIXImJm4mJmUuY29uc3RydWN0b3I9PT1jJiZpP2U6byh5P25ldyBsKG4mJiFpP2Uuc291cmNlOmUsdCk6bCgobj1lIGluc3RhbmNlb2YgYyk/ZS5zb3VyY2U6ZSxuJiZpP3UuY2FsbChlKTp0KSxyP3RoaXM6ZixjKX07Zm9yKHZhciBoPWEobCksdj0wO2gubGVuZ3RoPnY7KSFmdW5jdGlvbihlKXtlIGluIGN8fGkoYyxlLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbZV19LHNldDpmdW5jdGlvbih0KXtsW2VdPXR9fSl9KGhbdisrXSk7Zi5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlPWYscigyNCkobiwiUmVnRXhwIixjKX1yKDU4KSgiUmVnRXhwIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigxNzMpO3ZhciBuPXIoNSksbz1yKDg5KSxpPXIoMTIpLGE9Ly4vLnRvU3RyaW5nLHM9ZnVuY3Rpb24oZSl7cigyNCkoUmVnRXhwLnByb3RvdHlwZSwidG9TdHJpbmciLGUsITApfTtyKDgpKGZ1bmN0aW9uKCl7cmV0dXJuIi9hL2IiIT1hLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KT9zKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKTtyZXR1cm4iLyIuY29uY2F0KGUuc291cmNlLCIvIiwiZmxhZ3MiaW4gZT9lLmZsYWdzOiFpJiZlIGluc3RhbmNlb2YgUmVnRXhwP28uY2FsbChlKTp2b2lkIDApfSk6InRvU3RyaW5nIiE9YS5uYW1lJiZzKGZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbihlLHQscil7cig5MCkoIm1hdGNoIiwxLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5bZnVuY3Rpb24ocil7InVzZSBzdHJpY3QiO3ZhciBuPWUodGhpcyksbz12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PW8/by5jYWxsKHIsbik6bmV3IFJlZ0V4cChyKVt0XShTdHJpbmcobikpfSxyXX0pfSxmdW5jdGlvbihlLHQscil7cig5MCkoInJlcGxhY2UiLDIsZnVuY3Rpb24oZSx0LHIpe3JldHVybltmdW5jdGlvbihuLG8peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKHRoaXMpLGE9dm9pZCAwPT1uP3ZvaWQgMDpuW3RdO3JldHVybiB2b2lkIDAhPT1hP2EuY2FsbChuLGksbyk6ci5jYWxsKFN0cmluZyhpKSxuLG8pfSxyXX0pfSxmdW5jdGlvbihlLHQscil7cig5MCkoInNlYXJjaCIsMSxmdW5jdGlvbihlLHQscil7cmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLG89dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1vP28uY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sZnVuY3Rpb24oZSx0LHIpe3IoOTApKCJzcGxpdCIsMixmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBvPXIoODcpLGk9bixhPVtdLnB1c2gscz0ibGVuZ3RoIjtpZigiYyI9PSJhYmJjIi5zcGxpdCgvKGIpKi8pWzFdfHw0IT0idGVzdCIuc3BsaXQoLyg/OikvLC0xKVtzXXx8MiE9ImFiIi5zcGxpdCgvKD86YWIpKi8pW3NdfHw0IT0iLiIuc3BsaXQoLyguPykoLj8pLylbc118fCIuIi5zcGxpdCgvKCkoKS8pW3NdPjF8fCIiLnNwbGl0KC8uPy8pW3NdKXt2YXIgdT12b2lkIDA9PT0vKCk/Py8uZXhlYygiIilbMV07bj1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyh0aGlzKTtpZih2b2lkIDA9PT1lJiYwPT09dClyZXR1cm5bXTtpZighbyhlKSlyZXR1cm4gaS5jYWxsKHIsZSx0KTt2YXIgbixjLGwsZixkLHA9W10seT0oZS5pZ25vcmVDYXNlPyJpIjoiIikrKGUubXVsdGlsaW5lPyJtIjoiIikrKGUudW5pY29kZT8idSI6IiIpKyhlLnN0aWNreT8ieSI6IiIpLGg9MCx2PXZvaWQgMD09PXQ/NDI5NDk2NzI5NTp0Pj4+MCxnPW5ldyBSZWdFeHAoZS5zb3VyY2UseSsiZyIpO2Zvcih1fHwobj1uZXcgUmVnRXhwKCJeIitnLnNvdXJjZSsiJCg/IVxccykiLHkpKTsoYz1nLmV4ZWMocikpJiYhKChsPWMuaW5kZXgrY1swXVtzXSk+aCYmKHAucHVzaChyLnNsaWNlKGgsYy5pbmRleCkpLCF1JiZjW3NdPjEmJmNbMF0ucmVwbGFjZShuLGZ1bmN0aW9uKCl7Zm9yKGQ9MTtkPGFyZ3VtZW50c1tzXS0yO2QrKyl2b2lkIDA9PT1hcmd1bWVudHNbZF0mJihjW2RdPXZvaWQgMCl9KSxjW3NdPjEmJmMuaW5kZXg8cltzXSYmYS5hcHBseShwLGMuc2xpY2UoMSkpLGY9Y1swXVtzXSxoPWwscFtzXT49dikpOylnLmxhc3RJbmRleD09PWMuaW5kZXgmJmcubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1yW3NdPyFmJiZnLnRlc3QoIiIpfHxwLnB1c2goIiIpOnAucHVzaChyLnNsaWNlKGgpKSxwW3NdPnY/cC5zbGljZSgwLHYpOnB9fWVsc2UiMCIuc3BsaXQodm9pZCAwLDApW3NdJiYobj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYwPT09dD9bXTppLmNhbGwodGhpcyxlLHQpfSk7cmV0dXJuW2Z1bmN0aW9uKHIsbyl7dmFyIGk9ZSh0aGlzKSxhPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09YT9hLmNhbGwocixpLG8pOm4uY2FsbChTdHJpbmcoaSkscixvKX0sbl19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGksYSxzPXIoNDgpLHU9cig2KSxjPXIoMzIpLGw9cig3NSksZj1yKDApLGQ9cig5KSxwPXIoMjApLHk9cig1OSksaD1yKDYwKSx2PXIoOTEpLGc9cigxMjgpLnNldCxfPXIoMTI5KSgpLGI9cigxMzApLG09cigxNzQpLFI9cig5MiksTz1yKDE3NSksdz11LlR5cGVFcnJvcixrPXUucHJvY2VzcyxTPWsmJmsudmVyc2lvbnMsUD1TJiZTLnY4fHwiIixEPXUuUHJvbWlzZSxNPSJwcm9jZXNzIj09bChrKSxMPWZ1bmN0aW9uKCl7fSxqPW89Yi5mLFU9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1ELnJlc29sdmUoMSksdD0oZS5jb25zdHJ1Y3Rvcj17fSlbcigxMCkoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShMLEwpfTtyZXR1cm4oTXx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbihMKWluc3RhbmNlb2YgdCYmMCE9PVAuaW5kZXhPZigiNi42IikmJi0xPT09Ui5pbmRleE9mKCJDaHJvbWUvNjYiKX1jYXRjaChlKXt9fSgpLEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuISghZChlKXx8ImZ1bmN0aW9uIiE9dHlwZW9mKHQ9ZS50aGVuKSkmJnR9LHg9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO18oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wO3IubGVuZ3RoPmk7KSFmdW5jdGlvbih0KXt2YXIgcixpLGEscz1vP3Qub2s6dC5mYWlsLHU9dC5yZXNvbHZlLGM9dC5yZWplY3QsbD10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJkMoZSksZS5faD0xKSwhMD09PXM/cj1uOihsJiZsLmVudGVyKCkscj1zKG4pLGwmJihsLmV4aXQoKSxhPSEwKSkscj09PXQucHJvbWlzZT9jKHcoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsdSxjKTp1KHIpKTpjKG4pfWNhdGNoKGUpe2wmJiFhJiZsLmV4aXQoKSxjKGUpfX0ocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkEoZSl9KX19LEE9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92LGk9SShlKTtpZihpJiYodD1tKGZ1bmN0aW9uKCl7TT9rLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD1NfHxJKGUpPzI6MSksZS5fYT12b2lkIDAsaSYmdC5lKXRocm93IHQudn0pfSxJPWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5faCYmMD09PShlLl9hfHxlLl9jKS5sZW5ndGh9LEM9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdDtNP2suZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9dS5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxUPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSx4KHQsITApKX0scT1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyB3KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP18oZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLGMocSxuLDEpLGMoVCxuLDEpKX1jYXRjaChlKXtULmNhbGwobixlKX19KTooci5fdj1lLHIuX3M9MSx4KHIsITEpKX1jYXRjaChlKXtULmNhbGwoe193OnIsX2Q6ITF9LGUpfX19O1V8fChEPWZ1bmN0aW9uKGUpe3kodGhpcyxELCJQcm9taXNlIiwiX2giKSxwKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShjKHEsdGhpcywxKSxjKFQsdGhpcywxKSl9Y2F0Y2goZSl7VC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNjEpKEQucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIHI9aih2KHRoaXMsRCkpO3JldHVybiByLm9rPSJmdW5jdGlvbiIhPXR5cGVvZiBlfHxlLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj1NP2suZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJngodGhpcywhMSksci5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxpPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWMocSxlLDEpLHRoaXMucmVqZWN0PWMoVCxlLDEpfSxiLmY9aj1mdW5jdGlvbihlKXtyZXR1cm4gZT09PUR8fGU9PT1hP25ldyBpKGUpOm8oZSl9KSxmKGYuRytmLlcrZi5GKiFVLHtQcm9taXNlOkR9KSxyKDY0KShELCJQcm9taXNlIikscig1OCkoIlByb21pc2UiKSxhPXIoMzEpLlByb21pc2UsZihmLlMrZi5GKiFVLCJQcm9taXNlIix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWoodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxmKGYuUytmLkYqKHN8fCFVKSwiUHJvbWlzZSIse3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE8ocyYmdGhpcz09PWE/RDp0aGlzLGUpfX0pLGYoZi5TK2YuRiohKFUmJnIoODgpKGZ1bmN0aW9uKGUpe0QuYWxsKGUpLmNhdGNoKEwpfSkpLCJQcm9taXNlIix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1qKHQpLG49ci5yZXNvbHZlLG89ci5yZWplY3QsaT1tKGZ1bmN0aW9uKCl7dmFyIHI9W10saT0wLGE9MTtoKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9aSsrLHU9ITE7ci5wdXNoKHZvaWQgMCksYSsrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbc109ZSwtLWF8fG4ocikpfSxvKX0pLC0tYXx8bihyKX0pO3JldHVybiBpLmUmJm8oaS52KSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWoodCksbj1yLnJlamVjdCxvPW0oZnVuY3Rpb24oKXtoKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gby5lJiZuKG8udiksci5wcm9taXNlfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTgwKSxvPXIoNjcpO3IoOTMpKCJXZWFrU2V0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKG8odGhpcywiV2Vha1NldCIpLGUsITApfX0sbiwhMSwhMCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoOTQpLGk9cigxMzEpLGE9cig1KSxzPXIoNTUpLHU9cigxNCksYz1yKDkpLGw9cig2KS5BcnJheUJ1ZmZlcixmPXIoOTEpLGQ9aS5BcnJheUJ1ZmZlcixwPWkuRGF0YVZpZXcseT1vLkFCViYmbC5pc1ZpZXcsaD1kLnByb3RvdHlwZS5zbGljZSx2PW8uVklFVztuKG4uRytuLlcrbi5GKihsIT09ZCkse0FycmF5QnVmZmVyOmR9KSxuKG4uUytuLkYqIW8uQ09OU1RSLCJBcnJheUJ1ZmZlciIse2lzVmlldzpmdW5jdGlvbihlKXtyZXR1cm4geSYmeShlKXx8YyhlKSYmdiBpbiBlfX0pLG4obi5QK24uVStuLkYqcig4KShmdW5jdGlvbigpe3JldHVybiFuZXcgZCgyKS5zbGljZSgxLHZvaWQgMCkuYnl0ZUxlbmd0aH0pLCJBcnJheUJ1ZmZlciIse3NsaWNlOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09aCYmdm9pZCAwPT09dClyZXR1cm4gaC5jYWxsKGEodGhpcyksZSk7Zm9yKHZhciByPWEodGhpcykuYnl0ZUxlbmd0aCxuPXMoZSxyKSxvPXModm9pZCAwPT09dD9yOnQsciksaT1uZXcoZih0aGlzLGQpKSh1KG8tbikpLGM9bmV3IHAodGhpcyksbD1uZXcgcChpKSx5PTA7bjxvOylsLnNldFVpbnQ4KHkrKyxjLmdldFVpbnQ4KG4rKykpO3JldHVybiBpfX0pLHIoNTgpKCJBcnJheUJ1ZmZlciIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uRytuLlcrbi5GKiFyKDk0KS5BQlYse0RhdGFWaWV3OnIoMTMxKS5EYXRhVmlld30pfSxmdW5jdGlvbihlLHQscil7cig0MikoIkludDgiLDEsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJVaW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cig0MikoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSwhMCl9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyKSgiSW50MTYiLDIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJVaW50MTYiLDIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJJbnQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cig0MikoIlVpbnQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cig0MikoIkZsb2F0MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJGbG9hdDY0Iiw4LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigyMCksaT1yKDUpLGE9KHIoNikuUmVmbGVjdHx8e30pLmFwcGx5LHM9RnVuY3Rpb24uYXBwbHk7bihuLlMrbi5GKiFyKDgpKGZ1bmN0aW9uKCl7YShmdW5jdGlvbigpe30pfSksIlJlZmxlY3QiLHthcHBseTpmdW5jdGlvbihlLHQscil7dmFyIG49byhlKSx1PWkocik7cmV0dXJuIGE/YShuLHQsdSk6cy5jYWxsKG4sdCx1KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDU2KSxpPXIoMjApLGE9cig1KSxzPXIoOSksdT1yKDgpLGM9cigxNjEpLGw9KHIoNikuUmVmbGVjdHx8e30pLmNvbnN0cnVjdCxmPXUoZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiEobChmdW5jdGlvbigpe30sW10sRilpbnN0YW5jZW9mIEYpfSksZD0hdShmdW5jdGlvbigpe2woZnVuY3Rpb24oKXt9KX0pO24obi5TK24uRiooZnx8ZCksIlJlZmxlY3QiLHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSx0KXtpKGUpLGEodCk7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDwzP2U6aShhcmd1bWVudHNbMl0pO2lmKGQmJiFmKXJldHVybiBsKGUsdCxyKTtpZihlPT1yKXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0WzBdKTtjYXNlIDI6cmV0dXJuIG5ldyBlKHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuZXcgZSh0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuZXcgZSh0WzBdLHRbMV0sdFsyXSx0WzNdKX12YXIgbj1bbnVsbF07cmV0dXJuIG4ucHVzaC5hcHBseShuLHQpLG5ldyhjLmFwcGx5KGUsbikpfXZhciB1PXIucHJvdG90eXBlLHA9byhzKHUpP3U6T2JqZWN0LnByb3RvdHlwZSkseT1GdW5jdGlvbi5hcHBseS5jYWxsKGUscCx0KTtyZXR1cm4gcyh5KT95OnB9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxvPXIoMCksaT1yKDUpLGE9cigzNik7byhvLlMrby5GKnIoOCkoZnVuY3Rpb24oKXtSZWZsZWN0LmRlZmluZVByb3BlcnR5KG4uZih7fSwxLHt2YWx1ZToxfSksMSx7dmFsdWU6Mn0pfSksIlJlZmxlY3QiLHtkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aShlKSx0PWEodCwhMCksaShyKTt0cnl7cmV0dXJuIG4uZihlLHQsciksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjkpLmYsaT1yKDUpO24obi5TLCJSZWZsZWN0Iix7ZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1vKGkoZSksdCk7cmV0dXJuIShyJiYhci5jb25maWd1cmFibGUpJiZkZWxldGUgZVt0XX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig1KSxpPWZ1bmN0aW9uKGUpe3RoaXMuX3Q9byhlKSx0aGlzLl9pPTA7dmFyIHQscj10aGlzLl9rPVtdO2Zvcih0IGluIGUpci5wdXNoKHQpfTtyKDExOSkoaSwiT2JqZWN0IixmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXQuX2s7ZG97aWYodC5faT49ci5sZW5ndGgpcmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX13aGlsZSghKChlPXJbdC5faSsrXSlpbiB0Ll90KSk7cmV0dXJue3ZhbHVlOmUsZG9uZTohMX19KSxuKG4uUywiUmVmbGVjdCIse2VudW1lcmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBnZXQoZSx0KXt2YXIgcixhLGM9YXJndW1lbnRzLmxlbmd0aDwzP2U6YXJndW1lbnRzWzJdO3JldHVybiB1KGUpPT09Yz9lW3RdOihyPW4uZihlLHQpKT9pKHIsInZhbHVlIik/ci52YWx1ZTp2b2lkIDAhPT1yLmdldD9yLmdldC5jYWxsKGMpOnZvaWQgMDpzKGE9byhlKSk/Z2V0KGEsdCxjKTp2b2lkIDB9dmFyIG49cigyOSksbz1yKDMwKSxpPXIoMjcpLGE9cigwKSxzPXIoOSksdT1yKDUpO2EoYS5TLCJSZWZsZWN0Iix7Z2V0OmdldH0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOSksbz1yKDApLGk9cig1KTtvKG8uUywiUmVmbGVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbihlLHQpe3JldHVybiBuLmYoaShlKSx0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDMwKSxpPXIoNSk7bihuLlMsIlJlZmxlY3QiLHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gbyhpKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIlJlZmxlY3QiLHtoYXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbiBlfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNSksaT1PYmplY3QuaXNFeHRlbnNpYmxlO24obi5TLCJSZWZsZWN0Iix7aXNFeHRlbnNpYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpLCFpfHxpKGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse293bktleXM6cigxODIpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cig1KSxpPU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucztuKG4uUywiUmVmbGVjdCIse3ByZXZlbnRFeHRlbnNpb25zOmZ1bmN0aW9uKGUpe28oZSk7dHJ5e3JldHVybiBpJiZpKGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX19KX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHNldChlLHQscil7dmFyIHMsZixkPWFyZ3VtZW50cy5sZW5ndGg8ND9lOmFyZ3VtZW50c1szXSxwPW8uZihjKGUpLHQpO2lmKCFwKXtpZihsKGY9aShlKSkpcmV0dXJuIHNldChmLHQscixkKTtwPXUoMCl9aWYoYShwLCJ2YWx1ZSIpKXtpZighMT09PXAud3JpdGFibGV8fCFsKGQpKXJldHVybiExO2lmKHM9by5mKGQsdCkpe2lmKHMuZ2V0fHxzLnNldHx8ITE9PT1zLndyaXRhYmxlKXJldHVybiExO3MudmFsdWU9cixuLmYoZCx0LHMpfWVsc2Ugbi5mKGQsdCx1KDAscikpO3JldHVybiEwfXJldHVybiB2b2lkIDAhPT1wLnNldCYmKHAuc2V0LmNhbGwoZCxyKSwhMCl9dmFyIG49cigxMyksbz1yKDI5KSxpPXIoMzApLGE9cigyNykscz1yKDApLHU9cig1MiksYz1yKDUpLGw9cig5KTtzKHMuUywiUmVmbGVjdCIse3NldDpzZXR9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDExMSk7byYmbihuLlMsIlJlZmxlY3QiLHtzZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlLHQpe28uY2hlY2soZSx0KTt0cnl7cmV0dXJuIG8uc2V0KGUsdCksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDg0KSghMCk7bihuLlAsIkFycmF5Iix7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxyKDQ5KSgiaW5jbHVkZXMiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxODMpLGk9cigxOSksYT1yKDE0KSxzPXIoMjApLHU9cigxMjUpO24obi5QLCJBcnJheSIse2ZsYXRNYXA6ZnVuY3Rpb24oZSl7dmFyIHQscixuPWkodGhpcyk7cmV0dXJuIHMoZSksdD1hKG4ubGVuZ3RoKSxyPXUobiwwKSxvKHIsbixuLHQsMCwxLGUsYXJndW1lbnRzWzFdKSxyfX0pLHIoNDkpKCJmbGF0TWFwIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTgzKSxpPXIoMTkpLGE9cigxNCkscz1yKDM4KSx1PXIoMTI1KTtuKG4uUCwiQXJyYXkiLHtmbGF0dGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdLHQ9aSh0aGlzKSxyPWEodC5sZW5ndGgpLG49dSh0LDApO3JldHVybiBvKG4sdCx0LHIsMCx2b2lkIDA9PT1lPzE6cyhlKSksbn19KSxyKDQ5KSgiZmxhdHRlbiIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDExNykoITApO24obi5QLCJTdHJpbmciLHthdDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE4NCksaT1yKDkyKTtuKG4uUCtuLkYqL1ZlcnNpb25cLzEwXC5cZCsoXC5cZCspPyBTYWZhcmlcLy8udGVzdChpKSwiU3RyaW5nIix7cGFkU3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLCEwKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxODQpLGk9cig5Mik7bihuLlArbi5GKi9WZXJzaW9uXC8xMFwuXGQrKFwuXGQrKT8gU2FmYXJpXC8vLnRlc3QoaSksIlN0cmluZyIse3BhZEVuZDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsITEpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoNjUpKCJ0cmltTGVmdCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywxKX19LCJ0cmltU3RhcnQiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDY1KSgidHJpbVJpZ2h0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDIpfX0sInRyaW1FbmQiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigzNyksaT1yKDE0KSxhPXIoODcpLHM9cig4OSksdT1SZWdFeHAucHJvdG90eXBlLGM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9yPWUsdGhpcy5fcz10fTtyKDExOSkoYywiUmVnRXhwIFN0cmluZyIsZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yLmV4ZWModGhpcy5fcyk7cmV0dXJue3ZhbHVlOmUsZG9uZTpudWxsPT09ZX19KSxuKG4uUCwiU3RyaW5nIix7bWF0Y2hBbGw6ZnVuY3Rpb24oZSl7aWYobyh0aGlzKSwhYShlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHJlZ2V4cCEiKTt2YXIgdD1TdHJpbmcodGhpcykscj0iZmxhZ3MiaW4gdT9TdHJpbmcoZS5mbGFncyk6cy5jYWxsKGUpLG49bmV3IFJlZ0V4cChlLnNvdXJjZSx+ci5pbmRleE9mKCJnIik/cjoiZyIrcik7cmV0dXJuIG4ubGFzdEluZGV4PWkoZS5sYXN0SW5kZXgpLG5ldyBjKG4sdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDEwNykoImFzeW5jSXRlcmF0b3IiKX0sZnVuY3Rpb24oZSx0LHIpe3IoMTA3KSgib2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTgyKSxpPXIoMjgpLGE9cigyOSkscz1yKDEyMyk7bihuLlMsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1pKGUpLHU9YS5mLGM9byhuKSxsPXt9LGY9MDtjLmxlbmd0aD5mOyl2b2lkIDAhPT0ocj11KG4sdD1jW2YrK10pKSYmcyhsLHQscik7cmV0dXJuIGx9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxODUpKCExKTtuKG4uUywiT2JqZWN0Iix7dmFsdWVzOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTg1KSghMCk7bihuLlMsIk9iamVjdCIse2VudHJpZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTkpLGk9cigyMCksYT1yKDEzKTtyKDEyKSYmbihuLlArcig5NSksIk9iamVjdCIse19fZGVmaW5lR2V0dGVyX186ZnVuY3Rpb24oZSx0KXthLmYobyh0aGlzKSxlLHtnZXQ6aSh0KSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE5KSxpPXIoMjApLGE9cigxMyk7cigxMikmJm4obi5QK3IoOTUpLCJPYmplY3QiLHtfX2RlZmluZVNldHRlcl9fOmZ1bmN0aW9uKGUsdCl7YS5mKG8odGhpcyksZSx7c2V0OmkodCksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxOSksaT1yKDM2KSxhPXIoMzApLHM9cigyOSkuZjtyKDEyKSYmbihuLlArcig5NSksIk9iamVjdCIse19fbG9va3VwR2V0dGVyX186ZnVuY3Rpb24oZSl7dmFyIHQscj1vKHRoaXMpLG49aShlLCEwKTtkb3tpZih0PXMocixuKSlyZXR1cm4gdC5nZXR9d2hpbGUocj1hKHIpKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxOSksaT1yKDM2KSxhPXIoMzApLHM9cigyOSkuZjtyKDEyKSYmbihuLlArcig5NSksIk9iamVjdCIse19fbG9va3VwU2V0dGVyX186ZnVuY3Rpb24oZSl7dmFyIHQscj1vKHRoaXMpLG49aShlLCEwKTtkb3tpZih0PXMocixuKSlyZXR1cm4gdC5zZXR9d2hpbGUocj1hKHIpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlArbi5SLCJNYXAiLHt0b0pTT046cigxODYpKCJNYXAiKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCtuLlIsIlNldCIse3RvSlNPTjpyKDE4NikoIlNldCIpfSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDk2KSgiTWFwIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk2KSgiU2V0Iil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk2KSgiV2Vha01hcCIpfSxmdW5jdGlvbihlLHQscil7cig5NikoIldlYWtTZXQiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTcpKCJNYXAiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTcpKCJTZXQiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTcpKCJXZWFrTWFwIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk3KSgiV2Vha1NldCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uRyx7Z2xvYmFsOnIoNil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIlN5c3RlbSIse2dsb2JhbDpyKDYpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigzMyk7bihuLlMsIkVycm9yIix7aXNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iRXJyb3IiPT09byhlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbGFtcDpmdW5jdGlvbihlLHQscil7cmV0dXJuIE1hdGgubWluKHIsTWF0aC5tYXgodCxlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7REVHX1BFUl9SQUQ6TWF0aC5QSS8xODB9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz0xODAvTWF0aC5QSTtuKG4uUywiTWF0aCIse2RlZ3JlZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqb319KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE4OCksaT1yKDE2OCk7bihuLlMsIk1hdGgiLHtmc2NhbGU6ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gaShvKGUsdCxyLG4sYSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2lhZGRoOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWU+Pj4wLGk9dD4+PjAsYT1yPj4+MDtyZXR1cm4gaSsobj4+PjApKygobyZhfChvfGEpJn4obythPj4+MCkpPj4+MzEpfDB9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7aXN1Ymg6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZT4+PjAsaT10Pj4+MCxhPXI+Pj4wO3JldHVybiBpLShuPj4+MCktKCh+byZhfH4ob15hKSZvLWE+Pj4wKT4+PjMxKXwwfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2ltdWxoOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxvPTY1NTM1JnIsaT02NTUzNSZuLGE9cj4+MTYscz1uPj4xNix1PShhKmk+Pj4wKSsobyppPj4+MTYpO3JldHVybiBhKnMrKHU+PjE2KSsoKG8qcz4+PjApKyg2NTUzNSZ1KT4+MTYpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse1JBRF9QRVJfREVHOjE4MC9NYXRoLlBJfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89TWF0aC5QSS8xODA7bihuLlMsIk1hdGgiLHtyYWRpYW5zOmZ1bmN0aW9uKGUpe3JldHVybiBlKm99fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2NhbGU6cigxODgpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dW11bGg6ZnVuY3Rpb24oZSx0KXt2YXIgcj0rZSxuPSt0LG89NjU1MzUmcixpPTY1NTM1Jm4sYT1yPj4+MTYscz1uPj4+MTYsdT0oYSppPj4+MCkrKG8qaT4+PjE2KTtyZXR1cm4gYSpzKyh1Pj4+MTYpKygobypzPj4+MCkrKDY1NTM1JnUpPj4+MTYpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse3NpZ25iaXQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9K2UpIT1lP2U6MD09ZT8xL2U9PTEvMDplPjB9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMzEpLGk9cig2KSxhPXIoOTEpLHM9cigxNzUpO24obi5QK24uUiwiUHJvbWlzZSIse2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzLG8uUHJvbWlzZXx8aS5Qcm9taXNlKSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlO3JldHVybiB0aGlzLnRoZW4ocj9mdW5jdGlvbihyKXtyZXR1cm4gcyh0LGUoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiByfSl9OmUscj9mdW5jdGlvbihyKXtyZXR1cm4gcyh0LGUoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHJ9KX06ZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTMwKSxpPXIoMTc0KTtuKG4uUywiUHJvbWlzZSIse3RyeTpmdW5jdGlvbihlKXt2YXIgdD1vLmYodGhpcykscj1pKGUpO3JldHVybihyLmU/dC5yZWplY3Q6dC5yZXNvbHZlKShyLnYpLHQucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDMpLG89cig1KSxpPW4ua2V5LGE9bi5zZXQ7bi5leHAoe2RlZmluZU1ldGFkYXRhOmZ1bmN0aW9uKGUsdCxyLG4pe2EoZSx0LG8ociksaShuKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1uLmtleSxhPW4ubWFwLHM9bi5zdG9yZTtuLmV4cCh7ZGVsZXRlTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOmkoYXJndW1lbnRzWzJdKSxuPWEobyh0KSxyLCExKTtpZih2b2lkIDA9PT1ufHwhbi5kZWxldGUoZSkpcmV0dXJuITE7aWYobi5zaXplKXJldHVybiEwO3ZhciB1PXMuZ2V0KHQpO3JldHVybiB1LmRlbGV0ZShyKSwhIXUuc2l6ZXx8cy5kZWxldGUodCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1yKDMwKSxhPW4uaGFzLHM9bi5nZXQsdT1uLmtleSxjPWZ1bmN0aW9uKGUsdCxyKXtpZihhKGUsdCxyKSlyZXR1cm4gcyhlLHQscik7dmFyIG49aSh0KTtyZXR1cm4gbnVsbCE9PW4/YyhlLG4scik6dm9pZCAwfTtuLmV4cCh7Z2V0TWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlLG8odCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDp1KGFyZ3VtZW50c1syXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNzgpLG89cigxODcpLGk9cig0MyksYT1yKDUpLHM9cigzMCksdT1pLmtleXMsYz1pLmtleSxsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dShlLHQpLGk9cyhlKTtpZihudWxsPT09aSlyZXR1cm4gcjt2YXIgYT1sKGksdCk7cmV0dXJuIGEubGVuZ3RoP3IubGVuZ3RoP28obmV3IG4oci5jb25jYXQoYSkpKTphOnJ9O2kuZXhwKHtnZXRNZXRhZGF0YUtleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoYShlKSxhcmd1bWVudHMubGVuZ3RoPDI/dm9pZCAwOmMoYXJndW1lbnRzWzFdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1uLmdldCxhPW4ua2V5O24uZXhwKHtnZXRPd25NZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsbyh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOmEoYXJndW1lbnRzWzJdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1uLmtleXMsYT1uLmtleTtuLmV4cCh7Z2V0T3duTWV0YWRhdGFLZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBpKG8oZSksYXJndW1lbnRzLmxlbmd0aDwyP3ZvaWQgMDphKGFyZ3VtZW50c1sxXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0Myksbz1yKDUpLGk9cigzMCksYT1uLmhhcyxzPW4ua2V5LHU9ZnVuY3Rpb24oZSx0LHIpe2lmKGEoZSx0LHIpKXJldHVybiEwO3ZhciBuPWkodCk7cmV0dXJuIG51bGwhPT1uJiZ1KGUsbixyKX07bi5leHAoe2hhc01ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUoZSxvKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6cyhhcmd1bWVudHNbMl0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDMpLG89cig1KSxpPW4uaGFzLGE9bi5rZXk7bi5leHAoe2hhc093bk1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSxvKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6YShhcmd1bWVudHNbMl0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDMpLG89cig1KSxpPXIoMjApLGE9bi5rZXkscz1uLnNldDtuLmV4cCh7bWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuKXtzKGUsdCwodm9pZCAwIT09bj9vOmkpKHIpLGEobikpfX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDEyOSkoKSxpPXIoNikucHJvY2VzcyxhPSJwcm9jZXNzIj09cigzMykoaSk7bihuLkcse2FzYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9YSYmaS5kb21haW47byh0P3QuYmluZChlKTplKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig2KSxpPXIoMzEpLGE9cigxMjkpKCkscz1yKDEwKSgib2JzZXJ2YWJsZSIpLHU9cigyMCksYz1yKDUpLGw9cig1OSksZj1yKDYxKSxkPXIoMjMpLHA9cig2MCkseT1wLlJFVFVSTixoPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3ZvaWQgMDp1KGUpfSx2PWZ1bmN0aW9uKGUpe3ZhciB0PWUuX2M7dCYmKGUuX2M9dm9pZCAwLHQoKSl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUuX299LF89ZnVuY3Rpb24oZSl7ZyhlKXx8KGUuX289dm9pZCAwLHYoZSkpfSxiPWZ1bmN0aW9uKGUsdCl7YyhlKSx0aGlzLl9jPXZvaWQgMCx0aGlzLl9vPWUsZT1uZXcgbSh0aGlzKTt0cnl7dmFyIHI9dChlKSxuPXI7bnVsbCE9ciYmKCJmdW5jdGlvbiI9PXR5cGVvZiByLnVuc3Vic2NyaWJlP3I9ZnVuY3Rpb24oKXtuLnVuc3Vic2NyaWJlKCl9OnUociksdGhpcy5fYz1yKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBlLmVycm9yKHQpfWcodGhpcykmJnYodGhpcyl9O2IucHJvdG90eXBlPWYoe30se3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7Xyh0aGlzKX19KTt2YXIgbT1mdW5jdGlvbihlKXt0aGlzLl9zPWV9O20ucHJvdG90eXBlPWYoe30se25leHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZighZyh0KSl7dmFyIHI9dC5fbzt0cnl7dmFyIG49aChyLm5leHQpO2lmKG4pcmV0dXJuIG4uY2FsbChyLGUpfWNhdGNoKGUpe3RyeXtfKHQpfWZpbmFsbHl7dGhyb3cgZX19fX0sZXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZihnKHQpKXRocm93IGU7dmFyIHI9dC5fbzt0Ll9vPXZvaWQgMDt0cnl7dmFyIG49aChyLmVycm9yKTtpZighbil0aHJvdyBlO2U9bi5jYWxsKHIsZSl9Y2F0Y2goZSl7dHJ5e3YodCl9ZmluYWxseXt0aHJvdyBlfX1yZXR1cm4gdih0KSxlfSxjb21wbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zO2lmKCFnKHQpKXt2YXIgcj10Ll9vO3QuX289dm9pZCAwO3RyeXt2YXIgbj1oKHIuY29tcGxldGUpO2U9bj9uLmNhbGwocixlKTp2b2lkIDB9Y2F0Y2goZSl7dHJ5e3YodCl9ZmluYWxseXt0aHJvdyBlfX1yZXR1cm4gdih0KSxlfX19KTt2YXIgUj1mdW5jdGlvbihlKXtsKHRoaXMsUiwiT2JzZXJ2YWJsZSIsIl9mIikuX2Y9dShlKX07ZihSLnByb3RvdHlwZSx7c3Vic2NyaWJlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYihlLHRoaXMuX2YpfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyhpLlByb21pc2V8fG8uUHJvbWlzZSkoZnVuY3Rpb24ocixuKXt1KGUpO3ZhciBvPXQuc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZSh0KX1jYXRjaChlKXtuKGUpLG8udW5zdWJzY3JpYmUoKX19LGVycm9yOm4sY29tcGxldGU6cn0pfSl9fSksZihSLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6UixyPWgoYyhlKVtzXSk7aWYocil7dmFyIG49YyhyLmNhbGwoZSkpO3JldHVybiBuLmNvbnN0cnVjdG9yPT09dD9uOm5ldyB0KGZ1bmN0aW9uKGUpe3JldHVybiBuLnN1YnNjcmliZShlKX0pfXJldHVybiBuZXcgdChmdW5jdGlvbih0KXt2YXIgcj0hMTtyZXR1cm4gYShmdW5jdGlvbigpe2lmKCFyKXt0cnl7aWYocChlLCExLGZ1bmN0aW9uKGUpe2lmKHQubmV4dChlKSxyKXJldHVybiB5fSk9PT15KXJldHVybn1jYXRjaChlKXtpZihyKXRocm93IGU7cmV0dXJuIHZvaWQgdC5lcnJvcihlKX10LmNvbXBsZXRlKCl9fSksZnVuY3Rpb24oKXtyPSEwfX0pfSxvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0KTtlPHQ7KXJbZV09YXJndW1lbnRzW2UrK107cmV0dXJuIG5ldygiZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOlIpKGZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBhKGZ1bmN0aW9uKCl7aWYoIXQpe2Zvcih2YXIgbj0wO248ci5sZW5ndGg7KytuKWlmKGUubmV4dChyW25dKSx0KXJldHVybjtlLmNvbXBsZXRlKCl9fSksZnVuY3Rpb24oKXt0PSEwfX0pfX0pLGQoUi5wcm90b3R5cGUscyxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksbihuLkcse09ic2VydmFibGU6Un0pLHIoNTgpKCJPYnNlcnZhYmxlIil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cigwKSxpPXIoOTIpLGE9W10uc2xpY2Uscz0vTVNJRSAuXC4vLnRlc3QoaSksdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjIsbz0hIW4mJmEuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGUobj9mdW5jdGlvbigpeygiZnVuY3Rpb24iPT10eXBlb2YgdD90OkZ1bmN0aW9uKHQpKS5hcHBseSh0aGlzLG8pfTp0LHIpfX07byhvLkcrby5CK28uRipzLHtzZXRUaW1lb3V0OnUobi5zZXRUaW1lb3V0KSxzZXRJbnRlcnZhbDp1KG4uc2V0SW50ZXJ2YWwpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMjgpO24obi5HK24uQix7c2V0SW1tZWRpYXRlOm8uc2V0LGNsZWFySW1tZWRpYXRlOm8uY2xlYXJ9KX0sZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1yKDEyNyksbz1yKDU0KSxpPXIoMjQpLGE9cig2KSxzPXIoMjMpLHU9cig2NiksYz1yKDEwKSxsPWMoIml0ZXJhdG9yIiksZj1jKCJ0b1N0cmluZ1RhZyIpLGQ9dS5BcnJheSxwPXtDU1NSdWxlTGlzdDohMCxDU1NTdHlsZURlY2xhcmF0aW9uOiExLENTU1ZhbHVlTGlzdDohMSxDbGllbnRSZWN0TGlzdDohMSxET01SZWN0TGlzdDohMSxET01TdHJpbmdMaXN0OiExLERPTVRva2VuTGlzdDohMCxEYXRhVHJhbnNmZXJJdGVtTGlzdDohMSxGaWxlTGlzdDohMSxIVE1MQWxsQ29sbGVjdGlvbjohMSxIVE1MQ29sbGVjdGlvbjohMSxIVE1MRm9ybUVsZW1lbnQ6ITEsSFRNTFNlbGVjdEVsZW1lbnQ6ITEsTWVkaWFMaXN0OiEwLE1pbWVUeXBlQXJyYXk6ITEsTmFtZWROb2RlTWFwOiExLE5vZGVMaXN0OiEwLFBhaW50UmVxdWVzdExpc3Q6ITEsUGx1Z2luOiExLFBsdWdpbkFycmF5OiExLFNWR0xlbmd0aExpc3Q6ITEsU1ZHTnVtYmVyTGlzdDohMSxTVkdQYXRoU2VnTGlzdDohMSxTVkdQb2ludExpc3Q6ITEsU1ZHU3RyaW5nTGlzdDohMSxTVkdUcmFuc2Zvcm1MaXN0OiExLFNvdXJjZUJ1ZmZlckxpc3Q6ITEsU3R5bGVTaGVldExpc3Q6ITAsVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRvdWNoTGlzdDohMX0seT1vKHApLGg9MDtoPHkubGVuZ3RoO2grKyl7dmFyIHYsZz15W2hdLF89cFtnXSxiPWFbZ10sbT1iJiZiLnByb3RvdHlwZTtpZihtJiYobVtsXXx8cyhtLGwsZCksbVtmXXx8cyhtLGYsZyksdVtnXT1kLF8pKWZvcih2IGluIG4pbVt2XXx8aShtLHYsblt2XSwhMCl9fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gd3JhcChlLHQscixuKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvcj90OkdlbmVyYXRvcixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGE9bmV3IENvbnRleHQobnx8W10pO3JldHVybiBpLl9pbnZva2U9bWFrZUludm9rZU1ldGhvZChlLHIsYSksaX1mdW5jdGlvbiB0cnlDYXRjaChlLHQscil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxyKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fWZ1bmN0aW9uIEdlbmVyYXRvcigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpe31mdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfX0pfWZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZSl7ZnVuY3Rpb24gaW52b2tlKHQscixuLGkpe3ZhciBhPXRyeUNhdGNoKGVbdF0sZSxyKTtpZigidGhyb3ciIT09YS50eXBlKXt2YXIgcz1hLmFyZyx1PXMudmFsdWU7cmV0dXJuIHUmJiJvYmplY3QiPT10eXBlb2YgdSYmby5jYWxsKHUsIl9fYXdhaXQiKT9Qcm9taXNlLnJlc29sdmUodS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKGUpe2ludm9rZSgibmV4dCIsZSxuLGkpfSxmdW5jdGlvbihlKXtpbnZva2UoInRocm93IixlLG4saSl9KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihmdW5jdGlvbihlKXtzLnZhbHVlPWUsbihzKX0saSl9aShhLmFyZyl9ZnVuY3Rpb24gZW5xdWV1ZShlLHQpe2Z1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7aW52b2tlKGUsdCxyLG4pfSl9cmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl9Im9iamVjdCI9PXR5cGVvZiB0LnByb2Nlc3MmJnQucHJvY2Vzcy5kb21haW4mJihpbnZva2U9dC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSkpO3ZhciByO3RoaXMuX2ludm9rZT1lbnF1ZXVlfWZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSx0LHIpe3ZhciBuPWY7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYobj09PXApdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobj09PXkpe2lmKCJ0aHJvdyI9PT1vKXRocm93IGk7cmV0dXJuIGRvbmVSZXN1bHQoKX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciBhPXIuZGVsZWdhdGU7aWYoYSl7dmFyIHM9bWF5YmVJbnZva2VEZWxlZ2F0ZShhLHIpO2lmKHMpe2lmKHM9PT1oKWNvbnRpbnVlO3JldHVybiBzfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobj09PWYpdGhyb3cgbj15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bj1wO3ZhciB1PXRyeUNhdGNoKGUsdCxyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobj1yLmRvbmU/eTpkLHUuYXJnPT09aCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihuPXksci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYobj09PXIpe2lmKHQuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09dC5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYodC5tZXRob2Q9InJldHVybiIsdC5hcmc9cixtYXliZUludm9rZURlbGVnYXRlKGUsdCksInRocm93Ij09PXQubWV0aG9kKSlyZXR1cm4gaDt0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gaH12YXIgbz10cnlDYXRjaChuLGUuaXRlcmF0b3IsdC5hcmcpO2lmKCJ0aHJvdyI9PT1vLnR5cGUpcmV0dXJuIHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9by5hcmcsdC5kZWxlZ2F0ZT1udWxsLGg7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyh0W2UucmVzdWx0TmFtZV09aS52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9ciksdC5kZWxlZ2F0ZT1udWxsLGgpOmk6KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIENvbnRleHQoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGUpe3ZhciB0PWVbYV07aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsaT1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKG8uY2FsbChlLG4pKXJldHVybiBuZXh0LnZhbHVlPWVbbl0sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITAsbmV4dH07cmV0dXJuIGkubmV4dD1pfX1yZXR1cm57bmV4dDpkb25lUmVzdWx0fX1mdW5jdGlvbiBkb25lUmVzdWx0KCl7cmV0dXJue3ZhbHVlOnIsZG9uZTohMH19dmFyIHIsbj1PYmplY3QucHJvdG90eXBlLG89bi5oYXNPd25Qcm9wZXJ0eSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGE9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHM9aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixjPSJvYmplY3QiPT10eXBlb2YgZSxsPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGwpcmV0dXJuIHZvaWQoYyYmKGUuZXhwb3J0cz1sKSk7bD10LnJlZ2VuZXJhdG9yUnVudGltZT1jP2UuZXhwb3J0czp7fSxsLndyYXA9d3JhcDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGQ9InN1c3BlbmRlZFlpZWxkIixwPSJleGVjdXRpbmciLHk9ImNvbXBsZXRlZCIsaD17fSx2PXt9O3ZbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIGc9T2JqZWN0LmdldFByb3RvdHlwZU9mLF89ZyYmZyhnKHZhbHVlcyhbXSkpKTtfJiZfIT09biYmby5jYWxsKF8sYSkmJih2PV8pO3ZhciBiPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZT1HZW5lcmF0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodik7R2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlPWIuY29uc3RydWN0b3I9R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3I9R2VuZXJhdG9yRnVuY3Rpb24sR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdV09R2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWU9IkdlbmVyYXRvckZ1bmN0aW9uIixsLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PUdlbmVyYXRvckZ1bmN0aW9ufHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxsLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk6KGUuX19wcm90b19fPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLHUgaW4gZXx8KGVbdV09IkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYiksZX0sbC5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVtzXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxsLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvcixsLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPW5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoZSx0LHIsbikpO3JldHVybiBsLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/bzpvLm5leHQoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTpvLm5leHQoKX0pfSxkZWZpbmVJdGVyYXRvck1ldGhvZHMoYiksYlt1XT0iR2VuZXJhdG9yIixiW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0sbC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbmV4dCgpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbmV4dC52YWx1ZT1yLG5leHQuZG9uZT0hMSxuZXh0fXJldHVybiBuZXh0LmRvbmU9ITAsbmV4dH19LGwudmFsdWVzPXZhbHVlcyxDb250ZXh0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q29udGV4dCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1yLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXIsdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksIWUpZm9yKHZhciB0IGluIHRoaXMpInQiPT09dC5jaGFyQXQoMCkmJm8uY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT1yKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0sdD1lLmNvbXBsZXRpb247aWYoInRocm93Ij09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtmdW5jdGlvbiBoYW5kbGUobixvKXtyZXR1cm4gYS50eXBlPSJ0aHJvdyIsYS5hcmc9ZSx0Lm5leHQ9bixvJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLCEhb31pZih0aGlzLmRvbmUpdGhyb3cgZTtmb3IodmFyIHQ9dGhpcyxuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW25dLGE9aS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWkudHJ5TG9jKXJldHVybiBoYW5kbGUoImVuZCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW8uY2FsbChpLCJjYXRjaExvYyIpLHU9by5jYWxsKGksImZpbmFsbHlMb2MiKTtpZihzJiZ1KXtpZih0aGlzLnByZXY8aS5jYXRjaExvYylyZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpfWVsc2UgaWYocyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG49dGhpcy50cnlFbnRyaWVzW3JdO2lmKG4udHJ5TG9jPD10aGlzLnByZXYmJm8uY2FsbChuLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxuLmZpbmFsbHlMb2Mpe3ZhciBpPW47YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxoKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGh9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYykscmVzZXRUcnlFbnRyeShyKSxofX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIudHJ5TG9jPT09ZSl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBvPW4uYXJnO3Jlc2V0VHJ5RW50cnkocil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjp2YWx1ZXMoZSkscmVzdWx0TmFtZTp0LG5leHRMb2M6bn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1yKSxofX19KCJvYmplY3QiPT10eXBlb2YgdD90OiJvYmplY3QiPT10eXBlb2Ygd2luZG93P3dpbmRvdzoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodCxyKDE1NCkpfSxmdW5jdGlvbihlLHQscil7cig0MjIpLGUuZXhwb3J0cz1yKDMxKS5SZWdFeHAuZXNjYXBlfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNDIzKSgvW1xcXiQqKz8uKCl8W1xde31dL2csIlxcJCYiKTtuKG4uUywiUmVnRXhwIix7ZXNjYXBlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXQ9PT1PYmplY3QodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19OnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShlLHIpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig0NiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNDUxKSx5PXIoNCksaD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHkpLHY9cig0NTIpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxfPXIoNTA3KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksbT1yKDUxMyksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLE89cig1MTQpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChPKSxrPXIoNTIxKSxTPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDcpLEQ9cigxMDQpLE09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChEKSxMPXIoMTA1KSxqPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTCksVT1yKDUyNSksRT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFUpLHg9cig1MjYpLEE9cig1MjcpLEk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChBKSxDPXIoMTUxKSxUPXIoNTI4KSxxPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoVCksSD1yKDEwMiksTj1yKDUyOSksRj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KE4pLEI9cig1MzApLEc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChCKSxLPXIoNTM0KSxWPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoSyksVz1yKDUzNyksWT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFcpLEo9cig1NDMpLHo9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChKKSxYPXIoNTQ1KSwkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoWCksUT1yKDU0NyksWj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFEpLGVlPWguZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSx0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVVQShlLHQscil7aWYoKDAsbC5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVVQSksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgcnVudGltZSBkZXNjcmlwdG9yIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIHNhbmRib3ggZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRoZSBkb21haW4gb2YgcnVudGltZSIpO2lmKHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249KDAsdS5kZWZhdWx0KSh7ZG9tYWluOnJ9LEMucnVudGltZUNvbmZpZ3VyYXRpb24pLHRoaXMucnVudGltZUZhY3Rvcnk9dCx0aGlzLmxvZz1lZSx0aGlzLmxvZ0xldmVscz1wLmxvZyxlLnAycEhhbmRsZXJTdHViJiYic3RyaW5nIj09dHlwZW9mIGUucDJwSGFuZGxlclN0dWImJmUucDJwSGFuZGxlclN0dWIuaW5jbHVkZXMoIjovLyIpP3RoaXMucDJwPSEwOnRoaXMucDJwPSExLEgucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yPWUsdGhpcy5ydW50aW1lVXRpbHM9SC5ydW50aW1lVXRpbHMsdGhpcy5zdG9yYWdlcz17fSx0aGlzLnJ1bnRpbWVDYXRhbG9ndWU9bmV3IFouZGVmYXVsdCh0KSwiZnVuY3Rpb24iIT10eXBlb2YgdC5zdG9yYWdlTWFuYWdlcil0aHJvdyBuZXcgRXJyb3IoIkNoZWNrIHlvdXIgUnVudGltZSBGYWN0b3J5IGJlY2F1c2UgaXQgbmVlZHMgdGhlIFN0b3JhZ2UgTWFuYWdlciBpbXBsZW1lbnRhdGlvbiIpO3RoaXMuc3RvcmFnZXM9KDAseC5zdG9yYWdlKSh0KSwiZnVuY3Rpb24iPT10eXBlb2YgdC5ydW50aW1lQ2FwYWJpbGl0aWVzP3RoaXMucnVudGltZUNhcGFiaWxpdGllcz10LnJ1bnRpbWVDYXBhYmlsaXRpZXModGhpcy5zdG9yYWdlcy5jYXBhYmlsaXRpZXMpOmVlLmluZm8oIkNoZWNrIHlvdXIgUnVudGltZUZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXBhYmlsaXRpZXMgaW1wbGVtZW50YXRpb24iKX1yZXR1cm4oMCxkLmRlZmF1bHQpKFJ1bnRpbWVVQSxbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7ZS5kb21haW49ZS5ydW50aW1lQ29uZmlndXJhdGlvbi5kb21haW47dHJ5e3ZhciBuPWUucnVudGltZUNhcGFiaWxpdGllcy5nZXRSdW50aW1lQ2FwYWJpbGl0aWVzKCksbz1lLnN0b3JhZ2VzLnJ1bnRpbWUuZ2V0KCJydW50aW1lOlVSTCIpLGk9ZS5zdG9yYWdlcy5zeW5jaGVyTWFuYWdlci5nZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKSxzPWUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcy5nZXQoKSxjPWUuc3RvcmFnZXMucnVudGltZS5nZXQoInAycEhhbmRsZXI6VVJMIik7YS5kZWZhdWx0LmFsbChbbyxuLGkscyxjXSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5ydW50aW1lVVJMPXRbMF0/dFswXS5ydW50aW1lVVJMOnRbMF0sZS5ydW50aW1lVVJMfHwoZS5ydW50aW1lVVJMPSJydW50aW1lOi8vIitlLmRvbWFpbisiLyIrKDAsUC5nZW5lcmF0ZUdVSUQpKCksZS5zdG9yYWdlcy5ydW50aW1lLnNldCgicnVudGltZTpVUkwiLDEse3J1bnRpbWVVUkw6ZS5ydW50aW1lVVJMfSkpLGUuY2FwYWJpbGl0aWVzPXRbMV0sKDAsdS5kZWZhdWx0KShILnJ1bnRpbWVVdGlscy5ydW50aW1lQ2FwYWJpbGl0aWVzLmNvbnN0cmFpbnRzLHRbMV0pLGUuX2RhdGFPYmplY3RzU3RvcmFnZT1uZXcgRy5kZWZhdWx0KGUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIsdFsyXXx8e30pLGUuX2h5cGVydHlSZXNvdXJjZXM9dFszXXx8e30sZS5wMnBIYW5kbGVyVVJMPXRbNF0/dFs0XS5wMnBIYW5kbGVyVVJMOnRbNF0sZS5wMnBIYW5kbGVyVVJMfHwoZS5wMnBIYW5kbGVyVVJMPWUucnVudGltZVVSTCsiL3AycGhhbmRsZXIvIisoMCxQLmdlbmVyYXRlR1VJRCkoKSxlZS5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gUDJQSGFuZGxlclVSTDogIixlLnAycEhhbmRsZXJVUkwpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInAycEhhbmRsZXI6VVJMIiwxLHtwMnBIYW5kbGVyVVJMOmUucDJwSGFuZGxlclVSTH0pKSxlLl9sb2FkQ29tcG9uZW50cygpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5faHlwZXJ0eVJlc291cmNlc1N0b3JhZ2U9bmV3IFYuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcyxlLl9oeXBlcnR5UmVzb3VyY2VzKSxlLnAycD8oZWUuaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIGxvYWQgcDJwSGFuZGxlcjogIix0KSxlLl9sb2FkUDJQSGFuZGxlcigpKTooZWUuaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIFAyUCBub3Qgc3VwcG9ydGVkIiksIlAyUCBOb3QgU3VwcG9ydGVkIil9KS50aGVuKGZ1bmN0aW9uKGUpe2VlLmluZm8oIltydW50aW1lIHVhIC0gaW5pdF0gLSBzdGF0dXM6ICIsZSksdCghMCl9LGZ1bmN0aW9uKGUpe2VlLmVycm9yKCJFUlJPUjogIixlKSx0KCEwKX0pfWNhdGNoKGUpe3IoZSl9fSl9fSx7a2V5OiJfbG9hZFAyUEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0KXt2YXIgcj1ILnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvcixuPXIucDJwSGFuZGxlclN0dWIsbz17aXNIYW5kbGVyU3R1YjohMCxydW50aW1lVVJMOmUucnVudGltZVVSTH07ZWUubG9nKCJbUnVudGltZVVBIGxvYWRQMlBIYW5kbGVyXSBQMlBTdHViSGFuZGxlcjogIixuKSxlLmxvYWRlci5sb2FkU3R1YihuLG8pLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49ZS5ydW50aW1lVVJMKyIvdWEiLG89e3R5cGU6InN1YnNjcmliZSIsZnJvbTpuLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UuZG9tYWluKyIvc20iLGJvZHk6e3N1YnNjcmliZTpbci51cmxdLHNvdXJjZTplLnJ1bnRpbWVVUkx9fTtlLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIobixmdW5jdGlvbihlKXtlZS5sb2coIltydW50aW1lIHVhIC0gbGlzdGVuZXJdIC0gcmVjZWl2ZSBtc2c6ICIsZSl9KSxlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXtlZS5sb2coIltydW50aW1lIHVhIC0gcG9zdE1lc3NhZ2VdIC0gcmVwbHk6ICIsZSl9KSxlZS5pbmZvKCJbcnVudGltZSB1YSAtIHAycCBpbnN0YWxsYXRpb25dIC0gc3VjY2VzczogIixyKSx0KCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2VlLmluZm8oIltydW50aW1lIHVhIC0gcDJwIGluc3RhbGxhdGlvbl0gLSBmYWlsOiAiLGUpLHQoITEpfSl9KX19LHtrZXk6Il9sb2FkQ29tcG9uZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dHJ5e2UuZGVzY3JpcHRvckluc3RhbmNlPW5ldyBJLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUucnVudGltZUNhdGFsb2d1ZSxlLnJ1bnRpbWVDb25maWd1cmF0aW9uKSxlLmxvYWRlcj1uZXcgRS5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDb25maWd1cmF0aW9uLGUuZGVzY3JpcHRvckluc3RhbmNlKSxlLmlkZW50aXR5TW9kdWxlPW5ldyBiLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUucnVudGltZUNhcGFiaWxpdGllcyxlLnN0b3JhZ2VzLmlkZW50aXR5LGUuX2RhdGFPYmplY3RzU3RvcmFnZSxqLmRlZmF1bHQsZS5ydW50aW1lQ2F0YWxvZ3VlKTt2YXIgbj1lLnJ1bnRpbWVGYWN0b3J5LmNyZWF0ZUFwcFNhbmRib3goKTtlLnJlZ2lzdHJ5PW5ldyBnLmRlZmF1bHQoZS5ydW50aW1lVVJMLG4sZS5pZGVudGl0eU1vZHVsZSxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMucmVnaXN0cnksZS5wMnBIYW5kbGVyVVJMKSxlLnJlZ2lzdHJ5LmxvYWRlcj1lLmxvYWRlcixlLm1lc3NhZ2VCdXM9bmV3IFMuZGVmYXVsdChlLnJlZ2lzdHJ5KSxlLnN1YnNjcmlwdGlvbk1hbmFnZXI9bmV3IHouZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZXMuc3Vic2NyaXB0aW9ucyksZS5hZGRyZXNzQWxsb2NhdGlvbj1uZXcgTS5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5yZWdpc3RyeSxlLnN1YnNjcmlwdGlvbk1hbmFnZXIpLGUucG9saWN5RW5naW5lPW5ldyB3LmRlZmF1bHQobmV3ICQuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5pZGVudGl0eU1vZHVsZSxlLnJlZ2lzdHJ5LGUuc3RvcmFnZXMucG9saWN5LGUucnVudGltZUNhcGFiaWxpdGllcykpLGUuY29yZURpc2NvdmVyeT1uZXcgRi5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5ncmFwaENvbm5lY3RvcixlLnJ1bnRpbWVGYWN0b3J5LGUucmVnaXN0cnkpLGUuaWRlbnRpdHlIYW5kbGVyPW5ldyBSLmRlZmF1bHQoZS5pZGVudGl0eU1vZHVsZSksai5kZWZhdWx0LmluaXQoZS5ydW50aW1lVVJMLGUucnVudGltZUNhcGFiaWxpdGllcyxlLnN0b3JhZ2VzLmNyeXB0b01hbmFnZXIsZS5fZGF0YU9iamVjdHNTdG9yYWdlLGUucmVnaXN0cnksZS5jb3JlRGlzY292ZXJ5LGUuaWRlbnRpdHlNb2R1bGUsZS5ydW50aW1lRmFjdG9yeSksZS5oYW5kbGVycz1uZXcgcS5kZWZhdWx0KGUucG9saWN5RW5naW5lLGUuaWRlbnRpdHlIYW5kbGVyLGouZGVmYXVsdCksZS5tZXNzYWdlQnVzLnBpcGVsaW5lT3V0LmhhbmRsZXJzPVtlLmhhbmRsZXJzLmlkbUhhbmRsZXIsZS5oYW5kbGVycy5wZXBPdXRIYW5kbGVyLGUuaGFuZGxlcnMuZW5jcnlwdEhhbmRsZXJdLGUubWVzc2FnZUJ1cy5waXBlbGluZUluLmhhbmRsZXJzPVtlLmhhbmRsZXJzLmRlY3J5cHRIYW5kbGVyLGUuaGFuZGxlcnMucGVwSW5IYW5kbGVyXSxuLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbih0KXtlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodCl9KSxqLmRlZmF1bHQubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsZS5yZWdpc3RyeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLnBvbGljeUVuZ2luZS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLmlkZW50aXR5TW9kdWxlLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUuaWRlbnRpdHlNb2R1bGUucmVnaXN0cnk9ZS5yZWdpc3RyeSxlLmlkZW50aXR5TW9kdWxlLmNvcmVEaXNjb3Zlcnk9ZS5jb3JlRGlzY292ZXJ5LGUucnVudGltZUZhY3RvcnkubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsZS5zeW5jaGVyTWFuYWdlcj1uZXcgWS5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5yZWdpc3RyeSxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5zdG9yYWdlcy5zeW5jaGVyTWFuYWdlcixudWxsLGUuX2RhdGFPYmplY3RzU3RvcmFnZSxlLmlkZW50aXR5TW9kdWxlKSxlLmxvYWRlci5ydW50aW1lVVJMPWUucnVudGltZVVSTCxlLmxvYWRlci5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLmxvYWRlci5yZWdpc3RyeT1lLnJlZ2lzdHJ5LGUubG9hZGVyLnJ1bnRpbWVDYXRhbG9ndWU9ZS5ydW50aW1lQ2F0YWxvZ3VlLGUubG9hZGVyLnJ1bnRpbWVGYWN0b3J5PWUucnVudGltZUZhY3Rvcnk7dmFyIG89W107by5wdXNoKGUuc3Vic2NyaXB0aW9uTWFuYWdlci5pbml0KCkpLG8ucHVzaChlLmlkZW50aXR5TW9kdWxlLmluaXQoKSksby5wdXNoKGouZGVmYXVsdC5sb2FkU2Vzc2lvbktleXMoKSksYS5kZWZhdWx0LmFsbChvKS50aGVuKGZ1bmN0aW9uKGUpezM9PT1lLmxlbmd0aD90KCEwKTpyKCJbUnVudGltZVVBLl9sb2FkQ29tcG9uZW50c10gRXJyb3IgXSAiLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoZSl9KX1jYXRjaChlKXtyKGUpfX0pfX0se2tleToibG9hZEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJIeXBlcnR5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZEh5cGVydHkoZSx0LHIpfX0se2tleToibG9hZFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUHJvdG9TdHViIGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZFN0dWIoZSl9fSx7a2V5OiJsb2FkSWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGVlLmxvZygiaXBkUHJveHlDYXRhbG9ndWVVUkwiLGUpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIElEUCBQcm94eSBVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyLCBjb3VsZCBiZSBhIERPTUFJTiBvciBhIFVSTCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkSWRwUHJveHkoZSl9fSx7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4hMD09PWUmJnRoaXMuaWRlbnRpdHlIYW5kbGVyLnJlc2V0KCksZWUuaW5mbygiVW5yZWdpc3RlciBhbGwgaHlwZXJ0aWVzIiksbmV3IGEuZGVmYXVsdChmdW5jdGlvbihlLHIpe3QucmVnaXN0cnkudW5yZWdpc3RlckFsbEh5cGVydGllcygpLnRoZW4oZnVuY3Rpb24odCl7ZWUuaW5mbygiQWxsIHRoZSBoeXBlcnRpZXMgYXJlIHVucmVnaXN0ZWQgd2l0aCBTdWNjZXNzOiIsdCksZSghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtlZS5lcnJvcigiRmFpbGVkIHRvIHVucmVnaXN0ZXIgdGhlIGh5cGVydGllcyIsZSkscighMSl9KX0pfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5zdG9yYWdlcy5pZGVudGl0eS5nZXQoITEsITEsImlkZW50aXRpZXMiKS50aGVuKGZ1bmN0aW9uKG4peygwLG8uZGVmYXVsdCkobikuZm9yRWFjaChmdW5jdGlvbihyKXt0LnB1c2goZS5zdG9yYWdlcy5pZGVudGl0eS5kZWxldGUociwhMSwiaWRlbnRpdGllcyIpKX0pLHQucHVzaChlLnN0b3JhZ2VzLmNhcGFiaWxpdGllcy5kZWxldGUoImNhcGFiaWxpdGllcyIpKSx0LnB1c2goZS5zdG9yYWdlcy5jcnlwdG9NYW5hZ2VyLmRlbGV0ZSgidXNlckFzeW1tZXRyaWNLZXkiKSksdC5wdXNoKGUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcy5kZWxldGUoImh5cGVydHlSZXNvdXJjZXMiKSksdC5wdXNoKGUuc3RvcmFnZXMuaWRlbnRpdHkuZGVsZXRlKCJhY2Nlc3NUb2tlbnMiKSksdC5wdXNoKGUuc3RvcmFnZXMucmVnaXN0cnkuZGVsZXRlKCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIpKSx0LnB1c2goZS5zdG9yYWdlcy5yZWdpc3RyeS5kZWxldGUoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIikpLHQucHVzaChlLnN0b3JhZ2VzLnJ1bnRpbWUuZGVsZXRlKCJwMnBIYW5kbGVyOlVSTCIpKSx0LnB1c2goZS5zdG9yYWdlcy5ydW50aW1lLmRlbGV0ZSgicnVudGltZTpVUkwiKSksdC5wdXNoKGUuc3RvcmFnZXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoInN1YnNjcmlwdGlvbnMiKSksdC5wdXNoKGUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZGVsZXRlKCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIikpLGEuZGVmYXVsdC5hbGwodCkudGhlbihmdW5jdGlvbihlKXtlZS5pbmZvKCJBbGwgREJzIHdlcmUgcmVzZXQgd2l0aCBTdWNjZXNzOiIsZSkscighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtlZS5lcnJvcigiRmFpbGVkIHRvIHJlc2V0IGFsbCBEQnMiLGUpLHIoITEpfSl9KX0pfX1dKSxSdW50aW1lVUF9KCk7dC5kZWZhdWx0PXRlLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyNiksZS5leHBvcnRzPXIoMTEpLk9iamVjdC5rZXlzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Niksbz1yKDY4KTtyKDEzOCkoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MCksbz1yKDEzMyksaT1yKDQyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYSl7dmFyIHMsdT1uKHQpLGM9byh1Lmxlbmd0aCksbD1pKGEsYyk7aWYoZSYmciE9cil7Zm9yKDtjPmw7KWlmKChzPXVbbCsrXSkhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2M+bDtsKyspaWYoKGV8fGwgaW4gdSkmJnVbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzQpLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSxmdW5jdGlvbihlLHQscil7cigxOTIpLHIoODApLHIoMTAxKSxyKDQzNikscig0NDQpLHIoNDQ1KSxlLmV4cG9ydHM9cigxMSkuUHJvbWlzZX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM0KSxvPXIoMTMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIGksYSxzPVN0cmluZyhvKHQpKSx1PW4ociksYz1zLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1jP2U/IiI6dm9pZCAwOihpPXMuY2hhckNvZGVBdCh1KSxpPDU1Mjk2fHxpPjU2MzE5fHx1KzE9PT1jfHwoYT1zLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fGE+NTczNDM/ZT9zLmNoYXJBdCh1KTppOmU/cy5zbGljZSh1LHUrMik6YS01NjMyMCsoaS01NTI5Njw8MTApKzY1NTM2KX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTQxKSxvPXIoNzkpLGk9cigxMDApLGE9e307cig2MykoYSxyKDIyKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKGEse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDQpLG89cig0MSksaT1yKDY4KTtlLmV4cG9ydHM9cig1MSk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixhPWkodCkscz1hLmxlbmd0aCx1PTA7cz51OyluLmYoZSxyPWFbdSsrXSx0W3JdKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MzQpLG89cig0MzUpLGk9cig3MSksYT1yKDUwKTtlLmV4cG9ydHM9cigxOTMpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PWEoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG8saSxhLHM9cig3OCksdT1yKDIxKSxjPXIoNjkpLGw9cigxNDIpLGY9cigyNiksZD1yKDQ1KSxwPXIoOTkpLHk9cig0MzcpLGg9cig0MzgpLHY9cigxOTkpLGc9cigyMDApLnNldCxfPXIoNDQwKSgpLGI9cigxNDQpLG09cigyMDEpLFI9cig0NDEpLE89cigyMDIpLHc9dS5UeXBlRXJyb3Isaz11LnByb2Nlc3MsUz1rJiZrLnZlcnNpb25zLFA9UyYmUy52OHx8IiIsRD11LlByb21pc2UsTT0icHJvY2VzcyI9PWwoayksTD1mdW5jdGlvbigpe30saj1vPWIuZixVPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9RC5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoMjIpKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoTCxMKX07cmV0dXJuKE18fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oTClpbnN0YW5jZW9mIHQmJjAhPT1QLmluZGV4T2YoIjYuNiIpJiYtMT09PVIuaW5kZXhPZigiQ2hyb21lLzY2Iil9Y2F0Y2goZSl7fX0oKSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSx4PWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztfKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MDtyLmxlbmd0aD5pOykhZnVuY3Rpb24odCl7dmFyIHIsaSxhLHM9bz90Lm9rOnQuZmFpbCx1PXQucmVzb2x2ZSxjPXQucmVqZWN0LGw9dC5kb21haW47dHJ5e3M/KG98fCgyPT1lLl9oJiZDKGUpLGUuX2g9MSksITA9PT1zP3I9bjoobCYmbC5lbnRlcigpLHI9cyhuKSxsJiYobC5leGl0KCksYT0hMCkpLHI9PT10LnByb21pc2U/Yyh3KCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLHUsYyk6dShyKSk6YyhuKX1jYXRjaChlKXtsJiYhYSYmbC5leGl0KCksYyhlKX19KHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZBKGUpfSl9fSxBPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdixpPUkoZSk7aWYoaSYmKHQ9bShmdW5jdGlvbigpe00/ay5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9dS5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49dS5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9TXx8SShlKT8yOjEpLGUuX2E9dm9pZCAwLGkmJnQuZSl0aHJvdyB0LnZ9KX0sST1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxDPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7TT9rLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sVD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSkseCh0LCEwKSl9LHE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgdygiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9fKGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxjKHEsbiwxKSxjKFQsbiwxKSl9Y2F0Y2goZSl7VC5jYWxsKG4sZSl9fSk6KHIuX3Y9ZSxyLl9zPTEseChyLCExKSl9Y2F0Y2goZSl7VC5jYWxsKHtfdzpyLF9kOiExfSxlKX19fTtVfHwoRD1mdW5jdGlvbihlKXt5KHRoaXMsRCwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhxLHRoaXMsMSksYyhULHRoaXMsMSkpfWNhdGNoKGUpe1QuY2FsbCh0aGlzLGUpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1yKDQ0MikoRC5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1qKHYodGhpcyxEKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPU0/ay5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmeCh0aGlzLCExKSxyLnByb21pc2V9LGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLGk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhxLGUsMSksdGhpcy5yZWplY3Q9YyhULGUsMSl9LGIuZj1qPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09RHx8ZT09PWE/bmV3IGkoZSk6byhlKX0pLGYoZi5HK2YuVytmLkYqIVUse1Byb21pc2U6RH0pLHIoMTAwKShELCJQcm9taXNlIikscig0NDMpKCJQcm9taXNlIiksYT1yKDExKS5Qcm9taXNlLGYoZi5TK2YuRiohVSwiUHJvbWlzZSIse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1qKHRoaXMpO3JldHVybigwLHQucmVqZWN0KShlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhVSksIlByb21pc2UiLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBPKHMmJnRoaXM9PT1hP0Q6dGhpcyxlKX19KSxmKGYuUytmLkYqIShVJiZyKDIwMykoZnVuY3Rpb24oZSl7RC5hbGwoZSkuY2F0Y2goTCl9KSksIlByb21pc2UiLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWoodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPW0oZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAsYT0xO2goZSwhMSxmdW5jdGlvbihlKXt2YXIgcz1pKyssdT0hMTtyLnB1c2godm9pZCAwKSxhKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dXx8KHU9ITAscltzXT1lLC0tYXx8bihyKSl9LG8pfSksLS1hfHxuKHIpfSk7cmV0dXJuIGkuZSYmbyhpLnYpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9aih0KSxuPXIucmVqZWN0LG89bShmdW5jdGlvbigpe2goZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvLmUmJm4oby52KSxyLnByb21pc2V9fSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2OSksbz1yKDE5NyksaT1yKDE5OCksYT1yKDQxKSxzPXIoMTMzKSx1PXIoMTQzKSxjPXt9LGw9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxfPW4ocixmLHQ/MjoxKSxiPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShnKSl7Zm9yKHA9cyhlLmxlbmd0aCk7cD5iO2IrKylpZigodj10P18oYSh5PWVbYl0pWzBdLHlbMV0pOl8oZVtiXSkpPT09Y3x8dj09PWwpcmV0dXJuIHZ9ZWxzZSBmb3IoaD1nLmNhbGwoZSk7ISh5PWgubmV4dCgpKS5kb25lOylpZigodj1vKGgsXyx5LnZhbHVlLHQpKT09PWN8fHY9PT1sKXJldHVybiB2fTt0LkJSRUFLPWMsdC5SRVRVUk49bH0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLG89cigyMDApLnNldCxpPW4uTXV0YXRpb25PYnNlcnZlcnx8bi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9bi5wcm9jZXNzLHM9bi5Qcm9taXNlLHU9InByb2Nlc3MiPT1yKDc3KShhKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsYz1mdW5jdGlvbigpe3ZhciBuLG87Zm9yKHUmJihuPWEuZG9tYWluKSYmbi5leGl0KCk7ZTspe289ZS5mbixlPWUubmV4dDt0cnl7bygpfWNhdGNoKG4pe3Rocm93IGU/cigpOnQ9dm9pZCAwLG59fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07aWYodSlyPWZ1bmN0aW9uKCl7YS5uZXh0VGljayhjKX07ZWxzZSBpZighaXx8bi5uYXZpZ2F0b3ImJm4ubmF2aWdhdG9yLnN0YW5kYWxvbmUpaWYocyYmcy5yZXNvbHZlKXt2YXIgbD1zLnJlc29sdmUodm9pZCAwKTtyPWZ1bmN0aW9uKCl7bC50aGVuKGMpfX1lbHNlIHI9ZnVuY3Rpb24oKXtvLmNhbGwobixjKX07ZWxzZXt2YXIgZj0hMCxkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgaShjKS5vYnNlcnZlKGQse2NoYXJhY3RlckRhdGE6ITB9KSxyPWZ1bmN0aW9uKCl7ZC5kYXRhPWY9IWZ9fXJldHVybiBmdW5jdGlvbihuKXt2YXIgbz17Zm46bixuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1vKSxlfHwoZT1vLHIoKSksdD1vfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKSxvPW4ubmF2aWdhdG9yO2UuZXhwb3J0cz1vJiZvLnVzZXJBZ2VudHx8IiJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbyBpbiB0KXImJmVbb10/ZVtvXT10W29dOm4oZSxvLHRbb10pO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIxKSxvPXIoMTEpLGk9cig0NCksYT1yKDUxKSxzPXIoMjIpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTthJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI2KSxvPXIoMTEpLGk9cigyMSksYT1yKDE5OSkscz1yKDIwMik7bihuLlArbi5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMsby5Qcm9taXNlfHxpLlByb21pc2UpLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGU7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBzKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBzKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcn0pfTplKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI2KSxvPXIoMTQ0KSxpPXIoMjAxKTtuKG4uUywiUHJvbWlzZSIse3RyeTpmdW5jdGlvbihlKXt2YXIgdD1vLmYodGhpcykscj1pKGUpO3JldHVybihyLmU/dC5yZWplY3Q6dC5yZXNvbHZlKShyLnYpLHQucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDQ3KSxlLmV4cG9ydHM9cigxMSkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjYpO24obi5TK24uRiwiT2JqZWN0Iix7YXNzaWduOnIoNDQ4KX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNjgpLG89cigxNDUpLGk9cig4MSksYT1yKDc2KSxzPXIoMTkwKSx1PU9iamVjdC5hc3NpZ247ZS5leHBvcnRzPSF1fHxyKDcwKShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXUoe30sZSlbcl18fE9iamVjdC5rZXlzKHUoe30sdCkpLmpvaW4oIiIpIT1ufSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YShlKSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0xLGw9by5mLGY9aS5mO3U+YzspZm9yKHZhciBkLHA9cyhhcmd1bWVudHNbYysrXSkseT1sP24ocCkuY29uY2F0KGwocCkpOm4ocCksaD15Lmxlbmd0aCx2PTA7aD52OylmLmNhbGwocCxkPXlbdisrXSkmJihyW2RdPXBbZF0pO3JldHVybiByfTp1fSxmdW5jdGlvbihlLHQscil7cig0NTApO3ZhciBuPXIoMTEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KTtuKG4uUytuLkYqIXIoNTEpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDQ0KS5mfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQubG9nPXZvaWQgMDt2YXIgbj1yKDQpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxpPW8uZGVmYXVsdC5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLGE9by5kZWZhdWx0LmdldExvZ2dlcigiQnVzIikscz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJNZXNzYWdlQnVzIiksdT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJDb3JlRGlzY292ZXJ5IiksYz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJHcmFwaENvbm5lY3RvciIpLGw9by5kZWZhdWx0LmdldExvZ2dlcigiSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UiKSxmPW8uZGVmYXVsdC5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksZD1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQRVAiKSxwPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIikseT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLGg9by5kZWZhdWx0LmdldExvZ2dlcigiUnVudGltZVVBIiksdj1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJMb2FkZXIiKSxnPW8uZGVmYXVsdC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIiksXz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxiPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLG09by5kZWZhdWx0LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uTWFuYWdlciIpLFI9by5kZWZhdWx0LmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSxPPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0Iiksdz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTeW5TdWJzY3JpcHRpb24iKSxrPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksUz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJJZGVudGl0eUhhbmRsZXIiKSxQPW8uZGVmYXVsdC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxEPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlBpcGVsaW5lIik7dC5sb2c9by5kZWZhdWx0LGkuc2V0TGV2ZWwoMyksYS5zZXRMZXZlbCgzKSxzLnNldExldmVsKDMpLHUuc2V0TGV2ZWwoNSksYy5zZXRMZXZlbCg1KSxsLnNldExldmVsKDMpLGYuc2V0TGV2ZWwoMyksZC5zZXRMZXZlbCgzKSxwLnNldExldmVsKDMpLHkuc2V0TGV2ZWwoMyksaC5zZXRMZXZlbCgzKSx2LnNldExldmVsKDMpLGcuc2V0TGV2ZWwoMyksXy5zZXRMZXZlbCgzKSxiLnNldExldmVsKDMpLG0uc2V0TGV2ZWwoMyksUi5zZXRMZXZlbCgzKSxPLnNldExldmVsKDMpLHcuc2V0TGV2ZWwoMyksay5zZXRMZXZlbCgzKSxTLnNldExldmVsKDMpLFAuc2V0TGV2ZWwoMyksRC5zZXRMZXZlbCgzKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4Miksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDEpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig0KSx5PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocCksaD1yKDEwMiksdj1yKDQ2NCksZz1yKDEwNCksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLGI9cigyMTIpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxSPXIoNTA0KSxPPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoUiksdz1yKDUwNSksaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHcpLFM9cig3KTtyKDE0OSk7dmFyIFA9cigyMTMpLEQ9eS5nZXRMb2dnZXIoIlJlZ2lzdHJ5IiksTT17Q1JFQVRFRDoiY3JlYXRlZCIsTElWRToibGl2ZSIsREVQTE9ZSU5HOiJkZXBsb3lpbmciLERFUExPWUVEOiJkZXBsb3llZCIsUFJPR1JFU1M6ImluLXByb2dyZXNzIixESVNDT05ORUNURUQ6ImRpc2Nvbm5lY3RlZCIsRkFJTEVEOiJkZXBsb3ltZW50LWZhaWxlZCIsREVBRDoiZGVhZCJ9LEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZWdpc3RyeShlLHQscixuLG8saSxhLHMpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxSZWdpc3RyeSksIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nLiIpO3ZhciB1PXRoaXM7dS5yZWdpc3RyeVVSTD1lKyIvcmVnaXN0cnkvIix1LmFwcFNhbmRib3g9dCx1LnJ1bnRpbWVVUkw9ZSx1LnAycEhhbmRsZXJVUkw9YSx1LnJ1bnRpbWVDYXRhbG9ndWU9bix1LnJlbW90ZVJlZ2lzdHJ5PXMsdS5pZE1vZHVsZT1yLHUuc3RvcmFnZU1hbmFnZXI9aSx1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9byx1LmlkZW50aWZpZXI9KDAsUy5nZW5lcmF0ZUdVSUQpKCksdS5oeXBlcnRpZXNMaXN0VG9SZW1vdmU9e30sdS5oeXBlcnRpZXNMaXN0PVtdLHUucmVtb3RlSHlwZXJ0eUxpc3Q9W10sdS5yZW1vdGVEYXRhT2JqZWN0TGlzdD1bXSx1LmlkcExlZ2FjeVByb3h5TGlzdD17fSx1LndhdGNoaW5nWW91PW5ldyBQLldhdGNoaW5nWW91LHUucDJwSGFuZGxlclN0dWI9e30sdS5wMnBSZXF1ZXN0ZXJTdHViPXUud2F0Y2hpbmdZb3Uud2F0Y2goInAycFJlcXVlc3RlclN0dWIiLHt9LCEwKSx1LnAycENvbm5lY3Rpb25MaXN0PXUud2F0Y2hpbmdZb3Uud2F0Y2goInAycENvbm5lY3Rpb25MaXN0Iix7fSwhMCksdS5wMnBIYW5kbGVyQXNzb2NpYXRpb249e30sdS5wcm90b3N0dWJzTGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJwcm90b3N0dWJzTGlzdCIse30sITApLHUuaWRwUHJveHlMaXN0PXUud2F0Y2hpbmdZb3Uud2F0Y2goImlkcFByb3h5TGlzdCIse30sITApLHUuZGF0YU9iamVjdExpc3Q9e30sdS5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3Q9e30sdS5zYW5kYm94ZXNMaXN0PXtzYW5kYm94Ont9LGFwcFNhbmRib3g6e319LHUucGVwTGlzdD17fSx1LnJlZ2lzdHJpZXM9e30sdS5fZG9tYWluPSgwLFMuZGl2aWRlVVJMKSh1LnJlZ2lzdHJ5VVJMKS5kb21haW4sdS5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbZV09dDt2YXIgYz1uZXcgay5kZWZhdWx0KHUpO3UuX3AycENvbm5lY3Rpb25SZXNvbHZlPWN9cmV0dXJuKDAsZC5kZWZhdWx0KShSZWdpc3RyeSxbe2tleToiX2dldElkZW50aXR5QXNzb2NpYXRlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiByLmh5cGVydGllc0xpc3Qpe3ZhciBvPXIuaHlwZXJ0aWVzTGlzdFtuXTtpZihvLl9oeXBlcnR5VVJMPT09dClzd2l0Y2goZSl7Y2FzZSJ1c2VybmFtZSI6cmV0dXJuIG8uX3VzZXIudXNlcm5hbWU7Y2FzZSJjbiI6cmV0dXJuIG8uX3VzZXIuY247Y2FzZSJsb2NhbGUiOnJldHVybiBvLl91c2VyLmxvY2FsZTtjYXNlImF2YXRhciI6cmV0dXJuIG8uX3VzZXIuYXZhdGFyO2Nhc2UidXNlclVSTCI6cmV0dXJuIG8uX3VzZXIudXNlclVSTDtjYXNlIi4iOnJldHVybiBvLl91c2VyO2RlZmF1bHQ6cmV0dXJuIiJ9fXJldHVybiIifX0se2tleToiZ2V0QXBwU2FuZGJveCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBTYW5kYm94fX0se2tleToiZ2V0SHlwZXJ0eU93bmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2Zvcih2YXIgciBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBuPXQuaHlwZXJ0aWVzTGlzdFtyXTtpZihuLmh5cGVydHlVUkw9PT1lKXJldHVybiBuLnVzZXIudXNlclVSTH19fSx7a2V5OiJnZXREYXRhT2JqZWN0UmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxTLnJlbW92ZVBhdGhGcm9tVVJMKShlKTtmb3IodmFyIG4gaW4gdC5kYXRhT2JqZWN0TGlzdCl7dmFyIG89dC5kYXRhT2JqZWN0TGlzdFtuXTtpZihvLnVybD09PXIpcmV0dXJuIG8ucmVwb3J0ZXJ9cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRIeXBlcnR5TmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSJoeXBlcnR5Ij09PSgwLFMuZGl2aWRlVVJMKShlKS50eXBlLG49dm9pZCAwLG89cj9lOnQuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKGUpO2Zvcih2YXIgaSBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBhPXQuaHlwZXJ0aWVzTGlzdFtpXTtpZihhLmh5cGVydHlVUkw9PT1vKXtuPWEub2JqZWN0TmFtZTticmVha319cmV0dXJuIG59fSx7a2V5OiJnZXRSZXBvcnRlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuZGF0YU9iamVjdExpc3RbZV07bz9yKG8ucmVwb3J0ZXIpOm4oIk5vIHJlcG9ydGVyIHdhcyBmb3VuZCIpfSl9fSx7a2V5OiJnZXRSZXBvcnRlclVSTFN5bmNob25vdXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdO3JldHVybiByP3IucmVwb3J0ZXI6dm9pZCAwfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV19fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZWREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dm9pZCAwPT09ci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV0mJihyLnN1YnNjcmliZWREYXRhT2JqZWN0TGlzdFtlXT10KX19LHtrZXk6ImdldFByZUF1dGhTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV0sbj1bXTtyZXR1cm4gciYmKG49ci5hdXRob3Jpc2UpLG59fSx7a2V5OiJ1bnJlZ2lzdGVyQWxsSHlwZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1bXTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2Zvcih2YXIgbyBpbiBlLmh5cGVydGllc0xpc3Qpe3ZhciBpPWUuaHlwZXJ0aWVzTGlzdFtvXSxhPWUudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZShpLmh5cGVydHlVUkwpO3QucHVzaChhKX11LmRlZmF1bHQuYWxsKHQpLnRoZW4oZnVuY3Rpb24oKXtyKCJzdWNjZXNzZnVsbHkgdW5yZWdpc3RlcmVkIGFsbCBoeXBlcnRpZXMiKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVySHlwZXJ0eUluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzplLGJvZHk6e21ldGhvZDoiY2xvc2UifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe0QubG9nKCJbUmVnaXN0cnkudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZV0gQ2xvc2UgUmVwbHkiLHIpLHQuX2RvbWFpblJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVySHlwZXJ0eShlKX0pfX0se2tleToidW5yZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2RvbWFpblJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyRGF0YU9iamVjdChlKX19LHtrZXk6InJlZ2lzdGVyU3Vic2NyaWJlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5kYXRhT2JqZWN0TGlzdFtlXTtuJiYobi5zdWJzY3JpYmVyc3x8KG4uc3Vic2NyaWJlcnM9W10pLG4uc3Vic2NyaWJlcnMucHVzaCh0KSxyLmRhdGFPYmplY3RMaXN0W2VdPW4pfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtpZihyKXJldHVybiByLnN1YnNjcmliZXJzO3Rocm93Ik5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIn19LHtrZXk6InJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLFMuZGVlcENsb25lKShlKTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLG8pe3QuZGF0YU9iamVjdExpc3RbZS51cmxdPWUsdC5zdG9yYWdlTWFuYWdlci5nZXQoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIikudGhlbihmdW5jdGlvbihpKXtpfHwoaT17fSksaVtlLm5hbWUrZS5zY2hlbWErZS5yZXNvdXJjZXMrZS5yZXBvcnRlcl09ZS51cmwsdC5zdG9yYWdlTWFuYWdlci5zZXQoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIiwwLGkpLnRoZW4oZnVuY3Rpb24oKXt0LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKHIucmVwb3J0ZXIpJiYoci5pbnRlcndvcmtpbmc9ITApO3ZhciBvPSEwO3IuaGFzT3duUHJvcGVydHkoImRvbWFpbl9yZWdpc3RyYXRpb24iKSYmKG89ci5kb21haW5fcmVnaXN0cmF0aW9uKSxvP3QuX2RvbWFpblJlZ2lzdHJhdGlvbi5yZWdpc3RlckRhdGFPYmplY3QocixlLnJlc3VtZSx0LnAycEhhbmRsZXJTdHViKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KTpuKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7RC5lcnJvcigiW1JlZ2lzdHJ5IHJlZ2lzdGVyRGF0YU9iamVjdF0gRXJyb3I6ICIsZSksbyhlKX0pfSl9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIpe3ZhciBuPXZvaWQgMDsic3RyaW5nIj09dHlwZW9mIGUuaHlwZXJ0eVR5cGU/KG49W10sbi5wdXNoKGUuaHlwZXJ0eVR5cGUpKTpuPWUuaHlwZXJ0eVR5cGU7dmFyIG89ZS5vYmplY3ROYW1lLGk9ZS5kYXRhT2JqZWN0cyxhPVtdO2Zvcih2YXIgcyBpbiBpKWEucHVzaCh0LnJ1bnRpbWVDYXRhbG9ndWUuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoaVtzXSkpO3UuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXTt0LnB1c2goYS5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcy5zY2hlbWUuY29uc3RhbnQpfXIoe3Jlc291cmNlczpuLGRhdGFTY2hlbWE6dCxuYW1lOm99KX0pfSl9fSx7a2V5OiJjaGVja1JlZ2lzdGVyZWRVUkxzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89ZS5yZXBvcnRlcj8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyI7InN0cmluZyI9PXR5cGVvZiB0JiYobz10JiYiaHlwZXJ0eSIhPT0oMCxTLmRpdmlkZVVSTCkodCkudHlwZT8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyIpLHIuc3RvcmFnZU1hbmFnZXIuZ2V0KG8pLnRoZW4oZnVuY3Rpb24oaSl7aWYoaXx8KGk9e30pLCJzdHJpbmciPT10eXBlb2YgdCl7RC5pbmZvKCJbUmVnaXN0cnkgLSBjaGVja1JlZ2lzdGVyZWRVUkxzXSAtIGxvb2sgZm9yICIrdCsiIG9uICIsaSk7dmFyIHM9KDAsYS5kZWZhdWx0KShpKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9aVtlXS5pbmRleE9mKHQpO3JldHVybiBpW2VdW3JdfSk7cmV0dXJuIEQuaW5mbygiW1JlZ2lzdHJ5IC0gY2hlY2tSZWdpc3RlcmVkVVJMc10gLSBmb3VuZCAiK3MubGVuZ3RoKyIgcmVzdWx0cyBvbiAiLHMpLG4oMT09PXMubGVuZ3RoP3M6dm9pZCAwKX1pZigicmVnaXN0cnk6SHlwZXJ0eVVSTHMiIT09byl7dmFyIHU9ZS5uYW1lK2Uuc2NoZW1hK2UucmVzb3VyY2VzK2UucmVwb3J0ZXI7aWYoaVt1XSl7aWYoInN0cmluZyI9PXR5cGVvZiBpW3VdKXt2YXIgYz1bXTtyZXR1cm4gYy5wdXNoKGlbdV0pLG4oYyl9cmV0dXJuIG4oaVt1XSl9cmV0dXJuIG4odm9pZCAwKX1yLl9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oaVtlLnJlc291cmNlcytlLmRhdGFTY2hlbWErZS5uYW1lXT9pW2UucmVzb3VyY2VzK2UuZGF0YVNjaGVtYStlLm5hbWVdOnZvaWQgMCl9KX0pfSl9fSx7a2V5OiJyZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcyxzPXZvaWQgMDtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih1LGMpe2kuaWRNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb24obykudGhlbihmdW5jdGlvbihvKXt2YXIgbD1vLnVzZXJQcm9maWxlO3ZvaWQgMD09PWkuX21lc3NhZ2VCdXM/YygiW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gTWVzc2FnZUJ1cyBpcyB1bmRlZmluZWQiKTppLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiKS50aGVuKGZ1bmN0aW9uKG8pe2kuX2dldFJlc291cmNlc0FuZFNjaGVtZXMocikudGhlbihmdW5jdGlvbihmKXtzPWYsb3x8KG89e30pLG9bcy5yZXNvdXJjZXMrcy5kYXRhU2NoZW1hK3MubmFtZV09bi5hZGRyZXNzLGkuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZWdpc3RyeTpIeXBlcnR5VVJMcyIsMCxvKS50aGVuKGZ1bmN0aW9uKCl7ImFwcCI9PT1lLnR5cGU/aS5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbbi5hZGRyZXNzWzBdXT1lOiJub3JtYWwiPT09ZS50eXBlP2kuc2FuZGJveGVzTGlzdC5zYW5kYm94W24uYWRkcmVzc1swXV09ZTpjKCJXcm9uZyBTYW5kYm94VHlwZSIpO3ZhciBvPXZvaWQgMCxmPXZvaWQgMDswIT09KDAsYS5kZWZhdWx0KShpLnAycEhhbmRsZXJTdHViKS5sZW5ndGgmJihvPWkucDJwSGFuZGxlclN0dWJbaS5ydW50aW1lVVJMXS51cmwsZj1oLnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvci5wMnBSZXF1ZXN0ZXJTdHViKTt2YXIgZD1uZXcgbS5kZWZhdWx0KGkuaWRlbnRpZmllcixpLnJlZ2lzdHJ5VVJMLHQscixuLmFkZHJlc3NbMF0sbCwiZ3VpZCIsaS5ydW50aW1lVVJMLCJjdHgiLG8sZixzLmRhdGFTY2hlbWEscy5yZXNvdXJjZXMpO2kuaHlwZXJ0aWVzTGlzdC5wdXNoKGQpO3ZhciBwPSEwO3IuaGFzT3duUHJvcGVydHkoIl9jb25maWd1cmF0aW9uIikmJnIuY29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3JlZ2lzdHJhdGlvbiIpJiYocD1yLmNvbmZpZ3VyYXRpb24uZG9tYWluX3JlZ2lzdHJhdGlvbikscD9pLl9kb21haW5SZWdpc3RyYXRpb24ucmVnaXN0ZXJIeXBlcnR5KGQsbi5uZXdBZGRyZXNzKS50aGVuKGZ1bmN0aW9uKGUpe3UoZSl9KTp1KHt1cmw6ZC5oeXBlcnR5VVJMfSl9KS5jYXRjaChmdW5jdGlvbihlKXtjKGUpfSl9KX0pfSxmdW5jdGlvbihlKXtjKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSAiLGUpfSl9KX19LHtrZXk6InVucmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ITEsaT0wO2ZvcihpPTA7aTx0Lmh5cGVydGllc0xpc3QubGVuZ3RoO2krKyl7dmFyIGE9dC5oeXBlcnRpZXNMaXN0W2ldO2lmKHZvaWQgMCE9PWEmJmEuaHlwZXJ0eVVSTD09PWUpe289ITA7YnJlYWt9fSExPT09bz9uKCJIeXBlcnR5IG5vdCBmb3VuZCIpOihkZWxldGUgdC5oeXBlcnRpZXNMaXN0W2ldLHIoIkh5cGVydHkgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiKSl9KX19LHtrZXk6ImRpc2NvdmVyUHJvdG9zdHViIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLFMuZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkobikmJnQucHJvdG9zdHVic0xpc3Rbbl0uc3RhdHVzPT09TS5MSVZFKXJldHVybiB0LnByb3Rvc3R1YnNMaXN0W25dO3Rocm93IHQucHJvdG9zdHVic0xpc3Rbbl09e3N0YXR1czpNLkRFUExPWUlOR30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclByb3RvU3R1YiBdIE1lc3NhZ2UgTm9kZSBQcm90b3N0dWIgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX19LHtrZXk6ImRpc2NvdmVyUDJQU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihlKXtpZih0LnAycFJlcXVlc3RlclN0dWIuaGFzT3duUHJvcGVydHkoZSkmJnQucDJwUmVxdWVzdGVyU3R1YltlXS5zdGF0dXM9PT1NLkxJVkUpcmV0dXJuIHQucDJwUmVxdWVzdGVyU3R1YltlXTt0aHJvdyB0LnAycFJlcXVlc3RlclN0dWJbZV09e3N0YXR1czpNLkNSRUFURUR9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQMlBTdHViIF0gUDJQIFJlcXVlc3RlciBTdHViIE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9aWYodC5wMnBIYW5kbGVyU3R1Yi5oYXNPd25Qcm9wZXJ0eSh0LnJ1bnRpbWVVUkwpKXJldHVybiB0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF07dGhyb3cgdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdPXtzdGF0dXM6TS5DUkVBVEVEfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUDJQU3R1YiBdIFAyUCBIYW5kbGVyIFN0dWIgTm90IEZvdW5kLiIpfX0se2tleToicmVnaXN0ZXJTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBhPXRoaXMscz1pO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHUsYyl7dmFyIGw9dm9pZCAwO3ZvaWQgMD09PWEuX21lc3NhZ2VCdXMmJmMoIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViXSAtIHN0dWJJRCAiLHQpO3ZhciBmPXZvaWQgMDtpZihyKWlmKHIuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmci5pc0hhbmRsZXJTdHViKWw9YS5wMnBIYW5kbGVyVVJMLGEucDJwSGFuZGxlclN0dWJbdF09e3VybDpsLHN0YXR1czpNLkNSRUFURUR9LGEucDJwSGFuZGxlckFzc29jaWF0aW9uW2EucnVudGltZVVSTF09W10sYS5zYW5kYm94ZXNMaXN0LnNhbmRib3hbbF09ZSxELmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIFAyUEhhbmRsZXJTdHViXSAtICIsdCwiIC0gIixsKSx1KGEucDJwSGFuZGxlclN0dWJbdF0pO2Vsc2V7Zj1yLnAycFJlcXVlc3RlclN0dWIsbD0icnVudGltZTovLyIrKDAsUy5kaXZpZGVVUkwpKHIucmVtb3RlUnVudGltZVVSTCkuZG9tYWluKyIvcDJwcmVxdWVzdGVyLyIrKDAsUy5nZW5lcmF0ZUdVSUQpKCksRC5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBQMlBSZXF1ZXN0ZXJTdHViXSAtICIsZiwiIC0gIixsKSxhLnAycEhhbmRsZXJBc3NvY2lhdGlvblthLnJ1bnRpbWVVUkxdLnB1c2gobCksYS5wMnBSZXF1ZXN0ZXJTdHViW3RdPXt1cmw6bCxzdGF0dXM6TS5DUkVBVEVEfSxhLnNhbmRib3hlc0xpc3Quc2FuZGJveFtsXT1lO3ZhciBkPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206YS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIithLl9kb21haW4rIi9zbSIsYm9keTp7c3Vic2NyaWJlOltsXSxzb3VyY2U6YS5yZWdpc3RyeVVSTH19O2EuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZCxmdW5jdGlvbihlKXt9KSx1KGEucDJwUmVxdWVzdGVyU3R1Ylt0XSl9ZWxzZSBsPSJzdHJpbmciPT09ISh2b2lkIDA9PT1pPyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkoaSkpJiZpLmhhc093blByb3BlcnR5KCJfaW50ZXJ3b3JraW5nIikmJmkuX2ludGVyd29ya2luZz8icnVudGltZTovLyIrdCsiL3Byb3Rvc3R1Yi9zY2hlbWUxIjoicnVudGltZTovLyIrdCsiL3Byb3Rvc3R1Yi8iKygwLFMuZ2VuZXJhdGVHVUlEKSgpLEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViIC0gTm9ybWFsIFN0dWJdIC0gIix0KSxhLnByb3Rvc3R1YnNMaXN0W3RdPXt1cmw6bCxzdGF0dXM6TS5ERVBMT1lJTkd9LG4mJihhLnByb3Rvc3R1YnNMaXN0W3RdLmRlc2NyaXB0b3JVUkw9bikscyYmcy5pbnRlcndvcmtpbmcmJihhLnByb3Rvc3R1YnNMaXN0W3RdLmludGVyd29ya2luZz1zLmludGVyd29ya2luZyksYS5zYW5kYm94ZXNMaXN0LnNhbmRib3hbbF09ZSx1KGEucHJvdG9zdHVic0xpc3RbdF0pO2EuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIobCsiL3N0YXR1cyIsZnVuY3Rpb24oZSl7YS5fb25Qcm90b3N0dWJTdGF0dXNFdmVudChlKX0pfSl9fSx7a2V5OiJfb25Qcm90b3N0dWJTdGF0dXNFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbTtpZighZS50by5pbmNsdWRlcygiL3N0YXR1cyIpKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RyeSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpO3ZhciBuPWUuZnJvbTtpZihlLmZyb209dC5ydW50aW1lVVJMLGUudG89dC5ydW50aW1lVVJMKyIvc3RhdHVzIixlLmJvZHkucmVzb3VyY2U9bix0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpLHIuaW5jbHVkZXMoIi9wcm90b3N0dWIvIikpKDAsYS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG9zdHVic0xpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LnByb3Rvc3R1YnNMaXN0W3JdLnN0YXR1cz1lLmJvZHkudmFsdWV9KTtlbHNlIGlmKGUuYm9keS5yZXNvdXJjZSl7dmFyIG89ZS5ib2R5LnJlc291cmNlO2lmKHQucDJwQ29ubmVjdGlvbkxpc3Rbb10pdC5wMnBDb25uZWN0aW9uTGlzdFtvXS5zdGF0dXM9ZS5ib2R5LnZhbHVlLHQucDJwQ29ubmVjdGlvbkxpc3Rbb10udXJsPXI7ZWxzZXt2YXIgaT17c3RhdHVzOmUuYm9keS52YWx1ZSx1cmw6cn07dC5wMnBDb25uZWN0aW9uTGlzdFtvXT1pfXIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIik/dC5wMnBSZXF1ZXN0ZXJTdHViW29dLnN0YXR1cz1lLmJvZHkudmFsdWU6ImRpc2Nvbm5lY3RlZCI9PT1lLmJvZHkudmFsdWUmJmRlbGV0ZSB0LnAycENvbm5lY3Rpb25MaXN0W29dfWVsc2V7aWYoci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKSlyZXR1cm4gdm9pZCBELmVycm9yKCJbUmVnaXN0cnkgb25Qcm90b3N0dWJTdGF0dXNFdmVudF0gcmVzb3VyY2UgbWlzc2luZzogIixlKTt0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF0uc3RhdHVzPWUuYm9keS52YWx1ZX19fSx7a2V5OiJ1bnJlZ2lzdGVyU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSB0LnByb3Rvc3R1YnNMaXN0W2VdLHIoIlByb3Rvc3R1YlVSTCByZW1vdmVkIikpOm4oIkVycm9yIG9uIHVucmVnaXN0ZXJTdHViOiBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9fSx7a2V5OiJyZWdpc3RlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7dm9pZCAwPT09ci5fbWVzc2FnZUJ1cyYmbygiTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gcmVnaXN0ZXJTdHViIiksaT0iZG9tYWluLWlkcDovLyIrdCsiL3N0dWIvIisoMCxTLmdlbmVyYXRlR1VJRCkoKSxyLmlkcFByb3h5TGlzdFt0XT17dXJsOmksc3RhdHVzOk0uREVQTE9ZSU5HfSxyLnNhbmRib3hlc0xpc3Quc2FuZGJveFtpXT1lLG4oaSksci5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihpKyIvc3RhdHVzIixmdW5jdGlvbihlKXtyLl9vbklkcFByb3h5U3RhdHVzRXZlbnQoZSl9KX0pfX0se2tleToiX29uSWRwUHJveHlTdGF0dXNFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbTtpZighZS50by5pbmNsdWRlcygiL3N0YXR1cyIpKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RyeSBvbklkcFByb3h5U3RhdHVzRXZlbnRdIE5vdCBTdGF0dXMgRXZlbnQ6ICIsZSk7KDAsYS5kZWZhdWx0KSh0LmlkcFByb3h5TGlzdCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlkcFByb3h5TGlzdFtlXS51cmw9PT1yfSkubWFwKGZ1bmN0aW9uKHIpe3QuaWRwUHJveHlMaXN0W3JdLnN0YXR1cz1lLmJvZHkudmFsdWV9KX19LHtrZXk6ImRpc2NvdmVySWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTt2YXIgdD10aGlzLHI9KDAsUy5kaXZpZGVVUkwpKGUpLG49ci5kb21haW47aWYodC5pZHBQcm94eUxpc3QuaGFzT3duUHJvcGVydHkobikmJnQuaWRwUHJveHlMaXN0W25dLnN0YXR1cz09PU0uTElWRSlyZXR1cm4gdC5pZHBQcm94eUxpc3Rbbl07dGhyb3cgdC5pZHBQcm94eUxpc3Rbbl09e3N0YXR1czpNLlBST0dSRVNTfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVySWRwUHJveHkgXSBJZHAgUHJveHkgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX19LHtrZXk6InJlZ2lzdGVyUEVQIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7ci5wZXBMaXN0W3RdPWUsbigiUEVQIHJlZ2lzdGVyZWQgd2l0aCBzdWNjZXNzIil9KX19LHtrZXk6InVucmVnaXN0ZXJQRVAiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2b2lkIDA9PT10LnBlcExpc3RbZV0/bigiUGVwIE5vdCBmb3VuZC4iKTpyKCJQRVAgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuIil9KX19LHtrZXk6ImdldFNhbmRib3giLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQYXJhbWV0ZXIgdXJsIG5lZWRlZCIpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7aWYoIShpPXIuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2VdKSYmIShpPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W2VdKSl7dmFyIHM9dm9pZCAwO3M9ZS5pbmNsdWRlcygiOi8vIik/KDAsUy5kaXZpZGVVUkwpKGUpLmRvbWFpbjplO2Zvcih2YXIgdSBpbiByLnNhbmRib3hlc0xpc3Quc2FuZGJveClpZih1LmluY2x1ZGVzKHMpJiZyLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XS5tYXRjaGVzKHQpKXt2YXIgYz1mdW5jdGlvbigpe3ZhciBlPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdO3JldHVybigwLGEuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiJicm93c2VyIj09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuTk9STUFMfHwid2luZG93U2FuYm94Ij09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuV0lORE9XfSkubGVuZ3RoPjAmJihpPWUpLCJicmVhayJ9KCk7aWYoImJyZWFrIj09PWMpYnJlYWt9fWk/bihpKTpvKCJubyBzYW5kYm94IGZvdW5kIGZvcjogIitlKX0pfX0se2tleToicmVzb2x2ZU5vcm1hbFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0oMCxTLmRpdmlkZVVSTCkoZSksaT1vLmRvbWFpbixhPW8udHlwZTtlLmluY2x1ZGVzKHQucnVudGltZVVSTCkmJihELmVycm9yKCJbUmVnaXN0cnkgLSByZXNvbHZlXSBVUkwgdG8gYmUgcmVzb2x2ZWQgc2hvdWxkIGhhdmUgbGlzdGVuZXJzICIsZSksbigiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gVVJMIHRvIGJlIHJlc29sdmVkIHNob3VsZCBoYXZlIGxpc3RlbmVycyAiLGUpKSxlLmluY2x1ZGVzKCJnbG9iYWw6Ly9yZWdpc3RyeSIpP2k9dC5fZG9tYWluOmkuaW5kZXhPZigibXNnLW5vZGUuIikmJmkuaW5kZXhPZigicmVnaXN0cnkuIil8fChpPWkuc3Vic3RyaW5nKGkuaW5kZXhPZigiLiIpKzEpKSx0LmlzTGVnYWN5KGUpLnRoZW4oZnVuY3Rpb24obyl7byYmImRvbWFpbi1pZHAiIT09YSYmKGk9YSsiLiIrKDAsUy5nZXRVc2VySWRlbnRpdHlEb21haW4pKGUpKSxELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSBkb21haW5Vcmw6IixpKTt2YXIgcz12b2lkIDA7cz0iZG9tYWluLWlkcCI9PT1hPyEhdC5pZHBQcm94eUxpc3QuaGFzT3duUHJvcGVydHkoaSkmJnQuaWRwUHJveHlMaXN0W2ldOiEhdC5wcm90b3N0dWJzTGlzdC5oYXNPd25Qcm9wZXJ0eShpKSYmdC5wcm90b3N0dWJzTGlzdFtpXSxELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSByZWdpc3RyZWQ6IixzKSxzJiZzLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSYmKHMuc3RhdHVzPT09TS5ERVBMT1lFRHx8cy5zdGF0dXM9PT1NLkNSRUFURUR8fHMuc3RhdHVzPT09TS5MSVZFfHxzLnN0YXR1cz09PU0uRElTQ09OTkVDVEVEKT8oRC5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gUmVzb2x2ZWQ6ICIscy51cmwscy5zdGF0dXMpLHIocy51cmwpKToiZG9tYWluLWlkcCI9PT1hPyh0LndhdGNoaW5nWW91Lm9ic2VydmUoImlkcFByb3h5TGlzdCIsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiZyKHQuaWRwUHJveHlMaXN0W2ldLnVybCl9KSxzfHwoRC5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIGRlcGxveSBuZXcgSURQUHJveHk6ICIsaSksdC5sb2FkZXIubG9hZElkcFByb3h5KGkpLnRoZW4oZnVuY3Rpb24oKXtELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gSWRQIFByb3h5IGRlcGxveWVkOiAiLHQuaWRwUHJveHlMaXN0W2ldKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe0QuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgTG9hZCBJRFBQcm94eTogIixlKSx0LmlkcFByb3h5TGlzdFtpXS5zdGF0dXM9ImRlcGxveW1lbnQtZmFpbGVkIixuKGUpfSkpKToodC53YXRjaGluZ1lvdS5vYnNlcnZlKCJwcm90b3N0dWJzTGlzdCIsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiZyKHQucHJvdG9zdHVic0xpc3RbaV0udXJsKX0pLHN8fChELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSB0cmlnZ2VyIG5ldyBQcm90b2NvbFN0dWI6ICIsaSksdC5sb2FkZXIubG9hZFN0dWIoaSkudGhlbihmdW5jdGlvbigpe30pLmNhdGNoKGZ1bmN0aW9uKGUpe0QuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gRXJyb3IgcmVzb2x2aW5nIExvYWQgUHJvdG9jb2xTdHViOiAiLGUpLG4oZSl9KSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7RC5lcnJvcigiW1JlZ2lzdHJ5LnJlc29sdmVdIEVycm9yIHJlc29sdmluZyBpc2xlZ2FjeTogIixlKSxuKGUpfSl9KX19LHtrZXk6InJlc29sdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe0QuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSAgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ZS50bz9lLnRvOmUsaT0hKCFlLmJvZHl8fCFlLmJvZHkucDJwKSYmZS5ib2R5LnAycDshdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdfHwoMCxTLmlzQmFja2VuZFNlcnZpY2VVUkwpKG8pfHxvLmluY2x1ZGVzKHQucnVudGltZVVSTCl8fG8uaW5jbHVkZXMoIi9wMnBoYW5kbGVyLyIpfHxvLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpPyhELmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUmVzb2x2ZSBub3JtYWwgc3R1YjogIix0LnAycEhhbmRsZXJTdHViLHQucnVudGltZVVSTCwoMCxTLmlzQmFja2VuZFNlcnZpY2VVUkwpKG8pLGksbyksdC5yZXNvbHZlTm9ybWFsU3R1YihvKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KSk6KEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gLSBjaGVja1AyUDogIixpLG8sdC5fcDJwQ29ubmVjdGlvblJlc29sdmUpLHQuX3AycENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQKGUpLnRoZW4oZnVuY3Rpb24obil7dmFyIGE9dC5wMnBDb25uZWN0aW9uTGlzdFtuLnJ1bnRpbWVdO3N3aXRjaChhfHwoYT1uLHQucDJwQ29ubmVjdGlvbkxpc3Rbbi5ydW50aW1lXT1hKSxhLnN0YXR1cyl7Y2FzZSBNLkxJVkU6ZS5ib2R5LnBlZXI9bi5ydW50aW1lLHIoYS51cmwsZSk7YnJlYWs7Y2FzZSBNLkNSRUFURUQ6Y2FzZSBNLlBST0dSRVNTOnQucmVzb2x2ZU5vcm1hbFN0dWIobykudGhlbihmdW5jdGlvbihlKXtyKGUpfSk7YnJlYWs7Y2FzZSBNLkRJU0NPTk5FQ1RFRDpELmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gcDJwQ29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQgbGV0cyB0cnkgdG8gcmVjb25uZWN0IiksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyKGEpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7RC5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSk7YnJlYWs7ZGVmYXVsdDpELmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUDJQOiAiLGkpLGk/dC5fc2V0dXBQMlBSZXF1ZXN0ZXIobikudGhlbihmdW5jdGlvbihlKXtyKGUpfSxmdW5jdGlvbihlKXtELmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gUmVhc29uOiAiLGUpLHQucmVzb2x2ZU5vcm1hbFN0dWIobykudGhlbihmdW5jdGlvbihlKXtyKGUpfSl9KTp0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfX0sZnVuY3Rpb24oZSl7RC5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSkpfSl9fSx7a2V5OiJfc2V0dXBQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEQubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gbG9hZFN0dWIgd2l0aCBwMnBSZXF1ZXN0ZXI6ICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPWUucnVudGltZSxpPXtyZW1vdGVSdW50aW1lVVJMOm8scDJwSGFuZGxlcjplLnAycEhhbmRsZXIscDJwUmVxdWVzdGVyU3R1YjohMH07dC53YXRjaGluZ1lvdS5vYnNlcnZlKCJwMnBSZXF1ZXN0ZXJTdHViIixmdW5jdGlvbihlKXtELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlclN0dWJzIGNoYW5nZWQgIit0LnAycFJlcXVlc3RlclN0dWIpLGUua2V5cGF0aC5zcGxpdCgiLiIpWzBdPT09byYmInN0YXR1cyI9PT1lLm5hbWUmJmUubmV3VmFsdWU9PT1NLkxJVkUmJihELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlciBpcyBsaXZlICIrdC5wMnBSZXF1ZXN0ZXJTdHViW29dKSxyKHQucDJwUmVxdWVzdGVyU3R1YltvXS51cmwpKX0pLHQubG9hZGVyLmxvYWRTdHViKGUucDJwUmVxdWVzdGVyLGkpLnRoZW4oZnVuY3Rpb24oKXtELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlciBkZXBsb3llZDogIix0LnAycFJlcXVlc3RlclN0dWJbb10pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJpc0xlZ2FjeSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGU9PT10Ll9kb21haW4pcmV0dXJuIHIoITEpO0QubG9nKCJbUmVnaXN0cnldIFtSZWdpc3RyeS5SZWdpc3RyeS5pc0xlZ2FjeV0gIixlKTt2YXIgbz1bImh5cGVydHktcnVudGltZSIsImRvbWFpbiIsImdsb2JhbCIsImh5cGVydHkiXSxpPSgwLFMuZGl2aWRlVVJMKShlKTtpZigtMSE9PW8uaW5kZXhPZihpLnR5cGUpfHxpLmRvbWFpbj09PXQuX2RvbWFpbilyZXR1cm4gcighMSk7aWYoZS5zcGxpdCgiQCIpLmxlbmd0aD4xKXt2YXIgYT1pLmRvbWFpbjtpZih0LmlkcExlZ2FjeVByb3h5TGlzdC5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHM9dC5pZHBMZWdhY3lQcm94eUxpc3RbYV07cmV0dXJuIHIocy5pbnRlcndvcmtpbmc/cy5pbnRlcndvcmtpbmc6ITEpfXQuX2xvYWRlci5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IoYSkudGhlbihmdW5jdGlvbihlKXtlLmludGVyd29ya2luZz8odC5pZHBMZWdhY3lQcm94eUxpc3RbYV09ZSxyKGUuaW50ZXJ3b3JraW5nKSk6cighMSl9KS5jYXRjaChmdW5jdGlvbihlKXtELndhcm4oInByb2JsZW0gbG9hZGluZyBpZHAgcHJveHkgZGVzY3JpcHRvciBmb3IgZG9tYWluOiIsYSwiIGJlY2F1c2UgIixlKSxuKGUpfSl9ZWxzZSByKHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoZSkpfSl9fSx7a2V5OiJpc0xvY2FsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImh5cGVydHktcnVudGltZSIsInJ1bnRpbWUiXSxyPVsiaHlwZXJ0eSJdLG49ZS5zcGxpdCgiOi8vIilbMF07aWYoLTEhPT10LmluZGV4T2YobikpcmV0dXJuIGUuaW5jbHVkZXModGhpcy5ydW50aW1lVVJMKTtpZigtMSE9PXIuaW5kZXhPZihuKSl7Zm9yKHZhciBvIGluIHRoaXMuaHlwZXJ0aWVzTGlzdCl7aWYodGhpcy5oeXBlcnRpZXNMaXN0W29dLmh5cGVydHlVUkw9PT1lKXJldHVybiEwfXJldHVybiExfWUuaW5jbHVkZXMoIi9zdWJzY3JpcHRpb24iKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIi9zdWJzY3JpcHRpb24iKSkpO3ZhciBpPXRoaXMuZGF0YU9iamVjdExpc3RbZV07cmV0dXJuISFpJiYoIWkuaW50ZXJ3b3JraW5nfHwhaS5pbnRlcndvcmtpbmcpfX0se2tleToiaXNJbnRlcndvcmtpbmdQcm90b1N0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgZSYmKCEhZS5pbmNsdWRlcygiL3Byb3Rvc3R1Yi8iKSYmKDAsYS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHQucHJvdG9zdHVic0xpc3Rbcl0udXJsPT09ZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hIXQucHJvdG9zdHVic0xpc3RbZV0uaGFzT3duUHJvcGVydHkoImludGVyd29ya2luZyIpJiZ0LnByb3Rvc3R1YnNMaXN0W2VdLmludGVyd29ya2luZ30pWzBdKX19LHtrZXk6ImxvYWRlciIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRlcj1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVyfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX21lc3NhZ2VCdXM9ZSx0Ll9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHQucmVnaXN0cnlVUkwsZnVuY3Rpb24oZSl7KDAsUy5pc0h5cGVydHlVUkwpKGUuZnJvbSksZS5ib2R5Lmhhc093blByb3BlcnR5KCJjcml0ZXJpYSIpO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2UiKSYmIi4iIT09ZS5ib2R5LnJlc291cmNlJiYoKDAsUy5pc1VSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzVXNlclVSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzSHlwZXJ0eVVSTCkoZS5ib2R5LnJlc291cmNlKSk7ZS50eXBlO2lmKGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmKGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpLGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgidXNlciIpKSwicmVzcG9uc2UiPT09ZS50eXBlKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RlciBsaXN0ZW5lcl0gc2tpcHBpbmcgIixlKTt2YXIgcj10Ll9nZXRJZGVudGl0eUFzc29jaWF0ZWQoZS5ib2R5LnJlc291cmNlLGUuYm9keS5jcml0ZXJpYSksbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntyZXNvdXJjZTpyfX07bi5ib2R5LmNvZGU9cj8yMDA6NDA0LHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobil9KTt2YXIgcj1fLmRlZmF1bHQuaW5zdGFuY2U7dC5hZGRyZXNzQWxsb2NhdGlvbj1yLHQuX2RvbWFpblJlZ2lzdHJhdGlvbj1uZXcgTy5kZWZhdWx0KHQucnVudGltZVVSTCx0LnJlZ2lzdHJ5VVJMLHQuX2RvbWFpbixlKX19XSksUmVnaXN0cnl9KCk7dC5kZWZhdWx0PUwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ1NCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDgwKSxyKDEwMSksZS5leHBvcnRzPXIoMTQ2KS5mKCJpdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDU2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDU3KSxyKDE5Mikscig0NjIpLHIoNDYzKSxlLmV4cG9ydHM9cigxMSkuU3ltYm9sfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjEpLG89cig2MiksaT1yKDUxKSxhPXIoMjYpLHM9cigxOTQpLHU9cig0NTgpLktFWSxjPXIoNzApLGw9cigxMzYpLGY9cigxMDApLGQ9cig5OCkscD1yKDIyKSx5PXIoMTQ2KSxoPXIoMTQ3KSx2PXIoNDU5KSxnPXIoNDYwKSxfPXIoNDEpLGI9cig0NSksbT1yKDUwKSxSPXIoMTQwKSxPPXIoNzkpLHc9cigxNDEpLGs9cig0NjEpLFM9cigxNDgpLFA9cig0NCksRD1yKDY4KSxNPVMuZixMPVAuZixqPWsuZixVPW4uU3ltYm9sLEU9bi5KU09OLHg9RSYmRS5zdHJpbmdpZnksQT1wKCJfaGlkZGVuIiksST1wKCJ0b1ByaW1pdGl2ZSIpLEM9e30ucHJvcGVydHlJc0VudW1lcmFibGUsVD1sKCJzeW1ib2wtcmVnaXN0cnkiKSxxPWwoInN5bWJvbHMiKSxIPWwoIm9wLXN5bWJvbHMiKSxOPU9iamVjdC5wcm90b3R5cGUsRj0iZnVuY3Rpb24iPT10eXBlb2YgVSxCPW4uUU9iamVjdCxHPSFCfHwhQi5wcm90b3R5cGV8fCFCLnByb3RvdHlwZS5maW5kQ2hpbGQsSz1pJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXcoTCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBMKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NKE4sdCk7biYmZGVsZXRlIE5bdF0sTChlLHQsciksbiYmZSE9PU4mJkwoTix0LG4pfTpMLFY9ZnVuY3Rpb24oZSl7dmFyIHQ9cVtlXT13KFUucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LFc9RiYmInN5bWJvbCI9PXR5cGVvZiBVLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfSxZPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PU4mJlkoSCx0LHIpLF8oZSksdD1SKHQsITApLF8ociksbyhxLHQpPyhyLmVudW1lcmFibGU/KG8oZSxBKSYmZVtBXVt0XSYmKGVbQV1bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOk8oMCwhMSl9KSk6KG8oZSxBKXx8TChlLEEsTygxLHt9KSksZVtBXVt0XT0hMCksSyhlLHQscikpOkwoZSx0LHIpfSxKPWZ1bmN0aW9uKGUsdCl7XyhlKTtmb3IodmFyIHIsbj12KHQ9bSh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylZKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LHo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkoodyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1DLmNhbGwodGhpcyxlPVIoZSwhMCkpO3JldHVybiEodGhpcz09PU4mJm8ocSxlKSYmIW8oSCxlKSkmJighKHR8fCFvKHRoaXMsZSl8fCFvKHEsZSl8fG8odGhpcyxBKSYmdGhpc1tBXVtlXSl8fHQpfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1tKGUpLHQ9Uih0LCEwKSxlIT09Tnx8IW8ocSx0KXx8byhILHQpKXt2YXIgcj1NKGUsdCk7cmV0dXJuIXJ8fCFvKHEsdCl8fG8oZSxBKSYmZVtBXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9aihtKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKHEsdD1yW2krK10pfHx0PT1BfHx0PT11fHxuLnB1c2godCk7cmV0dXJuIG59LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PU4sbj1qKHI/SDptKGUpKSxpPVtdLGE9MDtuLmxlbmd0aD5hOykhbyhxLHQ9blthKytdKXx8ciYmIW8oTix0KXx8aS5wdXNoKHFbdF0pO3JldHVybiBpfTtGfHwoVT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBVKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PU4mJnQuY2FsbChILHIpLG8odGhpcyxBKSYmbyh0aGlzW0FdLGUpJiYodGhpc1tBXVtlXT0hMSksSyh0aGlzLGUsTygxLHIpKX07cmV0dXJuIGkmJkcmJksoTixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxWKGUpfSxzKFUucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLFMuZj0kLFAuZj1ZLHIoMjA1KS5mPWsuZj1RLHIoODEpLmY9WCxyKDE0NSkuZj1aLGkmJiFyKDc4KSYmcyhOLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkseS5mPWZ1bmN0aW9uKGUpe3JldHVybiBWKHAoZSkpfSksYShhLkcrYS5XK2EuRiohRix7U3ltYm9sOlV9KTtmb3IodmFyIGVlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSx0ZT0wO2VlLmxlbmd0aD50ZTspcChlZVt0ZSsrXSk7Zm9yKHZhciByZT1EKHAuc3RvcmUpLG5lPTA7cmUubGVuZ3RoPm5lOyloKHJlW25lKytdKTthKGEuUythLkYqIUYsIlN5bWJvbCIse2ZvcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhULGUrPSIiKT9UW2VdOlRbZV09VShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBUKWlmKFRbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtHPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtHPSExfX0pLGEoYS5TK2EuRiohRiwiT2JqZWN0Iix7Y3JlYXRlOnosZGVmaW5lUHJvcGVydHk6WSxkZWZpbmVQcm9wZXJ0aWVzOkosZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczpafSksRSYmYShhLlMrYS5GKighRnx8YyhmdW5jdGlvbigpe3ZhciBlPVUoKTtyZXR1cm4iW251bGxdIiE9eChbZV0pfHwie30iIT14KHthOmV9KXx8Int9IiE9eChPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7aWYocj10PW5bMV0sKGIodCl8fHZvaWQgMCE9PWUpJiYhVyhlKSlyZXR1cm4gZyh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIVcodCkpcmV0dXJuIHR9KSxuWzFdPXQseC5hcHBseShFLG4pfX0pLFUucHJvdG90eXBlW0ldfHxyKDYzKShVLnByb3RvdHlwZSxJLFUucHJvdG90eXBlLnZhbHVlT2YpLGYoVSwiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihuLkpTT04sIkpTT04iLCEwKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOTgpKCJtZXRhIiksbz1yKDQ1KSxpPXIoNjIpLGE9cig0NCkuZixzPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDcwKShmdW5jdGlvbigpe3JldHVybiB1KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXthKGUsbix7dmFsdWU6e2k6Ik8iKyArK3Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbikpe2lmKCF1KGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhaShlLG4pJiZsKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6cH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY4KSxvPXIoMTQ1KSxpPXIoODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBhLHM9cihlKSx1PWkuZixjPTA7cy5sZW5ndGg+YzspdS5jYWxsKGUsYT1zW2MrK10pJiZ0LnB1c2goYSk7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Nyk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MCksbz1yKDIwNSkuZixpPXt9LnRvU3RyaW5nLGE9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaChlKXtyZXR1cm4gYS5zbGljZSgpfX07ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIGEmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/cyhlKTpvKG4oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTQ3KSgiYXN5bmNJdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7cigxNDcpKCJvYnNlcnZhYmxlIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuU2FuZGJveFR5cGU9dm9pZCAwO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMTcpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoMTgpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNDc0KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksYj1yKDUwMiksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLFI9KHQuU2FuZGJveFR5cGU9e0FQUDoiYXBwIixOT1JNQUw6Im5vcm1hbCIsV0lORE9XOiJ3aW5kb3cifSxmdW5jdGlvbihlKXtmdW5jdGlvbiBTYW5kYm94KGUpeygwLGwuZGVmYXVsdCkodGhpcyxTYW5kYm94KTt2YXIgdD0oMCx5LmRlZmF1bHQpKHRoaXMsKFNhbmRib3guX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKFNhbmRib3gpKS5jYWxsKHRoaXMpKSxyPXQ7cmV0dXJuIGUmJihyLmNhcGFiaWxpdGllcz1lKSx0fXJldHVybigwLHYuZGVmYXVsdCkoU2FuZGJveCxlKSwoMCxkLmRlZmF1bHQpKFNhbmRib3gsW3trZXk6ImRlcGxveUNvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obyxpKXt2YXIgYT17dHlwZToiY3JlYXRlIixmcm9tOl8uZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Xy5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6dCxzb3VyY2VDb2RlOmUsY29uZmlnOnJ9fTtuLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/bygiZGVwbG95ZWQiKTppKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZW1vdmVDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz17dHlwZToiZGVsZXRlIixmcm9tOl8uZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Xy5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6ZX19O3QucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9yKCJ1bmRlcGxveWVkIik6bihlLmJvZHkuZGVzYyl9KX0pfX0se2tleToibWF0Y2hlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLG8uZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiEodC5jYXBhYmlsaXRpZXNbcl0mJnQuY2FwYWJpbGl0aWVzW3JdPT09ZVtyXSl9KTtyZXR1cm4gMD09PXIubGVuZ3RofHwhZVtyXX19XSksU2FuZGJveH0obS5kZWZhdWx0KSk7dC5kZWZhdWx0PVJ9LGZ1bmN0aW9uKGUsdCxyKXtyKDQ2NiksZS5leHBvcnRzPXIoMTEpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzYpLG89cigxOTYpO3IoMTM4KSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDY4KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDY5KSxlLmV4cG9ydHM9cigxMSkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOnIoNDcwKS5zZXR9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDUpLG89cig0MSksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHQsbil7dHJ5e249cig2OSkoRnVuY3Rpb24uY2FsbCxyKDE0OCkuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbihlLFtdKSx0PSEoZSBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChlKXt0PSEwfXJldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBpKGUsciksdD9lLl9fcHJvdG9fXz1yOm4oZSxyKSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzIpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0NzMpO3ZhciBuPXIoMTEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOnIoMTQxKX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig0NzUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2FuZGJveFJlZ2lzdHJ5KGUpeygwLG8uZGVmYXVsdCkodGhpcyxTYW5kYm94UmVnaXN0cnkpO3ZhciB0PXRoaXM7dC5fYnVzPWUsdC5fZmFjdG9yeT1uZXcgdS5kZWZhdWx0KGUpLHQuX2NvbXBvbmVudHM9e30sZS5hZGRMaXN0ZW5lcihTYW5kYm94UmVnaXN0cnkuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkRlcGxveShlKTticmVhaztjYXNlImRlbGV0ZSI6dC5fb25SZW1vdmUoZSl9fSl9cmV0dXJuKDAsYS5kZWZhdWx0KShTYW5kYm94UmVnaXN0cnksW3trZXk6Il9yZXNwb25zZU1zZyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOlNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsdG86U2FuZGJveFJlZ2lzdHJ5LkV4dGVybmFsRGVwbG95QWRkcmVzc30sbz17fTtyZXR1cm4gdCYmKG8uY29kZT10KSxyJiYoby5kZXNjPXIpLG4uYm9keT1vLG59fSx7a2V5OiJfb25EZXBsb3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuY29uZmlnLG49ZS5ib2R5LnVybCxvPWUuYm9keS5zb3VyY2VDb2RlLGk9dm9pZCAwLGE9dm9pZCAwO2lmKHQuX2NvbXBvbmVudHMuaGFzT3duUHJvcGVydHkobikpaT01MDAsYT0iSW5zdGFuY2UgIituKyIgYWxyZWFkeSBleGlzdCEiO2Vsc2UgdHJ5e3QuX2NvbXBvbmVudHNbbl09dC5fY3JlYXRlKG4sbyxyLHQuX2ZhY3RvcnkpLGk9MjAwfWNhdGNoKGUpe2k9NTAwLGE9ZX12YXIgcz10Ll9yZXNwb25zZU1zZyhlLGksYSk7dC5fYnVzLnBvc3RNZXNzYWdlKHMpfX0se2tleToiX29uUmVtb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnVybCxuPXZvaWQgMCxvPXZvaWQgMDt0Ll9jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpPyhkZWxldGUgdC5fY29tcG9uZW50c1tyXSx0Ll9idXMucmVtb3ZlQWxsTGlzdGVuZXJzT2Yociksbj0yMDApOihuPTUwMCxvPSJJbnN0YW5jZSAiK3IrIiBkb2Vzbid0IGV4aXN0ISIpO3ZhciBpPXQuX3Jlc3BvbnNlTXNnKGUsbixvKTt0Ll9idXMucG9zdE1lc3NhZ2UoaSl9fSx7a2V5OiJfY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt9fSx7a2V5OiJjb21wb25lbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c319XSksU2FuZGJveFJlZ2lzdHJ5fSgpO2MuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzPSJoeXBlcnR5LXJ1bnRpbWU6Ly9zYW5kYm94L2V4dGVybmFsIixjLkludGVybmFsRGVwbG95QWRkcmVzcz0iaHlwZXJ0eS1ydW50aW1lOi8vc2FuZGJveC9pbnRlcm5hbCIsdC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNDc2KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQ4OCksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig3KSxkPXIoNDg5KSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1yKDQ5MCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxNTApLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxfPXIoNDkyKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksbT1yKDQ5MyksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLE89cig0OTQpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChPKSxrPXIoNDk1KSxTPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDQ5NyksRD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFApLE09cigyMTApLEw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChNKSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2FuZGJveEZhY3RvcnkoZSl7KDAsby5kZWZhdWx0KSh0aGlzLFNhbmRib3hGYWN0b3J5KTt2YXIgdD10aGlzO3QuX2J1cz1lLHQuX2RpdmlkZVVSTD1mLmRpdmlkZVVSTH1yZXR1cm4oMCxhLmRlZmF1bHQpKFNhbmRib3hGYWN0b3J5LFt7a2V5OiJjcmVhdGVTeW5jaGVyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlSWRlbnRpdHlNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBwLmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlRGlzY292ZXJ5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBoLmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlU2VhcmNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgYi5kZWZhdWx0KGUsdCl9fSx7a2V5OiJjcmVhdGVDb250ZXh0T2JzZXJ2ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgUi5kZWZhdWx0KGUsdCxyLG4sdGhpcyl9fSx7a2V5OiJjcmVhdGVDb250ZXh0UmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IHcuZGVmYXVsdChlLHQscix0aGlzKX19LHtrZXk6ImNyZWF0ZU5vdGlmaWNhdGlvbkhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbC5kZWZhdWx0KGUpfX0se2tleToiY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzKXtyZXR1cm4gbmV3IFMuZGVmYXVsdChlLHQscixuLG8saSxhLHMpfX0se2tleToiY3JlYXRlQ2hhdE1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgRC5kZWZhdWx0KGUsdCxyLG4sdGhpcyl9fSx7a2V5OiJjcmVhdGVDaGF0Q29udHJvbGxlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3JldHVybiBuZXcgTC5kZWZhdWx0KGUsdCxyLG4sbyxpKX19LHtrZXk6ImNyZWF0ZVJlZ2lzdHJhdGlvblN0YXR1cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBnLmRlZmF1bHQoZSx0LHIsbil9fSx7a2V5OiJkaXZpZGVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXZpZGVVUkx9fV0pLFNhbmRib3hGYWN0b3J5fSgpO3QuZGVmYXVsdD1qLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGYpLHA9cig3KSx5PXIoNDc4KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDQ4NiksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLF89cig0ODcpLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxtPWQuZ2V0TG9nZ2VyKCJTeW5jaGVyIiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFN5bmNoZXIoZSx0LHIpeygwLHUuZGVmYXVsdCkodGhpcyxTeW5jaGVyKTt2YXIgbj10aGlzO24uX293bmVyPWUsbi5fYnVzPXQsbi5fc3ViVVJMPXIucnVudGltZVVSTCsiL3NtIixuLl9ydW50aW1lVXJsPXIucnVudGltZVVSTCxuLl9wMnBIYW5kbGVyPXIucDJwSGFuZGxlcixuLl9wMnBSZXF1ZXN0ZXI9ci5wMnBSZXF1ZXN0ZXIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sdC5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKHQpe2lmKHQuZnJvbSE9PWUpc3dpdGNoKG0uaW5mbygiW1N5bmNoZXJdIFN5bmNoZXItUkNWOiAiLHQsbiksdC50eXBlKXtjYXNlImZvcndhcmQiOm4uX29uRm9yd2FyZCh0KTticmVhaztjYXNlImNyZWF0ZSI6bi5fb25SZW1vdGVDcmVhdGUodCk7YnJlYWs7Y2FzZSJkZWxldGUiOm4uX29uUmVtb3RlRGVsZXRlKHQpO2JyZWFrO2Nhc2UiZXhlY3V0ZSI6bi5fb25FeGVjdXRlKHQpfX0pfXJldHVybigwLGwuZGVmYXVsdCkoU3luY2hlcixbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0saT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06Im5vIG5hbWUiLHM9YXJndW1lbnRzWzZdLHU9YXJndW1lbnRzWzddO2lmKCFlKXRocm93IEVycm9yKCJbU3luY2hlciAtIENyZWF0ZV0gLSBZb3UgbmVlZCBzcGVjaWZ5IHRoZSBkYXRhIG9iamVjdCBzY2hlbWEiKTtpZighdCl0aHJvdyBFcnJvcigiW1N5bmNoZXIgLSBDcmVhdGVdIC1UaGUgb2JzZXJ2ZXJzIHNob3VsZCBiZSBkZWZpbmVkIik7dmFyIGM9dGhpczt1PXV8fHt9O3ZhciBsPSgwLGEuZGVmYXVsdCkoe30sdSk7cmV0dXJuIGwucDJwPW8sbC5zdG9yZT1uLGwuc2NoZW1hPWUsbC5hdXRob3Jpc2U9dCxsLnAycEhhbmRsZXI9Yy5fcDJwSGFuZGxlcixsLnAycFJlcXVlc3Rlcj1jLl9wMnBSZXF1ZXN0ZXIsbC5kYXRhPXI/KDAscC5kZWVwQ2xvbmUpKHIpOnt9LGwubmFtZT0wPT09aS5sZW5ndGg/Im5vIG5hbWUiOmksbC5yZXBvcnRlcj11Lmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpJiYiYm9vbGVhbiIhPXR5cGVvZiB1LnJlcG9ydGVyP3UucmVwb3J0ZXI6Yy5fb3duZXIsbC5yZXN1bWU9ITEsdT8obC5tdXR1YWw9IXUuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpfHx1Lm11dHVhbCxsLm5hbWU9dS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpP3UubmFtZTpsLm5hbWUpOmwubXV0dWFsPSEwLHUuaGFzT3duUHJvcGVydHkoInJldXNlVVJMIikmJihsLnJlc291cmNlPXUucmV1c2VVUkwpLHMmJihsLmlkZW50aXR5PXMpLG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUgUmVwb3J0ZXIgLSBjcmVhdGVJbnB1dDogIixsKSxjLl9jcmVhdGUobCl9fSx7a2V5OiJyZXN1bWVSZXBvcnRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSByZXN1bWUgUmVwb3J0ZXIgLSBjcml0ZXJpYTogIixlKSwoMCxhLmRlZmF1bHQpKGUse3Jlc3VtZTohMH0pLHQuX3Jlc3VtZUNyZWF0ZShlKX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxvPSEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0saT0hKGFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdKXx8YXJndW1lbnRzWzVdLHM9YXJndW1lbnRzWzZdLHU9dGhpcyxjPXt9O3JldHVybiBjLnAycD1uLGMuc3RvcmU9cixjLnNjaGVtYT1lLGMuZG9tYWluX3N1YnNjcmlwdGlvbj1pLGMucmVzb3VyY2U9dCxzJiYoYy5pZGVudGl0eT1zKSxjLm11dHVhbD1vLG0ubG9nKCJbc3luY2hlciAtIHN1YnNjcmliZV0gLSBzdWJzY3JpYmUgY3JpdGVyaWE6ICIsYyksKDAsYS5kZWZhdWx0KShjLHtyZXN1bWU6ITF9KSx1Ll9zdWJzY3JpYmUoYyl9fSx7a2V5OiJyZXN1bWVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lfHx7fTtyZXR1cm4oMCxhLmRlZmF1bHQpKHIse3Jlc3VtZTohMH0pLHQuX3Jlc3VtZVN1YnNjcmliZShyKX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVhZCIsZnJvbTp0Ll9vd25lcix0bzplfTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLG4pe3ZhciBvPWZ1bmN0aW9uKG8pe20ubG9nKCJbU3luY2hlci5yZWFkXSByZXBseTogIixvKTt2YXIgaT17fSxzPXt9LHU9MDtpZihvLmJvZHkuY29kZTwzMDApaWYoby5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXNwb25zZXMiKSlpZigwPT09dSlzPW8uYm9keS52YWx1ZSwrK3U7ZWxzZXtkZWxldGUgby5ib2R5LnZhbHVlLnJlc3BvbnNlczt2YXIgYz12b2lkIDA7Zm9yKGMgaW4gby5ib2R5LnZhbHVlKWkuaGFzT3duUHJvcGVydHkoYyl8fChpW2NdPXt9KSwoMCxhLmRlZmF1bHQpKGlbY10sby5ib2R5LnZhbHVlW2NdKTsrK3UsdT09PXMucmVzcG9uc2VzJiYocy5jaGlsZHJlbk9iamVjdHM9aSxkZWxldGUgcy5yZXNwb25zZXMsdC5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5mcm9tLG8uaWQpLGUocykpfWVsc2UgdC5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5mcm9tLG8uaWQpLGUoby5ib2R5LnZhbHVlKTtlbHNlIG4oby5ib2R5LmRlc2MpfTt0Ll9idXMucG9zdE1lc3NhZ2UocixvLCExKX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToib25DbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25DbG9zZT1lfX0se2tleToiX2NyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLGEuZGVmYXVsdCkoe30sZSksaT1lLnJlc3VtZTtvLmNyZWF0ZWQ9KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLG8ucnVudGltZT10Ll9ydW50aW1lVXJsO3ZhciBzPSgwLHAuZGVlcENsb25lKShvKTtkZWxldGUgcy5wMnAsZGVsZXRlIHMuc3RvcmUsZGVsZXRlIHMub2JzZXJ2ZXJzLGRlbGV0ZSBzLmlkZW50aXR5O3ZhciB1PXt0eXBlOiJjcmVhdGUiLGZyb206dC5fb3duZXIsdG86dC5fc3ViVVJMLGJvZHk6e3Jlc3VtZTppLHZhbHVlOnN9fTt1LmJvZHkuc2NoZW1hPW8uc2NoZW1hLG8ucDJwJiYodS5ib2R5LnAycD1vLnAycCksby5zdG9yZSYmKHUuYm9keS5zdG9yZT1vLnN0b3JlKSxvLmlkZW50aXR5JiYodS5ib2R5LmlkZW50aXR5PW8uaWRlbnRpdHkpLG0ubG9nKCJbc3luY2hlci5fY3JlYXRlXTogIixvLHUpLHQuX2J1cy5wb3N0TWVzc2FnZSh1LGZ1bmN0aW9uKGkpe2lmKG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUtcmVzcG9uc2U6ICIsaSksMjAwPT09aS5ib2R5LmNvZGUpe28udXJsPWkuYm9keS5yZXNvdXJjZSxvLnN0YXR1cz0ibGl2ZSIsby5zeW5jaGVyPXQsby5jaGlsZHJlbnM9aS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzO3ZhciBhPXQuX3JlcG9ydGVyc1tvLnVybF07YXx8KGE9bmV3IGguZGVmYXVsdChvKSx0Ll9yZXBvcnRlcnNbby51cmxdPWEpLGEuaW52aXRlT2JzZXJ2ZXJzKGUuYXV0aG9yaXNlLGUucDJwKSxyKGEpfWVsc2UgbihpLmJvZHkuZGVzYyl9KX0pfX0se2tleToiX3Jlc3VtZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1lLnJlc3VtZSxhPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3Jlc3VtZTppfX07bS5sb2coIltzeW5jaGVyIC0gY3JlYXRlXTogIixlLGEpLGUmJihhLmJvZHkudmFsdWU9ZSxlLmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpP2EuYm9keS52YWx1ZS5yZXBvcnRlcj1lLnJlcG9ydGVyOmEuYm9keS52YWx1ZS5yZXBvcnRlcj1yLl9vd25lciksZS5wMnAmJihhLmJvZHkucDJwPWUucDJwKSxlLnN0b3JlJiYoYS5ib2R5LnN0b3JlPWUuc3RvcmUpLGUub2JzZXJ2ZXJzJiYoYS5ib2R5LmF1dGhvcmlzZT1lLm9ic2VydmVycyksZS5pZGVudGl0eSYmKGEuYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSByZXN1bWUgbWVzc2FnZTogIixhKSxyLl9idXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXtpZihtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSBjcmVhdGUtcmVzdW1lZC1yZXNwb25zZTogIixlKSwyMDA9PT1lLmJvZHkuY29kZSl7dmFyIGk9ZS5ib2R5LnZhbHVlO2Zvcih2YXIgYSBpbiBpKXt2YXIgcz1pW2FdO3MuZGF0YT0oMCxwLmRlZXBDbG9uZSkocy5kYXRhKXx8e30scy5jaGlsZHJlbk9iamVjdHMmJihzLmNoaWxkcmVuT2JqZWN0cz0oMCxwLmRlZXBDbG9uZSkocy5jaGlsZHJlbk9iamVjdHMpKSxzLm11dHVhbD0hMSxzLnJlc3VtZT0hMCxzLnN0YXR1cz0ibGl2ZSIscy5zeW5jaGVyPXIsbS5sb2coIltzeW5jaGVyLl9yZXN1bWVDcmVhdGVdIC0gY3JlYXRlLXJlc3VtZWQtZGF0YU9iamVjdFJlcG9ydGVyIixzKTt2YXIgdT1uZXcgaC5kZWZhdWx0KHMpO3MuY2hpbGRyZW5PYmplY3RzJiZ1LnJlc3VtZUNoaWxkcmVucyhzLmNoaWxkcmVuT2JqZWN0cyksci5fcmVwb3J0ZXJzW3MudXJsXT11fW4oci5fcmVwb3J0ZXJzKSx0Ll9vblJlcG9ydGVyc1Jlc3VtZSYmdC5fb25SZXBvcnRlcnNSZXN1bWUodC5fcmVwb3J0ZXJzKX1lbHNlIDQwND09PWUuYm9keS5jb2RlP24oe30pOm8oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Il9zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX293bmVyLHRvOnQuX3N1YlVSTCxib2R5Ont9fTtlJiYoZS5oYXNPd25Qcm9wZXJ0eSgicDJwIikmJihvLmJvZHkucDJwPWUucDJwKSxlLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiYoby5ib2R5LnN0b3JlPWUuc3RvcmUpLGUuaGFzT3duUHJvcGVydHkoInNjaGVtYSIpJiYoby5ib2R5LnNjaGVtYT1lLnNjaGVtYSksZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmKG8uYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZSIpJiYoby5ib2R5LnJlc291cmNlPWUucmVzb3VyY2UpLGUuaGFzT3duUHJvcGVydHkoImRvbWFpbl9zdWJzY3JpcHRpb24iKSYmKG8uYm9keS5kb21haW5fc3Vic2NyaXB0aW9uPWUuZG9tYWluX3N1YnNjcmlwdGlvbikpLG8uYm9keS5yZXN1bWU9ZS5yZXN1bWUsZS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihvLmJvZHkubXV0dWFsPWUubXV0dWFsKSxtLmxvZygiW3N5bmNoZXJfc3Vic2NyaWJlXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAiLGUsbyksdC5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7bS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgaT1vLmJvZHkucmVzb3VyY2UsYT10Ll9wcm92aXNpb25hbHNbaV07aWYoZGVsZXRlIHQuX3Byb3Zpc2lvbmFsc1tpXSxhJiZhLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKW0ubG9nKCJbc3luY2hlcl0gLSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAiLG8uYm9keS5jaGlsZHJlblJlc291cmNlcyxpKSxhPW5ldyBiLmRlZmF1bHQodC5fb3duZXIsaSx0Ll9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSx0Ll9wcm92aXNpb25hbHNbaV09YTtlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXttLmxvZygiW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyOiAiLG8sdC5fcHJvdmlzaW9uYWxzKTt2YXIgcz1vLmJvZHkudmFsdWU7cy5zeW5jaGVyPXQscy5wMnA9ZS5wMnAscy5zdG9yZT1lLnN0b3JlLHMuaWRlbnRpdHk9ZS5pZGVudGl0eSxzLnJlc3VtZT0hMSxzLm11dHVhbD1lLm11dHVhbDt2YXIgdT10Ll9vYnNlcnZlcnNbaV07dT91LnN5bmMoKToodT1uZXcgZy5kZWZhdWx0KHMpLHQuX29ic2VydmVyc1tpXT11KSxtLmxvZygiW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyIGFscmVhZHkgZXhpc3Q6ICIsdSkscih1KSxhJiZhLmFwcGx5KHUpfWVsc2UgbihvLmJvZHkuZGVzYyl9KX0pfX0se2tleToiX3Jlc3VtZVN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5Ont9fTtlJiYoZS5oYXNPd25Qcm9wZXJ0eSgicDJwIikmJihpLmJvZHkucDJwPWUucDJwKSxlLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiYoaS5ib2R5LnN0b3JlPWUuc3RvcmUpLGUuaGFzT3duUHJvcGVydHkoInNjaGVtYSIpJiYoaS5ib2R5LnNjaGVtYT1lLnNjaGVtYSksZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmKGkuYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZSIpJiYoaS5ib2R5LnJlc291cmNlPWUudXJsKSksaS5ib2R5LnJlc3VtZT1lLnJlc3VtZTt2YXIgYT1lLm11dHVhbDtlLmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKGkuYm9keS5tdXR1YWw9YSksbS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAiLGUsaSksci5fYnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7bS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZS1yZXN1bWVkLXJlc3BvbnNlOiAiLGUpO3ZhciBpPWUuYm9keS5yZXNvdXJjZSxhPXIuX3Byb3Zpc2lvbmFsc1tpXTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW2ldLGEmJmEuX3JlbGVhc2VMaXN0ZW5lcnMoKSxlLmJvZHkuY29kZTwyMDApbS5sb2coIltzeW5jaGVyXSAtIHJlc3VtZSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAiLGUsaSksYT1uZXcgYi5kZWZhdWx0KHIuX293bmVyLGksci5fYnVzLGUuYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW2ldPWE7ZWxzZSBpZigyMDA9PT1lLmJvZHkuY29kZSl7dmFyIHM9ZS5ib2R5LnZhbHVlO2Zvcih2YXIgdSBpbiBzKXt2YXIgYz1zW3VdO20ubG9nKCJbc3luY2hlcl0gLSBSZXN1bWUgT2JqZWN0IE9ic2VydmVyOiAiLGUsYyxyLl9wcm92aXNpb25hbHMpLGMuY2hpbGRyZW5PYmplY3RzJiYoYy5jaGlsZHJlbk9iamVjdHM9KDAscC5kZWVwQ2xvbmUpKGMuY2hpbGRyZW5PYmplY3RzKSksYy5kYXRhPSgwLHAuZGVlcENsb25lKShjLmRhdGEpfHx7fSxjLnJlc3VtZT0hMCxjLnN5bmNoZXI9cixtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZVN1YnNjcmliZV0gLSBjcmVhdGUgbmV3IGRhdGFPYmplY3Q6ICIsYyk7dmFyIGw9bmV3IGcuZGVmYXVsdChjKTtjLmNoaWxkcmVuT2JqZWN0cyYmbC5yZXN1bWVDaGlsZHJlbnMoYy5jaGlsZHJlbk9iamVjdHMpLG0ubG9nKCJbc3luY2hlci5fcmVzdW1lU3Vic2NyaWJlXSAtIG5ldyBkYXRhT2JqZWN0IixsKSxyLl9vYnNlcnZlcnNbbC51cmxdPWwsci5fcHJvdmlzaW9uYWxzW2wudXJsXSYmci5fcHJvdmlzaW9uYWxzW2wudXJsXS5hcHBseShsKX1uKHIuX29ic2VydmVycyksdC5fb25PYnNlcnZlcnNSZXN1bWUmJnQuX29uT2JzZXJ2ZXJzUmVzdW1lKHIuX29ic2VydmVycyl9ZWxzZSA0MDQ9PT1lLmJvZHkuY29kZT9uKHt9KTpvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yZXBvcnRlcnNbZS5ib2R5LnRvXS5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPSgwLHAuZGl2aWRlVVJMKShyKSxvPW4uZG9tYWluLGk9e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixkb21haW46byxzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKG0uaW5mbygiW1N5bmNoZXJdIE5PVElGSUNBVElPTi1FVkVOVDogIixpKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIoaSkpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdLG89e2Zyb206dC5vd25lcix0bzp0Ll9zdWJVUkwsaWQ6ZS5pZCx0eXBlOiJ1bnN1YnNjcmliZSIsYm9keTp7cmVzb3VyY2U6ZS5ib2R5LnJlc291cmNlfX07aWYodC5fYnVzLnBvc3RNZXNzYWdlKG8pLGRlbGV0ZSB0Ll9vYnNlcnZlcnNbcl0sbil7dmFyIGk9e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm4uZGVsZXRlKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihtLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLGkpLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihpKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToiX29uRXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX07aWYoKGUuZnJvbT09PXQuX3J1bnRpbWVVcmwrIi9yZWdpc3RyeS8ifHxlLmZyb209PT10Ll9ydW50aW1lVXJsKyIvcmVnaXN0cnkiKSYmZS5ib2R5JiZlLmJvZHkubWV0aG9kJiYiY2xvc2UiPT09ZS5ib2R5Lm1ldGhvZCYmdC5fb25DbG9zZSl7dmFyIG49e3R5cGU6ImNsb3NlIixhY2s6ZnVuY3Rpb24oZSl7ZSYmKHIuYm9keS5jb2RlPWUpLHQuX2J1cy5wb3N0TWVzc2FnZShyKX19O20uaW5mbygiW1N5bmNoZXJdIENsb3NlLUVWRU5UOiAiLG4pLHQuX29uQ2xvc2Uobil9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJvblJlcG9ydGVyc1Jlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXBvcnRlcnNSZXN1bWU9ZX19LHtrZXk6Im9uT2JzZXJ2ZXJzUmVzdW1lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk9ic2VydmVyc1Jlc3VtZT1lfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksU3luY2hlcn0oKTt0LmRlZmF1bHQ9UixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSksbz1uLkpTT058fChuLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5zdHJpbmdpZnkuYXBwbHkobyxhcmd1bWVudHMpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzNSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNyksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cigxMDMpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChnKSxiPXIoMTgpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxSPXIoNCksTz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KFIpLHc9cigyMDYpLGs9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh3KSxTPXIoNyksUD1PLmdldExvZ2dlcigiRGF0YU9iamVjdFJlcG9ydGVyIiksRD1mdW5jdGlvbihlKXtmdW5jdGlvbiBEYXRhT2JqZWN0UmVwb3J0ZXIoZSl7KDAsZC5kZWZhdWx0KSh0aGlzLERhdGFPYmplY3RSZXBvcnRlcik7dmFyIHQ9KDAsdi5kZWZhdWx0KSh0aGlzLChEYXRhT2JqZWN0UmVwb3J0ZXIuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlcikpLmNhbGwodGhpcyxlKSkscj10O3JldHVybiByLl9zdWJzY3JpcHRpb25zPXt9LHIuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtQLmxvZygiW1N5bmNoZXIuRGF0YU9iamVjdFJlcG9ydGVyXSAiK3IudXJsKyIgcHVibGlzaCBjaGFuZ2U6ICIsZSksci5fb25DaGFuZ2UoZSl9KSxyLl9hbGxvY2F0ZUxpc3RlbmVycygpLHIuaW52aXRhdGlvbnM9W10sci5fY2hpbGRyZW5TaXplVGhyZXNob2xkPTVlNCx0fXJldHVybigwLG0uZGVmYXVsdCkoRGF0YU9iamVjdFJlcG9ydGVyLGUpLCgwLHkuZGVmYXVsdCkoRGF0YU9iamVjdFJlcG9ydGVyLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsXy5kZWZhdWx0KShEYXRhT2JqZWN0UmVwb3J0ZXIucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsbC5kZWZhdWx0KShEYXRhT2JqZWN0UmVwb3J0ZXIucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtzd2l0Y2goUC5sb2coIltTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gbGlzdGVuZXIgIitlLl91cmwrIiBSZWNlaXZlZDogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCk7YnJlYWs7Y2FzZSJleGVjdXRlIjplLl9vbkV4ZWN1dGUodCk7YnJlYWs7Y2FzZSJjcmVhdGUiOmUuX29uQ2hpbGRDcmVhdGUodCl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlci5wcm90b3R5cGUuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlci5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ZTtuLmxlbmd0aD4wJiYoUC5sb2coIltTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gSW52aXRlT2JzZXJ2ZXJzICIsbixyLl9tZXRhZGF0YSksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT17dHlwZToiY3JlYXRlIixmcm9tOnIuX3N5bmNoZXIuX293bmVyLHRvOnIuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXN1bWU6ITEscmVzb3VyY2U6ci5fdXJsLHNjaGVtYTpyLl9zY2hlbWEsdmFsdWU6ci5fbWV0YWRhdGEsYXV0aG9yaXNlOltlXX19O3QmJihpLmJvZHkucDJwPXQpLHIuZGF0YS5tdXR1YWx8fChpLmJvZHkubXV0dWFsPXIuZGF0YS5tdXR1YWwpLHIuX2J1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHQpe1AubG9nKCJbU3luY2hlci5EYXRhT2JqZWN0UmVwb3J0ZXJdIEludml0YXRpb24gcmVwbHkgIix0KTt2YXIgcj17aW52aXRlZDplLGNvZGU6dC5ib2R5JiZ0LmJvZHkuY29kZT90LmJvZHkuY29kZTo1MDAsZGVzYzp0LmJvZHkmJnQuYm9keS5kZXNjP3QuYm9keS5kZXNjOiJVbmtub3duIn07ci5jb2RlPDMwMD9uKHIpOnIuY29kZT49MzAwJiZvKHIpfSl9KTtyLmludml0YXRpb25zLnB1c2gobil9KSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9kZWxldGVDaGlsZHJlbnMoKS50aGVuKGZ1bmN0aW9uKHQpe1AubG9nKHQpO3ZhciByPXt0eXBlOiJkZWxldGUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHQpe1AubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItREVMRVRFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9yZXBvcnRlcnNbZS5fdXJsXSxlLl9zeW5jT2JqPXt9KX0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToib25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlYWRIYW5kbGVyPWV9fSx7a2V5OiJvbkV4ZWN1dGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uRXhlY3V0ZUhhbmRsZXI9ZX19LHtrZXk6Il9vbkZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7c3dpdGNoKFAubG9nKCJEYXRhT2JqZWN0UmVwb3J0ZXItUkNWOiAiLGUpLGUuYm9keS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25VblN1YnNjcmliZShlKX19fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuZnJvbSxuPSgwLFMuZGl2aWRlVVJMKShyKSxvPW4uZG9tYWluLGk9ITA7ZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmIWUuYm9keS5tdXR1YWwmJihpPSExKSxQLmxvZygiW0RhdGFPYmplY3RSZXBvcnRlci5fb25TdWJzY3JpYmVdIixlLG8sbik7dmFyIGE9e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsZG9tYWluOm8saWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LG51dHVhbDppLGFjY2VwdDpmdW5jdGlvbigpe3ZhciBuPXt1cmw6cixzdGF0dXM6ImxpdmUifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW4sdC5tZXRhZGF0YS5zdWJzY3JpcHRpb25zJiZ0Lm1ldGFkYXRhLnN1YnNjcmlwdGlvbnMucHVzaChuLnVybCk7dmFyIG89KDAsUy5kZWVwQ2xvbmUpKHQuX21ldGFkYXRhKTtvLmRhdGE9KDAsUy5kZWVwQ2xvbmUpKHQuZGF0YSksby52ZXJzaW9uPXQuX3ZlcnNpb247dmFyIGk9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsc2NoZW1hOnQuX3NjaGVtYSx2YWx1ZTpvfX07cmV0dXJuIGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJiFlLmJvZHkubXV0dWFsJiYoaS5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsLHQuZGF0YS5tdXR1YWw9ITEpLHQuX2J1cy5wb3N0TWVzc2FnZShpKSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKFAubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsYSksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGEpKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj0oMCxTLmRpdmlkZVVSTCkociksbz1uLmRvbWFpbjtQLmxvZygiW0RhdGFPYmplY3RSZXBvcnRlci5fb25VblN1YnNjcmliZV0iLGUsbyxuKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXSxkZWxldGUgdC5pbnZpdGF0aW9uc1tyXTt2YXIgaT17dHlwZTplLmJvZHkudHlwZSx1cmw6cixkb21haW46byxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKFAubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsaSksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGkpKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihQLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLGEuZGVmYXVsdCkodC5jaGlsZHJlbnNKU09OKS5sZW5ndGgsbj1yPnQuX2NoaWxkcmVuU2l6ZVRocmVzaG9sZCxpPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe24/dC5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKGUpOnQuX3N5bmNSZXBseShlKX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fSxzPVtdO3QubWV0YWRhdGEuc3Vic2NyaXB0aW9ucz9zPXQubWV0YWRhdGEuc3Vic2NyaXB0aW9uczp0Ll9zdWJzY3JpcHRpb25zJiYocz0oMCxvLmRlZmF1bHQpKHQuX3N1YnNjcmlwdGlvbnMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc3Vic2NyaXB0aW9uc1tlXS51cmx9KSksLTEhPXMuaW5kZXhPZihlLmZyb20pP24/dC5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKGUpOnQuX3N5bmNSZXBseShlKTp0Ll9vblJlYWRIYW5kbGVyJiYoUC5sb2coIlJFQUQtRVZFTlQ6ICIsaSksdC5fb25SZWFkSGFuZGxlcihpKSl9fSx7a2V5OiJfc3luY1JlcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsUy5kZWVwQ2xvbmUpKHQubWV0YWRhdGEpO3IuZGF0YT0oMCxTLmRlZXBDbG9uZSkodC5kYXRhKSxyLmNoaWxkcmVuT2JqZWN0cz0oMCxTLmRlZXBDbG9uZSkodC5jaGlsZHJlbnNKU09OKSxyLnZlcnNpb249dC5fdmVyc2lvbjt2YXIgbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTpyfX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfX0se2tleToiX3N5bmNSZXBseUZvckxhcmdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLFMuZGVlcENsb25lKSh0Lm1ldGFkYXRhKTtyLmRhdGE9KDAsUy5kZWVwQ2xvbmUpKHQuZGF0YSksci52ZXJzaW9uPXQuX3ZlcnNpb24sZGVsZXRlIHIuY2hpbGRyZW5PYmplY3RzO3ZhciBuPXZvaWQgMCxvPVtdLGk9e307Zm9yKG4gaW4gdC5fY2hpbGRyZW5PYmplY3RzKXt2YXIgcz12b2lkIDA7aVtuXT17fTtmb3IocyBpbiB0Ll9jaGlsZHJlbk9iamVjdHNbbl0pKDAsYS5kZWZhdWx0KShpKS5sZW5ndGg+dC5fY2hpbGRyZW5TaXplVGhyZXNob2xkJiYoby5wdXNoKGkpLGk9e30saVtuXT17fSksaVtuXVtzXT17fSxpW25dW3NdLnZhbHVlPXQuX2NoaWxkcmVuT2JqZWN0c1tuXVtzXS5tZXRhZGF0YSxpW25dW3NdLmlkZW50aXR5PXQuX2NoaWxkcmVuT2JqZWN0c1tuXVtzXS5pZGVudGl0eX1vLnB1c2goaSksci5yZXNwb25zZXM9by5sZW5ndGgrMTt2YXIgdT17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjEwMCx2YWx1ZTpyfX07dC5fYnVzLnBvc3RNZXNzYWdlKHUpLG8uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj0oMCxTLmRlZXBDbG9uZSkodSk7bi5ib2R5LnZhbHVlPWUsbi5ib2R5LnZhbHVlLnJlc3BvbnNlcz1yLnJlc3BvbnNlcyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSw1MCl9KX19LHtrZXk6Il9vbkV4ZWN1dGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keS5tZXRob2QpdGhyb3cgZTt2YXIgcj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19LG49e3R5cGU6ZS50eXBlLHVybDplLmZyb20sbWV0aG9kOmUuYm9keS5tZXRob2QscGFyYW1zOmUuYm9keS5wYXJhbXMsYWNjZXB0OmZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHIpfSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAxLGRlc2M6cn19KX19O3QuX29uRXhlY3V0ZUhhbmRsZXImJihQLmxvZygiW0RhdGFPYmplY3RSZXBvcnRlcl0gRVhFQ1VURS1FVkVOVDogIixuKSx0Ll9vbkV4ZWN1dGVIYW5kbGVyKG4pKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX0se2tleToiY2hpbGRyZW5zSlNPTiIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9LHI9dm9pZCAwO2ZvcihyIGluIGUuX2NoaWxkcmVuT2JqZWN0cyl7dmFyIG49dm9pZCAwO3Rbcl09e307Zm9yKG4gaW4gZS5fY2hpbGRyZW5PYmplY3RzW3JdKXRbcl1bbl09e30sdFtyXVtuXS52YWx1ZT1lLl9jaGlsZHJlbk9iamVjdHNbcl1bbl0ubWV0YWRhdGEsdFtyXVtuXS5pZGVudGl0eT1lLl9jaGlsZHJlbk9iamVjdHNbcl1bbl0uaWRlbnRpdHl9cmV0dXJuIHR9fV0pLERhdGFPYmplY3RSZXBvcnRlcn0oay5kZWZhdWx0KTt0LmRlZmF1bHQ9RCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDgwKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDgxKTt2YXIgbj1yKDExKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MCksbz1yKDE0OCkuZjtyKDEzOCkoImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhuKGUpLHQpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQ4MyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIeXBlcnR5UmVzb3VyY2VGYWN0b3J5KCl7KDAsYS5kZWZhdWx0KSh0aGlzLEh5cGVydHlSZXNvdXJjZUZhY3RvcnkpfXJldHVybigwLHUuZGVmYXVsdCkoSHlwZXJ0eVJlc291cmNlRmFjdG9yeSxbe2tleToiY3JlYXRlSHlwZXJ0eVJlc291cmNlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwO3N3aXRjaCh0KXtjYXNlImZpbGUiOm49bmV3IGwuZGVmYXVsdChlLHIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2VdIG5vdCBzdXBwb3J0ZWQgdHlwZTogIix0KX1yZXR1cm4gbn19LHtrZXk6ImNyZWF0ZUh5cGVydHlSZXNvdXJjZVdpdGhDb250ZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT12b2lkIDA7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyl7c3dpdGNoKHQpe2Nhc2UiZmlsZSI6aT1uZXcgbC5kZWZhdWx0KGUsbik7YnJlYWs7ZGVmYXVsdDpyZWplY3QoKX1pLmluaXQocikudGhlbihmdW5jdGlvbigpe3JldHVybiBpLnNhdmUoKX0pLnRoZW4oZnVuY3Rpb24oKXtvKGkpfSl9KX19XSksSHlwZXJ0eVJlc291cmNlRmFjdG9yeX0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoNDg0KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksYj0ocig3KSxyKDQ4NSkpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxSPXYuZ2V0TG9nZ2VyKCJGaWxlSHlwZXJ0eVJlc291cmNlIiksTz1mdW5jdGlvbihlKXtmdW5jdGlvbiBGaWxlSHlwZXJ0eVJlc291cmNlKGUsdCl7KDAsdS5kZWZhdWx0KSh0aGlzLEZpbGVIeXBlcnR5UmVzb3VyY2UpO3ZhciByPSgwLGQuZGVmYXVsdCkodGhpcywoRmlsZUh5cGVydHlSZXNvdXJjZS5fX3Byb3RvX198fCgwLGEuZGVmYXVsdCkoRmlsZUh5cGVydHlSZXNvdXJjZSkpLmNhbGwodGhpcyxlLHQpKTtyZXR1cm4gci5tZXRhZGF0YS5yZXNvdXJjZVR5cGU9ImZpbGUiLHJ9cmV0dXJuKDAseS5kZWZhdWx0KShGaWxlSHlwZXJ0eVJlc291cmNlLGUpLCgwLGwuZGVmYXVsdCkoRmlsZUh5cGVydHlSZXNvdXJjZSxbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoIltGaWxlSHlwZXJ0eVJlc291cmNlLmNvbnN0cnVjdG9yXSBtaXNzaW5nIG1hbmRhdG9yeSAqZmlsZSogaW5wdXQgIik7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZih0Ll9tZXRhZGF0YS5uYW1lPWUubmFtZSx0Ll9tZXRhZGF0YS5sYXN0TW9kaWZpZWQ9ZS5sYXN0TW9kaWZpZWQsdC5fbWV0YWRhdGEuc2l6ZT1lLnNpemUsdC5fbWV0YWRhdGEubWltZXR5cGU9ZS50eXBlLFIubG9nKCJbRmlsZUh5cGVydHlSZXNvdXJjZS5pbml0XSBmaWxlOiAiLGUpLHQuX2lzU2VuZGVyKXtzd2l0Y2goZS50eXBlLnNwbGl0KCIvIilbMF0pe2Nhc2UiaW1hZ2UiOnQuX2dldEltYWdlUHJldmlldyhlKS50aGVuKGZ1bmN0aW9uKG4pe3QuX21ldGFkYXRhLnByZXZpZXc9bix0Ll9jb250ZW50PWUscigpfSk7YnJlYWs7ZGVmYXVsdDp0Ll9jb250ZW50PWUscigpfX1lbHNlIHQuX2NvbnRlbnQ9ZS5jb250ZW50LGUucHJldmlldyYmKHQuX21ldGFkYXRhLnByZXZpZXc9ZS5wcmV2aWV3KSxyKCl9KX19LHtrZXk6Il9nZXRJbWFnZVByZXZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBGaWxlUmVhZGVyO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7bS5kZWZhdWx0LnJlc2l6ZShlLHt3aWR0aDoxMDAsaGVpZ2h0OjEwMH0sZnVuY3Rpb24oZSxuKXtuPyh0LnJlYWRBc0RhdGFVUkwoZSksdC5vbmxvYWQ9ZnVuY3Rpb24oZSl7cihlLnRhcmdldC5yZXN1bHQpfSk6KFIud2FybigiW0ZpbGVIeXBlcnR5UmVzb3VyY2UuX2dldEltYWdlUHJldmlld10gdW5hYmxlIHRvIGNyZWF0ZSBpbWFnZSBwcmV2aWV3IGZyb20gb3JpZ2luYWwgaW1hZ2UgIikscih2b2lkIDApKX0pfSl9fSx7a2V5OiJ0b01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToibmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhLm5hbWV9fSx7a2V5OiJwcmV2aWV3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGEucHJldmlld319XSksRmlsZUh5cGVydHlSZXNvdXJjZX0oXy5kZWZhdWx0KTt0LmRlZmF1bHQ9TyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDEwMykseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxOCksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cig0KSxfPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksYj1yKDcpLG09cigyMDgpLFI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxPPV8uZ2V0TG9nZ2VyKCJIeXBlcnR5UmVzb3VyY2UiKSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIEh5cGVydHlSZXNvdXJjZShlLHQpeygwLHUuZGVmYXVsdCkodGhpcyxIeXBlcnR5UmVzb3VyY2UpO3ZhciByPSgwLGQuZGVmYXVsdCkodGhpcywoSHlwZXJ0eVJlc291cmNlLl9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KShIeXBlcnR5UmVzb3VyY2UpKS5jYWxsKHRoaXMsdCkpLG49cjtyZXR1cm4gbi5hcnJheWJ1ZmZlclNpemVMaW1pdD01MjQyODgwLG4uX2lzU2VuZGVyPWUsbi5fbG9jYWxTdG9yYWdlVVJMPW4uX3BhcmVudE9iamVjdC5fc3luY2hlci5fcnVudGltZVVybCsiL3N0b3JhZ2UiLHJ9cmV0dXJuKDAsdi5kZWZhdWx0KShIeXBlcnR5UmVzb3VyY2UsZSksKDAsbC5kZWZhdWx0KShIeXBlcnR5UmVzb3VyY2UsW3trZXk6InNhdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPXtmcm9tOmUuX293bmVyLHRvOmUuX2xvY2FsU3RvcmFnZVVSTCx0eXBlOiJjcmVhdGUiLGJvZHk6e3ZhbHVlOigwLGIuZGVlcENsb25lKShlLl9tZXRhZGF0YSl9fSxvPWZ1bmN0aW9uKG4pe08uaW5mbygiW0h5cGVydHlSZXNvdXJjZS5zYXZlXSByZXBseTogIixuKSxlLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihlLl9vd25lcixuLmlkKSwyMDA9PT1uLmJvZHkuY29kZT8obi5ib2R5LnZhbHVlJiYoZS5fbWV0YWRhdGEuY29udGVudFVSTHx8KGUuX21ldGFkYXRhLmNvbnRlbnRVUkw9W10pLGUuX21ldGFkYXRhLmNvbnRlbnRVUkwucHVzaChuLmJvZHkudmFsdWUpKSx0KCkpOnIobi5ib2R5LmNvZGUrIiAiK24uYm9keS5kZXNjKX07bi5ib2R5LnZhbHVlLmNvbnRlbnQ9ZS5fY29udGVudCxlLl9idXMucG9zdE1lc3NhZ2UobixvLCExKX0pfX0se2tleToicmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gTy5pbmZvKCJbSHlwZXJ0eVJlc291cmNlLnJlYWRdICIsdGhpcyksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKHQuY29udGVudClyKHQpO2Vsc2V7dmFyIG89dC5fZ2V0QmVzdENvbnRlbnRVUkwodC5fbWV0YWRhdGEuY29udGVudFVSTCk7Ty5sb2coIlN0b3JhZ2U6IixvKTt2YXIgaT17ZnJvbTp0Ll9vd25lcix0bzpvLnVybCx0eXBlOiJyZWFkIixib2R5OntyZXNvdXJjZTpvLnVybCsiLyIrby5yZXNvdXJjZSxwMnA6ITB9fTt0Lm1ldGFkYXRhLnAycFJlcXVlc3RlciYmdC5tZXRhZGF0YS5wMnBIYW5kbGVyJiYoaS5ib2R5LnAycFJlcXVlc3Rlcj10Lm1ldGFkYXRhLnAycFJlcXVlc3RlcixpLmJvZHkucDJwSGFuZGxlcj10Lm1ldGFkYXRhLnAycEhhbmRsZXIpLHQuX2dldEJlc3RSZXNvdXJjZShpLGUpLnRoZW4oZnVuY3Rpb24oZSl7Ty5pbmZvKCJbSHlwZXJ0eVJlc291cmNlXSAtIGdldCBsb2NhbGx5IHRoZSByZXNvdXJjZToiLGUpLHIodCl9KS5jYXRjaChmdW5jdGlvbihpKXtPLndhcm4oIltIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IGxvY2FsbHkgdGhlIHJlc291cmNlIGZhaWwiLGkpO3ZhciBhPXtmcm9tOnQuX293bmVyLHRvOm8ucmVtb3RlVVJMLHR5cGU6InJlYWQiLGJvZHk6e3Jlc291cmNlOm8ucmVtb3RlVVJMKyIvIitvLnJlc291cmNlLHAycDohMH19O3QubWV0YWRhdGEucDJwUmVxdWVzdGVyJiZ0Lm1ldGFkYXRhLnAycEhhbmRsZXImJihhLmJvZHkucDJwUmVxdWVzdGVyPXQubWV0YWRhdGEucDJwUmVxdWVzdGVyLGEuYm9keS5wMnBIYW5kbGVyPXQubWV0YWRhdGEucDJwSGFuZGxlciksdC5fZ2V0QmVzdFJlc291cmNlKGEsZSkudGhlbihmdW5jdGlvbihlKXtPLndhcm4oIltIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IHJlbW90ZWx5IHRoZSByZXNvdXJjZSIsZSkscih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08ud2FybigiW0h5cGVydHlSZXNvdXJjZV0gLSBnZXQgcmVtb3RlbHkgdGhlIHJlc291cmNlIGZhaWwiLGUpLG4oZS5ib2R5LmNvZGUrIiAiK2UuYm9keS5kZXNjKX0pfSl9fSl9fSx7a2V5OiJfZ2V0QmVzdFJlc291cmNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHIuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX293bmVyLHMpLGUuYm9keS5jb2RlPTQwOCxlLmJvZHkuZGVzYz0iUmVzcG9uc2UgdGltZW91dCIsbyhlKX0sM2UzKSxhPWZ1bmN0aW9uKGUpe08ubG9nKCJbSHlwZXJ0eVJlc291cmNlLnJlYWRdIHJlcGx5OiAiLGUpO3ZhciBhPWUuaWQ7c3dpdGNoKGNsZWFyVGltZW91dChpKSxlLmJvZHkuY29kZSl7Y2FzZSAyMDA6ci5fY29udGVudD1lLmJvZHkudmFsdWUuY29udGVudCxlLmJvZHkudmFsdWUuc2l6ZTxyLmFycmF5YnVmZmVyU2l6ZUxpbWl0JiZyLnNhdmUoKSxyLl9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyLl9vd25lcixhKSxuKGUpO2JyZWFrO2Nhc2UgMTgzOnQoZS5ib2R5LnZhbHVlKTticmVhaztkZWZhdWx0OnIuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX293bmVyLGEpLG8oZSl9fSxzPXIuX2J1cy5wb3N0TWVzc2FnZShlLGEsITEpfSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztPLmluZm8oIltIeXBlcnR5UmVzb3VyY2UuZGVsZXRlXSIsZS5tZXRhZGF0YSk7dmFyIHQ9e2Zyb206ZS5fb3duZXIsdG86ZS5fbG9jYWxTdG9yYWdlVVJMLHR5cGU6ImRlbGV0ZSIsYm9keTp7cmVzb3VyY2VzOmUubWV0YWRhdGEuY29udGVudFVSTH19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIpe2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKGUpe3IoZS5ib2R5LmNvZGU8MzAwPyEwOiExKX0pfSl9fSx7a2V5OiJfZ2V0QmVzdENvbnRlbnRVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lWzBdLG49ci5zdWJzdHIoci5sYXN0SW5kZXhPZigiLyIpKzEpO3JldHVybnt1cmw6dC5fbG9jYWxTdG9yYWdlVVJMLHJlc291cmNlOm4scmVtb3RlVVJMOnIuc3Vic3RyKDAsci5sYXN0SW5kZXhPZigiLyIpKX19fSx7a2V5OiJyZXNvdXJjZVR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1ldGFkYXRhLnJlc291cmNlVHlwZX19LHtrZXk6Im1pbWV0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGEudHlwZX19LHtrZXk6ImNvbnRlbnQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50fX0se2tleToiY29udGVudFVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGFkYXRhLmNvbnRlbnRVUkx9fSx7a2V5OiJzaGFyZWFibGUiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0oMCx5LmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZS5wcm90b3R5cGUuX19wcm90b19ffHwoMCxhLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZS5wcm90b3R5cGUpLCJtZXRhZGF0YSIsdGhpcyk7cmV0dXJuIHQucmVzb3VyY2VUeXBlPWUucmVzb3VyY2VUeXBlLHR9fV0pLEh5cGVydHlSZXNvdXJjZX0oUi5kZWZhdWx0KTt0LmRlZmF1bHQ9dyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9InVuZGVmaW5lZCIhPXR5cGVvZiBCbG9iJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gQm9vbGVhbihuZXcgQmxvYil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHU9cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5JiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gMTAwPT09bmV3IEJsb2IoW25ldyBVaW50OEFycmF5KDEwMCldKS5zaXplfWNhdGNoKGUpe3JldHVybiExfX0oKSxjPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQmJkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS50b0Jsb2IsbD1jfHwidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJiJ1bmRlZmluZWQiIT10eXBlb2YgYXRvYixmPSJ1bmRlZmluZWQiIT10eXBlb2YgRmlsZVJlYWRlcnx8InVuZGVmaW5lZCIhPXR5cGVvZiBVUkwsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIEltYWdlVG9vbHMoKXsoMCxvLmRlZmF1bHQpKHRoaXMsSW1hZ2VUb29scyl9cmV0dXJuKDAsYS5kZWZhdWx0KShJbWFnZVRvb2xzLG51bGwsW3trZXk6InJlc2l6ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10LHQ9e3dpZHRoOjY0MCxoZWlnaHQ6NDgwfSk7dC53aWR0aCx0LmhlaWdodDtpZighSW1hZ2VUb29scy5pc1N1cHBvcnRlZCgpfHwhZS50eXBlLm1hdGNoKC9pbWFnZS4qLykpcmV0dXJuIHIoZSwhMSksITE7aWYoZS50eXBlLm1hdGNoKC9pbWFnZVwvZ2lmLykpcmV0dXJuIHIoZSwhMSksITE7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7cmV0dXJuIG4ub25sb2FkPWZ1bmN0aW9uKG8pe3ZhciBpPW4ud2lkdGgsYT1uLmhlaWdodCxzPSExO2lmKGk+PWEmJmk+dC53aWR0aD8oYSo9dC53aWR0aC9pLGk9dC53aWR0aCxzPSEwKTphPnQuaGVpZ2h0JiYoaSo9dC5oZWlnaHQvYSxhPXQuaGVpZ2h0LHM9ITApLCFzKXJldHVybiB2b2lkIHIoZSwhMSk7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aWYodS53aWR0aD1pLHUuaGVpZ2h0PWEsdS5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZShuLDAsMCxpLGEpLGMpdS50b0Jsb2IoZnVuY3Rpb24oZSl7cihlLCEwKX0sZS50eXBlKTtlbHNle3ZhciBsPUltYWdlVG9vbHMuX3RvQmxvYih1LGUudHlwZSk7cihsLCEwKX19LEltYWdlVG9vbHMuX2xvYWRJbWFnZShuLGUpLCEwfX0se2tleToiX3RvQmxvYiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnRvRGF0YVVSTCh0KSxuPXIuc3BsaXQoIiwiKSxvPXZvaWQgMDtvPW5bMF0uaW5kZXhPZigiYmFzZTY0Iik+PTA/YXRvYihuWzFdKTpkZWNvZGVVUklDb21wb25lbnQoblsxXSk7Zm9yKHZhciBpPW5ldyBBcnJheUJ1ZmZlcihvLmxlbmd0aCksYT1uZXcgVWludDhBcnJheShpKSxjPTA7YzxvLmxlbmd0aDtjKz0xKWFbY109by5jaGFyQ29kZUF0KGMpO3ZhciBsPW5bMF0uc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpWzBdLGY9bnVsbDtpZihzKWY9bmV3IEJsb2IoW3U/YTppXSx7dHlwZTpsfSk7ZWxzZXt2YXIgZD1uZXcgQmxvYkJ1aWxkZXI7ZC5hcHBlbmQoaSksZj1kLmdldEJsb2IobCl9cmV0dXJuIGZ9fSx7a2V5OiJfbG9hZEltYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBVUkwpe3ZhciBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkPWZ1bmN0aW9uKHQpe2Uuc3JjPXQudGFyZ2V0LnJlc3VsdCxyJiZyKCl9LG4ucmVhZEFzRGF0YVVSTCh0KX1lbHNlIGUuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwodCksciYmcigpfX0se2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmbCYmZn19XSksSW1hZ2VUb29sc30oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDQ2KSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDMpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTUpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigyKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE3KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDEwMyksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLGI9cigxOCksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLFI9cig0KSxPPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oUiksdz1yKDcpLGs9cigyMDYpLFM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChrKSxQPU8uZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0T2JzZXJ2ZXIiKSxEPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxNPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIERhdGFPYmplY3RPYnNlcnZlcihlKXsoMCxkLmRlZmF1bHQpKHRoaXMsRGF0YU9iamVjdE9ic2VydmVyKTt2YXIgdD0oMCx2LmRlZmF1bHQpKHRoaXMsKERhdGFPYmplY3RPYnNlcnZlci5fX3Byb3RvX198fCgwLGwuZGVmYXVsdCkoRGF0YU9iamVjdE9ic2VydmVyKSkuY2FsbCh0aGlzLGUpKSxyPXQ7cmV0dXJuIHIuX3ZlcnNpb249ZS52ZXJzaW9uLHIuX2ZpbHRlcnM9e30sci5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKGUpe3IuX29uRmlsdGVyKGUpfSksci5fYWxsb2NhdGVMaXN0ZW5lcnMoKSx0fXJldHVybigwLG0uZGVmYXVsdCkoRGF0YU9iamVjdE9ic2VydmVyLGUpLCgwLHkuZGVmYXVsdCkoRGF0YU9iamVjdE9ic2VydmVyLFt7a2V5OiJzeW5jIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFAuaW5mbygiW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSBzeW5jaHJvbmlzaW5nICIpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCxyKXtlLl9zeW5jaGVyLnJlYWQoZS5fbWV0YWRhdGEudXJsKS50aGVuKGZ1bmN0aW9uKHIpe1AuaW5mbygiW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSB2YWx1ZSB0byBzeW5jOiAiLHIpLCgwLGEuZGVmYXVsdCkoZS5kYXRhLCgwLHcuZGVlcENsb25lKShyLmRhdGEpKSxlLl92ZXJzaW9uPXIudmVyc2lvbixlLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWQ9ci5sYXN0TW9kaWZpZWQsci5jaGlsZHJlbk9iamVjdHM/KGUucmVzdW1lQ2hpbGRyZW5zKHIuY2hpbGRyZW5PYmplY3RzKSxlLl9zdG9yZUNoaWxkcmVucygpLHQoITApKTp0KCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1AuaW5mbygiW0RhdGFPYmplY3RPYnNlcnZlcl9zeW5jXSBzeW5jIGZhaWxlZDogIixlKSx0KCExKX0pfSl9fSx7a2V5OiJfc3RvcmVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9OygwLG8uZGVmYXVsdCkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPWUuX2NoaWxkcmVuT2JqZWN0c1tyXTt0W3JdPXt9LCgwLG8uZGVmYXVsdCkobikuZm9yRWFjaChmdW5jdGlvbihlKXt0W3JdW2VdPXt9LHRbcl1bZV0udmFsdWU9bltlXS5tZXRhZGF0YSx0W3JdW2VdLmlkZW50aXR5PW5bZV0uaWRlbnRpdHl9KX0pO3ZhciByPXtmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCx0eXBlOiJjcmVhdGUiLGJvZHk6e3Jlc291cmNlOmUuX3VybCxhdHRyaWJ1dGU6ImNoaWxkcmVuT2JqZWN0cyIsdmFsdWU6dH19O2UuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxfLmRlZmF1bHQpKERhdGFPYmplY3RPYnNlcnZlci5wcm90b3R5cGUuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RPYnNlcnZlci5wcm90b3R5cGUpLCJfYWxsb2NhdGVMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsKyIvY2hhbmdlcyIsZnVuY3Rpb24odCl7InVwZGF0ZSI9PT10LnR5cGUmJihQLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsXy5kZWZhdWx0KShEYXRhT2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsbC5kZWZhdWx0KShEYXRhT2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9kZWxldGVDaGlsZHJlbnMoKS50aGVuKGZ1bmN0aW9uKCl7ZS51bnN1YnNjcmliZSgpLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19KX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe1AubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOkQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT1ELkFOWToobi50eXBlPUQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLG8uZGVmYXVsdCkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PUQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09RC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PUQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fSx7a2V5OiJvbkRpc2Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX3N1YnNjcmliZVJlZ2lzdHJhdGlvbigpLnRoZW4oZnVuY3Rpb24oKXt0Ll9vbkRpc2Nvbm5lY3RlZD1lLHIoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9KX19LHtrZXk6Il9zdWJzY3JpYmVSZWdpc3RyYXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJzdWJzY3JpYmUiLGZyb206dGhpcy5fb3duZXIsdG86dGhpcy5fc3luY2hlci5fcnVudGltZVVybCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlczpbdGhpcy5fdXJsKyIvcmVnaXN0cmF0aW9uIl19fTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe1AubG9nKCJbRGF0YU9iamVjdE9ic2VydmVyLl9zdWJzY3JpYmVSZWdpc3RyYXRpb25dICIrZS5fdXJsKyIgcmN2ZWQgcmVwbHkgIix0KSwyMDA9PT10LmJvZHkuY29kZT8oZS5fZ2VuZXJhdGVMaXN0ZW5lcihlLl91cmwrIi9yZWdpc3RyYXRpb24iKSxyKCkpOihQLmVycm9yKCJFcnJvciBzdWJzY3JpYmluZyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciAiLGUuX3VybCksbigiRXJyb3Igc3Vic2NyaWJpbmcgcmVnaXN0cmF0aW9uIHN0YXR1cyBmb3IgIitlLl91cmwpKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9idXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtQLmxvZygiW0RhdGFPYmplY3RPYnNlcnZlci5yZWdpc3RyYXRpb25Ob3RpZmljYXRpb25dICIrdC5fdXJsKyI6ICIsZSksZS5ib2R5LnZhbHVlJiYiZGlzY29ubmVjdGVkIj09PWUuYm9keS52YWx1ZSYmdC5fb25EaXNjb25uZWN0ZWQmJihQLmxvZygiW0RhdGFPYmplY3RPYnNlcnZlcl0gIit0Ll91cmwrIjogd2FzIGRpc2Nvbm5lY3RlZCAiLGUpLHQuX29uRGlzY29ubmVjdGVkKCkpfSl9fSx7a2V5OiJleGVjdXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIGE9e3R5cGU6ImV4ZWN1dGUiLGZyb206ci5fb3duZXIsdG86bi5fdXJsLGJvZHk6e21ldGhvZDplLHBhcmFtczp0fX07bi5fYnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24odCl7UC5sb2coIltEYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZV0gIituLl91cmwrIiByY3ZlZCByZXBseSAiLHQpLDIwMD09PXQuYm9keS5jb2RlP28oKTooUC53YXJuKCJbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdIGV4ZWN1dGlvbiBvZiBtZXRob2QgIitlKyIgd2FzIHJlamVjdCBieSByZXBvcnRlciIpLGkoIltEYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZV0gZXhlY3V0aW9uIG9mIG1ldGhvZCAiK2UrIiB3YXMgcmVqZWN0IGJ5IHJlcG9ydGVyIikpfSl9KX19XSksRGF0YU9iamVjdE9ic2VydmVyfShTLmRlZmF1bHQpO3QuZGVmYXVsdD1NLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDQpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKSxjPXUuZ2V0TG9nZ2VyKCJEYXRhUHJvdmlzaW9uYWwiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YVByb3Zpc2lvbmFsKGUsdCxyLG4peygwLG8uZGVmYXVsdCkodGhpcyxEYXRhUHJvdmlzaW9uYWwpO3ZhciBpPXRoaXM7aS5fb3duZXI9ZSxpLl91cmw9dCxpLl9idXM9cixpLl9jaGlsZHJlbj1uLGkuX2NoYW5nZXM9W10saS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhLmRlZmF1bHQpKERhdGFQcm92aXNpb25hbCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpfSl9fSx7a2V5OiJjaGlsZHJlbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufX1dKSxEYXRhUHJvdmlzaW9uYWx9KCk7dC5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIE5vdGlmaWNhdGlvbkhhbmRsZXIoZSl7aWYoKDAsby5kZWZhdWx0KSh0aGlzLE5vdGlmaWNhdGlvbkhhbmRsZXIpLCFlKXRocm93IEVycm9yKCJbTm90aWZpY2F0aW9uSGFuZGxlciBDb25zdHJ1Y3Rvcl0gYnVzIGlucHV0IGlzIG1hbmRhdG9yeSIpO3RoaXMuX2J1cz1lLHRoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj17fX1yZXR1cm4oMCxhLmRlZmF1bHQpKE5vdGlmaWNhdGlvbkhhbmRsZXIsW3trZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcltlXT10fX0se2tleToib25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc291cmNlIik/ZS5ib2R5LnJlc291cmNlOmUuZnJvbS5zbGljZSgwLC0xMyksbj0oMCxzLmRpdmlkZVVSTCkociksbz1uLmRvbWFpbixpPXIuc3BsaXQoIjovLyIpWzBdLGE9ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAwLGRlc2M6IkJhZCBSZXF1ZXN0OiAiK3J9fSl9O2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIil8fGEoIk1pc3Npbmcgc291cmNlIiksZS5ib2R5Lmhhc093blByb3BlcnR5KCJzY2hlbWEiKXx8YSgiTWlzc2luZyBzY2hlbWEiKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIil8fGEoIk1pc3NpbmcgdmFsdWUiKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5Iil8fGEoIk1pc3NpbmcgaWRlbnRpdHkiKTt2YXIgdT17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLGRvbWFpbjpvLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksdG86ZS50byx2aWE6ZS5ib2R5LnZpYSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9LGVycm9yOmZ1bmN0aW9uKGUpe2EoZSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXJbaV0mJnQuX29uTm90aWZpY2F0aW9uSGFuZGxlcltpXSh1KX19LHtrZXk6Im9uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdLG89e2Zyb206dC5vd25lcix0bzp0Ll9zdWJVUkwsaWQ6ZS5pZCx0eXBlOiJ1bnN1YnNjcmliZSIsYm9keTp7cmVzb3VyY2U6ZS5ib2R5LnJlc291cmNlfX07aWYodC5fYnVzLnBvc3RNZXNzYWdlKG8pLGRlbGV0ZSB0Ll9vYnNlcnZlcnNbcl0sbil7dmFyIGk9e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm4uZGVsZXRlKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihsb2cubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsaSksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKGkpKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fV0pLE5vdGlmaWNhdGlvbkhhbmRsZXJ9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig3KSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdHlNYW5hZ2VyKGUsdCxyKXsoMCxhLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlNYW5hZ2VyKTt2YXIgbj10aGlzO24ubWVzc2FnZUJ1cz1yLG4uZG9tYWluPSgwLGMuZGl2aWRlVVJMKShlKS5kb21haW4sbi5vd25lcj1lLG4ucnVudGltZVVSTD10fXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNYW5hZ2VyLFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDAsYT1lfHwiLiI7aT10fHxyLm93bmVyO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmksdG86ci5ydW50aW1lVVJMKyIvcmVnaXN0cnkvIixib2R5OntyZXNvdXJjZTphLGNyaXRlcmlhOml9fTtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkucmVzb3VyY2U7dCYmMjAwPT09ZS5ib2R5LmNvZGU/bih0KTpvKCJjb2RlOiAiK2UuYm9keS5jb2RlKyIgTm8gdXNlciB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlcklkZW50aXR5UGVySWRQIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89e3R5cGU6InJlYWQiLGZyb206dGhpcy5vd25lcix0bzp0LnJ1bnRpbWVVUkwrIi9pZG0iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6ImlkcCJ9fTt0Lm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9yKGUuYm9keS52YWx1ZSk6bihlLmJvZHkuY29kZSsiICIrZS5ib2R5LmRlc2MpfSl9KX19XSksSWRlbnRpdHlNYW5hZ2VyfSgpO3QuZGVmYXVsdD1sLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9cig3KSxkPXIoNDkxKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1sLmdldExvZ2dlcigiRGlzY292ZXJ5IiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIERpc2NvdmVyeShlLHQscil7KDAsYS5kZWZhdWx0KSh0aGlzLERpc2NvdmVyeSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLnJ1bnRpbWVVUkw9dCxuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPWV9cmV0dXJuKDAsdS5kZWZhdWx0KShEaXNjb3ZlcnksW3trZXk6Il9pc0xlZ2FjeVVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUuaW5jbHVkZXMoIjoiKXx8ZS5pbmNsdWRlcygidXNlcjovLyIpKX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPVtdLGE9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L3VzZXJwcm9maWxlLyIrZX19O3JldHVybih0fHxyKSYmKGEuYm9keS5jcml0ZXJpYT17cmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH0pLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtuLl9pc0xlZ2FjeVVzZXIoZSk/dChbe2h5cGVydHlJRDplLHN0YXR1czoibGl2ZSJ9XSk6bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/KHIuYm9keS52YWx1ZS5tYXAoZnVuY3Rpb24oZSl7ZS5oeXBlcnR5SUQhPW4uZGlzY292ZXJ5VVJMJiZpLnB1c2goZSl9KSwwPT09aS5sZW5ndGg/dChbXSk6KHkubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhXSBSZXBseSBsb2c6ICIsaSksdChpKSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGFdIEVycm9yIFJlcGx5IGZvciAiK2UrIiBSZWFzb246ICIsci5ib2R5LmRlc2NyaXB0aW9uKSx0KFtdKSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGFETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhLmFwcGx5KG4saSkudGhlbihmdW5jdGlvbih0KXtlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT17dHlwZToicmVhZCIsZnJvbTpuLmRpc2NvdmVyeVVSTCx0bzpuLnJ1bnRpbWVVUkwrIi9kaXNjb3ZlcnkvIixib2R5OntyZXNvdXJjZToiL2RhdGFPYmplY3QvdXNlcnByb2ZpbGUvIitlfX07cmV0dXJuKHR8fHIpJiYoaS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24uX2lzTGVnYWN5VXNlcihlKT90KFt7aHlwZXJ0eUlEOmUsc3RhdHVzOiJsaXZlIn1dKTpuLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihyKXsyMDA9PT1yLmJvZHkuY29kZT8oeS5sb2coIlJlcGx5IGxvZzogIixyLmJvZHkudmFsdWUpLHQoci5ib2R5LnZhbHVlKSk6KHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVXNlclByb2ZpbGVEYXRhXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGEuYXBwbHkobixpKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPVtdLGE9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L2d1aWQvIitlfX07cmV0dXJuKHR8fHIpJiYoYS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKG8pezIwMD09PW8uYm9keS5jb2RlPyhvLmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGUpe2UuaHlwZXJ0eUlEIT1uLmRpc2NvdmVyeVVSTCYmaS5wdXNoKGUpfSksMD09PWkubGVuZ3RoP3IoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik6KHkubG9nKCJSZXBseSBsb2c6ICIsaSksdChpKSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLG8uYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRERPIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe24uZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlELmFwcGx5KG4saSkudGhlbihmdW5jdGlvbih0KXtlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L2d1aWQvIitlfX07cmV0dXJuKHR8fHIpJiYoaS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgbG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlERE8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7bi5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRC5hcHBseShuLGkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUobi5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMCxzPVtdO2E9bnx8aS5kb21haW47dmFyIHU9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86aS5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L3VzZXIvIitlfX07cmV0dXJuIHUuYm9keS5jcml0ZXJpYT10fHxyP3tyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0LGRvbWFpbjphfTp7ZG9tYWluOmF9LG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpLl9pc0xlZ2FjeVVzZXIoZSk/dChbe2h5cGVydHlJRDplLHN0YXR1czoibGl2ZSJ9XSk6aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGV8fDUwMD09PXIuYm9keS5jb2RlPyhyLmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGUpe2UuaHlwZXJ0eUlEIT1pLmRpc2NvdmVyeVVSTCYmcy5wdXNoKGUpfSkseS5sb2coIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIFJlcGx5IDogIixzKSx0KHMpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChzKSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kuZGlzY292ZXJIeXBlcnRpZXMuYXBwbHkoaSxhKS50aGVuKGZ1bmN0aW9uKHQpe2UoaS5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwO2E9bnx8aS5kb21haW47dmFyIHM9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86aS5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L3VzZXIvIitlfX07cmV0dXJuIHMuYm9keS5jcml0ZXJpYT10fHxyP3tyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0LGRvbWFpbjphfTp7ZG9tYWluOmF9LG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXsyMDA9PT1yLmJvZHkuY29kZT8oeS5sb2coIlJlcGx5IFZhbHVlIExvZzogIixyLmJvZHkudmFsdWUpLHQoci5ib2R5LnZhbHVlKSk6KHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kuZGlzY292ZXJEYXRhT2JqZWN0cy5hcHBseShpLGEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUoaS5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBpPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOnIucnVudGltZVVSTCsiL2Rpc2NvdmVyeS8iLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS91cmwvIitlLGNyaXRlcmlhOntkb21haW46bn19fTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVSTF0gRXJyb3IgUmVwbHkgZm9yICIrZSsiIFJlYXNvbjogIixyLmJvZHkuZGVzY3JpcHRpb24pLHQoW10pKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkxETyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5kaXNjb3Zlckh5cGVydHlQZXJVUkwuYXBwbHkocixuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKG5ldyBwLmRlZmF1bHQodCxyLnJ1bnRpbWVVUkwsci5kaXNjb3ZlcnlVUkwsci5tZXNzYWdlQnVzLHIpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIGk9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ci5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L3VybC8iK2UsY3JpdGVyaWE6e2RvbWFpbjpufX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQsbil7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/KHkubG9nKCJSZXBseSBWYWx1ZSBMb2c6ICIsci5ib2R5LnZhbHVlKSx0KHIuYm9keS52YWx1ZSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTERPIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTC5hcHBseShyLG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUobmV3IHAuZGVmYXVsdCh0LHIucnVudGltZVVSTCxyLmRpc2NvdmVyeVVSTCxyLm1lc3NhZ2VCdXMscikpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzppLnJ1bnRpbWVVUkwrIi9kaXNjb3ZlcnkvIixib2R5OntyZXNvdXJjZToiL2RhdGFPYmplY3QvbmFtZS8iK2V9fTtyZXR1cm4gcy5ib2R5LmNyaXRlcmlhPXR8fHI/e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnQsZG9tYWluOmF9Ontkb21haW46YX0sbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lRE8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtpLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lLmFwcGx5KGksYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZShpLl9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KHQpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMDthPW58fGkuZG9tYWluO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOmkucnVudGltZVVSTCsiL2Rpc2NvdmVyeS8iLGJvZHk6e3Jlc291cmNlOiIvZGF0YU9iamVjdC9yZXBvcnRlci8iK2V9fTtyZXR1cm4gcy5ib2R5LmNyaXRlcmlhPXR8fHI/e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnQsZG9tYWluOmF9Ontkb21haW46YX0sbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlckRPIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIuYXBwbHkoaSxhKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKGkuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcC5kZWZhdWx0KGUsdC5ydW50aW1lVVJMLHQuZGlzY292ZXJ5VVJMLHQubWVzc2FnZUJ1cyx0KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwO2E9bnx8aS5kb21haW47dmFyIHM9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYSxib2R5OntyZXNvdXJjZTplLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7aWYoeS5sb2coIltEaXNjb3ZlcnldIixyKSxyLmJvZHkuY29kZT4yOTkpcmV0dXJuIHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RdIEVycm9yIFJlcGx5IGZvciAiK2UrIiBSZWFzb246ICIsci5ib2R5LmRlc2NyaXB0aW9uKSx0KFtdKTt2YXIgbj1yLmJvZHkudmFsdWU7dChufHxbXSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwLHM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtyZXR1cm4gYT1ufHxpLmRvbWFpbixuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8sdSl7aWYoeS5sb2coIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5XSBBQ1RJVkUgRE9NQUlOIC0+ICIsYSwidXNlci0+IixlLCJzY2hlbWEtPiIsdCwicmVzb3VyY2VzLT4iLHIsImRvbWFpbi0+IixuKSxlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gIitlKyIgaXMgbGVnYWN5IGRvbWFpbiIpO3JldHVybiBvKHt1c2VySUQ6ZSxoeXBlcnR5SUQ6ZSxzY2hlbWE6dCxyZXNvdXJjZXM6cn0pfXZhciBjPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EsYm9keTp7cmVzb3VyY2U6cyxjcml0ZXJpYTp7cmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH19fTt5LmluZm8oIltEaXNjb3ZlcnldIG1zZyB0byBzZW5kLT4iLGMpLGkubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShjLGZ1bmN0aW9uKGUpe3kuaW5mbygiW0Rpc2NvdmVyeV0gT04gZGlzY292ZXJIeXBlcnR5LT4iLGUpO3ZhciB0PWUuYm9keS52YWx1ZTt0P28odCk6dSgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtpZihlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gIitlKyJpcyBsZWdhY3kgZG9tYWluIik7cmV0dXJuIG8oe2lkOmUsaHlwZXJ0eVVSTDplLGRlc2NyaXB0b3I6InVua25vd24ifSl9bj10fHxyLmRvbWFpbjt2YXIgYT0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTphfX07eS5pbmZvKCJbRGlzY292ZXJ5XSBNZXNzYWdlOiAiLHMsbixhKSxyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbih0KXt5LmluZm8oIltEaXNjb3ZlcnldIG1lc3NhZ2UgcmVwbHkiLHQpO3ZhciByPXZvaWQgMCxuPXZvaWQgMCxhPXZvaWQgMCxzPXQuYm9keS52YWx1ZTtmb3IociBpbiBzKWlmKHZvaWQgMCE9PXNbcl0ubGFzdE1vZGlmaWVkKWlmKHZvaWQgMD09PW4pbj1uZXcgRGF0ZShzW3JdLmxhc3RNb2RpZmllZCksYT1yO2Vsc2V7dmFyIHU9bmV3IERhdGUoc1tyXS5sYXN0TW9kaWZpZWQpO24uZ2V0VGltZSgpPHUuZ2V0VGltZSgpJiYobj11LGE9cil9eS5pbmZvKCJbRGlzY292ZXJ5XSBMYXN0IEh5cGVydHk6ICIsYSxuKTt2YXIgYz1hO2lmKHZvaWQgMD09PWMpcmV0dXJuIGkoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgbD17aWQ6ZSxkZXNjcmlwdG9yOnNbY10uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmN9O3kuaW5mbygiW0Rpc2NvdmVyeV0gPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsbCksbyhsKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtyZXR1cm4geS5sb2coIm9uIEZ1bmN0aW9uLT4iLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtpZihlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gaXMgbGVnYWN5IGRvbWFpbiIpO3ZhciBhPXt1c2VySUQ6ZSxoeXBlcnR5SUQ6ZSxzY2hlbWE6c2NoZW1hLHJlc291cmNlczpyZXNvdXJjZXN9O3JldHVybiBvKGEpfW49dHx8ci5kb21haW47dmFyIHM9InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSx1PXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6c319O3kubG9nKCJbRGlzY292ZXJ5XSBNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIix1LG4scyksci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7eS5pbmZvKCJbRGlzY292ZXJ5XSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLGUpO3ZhciB0PWUuYm9keS52YWx1ZTtpZighdClyZXR1cm4gaSgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpO28odCl9KX0pfX0se2tleToicmVzdW1lRGlzY292ZXJpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4geS5sb2coIltEaXNjb3ZlcnldIHJlc3VtZURpc2NvdmVyaWVzIiksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPXt0eXBlOiJyZWFkIixmcm9tOmUuZGlzY292ZXJ5VVJMLHRvOmUucnVudGltZVVSTCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlOmUuZGlzY292ZXJ5VVJMfX07ZS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24ocil7eS5sb2coIltEaXNjb3ZlcnkucmVzdW1lRGlzY292ZXJpZXNdIHJlcGx5OiAiLHIpO3ZhciBuPVtdO2lmKDIwMD09PXIuYm9keS5jb2RlKXtyLmJvZHkudmFsdWUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj10LnNwbGl0KCIvcmVnaXN0cmF0aW9uIilbMF07KHt9KS51cmw9cix5LmxvZygiW0Rpc2NvdmVyeS5yZXN1bWVEaXNjb3Zlcmllc10gYWRkaW5nIGxpc3RlbmVyIHRvOiAiLHIpLHIuaW5jbHVkZXMoImh5cGVydHk6Ly8iKT9uLnB1c2goZS5kaXNjb3Zlckh5cGVydHlQZXJVUkxETyhyKSk6bi5wdXNoKGUuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMRE8ocikpfSksby5kZWZhdWx0LmFsbChuKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSl9KX1lbHNlIHQoW10pfSl9KX19XSksRGlzY292ZXJ5fSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE1MCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gRGlzY292ZXJlZE9iamVjdChlLHQscixuLGkpeygwLGEuZGVmYXVsdCkodGhpcyxEaXNjb3ZlcmVkT2JqZWN0KTt2YXIgcz0oMCx1LmRlZmF1bHQpKHRoaXMsKERpc2NvdmVyZWRPYmplY3QuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QpKS5jYWxsKHRoaXMsZS5oeXBlcnR5SUR8fGUudXJsLHQscixuKSk7cmV0dXJuIHMuX2RhdGE9ZSxzLl9kaXNjb3Zlcnk9aSxzfXJldHVybigwLGQuZGVmYXVsdCkoRGlzY292ZXJlZE9iamVjdCxlKSwoMCxsLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QsW3trZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSwoMCxsLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QsW3trZXk6ImNoZWNrIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17Ym9keTp7fX07ZS5fZGlzY292ZXJlZE9iamVjdFVSTC5zdGFydHNXaXRoKCJoeXBlcnR5Oi8vIik/ZS5fZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLl9kaXNjb3ZlcmVkT2JqZWN0VVJMKS50aGVuKGZ1bmN0aW9uKHIpe3QuYm9keS5zdGF0dXM9ci5zdGF0dXMsZS5fcHJvY2Vzc05vdGlmaWNhdGlvbih0KX0pOmUuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVVJMKGUuX2Rpc2NvdmVyZWRPYmplY3RVUkwpLnRoZW4oZnVuY3Rpb24ocil7dC5ib2R5LnN0YXR1cz1yLnN0YXR1cyxlLl9wcm9jZXNzTm90aWZpY2F0aW9uKHQpfSl9fV0pLERpc2NvdmVyZWRPYmplY3R9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTZWFyY2goZSx0KXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsU2VhcmNoKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBkaXNjb3ZlcnkgY29tcG9uZW50IGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIGlkZW50aXR5TWFuYWdlciBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7dmFyIHI9dGhpcztyLmRpc2NvdmVyeT1lLHIuaWRlbnRpdHlNYW5hZ2VyPXR9cmV0dXJuKDAsbC5kZWZhdWx0KShTZWFyY2gsW3trZXk6Im15SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtyKGUpfSl9KX19LHtrZXk6Imh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2FyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM119fSx7a2V5OiJ1c2VycyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHVzZXJzIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiBkb21haW5zIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiByZXNvdXJjZXMiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHNjaGVtZXMiKTt2YXIgcz10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHUsYyl7aWYoMD09PWUubGVuZ3RoKXUoZSk7ZWxzZXt2YXIgbD1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSxvKXt2YXIgYT10W29dO2k/bC5wdXNoKHMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhKGUscixuKSk6bC5wdXNoKHMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzKGUscixuLGEpKX0pLGEuZGVmYXVsdC5hbGwobC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZX0sZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0pKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUubWFwKGZ1bmN0aW9uKGUpe2lmKGUuaGFzT3duUHJvcGVydHkoImh5cGVydHlJRCIpKXJldHVybiBlO3ZhciB0PSgwLG8uZGVmYXVsdCkoZSkucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxyKXt2YXIgbj1uZXcgRGF0ZShlW3JdLmxhc3RNb2RpZmllZCk7cmV0dXJuIG5ldyBEYXRlKGVbdF0ubGFzdE1vZGlmaWVkKS5nZXRUaW1lKCk8bi5nZXRUaW1lKCk/cjp0fSk7cmV0dXJuIGVbdF19KSxyPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KCJoeXBlcnR5SUQiKX0pO2UuZm9yRWFjaChmdW5jdGlvbihlKXtpZigiTm8gSHlwZXJ0eSB3YXMgZm91bmQiIT09ZSlyZXR1cm4gdShyKX0pLGMoIk5vIEh5cGVydHkgd2FzIGZvdW5kIil9KS5jYXRjaChmdW5jdGlvbih0KXt1KGUpfSl9fSl9fV0pLFNlYXJjaH0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDIwOSksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ29udGV4dE9ic2VydmVyKGUsdCxyLG4sbyxpKXtpZigoMCxsLmRlZmF1bHQpKHRoaXMsQ29udGV4dE9ic2VydmVyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIgIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJUaGUgZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIgIik7dmFyIGE9KDAseS5kZWZhdWx0KSh0aGlzLChDb250ZXh0T2JzZXJ2ZXIuX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKENvbnRleHRPYnNlcnZlcikpLmNhbGwodGhpcykpLHM9YTtzLl9jb250ZXh0UmVzb3VyY2VUeXBlcz1uLHMuX3VybD1lLHMuX2Rpc2NvdmVyVXNlcnNQcm9taXNlcz17fSxzLl9vYnNlcnZlUHJvbWlzZXM9e30scy5fZG9tYWluPW8uZGl2aWRlVVJMKHIucnVudGltZVVSTCkuZG9tYWluLHMuX29iamVjdERlc2NVUkw9Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIrcy5fZG9tYWluKyIvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db250ZXh0IixzLl91c2VyczJvYnNlcnZlPVtdLHMuX29ic2VydmVycz17fSxhLl9zeW5jaGVyPWl8fG8uY3JlYXRlU3luY2hlcihlLHQscik7dmFyIGM9by5jcmVhdGVEaXNjb3ZlcnkoZSxyLnJ1bnRpbWVVUkwsdCk7cmV0dXJuIHMuX2Rpc2NvdmVyeT1jLHMuX2Rpc2NvdmVyaWVzPXt9LHdpbmRvdy5kaXNjb3Zlcnk9cy5fZGlzY292ZXJ5LGF9cmV0dXJuKDAsdi5kZWZhdWx0KShDb250ZXh0T2JzZXJ2ZXIsZSksKDAsZC5kZWZhdWx0KShDb250ZXh0T2JzZXJ2ZXIsW3trZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixpKXtyLl9zeW5jaGVyLnJlc3VtZU9ic2VydmVycyh7c3RvcmU6ITB9KS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBhPSgwLG8uZGVmYXVsdCkoaSk7YS5sZW5ndGg+MD8oci5fb2JzZXJ2ZXJzPWksbihpKSxhLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49aVtyXTtlJiYoY29udGV4dC5kYXRhLnZhbHVlcz1lKSxuLnN5bmMoKSx0JiZuLm9uRGlzY29ubmVjdGVkKHQpfSkpOm4oITEpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bighMSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JlamVjdCgiW0NvbnRleHRPYnNlcnZlcl0gU3RhcnQgZmFpbGVkIHwgIixlKX0pfX0se2tleToicmVzdW1lRGlzY292ZXJpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuX2Rpc2NvdmVyeS5yZXN1bWVEaXNjb3ZlcmllcygpLnRoZW4oZnVuY3Rpb24ocil7ci5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuZGF0YS5yZXNvdXJjZXMmJnIuZGF0YS5yZXNvdXJjZXNbMF09PT1lLl9jb250ZXh0UmVzb3VyY2VUeXBlc1swXSYmKCJsaXZlIj09PXIuZGF0YS5zdGF0dXM/KHQoW3IuZGF0YV0pLHIudW5zdWJzY3JpYmVMaXZlKGUuX3VybCkpOnIub25MaXZlKGUuX3VybCxmdW5jdGlvbigpe3QoW3IuZGF0YV0pLHIudW5zdWJzY3JpYmVMaXZlKGUuX3VybCl9KSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmVqZWN0KCJbQ29udGV4dE9ic2VydmVyXSByZXN1bWVEaXNjb3ZlcmllcyBmYWlsZWQgfCAiLGUpfSl9fSx7a2V5OiJvblJlc3VtZU9ic2VydmVyIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3VtZU9ic2VydmVyPWV9fSx7a2V5OiJkaXNjb3ZlclVzZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1lKyJAIit0O3JldHVybiByLl9kaXNjb3ZlclVzZXJzUHJvbWlzZXNbbl18fChyLl9kaXNjb3ZlclVzZXJzUHJvbWlzZXNbbl09bmV3IGEuZGVmYXVsdChmdW5jdGlvbihuLG8pe3IuX2Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc0RPKGUsWyJjb250ZXh0Il0sci5fY29udGV4dFJlc291cmNlVHlwZXMsdCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXSxvPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9kaXNjb3Zlcmllc1tlLmRhdGEuaHlwZXJ0eUlEXT1lLCJsaXZlIj09PWUuZGF0YS5zdGF0dXM/dC5wdXNoKGUuZGF0YSk6by5wdXNoKGUpfSksdC5sZW5ndGg+MD9uKHQpOm8ubGVuZ3RoPjAmJm9bMF0ub25MaXZlKHIuX3VybCxmdW5jdGlvbigpe3QucHVzaChvWzBdLmRhdGEpLG4odCksb1swXS51bnN1YnNjcmliZUxpdmUoci5fdXJsKX0pfSl9KSksci5fZGlzY292ZXJVc2Vyc1Byb21pc2VzW25dfX0se2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxyPXRoaXM7cmV0dXJuIHIuX29ic2VydmVQcm9taXNlc1tlLmh5cGVydHlJRF18fChyLl9vYnNlcnZlUHJvbWlzZXNbZS5oeXBlcnR5SURdPW5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl91c2VyczJvYnNlcnZlLmZvckVhY2goZnVuY3Rpb24odCl7aWYodC5fcmVwb3J0ZXI9PT1lLmh5cGVydHlJRClyZXR1cm4gbih0KX0pLHIuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIoZS5oeXBlcnR5SUQsWyJjb250ZXh0Il0sci5fY29udGV4dFJlc291cmNlVHlwZXMsci5fZG9tYWluKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBhPTAscz12b2lkIDA7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaGFzT3duUHJvcGVydHkoImxhc3RNb2RpZmllZCIpJiZlLmhhc093blByb3BlcnR5KCJ1cmwiKSYmRGF0ZS5wYXJzZShlLmxhc3RNb2RpZmllZCk+YSYmKGE9ZS5sYXN0TW9kaWZpZWQscz1lLnVybCl9KSwwIT1hJiZzP24oci5fc3Vic2NyaWJlQ29udGV4dChlLHMsdCkpOm8oIltDb250ZXh0T2JzZXJ2ZXIub2JzZXJ2ZV0gZGlzY292ZXJlZCBEYXRhT2JqZWNzIGFyZSBpbnZhbGlkIixpKX0pfSkpLHIuX29ic2VydmVQcm9taXNlc1tlLmh5cGVydHlJRF19fSx7a2V5OiJfc3Vic2NyaWJlQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihlLG8pe24uX3VzZXJzMm9ic2VydmUuZm9yRWFjaChmdW5jdGlvbihyKXtpZihyLnVybD09PXQpcmV0dXJuIGUocil9KSxuLl9zeW5jaGVyLnN1YnNjcmliZShuLl9vYmplY3REZXNjVVJMLHQsbnVsbCxudWxsLG51bGwscikudGhlbihmdW5jdGlvbih0KXtuLl91c2VyczJvYnNlcnZlLnB1c2godCksdC5vbkRpc2Nvbm5lY3RlZChmdW5jdGlvbigpe3QuZGF0YS52YWx1ZXNbMF0udmFsdWU9InVuYXZhaWxhYmxlIix0LnN5bmMoKX0pLGUodCl9KX0pfX0se2tleToiX2Rpc2NvdmVyQW5kU3Vic2NyaWJlTGVnYWN5VXNlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9kaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUoZSkudGhlbihmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ImxpdmUiPT09ZS5zdGF0dXMmJihlLmh5cGVydHlJRHx8KGUuaHlwZXJ0eUlEPWUucmVwb3J0ZXIpLHQuX3N1YnNjcmliZUNvbnRleHQoZS5zY2hlbWEsZS51cmwpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9KSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe30pfSl9fSx7a2V5OiJ1bm9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fdXNlcnMyb2JzZXJ2ZS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7ci51cmw9PT1lJiYoci51bnN1YnNjcmliZSgpLHQuX3VzZXJzMm9ic2VydmUuc3BsaWNlKG4sMSkpfSl9fV0pLENvbnRleHRPYnNlcnZlcn0oXy5kZWZhdWx0KTt0LmRlZmF1bHQ9YixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDIwOSksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ29udGV4dFJlcG9ydGVyKGUsdCxyLG4sbyl7aWYoKDAsbC5kZWZhdWx0KSh0aGlzLENvbnRleHRSZXBvcnRlciksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7dmFyIGk9KDAseS5kZWZhdWx0KSh0aGlzLChDb250ZXh0UmVwb3J0ZXIuX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcikpLmNhbGwodGhpcyxlLHQscikpO3JldHVybiBpLnN5bmNoZXI9b3x8bi5jcmVhdGVTeW5jaGVyKGUsdCxyKSxpLmRvbWFpbj1uLmRpdmlkZVVSTChyLnJ1bnRpbWVVUkwpLmRvbWFpbixpLmNvbnRleHRzPXt9LGkuY29udGV4dERlc2NVUkw9Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIraS5kb21haW4rIi8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbnRleHQiLGkuc3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbihlKXtpLm9uTm90aWZpY2F0aW9uKGUpfSksaS5zeW5jaGVyLm9uQ2xvc2UoZnVuY3Rpb24oZSl7aS5zZXRTdGF0dXMoZS5pZCwidW5hdmFpbGFibGUiKSxlLmFjaygpfSksaX1yZXR1cm4oMCx2LmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcixlKSwoMCxkLmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcixbe2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLnN5bmNoZXIucmVzdW1lUmVwb3J0ZXJzKHtzdG9yZTohMH0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49KDAsby5kZWZhdWx0KShlKTtuLmxlbmd0aD4wPyh0LmNvbnRleHRzPWUsbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX29uU3Vic2NyaXB0aW9uKHQuY29udGV4dHNbZV0pfSkscih0LmNvbnRleHRzKSk6cighMSl9KS5jYXRjaChmdW5jdGlvbihlKXt9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JlamVjdCgiW0NvbnRleHRSZXBvcnRlcl0gU3RhcnQgZmFpbGVkIHwgIixlKX0pfX0se2tleToicHJvY2Vzc05vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5hY2soKX19LHtrZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToibXlDb250ZXh0IixvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpudWxsLGk9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOm51bGwscz10aGlzLHU9dm9pZCAwO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGEsYyl7dT1vfHxpP28mJiFpP3tyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJlcG9ydGVyOm99OiFvJiZpP3tyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJldXNlVVJMOml9OntyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJldXNlVVJMOmkscmVwb3J0ZXI6b306e3Jlc291cmNlczpyLGV4cGlyZXM6MzB9LHMuc3luY2hlci5jcmVhdGUocy5jb250ZXh0RGVzY1VSTCxbXSx0LCEwLCExLG4sbnVsbCx1KS50aGVuKGZ1bmN0aW9uKHQpe3MuY29udGV4dHNbZV09dCxzLl9vblN1YnNjcmlwdGlvbih0KSxhKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7YyhlKX0pfSl9fSx7a2V5OiJfb25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe2Uub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZSl7ZS5hY2NlcHQoKX0pfX0se2tleToic2V0Q29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuY29udGV4dHNbZV0uZGF0YS52YWx1ZXM9dCxyLnRyaWdnZXIoZSsiLWNvbnRleHQtdXBkYXRlIix0KX19XSksQ29udGV4dFJlcG9ydGVyfShfLmRlZmF1bHQpO3QuZGVmYXVsdD1iLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0OTYpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uIE1lc3NhZ2VCb2R5SWRlbnRpdHkoZSx0LHIsbixpLHMsdSxjKXtpZigoMCxvLmRlZmF1bHQpKHRoaXMsTWVzc2FnZUJvZHlJZGVudGl0eSksIXMpdGhyb3cgbmV3IEVycm9yKCJJRFAgc2hvdWxkIGJlIGEgcGFyYW1ldGVyIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJ1c2VybmFtZSBzaG91bGQgYmUgYSBwYXJhbWV0ZXIiKTt0aGlzLmlkcD1zLHUmJih0aGlzLmFzc2VydGlvbj11KSx0aGlzLnVzZXJQcm9maWxlPW5ldyBhLmRlZmF1bHQoZSx0LHIsbixpLGMpfTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uIFVzZXJQcm9maWxlKGUsdCxyLG4saSxzKXsoMCxhLmRlZmF1bHQpKHRoaXMsVXNlclByb2ZpbGUpLGUmJih0aGlzLnByZWZlcnJlZF91c2VybmFtZT1lKSxyJiYodGhpcy5waWN0dXJlPXIpLG4mJih0aGlzLm5hbWU9biksaSYmKHRoaXMubG9jYWxlPWkpLHQmJih0aGlzLnVzZXJVUkw9dCkscyYmKDAsby5kZWZhdWx0KSh0aGlzLHMpfTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDQ5OCksZD1yKDIxMCkscD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGQpLHk9cig1MDApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDaGF0TWFuYWdlcihlLHQscixuLG8pe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxDaGF0TWFuYWdlciksIWUpdGhyb3cgbmV3IEVycm9yKCJbQ2hhdE1hbmFnZXIuY29uc3RydWN0b3JdIFRoZSBteVVybCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltDaGF0TWFuYWdlci5jb25zdHJ1Y3Rvcl0gVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJbQ2hhdE1hbmFnZXIuY29uc3RydWN0b3JdIFRoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO3ZhciBpPXRoaXM7bnx8KG49by5jcmVhdGVTeW5jaGVyKGUsdCxyKSksaS5fcnVudGltZVVSTD1yLnJ1bnRpbWVVUkw7dmFyIGE9by5kaXZpZGVVUkwoaS5fcnVudGltZVVSTCkuZG9tYWluLHM9by5jcmVhdGVEaXNjb3ZlcnkoZSxyLnJ1bnRpbWVVUkwsdCksYz1vLmNyZWF0ZUlkZW50aXR5TWFuYWdlcihlLHIucnVudGltZVVSTCx0KTtpLl9vYmplY3REZXNjVVJMPSJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iK2ErIi8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbW11bmljYXRpb24iLGkuX3JlcG9ydGVyc0NvbnRyb2xsZXJzPXt9LGkuX29ic2VydmVyc0NvbnRyb2xsZXJzPXt9LGkuX215VXJsPWUsaS5fYnVzPXQsaS5fc3luY2hlcj1uLGkuX2RvbWFpbj1hLGkuZGlzY292ZXJ5PXMsaS5pZGVudGl0eU1hbmFnZXI9YyxpLmN1cnJlbnRJZGVudGl0eSxpLnNlYXJjaD1vLmNyZWF0ZVNlYXJjaChzLGMpLGkuY29tbXVuaWNhdGlvbk9iamVjdD1mLmNvbW11bmljYXRpb25PYmplY3QsaS5jb21tdW5pY2F0aW9uQ2hpbGRyZW49Zi5jb21tdW5pY2F0aW9uQ2hpbGRyZW59cmV0dXJuKDAsbC5kZWZhdWx0KShDaGF0TWFuYWdlcixbe2tleToicHJvY2Vzc05vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigiY3JlYXRlIj09PWUudHlwZSYmdC5fb25JbnZpdGF0aW9uJiZ0Ll9vbkludml0YXRpb24oZSksImRlbGV0ZSI9PT1lLnR5cGUpe2UuYWNrKDIwMCksdC5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbZS51cmxdLmNsb3NlRXZlbnQ9ZSxkZWxldGUgdC5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbZS51cmxdLHQuX29ic2VydmVyc0NvbnRyb2xsZXJzLmNsb3NlRXZlbnQ9ZSx0LmNvbW11bmljYXRpb25PYmplY3Q9Zi5jb21tdW5pY2F0aW9uT2JqZWN0O2Zvcih2YXIgciBpbiB0aGlzLl9yZXBvcnRlcnNDb250cm9sbGVycyl0aGlzLl9yZXBvcnRlcnNDb250cm9sbGVyc1tyXS5jbG9zZShlKTtmb3IodmFyIG4gaW4gdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnMpdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbbl0uY2xvc2UoZSl9fX0se2tleToibXlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGUpcmV0dXJuIHIoZSk7dC5fbXlVcmwuaW5jbHVkZXMoImh5cGVydHk6Ly8iKT90LmlkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKCkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pOnQuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVySWRlbnRpdHlQZXJJZFAoKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj10aGlzLGk9bi5fc3luY2hlcjtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihzLHUpe24uY29tbXVuaWNhdGlvbk9iamVjdD1mLmNvbW11bmljYXRpb25PYmplY3Qsbi5jb21tdW5pY2F0aW9uT2JqZWN0LmNzZXE9MSxuLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lPShuZXcgRGF0ZSkudG9KU09OKCksbi5jb21tdW5pY2F0aW9uT2JqZWN0LnN0YXR1cz1mLkNvbW11bmljYXRpb25TdGF0dXMuT1BFTjt2YXIgYz12b2lkIDA7bi5teUlkZW50aXR5KCkudGhlbihmdW5jdGlvbihsKXtjPWw7dmFyIGY9bmV3IHkuVXNlckluZm8obi5fbXlVcmwsbi5fZG9tYWluLGwpO24uY29tbXVuaWNhdGlvbk9iamVjdC5wYXJ0aWNpcGFudHNbbC51c2VyVVJMXT1mO3ZhciBkPVtdLGg9W10sdj17fTt0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNETyhlLnVzZXIsWyJjb21tIl0sWyJjaGF0Il0sZS5kb21haW4pO2QucHVzaCh0KX0pLGEuZGVmYXVsdC5hbGwoZCkudGhlbihmdW5jdGlvbih0KXt2YXIgYT1bXTt0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJsaXZlIj09PWUuZGF0YS5zdGF0dXM/KGEucHVzaChlLmRhdGEuaHlwZXJ0eUlEKSx2W2UuZGF0YS5oeXBlcnR5SURdPWUpOmgubGVuZ3RoPDUmJmgucHVzaChlKX0pfSk7dmFyIHM9KDAsby5kZWZhdWx0KSh7cmVzb3VyY2VzOlsiY2hhdCJdLG11dHVhbDohMH0scik7cmV0dXJuIGRlbGV0ZSBzLm5hbWUsaS5jcmVhdGUobi5fb2JqZWN0RGVzY1VSTCxhLG4uY29tbXVuaWNhdGlvbk9iamVjdCwhMCwhMSxlLHt9LHMpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgcC5kZWZhdWx0KGksbi5kaXNjb3Zlcnksbi5fZG9tYWluLG4uc2VhcmNoLGMsbik7dC5kYXRhT2JqZWN0UmVwb3J0ZXI9ZSxuLl9yZXBvcnRlcnNDb250cm9sbGVyc1tlLnVybF09dCxlLmludml0YXRpb25zLmxlbmd0aD4wJiZ0Lmludml0YXRpb25zSGFuZGxlci5wcm9jZXNzSW52aXRhdGlvbnModixlKSxoLmxlbmd0aD4wJiZ0Lmludml0YXRpb25zSGFuZGxlci5pbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMoaCxlKSxzKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dShlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9KX0pfX0se2tleToib25JbnZpdGF0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkludml0YXRpb249ZX19LHtrZXk6ImpvaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0sbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIGE9bi5fc3luY2hlcixzPXZvaWQgMDtuLm15SWRlbnRpdHkocikudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gcz1yLGEuc3Vic2NyaWJlKG4uX29iamVjdERlc2NVUkwsZSwhMCwhMSx0LCEwLHIpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgcC5kZWZhdWx0KGEsbi5kaXNjb3Zlcnksbi5fZG9tYWluLG4uc2VhcmNoLHMsbik7byh0KSx0LmRhdGFPYmplY3RPYnNlcnZlcj1lLG4uX29ic2VydmVyc0NvbnRyb2xsZXJzW2UudXJsXT10fSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9fV0pLENoYXRNYW5hZ2VyfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QuQ29tbXVuaWNhdGlvblN0YXR1cz17T1BFTjoib3BlbiIsUEVORElORzoicGVuZGluZyIsQ0xPU0VEOiJjbG9zZWQiLFBBVVNFRDoicGF1c2VkIixGQUlMRUQ6ImZhaWxlZCJ9LHQuY29tbXVuaWNhdGlvbk9iamVjdD17c3RhcnRpbmdUaW1lOiIiLHN0YXR1czoiIixwYXJ0aWNpcGFudHM6e319LHQuY29tbXVuaWNhdGlvbkNoaWxkcmVuPXtwYXJlbnQ6ImNvbW11bmljYXRpb24iLGxpc3RlbmVyOiJyZXNvdXJjZXMiLHR5cGU6Ikh5cGVydHlSZXNvdXJjZSJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIEludml0YXRpb25zSGFuZGxlcihlKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsSW52aXRhdGlvbnNIYW5kbGVyKSwhZSl0aHJvdyBFcnJvcigiaHlwZXJ0eVVSTCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3kiKTt2YXIgdD10aGlzO3QuX2h5cGVydHlVUkw9ZSx0Ll9wZW5kaW5nPXt9fXJldHVybigwLGwuZGVmYXVsdCkoSW52aXRhdGlvbnNIYW5kbGVyLFt7a2V5OiJpbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7ci5fcGVuZGluZ1t0XXx8KHIuX3BlbmRpbmdbdF09e30pLHIuX3BlbmRpbmdbdF1bZS5kYXRhLmh5cGVydHlJRF09ZSxlLm9uTGl2ZShyLl9oeXBlcnR5VVJMLGZ1bmN0aW9uKCl7dC5pbnZpdGVPYnNlcnZlcnMoW2UuZGF0YS5oeXBlcnR5SURdKSxlLnVuc3Vic2NyaWJlTGl2ZShyLl9oeXBlcnR5VVJMKSxkZWxldGUgci5fcGVuZGluZ1t0XVtlLmRhdGEuaHlwZXJ0eUlEXX0pfSl9fSx7a2V5OiJwcm9jZXNzSW52aXRhdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXMsbz10Lmludml0YXRpb25zfHxbXTtvLmZvckVhY2goZnVuY3Rpb24obyl7by50aGVuKGZ1bmN0aW9uKGUpe3IuX2ludml0YXRpb25zUmVzcG9uc2UmJnIuX2ludml0YXRpb25zUmVzcG9uc2UoZSl9KS5jYXRjaChmdW5jdGlvbihvKXtyLl9pbnZpdGF0aW9uc1Jlc3BvbnNlJiZyLl9pbnZpdGF0aW9uc1Jlc3BvbnNlKG8pLG4uaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKFtlW28uaW52aXRlZF1dLHQpfSl9KX19LHtrZXk6InJlc3VtZURpc2NvdmVyaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgcz17fSx1PVtdLGM9W10sbD1bXTtlLnJlc3VtZURpc2NvdmVyaWVzKCkudGhlbihmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kYXRhLnJlc291cmNlcyYmImNoYXQiPT09ZS5kYXRhLnJlc291cmNlc1swXSYmKCJsaXZlIj09PWUuZGF0YS5zdGF0dXM/KHNbZS5kYXRhLmh5cGVydHlJRF09ZSx1LnB1c2goZS5kYXRhLmh5cGVydHlJRCksbC5wdXNoKGUudW5zdWJzY3JpYmVMaXZlKHIuX2h5cGVydHlVUkwpKSk6Yy5wdXNoKGUpKX0pLGMubGVuZ3RoPjAmJnIuaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKGMsdCksKDAsby5kZWZhdWx0KShzKS5sZW5ndGg+MD8odC5pbnZpdGVPYnNlcnZlcnModSksdC5pbnZpdGF0aW9ucy5sZW5ndGg+MCYmci5wcm9jZXNzSW52aXRhdGlvbnMocyx0KSxhLmRlZmF1bHQuYWxsKGwpLnRoZW4oZnVuY3Rpb24oKXtuKCl9KSk6bigpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZWplY3QoIltHcm91cENoYXRNYW5hZ2VyLkludml0YXRpb25zSGFuZGxlci5yZXN1bWVEaXNjb3Zlcmllc10gZmFpbGVkIHwgIixlKX0pfX0se2tleToiY2xlYW5JbnZpdGF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3BlbmRpbmdbZV07cmV0dXJuIHI/bmV3IGEuZGVmYXVsdChmdW5jdGlvbihlLG4pe3ZhciBpPSgwLG8uZGVmYXVsdCkocikscz1bXTtpLmZvckVhY2goZnVuY3Rpb24oZSl7cy5wdXNoKHJbZV0udW5zdWJzY3JpYmVMaXZlKHQuX2h5cGVydHlVUkwpKX0pLGEuZGVmYXVsdC5hbGwoaSkudGhlbihmdW5jdGlvbigpe2UoKX0pfSk6YS5kZWZhdWx0LnJlc29sdmUoKX19LHtrZXk6Imludml0YXRpb25SZXNwb25zZSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ludml0YXRpb25zUmVzcG9uc2U9ZX19XSksSW52aXRhdGlvbnNIYW5kbGVyfSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuVXNlckluZm89dm9pZCAwO3ZhciBuPXIoNTAxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNyk7dC5Vc2VySW5mbz1mdW5jdGlvbiBVc2VySW5mbyhlLHQscil7dmFyIG47KDAsYS5kZWZhdWx0KSh0aGlzLFVzZXJJbmZvKTt2YXIgaT0oMCxzLmRlZXBDbG9uZSkocik7cmV0dXJuIHIuaGFzT3duUHJvcGVydHkoInVzZXJQcm9maWxlIil8fChpLnVzZXJQcm9maWxlPXIpLG49e2h5cGVydHlVUkw6ZSxkb21haW46dH0sKDAsby5kZWZhdWx0KShuLCJkb21haW4iLHQpLCgwLG8uZGVmYXVsdCkobiwiaWRlbnRpdHkiLGkpLG59fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIwNCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQgaW4gZT8oMCxvLmRlZmF1bHQpKGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTcpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMjExKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBNaW5pQnVzKCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLE1pbmlCdXMpLCgwLGwuZGVmYXVsdCkodGhpcywoTWluaUJ1cy5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoTWluaUJ1cykpLmNhbGwodGhpcykpfXJldHVybigwLGQuZGVmYXVsdCkoTWluaUJ1cyxlKSwoMCx1LmRlZmF1bHQpKE1pbmlCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbi5fZ2VuSWQoZSksbi5fcmVzcG9uc2VDYWxsYmFjayhlLHQsciksbi5fb25Qb3N0TWVzc2FnZShlKSxlLmlkfX0se2tleToiX29uTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdC5fb25SZXNwb25zZShlKSl7dmFyIHI9dC5fc3Vic2NyaXB0aW9uc1tlLnRvXTtyPyh0Ll9wdWJsaXNoT24ocixlKSxlLnRvLnN0YXJ0c1dpdGgoImh5cGVydHkiKXx8dC5fcHVibGlzaE9uRGVmYXVsdChlKSk6dC5fcHVibGlzaE9uRGVmYXVsdChlKX19fV0pLE1pbmlCdXN9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVnaXN0cnlEYXRhTW9kZWwoZSx0LHIsbixpLGEscyx1LGMpeygwLG8uZGVmYXVsdCkodGhpcyxSZWdpc3RyeURhdGFNb2RlbCk7dmFyIGw9dGhpcztsLl9pZD1lLGwuX3VybD10LGwuX2Rlc2NyaXB0b3JVUkw9cixsLl9zdGFydGluZ1RpbWU9aSxsLl9sYXN0TW9kaWZpZWQ9YSxsLl9zdGF0dXM9cyxsLl9zdHVicz11LGwuX3N0dWJzQ29uZmlndXJhdGlvbj1jLGwuX3AycFJlcXVlc3Rlcj1ufXJldHVybigwLGEuZGVmYXVsdCkoUmVnaXN0cnlEYXRhTW9kZWwsW3trZXk6ImlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJkZXNjcmlwdG9yVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvclVSTH19LHtrZXk6InAycFJlcXVlc3RlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycFJlcXVlc3Rlcn19LHtrZXk6Imxhc3RNb2RpZmllZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhc3RNb2RpZmllZH19XSksUmVnaXN0cnlEYXRhTW9kZWx9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig0KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZikscD1yKDEwMikseT1yKDIxMiksaD0oX2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSxkLmdldExvZ2dlcigiUmVnaXN0cnkiKSksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIERvbWFpblJlZ2lzdHJhdGlvbihlLHQscixuKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsRG9tYWluUmVnaXN0cmF0aW9uKSwhZSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInJlZ2lzdHJ5VVJMIGlzIG1pc3NpbmcuIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJkb21haW4gaXMgbWlzc2luZy4iKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2VCdXMgaXMgbWlzc2luZy4iKTt2YXIgbz10aGlzO28ucmVnaXN0cnlVUkw9dCxvLnJ1bnRpbWVVUkw9ZSxvLl9yZWdpc3RyYXRpb25SZXRyaWVzPTUsby5leHBpcmVzVGltZT0zNjAwLG8uX2RvbWFpbj1yLG8uX21lc3NhZ2VCdXM9bn1yZXR1cm4oMCxsLmRlZmF1bHQpKERvbWFpblJlZ2lzdHJhdGlvbixbe2tleToidW5yZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS8iK2UsdmFsdWU6ImRpc2Nvbm5lY3RlZCIsYXR0cmlidXRlOiJzdGF0dXMifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKGUpe2gubG9nKCJbRG9tYWluUmVnaXN0cmF0aW9uXSB1bnJlZ2lzdGVyIGh5cGVydHkgUmVwbHkiLGUpfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJ1cGRhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZSx2YWx1ZTp7c3RhdHVzOiJkaXNjb25uZWN0ZWQifX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtoLmxvZygiW0RvbWFpblJlZ2lzdHJhdGlvbl0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImRlbGV0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3QuX2RvbWFpbixib2R5Ont2YWx1ZTp7bmFtZTplfX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtoLmxvZygiW0RvbWFpblJlZ2lzdHJhdGlvbl0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToidXBkYXRlSHlwZXJ0eUluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToiVVBEQVRFIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUsdmFsdWU6dH19O3IuX21lc3NhZ2VCdXMucG9zdC5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKGUpe30pfX0se2tleToicmVnaXN0ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPXZvaWQgMCxzPXZvaWQgMDtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihhLHUpe3ZhciBjPVtdLGw9ZS51cmwuc3BsaXQoIjoiKTtjLnB1c2gobFswXSksMCE9PSgwLG8uZGVmYXVsdCkocikubGVuZ3RoJiYoaT1yW24ucnVudGltZVVSTF0udXJsLHM9cC5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3IucDJwUmVxdWVzdGVyU3R1YiksZS5zdGFydGluZ1RpbWU9ZS5jcmVhdGVkLGRlbGV0ZSBlLmF1dGhvcmlzZSxkZWxldGUgZS5jcmVhdGVkLGRlbGV0ZSBlLm11dHVhbCxkZWxldGUgZS5yZXN1bWUsZS5leHBpcmVzfHwoZS5leHBpcmVzPW4uZXhwaXJlc1RpbWUpLGUuZGF0YVNjaGVtZXM9YyxpJiYoZS5wMnBIYW5kbGVyPWksZS5wMnBSZXF1ZXN0ZXI9cyksZS5zdGF0dXM9ImxpdmUiO3ZhciBmPXZvaWQgMDt0PyhoLmxvZygiW1JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdF0gcmVnaXN0ZXJpbmcgcHJldmlvdXNseSByZWdpc3RlcmVkIGRhdGEgb2JqZWN0IFVSTCIsZSksZj17dHlwZToidXBkYXRlIix0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLl9kb21haW4sZnJvbTpuLnJlZ2lzdHJ5VVJMLGJvZHk6e3Jlc291cmNlOmUudXJsLHZhbHVlOntzdGF0dXM6ImxpdmUifX19KTooaC5sb2coIltSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdIHJlZ2lzdGVyaW5nIG5ldyBkYXRhIG9iamVjdCBVUkwiLGUpLGY9e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24uX2RvbWFpbixib2R5Ont2YWx1ZTplLHBvbGljeToicG9saWN5In19KTt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzKGYsbi5fcmVnaXN0cmF0aW9uUmV0cmllcyxmdW5jdGlvbih0KXsyMDA9PT10LmJvZHkuY29kZT9hKGUpOnUoImVycm9yIG9uIHJlZ2lzdGVyIERhdGFPYmplY3QiKX0pfWNhdGNoKGUpe2guZXJyb3IoZSksdShlKX1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PXt0eXBlOiJ1cGRhdGUiLGZyb206bi5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLl9kb21haW4sYm9keTp7cmVzb3VyY2U6ZS51cmwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9LG1ldGhvZDoicmVmcmVzaCJ9fTtuLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24oZSl7fSl9LGUuZXhwaXJlcy8xLjEvMioxZTMpfSl9fSx7a2V5OiJyZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIucnVudGltZVVSTCxhPXZvaWQgMCxzPXIuZXhwaXJlc1RpbWUsdT17dXNlcjplLnVzZXIuZW1haWwsZGVzY3JpcHRvcjplLmRlc2NyaXB0b3JVUkwsdXJsOmUuaHlwZXJ0eVVSTCxleHBpcmVzOnMscmVzb3VyY2VzOmUucmVzb3VyY2VzLGRhdGFTY2hlbWVzOmUuZGF0YVNjaGVtZXMscnVudGltZTppLHN0YXR1czoibGl2ZSJ9O2UucDJwSGFuZGxlciYmKHUucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIsdS5wMnBSZXF1ZXN0ZXI9ZS5wMnBSZXF1ZXN0ZXIpLGUuZGVzY3JpcHRvci5jb25maWd1cmF0aW9uJiZlLmRlc2NyaXB0b3IuY29uZmlndXJhdGlvbi5leHBpcmVzJiYocz1lLmRlc2NyaXB0b3IuY29uZmlndXJhdGlvbi5leHBpcmVzKSx0PyhhPXt0eXBlOiJ1cGRhdGUiLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixmcm9tOnIucmVnaXN0cnlVUkwsYm9keTp7cmVzb3VyY2U6ZS5oeXBlcnR5VVJMLHZhbHVlOntzdGF0dXM6ImxpdmUiLHVzZXI6ZS51c2VyLmVtYWlsfX19LGUucDJwSGFuZGxlciYmKGEuYm9keS52YWx1ZS5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcixhLmJvZHkudmFsdWUucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKSk6YT17dHlwZToiY3JlYXRlIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3ZhbHVlOnUscG9saWN5OiJwb2xpY3kifX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhhLHIuX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24odCl7aWYoMjAwPT09dC5ib2R5LmNvZGUpe3ZhciBpPXt1cmw6ZS5oeXBlcnR5VVJMfTtlLnAycEhhbmRsZXImJihpLnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLGkucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKSxuKGkpfWVsc2V7aWYoNDA0IT09dC5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eSB0byBkb21haW46ICIsdCk7YT17dHlwZToiY3JlYXRlIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3ZhbHVlOnUscG9saWN5OiJwb2xpY3kifX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhhLHIuX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24odCl7aWYoMjAwIT09dC5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eTogIit0KTt2YXIgcj17dXJsOmUuaHlwZXJ0eVVSTH07ZS5wMnBIYW5kbGVyJiYoci5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcixyLnAycFJlcXVlc3Rlcj1lLnAycFJlcXVlc3RlciksbihyKX0pfWNhdGNoKGUpe2guZXJyb3IoZSksbyhlKX19fSl9Y2F0Y2goZSl7aC5lcnJvcihlKSxvKGUpfXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6InVwZGF0ZSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5OntyZXNvdXJjZTplLmh5cGVydHlVUkwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9LG1ldGhvZDoicmVmcmVzaCJ9fTtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24oZSl7fSl9LHMvMS4xLzIqMWUzKX0pfX1dKSxEb21haW5SZWdpc3RyYXRpb259KCk7dC5kZWZhdWx0PXYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1sLmdldExvZ2dlcigiUDJQQ29ubmVjdGlvblJlc29sdmUiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUDJQQ29ubmVjdGlvblJlc29sdmUoZSl7KDAsYS5kZWZhdWx0KSh0aGlzLFAyUENvbm5lY3Rpb25SZXNvbHZlKTt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5PWUsdC5fcmVtb3RlUDJQRW50aXRpZXM9e319cmV0dXJuKDAsdS5kZWZhdWx0KShQMlBDb25uZWN0aW9uUmVzb2x2ZSxbe2tleToiY2hlY2tQMlAiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJ0byIpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KCJUaGUgcDJwIHZlcmlmaWNhdGlvbiB3YXMgZmFpbGVkIik7dmFyIHQ9ZS50by5zcGxpdCgiOi8vIilbMF0scj1lLnRvLnNwbGl0KCI6Ly8iKVsxXS5zcGxpdCgiLyIpWzJdLG49dm9pZCAwO249cj9lLnRvLnN1YnN0cmluZygwLGUudG8uaW5kZXhPZigiLyIrcikpOmUudG87dmFyIGk9e307c3dpdGNoKGUuYm9keSYmZS5ib2R5LnAycCYmKGkucDJwPWUuYm9keS5wMnApLGUuYm9keSYmZS5ib2R5LnAycEhhbmRsZXImJmUuYm9keS5wMnBSZXF1ZXN0ZXImJihpLnAycEhhbmRsZXI9ZS5ib2R5LnAycEhhbmRsZXIsaS5wMnBSZXF1ZXN0ZXI9ZS5ib2R5LnAycFJlcXVlc3RlcixpLnJ1bnRpbWU9ZS5ib2R5LnAycEhhbmRsZXIuc3BsaXQoIi9wMnBoYW5kbGVyLyIpWzBdKSx0KXtjYXNlInJ1bnRpbWUiOnJldHVybiB0aGlzLmNoZWNrUDJQUnVudGltZShuLGkpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2hlY2tQMlBFbnRpdHkobixpKX19fSx7a2V5OiJjaGVja1AyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ci5fcmVtb3RlUDJQRW50aXRpZXNbZV07aWYoaSluKGkpO2Vsc2UgaWYodC5ydW50aW1lKW4odCk7ZWxzZSBpZih0LnAycCl7Zi5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQRW50aXR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsZSk7dmFyIGE9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXtpZihmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBFbnRpdHldIERvbWFpbiBSZWdpc3RyeSByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3QuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSB3aXRoIFAyUEhhbmRsZXIgbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUFJ1bnRpbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7ci5fcmVnaXN0cnkucDJwQ29ubmVjdGlvbkxpc3RbZV0/byh7cnVudGltZTplfSk6dC5ydW50aW1lPyhuPXQsbyhuKSk6aSgiW1JlZ2lzdHJ5LlAyUENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQUnVudGltZV0gTm8gUDJQIENvbm5lY3Rpb24gZm91bmQgdG8gIixlKX0pfX0se2tleToiY2hlY2tQMlBIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7Zm9yKHZhciBhIGluIHIuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0KWlmKGk9ci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3RbYV0sZi5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gLSBmb3IgZWFjaCBIeXBlcnR5OiAiLGkpLGkuaHlwZXJ0eUlEPT09ZSlyZXR1cm4gdm9pZChpLmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bihpKTpvKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixpKSk7aWYoIWkmJnQucnVudGltZSluKHQpO2Vsc2UgaWYoIWkmJnQucDJwKXtmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsaSk7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZihmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSBEb21haW4gUmVnaXN0cnkgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpe3ZhciB0PWUuYm9keS52YWx1ZTtyLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdC5wdXNoKHQpLHQuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBvKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IHdpdGggUDJQSGFuZGxlciBub3QgZm91bmQiLGUuYm9keS5jb2RlKX0pfWVsc2UgbygiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3RbdF0udXJsPT09ZX0pO2lmKDAhPT1pLmxlbmd0aCYmaVswXS5wMnBSZXF1ZXN0ZXIpbihpWzBdKTtlbHNlIGlmKDAhPT1pLmxlbmd0aClvKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBEYXRhIE9iamVjdCBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsaVswXSk7ZWxzZSBpZigwPT09aS5sZW5ndGgmJnQucnVudGltZSluKHQpO2Vsc2UgaWYoaS5sZW5ndGgmJnQucDJwKXt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpyLl9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9yZWdpc3RyeS5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmV9fTtyLl9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe2lmKGYubG9nKCJkaXNjb3ZlciBkYXRhIG9iamVjdCBwZXIgdXJsIHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXt2YXIgdD1lLmJvZHkudmFsdWU7ci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3QucHVzaCh0KSx0LnAycFJlcXVlc3Rlcj9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIERhdGEgT2JqZWN0IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgbygiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIG5vIFAyUCBDb25uZWN0aW9uIGZvdW5kIil9KX19LHtrZXk6ImFkZFJlbW90ZVAyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9yZW1vdGVQMlBFbnRpdGllc1tlXT10fX0se2tleToicmVtb3ZlUmVtb3RlUDJQRW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fcmVtb3RlUDJQRW50aXRpZXNbZV19fSx7a2V5OiJyZWNvbm5lY3RQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGYubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBsZXRzIHRyeSB0byByZWNvbm5lY3QgUDJQIFJlcXVlc3RlciBTdHViOiAiLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnJ1bnRpbWUsaT17dHlwZToiZXhlY3V0ZSIsZnJvbTp0Ll9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzplLnVybCxib2R5OnttZXRob2Q6ImNvbm5lY3QiLHBhcmFtczpbZS5wMnBIYW5kbGVyXX19O3QuX3JlZ2lzdHJ5LndhdGNoaW5nWW91Lm9ic2VydmUoInAycFJlcXVlc3RlclN0dWIiLGZ1bmN0aW9uKGUpe2lmKGYubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YiksZS5rZXlwYXRoLnNwbGl0KCIuIilbMF09PT1vJiYic3RhdHVzIj09PWUubmFtZSlzd2l0Y2goZS5uZXdWYWx1ZSl7Y2FzZSJsaXZlIjpmLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyIGlzIGxpdmUgIit0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW29dKSxyKHQuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbb10udXJsKTticmVhaztjYXNlImZhaWxlZCI6Zi5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltvXSksbigiUDJQIFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkIil9fSksdC5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtmLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcmVjb25uZWN0IHJlcXVlc3QgcmVwbHkiLGUpfSl9KX19XSksUDJQQ29ubmVjdGlvblJlc29sdmV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKTtyKDE0OSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBXYXRjaGluZ1lvdSgpeygwLG8uZGVmYXVsdCkodGhpcyxXYXRjaGluZ1lvdSksdGhpcy5fd2F0Y2hpbmc9e30sdGhpcy5fb2JzZXJ2ZXJzPVtdfXJldHVybigwLGEuZGVmYXVsdCkoV2F0Y2hpbmdZb3UsW3trZXk6IndhdGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3JldHVybiB0aGlzLl93YXRjaGluZ1tlXT1uP09iamVjdC5kZWVwT2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pOk9iamVjdC5vYnNlcnZlKHQsZnVuY3Rpb24odCl7dC5ldmVyeShmdW5jdGlvbih0KXtyLl9maXJlRXZlbnQoZSx0KX0pfSksdGhpcy5fd2F0Y2hpbmdbZV19fSx7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5wdXNoKHtrZXk6ZSxjYWxsYmFjazp0fSl9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayh0KX0pfX1dKSxXYXRjaGluZ1lvdX0oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNyksZD1yKDE1MSkscD1yKDIxNCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1MTIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWwuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZGVudGl0eU1vZHVsZShlLHQscixuLG8saSl7KDAsYS5kZWZhdWx0KSh0aGlzLElkZW50aXR5TW9kdWxlKTt2YXIgcz10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiY3J5cHRvTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lQ2F0YWxvZ3VlIGlzIG1pc3NpbmciKTtzLl9ydW50aW1lVVJMPWUscy5fcnVudGltZUNhdGFsb2d1ZT1pLHMuZGF0YU9iamVjdHNTdG9yYWdlPW4scy5faWRtVVJMPXMuX3J1bnRpbWVVUkwrIi9pZG0iLHMuX2d1aVVSTD1zLl9ydW50aW1lVVJMKyIvaWRlbnRpdHktZ3VpIixzLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCxzLl9kb21haW49KDAsZi5kaXZpZGVVUkwpKHMuX3J1bnRpbWVVUkwpLmRvbWFpbixzLl9pZGVudGl0aWVzPW5ldyB5LmRlZmF1bHQoImh1bWFuIixyKSxzLl9jcnlwdG89byxzLmRhdGFPYmplY3RzSWRlbnRpdHk9e30scy5fbGlzdE9mSWRwcz1bXSxzLmd1aURlcGxveWVkPSExfXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNb2R1bGUsW3trZXk6ImdldElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmdldElkZW50aXR5KGUpfX0se2tleToiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCl7dmFyIHI9ZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnByZWZpeCtlLl9kb21haW4rZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnN1ZmZpeDtvLmRlZmF1bHQuYWxsKFtlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoImJyb3dzZXIiKSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKV0pLnRoZW4oZnVuY3Rpb24obil7dmFyIG89blswXSxpPW5bMV0sYT17Y29uc3RyYWludHM6e319O2EuY29uc3RyYWludHMubm9kZT1pLGEuY29uc3RyYWludHMuYnJvd3Nlcj1vLGUuX3J1bnRpbWVDYXRhbG9ndWUuZ2V0VHlwZUxpc3QocixhKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkb21haW46ZSx0eXBlOiJpZFRva2VuIn19KTtyZXR1cm4gZy5pbmZvKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb246Z2V0SWRlbnRpdGllc1RvQ2hvb3NlXSIscixuKSxlLl9saXN0T2ZJZHBzPW4sdCh7ZGVmYXVsdElkZW50aXR5OmUuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHksaWRlbnRpdGllczplLmlkZW50aXRpZXMuaWRlbnRpdGllcyxpZHBzOm59KX0pfSl9KX19LHtrZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0KXtlLl9pZGVudGl0aWVzLmxvYWRJZGVudGl0aWVzKCkudGhlbihmdW5jdGlvbigpe2UuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fY3J5cHRvLmNyeXB0by5fc2hhMjU2KCgwLGYuc3RyaW5naWZ5KShyKSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj0idXNlci1ndWlkOi8vIityO2UuaWRlbnRpdGllcy5ndWlkPW4sZS5faWRlbnRpdGllcy5sb2FkQWNjZXNzVG9rZW5zKCkudGhlbihmdW5jdGlvbigpe3QoKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7fSl9KX0pfSl9fSx7a2V5OiJnZXRJZGVudGl0eUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjppZGVudGl0eUJ1bmRsZV0iLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoImJyb3dzZXIiKS50aGVuKGZ1bmN0aW9uKG8pe2lmKGcubG9nKCJydW50aW1lIGJyb3dzZXIgaWRlbnRpdHkgYWNxdWlzaXRpb24iLG8pLG8paWYoZSYmZS5oYXNPd25Qcm9wZXJ0eSgiaWRwIikpe3ZhciBpPWUuaWRwLGE9ZS5oYXNPd25Qcm9wZXJ0eSgib3JpZ2luIik/ZS5vcmlnaW46Im9yaWdpbiIscz1lLmhhc093blByb3BlcnR5KCJpZEhpbnQiKT9lLmlkSGludDoiIjtpZih0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5KXt2YXIgdT10LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5O2lmKHUuZXhwaXJlcz4oMCxmLnNlY29uZHNTaW5jZUVwb2NoKSgpKXJldHVybiByKHUpO3UuaGFzT3duUHJvcGVydHkoInJlZnJlc2giKT8oZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbl0gcmVmcmVzaGluZyBhc3NlcnRpb246ICIsdSksdC5fcmVmcmVzaElkQXNzZXJ0aW9uKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbl0gcmVmcmVzaGVkIGFzc2VydGlvbi4iLGUpLHIoZSl9KSk6dC5fZ2V0SWRBc3NlcnRpb25Gb3JEb21haW4oYSxpLHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfWVsc2UgdC5fZ2V0SWRBc3NlcnRpb25Gb3JEb21haW4oYSxpLHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfWVsc2UgaWYodC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSl7dmFyIGM9dC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eTtpZihjLmV4cGlyZXM+KDAsZi5zZWNvbmRzU2luY2VFcG9jaCkoKSlyZXR1cm4gcihjKTtjLmhhc093blByb3BlcnR5KCJyZWZyZXNoIik/KGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gcmVmcmVzaGluZyBhc3NlcnRpb246ICIsYyksdC5fcmVmcmVzaElkQXNzZXJ0aW9uKGMpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb25dIHJlZnJlc2hlZCBhc3NlcnRpb24uIixlKSxyKGUpfSkpOnQuc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZV0gSWRlbnRpdHkgc2VsZWN0ZWQgZnJvbSBHVUkuIiksdC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eT1lLnVzZXJQcm9maWxlLnVzZXJVUkwscihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX1lbHNlIHQuc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZV0gSWRlbnRpdHkgc2VsZWN0ZWQgZnJvbSBHVUkuIiksdC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eT1lLnVzZXJQcm9maWxlLnVzZXJVUkwscihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KSx0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGcubG9nKCJub2RlIGlkZW50aXR5IGFjcXVpc2l0aW9uIixlKSxlKXtpZih0LmlkZW50aXRpZXMuY3VycmVudElkZW50aXR5KXJldHVybiByKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpO2cubG9nKCJnZXRJZGVudGl0eUFzc2VydGlvbiBmb3Igbm9kZWpzIik7dmFyIG89e3R5cGU6ImlkcCIsdmFsdWU6Im5vZGVqcy1pZHAiLGNvZGU6MjAwLGF1dGg6ITF9O3QuY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyhvLnZhbHVlLCJvcmlnaW4iKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9LGZ1bmN0aW9uKGUpe24oZSl9KX19KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KX0pfX0se2tleToiX2dldElkQXNzZXJ0aW9uRm9yRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5KGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9nZXRJZEFzc2VydGlvbkZvckRvbWFpbl0gSWRlbnRpdHkgc2VsZWN0ZWQgYnkgaHlwZXJ0eS4iKSxvKGUpfSxmdW5jdGlvbihlKXtuLnNlbGVjdElkZW50aXR5RnJvbUdVSSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldElkQXNzZXJ0aW9uRm9yRG9tYWluXSBJZGVudGl0eSBzZWxlY3RlZCBieSBoeXBlcnR5LiIpLG8oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSl9KX0pfX0se2tleToiX3JlZnJlc2hJZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc2VuZFJlZnJlc2hNZXNzYWdlKGUpLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSByZWZyZXNoZWQgYXNzZXJ0aW9uOiAiLGUpLHQuaWRlbnRpdGllcy51cGRhdGVBc3NlcnRpb24oZSkudGhlbihmdW5jdGlvbigpe3IoZSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciB1cGRhdGluZyB0aGUgYXNzZXJ0aW9uICIsZSksbihlKX0pfSxmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3IgcmVmcmVzaGluZyB0aGUgYXNzZXJ0aW9uICIsZSksbihlKX0pfSl9fSx7a2V5OiJnZXRVc2Vyc0lEcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmlkZW50aWZpZXJzfX0se2tleToiZGVsZXRlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMucmVtb3ZlSWRlbnRpdHkoZSl9fSx7a2V5OiJyZXF1ZXN0SWRlbnRpdHlUb0dVSSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkZW50aXRpZXNdIixlKSxnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkcHNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoITE9PT1yLmd1aURlcGxveWVkKXt2YXIgaT1yLl9ndWlVUkwsYT1uZXcgdi5kZWZhdWx0KGksci5fbWVzc2FnZUJ1cyk7ci5ndWlGYWtlPWEsci5ndWlEZXBsb3llZD0hMH12YXIgcz17dHlwZToiY3JlYXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7dmFsdWU6e2lkZW50aXRpZXM6ZSxpZHBzOnR9fX0sdT1mdW5jdGlvbihlKXtpZihyLl9tZXNzYWdlQnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5faWRtVVJMLGUuaWQpLDIwMD09PWUuYm9keS5jb2RlKXt2YXIgdD1lLmJvZHk7Zy5sb2coInNlbGVjdGVkSWRlbnRpdHk6ICIsdC52YWx1ZSksbih0KX1lbHNlIG8oImVycm9yIG9uIHJlcXVlc3RpbmcgYW4gaWRlbnRpdHkgdG8gdGhlIEdVSSIpfTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLHUsITEpfWNhdGNoKGUpe28oIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7ci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOmtleV0iLG4pLGk9KDAsZi5zdHJpbmdpZnkpKG4pLGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kc10gTk9fVVJMIiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsInVybCIsZSl9KS50aGVuKGZ1bmN0aW9uKGUpe2U/bihlKTpvKCJFcnJvciBvbiBvYnRhaW5pbmcgSWRlbnRpdHkiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cubG9nKGUpLG8oZSl9KX0pfX0se2tleToiY2FsbEdlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7ci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOmtleV0iLG4pLGk9KDAsZi5zdHJpbmdpZnkpKG4pLGcubG9nKCJnZW5lcmF0ZUFzc2VydGlvbjpub19oaW50Iiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsIiIsZSl9KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiByLm15SGludD1uLGcubG9nKCJnZW5lcmF0ZUFzc2VydGlvbjpoaW50Iiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsbixlKX0pLnRoZW4oZnVuY3Rpb24oZSl7ZT9uKGUpOm8oIkVycm9yIG9uIG9idGFpbmluZyBJZGVudGl0eSIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5lcnJvcihlKSxvKGUpfSl9KX19LHtrZXk6ImxvZ2luU2VsZWN0ZWRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6cHVibGljS2V5XSIsZSksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6b3JpZ2luXSIsdCksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6aWRwXSIsciksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6bG9naW5VcmxdIixuKTt2YXIgaT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8sYSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZV0gb3BlblBvcHVwIiksaS5jYWxsSWRlbnRpdHlNb2R1bGVGdW5jKCJvcGVuUG9wdXAiLHt1cmxyZWNlaXZlZDpufSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZX0sZnVuY3Rpb24oZSl7cmV0dXJuIGcuZXJyb3IoIkVycm9yIHdoaWxlIGxvZ2dpbmcgaW4gZm9yIHRoZSBzZWxlY3RlZCBpZGVudGl0eS4iKSxhKGUpfSkudGhlbihmdW5jdGlvbihuKXtpLnNlbmRHZW5lcmF0ZU1lc3NhZ2UoZSx0LG4scikudGhlbihmdW5jdGlvbihlKXtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIikpcmV0dXJuIGcuZXJyb3IoIkVycm9yIHdoaWxlIGxvZ2dpbmcgaW4gZm9yIHRoZSBzZWxlY3RlZCBpZGVudGl0eS4iKSxhKCJDb3VsZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBhc3NlcnRpb24gZm9yIHNlbGVjdGVkIGlkZW50aXR5LiIpO2kuaWRlbnRpdGllcy5hZGRBc3NlcnRpb24oZSkudGhlbihmdW5jdGlvbihlKXtvKCJMb2dpbiB3YXMgc3VjY2Vzc2Z1bGwiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2EoIkxvZ2luIGhhcyBmYWlsZWQ6IitlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7YSgiT24gbG9naW5TZWxlY3RlZElkZW50aXR5IGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICAiK2UpfSl9KX0pfX0se2tleToic2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6b3JpZ2luXSIsZSksZy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6aWRwXSIsdCksZy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6aWRIaW50XSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIHM9KDAsZi5zdHJpbmdpZnkpKGEpO24uc2VuZEdlbmVyYXRlTWVzc2FnZShzLGUscix0KS50aGVuKGZ1bmN0aW9uKHIpe3IuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpP24uaWRlbnRpdGllcy5hZGRBc3NlcnRpb24ocikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhyKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KTpyLmhhc093blByb3BlcnR5KCJsb2dpblVybCIpP24ubG9naW5TZWxlY3RlZElkZW50aXR5KHMsZSx0LHIubG9naW5VcmwpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSk6KGcubG9nKCJQcm9jZWVkaW5nIGJ5IGxvZ2dpbmcgaW4uIiksbi5jYWxsR2VuZXJhdGVNZXRob2RzKHQsZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBzZWxlY3RJZGVudGl0eUZvckh5cGVydHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIHNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eSBmcm9tIG1ldGhvZCBnZW5lcmF0ZVJTQUtleVBhaXIgZXJyb3I6ICAiK2UpfSl9KX19LHtrZXk6InNlbGVjdElkZW50aXR5RnJvbUdVSSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnLmxvZygiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSTpvcmlnaW5dIixlKTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dC5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlcXVlc3RJZGVudGl0eVRvR1VJKGUuaWRlbnRpdGllcyxlLmlkcHMpfSkudGhlbihmdW5jdGlvbih0KXtpZigiaWRlbnRpdHkiPT09dC50eXBlKXIuaWRlbnRpdGllcy5pZGVudGl0aWVzW3QudmFsdWVdP24oci5pZGVudGl0aWVzLmlkZW50aXRpZXNbdC52YWx1ZV0pOm8oIltJZGVudGl0eU1vZHVsZS5zZWxlY3RJZGVudGl0eUZyb21HVUldIGlkZW50aXR5IG5vdCBmb3VuZDogIix0LnZhbHVlKTtlbHNle2lmKCJpZHAiIT09dC50eXBlKXJldHVybiBvKCJlcnJvciBvbiBHVUkgcmVjZWl2ZWQgbWVzc2FnZS4iKTtyLmNhbGxHZW5lcmF0ZU1ldGhvZHModC52YWx1ZSxlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIHNlbGVjdElkZW50aXR5RnJvbUdVSSBmcm9tIG1ldGhvZCByZXF1ZXN0SWRlbnRpdHlUb0dVSSBlcnJvcjogICIrZSl9KX0pfX0se2tleToiY2FsbElkZW50aXR5TW9kdWxlRnVuYyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxJZGVudGl0eU1vZHVsZUZ1bmM6bWV0aG9kTmFtZV0iLGUpLGcubG9nKCJbY2FsbElkZW50aXR5TW9kdWxlRnVuYzpwYXJhbWV0ZXJzXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXt0eXBlOiJleGVjdXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ZSxwYXJhbXM6dH19LGE9ZnVuY3Rpb24oZSl7ci5fbWVzc2FnZUJ1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX2lkbVVSTCxlLmlkKTt2YXIgdD1lLmJvZHkudmFsdWU7bih0KX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxhLCExKX1jYXRjaChlKXtvKCJJbiBtZXRob2QgY2FsbElkZW50aXR5TW9kdWxlRnVuYyBlcnJvcjogIitlKX19KX19LHtrZXk6ImdldFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS50bztyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInNvdXJjZSIpJiYocj1lLmJvZHkuc291cmNlKSwiZm9yd2FyZCI9PT1lLnR5cGUmJihyPWUuYm9keS5mcm9tKSxlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3Vic2NyaWJlciIpJiYocj1lLmJvZHkuc3Vic2NyaWJlciksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIGZvciBtc2cgIixlKSx0LnJlZ2lzdHJ5LmlzTGVnYWN5KG4pLnRoZW4oZnVuY3Rpb24obil7bj90Ll9nZXRBY2Nlc3NUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIGFjY2VzcyB0b2tlbiAiLGUpLG8oKDAsZi5kZWVwQ2xvbmUpKGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gQWNjZXNzIFRva2VuIGVycm9yICIrZSl9KTp0Ll9nZXRWYWxpZFRva2VuKHIpLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGdldFRva2VuIGZyb20gbWV0aG9kIF9nZXRWYWxpZFRva2VuIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBnZXRUb2tlbiBmcm9tIG1ldGhvZCBpc0xlZ2FjeSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJnZXRJZFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtnLmluZm8oImdldElkVG9rZW46aHlwZXJ0eVVSTCAiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnNwbGl0KCI6Ly8iKSxpPXZvaWQgMDtpZigiaHlwZXJ0eSI9PT1vWzBdKXtpZihpPXQucmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUpKXt2YXIgYT10LmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkoaSk7cmV0dXJuIGE/cihhKTpuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gSWRlbnRpdHkgbm90IGZvdW5kIGZvcjogIixpKX1yZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIFVzZXIgbm90IGZvdW5kIGZvciBoeXBlcnR5OiAiLGkpfXQuX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdChlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGk9dC5yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSkpe3ZhciBvPXQuaWRlbnRpdGllcy5nZXRJZGVudGl0eShpKTtyZXR1cm4gbz9yKG8pOm4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBJZGVudGl0eSBub3QgZm91bmQgZm9yOiAiLGkpfXJldHVybiBuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gVXNlciBub3QgZm91bmQgZm9yIGh5cGVydHk6ICIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gRXJyb3I6ICIsZSksbihlKX0pfSl9fSx7a2V5OiJfZ2V0QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG8scj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4pe2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5IikpcmV0dXJuIHJlamVjdCgiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHk6ICIsZSk7aWYoIWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keSB2YWx1ZTogIixlKTtpZighZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZXMiKSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keSB2YWx1ZSByZXNvdXJjZXM6ICIsZSk7dmFyIG89KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbjt0LmluY2x1ZGVzKCJwcm90b3N0dWIiKSYmKG89by5yZXBsYWNlKG8uc3BsaXQoIi4iKVswXSsiLiIsIiIpKTt2YXIgaT1lLmJvZHkudmFsdWUucmVzb3VyY2VzO3IuX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluKG8saSkudGhlbihmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6Il9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dHJ5e249ci5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKGUsdCl9Y2F0Y2goZSl7cmV0dXJuIGkoIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2Vycil9aWYobil7aWYoImluLXByb2dyZXNzIj09PW4uc3RhdHVzKXJldHVybiBvKHIuX2luUHJvZ3Jlc3NBY2Nlc3NUb2tlbihlLHQpKTt2YXIgYT0oMCxmLnNlY29uZHNTaW5jZUVwb2NoKSgpO2lmKGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluXSBmb3VuZCAgQWNjZXNzIFRva2VuICIsbiksIShhPj1uLmV4cGlyZXMpKXJldHVybiBvKCgwLGYuZGVlcENsb25lKShuKSk7aWYoIW4uaGFzT3duUHJvcGVydHkoInJlZnJlc2giKSlyZXR1cm4gbyhyLl9nZXROZXdBY2Nlc3NUb2tlbihlLHQpKTtyLl9yZWZyZXNoQWNjZXNzVG9rZW4oKDAsZi5kZWVwQ2xvbmUpKG4pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKHIuaWRlbnRpdGllcy51cGRhdGVBY2Nlc3NUb2tlbihlKSl9KX1lbHNlIHIuX2dldE5ld0FjY2Vzc1Rva2VuKGUsdCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW5dIG5ldyBBY2Nlc3MgVG9rZW4gIixlKSxvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbl0gb24gZ2V0TmV3QWNjZXNzVG9rZW4gIitlKX0pfSl9fSx7a2V5OiJfaW5Qcm9ncmVzc0FjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5pZGVudGl0aWVzLndhdGNoaW5nWW91Lm9ic2VydmUoImFjY2Vzc1Rva2VucyIsZnVuY3Rpb24obil7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuXSBhY2Nlc3NUb2tlbnMgY2hhbmdlZCAiK3IuaWRlbnRpdGllcy5hY2Nlc3NUb2tlbnMpO3ZhciBvPW4ua2V5cGF0aDtpZihvLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG89by5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG89PT1lJiYic3RhdHVzIj09PW4ubmFtZSYmImNyZWF0ZWQiPT09bi5uZXdWYWx1ZSlyZXR1cm4gci5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKGUsdCl9KX19LHtrZXk6Il9nZXROZXdBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5pZGVudGl0aWVzLnNldEFjY2Vzc1Rva2VuSW5Qcm9ncmVzcyhlKTt2YXIgaT17dHlwZToiZXhlY3V0ZSIsdG86ci5fcmVzb2x2ZURvbWFpbihlKSxmcm9tOnIuX2lkbVVSTCxib2R5OnttZXRob2Q6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IixwYXJhbXM6dH19O3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIG8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuYm9keS52YWx1ZX0pLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm9wZW5Qb3B1cF0gYXVodG9yaXNhdGlvbiByZXN1bHQ6ICIsZSksaS5ib2R5Lm1ldGhvZD0iZ2V0QWNjZXNzVG9rZW4iLGkuYm9keS5wYXJhbXM9e3Jlc291cmNlczp0LGxvZ2luOmV9LHIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIG8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuIGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmlkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW4oZS5ib2R5LnZhbHVlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIHJlc29sdmluZyB0b2tlbjogIix0KSxuKGUuYm9keS52YWx1ZSl9LGZ1bmN0aW9uKGUpe28oZSl9KX0pfSxmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToiX3JlZnJlc2hBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coIklkZW50aXR5TW9kdWxlLl9yZWZyZXNoQWNjZXNzVG9rZW46b3V0ZGF0ZWRUb2tlbiIsZSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuX3Jlc29sdmVEb21haW4oZS5kb21haW4pLGk9dm9pZCAwO2k9e3R5cGU6ImV4ZWN1dGUiLHRvOm8sZnJvbTp0Ll9pZG1VUkwsYm9keTp7bWV0aG9kOiJyZWZyZXNoQWNjZXNzVG9rZW4iLHBhcmFtczp7dG9rZW46ZX19fTt0cnl7dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS52YWx1ZTtyKHQpfSl9Y2F0Y2goZSl7bigiSW4gSWRlbnRpdHlNb2R1bGUuX3JlZnJlc2hBY2Nlc3NUb2tlbiBvbiBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6InNlbmRSZWZyZXNoTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuX3Jlc29sdmVEb21haW4oZS5pZHAuZG9tYWluKSxpPXZvaWQgMCxhPXQuZ2V0SWRlbnRpdHkoZS51c2VyUHJvZmlsZS51c2VyVVJMKTtnLmluZm8oInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksaT17dHlwZToiZXhlY3V0ZSIsdG86byxmcm9tOnQuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoicmVmcmVzaEFzc2VydGlvbiIscGFyYW1zOntpZGVudGl0eTphfX19O3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IodCl9KX1jYXRjaChlKXtuKCJJbiBzZW5kUmVmcmVzaE1lc3NhZ2Ugb24gcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJnZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW46aWRwRG9tYWluXSIsZSk7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe3ZhciBhPW4uX3Jlc29sdmVEb21haW4oZSkscz12b2lkIDA7cz17dHlwZToiZXhlY3V0ZSIsdG86YSxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW4iLHBhcmFtczp7cmVzb3VyY2VzOnQsbG9naW46cn19fTt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKGUuYm9keS5jb2RlPDI5OSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO28odCl9ZWxzZSBvKGUuYm9keSl9KX1jYXRjaChlKXtpKCJJZGVudGl0eU1vZHVsZS5JbiBnZXRBY2Nlc3NUb2tlbjogIitlKX19KX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQ6aWRwRG9tYWluXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3Jlc29sdmVEb21haW4odCksYT12b2lkIDA7YT17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiLHBhcmFtczp7cmVzb3VyY2VzOmV9fX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7bih0KX0pfWNhdGNoKGUpe28oIkluIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50OiAiK2UpfX0pfX0se2tleToic2VuZEdlbmVyYXRlTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOmNvbnRlbnRzXSIsZSksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOm9yaWdpbl0iLHQpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6aWRwRG9tYWluXSIsbiksZy5sb2coInNlbmRHZW5lcmF0ZU1lc3NhZ2VfaGludCIpO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxhKXt2YXIgcz1pLl9yZXNvbHZlRG9tYWluKG4pLHU9dm9pZCAwO3U9e3R5cGU6ImV4ZWN1dGUiLHRvOnMsZnJvbTppLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ImdlbmVyYXRlQXNzZXJ0aW9uIixwYXJhbXM6e2NvbnRlbnRzOmUsb3JpZ2luOnQsdXNlcm5hbWVIaW50OnJ9fX07dHJ5e2kuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodSxmdW5jdGlvbihlKXtlLmJvZHkuY29kZTwzMDA/byhlLmJvZHkudmFsdWUpOmEoZS5ib2R5KX0pfWNhdGNoKGUpe2EoIkluIHNlbmRHZW5lcmF0ZU1lc3NhZ2U6ICIrZSl9fSl9fSx7a2V5OiJnZW5lcmF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjpjb250ZW50c10iLGUpLGcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOmlkcERvbWFpbl0iLG4pO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxhKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOnNlbmRHZW5lcmF0ZU1lc3NhZ2U6c2VuZEdlbmVyYXRlTWVzc2FnZV0iLHIpLGkuc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQscixuKS50aGVuKGZ1bmN0aW9uKGUpe2U/aS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKHQpe28oZSl9LGZ1bmN0aW9uKGUpe2EoZSl9KTphKCJlcnJvciBvbiBvYnRhaW5pbmcgaWRlbnRpdHkgaW5mb3JtYXRpb24iKX0sZnVuY3Rpb24oZSl7ZS5oYXNPd25Qcm9wZXJ0eSgiZGVzY3JpcHRpb24iKSYmZS5kZXNjcmlwdGlvbi5oYXNPd25Qcm9wZXJ0eSgibG9naW5VcmwiKT9pLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuZGVzY3JpcHRpb24ubG9naW5Vcmx9KS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6Y2FsbElkZW50aXR5TW9kdWxlRnVuYzpvcGVuUG9wdXBdIixyKSxvKGUpfSxmdW5jdGlvbihlKXthKGUpfSk6KGcuZXJyb3IoIltJZGVudGl0eU1vZHVsZTpzZW5kR2VuZXJhdGVNZXNzYWdlXSBnZW5lcmF0ZSBhc3NlcnRpb24gd2l0aCBoaW50IGVycm9yICIsZSksYShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXthKCJPbiBnZW5lcmF0ZUFzc2VydGlvbiBmcm9tIG1ldGhvZCBzZW5kR2VuZXJhdGVNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6InZhbGlkYXRlQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjphc3NlcnRpb25dIixlKSxnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOm9yaWdpbl0iLHQpLGcubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246aWRwRG9tYWluXSIscik7dmFyIG49dGhpcyxpPW4uX3Jlc29sdmVEb21haW4ociksYT17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoidmFsaWRhdGVBc3NlcnRpb24iLHBhcmFtczp7YXNzZXJ0aW9uOmUsb3JpZ2luOnR9fX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlP2Uoci5ib2R5LnZhbHVlKTp0KCJlcnJvciIsci5ib2R5LmNvZGUpfSl9Y2F0Y2goZSl7dCgiT24gdmFsaWRhdGVBc3NlcnRpb24gZnJvbSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJhZGRHVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUuX2lkbVVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kO2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6YWRkR1VJTGlzdGVuZXJzXSIsdCx0LmJvZHkscik7dmFyIG49dm9pZCAwO2lmKCJkZXBsb3lHVUkiPT09ciluPWUuZGVwbG95R1VJKCk7ZWxzZXtpZigiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIj09PXIpcmV0dXJuIHZvaWQgZS5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSk7aWYoInVucmVnaXN0ZXJJZGVudGl0eSI9PT1yKXt2YXIgbz10LmJvZHkucGFyYW1zLmVtYWlsO249ZS51bnJlZ2lzdGVySWRlbnRpdHkobyl9ZWxzZXtpZigiZ2V0TXlQdWJsaWNLZXkiPT09cilyZXR1cm4gdm9pZCBlLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKHIpe3I9KDAsZi5zdHJpbmdpZnkpKHIpO3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgZ2VuZXJhdGVSU0FLZXlQYWlyIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KTtpZigic2VuZEdlbmVyYXRlTWVzc2FnZSI9PT1yKXt2YXIgaT10LmJvZHkucGFyYW1zLmNvbnRlbnRzLGE9dC5ib2R5LnBhcmFtcy5vcmlnaW4scz10LmJvZHkucGFyYW1zLnVzZXJuYW1lSGludCx1PXQuYm9keS5wYXJhbXMuaWRwRG9tYWluLGM9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG99O3JldHVybiB2b2lkIGUuc2VuZEdlbmVyYXRlTWVzc2FnZShpLGEscyx1KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXt0eXBlOiJleGVjdXRlIix2YWx1ZTp0LGNvZGU6MjAwfTtjLmJvZHk9cjt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShjKX1jYXRjaChlKXtnLmVycm9yKCJJZGVudGl0eU1vZHVsZS5hZGRHVUlMaXN0ZW5lcnMgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogIitlKX19LGZ1bmN0aW9uKHQpe2cuaW5mbygiSURQUHJveHkgZ2VuZXJhdGVBc3NlcnRpb24gcmVwbHkgZXJyb3IgIit0KSxjLmJvZHk9dCxlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMpfSl9aWYoImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50Ij09PXIpe3ZhciBsPXQuYm9keS5wYXJhbXMuc2NvcGUsZD10LmJvZHkucGFyYW1zLmlkcERvbWFpbjtyZXR1cm4gdm9pZCBlLmdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50KGwsZCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJhZGRBY2Nlc3NUb2tlbiI9PT1yKXt2YXIgcD10LmJvZHkucGFyYW1zO3JldHVybiB2b2lkIGUuaWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbihwKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImdldEFjY2Vzc1Rva2VuIj09PXIpe3ZhciB5PXQuYm9keS5wYXJhbXMuaWRwRG9tYWluLGg9dC5ib2R5LnBhcmFtcy5yZXNvdXJjZXMsdj10LmJvZHkucGFyYW1zLmxvZ2luLF89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG99O3JldHVybiB2b2lkIGUuZ2V0QWNjZXNzVG9rZW4oeSxoLHYpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnQsY29kZToyMDB9O18uYm9keT1yO3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKF8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0sZnVuY3Rpb24odCl7dHJ5e18uYm9keT10LGUuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoXyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc2VuZEdlbmVyYXRlTWVzc2FnZSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImFkZEFzc2VydGlvbiI9PT1yKXt2YXIgYj10LmJvZHkucGFyYW1zO3JldHVybiB2b2lkIGUuaWRlbnRpdGllcy5hZGRBc3NlcnRpb24oYikudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJyZWZyZXNoQWNjZXNzVG9rZW4iPT09cil7dmFyIG09dC5ib2R5LnBhcmFtcy5kb21haW4sUj10LmJvZHkucGFyYW1zLnJlc291cmNlcztyZXR1cm4gdm9pZCBlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbihtLFIpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTp7dmFsdWU6ci5hY2Nlc3NUb2tlbixjb2RlOjIwMH19O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmb3IgcmVmcmVzaEFjY2Vzc1Rva2VuIHJlcXVlc3Q6ICIrZSl9fSl9fX12YXIgTz17dHlwZToiZXhlY3V0ZSIsdmFsdWU6bixjb2RlOjIwMH0sdz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Ok99O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHcpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZGVwbG95R1VJIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3VpRGVwbG95ZWQ9ITB9fSx7a2V5OiJfZ2V0VmFsaWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0VmFsaWRUb2tlbl06aHlwZXJ0eVVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ2V0SWRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldFZhbGlkVG9rZW5dIHJldHJpZXZlZCBJZEFzc2VydGlvbiIsZSk7dmFyIG89KDAsZi5zZWNvbmRzU2luY2VFcG9jaCkoKTtpZighZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpKXJldHVybiByKGUpO3ZhciBpPWUuZXhwaXJlcztnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIFRva2VuIGV4cGlyZXMgaW4iLGkpLGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gdGltZSBub3c6IixvKSxvPj1pP2UuaGFzT3duUHJvcGVydHkoInJlZnJlc2giKT8oZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSByZWZyZXNoaW5nIGFzc2VydGlvbjogIixlKSx0LnNlbmRSZWZyZXNoTWVzc2FnZShlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gcmVmcmVzaGVkIGFzc2VydGlvbjogIixlKSx0LmlkZW50aXRpZXMudXBkYXRlQXNzZXJ0aW9uKGUpLnRoZW4oZnVuY3Rpb24oKXtyKGUpfSxmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3IgdXBkYXRpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHJlZnJlc2hpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KSk6dC5jYWxsR2VuZXJhdGVNZXRob2RzKGUuaWRwLmRvbWFpbikudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHdoZW4gZ2VuZXJhdGluZyBhIG5ldyBhc3NlcnRpb24gIitlKX0pOnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3Igb24gZ2V0SWRUb2tlbiIsZSksbihlKX0pfSl9fSx7a2V5OiJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6ZGF0YU9iamVjdFVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLGYuZGl2aWRlVVJMKShlKSxpPW8uZG9tYWluLGE9KDAsZi5wYXJzZU1lc3NhZ2VVUkwpKGUpLHM9dC5yZWdpc3RyeS5nZXRSZXBvcnRlclVSTFN5bmNob25vdXMoYSk7aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnJlcG9ydGVyVVJMIixzKSxzKXIocyk7ZWxzZXt2YXIgdT10LmRhdGFPYmplY3RzSWRlbnRpdHlbYV07aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN0b3JlZFJlcG9ydGVyVVJMIix1KSx1KXIodSk7ZWxzZXt2YXIgYz10LnJlZ2lzdHJ5LmdldERhdGFPYmplY3RTdWJzY3JpYmVySHlwZXJ0eShlKTtnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6c3Vic2NyaWJlckh5cGVydHkiLGMpLGM/cihjKTp0Ll9jb3JlRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChhLGkpLnRoZW4oZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3QiLGUpLHQuZGF0YU9iamVjdHNJZGVudGl0eVthXT1lLnJlcG9ydGVyLGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0LnJlcG9ydGVyIixlLnJlcG9ydGVyKSxyKGUucmVwb3J0ZXIpfSxmdW5jdGlvbihlKXtuKGUpfSl9fX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pZGVudGl0aWVzPWV9fSx7a2V5OiJpZHBzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdE9mSWRwc319XSksSWRlbnRpdHlNb2R1bGV9KCk7dC5kZWZhdWx0PV8sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUwOSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDUxMCksZS5leHBvcnRzPXIoMTEpLk51bWJlci5pc0ludGVnZXJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KTtuKG4uUywiTnVtYmVyIix7aXNJbnRlZ2VyOnIoNTExKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSksbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hbihlKSYmaXNGaW5pdGUoZSkmJm8oZSk9PT1lfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksaT1yKDQpLGE9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShpKSxzPWEuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLHU9ZnVuY3Rpb24gR3VpRmFrZShlLHQpeygwLG8uZGVmYXVsdCkodGhpcyxHdWlGYWtlKSxzLmxvZygiRmFrZUdVSV9kZXBsb3llZCIpO3ZhciByPXRoaXM7ci5fdXJsPWUsci5fd2FpdFRpbWU9MWU0LHIuX21lc3NhZ2VCdXM9dCxyLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHIuX3VybCxmdW5jdGlvbihlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJiJjcmVhdGUiPT09ZS50eXBlJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJmUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdGllcyIpJiZlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImlkcHMiKSl7dmFyIHQ9ZS5ib2R5LnZhbHVlLmlkZW50aXRpZXMsbj1lLmJvZHkudmFsdWUuaWRwcyxvPXZvaWQgMDtvPXZvaWQgMCE9PXRbMF0/e3R5cGU6ImlkZW50aXR5Iix2YWx1ZTp0WzBdLGNvZGU6MjAwfTp7dHlwZToiaWRwIix2YWx1ZTpuWzFdLmRvbWFpbixjb2RlOjIwMH07dmFyIGk9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTpvfTsid2FpdCI9PT1lLmJvZHkudmFsdWU/c2V0VGltZW91dChmdW5jdGlvbigpe3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9LHIuX3dhaXRUaW1lKTpyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWVsc2Ugcy5sb2coIklnbm9yaW5nIG1lc3NhZ2VzIG5vdCBpbnRlbmRlZCB0byBGYWtlR1VJLiIsZSl9KX07dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1yKDIxNCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9bC5nZXRMb2dnZXIoIklkZW50aXR5SGFuZGxlciIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZGVudGl0eUhhbmRsZXIoZSl7KDAsYS5kZWZhdWx0KSh0aGlzLElkZW50aXR5SGFuZGxlciksdGhpcy5faWRtPWV9cmV0dXJuKDAsdS5kZWZhdWx0KShJZGVudGl0eUhhbmRsZXIsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lkbS5pZGVudGl0aWVzPW5ldyBkLmRlZmF1bHQodGhpcy5faWRtLmlkZW50aXRpZXMuX3R5cGUsdGhpcy5faWRtLmlkZW50aXRpZXMuX3N0b3JhZ2VNYW5hZ2VyKX19LHtrZXk6Il9pc1RvU2V0SUQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iXSxyPWUuZnJvbTtpZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSwiZm9yd2FyZCI9PT1lLnR5cGUpcmV0dXJuITE7aWYoci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKXx8ci5pbmNsdWRlcygiL3AycGhhbmRsZXIvIikpcmV0dXJuITE7dmFyIG49ci5zcGxpdCgiOi8vIiksbz1uWzBdO3JldHVybi0xPT09dC5pbmRleE9mKG8pfX0se2tleToicHJvY2Vzc01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHAubG9nKCJbSWRlbnRpdHlIYW5kbGVyLnByb2Nlc3NNZXNzYWdlXSAiLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZighdC5faXNUb1NldElEKGUpKXJldHVybiByKGUpO3QuX2lkbS5nZXRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8KGUuYm9keT17fSksZS5ib2R5LmlkZW50aXR5PXQscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3AuZXJyb3IoZSksbihlKX0pfSl9fV0pLElkZW50aXR5SGFuZGxlcn0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNTE1KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDUxNikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1MTcpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPShyKDcpLGwuZ2V0TG9nZ2VyKCJQRVAiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIFBFUChlKXsoMCxhLmRlZmF1bHQpKHRoaXMsUEVQKTt2YXIgdD10aGlzO3QucGRwPW5ldyB5LmRlZmF1bHQoZSksdC5hY3Rpb25zU2VydmljZT1uZXcgZC5kZWZhdWx0KGUpLHQuY29udGV4dD1lLGUucGVwPXQsZS5sb2FkQ29uZmlndXJhdGlvbnMoKX1yZXR1cm4oMCx1LmRlZmF1bHQpKFBFUCxbe2tleToiYWRkR1VJTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jb250ZXh0Lm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5jb250ZXh0LnBlcFVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kLG49dm9pZCAwO2lmKCJhZGRUb0dyb3VwIj09PXIpe3ZhciBvPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLGk9dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQuYWRkVG9Hcm91cChvLGkpfWVsc2UgaWYoImNyZWF0ZUdyb3VwIj09PXIpe3ZhciBhPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmNyZWF0ZUdyb3VwKGEpfWVsc2UgaWYoImFkZFBvbGljeSI9PT1yKXt2YXIgcz10LmJvZHkucGFyYW1zLnNvdXJjZSx1PXQuYm9keS5wYXJhbXMua2V5LGM9dC5ib2R5LnBhcmFtcy5wb2xpY3ksbD10LmJvZHkucGFyYW1zLmNvbWJpbmluZ0FsZ29yaXRobTtuPWUuYWRkUG9saWN5KHMsdSxjLGwpfWVsc2UgaWYoImRlbGV0ZUdyb3VwIj09PXIpe3ZhciBmPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmRlbGV0ZUdyb3VwKGYpfWVsc2UgaWYoInJlbW92ZVBvbGljeSI9PT1yKXt2YXIgZD10LmJvZHkucGFyYW1zLnNvdXJjZSxwPXQuYm9keS5wYXJhbXMua2V5O249ZS5yZW1vdmVQb2xpY3koZCxwKX1lbHNlIGlmKCJzYXZlUG9saWNpZXMiPT09cil7dmFyIHk9dC5ib2R5LnBhcmFtcy5zb3VyY2U7bj1lLmNvbnRleHQuc2F2ZVBvbGljaWVzKHkpfWVsc2UgaWYoInVzZXJQb2xpY2llcyI9PT1yKW49ZS5jb250ZXh0LnVzZXJQb2xpY2llcztlbHNlIGlmKCJhY3RpdmVVc2VyUG9saWN5Ij09PXIpe3ZhciBoPXQuYm9keS5wYXJhbXMudXNlclBvbGljeTtoJiYoZS5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9aCksbj1lLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeX1lbHNlIGlmKCJ1c2VyUG9saWN5Ij09PXIpe3ZhciB2PXQuYm9keS5wYXJhbXMua2V5O249ZS5jb250ZXh0LnVzZXJQb2xpY2llc1t2XX1lbHNlInNhdmVBY3RpdmVQb2xpY3kiPT09cj9uPWUuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk6ImdldE15RW1haWxzIj09PXI/bj1lLmNvbnRleHQuZ2V0TXlFbWFpbHMoKToiZ2V0TXlIeXBlcnRpZXMiPT09cj9uPWUuY29udGV4dC5nZXRNeUh5cGVydGllcygpOiJncm91cHMiPT09cj9uPWUuY29udGV4dC5ncm91cHM6ImdldEdyb3Vwc05hbWVzIj09PXImJihuPWUuY29udGV4dC5nZXRHcm91cHNOYW1lcygpKTtpZigicmVtb3ZlRnJvbUdyb3VwIj09PXIpe3ZhciBnPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLF89dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQucmVtb3ZlRnJvbUdyb3VwKGcsXyl9dmFyIGI9e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOm4sY29kZToyMDB9LG09e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpifTtlLmNvbnRleHQubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtKX0pfX0se2tleToiYWRkUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKHZvaWQgMD09PXI/cj1uZXcgdi5kZWZhdWx0KHQsW10sW10sbik6ciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmtleSxyLnJ1bGVzLHIuYWN0aW9ucyxyLmNvbWJpbmluZ0FsZ29yaXRobSkpLGUpe2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlLHIsdCk7YnJlYWs7Y2FzZSJVU0VSIjp0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdPXIsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToiYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUuZnJvbSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UuZnJvbSBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLnRvKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS50byBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLnR5cGUgaXMgbm90IGRlZmluZWQiKTtyZXR1cm4gZS5ib2R5PWUuYm9keXx8e30sbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2UuYm9keT1lLmJvZHl8fHt9O3ZhciBpPXIsYT1pLnBkcC5ldmFsdWF0ZVBvbGljaWVzKGUsdCk7Ik5vdCBBcHBsaWNhYmxlIj09PWEmJihhPWkuY29udGV4dC5kZWZhdWx0QmVoYXZpb3VyLGUuYm9keS5hdXRoPSExKSxpLmFjdGlvbnNTZXJ2aWNlLmVuZm9yY2VQb2xpY2llcyhlLHQpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciByIGluIHQpaWYoZT10W3JdLGEpZS5ib2R5LmF1dGg9dm9pZCAwPT09ZS5ib2R5LmF1dGh8fGUuYm9keS5hdXRoLG4oZSk7ZWxzZXt2YXIgaT17Ym9keTp7Y29kZTo0MDMsZGVzY3JpcHRpb246IkJsb2NrZWQgYnkgcG9saWN5In0sZnJvbTplLnRvLHRvOmUuZnJvbSx0eXBlOiJyZXNwb25zZSJ9O28oaSl9fSxmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImF1dGhvcmlzZVN5bmMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4gZS5ib2R5PWUuYm9keXx8e30sdD10aGlzLnBkcC5ldmFsdWF0ZVBvbGljaWVzKGUsITApLCJOb3QgQXBwbGljYWJsZSI9PT10JiYodD10aGlzLmNvbnRleHQuZGVmYXVsdEJlaGF2aW91ciksdH19LHtrZXk6InJlbW92ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCIqIiE9PWUmJiF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKGUpe2Nhc2UiKiI6dGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljeT17fSx0aGlzLmNvbnRleHQudXNlclBvbGljaWVzPXt9LHRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJVU0VSIiksdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiU0VSVklDRV9QUk9WSURFUiIpLHRoaXMuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk7YnJlYWs7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjpkZWxldGUgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljeVt0XSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCk7YnJlYWs7Y2FzZSJVU0VSIjpkZWxldGUgdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1t0XSx0PT09dGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3kmJih0aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsdGhpcy5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKSksdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiVVNFUiIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gcG9saWN5IHNvdXJjZTogIitlKX19fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lm1lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29udGV4dC5tZXNzYWdlQnVzPWUsdC5hZGRHVUlMaXN0ZW5lcnMoKX19XSksUEVQfSgpKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIEFjdGlvbnNTZXJ2aWNlKGUpeygwLGEuZGVmYXVsdCkodGhpcyxBY3Rpb25zU2VydmljZSksdGhpcy5jb250ZXh0PWV9cmV0dXJuKDAsdS5kZWZhdWx0KShBY3Rpb25zU2VydmljZSxbe2tleToiZW5mb3JjZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1yLmNvbnRleHQuZ2V0UG9saWNpZXMoZSx0KTt2b2lkIDAhPT1pP3ZvaWQgMCE9PWkuc2VydmljZVByb3ZpZGVyUG9saWN5P2kuc2VydmljZVByb3ZpZGVyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KTp2b2lkIDAhPT1pLnVzZXJQb2xpY3k/aS51c2VyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KTpuKFtlXSk6bihbZV0pfSl9fSx7a2V5OiJmb3J3YXJkVG9JRCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuaHlwZXJ0aWVzTGlzdFswXS5oeXBlcnR5VVJMPT09ZS50byl7InJ1bnRpbWUiIT09ZS50by5zcGxpdCgiOi8vIilbMF0/ci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHQpLnRoZW4oZnVuY3Rpb24odCl7ZS50bz10Lmh5cGVydHlVUkwsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSxmdW5jdGlvbihlKXtvKGUpfSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6ImZvcndhcmRUb0h5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZighci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoImZvcndhcmQgbWVzc2FnZSB0byBnaXZlbiBJRCBpcyB1bnN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Iik7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT8oZS50bz10LGUuYm9keS52aWE9dm9pZCAwLG4oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6InNlbmRBdXRvbWF0aWNNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89e2Zyb206ZS50byx0bzplLmZyb20sYm9keTp7dmFsdWU6dH0sdHlwZTplLnR5cGV9O24oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX0pfX1dKSxBY3Rpb25zU2VydmljZX0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNTIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUERQKGUpeygwLG8uZGVmYXVsdCkodGhpcyxQRFApLHRoaXMuY29udGV4dD1lLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9cmV0dXJuKDAsYS5kZWZhdWx0KShQRFAsW3trZXk6ImV2YWx1YXRlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb250ZXh0LmdldFBvbGljaWVzKGUsdCksbj0iTm90IEFwcGxpY2FibGUiO2lmKHZvaWQgMCE9PXImJigobj10aGlzLmV2YWx1YXRlUG9saWN5KGUsci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3ksdCkpfHwiTm90IEFwcGxpY2FibGUiPT09bikpe3ZhciBvPXRoaXMuZXZhbHVhdGVQb2xpY3koZSxyLnVzZXJQb2xpY3ksdCk7Ik5vdCBBcHBsaWNhYmxlIiE9PW8mJihuPW8pfXJldHVybiBufX0se2tleToiZXZhbHVhdGVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0iTm90IEFwcGxpY2FibGUiO3JldHVybiB0JiYobj10LmV2YWx1YXRlUnVsZXModGhpcy5jb250ZXh0LGUscikpLG59fV0pLFBEUH0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIxNSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyMTYpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMjE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDUxOCksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQb2xpY3koZSx0LHIsbil7aWYoKDAsYS5kZWZhdWx0KSh0aGlzLFBvbGljeSksIWUpdGhyb3cgbmV3IEVycm9yKCJrZXkgaXMgbm90IGRlZmluZWQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoImFjdGlvbnMgYXJlIG5vdCBkZWZpbmVkIik7dGhpcy5hY3Rpb25zPXIsdGhpcy5rZXk9ZSx0aGlzLl9zZXRSdWxlcyh0KSx0aGlzLl9zZXRDb21iaW5pbmdBbGdvcml0aG0obil9cmV0dXJuKDAsdS5kZWZhdWx0KShQb2xpY3ksW3trZXk6ImFkZEFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmFjdGlvbnMucHVzaCh7bWV0aG9kOmUscGFyYW06dH0pfX0se2tleToiY3JlYXRlUnVsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvKXt2b2lkIDA9PT1vJiYobz10aGlzLmdldExhc3RQcmlvcml0eSgpKzEpO3ZhciBpPW5ldyB2LmRlZmF1bHQoZSx0LHIsbixvKTt0aGlzLnJ1bGVzLnB1c2goaSl9fSx7a2V5OiJkZWxldGVSdWxlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJ1bGVzLmluZGV4T2YoZSk7dGhpcy5ydWxlcy5zcGxpY2UodCwxKX19LHtrZXk6ImVuZm9yY2VBY3Rpb25zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgYT1bXTtpZigwIT09ci5hY3Rpb25zLmxlbmd0aCl7Zm9yKHZhciBzIGluIHIuYWN0aW9ucyl7dmFyIHU9ZS5wZXAuYWN0aW9uc1NlcnZpY2Vbci5hY3Rpb25zW3NdLm1ldGhvZF0odCxyLmFjdGlvbnNbc10ucGFyYW0pO2EucHVzaCh1KX1vLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pfWVsc2UgbihbdF0pfSl9fSx7a2V5OiJldmFsdWF0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49W107Zm9yKHZhciBvIGluIHRoaXMucnVsZXMpbi5wdXNoKHRoaXMucnVsZXNbb10uZXZhbHVhdGUoZSx0LHIpKTtyZXR1cm4gdGhpcy5jb21iaW5pbmdBbGdvcml0aG0uY29tYmluZShuKX19LHtrZXk6ImdldExhc3RQcmlvcml0eSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZigwIT09dGhpcy5ydWxlcy5sZW5ndGgpe2Zvcih2YXIgdCBpbiB0aGlzLnJ1bGVzKWUucHVzaCh0aGlzLnJ1bGVzW3RdLnByaW9yaXR5KTtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlKX1yZXR1cm4tMX19LHtrZXk6ImdldFJ1bGVCeVByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5ydWxlcylpZihTdHJpbmcodGhpcy5ydWxlc1t0XS5wcmlvcml0eSk9PT1TdHJpbmcoZSkpcmV0dXJuIHRoaXMucnVsZXNbdF07dGhyb3cgRXJyb3IoIlJ1bGUgd2l0aCBwcmlvcml0eSAiK2UrIiBkb2VzIG5vdCBleGlzdCEiKX19LHtrZXk6Il9zZXRDb21iaW5pbmdBbGdvcml0aG0iLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlfHwoZT0iYmxvY2tPdmVycmlkZXMiKSxlKXtjYXNlImJsb2NrT3ZlcnJpZGVzIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgZC5kZWZhdWx0O2JyZWFrO2Nhc2UiYWxsb3dPdmVycmlkZXMiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyBsLmRlZmF1bHQ7YnJlYWs7Y2FzZSJmaXJzdEFwcGxpY2FibGUiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyB5LmRlZmF1bHQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBhbGdvcml0aG06ICIrZSl9fX0se2tleToiX3NldFJ1bGVzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJ1bGVzPVtdO2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1lW3RdO3ZvaWQgMD09PXIucHJpb3JpdHkmJihyLnByaW9yaXR5PXRoaXMuZ2V0TGFzdFByaW9yaXR5KCkrMSksciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmRlY2lzaW9uLHIuY29uZGl0aW9uLHIuc2NvcGUsci50YXJnZXQsci5wcmlvcml0eSkpLHRoaXMucnVsZXMucHVzaChyKX19fSx7a2V5OiJzb3J0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVsZXMuc29ydChmdW5jdGlvbihlLHQpe3ZhciByPWUucHJpb3JpdHksbj10LnByaW9yaXR5O3JldHVybiByPG4/LTE6cj5uPzE6MH0pfX1dKSxQb2xpY3l9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNTE5KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1MyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig3KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVsZShlLHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxSdWxlKSx0aGlzLmRlY2lzaW9uPWUsdGhpcy5zZXRDb25kaXRpb24odCksdGhpcy5wcmlvcml0eT1pLHRoaXMuc2NvcGU9cix0aGlzLnRhcmdldD1ufXJldHVybigwLGEuZGVmYXVsdCkoUnVsZSxbe2tleToic2V0Q29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0KXRoaXMuY29uZGl0aW9uPWU7ZWxzZXtzd2l0Y2goZS5hdHRyaWJ1dGUpe2Nhc2Uic3Vic2NyaXB0aW9uIjp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpO2JyZWFrO2Nhc2Ugdm9pZCAwOnRoaXMuY29uZGl0aW9uPW5ldyB1LmRlZmF1bHQoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNvbmRpdGlvbj1uZXcgbC5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpfX19fSx7a2V5OiJldmFsdWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/dC50bzp0LmZyb20sbz12b2lkIDA7c3dpdGNoKHRoaXMuc2NvcGUpe2Nhc2UiZ2xvYmFsIjpicmVhaztjYXNlImh5cGVydHkiOmlmKCgwLGYuaXNEYXRhT2JqZWN0VVJMKShuKSl7dmFyIGk9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKCgwLGYucmVtb3ZlUGF0aEZyb21VUkwpKG4pKTt2b2lkIDAhPT1pJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShpKSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZSgoMCxmLnJlbW92ZVBhdGhGcm9tVVJMKShuKSkpO2lmKG89PT10aGlzLnRhcmdldClicmVhaztyZXR1cm4iTm90IEFwcGxpY2FibGUiO2Nhc2UiaWRlbnRpdHkiOnZhciBhPXZvaWQgMDtpZigoMCxmLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBzPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxmLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7YT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIocyl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYoYT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoKDAsZi5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZih2b2lkIDAhPT1hJiYoYT0oMCxmLmdldFVzZXJFbWFpbEZyb21VUkwpKGEpKSxhPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn1yZXR1cm4gdGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGUsdCx0aGlzLnNjb3BlLHRoaXMudGFyZ2V0KT90aGlzLmRlY2lzaW9uOiJOb3QgQXBwbGljYWJsZSJ9fV0pLFJ1bGV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1MiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig1MjApLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWR2YW5jZWRDb25kaXRpb24oZSl7KDAsby5kZWZhdWx0KSh0aGlzLEFkdmFuY2VkQ29uZGl0aW9uKSx0aGlzLm9wZXJhdG9ycz1uZXcgbC5kZWZhdWx0LHZvaWQgMCE9PWUub3BlcmF0b3JzJiYoZT1lLmNvbmRpdGlvbiksZT10aGlzLmJ1aWxkQ29uZGl0aW9uKGUpLHRoaXMuY29uZGl0aW9uPWV9cmV0dXJuKDAsYS5kZWZhdWx0KShBZHZhbmNlZENvbmRpdGlvbixbe2tleToiYnVpbGRDb25kaXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGVbMV0pP2VbMV09dGhpcy5idWlsZENvbmRpdGlvbihlWzFdKToic3Vic2NyaXB0aW9uIj09PWVbMV0uYXR0cmlidXRlP2VbMV09bmV3IGQuZGVmYXVsdChlWzFdLmF0dHJpYnV0ZSxlWzFdLm9wZXJhdG9yLGVbMV0ucGFyYW1zKTplWzFdPW5ldyB1LmRlZmF1bHQoZVsxXS5hdHRyaWJ1dGUsZVsxXS5vcGVyYXRvcixlWzFdLnBhcmFtcyksdm9pZCAwIT09ZVsyXSYmKEFycmF5LmlzQXJyYXkoZVsyXSk/ZVsyXT10aGlzLmJ1aWxkQ29uZGl0aW9uKGVbMl0pOiJzdWJzY3JpcHRpb24iPT09ZVsyXS5hdHRyaWJ1dGU/ZVsyXT1uZXcgZC5kZWZhdWx0KGVbMl0uYXR0cmlidXRlLGVbMl0ub3BlcmF0b3IsZVsyXS5wYXJhbXMpOmVbMl09bmV3IHUuZGVmYXVsdChlWzJdLmF0dHJpYnV0ZSxlWzJdLm9wZXJhdG9yLGVbMl0ucGFyYW1zKSksZX19LHtrZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSl7Zm9yKG98fChvPXRoaXMuY29uZGl0aW9uWzBdLGk9dGhpcy5jb25kaXRpb25bMV0sYT10aGlzLmNvbmRpdGlvblsyXSk7IShpIGluc3RhbmNlb2YgdS5kZWZhdWx0KSYhKGkgaW5zdGFuY2VvZiBkLmRlZmF1bHQpJiJib29sZWFuIiE9dHlwZW9mIGk7KWk9dGhpcy5pc0FwcGxpY2FibGUoZSx0LHIsbixpWzBdLGlbMV0saVsyXSk7aWYodm9pZCAwIT09YSlmb3IoOyEoYSBpbnN0YW5jZW9mIHUuZGVmYXVsdCkmIShhIGluc3RhbmNlb2YgZC5kZWZhdWx0KSYiYm9vbGVhbiIhPXR5cGVvZiBhOylhPXRoaXMuaXNBcHBsaWNhYmxlKGUsdCxyLG4sYVswXSxhWzFdLGFbMl0pO3ZhciBzPSJib29sZWFuIj09dHlwZW9mIGk/aTppLmlzQXBwbGljYWJsZShlLHQscixuKSxjPXZvaWQgMDtyZXR1cm4gdm9pZCAwIT09YSYmKGM9ImJvb2xlYW4iPT10eXBlb2YgYT9hOmEuaXNBcHBsaWNhYmxlKGUsdCxyLG4pKSx0aGlzLm9wZXJhdG9yc1tvXShbcyxjXSl9fV0pLEFkdmFuY2VkQ29uZGl0aW9ufSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE3KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEwMyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigxOCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNTMpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbkNvbmRpdGlvbihlLHQscil7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbkNvbmRpdGlvbiksKDAsbC5kZWZhdWx0KSh0aGlzLChTdWJzY3JpcHRpb25Db25kaXRpb24uX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbikpLmNhbGwodGhpcyxlLHQscikpfXJldHVybigwLHkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLGUpLCgwLHUuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLFt7a2V5OiJpc0FwcGxpY2FibGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISEoInN1YnNjcmliZSI9PT10LnR5cGUmZS5pc0Zyb21SZW1vdGVTTSh0LmZyb20pKSYmKDAsZC5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlKSwiaXNBcHBsaWNhYmxlIix0aGlzKS5jYWxsKHRoaXMsZSx0KX19XSksU3Vic2NyaXB0aW9uQ29uZGl0aW9ufSh2LmRlZmF1bHQpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjExKSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksYj1yKDUyMiksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLFI9di5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIE1lc3NhZ2VCdXMoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VCdXMpO3ZhciB0PSgwLGQuZGVmYXVsdCkodGhpcywoTWVzc2FnZUJ1cy5fX3Byb3RvX198fCgwLGEuZGVmYXVsdCkoTWVzc2FnZUJ1cykpLmNhbGwodGhpcykpO3JldHVybiB0Ll9yZWdpc3RyeT1lLHQuX2ZvcndhcmRzPXt9LHQuX3BpcGVsaW5lSW49bmV3IG0uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxvLmRlZmF1bHQpKGUpKX0pLHQuX3BpcGVsaW5lT3V0PW5ldyBtLmRlZmF1bHQoZnVuY3Rpb24oZSl7Ui5lcnJvcigiUElQRUxJTkUtRVJST1I6ICIsKDAsby5kZWZhdWx0KShlKSl9KSx0fXJldHVybigwLHkuZGVmYXVsdCkoTWVzc2FnZUJ1cyxlKSwoMCxsLmRlZmF1bHQpKE1lc3NhZ2VCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Ui5pbmZvKCJvblBPU1RNZXNzYWdlOiAiLGUpO3ZhciBuPXRoaXMsbz1mdW5jdGlvbihvKXtpZihuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSwhbi5fb25SZXNwb25zZShvKSl7dmFyIGk9bi5fc3Vic2NyaXB0aW9uc1tvLnRvXTtpP24uX3B1Ymxpc2hPbihpLG8pOm4uX29uUG9zdE1lc3NhZ2Uobyl9fTtpZihuLl9nZW5JZChlKSxuLl9pc1RvUHJvY2VzcyhlKSl7bi5faXNJbmNvbWluZ01lc3NhZ2UoZSk/bi5fcGlwZWxpbmVJbi5wcm9jZXNzKGUsbyk6bi5fcGlwZWxpbmVPdXQucHJvY2VzcyhlLG8pfWVsc2UgbyhlKTtyZXR1cm4gZS5pZH19LHtrZXk6Il9pc1RvUHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJkb21haW4iLCJkb21haW4taWRwIiwiZ2xvYmFsIiwiaHlwZXJ0eS1ydW50aW1lIiwicnVudGltZSJdLHI9ZS5mcm9tLnNwbGl0KCI6Ly8iKSxuPXJbMF0sbz1lLnRvLnNwbGl0KCI6Ly8iKSxpPW9bMF0sYT1lLmZyb20scz1lLnRvO3JldHVybiBlLmJvZHkmJmUuYm9keS5zb3VyY2UmJihhPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5LnN1YnNjcmliZXImJihhPWUuYm9keS5zdWJzY3JpYmVyKSwtMT09PWEuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09YS5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYtMT09PXMuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09cy5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYoKCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKGEpfHwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChlLnRvKSkmJighKGUuZnJvbT09PW58fGUudG89PT1pfHwicmVhZCI9PT1lLnR5cGV8fCJyZXNwb25zZSI9PT1lLnR5cGV8fGUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpJiYiZGVsZXRlIj09PWUudHlwZSkmJigtMT09PXQuaW5kZXhPZihuKXx8LTE9PT10LmluZGV4T2YoaSkpKSl9fSx7a2V5OiJfaXNJbmNvbWluZ01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4iZm9yd2FyZCI9PT1lLnR5cGU/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLnR5cGU6ICIsZS50eXBlKSx0PWUuYm9keS5mcm9tKTplLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJmUuYm9keS5zb3VyY2U/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc291cmNlOiAiLGUuYm9keS5zb3VyY2UpLHQ9ZS5ib2R5LnNvdXJjZSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmZS5ib2R5LnN1YnNjcmliZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc3Vic2NyaWJlcjogIixlLmJvZHkuc3Vic2NyaWJlciksdD1lLmJvZHkuc3Vic2NyaWJlcik6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikmJmUuYm9keS5yZXBvcnRlcj8oUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuYm9keS5yZXBvcnRlcjogIixlLmJvZHkucmVwb3J0ZXIpLHQ9ZS5ib2R5LnJlcG9ydGVyKTooUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuZnJvbSAiLGUuZnJvbSksdD1lLmZyb20pLFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBjaGVjayBpZiBpc0xvY2FsOiAiLHQpLCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHQpfX0se2tleToiYWRkUHVibGlzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1yLl9mb3J3YXJkc1tlXTtpZighbil7bj17Y291bnRlcjowLGZsOnIuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbih0KXtSLmluZm8oIk1CLVBVQkxJU0g6ICggIitlKyIgKSIpLHIuX29uUG9zdE1lc3NhZ2UodCl9KSxyZW1vdmU6ZnVuY3Rpb24oKXswPT09LS10LmNvdW50ZXImJih0LmZsLnJlbW92ZSgpLGRlbGV0ZSByLl9mb3J3YXJkc1tlXSl9fSxyLl9mb3J3YXJkc1tlXT1ufXJldHVybiBuLmNvdW50ZXIrKyxufX0se2tleToiYWRkRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiByLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24obil7Ui5pbmZvKCJNQi1GT1JXQVJEOiAoICIrZSsiIHRvICIrdCsiICkiKSxyLmZvcndhcmQodCxuKX0pfX0se2tleToiZm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5fc3Vic2NyaXB0aW9uc1tlXTtuJiZyLl9wdWJsaXNoT24obix0KX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihyLG4pe24/dC5mb3J3YXJkKHIsbik6dC5mb3J3YXJkKHIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtSLmVycm9yKCJSRVNPTFZFLUVSUk9SOiAiLGUpfSl9fSx7a2V5OiJwaXBlbGluZUluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVJbn19LHtrZXk6InBpcGVsaW5lT3V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVPdXR9fV0pLE1lc3NhZ2VCdXN9KF8uZGVmYXVsdCk7dC5kZWZhdWx0PU8sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNCksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpLGM9KHIoNyksdS5nZXRMb2dnZXIoIlBpcGVsaW5lIiksZnVuY3Rpb24oKXtmdW5jdGlvbiBQaXBlbGluZShlKXsoMCxvLmRlZmF1bHQpKHRoaXMsUGlwZWxpbmUpO3ZhciB0PXRoaXM7dC5oYW5kbGVycz1bXSx0Lm9uRmFpbD1lfXJldHVybigwLGEuZGVmYXVsdCkoUGlwZWxpbmUsW3trZXk6InByb2Nlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLmhhbmRsZXJzLmxlbmd0aD4wKXt2YXIgbj1uZXcgZihyLmhhbmRsZXJzKTtuLm5leHQobmV3IGwocixuLGUsdCkpfWVsc2UgdChlKX19XSksUGlwZWxpbmV9KCkpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQaXBlQ29udGV4dChlLHQscixuKXsoMCxvLmRlZmF1bHQpKHRoaXMsUGlwZUNvbnRleHQpO3ZhciBpPXRoaXM7aS5faW5TdG9wPSExLGkuX3BpcGVsaW5lPWUsaS5faXRlcj10LGkuX21zZz1yLGkuX29uRGVsaXZlcj1ufXJldHVybigwLGEuZGVmYXVsdCkoUGlwZUNvbnRleHQsW3trZXk6Im5leHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9pblN0b3B8fChlLl9pdGVyLmhhc05leHQ/ZS5faXRlci5uZXh0KGUpOmUuX29uRGVsaXZlcihlLl9tc2cpKX19LHtrZXk6ImRlbGl2ZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9pblN0b3B8fChlLl9pblN0b3A9ITAsZS5fb25EZWxpdmVyKGUuX21zZykpfX0se2tleToiZmFpbCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9pblN0b3B8fCh0Ll9pblN0b3A9ITAsdC5fcGlwZWxpbmUub25GYWlsJiZ0Ll9waXBlbGluZS5vbkZhaWwoZSkpfX0se2tleToicGlwZWxpbmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXBlbGluZX19LHtrZXk6Im1zZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21zZ30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21zZz1lfX1dKSxQaXBlQ29udGV4dH0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSXRlcmF0b3IoZSl7KDAsby5kZWZhdWx0KSh0aGlzLEl0ZXJhdG9yKSx0aGlzLl9pbmRleD0tMSx0aGlzLl9hcnJheT1lfXJldHVybigwLGEuZGVmYXVsdCkoSXRlcmF0b3IsW3trZXk6Imhhc05leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleDx0aGlzLl9hcnJheS5sZW5ndGgtMX19LHtrZXk6Im5leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleCsrLHRoaXMuX2FycmF5W3RoaXMuX2luZGV4XX19XSksSXRlcmF0b3J9KCk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig1MjQpLGQ9cig0KSxwPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZCkseT1wLmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDcnlwdG8oZSl7KDAsdS5kZWZhdWx0KSh0aGlzLENyeXB0byk7dmFyIHQ9dGhpczsiZnVuY3Rpb24iPT10eXBlb2YgZS5jcmVhdGVXZWJjcnlwdG8/dC5fY3J5cHRvPWUuY3JlYXRlV2ViY3J5cHRvKCk6dC5fY3J5cHRvPWNyeXB0b31yZXR1cm4oMCxsLmRlZmF1bHQpKENyeXB0byxbe2tleToiZW5jcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZW5jcnlwdFJTQTpwdWJLZXkiLGUpLHkubG9nKCJlbmNyeXB0UlNBOmRhdGEiLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl9pbXBvcnRSU0FlbmNyeXB0S2V5KG5ldyBVaW50OEFycmF5KGUpKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7bihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToiZGVjcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZGVjcnlwdFJTQTpwcml2S2V5IixlKSx5LmxvZygiZGVjcnlwdFJTQTpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5faW1wb3J0UlNBZGVjcnlwdEtleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7bih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJzaWduUlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl9pbXBvcnRSU0FzaWduS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5zaWduKHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSJ9LGUsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXtuKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJ2ZXJpZnlSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5faW1wb3J0UlNBdmVyaWZ5S2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IlJTQVNTQS1QS0NTMS12MV81In0sZSxyLCgwLGYuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJlbmNyeXB0QUVTIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coImVuY3J5cHRBRVM6a2V5IixlKSx5LmxvZygiZW5jcnlwdEFFUzpkYXRhIix0KSx5LmxvZygiZW5jcnlwdEFFUzppdiIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2ltcG9ydEFFU2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZToiQUVTLUNCQyIsaXY6cn0sZSwoMCxmLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpe28obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6ImRlY3J5cHRBRVMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygiZGVjcnlwdEFFUzprZXkiLGUpLHkubG9nKCJkZWNyeXB0QUVTOmRhdGEiLHQpLHkubG9nKCJkZWNyeXB0QUVTOml2IixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5faW1wb3J0QUVTa2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOiJBRVMtQ0JDIixpdjpyfSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9KDAsZi5kZWNvZGVVVEY4KShuZXcgVWludDhBcnJheShlKSk7eS5sb2coImNyeXB0by1kZWNyeXB0QUVTIix0KSxvKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6Imhhc2hITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJoYXNoSE1BQzprZXkiLGUpLHkubG9nKCJoYXNoSE1BQzpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxvLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIGhhc2hITUFDIGlucHVyZWQgREFUQSIpLHkubG9nKCJISGFzaEhNQUM6Iix0KSksci5faW1wb3J0SE1BQ2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiSE1BQyJ9LGUsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygiSGFzaEhNQUMgc2lnbmF0dXJlOiIsbmV3IFVpbnQ4QXJyYXkoZSkpLG4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6InZlcmlmeUhNQUMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygidmVyaWZ5SE1BQzprZXkiLGUpLHkubG9nKCJ2ZXJpZnlITUFDOmRhdGEiLHQpLHkubG9nKCJ2ZXJpZnlITUFDOnNpZ25hdHVyZSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihpLGEpe24uX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXsic3RyaW5nIiE9dHlwZW9mIHQmJih0PSgwLG8uZGVmYXVsdCkodCkseS5sb2coIkNvbnZlcnRpbmcgdmVyaWZ5SE1BQyBpbnB1dGVkIERBVEE6Iix0KSksbi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IkhNQUMifSxlLHIsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygidmVyaWZ5SE1BQyByZXN1bHQiLGUpLGU/aShlKTphKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLXZlcmlmeUhNQUMiLGUpLGEoZSl9KX0pfSl9fSx7a2V5OiJnZW5lcmF0ZVJTQUtleVBhaXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9O3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5fY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleSh7bmFtZToiUlNBLVBTUyIsbW9kdWx1c0xlbmd0aDoyMDQ4LHB1YmxpY0V4cG9uZW50Om5ldyBVaW50OEFycmF5KFsxLDAsMV0pLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJzaWduIiwidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24obyl7ZS5fY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoInNwa2kiLG8ucHVibGljS2V5KS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiB0LnB1YmxpYz1uZXcgVWludDhBcnJheShyKSxlLl9jcnlwdG8uc3VidGxlLmV4cG9ydEtleSgicGtjczgiLG8ucHJpdmF0ZUtleSl9KS50aGVuKGZ1bmN0aW9uKGUpe3QucHJpdmF0ZT1uZXcgVWludDhBcnJheShlKSxyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcihlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiZ2VuZXJhdGVJViIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZVJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMzIpO2UuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCk7Zm9yKHZhciByPURhdGUubm93KCksbj0oMCxmLmVuY29kZVVURjgpKHIudG9TdHJpbmcoKSksbz1uLnNsaWNlKG4ubGVuZ3RoLTQsbi5sZW5ndGgpLGk9MDtpPDQ7aSsrKXRbaV09b1tpXTtyZXR1cm4gdH19LHtrZXk6ImdlbmVyYXRlUE1TIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSg0OCk7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6ImdlbmVyYXRlTWFzdGVyU2VjcmV0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1uZXcgVWludDhBcnJheSg0OCksYT10O3IuX2RpZ2VzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3IuaGFzaEhNQUMoZSxhKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248MzI7bisrKWlbbl09dFtuXTtyZXR1cm4gci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8MTY7dCsrKWlbdCszMl09ZVt0XTtuKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhlKX0pfSl9KX19LHtrZXk6ImdlbmVyYXRlS2V5cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9W10sYT10O3IuaGFzaEhNQUMoZSxhKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKGUpe2kucHVzaChlKSxuKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBc2lnbktleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsZSx7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJzaWduIl0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBc2lnbktleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBdmVyaWZ5S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLGUse25hbWU6IlJTQVNTQS1QS0NTMS12MV81IixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBdmVyaWZ5S2V5IixlKSxuKGUpfSl9KX19LHtrZXk6Il9pbXBvcnRSU0FlbmNyeXB0S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLGUse25hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsiZW5jcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWVuY3J5cHRLZXkiLGUubmFtZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZGVjcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsZSx7bmFtZToiUlNBLU9BRVAiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJkZWNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBZGVjcnlwdEtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJjb25jYXRQTVN3aXRoUmFuZG9tcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCtyLmxlbmd0aCksbz0wO288ZS5sZW5ndGg7bysrKW5bb109ZVtvXTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyluW2krZS5sZW5ndGhdPWVbaV07Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspblthK2UubGVuZ3RoK3QubGVuZ3RoXT1lW2FdO3JldHVybiBufX0se2tleToiX2dlbmVyYXRlMjU2Yml0S2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6Il9pbXBvcnRITUFDa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fZGlnZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsZSx7bmFtZToiSE1BQyIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9LGxlbmd0aDoyNTZ9LCEwLFsic2lnbiIsInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX0pfX0se2tleToiX2RpZ2VzdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuZGlnZXN0KHtuYW1lOiJTSEEtMjU2In0sZSkudGhlbihmdW5jdGlvbihlKXtyKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0QUVTa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsZSx7bmFtZToiQUVTLUNCQyJ9LCEwLFsiZW5jcnlwdCIsImRlY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLWltcG9ydEFFU2tleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfc2hhMjU2Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bmV3IFRleHRFbmNvZGVyKCJ1dGYtOCIpLmVuY29kZShlKTtyZXR1cm4gdC5fY3J5cHRvLnN1YnRsZS5kaWdlc3QoIlNIQS0yNTYiLHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2hleChlKX0pfX0se2tleToiX2hleCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9bmV3IERhdGFWaWV3KGUpLG49MDtuPHIuYnl0ZUxlbmd0aDtuKz00KXt2YXIgbz1yLmdldFVpbnQzMihuKSxpPW8udG9TdHJpbmcoMTYpLGE9KCIwMDAwMDAwMCIraSkuc2xpY2UoLSIwMDAwMDAwMCIubGVuZ3RoKTt0LnB1c2goYSl9cmV0dXJuIHQuam9pbigiIil9fV0pLENyeXB0b30oKTt0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGVuY29kZVVURjgoZSl7Zm9yKHZhciB0PTAscj1uZXcgVWludDhBcnJheSg0KmUubGVuZ3RoKSxuPTA7biE9ZS5sZW5ndGg7bisrKXt0cnl7ZS5jaGFyQ29kZUF0KG4pfWNhdGNoKGUpe3JldHVybn12YXIgbz1lLmNoYXJDb2RlQXQobik7aWYobzwxMjgpclt0KytdPW87ZWxzZXtpZihvPDIwNDgpclt0KytdPW8+PjZ8MTkyO2Vsc2V7aWYobz41NTI5NSYmbzw1NjMyMCl7aWYoKytuPT1lLmxlbmd0aCl0aHJvdyJVVEYtOCBlbmNvZGU6IGluY29tcGxldGUgc3Vycm9nYXRlIHBhaXIiO3ZhciBpPWUuY2hhckNvZGVBdChuKTtpZihpPDU2MzIwfHxpPjU3MzQzKXRocm93IlVURi04IGVuY29kZTogc2Vjb25kIGNoYXIgY29kZSAweCIraS50b1N0cmluZygxNikrIiBhdCBpbmRleCAiK24rIiBpbiBzdXJyb2dhdGUgcGFpciBvdXQgb2YgcmFuZ2UiO289NjU1MzYrKCgxMDIzJm8pPDwxMCkrKDEwMjMmaSksclt0KytdPW8+PjE4fDI0MCxyW3QrK109bz4+MTImNjN8MTI4fWVsc2Ugclt0KytdPW8+PjEyfDIyNDtyW3QrK109bz4+NiY2M3wxMjh9clt0KytdPTYzJm98MTI4fX1yZXR1cm4gci5zdWJhcnJheSgwLHQpfWZ1bmN0aW9uIGRlY29kZVVURjgoZSl7Zm9yKHZhciB0PSIiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49ZVtyKytdO2lmKG4+MTI3KXtpZihuPjE5MSYmbjwyMjQpe2lmKHI+PWUubGVuZ3RoKXRocm93IlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAyLWJ5dGUgc2VxdWVuY2UiO249KDMxJm4pPDw2fDYzJmVbcl19ZWxzZSBpZihuPjIyMyYmbjwyNDApe2lmKHIrMT49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDMtYnl0ZSBzZXF1ZW5jZSI7bj0oMTUmbik8PDEyfCg2MyZlW3JdKTw8Nnw2MyZlWysrcl19ZWxzZXtpZighKG4+MjM5JiZuPDI0OCkpdGhyb3ciVVRGLTggZGVjb2RlOiB1bmtub3duIG11bHRpYnl0ZSBzdGFydCAweCIrbi50b1N0cmluZygxNikrIiBhdCBpbmRleCAiKyhyLTEpO2lmKHIrMj49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDQtYnl0ZSBzZXF1ZW5jZSI7bj0oNyZuKTw8MTh8KDYzJmVbcl0pPDwxMnwoNjMmZVsrK3JdKTw8Nnw2MyZlWysrcl19KytyfWlmKG48PTY1NTM1KXQrPVN0cmluZy5mcm9tQ2hhckNvZGUobik7ZWxzZXtpZighKG48PTExMTQxMTEpKXRocm93IlVURi04IGRlY29kZTogY29kZSBwb2ludCAweCIrbi50b1N0cmluZygxNikrIiBleGNlZWRzIFVURi0xNiByZWFjaCI7bi09NjU1MzYsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiksdCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMDIzJm58NTYzMjApfX1yZXR1cm4gdH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5lbmNvZGVVVEY4PWVuY29kZVVURjgsdC5kZWNvZGVVVEY4PWRlY29kZVVURjh9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGYpLHA9cig3KSx5PXIoMTA0KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1kLmdldExvZ2dlcigibG9hZGVyIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIExvYWRlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLExvYWRlciksIXQpdGhyb3cgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTtpZighcil0aHJvdyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgRGVzY3JpcHRvciBpbnN0YW5jZSIpO3RoaXMubG9nPXYsdGhpcy5ydW50aW1lQ29uZmlndXJhdGlvbj10LHRoaXMuZGVzY3JpcHRvcnM9cn1yZXR1cm4oMCxsLmRlZmF1bHQpKExvYWRlcixbe2tleToibG9hZEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj10aGlzLG49YXJndW1lbnRzWzJdO2FyZ3VtZW50c1szXTtpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBIeXBlcnR5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihpLGEpe3ZhciBzPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxsPXZvaWQgMCxmPSExLGQ9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIFNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBoeXBlcnR5OiAiLGUpLGEoZSl9LHk9ZnVuY3Rpb24oZSl7Zj0hMCxhKGUpfTtyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBIeXBlcnR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBHZXQgaHlwZXJ0eSBkZXNjcmlwdG9yIGZvciA6IixlKSxyLmRlc2NyaXB0b3JzLmdldEh5cGVydHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDE6IHJldHVybiBoeXBlcnR5IGRlc2NyaXB0b3IiKSxjPWU7dmFyIHQ9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT10P2Uuc291cmNlUGFja2FnZTpyLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwodCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMjogcmV0dXJuIGh5cGVydHkgc291cmNlIGNvZGUiKSxsPWU7cmV0dXJuITB9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMzogcmV0dXJuIHBvbGljeSBlbmdpbmUgcmVzdWx0IitlKTtyZXR1cm4gci5yZWdpc3RyeS5nZXRBcHBTYW5kYm94KCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNDogcmV0dXJuIHRoZSBzYW5kYm94IixlKSxlKX0sZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4xOiBUcnkgdG8gcmVnaXN0ZXIgYSBuZXcgc2FuZGJveCIpO3ZhciB0PXt9O3JldHVybiBjJiZjLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKHQ9Yy5zdHViQ2FwYWJpbGl0aWVzKSxyLl9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0seSkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA1OiByZXR1cm4gc2FuZGJveCBhbmQgcmVnaXN0ZXIiKSx1PWU7cmV0dXJuIHIuX2FkZHJlc3NBbGxvY2F0aW9uLmNyZWF0ZShyLl9yZWdpc3RyeS5fZG9tYWluLDEsYywiaHlwZXJ0eSIsdCl9LHkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNjogcmV0dXJuIHRoZSBhZGRyZXNzZXMgZm9yIHRoZSBoeXBlcnR5Iix0KSxyLnJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eSh1LGUsYyx0LG4pKX0seSkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3OiByZWdpc3RyYXRpb24gcmVzdWx0IixlKSxzPWUudXJsO3ZhciB0PXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KShjLmNvbmZpZ3VyYXRpb24pKXRyeXt0PSgwLG8uZGVmYXVsdCkoe30sSlNPTi5wYXJzZShjLmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXt0PWMuY29uZmlndXJhdGlvbn10LnJ1bnRpbWVVUkw9ci5fcnVudGltZVVSTCxlLnAycEhhbmRsZXImJih0LnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLHQucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKTt0cnl7cmV0dXJuIHUuZGVwbG95Q29tcG9uZW50KGwuc291cmNlQ29kZSxzLHQpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksYShlKX19LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gODogRGVwbG95IGNvbXBvbmVudCBzdGF0dXMgZm9yIGh5cGVydHk6ICIsZSksci5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHMsZnVuY3Rpb24oZSl7dS5wb3N0TWVzc2FnZShlKX0pLHIubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihyLnJ1bnRpbWVVUkwrIi9zdGF0dXMiLGZ1bmN0aW9uKGUpe3UucG9zdE1lc3NhZ2UoZSl9KTt2YXIgdD17cnVudGltZUh5cGVydHlVUkw6cyxzdGF0dXM6ZX07di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHk6ICIsdCksaSh0KSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKX0seSkuY2F0Y2goZCl9KX19LHtrZXk6ImxvYWRTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1Qcm90b1N0dWIgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIGE9KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbjthfHwoYT1lKTt2YXIgcz12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsbD12b2lkIDAsZj0hMSxkPXZvaWQgMCx5PWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXVNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBwcm90b2NvbHN0dWI6ICIsZSksaShlKX0saD1mdW5jdGlvbihlKXtmPSEwLGkoZSl9LGc9dm9pZCAwLF89e307di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIHN0YXJ0aW5nIGxvYWRpbmcgZm9yICIsZSwiIHdpdGggcDJwY29uZmlnICIsdCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IFByb3RvU3R1YiBmb3IgZG9tYWluOiAiLGEpO3RyeXtpZih0KWlmKHQuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmdC5pc0hhbmRsZXJTdHViKSEwLGQ9ci5ydW50aW1lVVJMLGc9ci5yZWdpc3RyeS5kaXNjb3ZlclAyUFN0dWIoKTtlbHNleyEwO3ZhciBiPXQucmVtb3RlUnVudGltZVVSTDtkPWIsZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUDJQU3R1YihiKX1lbHNlIGQ9YSxnPXIucmVnaXN0cnkuZGlzY292ZXJQcm90b3N0dWIoYSk7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMS4gUHJvdG8gU3R1YiBEaXNjb3ZlcmVkIGZvciAiLGUsIjogIixnKSxuKGcpLHYuaW5mbygiIFtSdW50aW1lLkxvYWRlcl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfWNhdGNoKGcpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTEuIFByb3RvIFN0dWIgbm90IGZvdW5kICIrZyksci5kZXNjcmlwdG9ycy5nZXRTdHViRGVzY3JpcHRvcihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMi4gcmV0dXJuIHRoZSBQcm90b1N0dWIgZGVzY3JpcHRvciIpLHU9ZTt2YXIgdD1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXQ/ZS5zb3VyY2VQYWNrYWdlOnIucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCh0KX0saCkuY2F0Y2goeSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hZiYmKHUmJnUuY29uc3RyYWludHMmJihfPXUuY29uc3RyYWludHMpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTMuIHJldHVybiB0aGUgUHJvdG9TdHViIFNvdXJjZSBDb2RlIiksbD1lLHIucmVnaXN0cnkuZ2V0U2FuZGJveChhLF8pKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl00LiBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlcmVkIHRoZW4gcmV0dXJuIHRoZSBzYW5kYm94ICIsZSkscz1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl01LiBTYW5kYm94IHdhcyBub3QgZm91bmQsIGNyZWF0aW5nIGEgbmV3IG9uZSAiLGUpLHIuX3J1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3goXykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRMaXN0ZW5lcigiKiIsZnVuY3Rpb24oZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSksZX0pKX0pLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl02LiByZXR1cm4gdGhlIHNhbmRib3ggaW5zdGFuY2UgYW5kIHJlZ2lzdGVyIixuLCJ0byBkb21haW4gIixhKSxzPW4sci5yZWdpc3RyeS5yZWdpc3RlclN0dWIocyxkLHQsZSx1KSl9LGgpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gNy4gcmV0dXJuIHRoZSBydW50aW1lIHByb3Rvc3R1YiB1cmw6ICIsZSksYz1lLnVybDt2YXIgbj17fTtpZighKDAscC5lbXB0eU9iamVjdCkodS5jb25maWd1cmF0aW9uKSl0cnl7bj0oMCxvLmRlZmF1bHQpKHt9LEpTT04ucGFyc2UodS5jb25maWd1cmF0aW9uKSl9Y2F0Y2goZSl7bj11LmNvbmZpZ3VyYXRpb259aWYodCl0cnl7bj0oMCxvLmRlZmF1bHQpKG4sSlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7bj0oMCxvLmRlZmF1bHQpKG4sdCl9bi5ydW50aW1lVVJMPXIuX3J1bnRpbWVVUkw7dHJ5e3JldHVybiB2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gODogYWRkaW5nIHNhbmRib3ggbGlzdGVuZXIgdG8gcHJvdG9zdHViVVJMIDogIixjKSxyLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYyxmdW5jdGlvbihlKXtzLnBvc3RNZXNzYWdlKGUpfSkscy5kZXBsb3lDb21wb25lbnQobC5zb3VyY2VDb2RlLGMsbil9Y2F0Y2goZSl7di5lcnJvcigiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksaShlKX19LGgpLnRoZW4oZnVuY3Rpb24oKXtpZihmKXJldHVybiExO3ZhciBlPXZvaWQgMDt0Pyh2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBwMnBDb25maWc6ICIsdCksdC5oYXNPd25Qcm9wZXJ0eSgiaXNIYW5kbGVyU3R1YiIpJiYoZT1yLnJlZ2lzdHJ5LnAycEhhbmRsZXJTdHViW3IuX3J1bnRpbWVVUkxdKSx0Lmhhc093blByb3BlcnR5KCJwMnBSZXF1ZXN0ZXJTdHViIikmJihlPXIucmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1Ylt0LnJlbW90ZVJ1bnRpbWVVUkxdKSk6ZT1yLnJlZ2lzdHJ5LnByb3Rvc3R1YnNMaXN0W2FdLHYubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIFN0dWI6ICIsZSksbihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfSxoKS5jYXRjaCh5KX19KX19LHtrZXk6ImxvYWRJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBJZHBQcm94eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxwLmRpdmlkZVVSTCkoZSkuZG9tYWluO2l8fChpPWUpO3ZhciBhPXZvaWQgMCxzPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxsPSExLGY9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIFNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBJZHBQcm94eTogIixlKSxuKGUpfSxkPWZ1bmN0aW9uKGUpe2w9ITAsbihlKX07di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLS0gSURQIFByb3h5IERlcGxveSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBEaXNjb3ZlciBvciBDcmVhdGUgYSBuZXcgSWRwUHJveHkgZm9yIGRvbWFpbi9VUkw6ICIsaSk7dHJ5e3ZhciB5PXQucmVnaXN0cnkuZGlzY292ZXJJZHBQcm94eShpKTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSURQUHJveHkgRGlzY292ZXJlZDogIix5KTt2YXIgaD10LnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtpXTt2LmxvZygiRGVwbG95ZWQ6ICIsaCkscihoKSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX1jYXRjaCh5KXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSWRwUHJveHkgbm90IGZvdW5kOiIseSksdC5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMi4gUmV0dXJuIHRoZSBJRFBQcm94eSBkZXNjcmlwdG9yIikscz1lO3ZhciByPWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09cj9lLnNvdXJjZVBhY2thZ2U6dC5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHIpfSxkKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDMuIHJldHVybiB0aGUgSURQUHJveHkgc291cmNlIHBhY2thZ2UiKSxjPWU7cmV0dXJuITB9LGQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJnQucmVnaXN0cnkuZ2V0U2FuZGJveChpKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCIsZSksYT1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNS4gU2FuZGJveCB3YXMgbm90IGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUiLGUpO3ZhciByPXt9O3JldHVybiBzJiZzLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKHM9cy5zdHViQ2FwYWJpbGl0aWVzKSx0Ll9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3QubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNi4gcmV0dXJuIHRoZSBzYW5kYm94IGluc3RhbmNlIGFuZCByZWdpc3RlciIsZSwidG8gZG9tYWluICIsaSksYT1lLHQucmVnaXN0cnkucmVnaXN0ZXJJZHBQcm94eShlLGkpKX0sZCkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3LiBSZXR1cm4gdGhlIHJ1bnRpbWUgSWRwIFByb3h5IFVSTDogIixlKSx1PWU7dmFyIHI9e307aWYoISgwLHAuZW1wdHlPYmplY3QpKHMuY29uZmlndXJhdGlvbikpdHJ5e3I9KDAsby5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKHMuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe3I9cy5jb25maWd1cmF0aW9ufXIucnVudGltZVVSTD10Ll9ydW50aW1lVVJMO3RyeXtyZXR1cm4gdC5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24oZSl7YS5wb3N0TWVzc2FnZShlKX0pLGEuZGVwbG95Q29tcG9uZW50KGMuc291cmNlQ29kZSxlLHIpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksbihlKX19LGQpLnRoZW4oZnVuY3Rpb24oKXtpZihsKXJldHVybiExO3ZhciBlPXQucmVnaXN0cnkuaWRwUHJveHlMaXN0W2ldO3YubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZElkcFByb3h5XSA4OiBsb2FkZWQ6ICIsZSkscihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkSWRwUHJveHldIC0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9LGQpLmNhdGNoKGYpfX0pfX0se2tleToiX3JlYWR5VG9Vc2UiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3J1bnRpbWVVUkwpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSB1cmwgYWRkcmVzcyIpO2lmKCF0aGlzLl9tZXNzYWdlc0J1cyl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSBtZXNzYWdlQnVzIGNvbXBvbmVudCIpO2lmKCF0aGlzLl9yZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSByZWdpc3RyeSBjb21wb25lbnQiKTtpZighdGhpcy5fcnVudGltZUZhY3RvcnkpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSBmYWN0b3J5IGNvbXBvbmVudCIpO3JldHVybiEwfX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVVUkw9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fSx7a2V5OiJyZWdpc3RyeSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWU7dmFyIHQ9aC5kZWZhdWx0Lmluc3RhbmNlO3RoaXMuX2FkZHJlc3NBbGxvY2F0aW9uPXQsdi5sb2coIltMb2FkZXIgLSBBZGRyZXNzQWxsb2NhdGlvbl0gLSAiLHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9fSx7a2V5OiJtZXNzYWdlQnVzIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZXNCdXM9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VzQnVzfX0se2tleToicnVudGltZUZhY3RvcnkiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ydW50aW1lRmFjdG9yeT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZUZhY3Rvcnl9fV0pLExvYWRlcn0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHN0b3JhZ2UoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgcnVudGltZSBmYWN0b3J5IGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO3JldHVybigwLG8uZGVmYXVsdCkoaS5ydW50aW1lQ29uZmlndXJhdGlvbi5zdG9yYWdlU2NoZW1hcykuZm9yRWFjaChmdW5jdGlvbih0KXthLmhhc093blByb3BlcnR5KHQpfHwoYVt0XT1lLnN0b3JhZ2VNYW5hZ2VyKHQsaS5ydW50aW1lQ29uZmlndXJhdGlvbi5zdG9yYWdlU2NoZW1hc1t0XSkpfSksYX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3Quc3RvcmFnZT1zdG9yYWdlO3ZhciBpPXIoMTUxKSxhPXt9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDcpLGw9cigxMDIpLGY9cig0KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZikscD1kLmdldExvZ2dlcigiRGVzY3JpcHRvcnMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGVzY3JpcHRvcnMoZSx0LHIpe2lmKCgwLGEuZGVmYXVsdCkodGhpcyxEZXNjcmlwdG9ycyksIWUpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSB1cmwgdG8gYmUgdXNlZCIpO2lmKCF0KXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkcyB0aGUgY2F0YWxvZ3VlIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWRzIHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTt0aGlzLmxvZz1wLHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249cix0aGlzLnJ1bnRpbWVVUkw9ZSx0aGlzLmNhdGFsb2d1ZT10LHRoaXMuY29uc3RyYWludHM9bC5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllc31yZXR1cm4oMCx1LmRlZmF1bHQpKERlc2NyaXB0b3JzLFt7a2V5OiJnZXRIeXBlcnR5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2F0YWxvZ3VlLmdldEh5cGVydHlEZXNjcmlwdG9yKGUsITAsdGhpcy5jb25zdHJhaW50cyl9fSx7a2V5OiJnZXRTdHViRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxhPXZvaWQgMCxzPSgwLGMuZGl2aWRlVVJMKSh0LnJ1bnRpbWVVUkwpLHU9cy5kb21haW47aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciBsPSgwLGMuZGl2aWRlVVJMKShlKTtvPWwuZG9tYWluO3ZhciBmPWwuaWRlbnRpdHk7aT1mP2Yuc3Vic3RyaW5nKGYubGFzdEluZGV4T2YoIi8iKSsxKToiZGVmYXVsdCJ9ZWxzZSBpPSJkZWZhdWx0IixvPWU7aWYoYT0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIixpKSxvIT09dC5ydW50aW1lQ29uZmlndXJhdGlvbi5kb21haW4paWYoZS5pbmRleE9mKCJodHRwcyIpJiZlLmluZGV4T2YoImh5cGVydHktY2F0YWxvZ3VlIikpe3ZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIpO2E9ZC5wcmVmaXgrbytkLnN1ZmZpeCtpfWVsc2UgYT1lO3JldHVybiBwLmxvZygiTG9hZCBQcm90b2NvbFN0dWIgZm9yIGRvbWFpbiwgIitvKyIgOiAiLGEpLHQuY2F0YWxvZ3VlLmdldFN0dWJEZXNjcmlwdG9yKGEsITAsdC5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aT1vLG89dTt2YXIgcj0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiKTtyZXR1cm4gYT1yLnByZWZpeCtvK3Iuc3VmZml4K2ksdC5jYXRhbG9ndWUuZ2V0U3R1YkRlc2NyaXB0b3IoYSwhMCx0LmNvbnN0cmFpbnRzKX0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiZ2V0SWRwUHJveHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGE9KDAsYy5kaXZpZGVVUkwpKHQucnVudGltZVVSTCkscz1hLmRvbWFpbix1PXQuY29uc3RyYWludHM7aWYodS5jb25zdHJhaW50cy5vbmx5QWNjZXNzVG9rZW49ITAsdS5jb25zdHJhaW50cy5vbmx5SWRBc3NlcnRpb25WYWxpZGF0aW9uPSEwLGUuaW5jbHVkZXMoIjovLyIpKXt2YXIgbD0oMCxjLmRpdmlkZVVSTCkoZSk7bz1sLmRvbWFpbjt2YXIgZj1sLmlkZW50aXR5O2k9Zj9mLnN1YnN0cmluZyhmLmxhc3RJbmRleE9mKCIvIikrMSk6ImRlZmF1bHQifWVsc2UgaT0iZGVmYXVsdCIsbz1lO3ZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsImlkcFByb3h5Iik7cmV0dXJuIGU9ZC5wcmVmaXgrbytkLnN1ZmZpeCtpLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9byxvPXMsZT0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwiaWRwUHJveHkiLGkpLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpfSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fV0pLERlc2NyaXB0b3JzfSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDQpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKSxjPXUuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTXNnQnVzSGFuZGxlcnMoZSx0LHIpe2lmKCgwLG8uZGVmYXVsdCkodGhpcyxNc2dCdXNIYW5kbGVycyksIWUpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gcGVwIGlucHV0IHBhcmFtZW50ZXIgaXMgbWFuZGF0b3J5Iik7aWYoIXQpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gaWRtIGlucHV0IHBhcmFtZW50ZSBpcyBtYW5kYXRvcnkiKTtpZighcil0aHJvdyBFcnJvcigiW01zZ0J1c0hhbmRsZXJzXSBjcnlwdG8gaW5wdXQgcGFyYW1lbnRlIGlzIG1hbmRhdG9yeSIpO3RoaXMucG9saWN5RW5naW5lPWUsdGhpcy5pZGVudGl0eU1hbmFnZXI9dCx0aGlzLmNyeXB0b01hbmFnZXI9cn1yZXR1cm4oMCxhLmRlZmF1bHQpKE1zZ0J1c0hhbmRsZXJzLFt7a2V5OiJwZXBJbkhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucG9saWN5RW5naW5lLmF1dGhvcmlzZSh0Lm1zZywhMCkudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJwZXBPdXRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UodC5tc2csITEpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiaWRtSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5pZGVudGl0eU1hbmFnZXIucHJvY2Vzc01lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiZW5jcnlwdEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuY3J5cHRvTWFuYWdlci5lbmNyeXB0TWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJkZWNyeXB0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5jcnlwdG9NYW5hZ2VyLmRlY3J5cHRNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLndhcm4oZSksdC5mYWlsKGUpfSl9fX1dKSxNc2dCdXNIYW5kbGVyc30oKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNyksZD1sLmdldExvZ2dlcigiQ29yZURpc2NvdmVyeSIpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb3JlRGlzY292ZXJ5KGUsdCxyLG4sbyl7aWYoKDAsYS5kZWZhdWx0KSh0aGlzLENvcmVEaXNjb3ZlcnkpLCFuKXRocm93IEVycm9yKCJUaGUgY2F0YWxvZ3VlIG5lZWRzIHRoZSBydW50aW1lRmFjdG9yeSIpO3ZhciBpPXRoaXM7dGhpcy5fbWVzc2FnZUJ1cz10LGkuZ3JhcGhDb25uZWN0b3I9cixpLmh0dHBSZXF1ZXN0PW4uY3JlYXRlSHR0cFJlcXVlc3QoKSxpLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLGkuZGlzY292ZXJ5VVJMPWUrIi9kaXNjb3ZlcnkvIixpLnJlZ2lzdHJ5PW8saS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGkuZGlzY292ZXJ5VVJMLGZ1bmN0aW9uKGUpe2kuZGlzY292ZXJ5TWFuYWdlcihlKS50aGVuKGZ1bmN0aW9uKHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTp0fX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwLG49dm9pZCAwOyJHcmFwaENvbm5lY3RvciI9PT10PyhyPSJUaGlzIHNlYXJjaCBpcyBub3QgYXZhaWxhYmxlIGF0IHRoZSBtb21lbnQuIFRyeSBsYXRlci4iLG49NTAwKToocj0iTm90IEZvdW5kIixuPTQwNCksaS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixkZXNjcmlwdGlvbjpyfX0pfSl9KX1yZXR1cm4oMCx1LmRlZmF1bHQpKENvcmVEaXNjb3ZlcnksW3trZXk6ImRpc2NvdmVyeU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oKDAsZi5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluLGUuYm9keS5yZXNvdXJjZS5zcGxpdCgiLyIpLmZpbHRlcihCb29sZWFuKSksbj1bXSxpPVtdO3N3aXRjaChkLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJ5TWFuYWdlcl0gcmVjZWl2ZWQ6ICIsZSksZS5ib2R5LmNyaXRlcmlhJiYoZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyYmKG49ZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyksZS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzJiYoaT1lLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXMpKSxyWzFdKXtjYXNlInVzZXIiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJ1cmwiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTp0LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlIm5hbWUiOnJldHVybiB0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgibmFtZS8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJyZXBvcnRlciI6cmV0dXJuIHQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgicmVwb3J0ZXIvIilbMV0saSxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UiZ3VpZCI6cmV0dXJuIHZvaWQgMCE9PXQuZ3JhcGhDb25uZWN0b3ImJm51bGwhPT10LmdyYXBoQ29ubmVjdG9yPyJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKTtjYXNlInVzZXJwcm9maWxlIjpyZXR1cm4gdm9pZCAwIT09dC5ncmFwaENvbm5lY3RvciYmbnVsbCE9PXQuZ3JhcGhDb25uZWN0b3I/Imh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VycHJvZmlsZS8iKVsxXSxpLG4pOnQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXJwcm9maWxlLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKX19fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHM9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLHQscikudGhlbihmdW5jdGlvbihlKXtvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGEoIk5vIGh5cGVydGllcyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHM9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYSgiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpO2kodCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgcz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJIeXBlcnRpZXMoZS51SUQsdCxyLGUuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYSgiTm8gaHlwZXJ0aWVzIHdlcmUgZm91bmQiKTtpKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gYShlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgcz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJEYXRhT2JqZWN0cyhlLnVJRCx0LHIsZS5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oW10pfSl9KX0pO28uZGVmYXVsdC5hbGwocykudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBhKCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIithLGJvZHk6e319O3JldHVybiBlLmluZGV4T2YoInVzZXI6Ly8iKT4tMT9zLmJvZHkucmVzb3VyY2U9ZTpzLmJvZHkucmVzb3VyY2U9Ii9oeXBlcnR5L2lkcC1pZGVudGlmaWVyLyIrZSx0Lmxlbmd0aD4wJiYocy5ib2R5LmNyaXRlcmlhfHwocy5ib2R5LmNyaXRlcmlhPXt9KSxzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYXx8KHMuYm9keS5jcml0ZXJpYT17fSkscy5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMCxzPVtdO3JldHVybiBhPW58fGkuZG9tYWluLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obix1KXtpLmRpc2NvdmVySHlwZXJ0aWVzKGUsW10sW10sYSkudGhlbihmdW5jdGlvbihlKXt2YXIgYz1bXTtmb3IodmFyIGwgaW4gZSljLnB1c2goZVtsXSk7dmFyIGY9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihlLmh5cGVydHlJRCx0LHIsYSkudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChmKS50aGVuKGZ1bmN0aW9uKGUpe1tdLmNvbmNhdC5hcHBseShbXSxlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MucHVzaChlKX0pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBzKXQucHVzaChzW3JdKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHUoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTtuKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdShlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBpPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZTtpZighbilyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTtlKG4pfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIGk9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7aWYoIW4pcmV0dXJuIHQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIik7ZShuKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMDthPW58fGkuZG9tYWluO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EsYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiB0Lmxlbmd0aD4wJiYocy5ib2R5LmNyaXRlcmlhfHwocy5ib2R5LmNyaXRlcmlhPXt9KSxzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYXx8KHMuYm9keS5jcml0ZXJpYT17fSkscy5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLG89W107Zm9yKHZhciBpIGluIG4pby5wdXNoKG5baV0pO2lmKCEoby5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIik7ZShvKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIithLGJvZHk6e3Jlc291cmNlOiIvY29tbSIsY3JpdGVyaWE6e3JlcG9ydGVyOmV9fX07cmV0dXJuIHQubGVuZ3RoPjAmJihzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBEYXRhT2JqZWN0IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJVc2VySWRzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ3JhcGhDb25uZWN0b3IucXVlcnlHbG9iYWxSZWdpc3RyeShlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZXx8IWUpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciB1c2VySURzIGJ5IEdVSUQiKTt2YXIgdD1lLnVzZXJJRHM7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuKCJVc2VySURzIG5vdCBhdmFpbGFibGUiKTtyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToiZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Lmh0dHBSZXF1ZXN0LmdldCgiaHR0cHM6Ly9yZXRoaW5rLnRsYWJzY2xvdWQuY29tL2Rpc2NvdmVyeS9yZXN0L2Rpc2NvdmVyL2xvb2t1cD9zZWFyY2hxdWVyeT0iK2UpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKSxvPXQucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZS5yZXRoaW5rSUR9KTtpZigwPT09by5sZW5ndGgpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciBHVUlEIGJ5IHVzZXIgaWRlbnRpZmllciIpO3ZhciBpPW8ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldGhpbmtJRH0pO3JldHVybiByKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fV0pLENvcmVEaXNjb3Zlcnl9KCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTgpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTYpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig4MiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig0NiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigxKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNCksXz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGcpLGI9cig3KSxtPV8uZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YU9iamVjdHNTdG9yYWdlKGUsdCl7aWYoKDAseS5kZWZhdWx0KSh0aGlzLERhdGFPYmplY3RzU3RvcmFnZSksIWUpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmUgRGF0YSBPYmplY3RzXSAtIE5lZWRzIHRoZSBzdG9yYWdlTWFuYWdlciBjb21wb25lbnQiKTt0aGlzLl9zdG9yYWdlTWFuYWdlcj1lLHRoaXMuX3N0b3JlRGF0YU9iamVjdD10LHRoaXMuX2NhY2hlPXt9fXJldHVybigwLHYuZGVmYXVsdCkoRGF0YU9iamVjdHNTdG9yYWdlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0b3JlRGF0YU9iamVjdCxyPXRoaXMuX2dldFR5cGVPZk9iamVjdChlLmlzUmVwb3J0ZXIpO3JldHVybiB0Lmhhc093blByb3BlcnR5KHIpfHwodFtyXT17fSksdFtyXS5oYXNPd25Qcm9wZXJ0eShlLnVybCl8fCh0W3JdW2UudXJsXT17fSx0W3JdW2UudXJsXS5zdWJzY3JpcHRpb25zPVtdLHRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2Vycz1bXSx0W3JdW2UudXJsXS5jaGlsZHJlbk9iamVjdHM9e30sdFtyXVtlLnVybF0uZGF0YT17fSksKDAsZC5kZWZhdWx0KSh0W3JdW2UudXJsXSxlKSxkZWxldGUgdFtyXVtlLnVybF0uc3Vic2NyaWJlclVzZXIsZGVsZXRlIHRbcl1bZS51cmxdLnN1YnNjcmliZXJIeXBlcnR5LGUuc3Vic2NyaWJlckh5cGVydHkmJiFlLmlzUmVwb3J0ZXImJnRoaXMuX3VwZGF0ZVRvQXJyYXkodFtyXSxlLnVybCwic3Vic2NyaXB0aW9ucyIsZS5zdWJzY3JpYmVySHlwZXJ0eSksZS5zdWJzY3JpYmVyVXNlciYmdFtyXVtlLnVybF0uc3Vic2NyaWJlclVzZXJzLmluZGV4T2YoZS5zdWJzY3JpYmVyVXNlcikmJnRoaXMuX3VwZGF0ZVRvQXJyYXkodFtyXSxlLnVybCwic3Vic2NyaWJlclVzZXJzIixlLnN1YnNjcmliZXJVc2VyKSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9dCx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsdCksdFtyXVtlLnVybF19fSx7a2V5OiJzYXZlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcy5fc3RvcmVEYXRhT2JqZWN0LGk9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFvfHwhb1tpXXx8IW9baV1bdF0pcmV0dXJuIHZvaWQgbS5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZSBkYXRhXSAtIG5vdCBzYXZlZCIpO2lmKG0ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmVEYXRhXSAtICIsZSxpLHQscixuKSxvW2ldW3RdLmhhc093blByb3BlcnR5KCJkYXRhIil8fChvW2ldW3RdLmRhdGE9e30pLHIpe3ZhciBhPXZvaWQgMDthPSJvYmplY3QiPT09KHZvaWQgMD09PW4/InVuZGVmaW5lZCI6KDAsbC5kZWZhdWx0KShuKSk/KDAsYi5kZWVwQ2xvbmUpKG4pOm4sKDAsYi5hc3NpZ24pKG9baV1bdF0uZGF0YSxyLGEpfWVsc2Ugb1tpXVt0XS5kYXRhPSgwLGIuZGVlcENsb25lKShuKXx8e307cmV0dXJuIHRoaXMuX3N0b3JlRGF0YU9iamVjdD1vLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxvKSxvW2ldW3RdfX0se2tleToic2F2ZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcy5fc3RvcmVEYXRhT2JqZWN0LGk9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO3JldHVybiBvJiZvW2ldJiZvW2ldW3RdPyhvW2ldW3RdLmhhc093blByb3BlcnR5KCJjaGlsZHJlbnMiKXx8KG9baV1bdF0uY2hpbGRyZW5PYmplY3RzPXt9KSxyPygwLGIuYXNzaWduKShvW2ldW3RdLmNoaWxkcmVuT2JqZWN0cyxyLCgwLGIuZGVlcENsb25lKShuKSk6b1tpXVt0XS5jaGlsZHJlbk9iamVjdHM9KDAsYi5kZWVwQ2xvbmUpKG4pfHx7fSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9byx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsbyksb1tpXVt0XSk6dm9pZCBtLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBzYXZlIGNoaWxkcmVuc10gLSBub3Qgc2F2ZWQiKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcy5fc3RvcmVEYXRhT2JqZWN0LGk9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFvfHwhb1tpXXx8IW9baV1bdF0pcmV0dXJuIHZvaWQgbS5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gdXBkYXRlXSAtIG5vdCBzYXZlZCIpO2lmKG0ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHVwZGF0ZV0gLSAiLGUsaSx0LHIsbiksb1tpXSYmb1tpXVt0XSYmdCYmciYmbil7aWYoInN1YnNjcmlwdGlvbnMiPT09cnx8InN1YnNjcmliZXJVc2VycyI9PT1yKXt2YXIgYT0hMDsic3Vic2NyaXB0aW9ucyI9PT1yJiYoYT0hdGhpcy5faXNPd25lcihvW2ldW3RdLG4pKSxhJiZ0aGlzLl91cGRhdGVUb0FycmF5KG9baV0sdCxyLG4pfWVsc2Ugb1tpXVt0XVtyXT1uO3JldHVybiB0aGlzLl9zdG9yZURhdGFPYmplY3Q9byx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsbyksb1tpXVt0XX19fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtyZXR1cm4gbyYmb1tpXSYmb1tpXVt0XT9vW2ldJiZvW2ldW3RdJiZ0JiZyJiZuPygic3Vic2NyaXB0aW9ucyI9PT1yfHwic3Vic2NyaWJlclVzZXJzIj09PXI/dGhpcy5fcmVtb3ZlRnJvbUFycmF5KG9baV0sdCxyLG4pOmRlbGV0ZSBvW2ldW3RdW3JdLHRoaXMuX3N0b3JlRGF0YU9iamVjdD1vLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxvKSxvW2ldW3RdKTp2b2lkIDA6dm9pZCBtLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBkZWxldGVdIC0gbm90IHNhdmVkIil9fSx7a2V5OiJkZWxldGVSZXNvdXJjZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGUpcmV0dXJuIHQuZ2V0QWxsKCkudGhlbihmdW5jdGlvbihuKXt2YXIgbz0oMCxkLmRlZmF1bHQpKG4sdC5fc3RvcmVEYXRhT2JqZWN0fHx7fSk7cmV0dXJuIG8uaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpJiZvLm9ic2VydmVycy5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIG8ub2JzZXJ2ZXJzW2VdLHQuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxvKSx0Ll9zdG9yZURhdGFPYmplY3Q9byxyKG8ub2JzZXJ2ZXJzW2VdKSk6by5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIikmJm8ucmVwb3J0ZXJzLmhhc093blByb3BlcnR5KGUpPyhkZWxldGUgby5yZXBvcnRlcnNbZV0sdC5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLG8pLHQuX3N0b3JlRGF0YU9iamVjdD1vLHIoby5yZXBvcnRlcnNbZV0pKTp2b2lkIHIoIlRoZSAiK2UrIiBkb3Nlblx0IGV4aXN0cywgbm90aGluZyB3YXMgZGVsZXRlZCIpfSk7bihuZXcgRXJyb3IoIltTdG9yZURhdGFPYmplY3RzXSAtIENhbid0IGRlbGV0ZSB0aGlzICIrZSkpfSl9fSx7a2V5OiJnZXRBbGwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLmdldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIpfX0se2tleToiZ2V0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX3N0b3JhZ2VNYW5hZ2VyLmdldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89dC5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIik/dC5vYnNlcnZlcnM6e30saT10Lmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKT90LnJlcG9ydGVyczp7fSxzPSgwLGEuZGVmYXVsdCkoaSkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSx1PSgwLGEuZGVmYXVsdCkobykuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSxjPXZvaWQgMDtyZXR1cm4gdSYmKGM9dC5vYnNlcnZlcnNbdV0pLHMmJihjPXQucmVwb3J0ZXJzW3NdKSxtLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSBmb3Igb2JzZXJ2ZXI6ICIsdSksbS5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gZm9yIHJlcG9ydGVyczogIixzKSxtLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSByZXNvbHZlOiAiLGMpLGM/cihjKTpuKCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImdldFJlc291cmNlc0J5Q3JpdGVyaWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgbz1yLl9nZXRUeXBlT2ZPYmplY3QodCk7ci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBtLmxvZygiW0RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhXSBkb24ndCBoYXZlIHN0b3JlZCBkYXRhIG9iamVjdHMiKSxuKG51bGwpO2lmKGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWUpcmV0dXJuIG4obnVsbCk7dmFyIGk9W10scz1yLl9oYXNTdWJzY3JpcHRpb24odFtvXSxlLmZyb20pLHU9ci5fc2VhcmNoT3duZXIodFtvXSxlLmZyb20pLGM9ci5fY2hlY2tQcm90b3N0dWJSZXN1bWUodCxlKTtpZihtLmxvZygiW1N0b3JlZERhdGFPYmplY3RzIC0gZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYV06Iix0LGUscyx1KSwhKGUuaGFzT3duUHJvcGVydHkoImZyb20iKSYmc3x8dXx8YykpcmV0dXJuIG4obnVsbCk7dmFyIGw9dm9pZCAwO2w9dT9yLl9nZXRSZXNvdXJjZXNCeU93bmVyKHRbb10sZS5mcm9tKTpyLl9nZXRSZXNvdXJjZXNCeVN1YnNjcmlwdGlvbih0W29dLGUuZnJvbSk7dmFyIGY9W107ZS5ib2R5JiZlLmJvZHkuaWRlbnRpdHkmJihmPXIuX2dldFJlc291cmNlc0J5SWRlbnRpdHkodFtvXSxlLmJvZHkuaWRlbnRpdHkpKTt2YXIgZD1bXTtlLmJvZHkmJmUuYm9keS5zY2hlbWEmJihkPXIuX2dldFJlc291cmNlc0J5U2NoZW1hKHRbb10sZS5ib2R5LnNjaGVtYSkpO3ZhciBwPVtdO2lmKGUuYm9keSYmZS5ib2R5LnZhbHVlKXt2YXIgeT1lLmJvZHkudmFsdWU7ZGVsZXRlIHkuZGF0YSxwPXIuX2dldFJlc291cmNlc0J5TWV0YWRhdGEodFtvXSx5KX12YXIgaD1bXTtpZihlLmJvZHkmJmUuYm9keS52YWx1ZSYmZS5ib2R5LnZhbHVlLmRhdGEmJihoPXIuX2dldFJlc291cmNlc0J5RGF0YSh0W29dLGUuYm9keS52YWx1ZS5kYXRhKSksaT1yLl9pbnRlcnNlY3Rpb24obCxmLGQsaCxwKSwwPT1pLmxlbmd0aCYmYyYmIm9ic2VydmVycyI9PW8mJmUuZnJvbS5zcGxpdCgicHJvdG9zdHViIikubGVuZ3RoPjApe3ZhciB2PXRbb10sZz0oMCxiLmRpdmlkZVVSTCkoZS5mcm9tKS5kb21haW47KDAsYS5kZWZhdWx0KSh2KS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9dltlXS5zdWJzY3JpcHRpb25zO3QuZm9yRWFjaChmdW5jdGlvbih0KXsoMCxiLmRpdmlkZVVSTCkodCkuZG9tYWluPT1nJiZpLnB1c2goZSl9KX0pfXZhciBfPXt9O2kuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10W29dW2VdO3JldHVybiBfW2VdPXIsX30pLG0ubG9nKCJbU3RvcmUgRGF0YSBPYmplY3RzXSAtICIsXyksbihfKX0pfSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxhLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpYmVyVXNlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5T3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAsYS5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0ucmVwb3J0ZXI9PT10fSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAsYS5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaXB0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlTY2hlbWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuKDAsYS5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtyZXR1cm4oMCxhLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ic2NoZW1hIj09PWUmJm5bZV09PT10fSkubGVuZ3RofSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlNZXRhZGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8oMCxhLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdO3JldHVybigwLGEuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybigwLGEuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlPT09ciYmbltlXT09PXRbcl19KS5sZW5ndGh9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/KDAsYS5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXS5oYXNPd25Qcm9wZXJ0eSgiZGF0YSIpP2Vbcl0uZGF0YTp7fTtyZXR1cm4oMCxhLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4oMCxhLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZT09PXImJm5bZV09PT10W3JdfSkubGVuZ3RofSkubGVuZ3RofSk6W119fSx7a2V5OiJfaGFzU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmKDAsYS5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaXB0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSkubGVuZ3RoPjB9fSx7a2V5OiJfc2VhcmNoT3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiYoMCxhLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5yZXBvcnRlcj09PXR9KS5sZW5ndGg+MH19LHtrZXk6Il9jaGVja1Byb3Rvc3R1YlJlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTtpZih0Lmhhc093blByb3BlcnR5KCJib2R5IikmJnQuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmdC5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpKXt2YXIgcj10LmJvZHkudmFsdWUucmVwb3J0ZXI7aWYoZS5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIikpe3ZhciBuPWUucmVwb3J0ZXJzO3JldHVybigwLGEuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdLnJlcG9ydGVyPT09cn0pLmxlbmd0aD4wfXJldHVybiExfWlmKGUuaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpKXt2YXIgbz1lLm9ic2VydmVycyxpPSgwLGIuZGl2aWRlVVJMKSh0LmZyb20pLmRvbWFpbjtyZXR1cm4oMCxhLmRlZmF1bHQpKG8pLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1vW2VdLnN1YnNjcmlwdGlvbnMscj0hMTtpZih0LmZvckVhY2goZnVuY3Rpb24oZSl7KDAsYi5kaXZpZGVVUkwpKGUpLmRvbWFpbj09aSYmKHI9ITApfSkscilyZXR1cm4hMH0pLmxlbmd0aD4wfX19LHtrZXk6Il9pc093bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmZS5yZXBvcnRlcj09PXR9fSx7a2V5OiJfaW50ZXJzZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSgwLG8uZGVmYXVsdCkoYXJndW1lbnRzKSx0PWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSkuZmlsdGVyKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pO3JldHVybiBtLmxvZygiRGF0YU9iamVjdHNTdG9yYWdlLl9pbnRlcnNlY3Rpb25dIFJlc3VsdCBhbiB1bmlxdWUgYXJyYXkgb2Ygc3RyaW5nczogIix0KSx0fX0se2tleToiX3VwZGF0ZVRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe20ubG9nKCJbRGF0YU9iamVjdHNTdG9yYWdlXSAtIF91cGRhdGVUb0FycmF5OiAiLGUsdCxyLG4pLC0xPT09ZVt0XVtyXS5pbmRleE9mKG4pJiZlW3RdW3JdLnB1c2gobil9fSx7a2V5OiJfcmVtb3ZlRnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1lW3RdW3JdLmluZGV4T2Yobik7LTE9PT1vJiZlW3RdW3JdLnNwbGljZShvLDEpfX0se2tleToiX2hhc1ZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkodCkmJmVbdF09PT1yfX0se2tleToiX2dldFR5cGVPZk9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InJlcG9ydGVycyI6Im9ic2VydmVycyJ9fV0pLERhdGFPYmplY3RzU3RvcmFnZX0oKTt0LmRlZmF1bHQ9UixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7cig4MCkscig1MzIpLGUuZXhwb3J0cz1yKDExKS5BcnJheS5mcm9tfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNjkpLG89cigyNiksaT1yKDc2KSxhPXIoMTk3KSxzPXIoMTk4KSx1PXIoMTMzKSxjPXIoNTMzKSxsPXIoMTQzKTtvKG8uUytvLkYqIXIoMjAzKShmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSksIkFycmF5Iix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG8sZixkPWkoZSkscD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHk9YXJndW1lbnRzLmxlbmd0aCxoPXk+MT9hcmd1bWVudHNbMV06dm9pZCAwLHY9dm9pZCAwIT09aCxnPTAsXz1sKGQpO2lmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ffHxwPT1BcnJheSYmcyhfKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IoZj1fLmNhbGwoZCkscj1uZXcgcDshKG89Zi5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/YShmLGgsW28udmFsdWUsZ10sITApOm8udmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0NCksbz1yKDc5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3QgaW4gZT9uLmYoZSx0LG8oMCxyKSk6ZVt0XT1yfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig0KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZikscD1yKDcpLHk9cig1MzUpLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZShlLHQscixuKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UpLCFyKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgc3RvcmFnZU1hbmFnZXIgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IHJ1bnRpbWVVUkwgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IGJ1cyBwYXJhbWV0ZXIgbWlzc2luZyIpO3ZhciBvPXRoaXM7by5fYnVzPXQsby5fc3RvcmFnZUxpbWl0PS45LG8uX3VybD1lKyIvc3RvcmFnZSIsby5fc3RvcmFnZU1hbmFnZXI9cixvLnByb21pc2VRdWV1ZT1uZXcgaC5kZWZhdWx0LG8uX2h5cGVydHlSZXNvdXJjZXM9bix0LmFkZExpc3RlbmVyKG8uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2VdIE1lc3NhZ2UgUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOm8uX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UicmVhZCI6by5fb25SZWFkKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpvLl9vbkRlbGV0ZShlKX19KX1yZXR1cm4oMCxsLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlLFt7a2V5OiJjaGVja1N0b3JhZ2VRdW90YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aWYoZS5fYXZhaWxhYmxlUXVvdGEmJmUuX3VzYWdlKXJldHVybiB0KCgwLHAuYXZhaWxhYmxlU3BhY2UpKGUuX3VzYWdlLGUuX2F2YWlsYWJsZVF1b3RhKSk7bmF2aWdhdG9yJiZuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fYXZhaWxhYmxlUXVvdGE9ci5xdW90YSxlLl91c2FnZT1yLnVzYWdlLHQoKDAscC5hdmFpbGFibGVTcGFjZSkoZS5fdXNhZ2UsZS5fYXZhaWxhYmxlUXVvdGEpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3YuZXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gQ2hlY2tTdG9yYWdlUXVvdGEgZXJyb3I6ICIsZSkscihlKX0pfSl9fSx7a2V5OiJfb25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25DcmVhdGVdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgdmFsdWUgbWlzc2luZzogIixlKTt2YXIgcj1lLmJvZHkudmFsdWUsbj1yLmNvbnRlbnRVUkwsbz0iIjtpZihuKXt2YXIgaT1uWzBdLGE9aS5zdWJzdHIoaS5sYXN0SW5kZXhPZigiLyIpKzEpO289dC5fdXJsKyIvIithfWVsc2Ugbj1bXSxvPXQuX3VybCsiLyIrKDAscC5nZW5lcmF0ZUdVSUQpKCk7dC5faHlwZXJ0eVJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShvKXx8KG4ucHVzaChvKSxyLmNvbnRlbnRVUkw9biksdGhpcy5faHlwZXJ0eVJlc291cmNlc1tvXT1yLHRoaXMucHJvbWlzZVF1ZXVlLmFkZCh0aGlzLl90b1NhdmUobyxlLHIpKX19LHtrZXk6Il90b1NhdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIGE9ZnVuY3Rpb24ocil7dmFyIG89e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjUwMCxkZXNjcmlwdGlvbjpyfX07cmV0dXJuIG4uX2J1cy5wb3N0TWVzc2FnZShvKSxpKHIpfTtuLmNoZWNrU3RvcmFnZVF1b3RhKCkudGhlbihmdW5jdGlvbihlKXtpZihyLnNpemU+ZS5xdW90YSl7dmFyIHQ9IlRoZSBzdG9yYWdlIGRvIG5vdCBoYXZlIHNwYWNlIHRvIHN0b3JlIHRoYXQgcmVzb3VyY2UiO3Rocm93IGEodCksRXJyb3IodCl9dmFyIG89ZS5xdW90YSxpPWUudXNhZ2Urci5zaXplO3JldHVybiEoZS5wZXJjZW50Pj1uLl9zdG9yYWdlTGltaXR8fGk+byl8fG4uX2dldE9sZGVyUmVzb3VyY2VzKHIuc2l6ZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JhZ2VNYW5hZ2VyLnNldChlLDEscil9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHI9e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjIwMH19O3JldHVybiBuLl9idXMucG9zdE1lc3NhZ2Uociksdi5sb2coIlN1Y2Nlc3MiKSxvKCl9KS5jYXRjaChhKX0pfX0se2tleToiX2dldE9sZGVyUmVzb3VyY2VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fc3RvcmFnZU1hbmFnZXIuZ2V0KCkudGhlbihmdW5jdGlvbihpKXt2YXIgcz0oMCxvLmRlZmF1bHQpKGkpLHU9MCxjPXMuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBpW2VdLmNyZWF0ZWQ8aVt0XS5jcmVhdGVkfSkucmVkdWNlKGZ1bmN0aW9uKHIsbil7dmFyIG89dC5faHlwZXJ0eVJlc291cmNlc1tuXTtyZXR1cm4gdi5sb2coIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gX2dldE9sZGVyUmVzb3VyY2VzOiAiLHUsZSxuLHQuX2F2YWlsYWJsZVF1b3RhKSx1PD1lJiYodSs9by5zaXplLHIucHVzaChuKSkscn0sW10pLGw9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3N0b3JhZ2VNYW5hZ2VyLmRlbGV0ZShlKX0pO2EuZGVmYXVsdC5hbGwobCkudGhlbihmdW5jdGlvbigpe3IoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9KX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS5yZXNvdXJjZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IHJlc291cmNlIG1pc3Npbmc6ICIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7fX07di5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uUmVhZF0gZ2V0IHJlc291cmNlVVJMOiIsciksdGhpcy5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXNvdXJjZVVSTCIscikudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBmb3VuZCBjb250ZW50OiIsZSksZT8iZmlsZSI9PT1lLnJlc291cmNlVHlwZT90Ll9vblJlYWRGaWxlKG4sZSk6KG4uYm9keS5jb2RlPTIwMCxuLmJvZHkucDJwPSEwLG4uYm9keS52YWx1ZT1lLHQuX2J1cy5wb3N0TWVzc2FnZShuKSk6KG4uYm9keS5jb2RlPTQwNCxuLmJvZHkuZGVzYz0iQ29udGVudCBOb3QgRm91bmQgZm9yICIrcix0Ll9idXMucG9zdE1lc3NhZ2UobikpfSl9fSx7a2V5OiJfb25SZWFkRmlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49bmV3IEZpbGVSZWFkZXI7aWYobi5vbmxvYWQ9ZnVuY3Rpb24obil7di5pbmZvKCJbRmlsZUh5cGVydHlSZXNvdXJjZS5pbml0XSBmaWxlIGxvYWRlZCAiLG4pLGUuYm9keS5jb2RlPTIwMCxlLmJvZHkucDJwPSEwLGUuYm9keS52YWx1ZT0oMCxwLmRlZXBDbG9uZSkodCksZS5ib2R5LnZhbHVlLmNvbnRlbnQ9bi50YXJnZXQucmVzdWx0LHIuX2J1cy5wb3N0TWVzc2FnZShlKX0sdC5taW1ldHlwZS5pbmNsdWRlcygidGV4dC8iKSluLnJlYWRBc1RleHQodC5jb250ZW50KTtlbHNle3ZhciBvPXQuY29udGVudCxpPXZvaWQgMDtpPUFycmF5LmlzQXJyYXkobyk/bmV3IEJsb2Iobyx7dHlwZTp0Lm1pbWV0eXBlfSk6bmV3IEJsb2IoW29dLHt0eXBlOnQubWltZXR5cGV9KSxuLnJlYWRBc0FycmF5QnVmZmVyKGkpfX19LHtrZXk6Il9vbkRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5KXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkRlbGV0ZV0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSBtaXNzaW5nOiAiLGUpO2lmKGUuYm9keS5yZXNvdXJjZSlkZWxldGUgdC5faHlwZXJ0eVJlc291cmNlc1tlLmJvZHkucmVzb3VyY2VdO2Vsc2V7aWYoIWUuYm9keS5yZXNvdXJjZXMpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uRGVsZXRlXSBtYW5kYXRvcnkgcmVzb3VyY2UgbWlzc2luZzogIixlKTtlLmJvZHkucmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIHQuX2h5cGVydHlSZXNvdXJjZXNbZV19KX10Ll9zdG9yYWdlTWFuYWdlci5kZWxldGUoInJlc291cmNlVVJMIixlLmJvZHkucmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oKXt2YXIgcj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjIwMH19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe3ZhciBuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDAwLGRlc2NyaXB0aW9uOnJ9fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX19XSksSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2V9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1MzYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHJvbWlzZVF1ZXVlKGUpeygwLHUuZGVmYXVsdCkodGhpcyxQcm9taXNlUXVldWUpLHRoaXMuZmx1c2hpbmc9ITEsdGhpcy5Qcm9taXNlPWEuZGVmYXVsdCx0aGlzLmNvbmN1cnJlbmN5PSJudW1iZXIiIT10eXBlb2YgZT8xOmUsdGhpcy5wcm9taXNlcz1bXSx0aGlzLnF1ZXVlPVtdLHRoaXMuaXNQcm9jZXNzaW5nPSExfXJldHVybigwLGwuZGVmYXVsdCkoUHJvbWlzZVF1ZXVlLFt7a2V5OiJkb25lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrPWV9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5xdWV1ZS5wdXNoKGUpLCF0aGlzLmlzUHJvY2Vzc2luZylyZXR1cm4gdGhpcy5xdWV1ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuW10uY29uY2F0KCgwLG8uZGVmYXVsdCkoZSksW3RdKX0pfSl9LGEuZGVmYXVsdC5yZXNvbHZlKFtdKSkudGhlbihmdW5jdGlvbihlKXt0LmlzUHJvY2Vzc2luZz0hMX0pfX1dKSxQcm9taXNlUXVldWV9KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyMTgpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAscj1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspclt0XT1lW3RdO3JldHVybiByfXJldHVybigwLG8uZGVmYXVsdCkoZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNCkseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoNyksdj1yKDEwNCksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLF89cig1NDEpLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxtPXIoNTQyKSxSPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobSksTz1yKDEwNSksdz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChPKSxrPXkuZ2V0TG9nZ2VyKCJTeW5jaGVyTWFuYWdlciIpLFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTeW5jaGVyTWFuYWdlcihlLHQscixuLG8saSxhLHMpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxTeW5jaGVyTWFuYWdlciksIWUpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBydW50aW1lVVJMIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgUmVnaXN0cnkgaW5zdGFuY2UiKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIFJ1bnRpbWVDYXRhbG9ndWUgaW5zdGFuY2UiKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZCB0aGUgc3RvcmFnZU1hbmFnZXIgaW5zdGFuY2UiKTt2YXIgdT10aGlzO3UuX2J1cz10LHUuX3JlZ2lzdHJ5PXIsdS5fY2F0YWxvZz1uLHUuX3N0b3JhZ2VNYW5hZ2VyPW8sdS5faWRlbnRpdHlNb2R1bGU9cyx1LnJ1bnRpbWVVUkw9ZSx1Ll91cmw9ZSsiL3NtIix1Ll9vYmplY3RVUkw9ZSsiL29iamVjdC1hbGxvY2F0aW9uIix1Ll9yZXBvcnRlcnM9e30sdS5fb2JzZXJ2ZXJzPXt9LHUuX2RhdGFPYmplY3RzU3RvcmFnZT1hLHUuX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkoZSkuZG9tYWluLHUuX2FsbG9jYXRvcj1pfHxnLmRlZmF1bHQuaW5zdGFuY2Usay5sb2coIltTeW5jaGVyTWFuYWdlciAtIEFkZHJlc3NBbGxvY2F0aW9uXSAtICIsdS5fYWxsb2NhdG9yKSx0LmFkZExpc3RlbmVyKHUuX3VybCxmdW5jdGlvbihlKXtzd2l0Y2goay5pbmZvKCJbU3luY2hlck1hbmFnZXJdIFJDVjogIixlKSxlLnR5cGUpe2Nhc2UiY3JlYXRlIjp1Ll9vbkNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6dS5fb25EZWxldGUoZSk7YnJlYWs7Y2FzZSJzdWJzY3JpYmUiOnUuX29uTG9jYWxTdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dS5fb25Mb2NhbFVuU3Vic2NyaWJlKGUpfX0pfXJldHVybigwLGQuZGVmYXVsdCkoU3luY2hlck1hbmFnZXIsW3trZXk6Il9vbkNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPWUudG87ZS5ib2R5LmF0dHJpYnV0ZT90aGlzLl9zdG9yZUNoaWxkcmVucyhlKTohZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKXx8ZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWU/ZS5ib2R5LmF1dGhvcmlzZT8odGhpcy5fYXV0aG9yaXNlKGUpLGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyLm9uQ3JlYXRlIC0gaW52aXRlIG9ic2VydmVyc10iLGUpKTooay5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGUgLSBDcmVhdGUgTmV3IE9iamVjdF0iLGUpLHRoaXMuX25ld0NyZWF0ZShlKSk6dGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmdldFJlc291cmNlc0J5Q3JpdGVyaWEoZSwhMCkudGhlbihmdW5jdGlvbihpKXtpZihrLmluZm8oIltTeW5jaGVyTWFuYWdlciAtIENyZWF0ZSBSZXN1bWVkXSAtIFJlc291cmNlc0J5Q3JpdGVyaWEgfCBNZXNzYWdlOiAiLGUsIiByZXN1bHQ6ICIsaSksaSYmKDAsdS5kZWZhdWx0KShpKS5sZW5ndGg+MCl7dmFyIHM9W107KDAsdS5kZWZhdWx0KShpKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3MucHVzaCh0Ll9yZXN1bWVDcmVhdGUoZSxpW3JdKSl9KSxhLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oaSl7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIENyZWF0ZSBSZXN1bWVkXSIsaSk7dmFyIGE9KDAsby5kZWZhdWx0KShpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7ay5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGVdIHJldHVybmluZyByZXN1bWVkIG9iamVjdHMgOiAiLGEpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTpuLHRvOnIsYm9keTp7Y29kZToyMDAsdmFsdWU6YX19KX0pfWVsc2V7dmFyIGM9e307Yy5pZD1lLmlkLGMuZnJvbT1lLnRvLGMudG89ZS5mcm9tLGMudHlwZT0icmVzcG9uc2UiLGMuYm9keT17Y29kZTo0MDQsZGVzYzoiTm8gZGF0YSBvYmplY3RzIHJlcG9ydGVycyB0byBiZSByZXN1bWVkIn0sdC5fYnVzLnBvc3RNZXNzYWdlKGMpfX0pfX0se2tleToiX3N0b3JlQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49ZS5ib2R5LmF0dHJpYnV0ZTsiY2hpbGRyZW5PYmplY3RzIj09PW4/dC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEscix2b2lkIDAsZS5ib2R5LnZhbHVlKTp0Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxyLG4sZS5ib2R5LnZhbHVlKX19LHtrZXk6Il9uZXdDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLG49ZS5mcm9tLG89KDAsaC5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluO3IuX3JlZ2lzdHJ5LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKGUuZnJvbSkmJihvPSgwLGguZGl2aWRlVVJMKShyLnJ1bnRpbWVVUkwpLmRvbWFpbik7dmFyIGk9IWUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3JlZ2lzdHJhdGlvbiIpfHxlLmJvZHkudmFsdWUuZG9tYWluX3JlZ2lzdHJhdGlvbjtyLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKGUuYm9keS5zY2hlbWEpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIHM9YS5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyx1PXMuc2NoZW1lP3Muc2NoZW1lLmNvbnN0YW50OiJyZXNvdXJjZSIsYz1zLmNoaWxkcmVuP3MuY2hpbGRyZW4uY29uc3RhbnQ6W10sbD17bmFtZTplLmJvZHkudmFsdWUubmFtZSxzY2hlbWE6ZS5ib2R5LnZhbHVlLnNjaGVtYSxyZXBvcnRlcjplLmJvZHkudmFsdWUucmVwb3J0ZXIscmVzb3VyY2VzOmUuYm9keS52YWx1ZS5yZXNvdXJjZXN9LGY9ZS5ib2R5LnZhbHVlLnJlc291cmNlO3IuX2FsbG9jYXRvci5jcmVhdGUobywxLGwsdSxmKS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBhPSgwLGguZGVlcENsb25lKShlLmJvZHkudmFsdWUpO2EudXJsPW8uYWRkcmVzc1swXSxhLmF1dGhvcmlzZT1lLmJvZHkuYXV0aG9yaXNlLGEuY2hpbGRyZW5zPWMsZGVsZXRlIGEuZGF0YSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIEFMTE9DQVRPUiBDUkVBVEU6IixvKTt2YXIgcz1hLnVybCsiL3N1YnNjcmlwdGlvbiI7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBTdWJzY3JpcHRpb24gVVJMIixzKSxrLmluZm8oIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBSZWdpc3RlciBPYmplY3Q6ICIsYSksci5fcmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0KGEpLnRoZW4oZnVuY3Rpb24obyl7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBEYXRhT2JqZWN0IHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIixvKTt2YXIgdT12b2lkIDA7dT10Ll9yZXBvcnRlcnNbYS51cmxdP3QuX3JlcG9ydGVyc1thLnVybF06bmV3IGIuZGVmYXVsdChyLG4sYS51cmwpLGsubG9nKCJbU3luY2hlck1hbmFnZXIgLSBuZXcgQ3JlYXRlXSAtICIsZSk7dmFyIGw9dm9pZCAwO2w9ZS5ib2R5Lmhhc093blByb3BlcnR5KCJpZGVudGl0eSIpJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMP2UuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMOnIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO3ZhciBmPSgwLGguZGVlcENsb25lKShhKTtmLnN1YnNjcmliZXJVc2VyPWwsZi5pc1JlcG9ydGVyPSEwLHIuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQoZiksZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdG9yZSIpJiZlLmJvZHkuc3RvcmUmJih1LmlzVG9TYXZlRGF0YT0hMCxyLl9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLGEudXJsLCJpc1RvU2F2ZURhdGEiLCEwKSxlLmJvZHkudmFsdWUuZGF0YSYmci5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCEwLGEudXJsLG51bGwsZS5ib2R5LnZhbHVlLmRhdGEpKTt2YXIgZD17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOm4sYm9keTp7Y29kZToyMDAscmVzb3VyY2U6YS51cmwsY2hpbGRyZW5SZXNvdXJjZXM6Y319O2k/dS5mb3J3YXJkU3Vic2NyaWJlKFthLnVybCxzXSkudGhlbihmdW5jdGlvbigpe3UuYWRkQ2hpbGRyZW5zKGMpLnRoZW4oZnVuY3Rpb24oKXtyLl9yZXBvcnRlcnNbYS51cmxdPXUsci5fYnVzLnBvc3RNZXNzYWdlKGQpfSl9KTp1LmFkZENoaWxkcmVucyhjKS50aGVuKGZ1bmN0aW9uKCl7ci5fcmVwb3J0ZXJzW2EudXJsXT11LHIuX2J1cy5wb3N0TWVzc2FnZShkKX0pfSxmdW5jdGlvbihlKXtrLmVycm9yKGUpfSl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3ZhciBvPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86bixib2R5Ontjb2RlOjUwMCxkZXNjOnR9fTtyLl9idXMucG9zdE1lc3NhZ2Uobyl9KX19LHtrZXk6Il9yZXN1bWVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obyl7dmFyIGk9ZS5mcm9tLGE9dC5zY2hlbWEscz10LnVybCx1PSF0Lmhhc093blByb3BlcnR5KCJkb21haW5fcmVnaXN0cmF0aW9uIil8fHQuZG9tYWluX3JlZ2lzdHJhdGlvbjt0LmRhdGE7ay5sb2coIltTeW5jaGVyTWFuYWdlcl0gLSByZXN1bWUgY3JlYXRlIixlLHQpLG4uX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoYSkudGhlbihmdW5jdGlvbihhKXt2YXIgYz1hLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGw9KGMuc2NoZW1lJiZjLnNjaGVtZS5jb25zdGFudCxjLmNoaWxkcmVuP2MuY2hpbGRyZW4uY29uc3RhbnQ6W10pO2subG9nKCJbU3luY2hlck1hbmFnZXJdIC0gZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3I6ICIsYSxsKTt2YXIgZj12b2lkIDA7Zj1yLl9yZXBvcnRlcnNbc10/ci5fcmVwb3J0ZXJzW3NdOm5ldyBiLmRlZmF1bHQobixpLHMpLGYuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHU/Zi5mb3J3YXJkU3Vic2NyaWJlKFt0LnVybF0pLnRoZW4oZnVuY3Rpb24oKXtvKG4uX3Jlc3VtZVJlcG9ydGVyU3Vic2NyaXB0aW9ucyhlLHQsZixsLHUpKX0pOm8obi5fcmVzdW1lUmVwb3J0ZXJTdWJzY3JpcHRpb25zKGUsdCxmLGwsdSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ay5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLG8oITEpfSl9KX19LHtrZXk6Il9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcyxzPXQudXJsLHU9KDAsaC5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7cmV0dXJuIHUudXJsPXQudXJsLHUuZXhwaXJlcz10LmV4cGlyZXMsdS5kb21haW5fcmVnaXN0cmF0aW9uPW8sZGVsZXRlIHUuZGF0YSxuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGUpe3IuYWRkQ2hpbGRyZW5zKG4pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci5yZXN1bWVTdWJzY3JpcHRpb25zKHQuc3Vic2NyaXB0aW9ucyksaS5fcmVwb3J0ZXJzW3NdPXIsay5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgY3JlYXRlXSAtIHJlc29sdmVkIHJlc3VtZWQ6ICIsdCksaS5fZGVjcnlwdENoaWxkcmVucyh0LG4pfSkudGhlbihmdW5jdGlvbih0KXtrLmluZm8oIltTeW5jaGVyTWFuYWdlci5fcmVzdW1lQ3JlYXRlXSBSZWdpc3RlciBPYmplY3Q6ICIsdSksaS5fcmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0KHUpLnRoZW4oZnVuY3Rpb24ocil7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fcmVzdW1lQ3JlYXRlXSBEYXRhT2JqZWN0IHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsbHkgdXBkYXRlZCIsciksZSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7ay5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSBmYWlsIG9uIGFkZENoaWxkcmVuczogIix0KSxlKCExKX0pfSl9fSx7a2V5OiJfZGVjcnlwdENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyKXtpZih0KXswPT09KDAsdS5kZWZhdWx0KShlLmNoaWxkcmVuT2JqZWN0cykubGVuZ3RoJiZyKGUpLHQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLmNoaWxkcmVuT2JqZWN0c1t0XTtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBkYXRhT2JqZWN0Q2hpbGRzIHRvIGRlY3J5cHQgIixuKTt2YXIgbz1bXTsoMCx1LmRlZmF1bHQpKG4pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9blt0XSxpPXQuc3BsaXQoIiMiKVswXTtpZigic3RyaW5nIj09dHlwZW9mIHIudmFsdWUpe2subG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGNyZWF0ZWRCeSAiLGksIiBvYmplY3Q6ICIsci52YWx1ZSk7dmFyIGE9dy5kZWZhdWx0LmRlY3J5cHREYXRhT2JqZWN0KEpTT04ucGFyc2Uoci52YWx1ZSksZS51cmwpO28ucHVzaChhKX19KSxhLmRlZmF1bHQuYWxsKG8pLnRoZW4oZnVuY3Rpb24obil7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gcmV0dXJuaW5nIGRlY3J5cHRlZCAiLG4pLG4uZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1yLnZhbHVlLnVybDtlLmNoaWxkcmVuT2JqZWN0c1t0XVtuXS52YWx1ZT1yLnZhbHVlfSksay5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gc3RvcmVkT2JqZWN0ICIsZSkscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2sud2FybigiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBmYWlsZWQgOiAiLGUpfSl9KX1lbHNlIHIoZSl9KX19LHtrZXk6Il9hdXRob3Jpc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keS5yZXNvdXJjZSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyTWFuYWdlci5fYXV0aG9yaXNlXSBpbnZpdGF0aW9uIHJlcXVlc3Qgd2l0aG91dCBkYXRhIG9iamVjdCB1cmw6IixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2UrIi9zdWJzY3JpcHRpb24iLG49ISFlLmJvZHkucDJwJiZlLmJvZHkucDJwO2subG9nKCJbU3luY2hlck1hbmFnZXIgLSAgYXV0aG9yaXNlXSAtICIsZSksZS5ib2R5LmF1dGhvcmlzZSYmZS5ib2R5LmF1dGhvcmlzZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3QuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToiY3JlYXRlIixmcm9tOnIsdG86byxib2R5OntwMnA6bixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksc291cmNlOmUuZnJvbSx2YWx1ZTplLmJvZHkudmFsdWUsc2NoZW1hOmUuYm9keS5zY2hlbWF9fSxmdW5jdGlvbihyKXt2YXIgbj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6ci50eXBlLGJvZHk6ci5ib2R5fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX0pfX0se2tleToiX29uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fcmVwb3J0ZXJzW3JdO24mJihuLmRlbGV0ZSgpLHRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5kZWxldGVSZXNvdXJjZShyKS50aGVuKGZ1bmN0aW9uKG4pe2subG9nKCJbU3luY2hlck1hbmFnZXIgLSBvbkRlbGV0ZV0gLSBkZWxldGVSZXNvdXJjZTogIixuKSx0Ll9yZWdpc3RyeS51bnJlZ2lzdGVyRGF0YU9iamVjdChyKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSl9KSl9fSx7a2V5OiJfb25Mb2NhbFN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYShlLCExKS50aGVuKGZ1bmN0aW9uKHIpe2lmKGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyIC0gU3Vic2NyaWJlXSAtIFJlc291cmNlc0J5Q3JpdGVyaWEgfCBNZXNzYWdlOiAiLGUsIiByZXN1bHQ6ICIsciksciYmKDAsdS5kZWZhdWx0KShyKS5sZW5ndGg+MCl7dmFyIG49W107KDAsdS5kZWZhdWx0KShyKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2subG9nKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgU3Vic2NyaWJlXSAtIHJldXNlIGN1cnJlbnQgb2JqZWN0IHVybDogIixyW29dKSxuLnB1c2godC5fcmVzdW1lU3Vic2NyaXB0aW9uKGUscltvXSkpfSksYS5kZWZhdWx0LmFsbChuKS50aGVuKGZ1bmN0aW9uKHIpe2subG9nKCJbU3luY2hlck1hbmFnZXIgLSBPYnNlcnZlcnMgUmVzdW1lZF0iLHIpO3ZhciBuPSgwLG8uZGVmYXVsdCkocikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX0pO3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTpufX0pfSl9ZWxzZSBpZihlLmJvZHkuc2NoZW1hJiZlLmJvZHkucmVzb3VyY2Upay5sb2coIltTeW5jaGVyTWFuYWdlci5vbkxvY2FsU3Vic2NyaWJlIC0gbmV3IFN1YnNjcmliZV0gLSAiLGUuYm9keS5zY2hlbWEsZS5ib2R5LnJlc291cmNlKSx0Ll9uZXdTdWJzY3JpcHRpb24oZSk7ZWxzZXt2YXIgaT17fTtpLmlkPWUuaWQsaS5mcm9tPWUudG8saS50bz1lLmZyb20saS50eXBlPSJyZXNwb25zZSIsaS5ib2R5PXtjb2RlOjQwNCxkZXNjOiJObyBkYXRhIG9iamVjdHMgb2JzZXJ2ZXJzIHRvIGJlIHJlc3VtZWQifSx0Ll9idXMucG9zdE1lc3NhZ2UoaSl9fSl9fSx7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49ZS5mcm9tLG89KDAsaC5kaXZpZGVVUkwpKHIpLmRvbWFpbixpPSFlLmJvZHkuaGFzT3duUHJvcGVydHkoImRvbWFpbl9zdWJzY3JpcHRpb24iKXx8ZS5ib2R5LmRvbWFpbl9zdWJzY3JpcHRpb24sYT1yKyIvY2hpbGRyZW4vIjt0Ll9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKGUuYm9keS5zY2hlbWEpLnRoZW4oZnVuY3Rpb24ocyl7dmFyIHU9cy5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxjPXUuY2hpbGRyZW4/dS5jaGlsZHJlbi5jb25zdGFudDpbXSxsPVtdO2lmKGwucHVzaChyKyIvY2hhbmdlcyIpLGMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbC5wdXNoKGErZSl9KSxpKXt2YXIgZj17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitvKyIvc20iLGJvZHk6e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSxyZXNvdXJjZXM6bCxzb3VyY2U6bn19O3QuX2J1cy5wb3N0TWVzc2FnZShmLGZ1bmN0aW9uKG8pe2subG9nKCJub2RlLXN1YnNjcmliZS1yZXNwb25zZShvYnNlcnZlcik6ICIsbyksMjAwPT09by5ib2R5LmNvZGU/dC5fbmV3UmVwb3J0ZXJTdWJzY3JpYmUoZSxuLHIsYyk6dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86bixib2R5Om8uYm9keX0pfSl9ZWxzZSB0Ll9uZXdSZXBvcnRlclN1YnNjcmliZShlLG4scixjKX0pfX0se2tleToiX25ld1JlcG9ydGVyU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLGk9dGhpcyxhPXIrIi9zdWJzY3JpcHRpb24iO2kuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOnQsYm9keTp7Y29kZToxMDAsY2hpbGRyZW5SZXNvdXJjZXM6bixzY2hlbWE6ZS5ib2R5LnNjaGVtYSxyZXNvdXJjZTplLmJvZHkucmVzb3VyY2V9fSk7dmFyIHM9e3R5cGU6InN1YnNjcmliZSIsZnJvbTppLl91cmwsdG86YSxib2R5OntpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksc3Vic2NyaWJlcjp0fX07ZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKHMuYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSIscyxlKSxpLl9idXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihhKXtpZihrLmxvZygicmVwb3J0ZXItc3Vic2NyaWJlLXJlc3BvbnNlLW5ldzogIixhKSwyMDA9PT1hLmJvZHkuY29kZSl7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSAtIG9ic2VydmVyczogIixpLl9vYnNlcnZlcnMscixpLl9vYnNlcnZlcnNbcl0pO3ZhciBzPWkuX29ic2VydmVyc1tyXTtzfHwocz1uZXcgUi5kZWZhdWx0KGkscixuKSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIC0gb2JzZXJ2ZXJzOiBjcmVhdGUgbmV3IE9ic2VydmVyT2JqZWN0OiAiLHMpLGkuX29ic2VydmVyc1tyXT1zLHMuYWRkU3Vic2NyaXB0aW9uKHQpLHMuYWRkQ2hpbGRyZW5zKG4pKTt2YXIgdT0hMSxjPXZvaWQgMDtlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5IikmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw/KGM9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsYy5pbmNsdWRlcygidXNlcjovLyIpfHwodT0hMCkpOihjPWkuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pKXx8KHU9ITApO3ZhciBsPSgwLGguZGVlcENsb25lKShhLmJvZHkudmFsdWUpO2RlbGV0ZSBsLmRhdGEsZGVsZXRlIGwuY2hpbGRyZW5PYmplY3RzLGwuY2hpbGRyZW5zPW4sbC5zdWJzY3JpYmVyVXNlcj1jLGwuaXNSZXBvcnRlcj0hMSxsLnN1YnNjcmliZXJIeXBlcnR5PXQsdXx8KGkuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQobCksKGwuaGFzT3duUHJvcGVydHkoInN0b3JlIikmJmwuc3RvcmV8fGwuaGFzT3duUHJvcGVydHkoImlzVG9TYXZlRGF0YSIpJiZsLmlzVG9TYXZlRGF0YSkmJihzLmlzVG9TYXZlRGF0YT0hMCxpLl9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLHIsImlzVG9TYXZlRGF0YSIsITApLGkuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMSxyLG51bGwsYS5ib2R5LnZhbHVlLmRhdGEpKSksYS5pZD1lLmlkLGEuZnJvbT1pLl91cmwsYS50bz10LGEuYm9keS5zY2hlbWE9ZS5ib2R5LnNjaGVtYSxhLmJvZHkucmVzb3VyY2U9ZS5ib2R5LnJlc291cmNlLGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihhLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLGsubG9nKCJbc3Vic2NyaWJlXSAtIG5ldyBzdWJzY3JpcHRpb246ICIsZSxhLHMpLG8uX2J1cy5wb3N0TWVzc2FnZShhKX19KX19LHtrZXk6Il9yZXN1bWVTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgbz10LnVybCxpPXQuc2NoZW1hLGE9ZS5mcm9tLHM9bysiL2NoaWxkcmVuLyI7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIFJldXNlU3Vic2NyaXB0aW9uXSAtIG9ialVSTDogIixvLCIgLSBzY2hlbWE6IixpKSxyLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKGkpLnRoZW4oZnVuY3Rpb24obil7dmFyIHU9bi5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxjPXUuY2hpbGRyZW4/dS5jaGlsZHJlbi5jb25zdGFudDpbXSxsPVtdO2wucHVzaChvKyIvY2hhbmdlcyIpLGMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbC5wdXNoKHMrZSl9KSxyLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzphLGJvZHk6e2NvZGU6MTAwLGNoaWxkcmVuUmVzb3VyY2VzOmMsc2NoZW1hOmkscmVzb3VyY2U6b319KTt2YXIgZj1yLl9vYnNlcnZlcnNbb107cmV0dXJuIGZ8fChmPW5ldyBSLmRlZmF1bHQocixvLGMpLGYuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHIuX29ic2VydmVyc1tvXT1mKSxmLmFkZFN1YnNjcmlwdGlvbihhKSxmLmFkZENoaWxkcmVucyhjKSxyLl9kZWNyeXB0Q2hpbGRyZW5zKHQsYyl9KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtrLmVycm9yKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgc3Vic2NyaXB0aW9uXSAtIGZhaWwgb24gZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3I6ICIsZSksbighMSl9KX0pfX0se2tleToiX29uTG9jYWxVblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPShlLmZyb20sZS5ib2R5LnJlc291cmNlKSxuPXQuX29ic2VydmVyc1tyXTtuJiYobi5yZW1vdmVTdWJzY3JpcHRpb24oZSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pLHRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5kZWxldGVSZXNvdXJjZShyKSxkZWxldGUgdC5fb2JzZXJ2ZXJzW3JdKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksU3luY2hlck1hbmFnZXJ9KCk7dC5kZWZhdWx0PVMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe3IoNTM5KSxlLmV4cG9ydHM9cigxMSkuT2JqZWN0LnZhbHVlc30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjYpLG89cig1NDApKCExKTtuKG4uUywiT2JqZWN0Iix7dmFsdWVzOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2OCksbz1yKDUwKSxpPXIoODEpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHIsYT1vKHQpLHM9bihhKSx1PXMubGVuZ3RoLGM9MCxsPVtdO3U+YzspaS5jYWxsKGEscj1zW2MrK10pJiZsLnB1c2goZT9bcixhW3JdXTphW3JdKTtyZXR1cm4gbH19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDE2KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDEpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig0KSx5PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHApLGg9cig3KSx2PXIoMjIwKSxnPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQodiksXz1yKDEwNSksYj1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfKSxtPXkuZ2V0TG9nZ2VyKCJSZXBvcnRlck9iamVjdCIpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZXBvcnRlck9iamVjdChlLHQscil7KDAsbC5kZWZhdWx0KSh0aGlzLFJlcG9ydGVyT2JqZWN0KTt2YXIgbj10aGlzO24uX3BhcmVudD1lLG4uX293bmVyPXQsbi5fdXJsPXIsbi5fYnVzPWUuX2J1cyxuLl9kb21haW49KDAsaC5kaXZpZGVVUkwpKHIpLmRvbWFpbixuLl9vYmpTdWJzY3JpcHRvclVSTD1uLl91cmwrIi9zdWJzY3JpcHRpb24iLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fY2hpbGRyZW5zPVtdLG4uX2NoaWxkcmVuTGlzdGVuZXJzPVtdLG4uX2ZvcndhcmRzPXt9LG4uX2lzVG9TYXZlRGF0YT0hMSxuLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGQuZGVmYXVsdCkoUmVwb3J0ZXJPYmplY3QsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpczt0Ll9zdWJzY3JpcHRpb25MaXN0ZW5lcj10Ll9idXMuYWRkTGlzdGVuZXIodC5fb2JqU3Vic2NyaXB0b3JVUkwsZnVuY3Rpb24oZSl7c3dpdGNoKG0uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IHJlY2VpdmVkIF0iLGUpLGUudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uUmVtb3RlU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uUmVtb3RlVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZXNwb25zZSI6dC5fb25SZW1vdGVSZXNwb25zZShlKX19KTt2YXIgcj10Ll91cmwrIi9jaGFuZ2VzIjt0Ll9jaGFuZ2VMaXN0ZW5lcj10Ll9idXMuYWRkTGlzdGVuZXIocixmdW5jdGlvbihuKXttLmluZm8oIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyLSIrcisiLVJDVjogIixuKSxlLl9pc1RvU2F2ZURhdGEmJm4uYm9keS5hdHRyaWJ1dGUmJihtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXIgLSBzYXZlIGRhdGE6ICIsbiksdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwidmVyc2lvbiIsbi5ib2R5LnZlcnNpb24pLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsImxhc3RNb2RpZmllZCIsbi5ib2R5Lmxhc3RNb2RpZmllZCksdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITAsdC5fdXJsLG4uYm9keS5hdHRyaWJ1dGUsbi5ib2R5LnZhbHVlKSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fc3Vic2NyaXB0aW9uTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSksKDAsdS5kZWZhdWx0KShlLl9mb3J3YXJkcykuZm9yRWFjaChmdW5jdGlvbih0KXtlLmZvcndhcmRVblN1YnNjcmliZSh0KX0pLCgwLHUuZGVmYXVsdCkoZS5fc3Vic2NyaXB0aW9ucykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9zdWJzY3JpcHRpb25zW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InJlc3VtZVN1YnNjcmlwdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmKDAsdS5kZWZhdWx0KShlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSByZXN1bWUgc3Vic2NyaXB0aW9ucyIsdCxuLHQuX2NoaWxkcmVucyksdC5fc3Vic2NyaXB0aW9uc1tuXXx8KHQuX3N1YnNjcmlwdGlvbnNbbl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLHQuX2NoaWxkcmVucywhMCkpfSl9fSx7a2V5OiJmb3J3YXJkU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIit0Ll9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOmUsc291cmNlOnQuX293bmVyfX07cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtpZihtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF1mb3J3YXJkLXN1YnNjcmliZS1yZXNwb25zZShyZXBvcnRlcik6ICIsciksMjAwPT09ci5ib2R5LmNvZGUpe3ZhciBpPXQuX2J1cy5hZGRGb3J3YXJkKHQuX3VybCx0Ll9vd25lcik7dC5fZm9yd2FyZHNbZVswXV09aSxuKCl9ZWxzZSBvKCJFcnJvciBvbiBtc2ctbm9kZSBzdWJzY3JpcHRpb246ICIrci5ib2R5LmRlc2MpfSl9KX19LHtrZXk6ImZvcndhcmRVblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9mb3J3YXJkc1tlXS5yZW1vdmUoKSxkZWxldGUgdC5fZm9yd2FyZHNbZV07dmFyIHI9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6W2VdLHNvdXJjZTp0Ll9vd25lcn19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixpKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHZvaWQgbigpO3ZhciBhPXIuX3VybCsiL2NoaWxkcmVuLyI7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCAtIGFkZENoaWxkcmVuc10gLSBjaGlsZHJlbnM6ICIsZSxhKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ci5fY2hpbGRyZW5zLnB1c2goZSl9KTt2YXIgcz1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHMucHVzaChhK2UpfSk7dmFyIHU9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIityLl9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOnMsc291cmNlOnIuX293bmVyfX07ci5fYnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2UocmVwb3J0ZXIpOiIsZSksMjAwPT09ZS5ib2R5LmNvZGU/KHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtpZihtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IHJlY2VpdmVkXSIsZSksImNyZWF0ZSI9PT1lLnR5cGUmJmUudG8uaW5jbHVkZXMoImNoaWxkcmVuIikmJnQuX2lzVG9TYXZlRGF0YSl7dmFyIG49KDAsaC5zcGxpdE9iamVjdFVSTCkoZS50byksaT1uLnVybDsic3RyaW5nIiE9dHlwZW9mIGUuYm9keS52YWx1ZT8obS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGluZyByZWNlaXZlZCBkYXRhICIsZS5ib2R5LnZhbHVlKSxiLmRlZmF1bHQuZW5jcnlwdERhdGFPYmplY3QoZS5ib2R5LnZhbHVlLGkpLnRoZW4oZnVuY3Rpb24odCl7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGVkIGRhdGEgIix0KSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsKDAsby5kZWZhdWx0KSh0KSl9KS5jYXRjaChmdW5jdGlvbih0KXttLndhcm4oIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZmFpbGVkIDogIix0LCIgU3RvcmluZyB1bmVuY3J5cHRlZCIpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfX0pO3IuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2gobik7dmFyIGk9ci5fYnVzLmFkZEZvcndhcmQoZSxyLl9vd25lcik7ci5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pLG4oKSk6aSgiRXJyb3Igb24gbXNnLW5vZGUgc3Vic2NyaXB0aW9uOiAiK2UuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJfc3RvcmVDaGlsZE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49KDAsaC5zcGxpdE9iamVjdFVSTCkoZS50byksbz1uLnVybCxpPW4ucmVzb3VyY2UsYT17aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR9LHM9ZS5ib2R5LnJlc291cmNlLHU9aTtzJiYodSs9Ii4iK3MpLGRlbGV0ZSBhLmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgYS5pZGVudGl0eS5leHBpcmVzLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITAsbyx1LGEpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0oMCxoLmRpdmlkZVVSTCkoZS5fb3duZXIpLmRvbWFpbjtlLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vYmpTdWJzY3JpcHRvclVSTCx0bzplLl91cmwrIi9jaGFuZ2VzIn0pLGUuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToiZGVsZXRlIixmcm9tOmUuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QrIi9vYmplY3QtYWRkcmVzcy1hbGxvY2F0aW9uIixib2R5OntyZXNvdXJjZTplLl91cmwsY2hpbGRyZW5SZXNvdXJjZXM6ZS5fY2hpbGRyZW5zfX0pLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fcGFyZW50Ll9yZXBvcnRlcnNbZS5fdXJsXX19LHtrZXk6Il9vblJlbW90ZVJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOnQuX3VybCxib2R5Ontjb2RlOmUuYm9keS5jb2RlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxzb3VyY2U6ZS5mcm9tfX0pfX0se2tleToiX29uUmVtb3RlU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnN1YnNjcmliZXI7dC5fc3Vic2NyaXB0aW9uc1tyXSYmdC5fc3Vic2NyaXB0aW9uc1tyXS5fcmVsZWFzZUxpc3RlbmVycygpO3ZhciBuPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihuLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLHQuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe20ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtcmVwbHk6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUmJih0Ll9zdWJzY3JpcHRpb25zW3JdfHwobS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSBfb25SZW1vdGVTdWJzY3JpYmU6Iix0Ll9jaGlsZHJlbnMpLHQuX3N1YnNjcmlwdGlvbnNbcl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLHQuX2NoaWxkcmVucywhMCkpKTt2YXIgbz12b2lkIDA7ZS5ib2R5LmlkZW50aXR5JiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCYmKG89ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwic3Vic2NyaWJlclVzZXJzIixvKSksZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwibXV0dWFsIixlLmJvZHkubXV0dWFsKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpcHRpb25zIixyKSxuLmJvZHkub3duZXI9dC5fb3duZXIsdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6bi5ib2R5fSl9KX19LHtrZXk6Il9vblJlbW90ZVVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnNvdXJjZSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07aWYobil7bi5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O3QuX2J1cy5wb3N0TWVzc2FnZShvKX19fSx7a2V5OiJpc1RvU2F2ZURhdGEiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc1RvU2F2ZURhdGE9ZX19XSksUmVwb3J0ZXJPYmplY3R9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChmKSxwPXIoNykseT1yKDIyMCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxMDUpLGc9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodiksXz1kLmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JzZXJ2ZXJPYmplY3QoZSx0LHIpe3ZhciBuPXRoaXM7KDAsdS5kZWZhdWx0KSh0aGlzLE9ic2VydmVyT2JqZWN0KTt2YXIgbz10aGlzO28uX3BhcmVudD1lLG8uX3VybD10LG8uX2NoaWxkcmVucz1yLG8uX2J1cz1lLl9idXMsby5fc3Vic2NyaXB0aW9ucz17fSxvLl9zdG9yYWdlU3Vic2NyaXB0aW9ucz17fSxvLl9jaGlsZHJlbkxpc3RlbmVycz1bXSx0aGlzLl9pc1RvU2F2ZURhdGE9ITE7dmFyIGk9by5fdXJsKyIvY2hhbmdlcyI7by5fY2hhbmdlTGlzdGVuZXI9by5fYnVzLmFkZExpc3RlbmVyKGksZnVuY3Rpb24oZSl7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyLSIraSsiLVJDVjogIixlKSxuLl9pc1RvU2F2ZURhdGEmJmUuYm9keS5hdHRyaWJ1dGUmJihfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXIgLSBzYXZlIGRhdGE6ICIsZSksby5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLG8uX3VybCwidmVyc2lvbiIsZS5ib2R5LnZlcnNpb24pLG8uX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxvLl91cmwsImxhc3RNb2RpZmllZCIsZS5ib2R5Lmxhc3RNb2RpZmllZCksby5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITEsby5fdXJsLGUuYm9keS5hdHRyaWJ1dGUsZS5ib2R5LnZhbHVlKSl9KX1yZXR1cm4oMCxsLmRlZmF1bHQpKE9ic2VydmVyT2JqZWN0LFt7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fc3Vic2NyaXB0aW9uc1tlXTtfLmxvZygiW09ic2VydmVyIE9iamVjdCAtIG5ldyBzdWJzY3JpcHRpb25dIC0gIix0Ll9zdWJzY3JpcHRpb25zLGUsdC5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShlKSkscnx8KHQuX3N1YnNjcmlwdGlvbnNbZV09bmV3IGguZGVmYXVsdCh0Ll9idXMsZSx0Ll91cmwsdC5fY2hpbGRyZW5zLCExKSl9fSx7a2V5OiJhZGRTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25ld1N1YnNjcmlwdGlvbihlKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoMD09PWUubGVuZ3RoKXJldHVybiBuKCk7dmFyIGk9ci5fdXJsKyIvY2hpbGRyZW4vIjtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLGkpLGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIoaStlLGZ1bmN0aW9uKGUpe2lmKF8ubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgcmVjZWl2ZWRdIixlKSwiY3JlYXRlIj09PWUudHlwZSYmZS50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmdC5faXNUb1NhdmVEYXRhKXt2YXIgaT0oMCxwLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxhPWkudXJsOyJzdHJpbmciIT10eXBlb2YgZS5ib2R5LnZhbHVlPyhfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixlLmJvZHkudmFsdWUpLGcuZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChlLmJvZHkudmFsdWUsYSkudGhlbihmdW5jdGlvbih0KXtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSwoMCxvLmRlZmF1bHQpKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe18ud2FybigiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9lbmNyeXB0Q2hpbGRdIGZhaWxlZCwgc3RvcmluZyB1bmVuY3J5cHRlZCAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfV8ubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgY2hpbGRyZW4gTGlzdGVuZXJzXSIsci5fY2hpbGRyZW5MaXN0ZW5lcnMsbiksLTE9PT1yLl9jaGlsZHJlbkxpc3RlbmVycy5pbmRleE9mKG4pJiZyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG4pfSl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLHAuc3BsaXRPYmplY3RVUkwpKGUudG8pLG89bi51cmwsaT1uLnJlc291cmNlLGE9e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fTtkZWxldGUgYS5pZGVudGl0eS5hc3NlcnRpb24sZGVsZXRlIGEuaWRlbnRpdHkuZXhwaXJlczt2YXIgcz1lLmJvZHkucmVzb3VyY2UsdT1pO3MmJih1Kz0iLiIrcyksXy5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdC5fc3RvcmVDaGlsZE9iamVjdF0gOiAiLG8sdSxhKSxyLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCExLG8sdSxhKX19LHtrZXk6InJlbW92ZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPSgwLHAuZGl2aWRlVVJMKShyKS5kb21haW4sbz10Ll91cmwrIi9zdWJzY3JpcHRpb24iLGk9dC5fc3Vic2NyaXB0aW9uc1tyXTtpJiYodC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzpvLGJvZHk6e3NvdXJjZTpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK24rIi9zbSIsYm9keTp7cmVzb3VyY2U6dC5fdXJsLGNoaWxkcmVuUmVzb3VyY2VzOnQuX2NoaWxkcmVuc319KSxpLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl0pfX0se2tleToiaXNUb1NhdmVEYXRhIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNUb1NhdmVEYXRhPWV9fV0pLE9ic2VydmVyT2JqZWN0fSgpO3QuZGVmYXVsdD1iLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjE5KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDQpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShmKSxwPXIoNykseT1yKDU0NCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbk1hbmFnZXIiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWFuYWdlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbk1hbmFnZXIpLCFlKXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO3ZhciBuPXRoaXM7bi5fYnVzPXQsbi5fc3RvcmFnZT1yLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9e30sbi5ydW50aW1lVVJMPWUsbi5fdXJsPWUrIi9zdWJzY3JpcHRpb25zIixuLl9kb21haW49KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbix0LmFkZExpc3RlbmVyKG4uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOm4uX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOm4uX29uVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZWFkIjpuLl9vblJlYWQoZSl9fSl9cmV0dXJuKDAsbC5kZWZhdWx0KShTdWJzY3JpcHRpb25NYW5hZ2VyLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlci5pbml0XSByZXN1bWUgc3Vic2NyaXB0aW9uczogIixyKSxyJiYoZS5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9ciwoMCxvLmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5jcmVhdGVTdWJzY3JpcHRpb24odC5kb21haW4sdC5yZXNvdXJjZXMsdC5zdWJzY3JpYmVyLHQuaWRlbnRpdHkpfSkpLHQoKX0pfSl9fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2VzLG49ZS5mcm9tLG89KDAscC5kaXZpZGVVUkwpKHJbMF0pLmRvbWFpbixpPWUuYm9keS5pZGVudGl0eTt0LmNyZWF0ZVN1YnNjcmlwdGlvbihvLHIsbixpKS50aGVuKGZ1bmN0aW9uKGEpe2EuaWQ9ZS5pZCxhLmZyb209dC5fdXJsLGEudG89bixhLmJvZHk9ZS5ib2R5LGEuYm9keS5jb2RlPTIwMCx2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gY3JhZXRlU3Vic2NyaXB0aW9uOiAiLGUsYSxuKSx0Ll9idXMucG9zdE1lc3NhZ2UoYSksdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0/ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dLnJlc291cmNlcy5pbmNsdWRlcyhlKXx8dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0ucmVzb3VyY2VzLnB1c2goZSl9KTp0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXT17ZG9tYWluOm8scmVzb3VyY2VzOnIsc3Vic2NyaWJlcjpuLGlkZW50aXR5Oml9LHQuX3N0b3JhZ2Uuc2V0KCJzdWJzY3JpcHRpb25zIiwxLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlKX0pfX0se2tleToiY3JlYXRlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGkpe3ZhciBhPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206by5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9zbSIsYm9keTp7aWRlbnRpdHk6bixyZXNvdXJjZXM6dCxzb3VyY2U6cn19O28uX2J1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2U6ICIsZSk7dmFyIG49by5fc3Vic2NyaXB0aW9uc1tyXTt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gIixvLl9zdWJzY3JpcHRpb25zLHQsby5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShyKSksbnx8KG8uX3N1YnNjcmlwdGlvbnNbcl09e30pLHQuZm9yRWFjaChmdW5jdGlvbihlKXtvLl9zdWJzY3JpcHRpb25zW3JdW2VdPW5ldyBoLmRlZmF1bHQoby5fYnVzLHIsZSl9KSxpKGUpfSl9KX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS5ib2R5LnJlc291cmNlO2lmKHQuX3N1YnNjcmlwdGlvbnNbcl0mJnQuX3N1YnNjcmlwdGlvbnNbcl1bbl0pe3ZhciBvPSgwLHAuZGl2aWRlVVJMKShuKS5kb21haW4saT10Ll9zdWJzY3JpcHRpb25zW3JdW25dO2lmKHQuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK28rIi9zbSIsYm9keTp7cmVzb3VyY2VzOltuXSxzb3VyY2U6cn19KSxpLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl1bbl0sdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0pe3ZhciBhPXQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdLnJlc291cmNlcy5pbmRleE9mKG4pOy0xIT1hJiZ0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXS5yZXNvdXJjZXMuc3BsaWNlKGEsMSksdC5fc3RvcmFnZS5zZXQoInN1YnNjcmlwdGlvbnMiLDEsdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2UpfX10Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dm9pZCAwO3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSByZXF1ZXN0IHRvIHJlYWQgU3Vic2NyaXB0aW9uczogIixlKSx0Ll9zdG9yYWdlLmdldCgic3Vic2NyaXB0aW9ucyIpLnRoZW4oZnVuY3Rpb24obyl7aWYobyYmb1tyXSl7dmFyIGk9b1tyXS5yZXNvdXJjZXM7bj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTppfX19ZWxzZSBuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LGRlc2NyaXB0aW9uOiJOb3QgRm91bmQifX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSl9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0pLFN1YnNjcmlwdGlvbk1hbmFnZXJ9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNCksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpLGM9dS5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBuPXRoaXM7bi5fc3Vic2NyaWJlcj10LG4ucmVzb3VyY2U9cixjLmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuU3Vic2NyaXB0aW9uXSBuZXc6ICIsdCxyKSxuLl9saXN0ZW5lcj1lLmFkZEZvcndhcmQocix0KX1yZXR1cm4oMCxhLmRlZmF1bHQpKFN1YnNjcmlwdGlvbixbe2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQpLF89ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxiPXIoMjE1KSxtPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYiksUj1yKDIxNiksTz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFIpLHc9cig3KSxrPXIoMjE3KSxTPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDU0NiksRD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFApLE09KF8uZ2V0TG9nZ2VyKCJQRVAiKSxmdW5jdGlvbihlKXtmdW5jdGlvbiBSdW50aW1lQ29yZUN0eChlLHQscixuLG8peygwLGwuZGVmYXVsdCkodGhpcyxSdW50aW1lQ29yZUN0eCk7dmFyIGk9KDAseS5kZWZhdWx0KSh0aGlzLChSdW50aW1lQ29yZUN0eC5fX3Byb3RvX198fCgwLHUuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgpKS5jYWxsKHRoaXMpKTtyZXR1cm4gaS5fcnVudGltZVVSTD1lLGkuX3BlcFVSTD1pLl9ydW50aW1lVVJMKyIvcGVwIixpLl9ndWlVUkw9aS5fcnVudGltZVVSTCsiL3BvbGljeS1ndWkiLGkuaWRNb2R1bGU9dCxpLnJ1bnRpbWVSZWdpc3RyeT1yLGkuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsaS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9e30saS51c2VyUG9saWNpZXM9e30saS5zdG9yYWdlTWFuYWdlcj1uLGkucnVudGltZUNhcGFiaWxpdGllcz1vLGl9cmV0dXJuKDAsdi5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCxlKSwoMCxkLmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4LFt7a2V5OiJsb2FkQ29uZmlndXJhdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOmFjdGl2ZVBvbGljeSIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYWN0aXZlVXNlclBvbGljeT10LGUuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOmdyb3VwcyIpfSkudGhlbihmdW5jdGlvbih0KXt2YXIgcj10O3JldHVybiBlLmdyb3Vwcz12b2lkIDA9PT1yP3t9OnIsZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6c3BQb2xpY2llcyIpfSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj1yO2Uuc2VydmljZVByb3ZpZGVyUG9saWN5PXZvaWQgMD09PW4/e306bixlLl9sb2FkVXNlclBvbGljaWVzKCkudGhlbihmdW5jdGlvbigpe3QoKX0pfSl9KX19LHtrZXk6ImdldFBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLmFjdGl2ZVVzZXJQb2xpY3kmJihyLnVzZXJQb2xpY3k9dGhpcy51c2VyUG9saWNpZXNbdGhpcy5hY3RpdmVVc2VyUG9saWN5XSksci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9dGhpcy5nZXRTZXJ2aWNlUHJvdmlkZXJQb2xpY3koZSx0KSxyfX0se2tleToiX2lzVmFsaWRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLmZyb20uc3BsaXQoIjovLyIpLmxlbmd0aD4xP3QuaWRNb2R1bGUuX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdChlLmZyb20pLnRoZW4oZnVuY3Rpb24odCl7dD09PWUuYm9keS5zb3VyY2U/cihlKTpuKCJUaGUgc291cmNlIG9mIHRoZSBtZXNzYWdlIGlzIG5vdCB2YWxpZC4iKX0sZnVuY3Rpb24oZSl7bihlKX0pOnIoZSl9KX19LHtrZXk6ImdldE15RW1haWxzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaWRNb2R1bGUuZ2V0SWRlbnRpdGllcygpLHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKCgwLHcuZ2V0VXNlckVtYWlsRnJvbVVSTCkoZVtyXS5pZGVudGl0eSkpO3JldHVybiB0fX0se2tleToiZ2V0TXlIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ydW50aW1lUmVnaXN0cnkuaHlwZXJ0aWVzTGlzdCx0PVtdO2Zvcih2YXIgciBpbiBlKXt2YXIgbj1lW3JdLm9iamVjdE5hbWU7LTE9PT10LmluZGV4T2YobikmJnQucHVzaChuKX1yZXR1cm4gdH19LHtrZXk6ImdldFNlcnZpY2VQcm92aWRlclBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA7aWYodCl7dmFyIG49dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoZS50byk7cj10aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtuXX1lbHNle3ZhciBvPXRoaXMucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlOYW1lKGUuZnJvbSk7cj10aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtvXX1yZXR1cm4gcn19LHtrZXk6ImdldFVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX19LHtrZXk6Il9sb2FkVXNlclBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6dXNlclBvbGljaWVzIikudGhlbihmdW5jdGlvbih0KXt2YXIgbj10O2lmKHZvaWQgMCE9PW4pZm9yKHZhciBvIGluIG4pZS5wZXAuYWRkUG9saWN5KCJVU0VSIixvLG5bb10pO3IoKX0pfSl9fSx7a2V5OiJfZ2V0TGFzdENvbXBvbmVudE9mVVJMIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbdC5sZW5ndGgtMV19fSx7a2V5OiJfZ2V0UG9saWNpZXNKU09OIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSl7dmFyIHI9ZVt0XS5jb21iaW5pbmdBbGdvcml0aG07ciBpbnN0YW5jZW9mIE8uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iYmxvY2tPdmVycmlkZXMiOnIgaW5zdGFuY2VvZiBtLmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImFsbG93T3ZlcnJpZGVzIjpyIGluc3RhbmNlb2YgUy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJmaXJzdEFwcGxpY2FibGUiOmVbdF0uY29tYmluaW5nQWxnb3JpdGhtPXZvaWQgMH1yZXR1cm4gZX19LHtrZXk6InNhdmVBY3RpdmVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazphY3RpdmVQb2xpY3kiLDAsZS5hY3RpdmVVc2VyUG9saWN5KS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6InNhdmVHcm91cHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazpncm91cHMiLDAsZS5ncm91cHMpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToic2F2ZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwO3N3aXRjaChlKXtjYXNlIlVTRVIiOm49KDAsby5kZWZhdWx0KSh0aGlzLnVzZXJQb2xpY2llcyksbj10aGlzLl9nZXRQb2xpY2llc0pTT04oSlNPTi5wYXJzZShuKSksdGhpcy5zdG9yYWdlTWFuYWdlci5zZXQoInJldGhpbms6dXNlclBvbGljaWVzIiwwLG4pO2JyZWFrO2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dm9pZCAwIT09dCZ2b2lkIDAhPT1yJiYodGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbcl09dCksbj0oMCxvLmRlZmF1bHQpKHRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5KSxuPXRoaXMuX2dldFBvbGljaWVzSlNPTihKU09OLnBhcnNlKG4pKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazpzcFBvbGljaWVzIiwwLG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gcG9saWN5IHNvdXJjZTogIitlKX19fSx7a2V5OiJnZXRHcm91cHNOYW1lcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdyb3Vwcyx0PVtdO2lmKHZvaWQgMCE9PWUpZm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0fX0se2tleToiZ2V0R3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoInByZWF1dGhvcmlzZWQiPT09ZSl7dmFyIG49dC5zcGxpdCgiLyIpO24ucG9wKCksbj1uWzBdKyIvLyIrblsyXSxyPXRoaXMucnVudGltZVJlZ2lzdHJ5LmdldFByZUF1dGhTdWJzY3JpYmVycyhuKX1lbHNlIHZvaWQgMCE9PXRoaXMuZ3JvdXBzW2VdJiYocj10aGlzLmdyb3Vwc1tlXSk7cmV0dXJuIHJ9fSx7a2V5OiJjcmVhdGVHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5ncm91cHNbZV09W10sdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJkZWxldGVHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuZ3JvdXBzW2VdLHRoaXMuc2F2ZUdyb3VwcygpfX0se2tleToiYWRkVG9Hcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdyb3VwcztpZih2b2lkIDA9PT1yW2VdKXRocm93IEVycm9yKCdHcm91cCAiJytlKyciIGRvZXMgbm90IGV4aXN0IScpOy0xPT09cltlXS5pbmRleE9mKHQpJiYocltlXS5wdXNoKHQpLHRoaXMuc2F2ZUdyb3VwcygpKX19LHtrZXk6InJlbW92ZUZyb21Hcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdyb3Vwc1tlXTtyLnNwbGljZShyLmluZGV4T2YodCksMSksdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJwZXBVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZXBVUkx9fSx7a2V5OiJndWlVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlVUkx9fSx7a2V5OiJydW50aW1lVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZVVSTH19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZUJ1cz1lfX0se2tleToic3Vic2NyaXB0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3Vic2NyaXB0aW9uPWUubWVzc2FnZS5ib2R5LnN1YnNjcmliZXJ9fV0pLFJ1bnRpbWVDb3JlQ3R4fShELmRlZmF1bHQpKTt0LmRlZmF1bHQ9TSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig3KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVUaGlua0N0eCgpeygwLG8uZGVmYXVsdCkodGhpcyxSZVRoaW5rQ3R4KSx0aGlzLmRlZmF1bHRCZWhhdmlvdXI9ITAsdGhpcy5ncm91cHM9e319cmV0dXJuKDAsYS5kZWZhdWx0KShSZVRoaW5rQ3R4LFt7a2V5OiJzY2hlbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2UuZnJvbTsoMCxzLmlzRGF0YU9iamVjdFVSTCkodCk/dGhpcy5fc2NoZW1lPSgwLHMuZGl2aWRlVVJMKSh0KS50eXBlOnRoaXMuX3NjaGVtZT12b2lkIDB9fSx7a2V5OiJkYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlLHI9U3RyaW5nKHQuZ2V0RGF0ZSgpKTsxPT09ci5sZW5ndGgmJihyPSIwIityKTt2YXIgbj1TdHJpbmcodC5nZXRNb250aCgpKzEpOzE9PT1uLmxlbmd0aCYmKG49IjAiK24pLHRoaXMuX2RhdGU9cisiLyIrbisiLyIrdC5nZXRGdWxsWWVhcigpfX0se2tleToiZG9tYWluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tYWlufSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9kb21haW49KDAscy5kaXZpZGVFbWFpbCkoZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpLmRvbWFpbil9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWVzc2FnZTt2b2lkIDAhPT10LmJvZHkudmFsdWUmJih0aGlzLl90eXBlPXQuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGUpfX0se2tleToic291cmNlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9zb3VyY2U9ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpfX0se2tleToidGltZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LHNldDpmdW5jdGlvbihlKXtlPW5ldyBEYXRlO3ZhciB0PVN0cmluZyhlLmdldE1pbnV0ZXMoKSk7MT09PXQubGVuZ3RoJiYodD0iMCIrdCksdGhpcy5fdGltZT1wYXJzZUludChTdHJpbmcoZS5nZXRIb3VycygpKSt0KX19LHtrZXk6IndlZWtkYXkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWVrZGF5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd2Vla2RheT1TdHJpbmcoKG5ldyBEYXRlKS5nZXREYXkoKSl9fV0pLFJlVGhpbmtDdHh9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1NDgpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMzUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNCkseT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHApLGg9cig1NTUpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXkuZ2V0TG9nZ2VyKCJSdW50aW1lQ2F0YWxvZ3VlIiksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVDYXRhbG9ndWUoZSx0LHIpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxSdW50aW1lQ2F0YWxvZ3VlKSwhZSl0aHJvdyBFcnJvcigiVGhlIGNhdGFsb2d1ZSBuZWVkcyB0aGUgcnVudGltZUZhY3RvcnkiKTt0aGlzLl9mYWN0b3J5PW5ldyB2LmRlZmF1bHQsdGhpcy5odHRwUmVxdWVzdD1lLmNyZWF0ZUh0dHBSZXF1ZXN0KCksdGhpcy5hdG9iPWUuYXRvYj9lLmF0b2I6YXRvYjt2YXIgbj10fHwicnVudGltZUNhdGFsb2d1ZSIsbz1yfHwiJmNndWlkLCBhY2Nlc3NDb250cm9sUG9saWN5LCBjb25zdHJhaW50cywgZGF0YU9iamVjdHMsIGh5cGVydHlUeXBlLCBvYmplY3ROYW1lLCBzb3VyY2VQYWNrYWdlLCB2ZXJzaW9uIixpPXt9O2lbbl09byx0aGlzLnN0b3JhZ2VNYW5hZ2VyPWUuc3RvcmFnZU1hbmFnZXIobixpKX1yZXR1cm4oMCxkLmRlZmF1bHQpKFJ1bnRpbWVDYXRhbG9ndWUsW3trZXk6ImdldERlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0saT1hcmd1bWVudHNbM107Zy5pbmZvKCJbUnVudGltZUNhdGFsb2d1ZV0gLSBnZXR0aW5nIGRlc2NyaXB0b3IgZnJvbTogIixlLCIgd2l0aCBjb25zdHJhaW50czogIixpKTt2YXIgcz0hMSxjPSExLGw9dm9pZCAwO2w9dm9pZCAwIT1pP3UuZGVmYXVsdC5hbGwoW3RoaXMuaHR0cFJlcXVlc3QucG9zdChlKyIvdmVyc2lvbiIse2JvZHk6KDAsYS5kZWZhdWx0KShpKX0pLHRoaXMuaHR0cFJlcXVlc3QucG9zdChlKyIvY2d1aWQiLHtib2R5OigwLGEuZGVmYXVsdCkoaSl9KV0pOnUuZGVmYXVsdC5hbGwoW3RoaXMuaHR0cFJlcXVlc3QuZ2V0KGUrIi92ZXJzaW9uIiksdGhpcy5odHRwUmVxdWVzdC5nZXQoZSsiL2NndWlkIildKSxsPWwudGhlbihmdW5jdGlvbih0KXt2YXIgbj0oMCxvLmRlZmF1bHQpKHQsMiksdT1uWzBdLGM9blsxXTtyZXR1cm4gZy5pbmZvKCJbUnVudGltZUNhdGFsb2d1ZV0gLSBnb3QgdmVyc2lvbiAoIit1KyIpIGFuZCBjZ3VpZCAoIitjKyIpIGZvciBkZXNjcmlwdG9yICIrZSksci5zdG9yYWdlTWFuYWdlci5nZXRWZXJzaW9uKCJjZ3VpZCIsYykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD49dT8oZy53YXJuKCJzdG9yYWdlTWFuYWdlciBjb250YWlucyBzYXZlZCB2ZXJzaW9uIHRoYXQgaXMgdGhlIHNhbWUgb3IgbmV3ZXIgdGhhbiByZXF1ZXN0ZWQiKSxzPSEwLHIuc3RvcmFnZU1hbmFnZXIuZ2V0KCJjZ3VpZCIsYykpOihnLndhcm4oInN0b3JhZ2VNYW5hZ2VyIGRvZXMgbm90IGNvbnRhaW4gc2F2ZWQgdmVyc2lvbiIpLCh2b2lkIDAhPWk/ci5odHRwUmVxdWVzdC5wb3N0KGUse2JvZHk6KDAsYS5kZWZhdWx0KShpKX0pOnIuaHR0cFJlcXVlc3QuZ2V0KGUpKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGU9SlNPTi5wYXJzZShlKSxlLkVSUk9SKXRocm93IG5ldyBFcnJvcihlKTtyZXR1cm4gZX0pKX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9IlVuYWJsZSB0byBnZXQgZGVzY3JpcHRvciBmb3IgIitlKyh2b2lkIDAhPWk/IiB3aXRoIGNvbnN0cmFpbnRzICIraToiIikrIjogIit0O3Rocm93IGcuZXJyb3IociksbmV3IEVycm9yKHIpfSk7dmFyIGY9bDtyZXR1cm4gbiYmKGcubG9nKCJhZGRpbmcgcHJvbWlzZSB0byBhdHRhY2ggc291cmNlUGFja2FnZSIpLGY9bC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNvdXJjZVBhY2thZ2U/KGM9ITAsZSk6KGM9ITEsci5hdHRhY2hSYXdTb3VyY2VQYWNrYWdlKGUpKX0pKSxmPWYudGhlbihmdW5jdGlvbihlKXtyZXR1cm4oIXN8fHMmJiFjJiZuKSYmci5zdG9yYWdlTWFuYWdlci5zZXQoZS5jZ3VpZCxlLnZlcnNpb24sZSksdC5hcHBseShyLFtlLGldKX0pfX0se2tleToiYXR0YWNoUmF3U291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBnLmxvZygiYXR0YWNoaW5nIHJhdyBzb3VyY2VQYWNrYWdlIGZyb206IixlLnNvdXJjZVBhY2thZ2VVUkwpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXsodm9pZCAwIT10P3IuaHR0cFJlcXVlc3QucG9zdChlLnNvdXJjZVBhY2thZ2VVUkwse2JvZHk6KDAsYS5kZWZhdWx0KSh0KX0pOnIuaHR0cFJlcXVlc3QuZ2V0KGUuc291cmNlUGFja2FnZVVSTCkpLnRoZW4oZnVuY3Rpb24odCl7dD1KU09OLnBhcnNlKHQpLGUuc291cmNlUGFja2FnZT10LG4oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImdldEh5cGVydHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZUh5cGVydHksdCxyKX19LHtrZXk6ImdldFN0dWJEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZVN0dWIsdCxyKX19LHtrZXk6ImdldFJ1bnRpbWVEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZVJ1bnRpbWVEZXNjcmlwdG9yLHQscil9fSx7a2V5OiJnZXREYXRhU2NoZW1hRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5nZXREZXNjcmlwdG9yKGUsdGhpcy5jcmVhdGVEYXRhU2NoZW1hLHQscil9fSx7a2V5OiJnZXRJZHBQcm94eURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvcihlLHRoaXMuY3JlYXRlSWRwUHJveHksdCxyKX19LHtrZXk6ImNyZWF0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZhY3RvcnkuY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS50eXBlfHxlLmh5cGVydHlUeXBlLGUuZGF0YU9iamVjdHMpO3QuY29uZmlndXJhdGlvbj1lLmNvbmZpZ3VyYXRpb24sdC5jb25zdHJhaW50cz1lLmNvbnN0cmFpbnRzLHQubWVzc2FnZVNjaGVtYT1lLm1lc3NhZ2VTY2hlbWEsdC5wb2xpY2llcz1lLnBvbGljaWVzLHQuc2lnbmF0dXJlPWUuc2lnbmF0dXJlO3ZhciByPWUuc291cmNlUGFja2FnZTtyZXR1cm4gciYmKHQuc291cmNlUGFja2FnZT10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2UocikpLHR9fSx7a2V5OiJjcmVhdGVTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9mYWN0b3J5LmNyZWF0ZVByb3RvU3R1YkRlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS5tZXNzYWdlU2NoZW1hcyxlLmNvbmZpZ3VyYXRpb24sZS5jb25zdHJhaW50cyxlLmh5cGVydHlUeXBlLGUuZGF0YU9iamVjdHMsZS5pbnRlcndvcmtpbmcsZS5pZHBQcm94eSxlLm11dHVhbEF1dGhlbnRpY2F0aW9uKTt0LnNpZ25hdHVyZT1lLnNpZ25hdHVyZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2U7cmV0dXJuIHImJih0LnNvdXJjZVBhY2thZ2U9dGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHIpKSx0fX0se2tleToiY3JlYXRlUnVudGltZURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtlLmh5cGVydHlDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShlLmh5cGVydHlDYXBhYmlsaXRpZXMpLGUucHJvdG9jb2xDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShlLnByb3RvY29sQ2FwYWJpbGl0aWVzKX1jYXRjaChlKXt9dmFyIHQ9dGhpcy5fZmFjdG9yeS5jcmVhdGVIeXBlcnR5UnVudGltZURlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS50eXBlfHxlLnJ1bnRpbWVUeXBlLGUuaHlwZXJ0eUNhcGFiaWxpdGllcyxlLnByb3RvY29sQ2FwYWJpbGl0aWVzLGUucDJwSGFuZGxlclN0dWIsZS5wMnBSZXF1ZXN0ZXJTdHViKTt0LnNpZ25hdHVyZT1lLnNpZ25hdHVyZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2U7cmV0dXJuIHImJih0LnNvdXJjZVBhY2thZ2U9dGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHIpKSx0fX0se2tleToiY3JlYXRlRGF0YVNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO3Q9ZS5hY2Nlc3NDb250cm9sUG9saWN5JiZlLnNjaGVtZT90aGlzLl9mYWN0b3J5LmNyZWF0ZUh5cGVydHlEYXRhT2JqZWN0U2NoZW1hKGUuY2d1aWQsZS52ZXJzaW9uLGUub2JqZWN0TmFtZSxlLmRlc2NyaXB0aW9uLGUubGFuZ3VhZ2UsZS5zb3VyY2VQYWNrYWdlVVJMLGUuYWNjZXNzQ29udHJvbFBvbGljeSxlLnNjaGVtZSk6dGhpcy5fZmFjdG9yeS5jcmVhdGVNZXNzYWdlRGF0YU9iamVjdFNjaGVtYShlLmNndWlkLGUudmVyc2lvbixlLm9iamVjdE5hbWUsZS5kZXNjcmlwdGlvbixlLmxhbmd1YWdlLGUuc291cmNlUGFja2FnZVVSTCksdC5zaWduYXR1cmU9ZS5zaWduYXR1cmU7dmFyIHI9ZS5zb3VyY2VQYWNrYWdlO2lmKHIpe3Quc291cmNlUGFja2FnZT10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2Uocik7dHJ5e3Quc291cmNlUGFja2FnZS5zb3VyY2VDb2RlPUpTT04ucGFyc2UodC5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpfWNhdGNoKGUpe2cubG9nKCJEYXRhU2NoZW1hIFNvdXJjZSBjb2RlIGlzIGFscmVhZHkgcGFyc2VkIil9cmV0dXJuIHR9cmV0dXJuIHR9fSx7a2V5OiJjcmVhdGVJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmFjdG9yeS5jcmVhdGVQcm90b1N0dWJEZXNjcmlwdG9yT2JqZWN0KGUuY2d1aWQsZS52ZXJzaW9uLGUub2JqZWN0TmFtZSxlLmRlc2NyaXB0aW9uLGUubGFuZ3VhZ2UsZS5zb3VyY2VQYWNrYWdlVVJMLGUubWVzc2FnZVNjaGVtYXMsZS5jb25maWd1cmF0aW9uLGUuY29uc3RyYWludHMsZS5oeXBlcnR5VHlwZSxlLmRhdGFPYmplY3RzLGUuaW50ZXJ3b3JraW5nLGUuaWRwUHJveHksZS5tdXR1YWxBdXRoZW50aWNhdGlvbik7dC5zaWduYXR1cmU9ZS5zaWduYXR1cmU7dmFyIHI9ZS5zb3VyY2VQYWNrYWdlO3JldHVybiByJiYocj10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2UociksdC5zb3VyY2VQYWNrYWdlPXIpLHR9fSx7a2V5OiJjcmVhdGVTb3VyY2VQYWNrYWdlIix2YWx1ZTpmdW5jdGlvbihlKXsiYmFzZTY0Ij09PWUuZW5jb2RpbmcmJihlLnNvdXJjZUNvZGU9dGhpcy5hdG9iKGUuc291cmNlQ29kZSksZS5lbmNvZGluZz0idXRmLTgiKTt2YXIgdD10aGlzLl9mYWN0b3J5LmNyZWF0ZVNvdXJjZVBhY2thZ2UoZS5zb3VyY2VDb2RlQ2xhc3NuYW1lLGUuc291cmNlQ29kZSk7cmV0dXJuIGUuZW5jb2RpbmcmJih0LmVuY29kaW5nPWUuZW5jb2RpbmcpLGUuc2lnbmF0dXJlJiYodC5zaWduYXR1cmU9ZS5zaWduYXR1cmUpLHR9fSx7a2V5OiJnZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coImdldHRpbmcgc291cmNlUGFja2FnZSBmcm9tOiIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuaHR0cFJlcXVlc3QuZ2V0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZS5FUlJPUiluKGUpO2Vsc2V7ZT1KU09OLnBhcnNlKGUpO3ZhciBvPXQuY3JlYXRlU291cmNlUGFja2FnZShlKTtyKG8pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiZ2V0U291cmNlQ29kZUZyb21EZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5zb3VyY2VQYWNrYWdlP3IoZS5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpOnQuc3RvcmFnZU1hbmFnZXIuZ2V0VmVyc2lvbihlLnNvdXJjZVBhY2thZ2VVUkwrIi9zb3VyY2VDb2RlIikudGhlbihmdW5jdGlvbihvKXtvPj1lLnZlcnNpb24/KGcubG9nKCJyZXR1cm5pbmcgY2FjaGVkIHZlcnNpb24gZnJvbSBzdG9yYWdlTWFuYWdlciIpLHQuc3RvcmFnZU1hbmFnZXIuZ2V0KGUuc291cmNlUGFja2FnZVVSTCsiL3NvdXJjZUNvZGUiKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSkpOnQuaHR0cFJlcXVlc3QuZ2V0KGUuc291cmNlUGFja2FnZVVSTCsiL3NvdXJjZUNvZGUiKS50aGVuKGZ1bmN0aW9uKG8pe28uRVJST1I/bihvKToodC5zdG9yYWdlTWFuYWdlci5zZXQoZS5zb3VyY2VQYWNrYWdlVVJMKyIvc291cmNlQ29kZSIsZS52ZXJzaW9uLG8pLHIobykpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJnZXRUeXBlTGlzdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7KHZvaWQgMCE9dD9yLmh0dHBSZXF1ZXN0LnBvc3QoZSx7Ym9keTooMCxhLmRlZmF1bHQpKHQpfSk6ci5odHRwUmVxdWVzdC5nZXQoZSkpLnRoZW4oZnVuY3Rpb24oZSl7ZT1KU09OLnBhcnNlKGUpLG4oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImRlbGV0ZUZyb21QTSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmFnZU1hbmFnZXIuZGVsZXRlKGUpfX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVVUkw9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fV0pLFJ1bnRpbWVDYXRhbG9ndWV9KCk7dC5kZWZhdWx0PV8sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig1NDkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNTUyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihlLHQpe3ZhciByPVtdLG49ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9KDAsYS5kZWZhdWx0KShlKTshKG49KHM9dS5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKHMudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXshbiYmdS5yZXR1cm4mJnUucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiByfXJldHVybiBmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoKDAsby5kZWZhdWx0KShPYmplY3QoZSkpKXJldHVybiBzbGljZUl0ZXJhdG9yKGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0oKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDU1MCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDEwMSkscig4MCksZS5leHBvcnRzPXIoNTUxKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTQyKSxvPXIoMjIpKCJpdGVyYXRvciIpLGk9cig3MSk7ZS5leHBvcnRzPXIoMTEpLmlzSXRlcmFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpO3JldHVybiB2b2lkIDAhPT10W29dfHwiQEBpdGVyYXRvciJpbiB0fHxpLmhhc093blByb3BlcnR5KG4odCkpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDU1MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDEwMSkscig4MCksZS5leHBvcnRzPXIoNTU0KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLG89cigxNDMpO2UuZXhwb3J0cz1yKDExKS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiBuKHQuY2FsbChlKSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig3MiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig1NTgpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNTU5KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDU2MCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1NjEpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNTYyKSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksYj1yKDU2MyksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5KCl7KDAsby5kZWZhdWx0KSh0aGlzLENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5KX1yZXR1cm4oMCxhLmRlZmF1bHQpKENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5LFt7a2V5OiJjcmVhdGVDYXRhbG9ndWVEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxhKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgdS5kZWZhdWx0KGUsdCxyLG4sbyxpLGEpfX0se2tleToiY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEsdSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09dHx8dm9pZCAwPT09cnx8dm9pZCAwPT09bnx8dm9pZCAwPT09b3x8dm9pZCAwPT09aXx8dm9pZCAwPT09YXx8dm9pZCAwPT09dSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGQuZGVmYXVsdChlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZLHQscixuLG8saSxhLHUpfX0se2tleToiY3JlYXRlUHJvdG9TdHViRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSx1LGMsbCxmLGQscCxoKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hfHx2b2lkIDA9PT11fHx2b2lkIDA9PT1jKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgeS5kZWZhdWx0KGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLlBST1RPU1RVQix0LHIsbixvLGksYSx1LGMsbCxmLGQscCxoKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlSdW50aW1lRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSx1LGMsbCxmKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgdi5kZWZhdWx0KGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfUlVOVElNRSx0LHIsbixvLGksYSx1LGMsbCxmKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlJbnRlcmNlcHRvckRlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEsdSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09dHx8dm9pZCAwPT09cnx8dm9pZCAwPT09bnx8dm9pZCAwPT09b3x8dm9pZCAwPT09aSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IF8uZGVmYXVsdChlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0lOVEVSQ0VQVE9SLHQscixuLG8saSxhLHUpfX0se2tleToiY3JlYXRlRGF0YU9iamVjdFNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PXR8fHZvaWQgMD09PXJ8fHZvaWQgMD09PW58fHZvaWQgMD09PW98fHZvaWQgMD09PWkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBiLkRhdGFPYmplY3RTY2hlbWEoZSxzLkNhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9EQVRBX09CSkVDVCx0LHIsbixvLGkpfX0se2tleToiY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgYi5EYXRhT2JqZWN0U2NoZW1hKGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsdCxyLG4sbyxpKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxhLHUpe2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PXR8fHZvaWQgMD09PXJ8fHZvaWQgMD09PW58fHZvaWQgMD09PW98fHZvaWQgMD09PWl8fHZvaWQgMD09PXV8fHZvaWQgMD09PWEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIHU9PT1iLkRhdGFVcmxTY2hlbWUuQ09NTT9uZXcgYi5Db21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1iLkRhdGFVcmxTY2hlbWUuQ09OTkVDVElPTj9uZXcgYi5Db25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1iLkRhdGFVcmxTY2hlbWUuQ1RYVD9uZXcgYi5Db250ZXh0RGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1iLkRhdGFVcmxTY2hlbWUuSURFTlRJVFk/bmV3IGIuSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsdCxyLG4sbyxpLHUsYSk6dm9pZCAwfX0se2tleToiY3JlYXRlU291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10fHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgbC5kZWZhdWx0KGUsdCl9fV0pLENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5fSgpO3QuZGVmYXVsdD1tLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuUmV0aGlua09iamVjdD12b2lkIDA7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNTU3KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj10LlJldGhpbmtPYmplY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZXRoaW5rT2JqZWN0KCl7KDAsYS5kZWZhdWx0KSh0aGlzLFJldGhpbmtPYmplY3QpfXJldHVybigwLHUuZGVmYXVsdCkoUmV0aGlua09iamVjdCxbe2tleToidmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2wuZGVmYXVsdC5hZGRTY2hlbWEoZS5pZCxlKTt2YXIgdD1sLmRlZmF1bHQudmFsaWRhdGVNdWx0aXBsZShKU09OLnBhcnNlKCgwLG8uZGVmYXVsdCkodGhpcykpLGUpO3JldHVybiB0LmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLnN0YWNrfSksIXQudmFsaWR8fHQubWlzc2luZy5sZW5ndGgsdC52YWxpZH19XSksUmV0aGlua09iamVjdH0oKTt0LmRlZmF1bHQ9Zn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saTshZnVuY3Rpb24ocixhKXtvPVtdLG49YSx2b2lkIDAhPT0oaT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmFwcGx5KHQsbyk6bikmJihlLmV4cG9ydHM9aSl9KDAsZnVuY3Rpb24oKXtmdW5jdGlvbiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGUpe3JldHVybiBlbmNvZGVVUkkoZSkucmVwbGFjZSgvJTI1WzAtOV1bMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLnN1YnN0cmluZygzKX0pfWZ1bmN0aW9uIHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHIpe3ZhciBuPSIiO2Vbci5jaGFyQXQoMCldJiYobj1yLmNoYXJBdCgwKSxyPXIuc3Vic3RyaW5nKDEpKTt2YXIgbz0iIixpPSIiLGE9ITAscz0hMSx1PSExOyIrIj09PW4/YT0hMToiLiI9PT1uPyhpPSIuIixvPSIuIik6Ii8iPT09bj8oaT0iLyIsbz0iLyIpOiIjIj09PW4/KGk9IiMiLGE9ITEpOiI7Ij09PW4/KGk9IjsiLG89IjsiLHM9ITAsdT0hMCk6Ij8iPT09bj8oaT0iPyIsbz0iJiIscz0hMCk6IiYiPT09biYmKGk9IiYiLG89IiYiLHM9ITApO2Zvcih2YXIgYz1bXSxsPXIuc3BsaXQoIiwiKSxmPVtdLGQ9e30scD0wO3A8bC5sZW5ndGg7cCsrKXt2YXIgeT1sW3BdLGg9bnVsbDtpZigtMSE9PXkuaW5kZXhPZigiOiIpKXt2YXIgdj15LnNwbGl0KCI6Iik7eT12WzBdLGg9cGFyc2VJbnQodlsxXSwxMCl9Zm9yKHZhciBnPXt9O3RbeS5jaGFyQXQoeS5sZW5ndGgtMSldOylnW3kuY2hhckF0KHkubGVuZ3RoLTEpXT0hMCx5PXkuc3Vic3RyaW5nKDAseS5sZW5ndGgtMSk7dmFyIF89e3RydW5jYXRlOmgsbmFtZTp5LHN1ZmZpY2VzOmd9O2YucHVzaChfKSxkW3ldPV8sYy5wdXNoKHkpfXZhciBiPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixyPTAsbj0wO248Zi5sZW5ndGg7bisrKXt2YXIgYz1mW25dLGw9ZShjLm5hbWUpO2lmKG51bGw9PT1sfHx2b2lkIDA9PT1sfHxBcnJheS5pc0FycmF5KGwpJiYwPT09bC5sZW5ndGh8fCJvYmplY3QiPT10eXBlb2YgbCYmMD09PU9iamVjdC5rZXlzKGwpLmxlbmd0aClyKys7ZWxzZSBpZih0Kz1uPT09cj9pOm98fCIsIixBcnJheS5pc0FycmF5KGwpKXtzJiYodCs9Yy5uYW1lKyI9Iik7Zm9yKHZhciBkPTA7ZDxsLmxlbmd0aDtkKyspZD4wJiYodCs9Yy5zdWZmaWNlc1siKiJdP298fCIsIjoiLCIsYy5zdWZmaWNlc1siKiJdJiZzJiYodCs9Yy5uYW1lKyI9IikpLHQrPWE/ZW5jb2RlVVJJQ29tcG9uZW50KGxbZF0pLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZShsW2RdKX1lbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgbCl7cyYmIWMuc3VmZmljZXNbIioiXSYmKHQrPWMubmFtZSsiPSIpO3ZhciBwPSEwO2Zvcih2YXIgeSBpbiBsKXB8fCh0Kz1jLnN1ZmZpY2VzWyIqIl0/b3x8IiwiOiIsIikscD0hMSx0Kz1hP2VuY29kZVVSSUNvbXBvbmVudCh5KS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUoeSksdCs9Yy5zdWZmaWNlc1siKiJdPyI9IjoiLCIsdCs9YT9lbmNvZGVVUklDb21wb25lbnQobFt5XSkucmVwbGFjZSgvIS9nLCIlMjEiKTpub3RSZWFsbHlQZXJjZW50RW5jb2RlKGxbeV0pfWVsc2UgcyYmKHQrPWMubmFtZSx1JiYiIj09PWx8fCh0Kz0iPSIpKSxudWxsIT1jLnRydW5jYXRlJiYobD1sLnN1YnN0cmluZygwLGMudHJ1bmNhdGUpKSx0Kz1hP2VuY29kZVVSSUNvbXBvbmVudChsKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobCl9cmV0dXJuIHR9O3JldHVybiBiLnZhck5hbWVzPWMse3ByZWZpeDppLHN1YnN0aXR1dGlvbjpifX1mdW5jdGlvbiBVcmlUZW1wbGF0ZShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBVcmlUZW1wbGF0ZSkpcmV0dXJuIG5ldyBVcmlUZW1wbGF0ZShlKTtmb3IodmFyIHQ9ZS5zcGxpdCgieyIpLHI9W3Quc2hpZnQoKV0sbj1bXSxvPVtdLGk9W107dC5sZW5ndGg+MDspe3ZhciBhPXQuc2hpZnQoKSxzPWEuc3BsaXQoIn0iKVswXSx1PWEuc3Vic3RyaW5nKHMubGVuZ3RoKzEpLGM9dXJpVGVtcGxhdGVTdWJzdGl0dXRpb24ocyk7by5wdXNoKGMuc3Vic3RpdHV0aW9uKSxuLnB1c2goYy5wcmVmaXgpLHIucHVzaCh1KSxpPWkuY29uY2F0KGMuc3Vic3RpdHV0aW9uLnZhck5hbWVzKX10aGlzLmZpbGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXJbMF0sbj0wO248by5sZW5ndGg7bisrKXt0Kz0oMCxvW25dKShlKSx0Kz1yW24rMV19cmV0dXJuIHR9LHRoaXMudmFyTmFtZXM9aSx0aGlzLnRlbXBsYXRlPWV9ZnVuY3Rpb24gcmVjdXJzaXZlQ29tcGFyZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKGUmJnQmJiJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiB0KXtpZihBcnJheS5pc0FycmF5KGUpIT09QXJyYXkuaXNBcnJheSh0KSlyZXR1cm4hMTtpZihBcnJheS5pc0FycmF5KGUpKXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKCFyZWN1cnNpdmVDb21wYXJlKGVbcl0sdFtyXSkpcmV0dXJuITF9ZWxzZXt2YXIgbjtmb3IobiBpbiBlKWlmKHZvaWQgMD09PXRbbl0mJnZvaWQgMCE9PWVbbl0pcmV0dXJuITE7Zm9yKG4gaW4gdClpZih2b2lkIDA9PT1lW25dJiZ2b2lkIDAhPT10W25dKXJldHVybiExO2ZvcihuIGluIGUpaWYoIXJlY3Vyc2l2ZUNvbXBhcmUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBwYXJzZVVSSShlKXt2YXIgdD1TdHJpbmcoZSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLm1hdGNoKC9eKFteOlwvPyNdKzopPyhcL1wvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcLz8jXSopKD86OihcZCopKT8pKT8oW14/I10qKShcP1teI10qKT8oI1tcc1xTXSopPy8pO3JldHVybiB0P3tocmVmOnRbMF18fCIiLHByb3RvY29sOnRbMV18fCIiLGF1dGhvcml0eTp0WzJdfHwiIixob3N0OnRbM118fCIiLGhvc3RuYW1lOnRbNF18fCIiLHBvcnQ6dFs1XXx8IiIscGF0aG5hbWU6dFs2XXx8IiIsc2VhcmNoOnRbN118fCIiLGhhc2g6dFs4XXx8IiJ9Om51bGx9ZnVuY3Rpb24gcmVzb2x2ZVVybChlLHQpe3JldHVybiB0PXBhcnNlVVJJKHR8fCIiKSxlPXBhcnNlVVJJKGV8fCIiKSx0JiZlPyh0LnByb3RvY29sfHxlLnByb3RvY29sKSsodC5wcm90b2NvbHx8dC5hdXRob3JpdHk/dC5hdXRob3JpdHk6ZS5hdXRob3JpdHkpK2Z1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLnJlcGxhY2UoL14oXC5cLj8oXC98JCkpKy8sIiIpLnJlcGxhY2UoL1wvKFwuKFwvfCQpKSsvZywiLyIpLnJlcGxhY2UoL1wvXC5cLiQvLCIvLi4vIikucmVwbGFjZSgvXC8/W15cL10qL2csZnVuY3Rpb24oZSl7Ii8uLiI9PT1lP3QucG9wKCk6dC5wdXNoKGUpfSksdC5qb2luKCIiKS5yZXBsYWNlKC9eXC8vLCIvIj09PWUuY2hhckF0KDApPyIvIjoiIil9KHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5fHwiLyI9PT10LnBhdGhuYW1lLmNoYXJBdCgwKT90LnBhdGhuYW1lOnQucGF0aG5hbWU/KGUuYXV0aG9yaXR5JiYhZS5wYXRobmFtZT8iLyI6IiIpK2UucGF0aG5hbWUuc2xpY2UoMCxlLnBhdGhuYW1lLmxhc3RJbmRleE9mKCIvIikrMSkrdC5wYXRobmFtZTplLnBhdGhuYW1lKSsodC5wcm90b2NvbHx8dC5hdXRob3JpdHl8fHQucGF0aG5hbWU/dC5zZWFyY2g6dC5zZWFyY2h8fGUuc2VhcmNoKSt0Lmhhc2g6bnVsbH1mdW5jdGlvbiBnZXREb2N1bWVudFVyaShlKXtyZXR1cm4gZS5zcGxpdCgiIyIpWzBdfWZ1bmN0aW9uIG5vcm1TY2hlbWEoZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpaWYodm9pZCAwPT09dD90PWUuaWQ6InN0cmluZyI9PXR5cGVvZiBlLmlkJiYodD1yZXNvbHZlVXJsKHQsZS5pZCksZS5pZD10KSxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKW5vcm1TY2hlbWEoZVtyXSx0KTtlbHNleyJzdHJpbmciPT10eXBlb2YgZS4kcmVmJiYoZS4kcmVmPXJlc29sdmVVcmwodCxlLiRyZWYpKTtmb3IodmFyIG4gaW4gZSkiZW51bSIhPT1uJiZub3JtU2NoZW1hKGVbbl0sdCl9fWZ1bmN0aW9uIGRlZmF1bHRFcnJvclJlcG9ydGVyKGUpe2U9ZXx8ImVuIjt2YXIgdD1jW2VdO3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10W2UuY29kZV18fHVbZS5jb2RlXTtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIlVua25vd24gZXJyb3IgY29kZSAiK2UuY29kZSsiOiAiK0pTT04uc3RyaW5naWZ5KGUubWVzc2FnZVBhcmFtcyk7dmFyIG49ZS5wYXJhbXM7cmV0dXJuIHIucmVwbGFjZSgvXHsoW157fV0qKVx9L2csZnVuY3Rpb24oZSx0KXt2YXIgcj1uW3RdO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3I6ZX0pfX1mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZSx0LHIsbixvKXtpZihFcnJvci5jYWxsKHRoaXMpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiAiK24pO3RoaXMubWVzc2FnZT0iIix0aGlzLnBhcmFtcz10LHRoaXMuY29kZT1lLHRoaXMuZGF0YVBhdGg9cnx8IiIsdGhpcy5zY2hlbWFQYXRoPW58fCIiLHRoaXMuc3ViRXJyb3JzPW98fG51bGw7dmFyIGk9bmV3IEVycm9yKHRoaXMubWVzc2FnZSk7aWYodGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2UsIXRoaXMuc3RhY2spdHJ5e3Rocm93IGl9Y2F0Y2goaSl7dGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2V9fWZ1bmN0aW9uIGlzVHJ1c3RlZFVybChlLHQpe2lmKHQuc3Vic3RyaW5nKDAsZS5sZW5ndGgpPT09ZSl7dmFyIHI9dC5zdWJzdHJpbmcoZS5sZW5ndGgpO2lmKHQubGVuZ3RoPjAmJiIvIj09PXQuY2hhckF0KGUubGVuZ3RoLTEpfHwiIyI9PT1yLmNoYXJBdCgwKXx8Ij8iPT09ci5jaGFyQXQoMCkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlQXBpKGUpe3ZhciB0LG4sbz1uZXcgcixzPXtzZXRFcnJvclJlcG9ydGVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLmxhbmd1YWdlKGUpOihuPWUsITApfSxhZGRGb3JtYXQ6ZnVuY3Rpb24oKXtvLmFkZEZvcm1hdC5hcHBseShvLGFyZ3VtZW50cyl9LGxhbmd1YWdlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyhjW2VdfHwoZT1lLnNwbGl0KCItIilbMF0pLCEhY1tlXSYmKHQ9ZSxlKSk6dH0sYWRkTGFuZ3VhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IociBpbiBpKXRbcl0mJiF0W2lbcl1dJiYodFtpW3JdXT10W3JdKTt2YXIgbj1lLnNwbGl0KCItIilbMF07aWYoY1tuXSl7Y1tlXT1PYmplY3QuY3JlYXRlKGNbbl0pO2ZvcihyIGluIHQpdm9pZCAwPT09Y1tuXVtyXSYmKGNbbl1bcl09dFtyXSksY1tlXVtyXT10W3JdfWVsc2UgY1tlXT10LGNbbl09dDtyZXR1cm4gdGhpc30sZnJlc2hBcGk6ZnVuY3Rpb24oZSl7dmFyIHQ9Y3JlYXRlQXBpKCk7cmV0dXJuIGUmJnQubGFuZ3VhZ2UoZSksdH0sdmFsaWRhdGU6ZnVuY3Rpb24oZSxpLGEscyl7dmFyIHU9ZGVmYXVsdEVycm9yUmVwb3J0ZXIodCksYz1uP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbihlLHQscil8fHUoZSx0LHIpfTp1LGw9bmV3IHIobywhMSxjLGEscyk7InN0cmluZyI9PXR5cGVvZiBpJiYoaT17JHJlZjppfSksbC5hZGRTY2hlbWEoIiIsaSk7dmFyIGY9bC52YWxpZGF0ZUFsbChlLGksbnVsbCxudWxsLCIiKTtyZXR1cm4hZiYmcyYmKGY9bC5iYW5Vbmtub3duUHJvcGVydGllcyhlLGkpKSx0aGlzLmVycm9yPWYsdGhpcy5taXNzaW5nPWwubWlzc2luZyx0aGlzLnZhbGlkPW51bGw9PT1mLHRoaXMudmFsaWR9LHZhbGlkYXRlUmVzdWx0OmZ1bmN0aW9uKCl7dmFyIGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsaWQ/InZhbGlkIjp0aGlzLmVycm9yLm1lc3NhZ2V9fTtyZXR1cm4gdGhpcy52YWxpZGF0ZS5hcHBseShlLGFyZ3VtZW50cyksZX0sdmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLGksYSxzKXt2YXIgdT1kZWZhdWx0RXJyb3JSZXBvcnRlcih0KSxjPW4/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuKGUsdCxyKXx8dShlLHQscil9OnUsbD1uZXcgcihvLCEwLGMsYSxzKTsic3RyaW5nIj09dHlwZW9mIGkmJihpPXskcmVmOml9KSxsLmFkZFNjaGVtYSgiIixpKSxsLnZhbGlkYXRlQWxsKGUsaSxudWxsLG51bGwsIiIpLHMmJmwuYmFuVW5rbm93blByb3BlcnRpZXMoZSxpKTt2YXIgZj17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZD8idmFsaWQiOnRoaXMuZXJyb3IubWVzc2FnZX19O3JldHVybiBmLmVycm9ycz1sLmVycm9ycyxmLm1pc3Npbmc9bC5taXNzaW5nLGYudmFsaWQ9MD09PWYuZXJyb3JzLmxlbmd0aCxmfSxhZGRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gby5hZGRTY2hlbWEuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRTY2hlbWEuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWFNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRTY2hlbWFNYXAuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWFVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0U2NoZW1hVXJpcy5hcHBseShvLGFyZ3VtZW50cyl9LGdldE1pc3NpbmdVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0TWlzc2luZ1VyaXMuYXBwbHkobyxhcmd1bWVudHMpfSxkcm9wU2NoZW1hczpmdW5jdGlvbigpe28uZHJvcFNjaGVtYXMuYXBwbHkobyxhcmd1bWVudHMpfSxkZWZpbmVLZXl3b3JkOmZ1bmN0aW9uKCl7by5kZWZpbmVLZXl3b3JkLmFwcGx5KG8sYXJndW1lbnRzKX0sZGVmaW5lRXJyb3I6ZnVuY3Rpb24oZSx0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMiKTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fHQlMSE9MHx8dDwxZTQpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCIpO2lmKHZvaWQgMCE9PWlbZV0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICIrZSsiIGFzICIraVtlXSk7aWYodm9pZCAwIT09YVt0XSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAiK2FbdF0rIiBhcyAiK3QpO2lbZV09dCxhW3RdPWUsdVtlXT11W3RdPXI7Zm9yKHZhciBuIGluIGMpe3ZhciBvPWNbbl07b1tlXSYmKG9bdF09b1t0XXx8b1tlXSl9fSxyZXNldDpmdW5jdGlvbigpe28ucmVzZXQoKSx0aGlzLmVycm9yPW51bGwsdGhpcy5taXNzaW5nPVtdLHRoaXMudmFsaWQ9ITB9LG1pc3Npbmc6W10sZXJyb3I6bnVsbCx2YWxpZDohMCxub3JtU2NoZW1hOm5vcm1TY2hlbWEscmVzb2x2ZVVybDpyZXNvbHZlVXJsLGdldERvY3VtZW50VXJpOmdldERvY3VtZW50VXJpLGVycm9yQ29kZXM6aX07cmV0dXJuIHMubGFuZ3VhZ2UoZXx8ImVuIiksc31PYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx0PSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoInRvU3RyaW5nIikscj1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLG49ci5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKCJvYmplY3QiIT10eXBlb2YgbyYmImZ1bmN0aW9uIiE9dHlwZW9mIG98fG51bGw9PT1vKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Iik7dmFyIGk9W107Zm9yKHZhciBhIGluIG8pZS5jYWxsKG8sYSkmJmkucHVzaChhKTtpZih0KWZvcih2YXIgcz0wO3M8bjtzKyspZS5jYWxsKG8scltzXSkmJmkucHVzaChyW3NdKTtyZXR1cm4gaX19KCkpLE9iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLiIpO3JldHVybiBGLnByb3RvdHlwZT1lLG5ldyBGfX0oKSksQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7aWYobnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgdD1PYmplY3QodGhpcykscj10Lmxlbmd0aD4+PjA7aWYoMD09PXIpcmV0dXJuLTE7dmFyIG49MDtpZihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU51bWJlcihhcmd1bWVudHNbMV0pLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0xLzAmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpLG4+PXIpcmV0dXJuLTE7Zm9yKHZhciBvPW4+PTA/bjpNYXRoLm1heChyLU1hdGguYWJzKG4pLDApO288cjtvKyspaWYobyBpbiB0JiZ0W29dPT09ZSlyZXR1cm4gbztyZXR1cm4tMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9InR2NF90ZXN0X2Zyb3plbl9rZXkiO2UuaGFzT3duUHJvcGVydHkodCk7KXQrPU1hdGgucmFuZG9tKCk7dHJ5e3JldHVybiBlW3RdPSEwLGRlbGV0ZSBlW3RdLCExfWNhdGNoKGUpe3JldHVybiEwfX0pO3ZhciBlPXsiKyI6ITAsIiMiOiEwLCIuIjohMCwiLyI6ITAsIjsiOiEwLCI/IjohMCwiJiI6ITB9LHQ9eyIqIjohMH07VXJpVGVtcGxhdGUucHJvdG90eXBlPXt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRlbXBsYXRlfSxmaWxsRnJvbU9iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maWxsKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9fTt2YXIgcj1mdW5jdGlvbihlLHQscixuLG8pe2lmKHRoaXMubWlzc2luZz1bXSx0aGlzLm1pc3NpbmdNYXA9e30sdGhpcy5mb3JtYXRWYWxpZGF0b3JzPWU/T2JqZWN0LmNyZWF0ZShlLmZvcm1hdFZhbGlkYXRvcnMpOnt9LHRoaXMuc2NoZW1hcz1lP09iamVjdC5jcmVhdGUoZS5zY2hlbWFzKTp7fSx0aGlzLmNvbGxlY3RNdWx0aXBsZT10LHRoaXMuZXJyb3JzPVtdLHRoaXMuaGFuZGxlRXJyb3I9dD90aGlzLmNvbGxlY3RFcnJvcjp0aGlzLnJldHVybkVycm9yLG4mJih0aGlzLmNoZWNrUmVjdXJzaXZlPSEwLHRoaXMuc2Nhbm5lZD1bXSx0aGlzLnNjYW5uZWRGcm96ZW49W10sdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcz1bXSx0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzPVtdLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleT0idHY0X3ZhbGlkYXRpb25faWQiLHRoaXMudmFsaWRhdGlvbkVycm9yc0tleT0idHY0X3ZhbGlkYXRpb25fZXJyb3JzX2lkIiksbyYmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcz0hMCx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPXt9KSx0aGlzLmVycm9yUmVwb3J0ZXI9cnx8ZGVmYXVsdEVycm9yUmVwb3J0ZXIoImVuIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLmVycm9yUmVwb3J0ZXIpdGhyb3cgbmV3IEVycm9yKCJkZWJ1ZyIpO2lmKHRoaXMuZGVmaW5lZEtleXdvcmRzPXt9LGUpZm9yKHZhciBpIGluIGUuZGVmaW5lZEtleXdvcmRzKXRoaXMuZGVmaW5lZEtleXdvcmRzW2ldPWUuZGVmaW5lZEtleXdvcmRzW2ldLnNsaWNlKDApfTtyLnByb3RvdHlwZS5kZWZpbmVLZXl3b3JkPWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWZpbmVkS2V5d29yZHNbZV09dGhpcy5kZWZpbmVkS2V5d29yZHNbZV18fFtdLHRoaXMuZGVmaW5lZEtleXdvcmRzW2VdLnB1c2godCl9LHIucHJvdG90eXBlLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEpe3ZhciBzPW5ldyBWYWxpZGF0aW9uRXJyb3IoZSx0LHIsbixvKTtyZXR1cm4gcy5tZXNzYWdlPXRoaXMuZXJyb3JSZXBvcnRlcihzLGksYSksc30sci5wcm90b3R5cGUucmV0dXJuRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHIucHJvdG90eXBlLmNvbGxlY3RFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5lcnJvcnMucHVzaChlKSxudWxsfSxyLnByb3RvdHlwZS5wcmVmaXhFcnJvcnM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lO248dGhpcy5lcnJvcnMubGVuZ3RoO24rKyl0aGlzLmVycm9yc1tuXT10aGlzLmVycm9yc1tuXS5wcmVmaXhXaXRoKHQscik7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmJhblVua25vd25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpe3ZhciBuPXRoaXMuY3JlYXRlRXJyb3IoaS5VTktOT1dOX1BST1BFUlRZLHtwYXRoOnJ9LHIsIiIsbnVsbCxlLHQpLG89dGhpcy5oYW5kbGVFcnJvcihuKTtpZihvKXJldHVybiBvfXJldHVybiBudWxsfSxyLnByb3RvdHlwZS5hZGRGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09dHlwZW9mIGUpe2Zvcih2YXIgciBpbiBlKXRoaXMuYWRkRm9ybWF0KHIsZVtyXSk7cmV0dXJuIHRoaXN9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW2VdPXR9LHIucHJvdG90eXBlLnJlc29sdmVSZWZzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09ZS4kcmVmKXtpZih0PXR8fHt9LHRbZS4kcmVmXSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLkNJUkNVTEFSX1JFRkVSRU5DRSx7dXJsczpPYmplY3Qua2V5cyh0KS5qb2luKCIsICIpfSwiIiwiIixudWxsLHZvaWQgMCxlKTt0W2UuJHJlZl09ITAsZT10aGlzLmdldFNjaGVtYShlLiRyZWYsdCl9cmV0dXJuIGV9LHIucHJvdG90eXBlLmdldFNjaGVtYT1mdW5jdGlvbihlLHQpe3ZhciByO2lmKHZvaWQgMCE9PXRoaXMuc2NoZW1hc1tlXSlyZXR1cm4gcj10aGlzLnNjaGVtYXNbZV0sdGhpcy5yZXNvbHZlUmVmcyhyLHQpO3ZhciBuPWUsbz0iIjtpZigtMSE9PWUuaW5kZXhPZigiIyIpJiYobz1lLnN1YnN0cmluZyhlLmluZGV4T2YoIiMiKSsxKSxuPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCIjIikpKSwib2JqZWN0Ij09dHlwZW9mIHRoaXMuc2NoZW1hc1tuXSl7cj10aGlzLnNjaGVtYXNbbl07dmFyIGk9ZGVjb2RlVVJJQ29tcG9uZW50KG8pO2lmKCIiPT09aSlyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhyLHQpO2lmKCIvIiE9PWkuY2hhckF0KDApKXJldHVybjtmb3IodmFyIGE9aS5zcGxpdCgiLyIpLnNsaWNlKDEpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXS5yZXBsYWNlKC9+MS9nLCIvIikucmVwbGFjZSgvfjAvZywifiIpO2lmKHZvaWQgMD09PXJbdV0pe3I9dm9pZCAwO2JyZWFrfXI9clt1XX1pZih2b2lkIDAhPT1yKXJldHVybiB0aGlzLnJlc29sdmVSZWZzKHIsdCl9dm9pZCAwPT09dGhpcy5taXNzaW5nW25dJiYodGhpcy5taXNzaW5nLnB1c2gobiksdGhpcy5taXNzaW5nW25dPW4sdGhpcy5taXNzaW5nTWFwW25dPW4pfSxyLnByb3RvdHlwZS5zZWFyY2hTY2hlbWFzPWZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLnNlYXJjaFNjaGVtYXMoZVtyXSx0KTtlbHNlIGlmKGUmJiJvYmplY3QiPT10eXBlb2YgZSl7InN0cmluZyI9PXR5cGVvZiBlLmlkJiZpc1RydXN0ZWRVcmwodCxlLmlkKSYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW2UuaWRdJiYodGhpcy5zY2hlbWFzW2UuaWRdPWUpO2Zvcih2YXIgbiBpbiBlKWlmKCJlbnVtIiE9PW4paWYoIm9iamVjdCI9PXR5cGVvZiBlW25dKXRoaXMuc2VhcmNoU2NoZW1hcyhlW25dLHQpO2Vsc2UgaWYoIiRyZWYiPT09bil7dmFyIG89Z2V0RG9jdW1lbnRVcmkoZVtuXSk7byYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW29dJiZ2b2lkIDA9PT10aGlzLm1pc3NpbmdNYXBbb10mJih0aGlzLm1pc3NpbmdNYXBbb109byl9fX0sci5wcm90b3R5cGUuYWRkU2NoZW1hPWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHx2b2lkIDA9PT10KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgZS5pZClyZXR1cm47dD1lLGU9dC5pZH1lPT09Z2V0RG9jdW1lbnRVcmkoZSkrIiMiJiYoZT1nZXREb2N1bWVudFVyaShlKSksdGhpcy5zY2hlbWFzW2VdPXQsZGVsZXRlIHRoaXMubWlzc2luZ01hcFtlXSxub3JtU2NoZW1hKHQsZSksdGhpcy5zZWFyY2hTY2hlbWFzKHQsZSl9LHIucHJvdG90eXBlLmdldFNjaGVtYU1hcD1mdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnNjaGVtYXMpZVt0XT10aGlzLnNjaGVtYXNbdF07cmV0dXJuIGV9LHIucHJvdG90eXBlLmdldFNjaGVtYVVyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMuc2NoZW1hcyllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LHIucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiB0aGlzLm1pc3NpbmdNYXApZSYmIWUudGVzdChyKXx8dC5wdXNoKHIpO3JldHVybiB0fSxyLnByb3RvdHlwZS5kcm9wU2NoZW1hcz1mdW5jdGlvbigpe3RoaXMuc2NoZW1hcz17fSx0aGlzLnJlc2V0KCl9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5taXNzaW5nPVtdLHRoaXMubWlzc2luZ01hcD17fSx0aGlzLmVycm9ycz1bXX0sci5wcm90b3R5cGUudmFsaWRhdGVBbGw9ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaTtpZighKHQ9dGhpcy5yZXNvbHZlUmVmcyh0KSkpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcilyZXR1cm4gdGhpcy5lcnJvcnMucHVzaCh0KSx0O3ZhciBhLHM9dGhpcy5lcnJvcnMubGVuZ3RoLHU9bnVsbCxjPW51bGw7aWYodGhpcy5jaGVja1JlY3Vyc2l2ZSYmZSYmIm9iamVjdCI9PXR5cGVvZiBlKXtpZihpPSF0aGlzLnNjYW5uZWQubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl7dmFyIGw9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2YodCk7aWYoLTEhPT1sKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdKSxudWxsfWlmKE9iamVjdC5pc0Zyb3plbihlKSYmLTEhPT0oYT10aGlzLnNjYW5uZWRGcm96ZW4uaW5kZXhPZihlKSkpe3ZhciBmPXRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV0uaW5kZXhPZih0KTtpZigtMSE9PWYpcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLmNvbmNhdCh0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2ZdKSxudWxsfWlmKHRoaXMuc2Nhbm5lZC5wdXNoKGUpLE9iamVjdC5pc0Zyb3plbihlKSktMT09PWEmJihhPXRoaXMuc2Nhbm5lZEZyb3plbi5sZW5ndGgsdGhpcy5zY2FubmVkRnJvemVuLnB1c2goZSksdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcy5wdXNoKFtdKSksdT10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdW3VdPXQsdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt1XT1bXTtlbHNle2lmKCFlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pdHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5LHt2YWx1ZTpbXSxjb25maWd1cmFibGU6ITB9KX1jYXRjaCh0KXtlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV09W10sZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldPVtdfWM9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmxlbmd0aCxlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV1bY109dCxlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bY109W119fXZhciBkPXRoaXMuZXJyb3JzLmxlbmd0aCxwPXRoaXMudmFsaWRhdGVCYXNpYyhlLHQsbyl8fHRoaXMudmFsaWRhdGVOdW1lcmljKGUsdCxvKXx8dGhpcy52YWxpZGF0ZVN0cmluZyhlLHQsbyl8fHRoaXMudmFsaWRhdGVBcnJheShlLHQsbyl8fHRoaXMudmFsaWRhdGVPYmplY3QoZSx0LG8pfHx0aGlzLnZhbGlkYXRlQ29tYmluYXRpb25zKGUsdCxvKXx8dGhpcy52YWxpZGF0ZUh5cGVybWVkaWEoZSx0LG8pfHx0aGlzLnZhbGlkYXRlRm9ybWF0KGUsdCxvKXx8dGhpcy52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyhlLHQsbyl8fG51bGw7aWYoaSl7Zm9yKDt0aGlzLnNjYW5uZWQubGVuZ3RoOyl7ZGVsZXRlIHRoaXMuc2Nhbm5lZC5wb3AoKVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldfXRoaXMuc2Nhbm5lZEZyb3plbj1bXSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzPVtdfWlmKHB8fGQhPT10aGlzLmVycm9ycy5sZW5ndGgpZm9yKDtyJiZyLmxlbmd0aHx8biYmbi5sZW5ndGg7KXt2YXIgeT1yJiZyLmxlbmd0aD8iIityLnBvcCgpOm51bGwsaD1uJiZuLmxlbmd0aD8iIituLnBvcCgpOm51bGw7cCYmKHA9cC5wcmVmaXhXaXRoKHksaCkpLHRoaXMucHJlZml4RXJyb3JzKGQseSxoKX1yZXR1cm4gbnVsbCE9PXU/dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt1XT10aGlzLmVycm9ycy5zbGljZShzKTpudWxsIT09YyYmKGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtjXT10aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5oYW5kbGVFcnJvcihwKX0sci5wcm90b3R5cGUudmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQuZm9ybWF0fHwhdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XSlyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmZvcm1hdFZhbGlkYXRvcnNbdC5mb3JtYXRdLmNhbGwobnVsbCxlLHQpO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoaS5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnJ9LCIiLCIvZm9ybWF0IixudWxsLGUsdCk6ciYmIm9iamVjdCI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoaS5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnIubWVzc2FnZXx8Ij8ifSxyLmRhdGFQYXRofHwiIixyLnNjaGVtYVBhdGh8fCIvZm9ybWF0IixudWxsLGUsdCk6bnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0aGlzLmRlZmluZWRLZXl3b3JkcylpZih2b2lkIDAhPT10W25dKWZvcih2YXIgbz10aGlzLmRlZmluZWRLZXl3b3Jkc1tuXSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV0sdT1zKGUsdFtuXSx0LHIpO2lmKCJzdHJpbmciPT10eXBlb2YgdXx8Im51bWJlciI9PXR5cGVvZiB1KXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuS0VZV09SRF9DVVNUT00se2tleTpuLG1lc3NhZ2U6dX0sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxuKTtpZih1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3ZhciBjPXUuY29kZTtpZigic3RyaW5nIj09dHlwZW9mIGMpe2lmKCFpW2NdKXRocm93IG5ldyBFcnJvcigiVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICIrYyk7Yz1pW2NdfWVsc2UibnVtYmVyIiE9dHlwZW9mIGMmJihjPWkuS0VZV09SRF9DVVNUT00pO3ZhciBsPSJvYmplY3QiPT10eXBlb2YgdS5tZXNzYWdlP3UubWVzc2FnZTp7a2V5Om4sbWVzc2FnZTp1Lm1lc3NhZ2V8fCI/In0sZj11LnNjaGVtYVBhdGh8fCIvIituLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpO3JldHVybiB0aGlzLmNyZWF0ZUVycm9yKGMsbCx1LmRhdGFQYXRofHxudWxsLGYsbnVsbCxlLHQpfX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVCYXNpYz1mdW5jdGlvbihlLHQscil7dmFyIG47cmV0dXJuKG49dGhpcy52YWxpZGF0ZVR5cGUoZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOihuPXRoaXMudmFsaWRhdGVFbnVtKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKTpudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZVR5cGU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LnR5cGUpcmV0dXJuIG51bGw7dmFyIHI9dHlwZW9mIGU7bnVsbD09PWU/cj0ibnVsbCI6QXJyYXkuaXNBcnJheShlKSYmKHI9ImFycmF5Iik7dmFyIG49dC50eXBlO0FycmF5LmlzQXJyYXkobil8fChuPVtuXSk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoYT09PXJ8fCJpbnRlZ2VyIj09PWEmJiJudW1iZXIiPT09ciYmZSUxPT0wKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuSU5WQUxJRF9UWVBFLHt0eXBlOnIsZXhwZWN0ZWQ6bi5qb2luKCIvIil9LCIiLCIiLG51bGwsZSx0KX0sci5wcm90b3R5cGUudmFsaWRhdGVFbnVtPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dC5lbnVtKXJldHVybiBudWxsO2Zvcih2YXIgcj0wO3I8dC5lbnVtLmxlbmd0aDtyKyspe2lmKHJlY3Vyc2l2ZUNvbXBhcmUoZSx0LmVudW1bcl0pKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuRU5VTV9NSVNNQVRDSCx7dmFsdWU6InVuZGVmaW5lZCIhPXR5cGVvZiBKU09OP0pTT04uc3RyaW5naWZ5KGUpOmV9LCIiLCIiLG51bGwsZSx0KX0sci5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTWluTWF4KGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5hTihlLHQscil8fG51bGx9O3ZhciBuPU1hdGgucG93KDIsLTUxKSxvPTEtbjtyLnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm11bHRpcGxlT2Z8fHQuZGl2aXNpYmxlQnk7aWYodm9pZCAwPT09cilyZXR1cm4gbnVsbDtpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBhPWUvciUxO2lmKGE+PW4mJmE8bylyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLk5VTUJFUl9NVUxUSVBMRV9PRix7dmFsdWU6ZSxtdWx0aXBsZU9mOnJ9LCIiLCIiLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXg9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYodm9pZCAwIT09dC5taW5pbXVtKXtpZihlPHQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLk5VTUJFUl9NSU5JTVVNLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL21pbmltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1pbmltdW0mJmU9PT10Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoaS5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvZXhjbHVzaXZlTWluaW11bSIsbnVsbCxlLHQpfWlmKHZvaWQgMCE9PXQubWF4aW11bSl7aWYoZT50Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoaS5OVU1CRVJfTUFYSU1VTSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9tYXhpbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNYXhpbXVtJiZlPT09dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL2V4Y2x1c2l2ZU1heGltdW0iLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVOYU49ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGU/bnVsbDohMD09PWlzTmFOKGUpfHxlPT09MS8wfHxlPT09LTEvMD90aGlzLmNyZWF0ZUVycm9yKGkuTlVNQkVSX05PVF9BX05VTUJFUix7dmFsdWU6ZX0sIiIsIi90eXBlIixudWxsLGUsdCk6bnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGUsdCxyKXx8dGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aD1mdW5jdGlvbihlLHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9udWxsOnZvaWQgMCE9PXQubWluTGVuZ3RoJiZlLmxlbmd0aDx0Lm1pbkxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKGkuU1RSSU5HX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5MZW5ndGh9LCIiLCIvbWluTGVuZ3RoIixudWxsLGUsdCk6dm9pZCAwIT09dC5tYXhMZW5ndGgmJmUubGVuZ3RoPnQubWF4TGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IoaS5TVFJJTkdfTEVOR1RIX0xPTkcse2xlbmd0aDplLmxlbmd0aCxtYXhpbXVtOnQubWF4TGVuZ3RofSwiIiwiL21heExlbmd0aCIsbnVsbCxlLHQpOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8InN0cmluZyIhPXR5cGVvZiB0LnBhdHRlcm4mJiEodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSlyZXR1cm4gbnVsbDt2YXIgcjtpZih0LnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApcj10LnBhdHRlcm47ZWxzZXt2YXIgbixvPSIiLGE9dC5wYXR0ZXJuLm1hdGNoKC9eXC8oLispXC8oW2ltZ10qKSQvKTthPyhuPWFbMV0sbz1hWzJdKTpuPXQucGF0dGVybixyPW5ldyBSZWdFeHAobixvKX1yZXR1cm4gci50ZXN0KGUpP251bGw6dGhpcy5jcmVhdGVFcnJvcihpLlNUUklOR19QQVRURVJOLHtwYXR0ZXJuOnQucGF0dGVybn0sIiIsIi9wYXR0ZXJuIixudWxsLGUsdCl9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3RoaXMudmFsaWRhdGVBcnJheUxlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZSx0LHIpfHxudWxsOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdm9pZCAwIT09dC5taW5JdGVtcyYmZS5sZW5ndGg8dC5taW5JdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLkFSUkFZX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5JdGVtc30sIiIsIi9taW5JdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhJdGVtcyYmZS5sZW5ndGg+dC5tYXhJdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLkFSUkFZX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heEl0ZW1zfSwiIiwiL21heEl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjpudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXM9ZnVuY3Rpb24oZSx0KXtpZih0LnVuaXF1ZUl0ZW1zKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1yKzE7bjxlLmxlbmd0aDtuKyspaWYocmVjdXJzaXZlQ29tcGFyZShlW3JdLGVbbl0pKXt2YXIgbz10aGlzLmNyZWF0ZUVycm9yKGkuQVJSQVlfVU5JUVVFLHttYXRjaDE6cixtYXRjaDI6bn0sIiIsIi91bmlxdWVJdGVtcyIsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IobykpcmV0dXJuIG99cmV0dXJuIG51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5pdGVtcylyZXR1cm4gbnVsbDt2YXIgbixvO2lmKEFycmF5LmlzQXJyYXkodC5pdGVtcykpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspaWYobzx0Lml0ZW1zLmxlbmd0aCl7aWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5pdGVtc1tvXSxbb10sWyJpdGVtcyIsb10scisiLyIrbykpcmV0dXJuIG59ZWxzZSBpZih2b2lkIDAhPT10LmFkZGl0aW9uYWxJdGVtcylpZigiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxJdGVtcyl7aWYoIXQuYWRkaXRpb25hbEl0ZW1zJiYobj10aGlzLmNyZWF0ZUVycm9yKGkuQVJSQVlfQURESVRJT05BTF9JVEVNUyx7fSwiLyIrbywiL2FkZGl0aW9uYWxJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5hZGRpdGlvbmFsSXRlbXMsW29dLFsiYWRkaXRpb25hbEl0ZW1zIl0scisiLyIrbykpcmV0dXJuIG59ZWxzZSBmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQuaXRlbXMsW29dLFsiaXRlbXMiXSxyKyIvIitvKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVPYmplY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJvYmplY3QiIT10eXBlb2YgZXx8bnVsbD09PWV8fEFycmF5LmlzQXJyYXkoZSk/bnVsbDp0aGlzLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPU9iamVjdC5rZXlzKGUpO3JldHVybiB2b2lkIDAhPT10Lm1pblByb3BlcnRpZXMmJm4ubGVuZ3RoPHQubWluUHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWluaW11bTp0Lm1pblByb3BlcnRpZXN9LCIiLCIvbWluUHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhQcm9wZXJ0aWVzJiZuLmxlbmd0aD50Lm1heFByb3BlcnRpZXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoaS5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLHtwcm9wZXJ0eUNvdW50Om4ubGVuZ3RoLG1heGltdW06dC5tYXhQcm9wZXJ0aWVzfSwiIiwiL21heFByb3BlcnRpZXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5yZXF1aXJlZClmb3IodmFyIHI9MDtyPHQucmVxdWlyZWQubGVuZ3RoO3IrKyl7dmFyIG49dC5yZXF1aXJlZFtyXTtpZih2b2lkIDA9PT1lW25dKXt2YXIgbz10aGlzLmNyZWF0ZUVycm9yKGkuT0JKRUNUX1JFUVVJUkVELHtrZXk6bn0sIiIsIi9yZXF1aXJlZC8iK3IsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IobykpcmV0dXJuIG99fXJldHVybiBudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2Zvcih2YXIgbyBpbiBlKXt2YXIgYT1yKyIvIitvLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHM9ITE7aWYodm9pZCAwIT09dC5wcm9wZXJ0aWVzJiZ2b2lkIDAhPT10LnByb3BlcnRpZXNbb10mJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQucHJvcGVydGllc1tvXSxbb10sWyJwcm9wZXJ0aWVzIixvXSxhKSkpcmV0dXJuIG47aWYodm9pZCAwIT09dC5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIHUgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGM9bmV3IFJlZ0V4cCh1KTtpZihjLnRlc3QobykmJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQucGF0dGVyblByb3BlcnRpZXNbdV0sW29dLFsicGF0dGVyblByb3BlcnRpZXMiLHVdLGEpKSlyZXR1cm4gbn1pZihzKXRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdKTtlbHNlIGlmKHZvaWQgMCE9PXQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdKSwiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXtpZighdC5hZGRpdGlvbmFsUHJvcGVydGllcyYmKG49dGhpcy5jcmVhdGVFcnJvcihpLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMse2tleTpvfSwiIiwiL2FkZGl0aW9uYWxQcm9wZXJ0aWVzIixudWxsLGUsdCkucHJlZml4V2l0aChvLG51bGwpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5hZGRpdGlvbmFsUHJvcGVydGllcyxbb10sWyJhZGRpdGlvbmFsUHJvcGVydGllcyJdLGEpKXJldHVybiBufWVsc2UgdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYhdGhpcy5rbm93blByb3BlcnR5UGF0aHNbYV0mJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwKX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKHZvaWQgMCE9PXQuZGVwZW5kZW5jaWVzKWZvcih2YXIgbyBpbiB0LmRlcGVuZGVuY2llcylpZih2b2lkIDAhPT1lW29dKXt2YXIgYT10LmRlcGVuZGVuY2llc1tvXTtpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKHZvaWQgMD09PWVbYV0mJihuPXRoaXMuY3JlYXRlRXJyb3IoaS5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTpvLG1pc3Npbmc6YX0sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxvKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXTtpZih2b2lkIDA9PT1lW3VdJiYobj10aGlzLmNyZWF0ZUVycm9yKGkuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLHtrZXk6byxtaXNzaW5nOnV9LCIiLCIvIitzLG51bGwsZSx0KS5wcmVmaXhXaXRoKG51bGwsbykucHJlZml4V2l0aChudWxsLCJkZXBlbmRlbmNpZXMiKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlLGEsW10sWyJkZXBlbmRlbmNpZXMiLG9dLHIpKXJldHVybiBufXJldHVybiBudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihlLHQscil8fHRoaXMudmFsaWRhdGVBbnlPZihlLHQscil8fHRoaXMudmFsaWRhdGVPbmVPZihlLHQscil8fHRoaXMudmFsaWRhdGVOb3QoZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFsbE9mKXJldHVybiBudWxsO2Zvcih2YXIgbixvPTA7bzx0LmFsbE9mLmxlbmd0aDtvKyspe3ZhciBpPXQuYWxsT2Zbb107aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsaSxbXSxbImFsbE9mIixvXSxyKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVBbnlPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5hbnlPZilyZXR1cm4gbnVsbDt2YXIgbixvLGE9W10scz10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLG89dGhpcy5rbm93blByb3BlcnR5UGF0aHMpO2Zvcih2YXIgdT0hMCxjPTA7Yzx0LmFueU9mLmxlbmd0aDtjKyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBsPXQuYW55T2ZbY10sZj10aGlzLmVycm9ycy5sZW5ndGgsZD10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbImFueU9mIixjXSxyKTtpZihudWxsPT09ZCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgcCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylvW3BdPSEwLGRlbGV0ZSBuW3BdO2Zvcih2YXIgeSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKW9beV18fChuW3ldPSEwKTt1PSExO2NvbnRpbnVlfXJldHVybiBudWxsfWQmJmEucHVzaChkLnByZWZpeFdpdGgobnVsbCwiIitjKS5wcmVmaXhXaXRoKG51bGwsImFueU9mIikpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksdT8oYT1hLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKGkuQU5ZX09GX01JU1NJTkcse30sIiIsIi9hbnlPZiIsYSxlLHQpKTp2b2lkIDB9LHIucHJvdG90eXBlLnZhbGlkYXRlT25lT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQub25lT2YpcmV0dXJuIG51bGw7dmFyIG4sbyxhPW51bGwscz1bXSx1PXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsbz10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciBjPTA7Yzx0Lm9uZU9mLmxlbmd0aDtjKyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBsPXQub25lT2ZbY10sZj10aGlzLmVycm9ycy5sZW5ndGgsZD10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbIm9uZU9mIixjXSxyKTtpZihudWxsPT09ZCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYobnVsbCE9PWEpcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksdGhpcy5jcmVhdGVFcnJvcihpLk9ORV9PRl9NVUxUSVBMRSx7aW5kZXgxOmEsaW5kZXgyOmN9LCIiLCIvb25lT2YiLG51bGwsZSx0KTtpZihhPWMsdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKXtmb3IodmFyIHAgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpb1twXT0hMCxkZWxldGUgbltwXTtmb3IodmFyIHkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocylvW3ldfHwoblt5XT0hMCl9fWVsc2UgZCYmcy5wdXNoKGQpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksbnVsbD09PWE/KHM9cy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2UodSkpLHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksdGhpcy5jcmVhdGVFcnJvcihpLk9ORV9PRl9NSVNTSU5HLHt9LCIiLCIvb25lT2YiLHMsZSx0KSk6KHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksbnVsbCl9LHIucHJvdG90eXBlLnZhbGlkYXRlTm90PWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lm5vdClyZXR1cm4gbnVsbDt2YXIgbixvLGE9dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxvPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzLHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBzPXRoaXMudmFsaWRhdGVBbGwoZSx0Lm5vdCxudWxsLG51bGwsciksdT10aGlzLmVycm9ycy5zbGljZShhKTtyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxhKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksbnVsbD09PXMmJjA9PT11Lmxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKGkuTk9UX1BBU1NFRCx7fSwiIiwiL25vdCIsbnVsbCxlLHQpOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYT1mdW5jdGlvbihlLHQscil7aWYoIXQubGlua3MpcmV0dXJuIG51bGw7Zm9yKHZhciBuLG89MDtvPHQubGlua3MubGVuZ3RoO28rKyl7dmFyIGk9dC5saW5rc1tvXTtpZigiZGVzY3JpYmVkYnkiPT09aS5yZWwpe2Zvcih2YXIgYT1uZXcgVXJpVGVtcGxhdGUoaS5ocmVmKSxzPSEwLHU9MDt1PGEudmFyTmFtZXMubGVuZ3RoO3UrKylpZighKGEudmFyTmFtZXNbdV1pbiBlKSl7cz0hMTticmVha31pZihzKXt2YXIgYz1hLmZpbGxGcm9tT2JqZWN0KGUpLGw9eyRyZWY6Y307aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbImxpbmtzIixvXSxyKSlyZXR1cm4gbn19fX07dmFyIGk9e0lOVkFMSURfVFlQRTowLEVOVU1fTUlTTUFUQ0g6MSxBTllfT0ZfTUlTU0lORzoxMCxPTkVfT0ZfTUlTU0lORzoxMSxPTkVfT0ZfTVVMVElQTEU6MTIsTk9UX1BBU1NFRDoxMyxOVU1CRVJfTVVMVElQTEVfT0Y6MTAwLE5VTUJFUl9NSU5JTVVNOjEwMSxOVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6MTAyLE5VTUJFUl9NQVhJTVVNOjEwMyxOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6MTA0LE5VTUJFUl9OT1RfQV9OVU1CRVI6MTA1LFNUUklOR19MRU5HVEhfU0hPUlQ6MjAwLFNUUklOR19MRU5HVEhfTE9ORzoyMDEsU1RSSU5HX1BBVFRFUk46MjAyLE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06MzAwLE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06MzAxLE9CSkVDVF9SRVFVSVJFRDozMDIsT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzozMDMsT0JKRUNUX0RFUEVOREVOQ1lfS0VZOjMwNCxBUlJBWV9MRU5HVEhfU0hPUlQ6NDAwLEFSUkFZX0xFTkdUSF9MT05HOjQwMSxBUlJBWV9VTklRVUU6NDAyLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6NDAzLEZPUk1BVF9DVVNUT006NTAwLEtFWVdPUkRfQ1VTVE9NOjUwMSxDSVJDVUxBUl9SRUZFUkVOQ0U6NjAwLFVOS05PV05fUFJPUEVSVFk6MWUzfSxhPXt9O2Zvcih2YXIgcyBpbiBpKWFbaVtzXV09czt2YXIgdT17SU5WQUxJRF9UWVBFOiJJbnZhbGlkIHR5cGU6IHt0eXBlfSAoZXhwZWN0ZWQge2V4cGVjdGVkfSkiLEVOVU1fTUlTTUFUQ0g6Ik5vIGVudW0gbWF0Y2ggZm9yOiB7dmFsdWV9IixBTllfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJhbnlPZiInLE9ORV9PRl9NSVNTSU5HOidEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gIm9uZU9mIicsT05FX09GX01VTFRJUExFOidEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSAib25lT2YiOiBpbmRpY2VzIHtpbmRleDF9IGFuZCB7aW5kZXgyfScsTk9UX1BBU1NFRDonRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tICJub3QiJyxOVU1CRVJfTVVMVElQTEVfT0Y6IlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgbXVsdGlwbGUgb2Yge211bHRpcGxlT2Z9IixOVU1CRVJfTUlOSU1VTToiVmFsdWUge3ZhbHVlfSBpcyBsZXNzIHRoYW4gbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRToiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NQVhJTVVNOiJWYWx1ZSB7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX05PVF9BX05VTUJFUjoiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIiLFNUUklOR19MRU5HVEhfU0hPUlQ6IlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX0iLFNUUklOR19MRU5HVEhfTE9ORzoiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19IixTVFJJTkdfUEFUVEVSTjoiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufSIsT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTToiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1pbmltdW0ge21pbmltdW19IixPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiJUb28gbWFueSBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1heGltdW0ge21heGltdW19IixPQkpFQ1RfUkVRVUlSRUQ6Ik1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHtrZXl9IixPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiJBZGRpdGlvbmFsIHByb3BlcnRpZXMgbm90IGFsbG93ZWQiLE9CSkVDVF9ERVBFTkRFTkNZX0tFWToiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDoge21pc3Npbmd9IChkdWUgdG8ga2V5OiB7a2V5fSkiLEFSUkFZX0xFTkdUSF9TSE9SVDoiQXJyYXkgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSksIG1pbmltdW0ge21pbmltdW19IixBUlJBWV9MRU5HVEhfTE9ORzoiQXJyYXkgaXMgdG9vIGxvbmcgKHtsZW5ndGh9KSwgbWF4aW11bSB7bWF4aW11bX0iLEFSUkFZX1VOSVFVRToiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWUgKGluZGljZXMge21hdGNoMX0gYW5kIHttYXRjaDJ9KSIsQVJSQVlfQURESVRJT05BTF9JVEVNUzoiQWRkaXRpb25hbCBpdGVtcyBub3QgYWxsb3dlZCIsRk9STUFUX0NVU1RPTToiRm9ybWF0IHZhbGlkYXRpb24gZmFpbGVkICh7bWVzc2FnZX0pIixLRVlXT1JEX0NVU1RPTToiS2V5d29yZCBmYWlsZWQ6IHtrZXl9ICh7bWVzc2FnZX0pIixDSVJDVUxBUl9SRUZFUkVOQ0U6IkNpcmN1bGFyICRyZWZzOiB7dXJsc30iLFVOS05PV05fUFJPUEVSVFk6IlVua25vd24gcHJvcGVydHkgKG5vdCBpbiBzY2hlbWEpIn07VmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1WYWxpZGF0aW9uRXJyb3IsVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lPSJWYWxpZGF0aW9uRXJyb3IiLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUucHJlZml4V2l0aD1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT1lJiYoZT1lLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuZGF0YVBhdGg9Ii8iK2UrdGhpcy5kYXRhUGF0aCksbnVsbCE9PXQmJih0PXQucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksdGhpcy5zY2hlbWFQYXRoPSIvIit0K3RoaXMuc2NoZW1hUGF0aCksbnVsbCE9PXRoaXMuc3ViRXJyb3JzKWZvcih2YXIgcj0wO3I8dGhpcy5zdWJFcnJvcnMubGVuZ3RoO3IrKyl0aGlzLnN1YkVycm9yc1tyXS5wcmVmaXhXaXRoKGUsdCk7cmV0dXJuIHRoaXN9O3ZhciBjPXt9LGw9Y3JlYXRlQXBpKCk7cmV0dXJuIGwuYWRkTGFuZ3VhZ2UoImVuLWdiIix1KSxsLnR2ND1sLGx9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU291cmNlUGFja2FnZShlLHQpeygwLG8uZGVmYXVsdCkodGhpcyxTb3VyY2VQYWNrYWdlKSx0aGlzLl9zb3VyY2VDb2RlPXQsdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZT1lLHRoaXMuX2VuY29kaW5nPW51bGwsdGhpcy5fc2lnbmF0dXJlPW51bGx9cmV0dXJuKDAsYS5kZWZhdWx0KShTb3VyY2VQYWNrYWdlLFt7a2V5OiJzb3VyY2VDb2RlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlQ29kZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VDb2RlPWUpfX0se2tleToic291cmNlQ29kZUNsYXNzbmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZUNvZGVDbGFzc25hbWV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZT1lKX19LHtrZXk6ImVuY29kaW5nIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5jb2Rpbmd9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fZW5jb2Rpbmc9ZSl9fSx7a2V5OiJzaWduYXR1cmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc2lnbmF0dXJlPWUpfX1dKSxTb3VyY2VQYWNrYWdlfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuSHlwZXJ0eVJlc291cmNlVHlwZT10Lkh5cGVydHlUeXBlPXQuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5VHlwZT12b2lkIDA7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTcpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNzIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIEh5cGVydHlEZXNjcmlwdG9yKGUsdCxyLG4saSxzLHUsYyxmKXsoMCxhLmRlZmF1bHQpKHRoaXMsSHlwZXJ0eURlc2NyaXB0b3IpO3ZhciBkPSgwLGwuZGVmYXVsdCkodGhpcywoSHlwZXJ0eURlc2NyaXB0b3IuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKEh5cGVydHlEZXNjcmlwdG9yKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLHUpKTtyZXR1cm4gZC5fY29uZmlndXJhdGlvbj17fSxkLl9jb25zdHJhaW50cz17fSxkLl9wb2xpY2llcz17fSxkLl9tZXNzYWdlU2NoZW1hPW51bGwsZC5faHlwZXJ0eVR5cGU9YyxkLl9kYXRhT2JqZWN0cz1mLGR9cmV0dXJuKDAsZC5kZWZhdWx0KShIeXBlcnR5RGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKEh5cGVydHlEZXNjcmlwdG9yLFt7a2V5OiJoeXBlcnR5VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2h5cGVydHlUeXBlPWUpfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9kYXRhT2JqZWN0cz1lKX19LHtrZXk6ImNvbmZpZ3VyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbmZpZ3VyYXRpb249ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToibWVzc2FnZVNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWF9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYT1lKX19LHtrZXk6InBvbGljaWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9saWNpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fcG9saWNpZXM9ZSl9fV0pLEh5cGVydHlEZXNjcmlwdG9yfSh5LmRlZmF1bHQpO3QuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5VHlwZT17fSx0Lkh5cGVydHlUeXBlPXtDT01NVU5JQ0FUT1I6ImNvbW11bmljYXRvciIsSURFTlRJVFk6ImlkZW50aXR5IixDT05URVhUOiJjb250ZXh0In0sdC5IeXBlcnR5UmVzb3VyY2VUeXBlPXtjaGF0OiJDSEFUIixhdWRpbzoiQXVkaW8iLHZpZGVvOiJWaWRlbyIsYXY6IkFWIixzY3JlZW46IlNDUkVFTiIsZmlsZToiRklMZSIsbWlkaToiTUlESSJ9O3QuZGVmYXVsdD1ofSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxOCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig3MikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gUHJvdG9jb2xTdHViRGVzY3JpcHRvcihlLHQscixuLGkscyx1LGMsZixkLHAseSxoLHYsZyl7KDAsYS5kZWZhdWx0KSh0aGlzLFByb3RvY29sU3R1YkRlc2NyaXB0b3IpO3ZhciBfPSgwLGwuZGVmYXVsdCkodGhpcywoUHJvdG9jb2xTdHViRGVzY3JpcHRvci5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoUHJvdG9jb2xTdHViRGVzY3JpcHRvcikpLmNhbGwodGhpcyxlLHQscixuLGkscyx1KSk7cmV0dXJuIF8uX21lc3NhZ2VTY2hlbWFzPWMsXy5fY29uZmlndXJhdGlvbj1mfHx7fSxfLl9jb25zdHJhaW50cz1kfHx7fSxfLl9oeXBlcnR5VHlwZT1wLF8uX2RhdGFPYmplY3RzPXl8fFtdLF8uX2ludGVyd29ya2luZz1oLF8uX2lkcFByb3h5PXYsXy5fbXV0dWFsQXV0aGVudGljYXRpb249ZyxffXJldHVybigwLGQuZGVmYXVsdCkoUHJvdG9jb2xTdHViRGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKFByb3RvY29sU3R1YkRlc2NyaXB0b3IsW3trZXk6Im1lc3NhZ2VTY2hlbWFzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZVNjaGVtYXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYXM9ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToiY29uZmlndXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fY29uZmlndXJhdGlvbj1lKX19LHtrZXk6Imh5cGVydHlUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eVR5cGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oeXBlcnR5VHlwZT1lfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGFPYmplY3RzPWV9fSx7a2V5OiJpbnRlcndvcmtpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcndvcmtpbmd9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pbnRlcndvcmtpbmc9ZX19LHtrZXk6ImlkcFByb3h5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRwUHJveHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pZHBQcm94eT1lfX0se2tleToibXV0dWFsQXV0aGVudGljYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdXR1YWxBdXRoZW50aWNhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX211dHVhbEF1dGhlbnRpY2F0aW9uPWV9fV0pLFByb3RvY29sU3R1YkRlc2NyaXB0b3J9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5SdW50aW1lVHlwZT10LlJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHk9dC5SdW50aW1lSHlwZXJ0eUNhcGFiaWxpdHk9dm9pZCAwO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcyKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5UnVudGltZURlc2NyaXB0b3IoZSx0LHIsbixvLGkscyxjLGwsZixwLHkpeygwLHUuZGVmYXVsdCkodGhpcyxIeXBlcnR5UnVudGltZURlc2NyaXB0b3IpO3ZhciBoPSgwLGQuZGVmYXVsdCkodGhpcywoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLl9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KShIeXBlcnR5UnVudGltZURlc2NyaXB0b3IpKS5jYWxsKHRoaXMsZSx0LHIsbixvLGkscykpO3JldHVybiBoLl9ydW50aW1lVHlwZT1jLGguX2h5cGVydHlDYXBhYmlsaXRpZXM9bHx8bmV3IF8oITAsITEsITEsITEsITEpLGguX3Byb3RvY29sQ2FwYWJpbGl0aWVzPWZ8fG5ldyBiKCEwLCExLCEwLCExLCExLCExKSxoLl9wMnBIYW5kbGVyU3R1Yj1wLGguX3AycFJlcXVlc3RlclN0dWI9eSxofXJldHVybigwLHkuZGVmYXVsdCkoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLGUpLCgwLGwuZGVmYXVsdCkoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLFt7a2V5OiJydW50aW1lVHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3J1bnRpbWVUeXBlPWUpfX0se2tleToiaHlwZXJ0eUNhcGFiaWxpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcz1lKX19LHtrZXk6InByb3RvY29sQ2FwYWJpbGl0aWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllc30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcz1lKX19LHtrZXk6InAycEhhbmRsZXJTdHViIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwSGFuZGxlclN0dWJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9wMnBIYW5kbGVyU3R1Yj1lfX0se2tleToicDJwUmVxdWVzdGVyU3R1YiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycFJlcXVlc3RlclN0dWJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9wMnBSZXF1ZXN0ZXJTdHViPWV9fV0pLEh5cGVydHlSdW50aW1lRGVzY3JpcHRvcn0odi5kZWZhdWx0KSxfPXQuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVudGltZUh5cGVydHlDYXBhYmlsaXR5KGUsdCxyLG4sbyl7KDAsdS5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSksdGhpcy5faXNXZWJSVEM9ZSx0aGlzLl9pc01pYz10LHRoaXMuX2lzQ2FtZXJhPXIsdGhpcy5faXNTZW5zb3I9bix0aGlzLl9pc09SVEM9b31yZXR1cm4oMCxsLmRlZmF1bHQpKFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSxbe2tleToiZ2V0Q2FwYWJpbGl0eVNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4oMCxvLmRlZmF1bHQpKHRoaXMpfX0se2tleToiaXNNaWMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc01pY319LHtrZXk6ImlzQ2FtZXJhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDYW1lcmF9fSx7a2V5OiJpc1NlbnNvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2Vuc29yfX0se2tleToiaXNXZWJSVEMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dlYlJUQ319LHtrZXk6ImlzT1JUQ1MiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09SVEN9fV0pLFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eX0oKSxiPXQuUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHkoZSx0LHIsbixvLGkpeygwLHUuZGVmYXVsdCkodGhpcyxSdW50aW1lUHJvdG9jb2xDYXBhYmlsaXR5KSx0aGlzLl9pc0h0dHA9ZSx0aGlzLl9pc0h0dHBzPXQsdGhpcy5faXNXUz1yLHRoaXMuX2lzV1NTPW4sdGhpcy5faXNDb2FwPW8sdGhpcy5faXNEYXRhQ2hhbm5lbD1pfXJldHVybigwLGwuZGVmYXVsdCkoUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eSxbe2tleToiaXNIdHRwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0h0dHB9fSx7a2V5OiJpc0h0dHBzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0h0dHBzfX0se2tleToiaXNXUyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNXU319LHtrZXk6ImlzU2Vuc29yU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NlbnNvcn19LHtrZXk6ImlzV1NTIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dTU319LHtrZXk6ImlzQ29hcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb2FwfX0se2tleToiaXNEYXRhQ2hhbm5lbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEYXRhQ2hhbm5lbH19LHtrZXk6ImdldENhcGFiaWxpdHlTZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKDAsby5kZWZhdWx0KSh0aGlzKX19XSksUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eX0oKTt0LlJ1bnRpbWVUeXBlPXtCUk9XU0VSOiJicm93c2VyIixTVEFOREFMT05FOiJzdGFuZGFsb25lIixTRVJWRVI6InNlcnZlciIsR0FURVdBWToiZ2F0ZXdheSJ9O3QuZGVmYXVsdD1nfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxOCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig3MikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKGUsdCxyLG4saSxzLHUsYyxmKXsoMCxhLmRlZmF1bHQpKHRoaXMsUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKTt2YXIgZD0oMCxsLmRlZmF1bHQpKHRoaXMsKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvci5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLHUpKTtyZXR1cm4gZC5fY29uZmlndXJhdGlvbj1jLGQuX3BvbGljaWVzPWYsZH1yZXR1cm4oMCxkLmRlZmF1bHQpKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvcixbe2tleToiY29uZmlndXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb25maWd1cmF0aW9uPWV9fSx7a2V5OiJwb2xpY2llcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvbGljaWVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcG9saWNpZXM9ZX19XSksUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yfSh5LmRlZmF1bHQpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuRGF0YVVybFNjaGVtZT10LkNvbnRleHREYXRhT2JqZWN0U2NoZW1hPXQuSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hPXQuQ29ubmVjdGlvbkRhdGFPYmplY3RTY2hlbWE9dC5Db21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYT10Lkh5cGVydHlEYXRhT2JqZWN0U2NoZW1hPXQuTWVzc2FnZURhdGFPYmplY3RTY2hlbWE9dC5EYXRhT2JqZWN0U2NoZW1hPXZvaWQgMDt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTcpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTgpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNzIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXQuRGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBEYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMpe3JldHVybigwLGEuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKERhdGFPYmplY3RTY2hlbWEuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKERhdGFPYmplY3RTY2hlbWEpKS5jYWxsKHRoaXMsZSx0LHIsbixpLHMsYykpfXJldHVybigwLGwuZGVmYXVsdCkoRGF0YU9iamVjdFNjaGVtYSxlKSxEYXRhT2JqZWN0U2NoZW1hfShkLmRlZmF1bHQpLHk9KHQuTWVzc2FnZURhdGFPYmplY3RTY2hlbWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gTWVzc2FnZURhdGFPYmplY3RTY2hlbWEoZSx0LHIsbixpLHMsYyl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjKSl9cmV0dXJuKDAsbC5kZWZhdWx0KShNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSxlKSxNZXNzYWdlRGF0YU9iamVjdFNjaGVtYX0ocCksdC5IeXBlcnR5RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYShlLHQscixuLGkscyxjLGwsZil7KDAsYS5kZWZhdWx0KSh0aGlzLEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hKTt2YXIgZD0oMCx1LmRlZmF1bHQpKHRoaXMsKEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjKSk7cmV0dXJuIGQuX2FjY2Vzc0NvbnRyb2xQb2xpY3k9bCxkLl9zY2hlbWU9ZixkfXJldHVybigwLGwuZGVmYXVsdCkoSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEsZSksSHlwZXJ0eURhdGFPYmplY3RTY2hlbWF9KHApKTt0LkNvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMsbCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShDb21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjLGwpKX1yZXR1cm4oMCxsLmRlZmF1bHQpKENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hLGUpLENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hfSh5KSx0LkNvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMsbCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShDb25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjLGwpKX1yZXR1cm4oMCxsLmRlZmF1bHQpKENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hLGUpLENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hfSh5KSx0LklkZW50aXR5RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBJZGVudGl0eURhdGFPYmplY3RTY2hlbWEoZSx0LHIsbixpLHMsYyxsKXtyZXR1cm4oMCxhLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKElkZW50aXR5RGF0YU9iamVjdFNjaGVtYS5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLGMsbCkpfXJldHVybigwLGwuZGVmYXVsdCkoSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hLGUpLElkZW50aXR5RGF0YU9iamVjdFNjaGVtYX0oeSksdC5Db250ZXh0RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBDb250ZXh0RGF0YU9iamVjdFNjaGVtYShlLHQscixuLGkscyxjLGwpe3JldHVybigwLGEuZGVmYXVsdCkodGhpcyxDb250ZXh0RGF0YU9iamVjdFNjaGVtYSksKDAsdS5kZWZhdWx0KSh0aGlzLChDb250ZXh0RGF0YU9iamVjdFNjaGVtYS5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoQ29udGV4dERhdGFPYmplY3RTY2hlbWEpKS5jYWxsKHRoaXMsZSx0LHIsbixpLHMsYyxsKSl9cmV0dXJuKDAsbC5kZWZhdWx0KShDb250ZXh0RGF0YU9iamVjdFNjaGVtYSxlKSxDb250ZXh0RGF0YU9iamVjdFNjaGVtYX0oeSksdC5EYXRhVXJsU2NoZW1lPXtDT01NOiJDT01NIixDT05ORUNUSU9OOiJDT05ORUNUSU9OIixDVFhUOiJDVFhUIixJREVOVElUWToiSURFTlRJVFkifTt0LmRlZmF1bHQ9cH1dKX0pOw==",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "15.90",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "",
    "p2pRequesterStub": "",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}