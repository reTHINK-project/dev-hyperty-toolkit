{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xMS4xCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjo0MjozOCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4xCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjo0MjozOCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4xCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjo0MTozNCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4xCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjo0MTozNCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoyMTo1MCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoyMTo1MCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoxNzoxNyBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoxNzoxNyBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoxNDo0MiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IEZyaSBKYW4gMTIgMjAxOCAxMjoxNDo0MiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjo1NDowMiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjo1NDowMiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjo0ODo0NiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjo0ODo0NyBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjozMTowMiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNjozMTowMiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNToxOTowMSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNToxOTowMSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNToxMzozMCBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAxNToxMzozMSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAwOToxMDowOSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAwOToxMDowOSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFR1ZSBKYW4gMDkgMjAxOCAxNzo1MDo1NiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKIWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoIlJ1bnRpbWUiLFtdLHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJ1bnRpbWU9dCgpOmUuUnVudGltZT10KCl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZnVuY3Rpb24oKXsvKioqKioqLwpyZXR1cm4gZnVuY3Rpb24oZSl7LyoqKioqKi8KLyoqKioqKi8KLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb24KLyoqKioqKi8KZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhyKXsvKioqKioqLwovKioqKioqLwovLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8KaWYodFtyXSkvKioqKioqLwpyZXR1cm4gdFtyXS5leHBvcnRzOy8qKioqKiovCi8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovCnZhciBuPXRbcl09ey8qKioqKiovCmk6ciwvKioqKioqLwpsOiExLC8qKioqKiovCmV4cG9ydHM6e319Oy8qKioqKiovCi8qKioqKiovCi8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovCnJldHVybiBlW3JdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG4ubD0hMCxuLmV4cG9ydHN9Ly8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLwovLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovCnZhciB0PXt9Oy8qKioqKiovCi8qKioqKiovCi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLwovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHMKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXMKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovCnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09ZSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9dCxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LHIpey8qKioqKiovCl9fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHwvKioqKioqLwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHsvKioqKioqLwpjb25maWd1cmFibGU6ITEsLyoqKioqKi8KZW51bWVyYWJsZTohMCwvKioqKioqLwpnZXQ6cn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24oZSl7LyoqKioqKi8KdmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPy8qKioqKiovCmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06LyoqKioqKi8KZnVuY3Rpb24oKXtyZXR1cm4gZX07LyoqKioqKi8KLyoqKioqKi8KcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZCh0LCJhIix0KSx0fSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LF9fd2VicGFja19yZXF1aXJlX18ucD0iIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0yMTIpfShbLyogMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMzApLG89cigxOCkscz1yKDE5KSxhPXIoMjcpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGYsbCxkLHA9ZSZ1LkYseT1lJnUuRyxoPWUmdS5TLHY9ZSZ1LlAsZz1lJnUuQixiPXk/bjpoP25bdF18fChuW3RdPXt9KTooblt0XXx8e30pLnByb3RvdHlwZSxtPXk/aTppW3RdfHwoaVt0XT17fSksXz1tLnByb3RvdHlwZXx8KG0ucHJvdG90eXBlPXt9KTt5JiYocj10KTtmb3IoYyBpbiByKQovLyBjb250YWlucyBpbiBuYXRpdmUKZj0hcCYmYiYmdm9pZCAwIT09YltjXSwKLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWQKbD0oZj9iOnIpW2NdLAovLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dApkPWcmJmY/YShsLG4pOnYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2EoRnVuY3Rpb24uY2FsbCxsKTpsLAovLyBleHRlbmQgZ2xvYmFsCmImJnMoYixjLGwsZSZ1LlUpLAovLyBleHBvcnQKbVtjXSE9bCYmbyhtLGMsZCksdiYmX1tjXSE9bCYmKF9bY109bCl9O24uY29yZT1pLAovLyB0eXBlIGJpdG1hcAp1LkY9MSwvLyBmb3JjZWQKdS5HPTIsLy8gZ2xvYmFsCnUuUz00LC8vIHN0YXRpYwp1LlA9OCwvLyBwcm90bwp1LkI9MTYsLy8gYmluZAp1Llc9MzIsLy8gd3JhcAp1LlU9NjQsLy8gc2FmZQp1LlI9MTI4LC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAKZS5leHBvcnRzPXV9LC8qIDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSwvKiAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMjAwKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaS5kZWZhdWx0KShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKX0sLyogMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0sLyogNCAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOAp2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LC8qIDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LC8qIDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sLyogNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG4saTsvKgoqIGxvZ2xldmVsIC0gaHR0cHM6Ly9naXRodWIuY29tL3BpbXRlcnJ5L2xvZ2xldmVsCioKKiBDb3B5cmlnaHQgKGMpIDIwMTMgVGltIFBlcnJ5CiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgoqLwohZnVuY3Rpb24obyxzKXsidXNlIHN0cmljdCI7bj1zLHZvaWQgMCE9PShpPSJmdW5jdGlvbiI9PXR5cGVvZiBuP24uY2FsbCh0LHIsdCxlKTpuKSYmKGUuZXhwb3J0cz1pKX0oMCxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjsKLy8gQ3Jvc3MtYnJvd3NlciBiaW5kIGVxdWl2YWxlbnQgdGhhdCB3b3JrcyBhdCBsZWFzdCBiYWNrIHRvIElFNgpmdW5jdGlvbiBiaW5kTWV0aG9kKGUsdCl7dmFyIHI9ZVt0XTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygci5iaW5kKXJldHVybiByLmJpbmQoZSk7dHJ5e3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHIsZSl9Y2F0Y2godCl7Ci8vIE1pc3NpbmcgYmluZCBzaGltIG9yIElFOCArIE1vZGVybml6ciwgZmFsbGJhY2sgdG8gd3JhcHBpbmcKcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShyLFtlLGFyZ3VtZW50c10pfX19Ci8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudgovLyBXaGVyZXZlciBwb3NzaWJsZSB3ZSB3YW50IHRvIGJpbmQsIG5vdCB3cmFwLCB0byBwcmVzZXJ2ZSBzdGFjayB0cmFjZXMKZnVuY3Rpb24gcmVhbE1ldGhvZChyKXtyZXR1cm4iZGVidWciPT09ciYmKHI9ImxvZyIpLHR5cGVvZiBjb25zb2xlIT09dCYmKHZvaWQgMCE9PWNvbnNvbGVbcl0/YmluZE1ldGhvZChjb25zb2xlLHIpOnZvaWQgMCE9PWNvbnNvbGUubG9nP2JpbmRNZXRob2QoY29uc29sZSwibG9nIik6ZSl9Ci8vIFRoZXNlIHByaXZhdGUgZnVuY3Rpb25zIGFsd2F5cyBuZWVkIGB0aGlzYCB0byBiZSBzZXQgcHJvcGVybHkKZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKHQsbil7Lypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi8KZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07dGhpc1tvXT1pPHQ/ZTp0aGlzLm1ldGhvZEZhY3Rvcnkobyx0LG4pfQovLyBEZWZpbmUgbG9nLmxvZyBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnCnRoaXMubG9nPXRoaXMuZGVidWd9Ci8vIEluIG9sZCBJRSB2ZXJzaW9ucywgdGhlIGNvbnNvbGUgaXNuJ3QgcHJlc2VudCB1bnRpbCB5b3UgZmlyc3Qgb3BlbiBpdC4KLy8gV2UgYnVpbGQgcmVhbE1ldGhvZCgpIHJlcGxhY2VtZW50cyBoZXJlIHRoYXQgcmVnZW5lcmF0ZSBsb2dnaW5nIG1ldGhvZHMKZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dHlwZW9mIGNvbnNvbGUhPT10JiYocmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcyxyLG4pLHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpKX19Ci8vIEJ5IGRlZmF1bHQsIHdlIHVzZSBjbG9zZWx5IGJvdW5kIHJlYWwgbWV0aG9kcyB3aGVyZXZlciBwb3NzaWJsZSwgYW5kCi8vIG90aGVyd2lzZSB3ZSB3YWl0IGZvciBhIGNvbnNvbGUgdG8gYXBwZWFyLCBhbmQgdGhlbiB0cnkgYWdhaW4uCmZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KGUsdCxyKXsvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqLwpyZXR1cm4gcmVhbE1ldGhvZChlKXx8ZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTG9nZ2VyKGUsbixpKXtmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGUpe3ZhciBuPShyW2VdfHwic2lsZW50IikudG9VcHBlckNhc2UoKTtpZih0eXBlb2Ygd2luZG93IT09dCl7Ci8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlCnRyeXtyZXR1cm4gdm9pZCh3aW5kb3cubG9jYWxTdG9yYWdlW2FdPW4pfWNhdGNoKGUpe30KLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrCnRyeXt3aW5kb3cuZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrbisiOyJ9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gZ2V0UGVyc2lzdGVkTGV2ZWwoKXt2YXIgZTtpZih0eXBlb2Ygd2luZG93IT09dCl7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZVthXX1jYXRjaChlKXt9Ci8vIEZhbGxiYWNrIHRvIGNvb2tpZXMgaWYgbG9jYWwgc3RvcmFnZSBnaXZlcyB1cyBub3RoaW5nCmlmKHR5cGVvZiBlPT09dCl0cnl7dmFyIHI9d2luZG93LmRvY3VtZW50LmNvb2tpZSxuPXIuaW5kZXhPZihlbmNvZGVVUklDb21wb25lbnQoYSkrIj0iKTstMSE9PW4mJihlPS9eKFteO10rKS8uZXhlYyhyLnNsaWNlKG4pKVsxXSl9Y2F0Y2goZSl7fQovLyBJZiB0aGUgc3RvcmVkIGxldmVsIGlzIG5vdCB2YWxpZCwgdHJlYXQgaXQgYXMgaWYgbm90aGluZyB3YXMgc3RvcmVkLgpyZXR1cm4gdm9pZCAwPT09cy5sZXZlbHNbZV0mJihlPXZvaWQgMCksZX19dmFyIG8scz10aGlzLGE9ImxvZ2xldmVsIjtlJiYoYSs9IjoiK2UpLC8qCiAgICAgICAqCiAgICAgICAqIFB1YmxpYyBsb2dnZXIgQVBJIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbCBmb3IgZGV0YWlscwogICAgICAgKgogICAgICAgKi8Kcy5uYW1lPWUscy5sZXZlbHM9e1RSQUNFOjAsREVCVUc6MSxJTkZPOjIsV0FSTjozLEVSUk9SOjQsU0lMRU5UOjV9LHMubWV0aG9kRmFjdG9yeT1pfHxkZWZhdWx0TWV0aG9kRmFjdG9yeSxzLmdldExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHMuc2V0TGV2ZWw9ZnVuY3Rpb24ocixuKXtpZigic3RyaW5nIj09dHlwZW9mIHImJnZvaWQgMCE9PXMubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0mJihyPXMubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0pLCEoIm51bWJlciI9PXR5cGVvZiByJiZyPj0wJiZyPD1zLmxldmVscy5TSUxFTlQpKXRocm93ImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6ICIrcjtpZihvPXIsITEhPT1uJiYvLyBkZWZhdWx0cyB0byB0cnVlCnBlcnNpc3RMZXZlbElmUG9zc2libGUocikscmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwocyxyLGUpLHR5cGVvZiBjb25zb2xlPT09dCYmcjxzLmxldmVscy5TSUxFTlQpcmV0dXJuIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nIn0scy5zZXREZWZhdWx0TGV2ZWw9ZnVuY3Rpb24oZSl7Z2V0UGVyc2lzdGVkTGV2ZWwoKXx8cy5zZXRMZXZlbChlLCExKX0scy5lbmFibGVBbGw9ZnVuY3Rpb24oZSl7cy5zZXRMZXZlbChzLmxldmVscy5UUkFDRSxlKX0scy5kaXNhYmxlQWxsPWZ1bmN0aW9uKGUpe3Muc2V0TGV2ZWwocy5sZXZlbHMuU0lMRU5ULGUpfTsKLy8gSW5pdGlhbGl6ZSB3aXRoIHRoZSByaWdodCBsZXZlbAp2YXIgdT1nZXRQZXJzaXN0ZWRMZXZlbCgpO251bGw9PXUmJih1PW51bGw9PW4/IldBUk4iOm4pLHMuc2V0TGV2ZWwodSwhMSl9Ci8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemUKdmFyIGU9ZnVuY3Rpb24oKXt9LHQ9InVuZGVmaW5lZCIscj1bInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIl0sbj1uZXcgTG9nZ2VyLGk9e307bi5nZXRMb2dnZXI9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwiIj09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLiIpO3ZhciB0PWlbZV07cmV0dXJuIHR8fCh0PWlbZV09bmV3IExvZ2dlcihlLG4uZ2V0TGV2ZWwoKSxuLm1ldGhvZEZhY3RvcnkpKSx0fTsKLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlCnZhciBvPXR5cGVvZiB3aW5kb3chPT10P3dpbmRvdy5sb2c6dm9pZCAwO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9PXQmJndpbmRvdy5sb2c9PT1uJiYod2luZG93LmxvZz1vKSxufSxuLmdldExvZ2dlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sbn0pfSwvKiA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc4KSgid2tzIiksaT1yKDQ4KSxvPXIoNCkuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIG87KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09cyYmb1tlXXx8KHM/bzppKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9bn0sLyogOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDE2KSxfX2VzTW9kdWxlOiEwfX0sLyogMTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5CmUuZXhwb3J0cz0hcig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLGk9cigxNDgpLG89cigzMSkscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoMTApP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSwvKiAxMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xNSBUb0xlbmd0aAp2YXIgbj1yKDMzKSxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP2kobihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sLyogMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LC8qIDE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCi8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLwovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTChlKXtmdW5jdGlvbiByZWN1cnNlKGUpe3ZhciB0PS8oW2EtekEtWi1dKikoOlwvXC8oPzpcLik/fDopKFstYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl8rfiM9XC9dKikvZ2k7cmV0dXJuIGUucmVwbGFjZSh0LCIkMSwkMywkNCIpLnNwbGl0KCIsIil9dmFyIHQ9cmVjdXJzZShlKTsKLy8gSWYgdGhlIHVybCBoYXMgbm8gc2NoZW1lCmlmKHRbMF09PT1lJiYhdFswXS5pbmNsdWRlcygiQCIpKXtyZXR1cm57dHlwZToiIixkb21haW46ZSxpZGVudGl0eToiIn19Ci8vIGNoZWNrIGlmIHRoZSB1cmwgaGFzIHRoZSBzY2hlbWUgYW5kIGluY2x1ZGVzIGFuIEAKaWYodFswXT09PWUmJnRbMF0uaW5jbHVkZXMoIkAiKSl7dD1yZWN1cnNlKCh0WzBdPT09ZT8ic210cCI6dFswXSkrIjovLyIrdFswXSl9Ci8vIGlmIHRoZSBkb21haW4gaW5jbHVkZXMgYW4gQCwgZGl2aWRlIGl0IHRvIGRvbWFpbiBhbmQgaWRlbnRpdHkgcmVzcGVjdGl2ZWx5CnJldHVybiB0WzFdLmluY2x1ZGVzKCJAIikmJih0WzJdPXRbMF0rIjovLyIrdFsxXSx0WzFdPXRbMV0uc3Vic3RyKHRbMV0uaW5kZXhPZigiQCIpKzEpKSx7dHlwZTp0WzBdLGRvbWFpbjp0WzFdLGlkZW50aXR5OnRbMl19fS8qKgogKiBDaGVjayBpZiBhbiBPYmplY3QgaXMgZW1wdHkKICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWQKICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgc3RhdHVzIG9mIE9iamVjdCwgZW1wdHkgb3Igbm90ICh0cnVlfGZhbHNlKTsKICovCmZ1bmN0aW9uIGVtcHR5T2JqZWN0KGUpe3JldHVybiEoKDAscy5kZWZhdWx0KShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gc2Vjb25kc1NpbmNlRXBvY2goKXtyZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9LyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi8KZnVuY3Rpb24gZGVlcENsb25lKGUpewovL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCmlmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsaS5kZWZhdWx0KShlKSl9ZnVuY3Rpb24gcmVtb3ZlUGF0aEZyb21VUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX0vKioKICogT2J0YWlucyB0aGUgdXNlciBVUkwgdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIGVtYWlsCiAqIEBwYXJhbSAge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsCiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMCiAqLwpmdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfS8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIGVtYWlsIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBVUkwKICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICovCmZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59LyoqCiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXQKICogQHBhcmFtICB7c3RyaW5nfSAgIGlkZW50aWZpZXIgIHVzZXIgaWRlbnRpZmllcgogKiBAcmV0dXJuIHtzdHJpbmd9ICAgdXNlclVSTCAgICB0aGUgdXNlciBVUkwKICovCmZ1bmN0aW9uIGNvbnZlcnRUb1VzZXJVUkwoZSl7Ci8vIGNoZWNrIGlmIHRoZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIHVybCBmb3JtYXQKaWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9ZGl2aWRlVVJMKGUpOwovL2NoZWNrIGlmIHRoZSB1cmwgaXMgd2VsbCBmb3JtYXRlZAppZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gZ2V0VXNlclVSTEZyb21FbWFpbChlKX1mdW5jdGlvbiBpc0RhdGFPYmplY3RVUkwoZSl7dmFyIHQ9WyJkb21haW4taWRwIiwicnVudGltZSIsImRvbWFpbiIsImh5cGVydHkiXSxyPWUuc3BsaXQoIjovLyIpLG49clswXTtyZXR1cm4tMT09PXQuaW5kZXhPZihuKX1mdW5jdGlvbiBpc0xlZ2FjeShlKXtyZXR1cm4gZS5zcGxpdCgiQCIpLmxlbmd0aD4xfWZ1bmN0aW9uIGlzVVJMKGUpe3JldHVybiBlLnNwbGl0KCIvIikubGVuZ3RoPj0zfWZ1bmN0aW9uIGlzVXNlclVSTChlKXtyZXR1cm4idXNlciI9PT1kaXZpZGVVUkwoZSkudHlwZX1mdW5jdGlvbiBpc0h5cGVydHlVUkwoZSl7cmV0dXJuImh5cGVydHkiPT09ZGl2aWRlVVJMKGUpLnR5cGV9LyoqCiAqIGdldCBpbmZvcm1hdGlvbiByZWxhdGl2ZSBlYWNoIGNvbXBvbmVudCBjb25maWd1cmVkIG9uIHJ1bnRpbWUgY29uZmlndXJhdGlvbjsKICogQHBhcmFtICB7b2JqZWN0fSBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGFsbCBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50ICAgICBzdHJpbmcgd2l0aCB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiwgbGlrZSwgcnVudGltZVVSTFMsIGNhdGFsb2d1ZVVSTHMsIG1zZ05vZGVVUkwsIGRvbWFpblJlZ2lzdHJ5VVJMOwogKiBAcGFyYW0gIHtzdHJpbmd9IHJlc291cmNlICAgICAgdHlwZSBvZiByZXNvdXJjZSB0byBnZXQsIGxpa2UsIGNhdGFsb2d1ZSwgcnVudGltZVVBLCBwcm90b2NvbHN0dWIsIGlkcFByb3h5CiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgICAgICByZXR1cm4gYW4gb2JqZWN0IHdpdGggYWxsIGNvbmZpZ3VyYXRpb25zOwogKi8KZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcyhlLHQscil7cmV0dXJuIGVbdF1bcl19LyoqCiAqIEJ1aWxkIGEgZnVsbCB1cmwgd2l0aCB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uOwogKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggYWxsIGNvbmZpZ3VyYXRpb24KICogQHBhcmFtICB7c3RyaW5nfSBjb21wb25lbnQgICAgIHN0cmluZyB3aXRoIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBjb25maWd1cmF0aW9uLCBsaWtlLCBydW50aW1lVVJMUywgY2F0YWxvZ3VlVVJMcywgbXNnTm9kZVVSTCwgZG9tYWluUmVnaXN0cnlVUkw7CiAqIEBwYXJhbSAge3N0cmluZ30gcmVzb3VyY2UgICAgICB0eXBlIG9mIHJlc291cmNlIHRvIGdldCwgbGlrZSwgY2F0YWxvZ3VlLCBydW50aW1lVUEsIHByb3RvY29sc3R1YiwgaWRwUHJveHkKICogQHBhcmFtICB7c3RyaW5nfSB0eXBlICAgICAgICAgIHJlc291cmNlIHRvIGdldCwgbGlrZSBhIGh5cGVydHkgbmFtZSBvciBwcm90b2NvbHN0dWIgbmFtZTsKICogQHBhcmFtICB7Ym9vbGVhbn0gdXNlRmFsbGJhY2sgIGlmIHRydWUgdGhlIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgaGF2ZSBhIGZhbGxiYWNrIHVybDsKICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgICAgIHBhcnRpYWwgdXJsIHRvIGNvbnRhY3QgdGhlIHJlc291cmNlOwogKi8KZnVuY3Rpb24gYnVpbGRVUkwoZSx0LHIsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxzPWVbdF0sYT12b2lkIDA7aWYoIXMuaGFzT3duUHJvcGVydHkocikpdGhyb3cgRXJyb3IoIlRoZSBjb25maWd1cmF0aW9uICIrKDAsaS5kZWZhdWx0KShzLCIiLDIpKyIgZG9uJ3QgaGF2ZSB0aGUgIityKyIgcmVzb3VyY2UgeW91IGFyZSBsb29raW5nIGZvciIpO3ZhciB1PXNbcl07Ci8vIGNvbnNvbGUubG9nKHVybCk7CnJldHVybiBuPyhhPXUucHJlZml4K2UuZG9tYWluK3Uuc3VmZml4K24sdS5oYXNPd25Qcm9wZXJ0eSgiZmFsbGJhY2siKSYmbyYmKGE9dS5mYWxsYmFjay5pbmRleE9mKCIlZG9tYWluJSIpP3UuZmFsbGJhY2sucmVwbGFjZSgvKCVkb21haW4lKS9nLGUuZG9tYWluKStuOnUuZmFsbGJhY2srbikpOmE9dS5wcmVmaXgrZS5kb21haW4rdS5zdWZmaXgsYX0vKioKICogR2VuZXJhdGUgYSBHbG9iYWwgVW5pcXVlIElECiAqCiAqIEByZXR1cm5zIFN0cmluZzsKICovCmZ1bmN0aW9uIGdlbmVyYXRlR1VJRCgpe2Z1bmN0aW9uIHM0KCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIHM0KCkrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKStzNCgpK3M0KCl9ZnVuY3Rpb24gZ2V0VXNlcklkZW50aXR5RG9tYWluKGUpe3ZhciB0PWRpdmlkZVVSTChlKSxyPXQuZG9tYWluLnNwbGl0KCIuIiksbj1yLmxlbmd0aDtyZXR1cm4gMT09bj9yW24tMV06cltuLTJdKyIuIityW24tMV19LyoqCiAqIENoZWNrIGlmIFVSTCBpcyBmcm9tIGEgYmFja2VuZCBzZXJ2aWNlCiAqIEBwYXJhbSAge3N0cmluZ30gdXJsICAgICBVUkwgdG8gYmUgcHJvY2Vzc2VkCiAqIEByZXR1cm4ge2Jvb2xlYW59CiAqLwpmdW5jdGlvbiBpc0JhY2tlbmRTZXJ2aWNlVVJMKGUpe3ZhciB0PWRpdmlkZVVSTChlKSxyPXQuZG9tYWluLnNwbGl0KCIuIiksbj1bImRvbWFpbiIsImdsb2JhbCIsImRvbWFpbi1pZHAiXSxpPVsicmVnaXN0cnkiLCJtc2ctbm9kZSJdLG89dm9pZCAwO3JldHVybiByLmxlbmd0aD4xJiYobz1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWkuaW5kZXhPZihlKX0pWzBdKSwhKCFvfHwtMT09PWkuaW5kZXhPZihvKSl8fCEhdC50eXBlJiYtMSE9PW4uaW5kZXhPZih0LnR5cGUpfWZ1bmN0aW9uIGRpdmlkZUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybnt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfX1mdW5jdGlvbiBhc3NpZ24oZSx0LHIpe2V8fChlPXt9KSwic3RyaW5nIj09dHlwZW9mIHQmJih0PXBhcnNlQXR0cmlidXRlcyh0KSk7Zm9yKHZhciBuPXQubGVuZ3RoLTEsaT0wO2k8bjsrK2kpe3ZhciBvPXRbaV07byBpbiBlfHwoZVtvXT17fSksZT1lW29dfWVbdFtuXV09cn1mdW5jdGlvbiBzcGxpdE9iamVjdFVSTChlKXt2YXIgdD1lLnNwbGl0KCIvIikscj10WzBdKyIvLyIrdFsyXSsiLyIrdFszXSxuPXRbNV0saT17dXJsOnIscmVzb3VyY2U6bn07cmV0dXJuIGl9ZnVuY3Rpb24gY2hlY2tBdHRyaWJ1dGUoZSl7dmFyIHQ9LygoKFthLXpBLVpdKyk6XC9cLyhbMC05YS16QS1aXVstXHddKlswLTlhLXpBLVpdXC4pK1thLXpBLVpdezIsOX0pXC9bYS16QS1aMC05Ll0rQFthLXpBLVowLTldKygtKT9bYS16QS1aMC05XSsoXC4pP1thLXpBLVowLTldezIsMTB9P1wuW2EtekEtWl17MiwxMH0pKC4rKD89LmlkZW50aXR5KSk/L2dtLHI9W10sbj1bXTtpZihudWxsPT1lLm1hdGNoKHQpKW49ZS5zcGxpdCgiLiIpO2Vsc2V7Zm9yKHZhciBpPXZvaWQgMDtudWxsIT09KGk9dC5leGVjKGUpKTspCi8vIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIGluZmluaXRlIGxvb3BzIHdpdGggemVyby13aWR0aCBtYXRjaGVzCmkuaW5kZXg9PT10Lmxhc3RJbmRleCYmdC5sYXN0SW5kZXgrKywKLy8gVGhlIHJlc3VsdCBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgYG1gLXZhcmlhYmxlLgppLmZvckVhY2goZnVuY3Rpb24oZSx0KXswPT09dCYmci5wdXNoKGUpfSk7dmFyIG89dm9pZCAwO3IuZm9yRWFjaChmdW5jdGlvbih0KXtvPWUucmVwbGFjZSh0LCIqLSoiKSxuPW8uc3BsaXQoIi4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiotKiI9PT1lP3Q6ZX0pfSl9cmV0dXJuIG59ZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGUpe3ZhciB0PS8oWzAtOWEtekEtWl1bLVx3XSopOlwvXC8vZztpZihlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIHI9ZS5zcGxpdCh0KVswXSxuPXIuc3BsaXQoIi4iKSxpPWUucmVwbGFjZShyLCIiKTtpZihlLmluY2x1ZGVzKCJpZGVudGl0eSIpKXt2YXIgbz1pLnNwbGl0KCJpZGVudGl0eS4iKTtpPW9bMF0uc2xpY2UoIi4iLC0xKSxvPW9bMV0uc3BsaXQoIi4iKSxuLnB1c2goaSwiaWRlbnRpdHkiKSxuPW4uY29uY2F0KG8pfWVsc2Ugbi5wdXNoKGkpO3JldHVybiBuLmZpbHRlcihCb29sZWFuKX1yZXR1cm4gZS5zcGxpdCgiLiIpfWZ1bmN0aW9uIGlzRW1wdHkoZSl7Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtyZXR1cm4oMCxpLmRlZmF1bHQpKGUpPT09KDAsaS5kZWZhdWx0KSh7fSl9ZnVuY3Rpb24gY2hhdGtleXNUb1N0cmluZ0Nsb25lcihlKXt2YXIgdD17fSxyPSgwLHMuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07dFtpXT17fSx0W2ldLnNlc3Npb25LZXk9ZVtpXS5zZXNzaW9uS2V5LnRvU3RyaW5nKCksdFtpXS5pc1RvRW5jcnlwdD1lW2ldLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gY2hhdGtleXNUb0FycmF5Q2xvbmVyKGUpe3ZhciB0PXt9LHI9KDAscy5kZWZhdWx0KShlKTtpZihyKXRyeXtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTt0W2ldPXt9O3ZhciBvPUpTT04ucGFyc2UoIlsiK2VbaV0uc2Vzc2lvbktleSsiXSIpO3RbaV0uc2Vzc2lvbktleT1uZXcgVWludDhBcnJheShvKSx0W2ldLmlzVG9FbmNyeXB0PWVbaV0uaXNUb0VuY3J5cHR9fWNhdGNoKGUpe31yZXR1cm4gdH1mdW5jdGlvbiBwYXJzZU1lc3NhZ2VVUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0Lmxlbmd0aDw9Nj90WzBdKyIvLyIrdFsyXSsiLyIrdFszXTp0WzBdKyIvLyIrdFsyXSsiLyIrdFszXSsiLyIrdFs0XX1mdW5jdGlvbiBhdmFpbGFibGVTcGFjZShlLHQpe3ZhciByPShlL3QpLnRvRml4ZWQoMik7cmV0dXJue3F1b3RhOnQsdXNhZ2U6ZSxwZXJjZW50Ok51bWJlcihyKX19LyoqCiogRW5jb2RlcyBhIEpTIG9iamVjdCB0byBiYXNlIDY0IGVuY29kZQoqIEBwYXJhbSAgIHtPYmplY3R9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtzdHJpbmd9ICAgZW5jb2RlZCB2YWx1ZQoqLwpmdW5jdGlvbiBlbmNvZGUoZSl7dHJ5e3ZhciB0PXN0cmluZ2lmeShlKTtyZXR1cm4gYnRvYSh0KX1jYXRjaChlKXt0aHJvdyBlfX0vKioKICAqIERlY29kZSBhIGJhc2U2NCBzdHJpbmcgdG8gb2JqZWN0CiAgKiBAcGFyYW0gICB7c3RyaW5nX2I2NH0gICAgdmFsdWUgICAgdmFsdWUgZW5jb2RlZCBpbiBiYXNlIDY0CiAgKiBAcmV0dXJuICB7T2JqZWN0fSBkZWNvZGVkVmFsdWUKICAqLwpmdW5jdGlvbiBkZWNvZGUoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGF0b2IoZSkpfWNhdGNoKGUpe3Rocm93IGV9fS8qKgoqIERlY29kZSBhIGJhc2U2NCBzdHJpbmcgdG8gVWludDhBcnJheQoqIEBwYXJhbSAgIHtzdHJpbmdfYjY0fSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNvZGVkIHZhbHVlCiovCmZ1bmN0aW9uIGRlY29kZVRvVWludDhBcnJheShlKXt0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGRlY29kZShlKSl9Y2F0Y2goZSl7dGhyb3cgZX19LyoqCiogQ29udmVydHMgYSBKUyBvYmplY3QgdG8gc3RyaW5nCiogTk9URTogU3BlY2lhbCBjb252ZXJzaW9uIGZvciBVaW50OEFycmF5cwoqIEBwYXJhbSAgIHtPYmplY3R9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtVaW50OEFycmF5fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gc3RyaW5naWZ5KGUpe3RyeXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PVVpbnQ4QXJyYXk/IlsiK2UudG9TdHJpbmcoKSsiXSI6KDAsaS5kZWZhdWx0KShlKX1jYXRjaChlKXt0aHJvdyBlfX0vKioKKiBDb252ZXJ0cyBhIHN0cmluZ2lmaWVkIG9iamVjdCB0byBvYmplY3QKKiBAcGFyYW0gICB7U3RyaW5nfSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7T2JqZWN0fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gcGFyc2UoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe3Rocm93IGV9fS8qKgoqIENvbnZlcnRzIGEgc3RyaW5naWZpZWQgb2JqZWN0IHRvIG9iamVjdAoqIEBwYXJhbSAgIHtTdHJpbmd9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtVaW50OEFycmF5fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gcGFyc2VUb1VpbnQ4QXJyYXkoZSl7dHJ5e3JldHVybiBuZXcgVWludDhBcnJheShwYXJzZShlKSl9Y2F0Y2goZSl7dGhyb3cgZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMzcpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKTt0LmRpdmlkZVVSTD1kaXZpZGVVUkwsdC5lbXB0eU9iamVjdD1lbXB0eU9iamVjdCx0LnNlY29uZHNTaW5jZUVwb2NoPXNlY29uZHNTaW5jZUVwb2NoLHQuZGVlcENsb25lPWRlZXBDbG9uZSx0LnJlbW92ZVBhdGhGcm9tVVJMPXJlbW92ZVBhdGhGcm9tVVJMLHQuZ2V0VXNlclVSTEZyb21FbWFpbD1nZXRVc2VyVVJMRnJvbUVtYWlsLHQuZ2V0VXNlckVtYWlsRnJvbVVSTD1nZXRVc2VyRW1haWxGcm9tVVJMLHQuY29udmVydFRvVXNlclVSTD1jb252ZXJ0VG9Vc2VyVVJMLHQuaXNEYXRhT2JqZWN0VVJMPWlzRGF0YU9iamVjdFVSTCx0LmlzTGVnYWN5PWlzTGVnYWN5LHQuaXNVUkw9aXNVUkwsdC5pc1VzZXJVUkw9aXNVc2VyVVJMLHQuaXNIeXBlcnR5VVJMPWlzSHlwZXJ0eVVSTCx0LmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXM9Z2V0Q29uZmlndXJhdGlvblJlc291cmNlcyx0LmJ1aWxkVVJMPWJ1aWxkVVJMLHQuZ2VuZXJhdGVHVUlEPWdlbmVyYXRlR1VJRCx0LmdldFVzZXJJZGVudGl0eURvbWFpbj1nZXRVc2VySWRlbnRpdHlEb21haW4sdC5pc0JhY2tlbmRTZXJ2aWNlVVJMPWlzQmFja2VuZFNlcnZpY2VVUkwsdC5kaXZpZGVFbWFpbD1kaXZpZGVFbWFpbCx0LmFzc2lnbj1hc3NpZ24sdC5zcGxpdE9iamVjdFVSTD1zcGxpdE9iamVjdFVSTCx0LmNoZWNrQXR0cmlidXRlPWNoZWNrQXR0cmlidXRlLHQucGFyc2VBdHRyaWJ1dGVzPXBhcnNlQXR0cmlidXRlcyx0LmlzRW1wdHk9aXNFbXB0eSx0LmNoYXRrZXlzVG9TdHJpbmdDbG9uZXI9Y2hhdGtleXNUb1N0cmluZ0Nsb25lcix0LmNoYXRrZXlzVG9BcnJheUNsb25lcj1jaGF0a2V5c1RvQXJyYXlDbG9uZXIsdC5wYXJzZU1lc3NhZ2VVUkw9cGFyc2VNZXNzYWdlVVJMLHQuYXZhaWxhYmxlU3BhY2U9YXZhaWxhYmxlU3BhY2UsdC5lbmNvZGU9ZW5jb2RlLHQuZGVjb2RlPWRlY29kZSx0LmRlY29kZVRvVWludDhBcnJheT1kZWNvZGVUb1VpbnQ4QXJyYXksdC5zdHJpbmdpZnk9c3RyaW5naWZ5LHQucGFyc2U9cGFyc2UsdC5wYXJzZVRvVWludDhBcnJheT1wYXJzZVRvVWludDhBcnJheX0sLyogMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpCnZhciBuPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0sLyogMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LC8qIDE3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sLyogMTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLGk9cig0Nyk7ZS5leHBvcnRzPXIoMTApP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sLyogMTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1yKDE4KSxvPXIoMTcpLHM9cig0OCkoInNyYyIpLGE9RnVuY3Rpb24udG9TdHJpbmcsdT0oIiIrYSkuc3BsaXQoInRvU3RyaW5nIik7cigzMCkuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5jYWxsKGUpfSwoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByO2MmJihvKHIsIm5hbWUiKXx8aShyLCJuYW1lIix0KSksZVt0XSE9PXImJihjJiYobyhyLHMpfHxpKHIscyxlW3RdPyIiK2VbdF06dS5qb2luKFN0cmluZyh0KSkpKSxlPT09bj9lW3RdPXI6YT9lW3RdP2VbdF09cjppKGUsdCxyKTooZGVsZXRlIGVbdF0saShlLHQscikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJnRoaXNbc118fGEuY2FsbCh0aGlzKX0pfSwvKiAyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoNSksbz1yKDMyKSxzPS8iL2csYT1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1TdHJpbmcobyhlKSksYT0iPCIrdDtyZXR1cm4iIiE9PXImJihhKz0iICIrcisnPSInK1N0cmluZyhuKS5yZXBsYWNlKHMsIiZxdW90OyIpKyciJyksYSsiPiIraSsiPC8iK3QrIj4ifTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyW2VdPXQoYSksbihuLlArbi5GKmkoZnVuY3Rpb24oKXt2YXIgdD0iIltlXSgnIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCciJykubGVuZ3RoPjN9KSwiU3RyaW5nIixyKX19LC8qIDIxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPXIoMTMpLG89cig2NSkscz1yKDU4KSxhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxjLGYsbD1lJmEuRixkPWUmYS5HLHA9ZSZhLlMseT1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcsZz1kP2k6aVt0XXx8KGlbdF09e30pLGI9Zy5wcm90b3R5cGUsbT1kP246cD9uW3RdOihuW3RdfHx7fSkucHJvdG90eXBlO2QmJihyPXQpO2Zvcih1IGluIHIpCi8vIGNvbnRhaW5zIGluIG5hdGl2ZQooYz0hbCYmbSYmdm9pZCAwIT09bVt1XSkmJnUgaW4gZ3x8KAovLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZApmPWM/bVt1XTpyW3VdLAovLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXMKZ1t1XT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmM/byhmLG4pOnYmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGYpOnkmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP28oRnVuY3Rpb24uY2FsbCxmKTpmLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSUKeSYmKChnLnZpcnR1YWx8fChnLnZpcnR1YWw9e30pKVt1XT1mLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJQplJmEuUiYmYiYmIWJbdV0mJnMoYix1LGYpKSl9OwovLyB0eXBlIGJpdG1hcAphLkY9MSwvLyBmb3JjZWQKYS5HPTIsLy8gZ2xvYmFsCmEuUz00LC8vIHN0YXRpYwphLlA9OCwvLyBwcm90bwphLkI9MTYsLy8gYmluZAphLlc9MzIsLy8gd3JhcAphLlU9NjQsLy8gc2FmZQphLlI9MTI4LC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAKZS5leHBvcnRzPWF9LC8qIDIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4CnZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sLyogMjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM2KSgid2tzIiksaT1yKDk0KSxvPXIoMjIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBvOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJm9bZV18fChzP286aSkoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPW59LC8qIDI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzCnZhciBuPXIoNzApLGk9cigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGkoZSkpfX0sLyogMjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzEpLGk9cig0Nyksbz1yKDI0KSxzPXIoMzEpLGE9cigxNyksdT1yKDE0OCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDEwKT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCnZhciBuPXIoMTcpLGk9cigxNSksbz1yKDEwMykoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sLyogMjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmcKdmFyIG49cigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLGkpe3JldHVybiBlLmNhbGwodCxyLG4saSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwvKiAyOCAqLwovKioqLwpmdW5jdGlvbihlLHQpe3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gci5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sLyogMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiEhZSYmbihmdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsCnQ/ZS5jYWxsKG51bGwsZnVuY3Rpb24oKXt9LDEpOmUuY2FsbChudWxsKX0pfX0sLyogMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LC8qIDMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pCnZhciBuPXIoNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDMyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCmUuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LC8qIDMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlcwp2YXIgbj1yKDApLGk9cigzMCksbz1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShpLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKm8oZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSwvKiAzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDAgLT4gQXJyYXkjZm9yRWFjaAovLyAxIC0+IEFycmF5I21hcAovLyAyIC0+IEFycmF5I2ZpbHRlcgovLyAzIC0+IEFycmF5I3NvbWUKLy8gNCAtPiBBcnJheSNldmVyeQovLyA1IC0+IEFycmF5I2ZpbmQKLy8gNiAtPiBBcnJheSNmaW5kSW5kZXgKdmFyIG49cigyNyksaT1yKDcwKSxvPXIoMTUpLHM9cigxMiksYT1yKDEyMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsYz0zPT1lLGY9ND09ZSxsPTY9PWUsZD01PT1lfHxsLHA9dHx8YTtyZXR1cm4gZnVuY3Rpb24odCxhLHkpe2Zvcih2YXIgaCx2LGc9byh0KSxiPWkoZyksbT1uKGEseSwzKSxfPXMoYi5sZW5ndGgpLFI9MCx3PXI/cCh0LF8pOnU/cCh0LDApOnZvaWQgMDtfPlI7UisrKWlmKChkfHxSIGluIGIpJiYoaD1iW1JdLHY9bShoLFIsZyksZSkpaWYocil3W1JdPXY7ZWxzZSBpZih2KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Ly8gc29tZQpjYXNlIDU6cmV0dXJuIGg7Ly8gZmluZApjYXNlIDY6cmV0dXJuIFI7Ly8gZmluZEluZGV4CmNhc2UgMjp3LnB1c2goaCl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBsPy0xOmN8fGY/Zjp3fX19LC8qIDM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LC8qIDM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDApLF9fZXNNb2R1bGU6ITB9fSwvKiAzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2lmKHIoMTApKXt2YXIgbj1yKDQ5KSxpPXIoNCksbz1yKDUpLHM9cigwKSxhPXIoODgpLHU9cigxMjYpLGM9cigyNyksZj1yKDU1KSxsPXIoNDcpLGQ9cigxOCkscD1yKDU3KSx5PXIoMzMpLGg9cigxMiksdj1yKDE3NCksZz1yKDUxKSxiPXIoMzEpLG09cigxNyksXz1yKDcyKSxSPXIoNiksdz1yKDE1KSxTPXIoMTE3KSxQPXIoNTIpLE89cigyNiksTT1yKDUzKS5mLGs9cigxMTkpLEw9cig0OCkseD1yKDgpLEU9cigzNSksQT1yKDc5KSxVPXIoODYpLEQ9cigxMjIpLEk9cig2Myksaj1yKDgzKSxUPXIoNTQpLEM9cigxMjEpLEY9cigxNjQpLE49cigxMSkscT1yKDI1KSxIPU4uZixCPXEuZixLPWkuUmFuZ2VFcnJvcixHPWkuVHlwZUVycm9yLFY9aS5VaW50OEFycmF5LFc9QXJyYXkucHJvdG90eXBlLFk9dS5BcnJheUJ1ZmZlcix6PXUuRGF0YVZpZXcsSj1FKDApLCQ9RSgyKSxRPUUoMyksWD1FKDQpLFo9RSg1KSxlZT1FKDYpLHRlPUEoITApLHJlPUEoITEpLG5lPUQudmFsdWVzLGllPUQua2V5cyxvZT1ELmVudHJpZXMsc2U9Vy5sYXN0SW5kZXhPZixhZT1XLnJlZHVjZSx1ZT1XLnJlZHVjZVJpZ2h0LGNlPVcuam9pbixmZT1XLnNvcnQsbGU9Vy5zbGljZSxkZT1XLnRvU3RyaW5nLHBlPVcudG9Mb2NhbGVTdHJpbmcseWU9eCgiaXRlcmF0b3IiKSxoZT14KCJ0b1N0cmluZ1RhZyIpLHZlPUwoInR5cGVkX2NvbnN0cnVjdG9yIiksZ2U9TCgiZGVmX2NvbnN0cnVjdG9yIiksYmU9YS5DT05TVFIsbWU9YS5UWVBFRCxfZT1hLlZJRVcsUmU9RSgxLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1lKFUoZSxlW2dlXSksdCl9KSx3ZT1vKGZ1bmN0aW9uKCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgpyZXR1cm4gMT09PW5ldyBWKG5ldyBVaW50MTZBcnJheShbMV0pLmJ1ZmZlcilbMF19KSxTZT0hIVYmJiEhVi5wcm90b3R5cGUuc2V0JiZvKGZ1bmN0aW9uKCl7bmV3IFYoMSkuc2V0KHt9KX0pLFBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eShlKTtpZihyPDB8fHIldCl0aHJvdyBLKCJXcm9uZyBvZmZzZXQhIik7cmV0dXJuIHJ9LE9lPWZ1bmN0aW9uKGUpe2lmKFIoZSkmJm1lIGluIGUpcmV0dXJuIGU7dGhyb3cgRyhlKyIgaXMgbm90IGEgdHlwZWQgYXJyYXkhIil9LE1lPWZ1bmN0aW9uKGUsdCl7aWYoIShSKGUpJiZ2ZSBpbiBlKSl0aHJvdyBHKCJJdCBpcyBub3QgYSB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvciEiKTtyZXR1cm4gbmV3IGUodCl9LGtlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIExlKFUoZSxlW2dlXSksdCl9LExlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aCxpPU1lKGUsbik7bj5yOylpW3JdPXRbcisrXTtyZXR1cm4gaX0seGU9ZnVuY3Rpb24oZSx0LHIpe0goZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZFtyXX19KX0sRWU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGksbyxzLGE9dyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsZj11PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxsPXZvaWQgMCE9PWYsZD1rKGEpO2lmKHZvaWQgMCE9ZCYmIVMoZCkpe2ZvcihzPWQuY2FsbChhKSxuPVtdLHQ9MDshKG89cy5uZXh0KCkpLmRvbmU7dCsrKW4ucHVzaChvLnZhbHVlKTthPW59Zm9yKGwmJnU+MiYmKGY9YyhmLGFyZ3VtZW50c1syXSwyKSksdD0wLHI9aChhLmxlbmd0aCksaT1NZSh0aGlzLHIpO3I+dDt0KyspaVt0XT1sP2YoYVt0XSx0KTphW3RdO3JldHVybiBpfSxBZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPU1lKHRoaXMsdCk7dD5lOylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiByfSxVZT0hIVYmJm8oZnVuY3Rpb24oKXtwZS5jYWxsKG5ldyBWKDEpKX0pLERlPWZ1bmN0aW9uKCl7cmV0dXJuIHBlLmFwcGx5KFVlP2xlLmNhbGwoT2UodGhpcykpOk9lKHRoaXMpLGFyZ3VtZW50cyl9LEllPXtjb3B5V2l0aGluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYuY2FsbChPZSh0aGlzKSxlLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfSxldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gWChPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmlsbDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBDLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4ga2UodGhpcywkKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApKX0sZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gWihPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZm9yRWFjaDpmdW5jdGlvbihlKXtKKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxpbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiByZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0saW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxqb2luOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIGNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIHNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gUmUoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHJlZHVjZTpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBhZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZWR1Y2VSaWdodDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiB1ZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZXZlcnNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcyxyPU9lKHQpLmxlbmd0aCxuPU1hdGguZmxvb3Ioci8yKSxpPTA7aTxuOyllPXRbaV0sdFtpKytdPXRbLS1yXSx0W3JdPWU7cmV0dXJuIHR9LHNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIFEoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZlLmNhbGwoT2UodGhpcyksZSl9LHN1YmFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UodGhpcyksbj1yLmxlbmd0aCxpPWcoZSxuKTtyZXR1cm4gbmV3KFUocixyW2dlXSkpKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCtpKnIuQllURVNfUEVSX0VMRU1FTlQsaCgodm9pZCAwPT09dD9uOmcodCxuKSktaSkpfX0samU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga2UodGhpcyxsZS5jYWxsKE9lKHRoaXMpLGUsdCkpfSxUZT1mdW5jdGlvbihlKXtPZSh0aGlzKTt2YXIgdD1QZShhcmd1bWVudHNbMV0sMSkscj10aGlzLmxlbmd0aCxuPXcoZSksaT1oKG4ubGVuZ3RoKSxvPTA7aWYoaSt0PnIpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2Zvcig7bzxpOyl0aGlzW3Qrb109bltvKytdfSxDZT17ZW50cmllczpmdW5jdGlvbigpe3JldHVybiBvZS5jYWxsKE9lKHRoaXMpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBpZS5jYWxsKE9lKHRoaXMpKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhbGwoT2UodGhpcykpfX0sRmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUihlKSYmZVttZV0mJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LE5lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZlKGUsdD1iKHQsITApKT9sKDIsZVt0XSk6QihlLHQpfSxxZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIShGZShlLHQ9Yih0LCEwKSkmJlIocikmJm0ociwidmFsdWUiKSl8fG0ociwiZ2V0Iil8fG0ociwic2V0Iil8fHIuY29uZmlndXJhYmxlfHxtKHIsIndyaXRhYmxlIikmJiFyLndyaXRhYmxlfHxtKHIsImVudW1lcmFibGUiKSYmIXIuZW51bWVyYWJsZT9IKGUsdCxyKTooZVt0XT1yLnZhbHVlLGUpfTtiZXx8KHEuZj1OZSxOLmY9cWUpLHMocy5TK3MuRiohYmUsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpOZSxkZWZpbmVQcm9wZXJ0eTpxZX0pLG8oZnVuY3Rpb24oKXtkZS5jYWxsKHt9KX0pJiYoZGU9cGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2FsbCh0aGlzKX0pO3ZhciBIZT1wKHt9LEllKTtwKEhlLENlKSxkKEhlLHllLENlLnZhbHVlcykscChIZSx7c2xpY2U6amUsc2V0OlRlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7fSx0b1N0cmluZzpkZSx0b0xvY2FsZVN0cmluZzpEZX0pLHhlKEhlLCJidWZmZXIiLCJiIikseGUoSGUsImJ5dGVPZmZzZXQiLCJvIikseGUoSGUsImJ5dGVMZW5ndGgiLCJsIikseGUoSGUsImxlbmd0aCIsImUiKSxIKEhlLGhlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1ttZV19fSksCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50cwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dT0hIXU7dmFyIGM9ZSsodT8iQ2xhbXBlZCI6IiIpKyJBcnJheSIsbD0iZ2V0IitlLHA9InNldCIrZSx5PWlbY10sZz15fHx7fSxiPXkmJk8oeSksbT0heXx8IWEuQUJWLHc9e30sUz15JiZ5LnByb3RvdHlwZSxrPWZ1bmN0aW9uKGUscil7dmFyIG49ZS5fZDtyZXR1cm4gbi52W2xdKHIqdCtuLm8sd2UpfSxMPWZ1bmN0aW9uKGUscixuKXt2YXIgaT1lLl9kO3UmJihuPShuPU1hdGgucm91bmQobikpPDA/MDpuPjI1NT8yNTU6MjU1Jm4pLGkudltwXShyKnQraS5vLG4sd2UpfSx4PWZ1bmN0aW9uKGUsdCl7SChlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBrKHRoaXMsdCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gTCh0aGlzLHQsZSl9LGVudW1lcmFibGU6ITB9KX07bT8oeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMsIl9kIik7dmFyIG8scyxhLHUsbD0wLHA9MDtpZihSKHIpKXtpZighKHIgaW5zdGFuY2VvZiBZfHwiQXJyYXlCdWZmZXIiPT0odT1fKHIpKXx8IlNoYXJlZEFycmF5QnVmZmVyIj09dSkpcmV0dXJuIG1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik7bz1yLHA9UGUobix0KTt2YXIgZz1yLmJ5dGVMZW5ndGg7aWYodm9pZCAwPT09aSl7aWYoZyV0KXRocm93IEsoIldyb25nIGxlbmd0aCEiKTtpZigocz1nLXApPDApdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpfWVsc2UgaWYoKHM9aChpKSp0KStwPmcpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2E9cy90fWVsc2UgYT12KHIpLHM9YSp0LG89bmV3IFkocyk7Zm9yKGQoZSwiX2QiLHtiOm8sbzpwLGw6cyxlOmEsdjpuZXcgeihvKX0pO2w8YTspeChlLGwrKyl9KSxTPXkucHJvdG90eXBlPVAoSGUpLGQoUywiY29uc3RydWN0b3IiLHkpKTpvKGZ1bmN0aW9uKCl7eSgxKX0pJiZvKGZ1bmN0aW9uKCl7bmV3IHkoLTEpfSkmJmooZnVuY3Rpb24oZSl7bmV3IHksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkobnVsbCksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkoMS41KSwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpuZXcgeShlKX0sITApfHwoeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMpO3ZhciBvOwovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQpyZXR1cm4gUihyKT9yIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KG89XyhyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PW8/dm9pZCAwIT09aT9uZXcgZyhyLFBlKG4sdCksaSk6dm9pZCAwIT09bj9uZXcgZyhyLFBlKG4sdCkpOm5ldyBnKHIpOm1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik6bmV3IGcodihyKSl9KSxKKGIhPT1GdW5jdGlvbi5wcm90b3R5cGU/TShnKS5jb25jYXQoTShiKSk6TShnKSxmdW5jdGlvbihlKXtlIGluIHl8fGQoeSxlLGdbZV0pfSkseS5wcm90b3R5cGU9UyxufHwoUy5jb25zdHJ1Y3Rvcj15KSk7dmFyIEU9U1t5ZV0sQT0hIUUmJigidmFsdWVzIj09RS5uYW1lfHx2b2lkIDA9PUUubmFtZSksVT1DZS52YWx1ZXM7ZCh5LHZlLCEwKSxkKFMsbWUsYyksZChTLF9lLCEwKSxkKFMsZ2UseSksKHU/bmV3IHkoMSlbaGVdPT1jOmhlIGluIFMpfHxIKFMsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0pLHdbY109eSxzKHMuRytzLlcrcy5GKih5IT1nKSx3KSxzKHMuUyxjLHtCWVRFU19QRVJfRUxFTUVOVDp0fSkscyhzLlMrcy5GKm8oZnVuY3Rpb24oKXtnLm9mLmNhbGwoeSwxKX0pLGMse2Zyb206RWUsb2Y6QWV9KSwiQllURVNfUEVSX0VMRU1FTlQiaW4gU3x8ZChTLCJCWVRFU19QRVJfRUxFTUVOVCIsdCkscyhzLlAsYyxJZSksVChjKSxzKHMuUCtzLkYqU2UsYyx7c2V0OlRlfSkscyhzLlArcy5GKiFBLGMsQ2UpLG58fFMudG9TdHJpbmc9PWRlfHwoUy50b1N0cmluZz1kZSkscyhzLlArcy5GKm8oZnVuY3Rpb24oKXtuZXcgeSgxKS5zbGljZSgpfSksYyx7c2xpY2U6amV9KSxzKHMuUCtzLkYqKG8oZnVuY3Rpb24oKXtyZXR1cm5bMSwyXS50b0xvY2FsZVN0cmluZygpIT1uZXcgeShbMSwyXSkudG9Mb2NhbGVTdHJpbmcoKX0pfHwhbyhmdW5jdGlvbigpe1MudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSksYyx7dG9Mb2NhbGVTdHJpbmc6RGV9KSxJW2NdPUE/RTpVLG58fEF8fGQoUyx5ZSxVKX19ZWxzZSBlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSwvKiAzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNjkpLGk9cigwKSxvPXIoNzgpKCJtZXRhZGF0YSIpLHM9by5zdG9yZXx8KG8uc3RvcmU9bmV3KHIoMTcyKSkpLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXMuZ2V0KGUpO2lmKCFpKXtpZighcilyZXR1cm47cy5zZXQoZSxpPW5ldyBuKX12YXIgbz1pLmdldCh0KTtpZighbyl7aWYoIXIpcmV0dXJuO2kuc2V0KHQsbz1uZXcgbil9cmV0dXJuIG99LHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwIT09biYmbi5oYXMoZSl9LGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6bi5nZXQoZSl9LGY9ZnVuY3Rpb24oZSx0LHIsbil7YShyLG4sITApLnNldChlLHQpfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQsITEpLG49W107cmV0dXJuIHImJnIuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLG59LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV8fCJzeW1ib2wiPT10eXBlb2YgZT9lOlN0cmluZyhlKX0scD1mdW5jdGlvbihlKXtpKGkuUywiUmVmbGVjdCIsZSl9O2UuZXhwb3J0cz17c3RvcmU6cyxtYXA6YSxoYXM6dSxnZXQ6YyxzZXQ6ZixrZXlzOmwsa2V5OmQsZXhwOnB9fSwvKiA0MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksaT1yKDE4NCksbz1yKDEzMikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNDQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSwvKiA0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LC8qIDQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ4KSgibWV0YSIpLGk9cig2KSxvPXIoMTcpLHM9cigxMSkuZixhPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIHUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYSwvLyBvYmplY3QgSUQKdzp7fX19KX0sbD1mdW5jdGlvbihlLHQpewovLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4CmlmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLG4pKXsKLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3QKaWYoIXUoZSkpcmV0dXJuIkYiOwovLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YQppZighdClyZXR1cm4iRSI7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFvKGUsbikpewovLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdAppZighdShlKSlyZXR1cm4hMDsKLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGEKaWYoIXQpcmV0dXJuITE7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhbyhlLG4pJiZmKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6bCxnZXRXZWFrOmQsb25GcmVlemU6cH19LC8qIDQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXQp2YXIgbj1yKDgpKCJ1bnNjb3BhYmxlcyIpLGk9QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09aVtuXSYmcigxOCkoaSxuLHt9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aVtuXVtlXT0hMH19LC8qIDQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eQplLmV4cG9ydHM9IXIoNjYpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogNDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3MKdmFyIG49cigxODcpLGk9cigxMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihpKGUpKX19LC8qIDQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NjQpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LC8qIDQ4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sLyogNDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITF9LC8qIDUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTUwKSxpPXIoMTA0KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP2koZSt0LDApOm8oZSx0KX19LC8qIDUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCnZhciBuPXIoMyksaT1yKDE1MSksbz1yKDEwNCkscz1yKDEwMykoIklFX1BST1RPIiksYT1mdW5jdGlvbigpe30sdT1mdW5jdGlvbigpewovLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Zwp2YXIgZSx0PXIoMTAxKSgiaWZyYW1lIiksbj1vLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDEwNSkuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IiwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmwKLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDsKLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpOwplPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtvW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjsKLy8gYWRkICJfX3Byb3RvX18iIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGwKcmV0dXJuIG51bGwhPT1lPyhhLnByb3RvdHlwZT1uKGUpLHI9bmV3IGEsYS5wcm90b3R5cGU9bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjppKHIsdCl9fSwvKiA1MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKdmFyIG49cigxNTApLGk9cigxMDQpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGkpfX0sLyogNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQpLGk9cigxMSksbz1yKDEwKSxzPXIoOCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtvJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sLyogNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LC8qIDU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI3KSxpPXIoMTYyKSxvPXIoMTE3KSxzPXIoMyksYT1yKDEyKSx1PXIoMTE5KSxjPXt9LGY9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbCxkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxiPW4ocixsLHQ/MjoxKSxtPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7Ci8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvcgppZihvKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPm07bSsrKWlmKCh2PXQ/YihzKHk9ZVttXSlbMF0seVsxXSk6YihlW21dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PWkoaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSwvKiA1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdCluKGUsaSx0W2ldLHIpO3JldHVybiBlfX0sLyogNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLGk9cig3Myk7ZS5leHBvcnRzPXIoNDQpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sLyogNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSwvKiA2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDQzKSxfX2VzTW9kdWxlOiEwfX0sLyogNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLmYsaT1yKDE3KSxvPXIoOCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhaShlPXI/ZTplLnByb3RvdHlwZSxvKSYmbihlLG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSwvKiA2MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMzIpLG89cig1KSxzPXIoMTA3KSxhPSJbIitzKyJdIix1PSLigIvChSIsYz1SZWdFeHAoIl4iK2ErYSsiKiIpLGY9UmVnRXhwKGErYSsiKiQiKSxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT17fSxhPW8oZnVuY3Rpb24oKXtyZXR1cm4hIXNbZV0oKXx8dVtlXSgpIT11fSksYz1pW2VdPWE/dChkKTpzW2VdO3ImJihpW3JdPWMpLG4obi5QK24uRiphLCJTdHJpbmciLGkpfSxkPWwudHJpbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhpKGUpKSwxJnQmJihlPWUucmVwbGFjZShjLCIiKSksMiZ0JiYoZT1lLnJlcGxhY2UoZiwiIikpLGV9O2UuZXhwb3J0cz1sfSwvKiA2MyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sLyogNjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSl8fGUuX3QhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCEiKTtyZXR1cm4gZX19LC8qIDY1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nCnZhciBuPXIoOTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sLyogNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LC8qIDY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTg2KSxpPXIoMTM3KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA2OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDk4KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0sLyogNjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NTYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMjAzKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDk4KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisodm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCx1LmRlZmF1bHQpKHQpKSk7ZS5wcm90b3R5cGU9KDAscy5kZWZhdWx0KSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGkuZGVmYXVsdD8oMCxpLmRlZmF1bHQpKGUsdCk6ZS5fX3Byb3RvX189dCl9fSwvKiA3MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCnZhciBuPXIoMjgpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmUuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sLyogNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LC8qIDcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCkKdmFyIG49cigyOCksaT1yKDgpKCJ0b1N0cmluZ1RhZyIpLG89IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319O2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGE7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLGkpKT9yOm8/bih0KToiT2JqZWN0Ij09KGE9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjphfX0sLyogNzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSwvKiA3NCAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sLyogNzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LC8qIDc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KQp2YXIgbj1yKDEzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSwvKiA3NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe3QuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sLyogNzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1uWyJfX2NvcmUtanNfc2hhcmVkX18iXXx8KG5bIl9fY29yZS1qc19zaGFyZWRfXyJdPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LC8qIDc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZgovLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlcwp2YXIgbj1yKDI0KSxpPXIoMTIpLG89cig1MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGEsdT1uKHQpLGM9aSh1Lmxlbmd0aCksZj1vKHMsYyk7Ci8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG0KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppZihlJiZyIT1yKXtmb3IoO2M+ZjspCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKaWYoKGE9dVtmKytdKSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5mO2YrKylpZigoZXx8ZiBpbiB1KSYmdVtmXT09PXIpcmV0dXJuIGV8fGZ8fDA7cmV0dXJuIWUmJi0xfX19LC8qIDgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LC8qIDgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudCkKdmFyIG49cigyOCk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSwvKiA4MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KQp2YXIgbj1yKDYpLGk9cigyOCksbz1yKDgpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbihlKSYmKHZvaWQgMCE9PSh0PWVbb10pPyEhdDoiUmVnRXhwIj09aShlKSl9fSwvKiA4MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig4KSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz1bN11bbl0oKTtvLnJldHVybj1mdW5jdGlvbigpe2k9ITB9LAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbApBcnJheS5mcm9tKG8sZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhaSlyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIG89WzddLHM9b1tuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxvW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUobyl9Y2F0Y2goZSl7fXJldHVybiByfX0sLyogODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MKdmFyIG49cigzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1uKHRoaXMpLHQ9IiI7cmV0dXJuIGUuZ2xvYmFsJiYodCs9ImciKSxlLmlnbm9yZUNhc2UmJih0Kz0iaSIpLGUubXVsdGlsaW5lJiYodCs9Im0iKSxlLnVuaWNvZGUmJih0Kz0idSIpLGUuc3RpY2t5JiYodCs9InkiKSx0fX0sLyogODUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE4KSxpPXIoMTkpLG89cig1KSxzPXIoMzIpLGE9cig4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1PWEoZSksYz1yKHMsdSwiIltlXSksZj1jWzBdLGw9Y1sxXTtvKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRbdV09ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9IiJbZV0odCl9KSYmKGkoU3RyaW5nLnByb3RvdHlwZSxlLGYpLG4oUmVnRXhwLnByb3RvdHlwZSx1LDI9PXQ/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbC5jYWxsKGUsdGhpcyx0KX06ZnVuY3Rpb24oZSl7cmV0dXJuIGwuY2FsbChlLHRoaXMpfSkpfX0sLyogODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcikKdmFyIG49cigzKSxpPXIoMTYpLG89cig4KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW29dKT90Omkocil9fSwvKiA4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNCksaT1yKDApLG89cigxOSkscz1yKDU3KSxhPXIoNDIpLHU9cig1NiksYz1yKDU1KSxmPXIoNiksbD1yKDUpLGQ9cig4MykscD1yKDYxKSx5PXIoMTA4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcpe3ZhciBiPW5bZV0sbT1iLF89dj8ic2V0IjoiYWRkIixSPW0mJm0ucHJvdG90eXBlLHc9e30sUz1mdW5jdGlvbihlKXt2YXIgdD1SW2VdO28oUixlLCJkZWxldGUiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiEoZyYmIWYoZSkpJiZ0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiaGFzIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4hKGcmJiFmKGUpKSYmdC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImdldCI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIGcmJiFmKGUpP3ZvaWQgMDp0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiYWRkIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gdC5jYWxsKHRoaXMsMD09PWU/MDplKSx0aGlzfTpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwodGhpcywwPT09ZT8wOmUsciksdGhpc30pfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbSYmKGd8fFIuZm9yRWFjaCYmIWwoZnVuY3Rpb24oKXsobmV3IG0pLmVudHJpZXMoKS5uZXh0KCl9KSkpe3ZhciBQPW5ldyBtLE89UFtfXShnP3t9Oi0wLDEpIT1QLE09bChmdW5jdGlvbigpe1AuaGFzKDEpfSksaz1kKGZ1bmN0aW9uKGUpe25ldyBtKGUpfSksTD0hZyYmbChmdW5jdGlvbigpe2ZvcigKLy8gVjggfiBDaHJvbWl1bSA0Mi0gZmFpbHMgb25seSB3aXRoIDUrIGVsZW1lbnRzCnZhciBlPW5ldyBtLHQ9NTt0LS07KWVbX10odCx0KTtyZXR1cm4hZS5oYXMoLTApfSk7a3x8KG09dChmdW5jdGlvbih0LHIpe2ModCxtLGUpO3ZhciBuPXkobmV3IGIsdCxtKTtyZXR1cm4gdm9pZCAwIT1yJiZ1KHIsdixuW19dLG4pLG59KSxtLnByb3RvdHlwZT1SLFIuY29uc3RydWN0b3I9bSksKE18fEwpJiYoUygiZGVsZXRlIiksUygiaGFzIiksdiYmUygiZ2V0IikpLChMfHxPKSYmUyhfKSwKLy8gd2VhayBjb2xsZWN0aW9ucyBzaG91bGQgbm90IGNvbnRhaW5zIC5jbGVhciBtZXRob2QKZyYmUi5jbGVhciYmZGVsZXRlIFIuY2xlYXJ9ZWxzZQovLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvcgptPWguZ2V0Q29uc3RydWN0b3IodCxlLHYsXykscyhtLnByb3RvdHlwZSxyKSxhLk5FRUQ9ITA7cmV0dXJuIHAobSxlKSx3W2VdPW0saShpLkcraS5XK2kuRioobSE9YiksdyksZ3x8aC5zZXRTdHJvbmcobSxlLHYpLG19fSwvKiA4OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuLGk9cig0KSxvPXIoMTgpLHM9cig0OCksYT1zKCJ0eXBlZF9hcnJheSIpLHU9cygidmlldyIpLGM9ISghaS5BcnJheUJ1ZmZlcnx8IWkuRGF0YVZpZXcpLGY9YyxsPTAsZD0iSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXkiLnNwbGl0KCIsIik7bDw5Oykobj1pW2RbbCsrXV0pPyhvKG4ucHJvdG90eXBlLGEsITApLG8obi5wcm90b3R5cGUsdSwhMCkpOmY9ITE7ZS5leHBvcnRzPXtBQlY6YyxDT05TVFI6ZixUWVBFRDphLFZJRVc6dX19LC8qIDg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEZvcmNlZCByZXBsYWNlbWVudCBwcm90b3R5cGUgYWNjZXNzb3JzIG1ldGhvZHMKZS5leHBvcnRzPXIoNDkpfHwhcig1KShmdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCk7Ci8vIEluIEZGIHRocm93cyBvbmx5IGRlZmluZSBtZXRob2RzCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZiwgbm8tdXNlbGVzcy1jYWxsCl9fZGVmaW5lU2V0dGVyX18uY2FsbChudWxsLGUsZnVuY3Rpb24oKXt9KSxkZWxldGUgcig0KVtlXX0pfSwvKiA5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vCnZhciBuPXIoMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe24obi5TLGUse29mOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSk7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHRoaXModCl9fSl9fSwvKiA5MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vCnZhciBuPXIoMCksaT1yKDE2KSxvPXIoMjcpLHM9cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe24obi5TLGUse2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQscixuLGEsdT1hcmd1bWVudHNbMV07cmV0dXJuIGkodGhpcyksdD12b2lkIDAhPT11LHQmJmkodSksdm9pZCAwPT1lP25ldyB0aGlzOihyPVtdLHQ/KG49MCxhPW8odSxhcmd1bWVudHNbMl0sMikscyhlLCExLGZ1bmN0aW9uKGUpe3IucHVzaChhKGUsbisrKSl9KSk6cyhlLCExLHIucHVzaCxyKSxuZXcgdGhpcyhyKSl9fSl9fSwvKiA5MiAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sLyogOTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LC8qIDk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sLyogOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLmYsaT1yKDU5KSxvPXIoMjMpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIWkoZT1yP2U6ZS5wcm90b3R5cGUsbykmJm4oZSxvLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sLyogOTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQzNCksX19lc01vZHVsZTohMH19LC8qIDk3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzCnZhciBuPXIoMjEpLGk9cigxMyksbz1yKDY2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oaS5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRipvKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0sLyogOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NDUpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNDQ3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT0iZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiYic3ltYm9sIj09dHlwZW9mIGkuZGVmYXVsdD9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiZlLmNvbnN0cnVjdG9yPT09cy5kZWZhdWx0JiZlIT09cy5kZWZhdWx0LnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07dC5kZWZhdWx0PSJmdW5jdGlvbiI9PXR5cGVvZiBzLmRlZmF1bHQmJiJzeW1ib2wiPT09YShpLmRlZmF1bHQpP2Z1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiZlLmNvbnN0cnVjdG9yPT09cy5kZWZhdWx0JiZlIT09cy5kZWZhdWx0LnByb3RvdHlwZT8ic3ltYm9sIjp2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOmEoZSl9fSwvKiA5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9Zi5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHA9dm9pZCAwLHk9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX3VybDogVVJMCiAgX2J1czogTWluaUJ1cwogICovCi8qKgogICAqIENyZWF0ZSBhbiBBZGRyZXNzIEFsbG9jYXRpb24KICAgKiBAcGFyYW0gIHtVUkwuVVJMfSAgICAgIHVybCAtIHVybCBmcm9tIHdobyBpcyBzZW5kaW5nIHRoZSBtZXNzYWdlCiAgICogQHBhcmFtICB7TWluaUJ1c30gICAgICBidXMgLSBNaW5pQnVzIHVzZWQgZm9yIGFkZHJlc3MgYWxsb2NhdGlvbgogICAqLwpmdW5jdGlvbiBBZGRyZXNzQWxsb2NhdGlvbihlLHQscil7aWYoKDAscy5kZWZhdWx0KSh0aGlzLEFkZHJlc3NBbGxvY2F0aW9uKSxwKXJldHVybiBwO3RoaXMuX3VybD1lKyIvYWRkcmVzcy1hbGxvY2F0aW9uIix0aGlzLl9idXM9dCx0aGlzLl9yZWdpc3RyeT1yLHA9dGhpc31yZXR1cm4oMCx1LmRlZmF1bHQpKEFkZHJlc3NBbGxvY2F0aW9uLFt7a2V5OiJjcmVhdGUiLC8qKgogICAgICoKICAgICAqIEFzayBmb3IgY3JlYXRpb24gb2YgYSBudW1iZXIgb2YgSHlwZXJ0eSBhZGRyZXNzZXMsIHRvIHRoZSBkb21haW4gbWVzc2FnZSBub2RlLgogICAgICoKICAgICAqIEBwYXJhbSB7RG9tYWlufSBkb21haW4gLSBkb21haW4gb2YgdGhlIG1lc3NhZ2Ugbm9kZQogICAgICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlciAtIG51bWJlciBvZiBhZGRyZXNzIHRvIGJlIGFsbG9jYXRlZAogICAgICogQHBhcmFtIHtEZXNjcmlwdG9yfSBpbmZvIC0gZGVzY3JpcHRvciB0byBzZWFyY2ggZm9yIHRoZSBoeXBlcnR5IChUT0RPOi8vIHRoaXMgc2hvdWxkIGJlIGNvbmZpcm1lZCkKICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9kYXRhbW9kZWwvY29yZS9oeXBlcnR5LWNhdGFsb2d1ZS9yZWFkbWUubWQjY2F0YWxvZ3VlLWRhdGEtbW9kZWwKICAgICAqIEBwYXJhbSB7c2NoZW1lfSBzY2hlbWUgLSBzY2hlbWUgb2YgYWRkcmVzcyB0byBiZSBjcmVhdGVkIG9yIHJldXNlZCwgbGlrZTogaHlwZXJ0eSwgY29tbSwgY29udGV4dCwgZXRjOwogICAgICogQHBhcmFtIHtib29sZWFufFVSTC5IeXBlcnR5VVJMfSByZXVzZVVSTCAtIHJldXNlVVJMIGlzIHVzZWQgdG8gcmV1c2UgdGhlIGh5cGVydHlVUkwgcHJldmlvdXNseSByZWdpc3RyZWQ7CiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn0gdGhpcyBpcyBQcm9taXNlIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBhZGRyZXNzIGluZm9ybWF0aW9uCiAgICAgKgogICAgICogQG1lbWJlck9mIEFkZHJlc3NBbGxvY2F0aW9uCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXsKLy8gLy8gY29uc29sZS5sb2coJ3R5cGVvZihyZXVzZVVSTCknLCB0eXBlb2YocmV1c2VVUkwpLCByZXVzZVVSTCk7Ci8vIC8vIGNvbnNvbGUubG9nKCd0eXBlb2YocmV1c2VVUkwpJywgdHlwZW9mKHJldXNlVVJMKSwgcmV1c2VVUkwpOwpyZXR1cm4gaT8iYm9vbGVhbiI9PXR5cGVvZiBpP2k/dGhpcy5fcmV1c2VBbGxvY2F0ZWRBZGRyZXNzKGUsdCxyLG4saSk6dGhpcy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KToic3RyaW5nIj09dHlwZW9mIGkmJigwLGwuaXNVUkwpKGkpP3RoaXMuX3JldXNlQWxsb2NhdGVkQWRkcmVzcyhlLHQscixuLGkpOnZvaWQgMDooZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb25dIC0gbmV3IGFkZHJlc3Mgd2lsbCBiZSBhbGxvY2F0ZWQiKSx0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQpKX19LHtrZXk6Il9yZXVzZUFsbG9jYXRlZEFkZHJlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIHM9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLGEpe3MuX3JlZ2lzdHJ5LmNoZWNrUmVnaXN0ZXJlZFVSTHMocixvKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpe2QuaW5mbygiW0FkZHJlc3NBbGxvY2F0aW9uIC0gIituKyJdIC0gUmV1c2UgVVJMIik7aSh7bmV3QWRkcmVzczohMSxhZGRyZXNzOnJ9KX1lbHNlInN0cmluZyI9PXR5cGVvZiBvPyhkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtIHJldXNlVVJMXSAtIE9iamVjdCAiK28rIiBub3QgZm91bmQiKSxhKCJVUkwgTm90IEZvdW5kIikpOiJib29sZWFuIj09dHlwZW9mIG8/cy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KS50aGVuKGkpLmNhdGNoKGEpOmEoIlVSTCBOb3QgRm91bmQiKX0pfSl9fSx7a2V5OiJfYWxsb2NhdGVOZXdBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe3ZhciBzPXt0eXBlOiJjcmVhdGUiLGZyb206bi5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e3ZhbHVlOntudW1iZXI6cn19fTsiaHlwZXJ0eSIhPT10JiYocy5ib2R5LnNjaGVtZT10KSxkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtICIrdCsiXSAtIFJlcXVlc3QgbmV3IFVSTCIpLG4uX2J1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKDIwMD09PWUuYm9keS5jb2RlKXt2YXIgdD17bmV3QWRkcmVzczohMCxhZGRyZXNzOmUuYm9keS52YWx1ZS5hbGxvY2F0ZWR9O2kodCl9ZWxzZSBvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e2NoaWxkcmVuUmVzb3VyY2VzOnR9fTtyLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9uKGUuYm9keS5jb2RlKTppKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJ1cmwiLC8qKgogICAgICogZ2V0IHRoZSBVUkwgdmFsdWUKICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHVybCB2YWx1ZTsKICAgICAqLwpnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dLFt7a2V5OiJpbnN0YW5jZSIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXApdGhyb3cgbmV3IEVycm9yKCJUaGUgYWRkcmVzcyBhbGxvY2F0aW9uIHdhcyBub3QgaW5zdGFudGlhdGVkIik7cmV0dXJuIHB9fV0pLEFkZHJlc3NBbGxvY2F0aW9ufSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDEwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9cig0OTApLHA9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChkKSx5PWYuZ2V0TG9nZ2VyKCJDcnlwdG9NYW5hZ2VyIiksaD1mdW5jdGlvbigpey8qKgogICogVGhpcyBpcyB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGlzZSB0aGUgQ3J5cHRvTWFuYWdlciwgaXQgZG9lcyBub3QgcmVxdWlyZSBhbnkgaW5wdXQuCiAgKiBUaGUgaW5pdCgpIG11c3QgY2FsbGVkIGluIG9yZGVyIHRvIHNldCBtYW5kYXRvcmllcyBhdHRyaWJ1dGVzCiAgKi8KZnVuY3Rpb24gQ3J5cHRvTWFuYWdlcihlKXsoMCxzLmRlZmF1bHQpKHRoaXMsQ3J5cHRvTWFuYWdlciksdGhpcy5zdG9yYWdlTWFuYWdlcj1lLHRoaXMudXNlckRlZmF1bHRLZXlSZWY9InVzZXJBc3ltbWV0cmljS2V5In1yZXR1cm4oMCx1LmRlZmF1bHQpKENyeXB0b01hbmFnZXIsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLHMsYSl7dmFyIHU9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoIltdIHJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighcil0aHJvdyBuZXcgRXJyb3IoInN0b3JhZ2VNYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVGYWN0b3J5IGlzIG1pc3NpbmciKTt1Ll9ydW50aW1lVVJMPWUsdS5fY3J5cHRvTWFuYWdlclVSTD11Ll9ydW50aW1lVVJMKyIvY3J5cHRvTWFuYWdlciIsCi8vX3RoaXMuX215VVJMID0gX3RoaXMuX3J1bnRpbWVVUkwgKyAnL2NyeXB0byc7CnUuc3RvcmFnZU1hbmFnZXI9cix1LmRhdGFPYmplY3RzU3RvcmFnZT1uLHUucnVudGltZUNhcGFiaWxpdGllcz10LHUuX3J1bnRpbWVGYWN0b3J5PWEsdS5fZG9tYWluPSgwLGwuZGl2aWRlVVJMKSh1Ll9ydW50aW1lVVJMKS5kb21haW4sdS5jcnlwdG89bmV3IHAuZGVmYXVsdCh1Ll9ydW50aW1lRmFjdG9yeSksCi8vIGhhc2hUYWJsZSB0byBzdG9yZSBhbGwgdGhlIGNyeXB0byBpbmZvcm1hdGlvbiBiZXR3ZWVuIHR3byBoeXBlcnRpZXMKdS5jaGF0S2V5cz17fSwKLy8gaGFzaFRhYmxlIHRvIHN0b3JlIHRoZSBzeW1tZXRyaWMga2V5cyB0byBiZSB1c2VkIGluIHRoZSBjaGF0IGdyb3VwCnUuZGF0YU9iamVjdFNlc3Npb25LZXlzPXt9LAovL2ZhaWxzYWZlIHRvIGVuYWJsZS9kaXNhYmxlIGFsbCB0aGUgY3JpcHRvZ3JhcGhpYyBmdW5jdGlvbnMKdS5pc1RvVXNlRW5jcnlwdGlvbj0hMCx1Ll9yZWdpc3RyeT1pLHUuX2NvcmVEaXNjb3Zlcnk9byx1Ll9pZG09c319LHtrZXk6ImxvYWRTZXNzaW9uS2V5cyIsCi8vIHRvIGJlIHVzZWQgdG8gaW5pdGlhbGlzZSBJRE0gd2l0aCBTZXNzaW9uS2V5cyB1c2VkIGluIHByZXZpb3VzIHNlc3Npb24KdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHIpe2UuZGF0YU9iamVjdFNlc3Npb25LZXlzPXJ8fHt9LHQoKX0pfSl9fSx7a2V5OiJfaXNGcm9tUmVtb3RlU00iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJydW50aW1lIj09PWUuc3BsaXQoIjovLyIpWzBdJiZlIT09dGhpcy5fcnVudGltZVVSTCsiL3NtIn19LHtrZXk6ImFkZENyeXB0b0dVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsKLy9UT0RPOiBDaGFuZ2UgdGhlIEdVSSBpbnZvY2F0aW9uIG9mIHRoaXMgbWV0aG9kCnZhciBlPXRoaXM7ZS5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihlLl9jcnlwdG9NYW5hZ2VyVVJMLGZ1bmN0aW9uKHQpewovL2xldCByZXR1cm5lZFZhbHVlOwppZigiZ2VuZXJhdGVSU0FLZXlQYWlyIj09PXQuYm9keS5tZXRob2QpcmV0dXJuIHZvaWQgZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe3kuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIGdlbmVyYXRlUlNBS2V5UGFpciBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9KX19LHtrZXk6Il9pc1RvRW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7eS5pbmZvKCJbQ3J5cHRvTWFuYWdlci5pc3RvQ2h5cGVyTW9kdWxlXSIsZSk7dmFyIHQ9ImNyZWF0ZSI9PT1lLnR5cGUscj1lLmZyb20uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxuPWUudG8uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxpPSgwLGwuaXNEYXRhT2JqZWN0VVJMKShlLnRvKSxvPSFlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpfHxlLmJvZHkubXV0dWFsOwovL2lmIGlzIG5vdCB0byBhcHBseSBlbmNyeXB0aW9uLCB0aGVuIHJldHVybnMgcmVzb2x2ZQpyZXR1cm4hIW8mJih0aGlzLmlzVG9Vc2VFbmNyeXB0aW9ufHwiaGFuZHNoYWtlIj09PWUudHlwZT8idXBkYXRlIj09PWUudHlwZT8oeS5pbmZvKCJ1cGRhdGU6ZW5jcnlwdGlvbiBkaXNhYmxlZCIpLCExKTohKDAsbC5pc0xlZ2FjeSkoZS50bykmJih0JiZyJiZufHx0JiZyJiZpJiZvfHwiaGFuZHNoYWtlIj09PWUudHlwZXx8InVwZGF0ZSI9PT1lLnR5cGUmJm8pOih5LmluZm8oIm5vdCBoYW5kc2hha2U6IGVuY3J5cHRpb24gZGlzYWJsZWQiKSwhMSkpfX0se2tleToiX2lzVG9EZWNyeXB0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7InN1YnNjcmliZSI9PT1lLnR5cGUmdC5faXNGcm9tUmVtb3RlU00oZS5mcm9tKT8oeS5sb2coIl9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UxIiksdC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMShlKS50aGVuKGZ1bmN0aW9uKCl7cighMSl9LGZ1bmN0aW9uKGUpe24oZSl9KSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJiJzdHJpbmciPT10eXBlb2YgZS5ib2R5LnZhbHVlPyh5LmxvZygiX2lzVG9EZWNyeXB0OnRydWUiKSxyKCEwKSk6KHkubG9nKCJfaXNUb0RlY3J5cHQ6ZmFsc2UiKSxyKCExKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbQ3J5cHRvTWFuYWdlci5faXNUb0RlY3J5cHRdIixlKX0pfX0se2tleToiZW5jcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpewovL2xvZy5pbmZvKCdlbmNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnZhciB0PXRoaXM7cmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2UgIiksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPSJoYW5kc2hha2UiPT09ZS50eXBlOwovL2lmIGlzIG5vdCB0byBhcHBseSBlbmNyeXB0aW9uLCB0aGVuIHJldHVybnMgcmVzb2x2ZQppZighdC5faXNUb0VuY3J5cHQoZSkpCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIHIoZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLHM9KDAsbC5pc0RhdGFPYmplY3RVUkwpKG8pLGE9KDAsbC5pc0xlZ2FjeSkoZS50byksdT0iaHlwZXJ0eSI9PT0oMCxsLmRpdmlkZVVSTCkoZS5mcm9tKS50eXBlLGM9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUudG8pLnR5cGU7aWYoInVwZGF0ZSI9PT1lLnR5cGUpcmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2U6IG1lc3NhZ2UgdHlwZSB1cGRhdGUiKSxyKGUpO2lmKGEpcihlKTtlbHNlIGlmKHUmJmMpe3ZhciBmPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO2lmKGYpewovLyBjaGVjayBpZiBleGlzdHMgYW55IGtleXMgYmV0d2VlbiB0d28gdXNlcnMKdmFyIGQ9dC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b107aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYpLAovL2xvZy5sb2coJ2NyZWF0ZUNoYXRLZXkgZW5jcnlwdCcsIG1lc3NhZ2UuZnJvbSArIG1lc3NhZ2UudG8pOwp0LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT1kLGUuYm9keS5oYW5kc2hha2VQaGFzZT0ic3RhcnRIYW5kU2hha2UiKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD10LmNyeXB0by5nZW5lcmF0ZUlWKCk7dC5jcnlwdG8uZW5jcnlwdEFFUyhkLmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpLHApLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpKygwLGwuc3RyaW5naWZ5KShwKSxkLmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTt0LmNyeXB0by5oYXNoSE1BQyhkLmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpLnRoZW4oZnVuY3Rpb24odCl7Ci8vbG9nLmxvZygncmVzdWx0IG9mIGhhc2ggJywgaGFzaCk7CnZhciBpPXtpdjooMCxsLmVuY29kZSkocCksdmFsdWU6KDAsbC5lbmNvZGUpKG4pLGhhc2g6KDAsbC5lbmNvZGUpKHQpfTtlLmJvZHkudmFsdWU9KDAsbC5lbmNvZGUpKGkpLHIoZSl9KX0pfWVsc2UgaT9yKGUpOnQuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpe3QuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpLG4oImVuY3J5cHQgaGFuZHNoYWtlIHByb3RvY29sIHBoYXNlICIpfSl9ZWxzZSBuKCJJbiBlbmNyeXB0TWVzc2FnZTogSHlwZXJ0eSBvd25lciBVUkwgd2FzIG5vdCBmb3VuZCIpfWVsc2UgdSYmcyYmCi8vbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBlbmNyeXB0OiAnLCBtZXNzYWdlLmJvZHkudmFsdWUpOwovL2xvZy5sb2coJ0lkZW50aXR5TW9kdWxlIC0gZW5jcnlwdCBmcm9tIGh5cGVydHkgdG8gZGF0YW9iamVjdCAnLCBtZXNzYWdlKTsKdC5zdG9yYWdlTWFuYWdlci5nZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIpLnRoZW4oZnVuY3Rpb24oaSl7aT0oMCxsLmNoYXRrZXlzVG9BcnJheUNsb25lcikoaXx8e30pO3ZhciBzPWk/aVtvXTpudWxsO3QuZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QobykudGhlbihmdW5jdGlvbihpKXsKLy9pZiBubyBrZXkgZXhpc3RzLCBjcmVhdGUgYSBuZXcgb25lIGlmIGlzIHRoZSByZXBvcnRlciBvZiBkYXRhT2JqZWN0CmlmKCFzJiZpLnJlcG9ydGVyJiZpLnJlcG9ydGVyPT09ZS5mcm9tKXt2YXIgYT10LmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3QuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dPXtzZXNzaW9uS2V5OmEsaXNUb0VuY3J5cHQ6ITB9O3ZhciB1PSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikodC5kYXRhT2JqZWN0U2Vzc2lvbktleXMpOwovL1RPRE86IGNoZWNrIGlmIHRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBzdG9yZWQKdC5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCx1KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBlbmNyeXB0TWVzc2FnZSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQgZXJyb3I6ICIrZSl9KSxzPXQuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dfQovL2NoZWNrIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBzZXNzaW9uIGtleSBmb3IgdGhlIGNoYXQgcm9vbQppZihzKQovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYocy5pc1RvRW5jcnlwdCl7dmFyIGM9dC5jcnlwdG8uZ2VuZXJhdGVJVigpLGY9KDAsbC5zdHJpbmdpZnkpKGMpLGQ9KDAsbC5zdHJpbmdpZnkpKGUuYm9keS52YWx1ZSk7dC5jcnlwdG8uZW5jcnlwdEFFUyhzLnNlc3Npb25LZXksZCxjKS50aGVuKGZ1bmN0aW9uKG4pe2RlbGV0ZSBlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLC8vVE9ETzogQ2hlY2sgd2h5IGFzc2VydGlvbiBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQpkZWxldGUgZS5ib2R5LmlkZW50aXR5LmV4cGlyZXM7Ly9UT0RPOiBDaGVjayB3aHkgZXhwaXJlcyBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQp2YXIgaT10Ll9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsZCtmKTt0LmNyeXB0by5oYXNoSE1BQyhzLnNlc3Npb25LZXksaSkudGhlbihmdW5jdGlvbih0KXsKLy8gbG9nLmxvZygnaGFzaCAnLCBoYXNoKTsKdmFyIGk9e3ZhbHVlOigwLGwuZW5jb2RlKShuKSxpdjooMCxsLmVuY29kZSkoYyksaGFzaDooMCxsLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxsLnN0cmluZ2lmeSkoaSkscihlKX0pfSl9ZWxzZSByKGUpO2Vsc2UgbigiRGF0YSBvYmplY3Qga2V5IGNvdWxkIG5vdCBiZSBkZWZpbmVkOiBGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlICIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2QgZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJlbmNyeXB0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7eS5pbmZvKCJkYXRhT2JqZWN0IHZhbHVlIHRvIGVuY3J5cHQ6ICIsZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpO3Iuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHQpe3Q9KDAsbC5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKHR8fHt9KTt2YXIgcz10P3Rbb106bnVsbDsKLy9jaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgc2Vzc2lvbiBrZXkgZm9yIHRoZSBjaGF0IHJvb20KaWYoIXMpcmV0dXJuIGkoIk5vIGRhdGFPYmplY3RLZXkgZm9yIHRoaXMgZGF0YU9iamVjdFVSTDoiLG8pOwovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYoIXMuaXNUb0VuY3J5cHQpcmV0dXJuIHkuaW5mbygiVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCIpLG4oZSk7dmFyIGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpO3IuY3J5cHRvLmVuY3J5cHRBRVMocy5zZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlKSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt2YWx1ZTooMCxsLmVuY29kZSkoZSksaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy9sb2cubG9nKCdlbmNyeXB0ZWQgZGF0YU9iamVjdCcsIG5ld1ZhbHVlKTsKcmV0dXJuIG4odCl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5nZXQgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZGVjcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Ci8vICBsb2cubG9nKCdkZWNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnJldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ImhhbmRzaGFrZSI9PT1lLnR5cGU7dC5faXNUb0RlY3J5cHQoZSkudGhlbihmdW5jdGlvbihvKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIW8pcmV0dXJuIHIoZSk7dmFyIHM9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLGE9KDAsbC5pc0RhdGFPYmplY3RVUkwpKHMpLHU9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGwuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiByKGUpOwovL2lzIGlzIGh5cGVydHkgdG8gaHlwZXJ0eSBjb21tdW5pY2F0aW9uCmlmKHUmJmMpewovLyBsb2cubG9nKCdkZWNyeXB0IGh5cGVydHkgdG8gaHlwZXJ0eScpOwp2YXIgZj10Ll9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS50byk7aWYoZil7dmFyIGQ9dC5jaGF0S2V5c1tlLnRvKyI8LT4iK2UuZnJvbV07aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYsImRlY3J5cHQiKSx0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1kKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD0oMCxsLmRlY29kZSkoZS5ib2R5LnZhbHVlKSxoPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLml2KSx2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLnZhbHVlKSxnPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLmhhc2gpO3QuY3J5cHRvLmRlY3J5cHRBRVMoZC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixoKS50aGVuKGZ1bmN0aW9uKG4pewovLyBsb2cubG9nKCdkZWNyeXB0ZWQgdmFsdWUgJywgZGVjcnlwdGVkRGF0YSk7CmUuYm9keS52YWx1ZT1uO3ZhciBpPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2gpO3QuY3J5cHRvLnZlcmlmeUhNQUMoZC5rZXlzLmh5cGVydHlUb0hhc2hLZXksaSxnKS50aGVuKGZ1bmN0aW9uKHQpewovL2xvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiEgJywgcmVzdWx0KTsKZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pfSl9ZWxzZSBpP3QuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpewovL2lmIGl0IHdhcyBzdGFydGVkIGJ5IGRvTXV0dWFsQXV0aGVudGljYXRpb24gdGhlbiBlbmRzIHRoZSBwcm90b2NvbAoiaGFuZFNoYWtlRW5kIj09PXJ8fCh0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1yLmNoYXRLZXlzLHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoci5tZXNzYWdlKSl9KTpuKCJ3cm9uZyBtZXNzYWdlIGRvIGRlY3J5cHQiKX1lbHNlIG4oImVycm9yIG9uIGRlY3J5cHQgbWVzc2FnZSIpfWVsc2UgdSYmYT8KLy8gbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBkZWNyeXB0OiAnLCBtZXNzYWdlLmJvZHkpOwp0LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihpKXtpPSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShpfHx7fSk7dmFyIG89aT9pW3NdOm51bGw7aWYobykKLy9jaGVjayBpZiBpcyB0byBhcHBseSBlbmNyeXB0aW9uCmlmKG8uaXNUb0VuY3J5cHQpe3ZhciBhPSgwLGwucGFyc2UpKGUuYm9keS52YWx1ZSksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5pdiksYz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS52YWx1ZSksZj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5oYXNoKTt0LmNyeXB0by5kZWNyeXB0QUVTKG8uc2Vzc2lvbktleSxjLHUpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHM9KDAsbC5wYXJzZSkoaSk7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZCBWYWx1ZSwnLCBwYXJzZWRWYWx1ZSk7CmUuYm9keS52YWx1ZT1zO3ZhciBhPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSwoMCxsLnN0cmluZ2lmeSkocykrKDAsbC5zdHJpbmdpZnkpKHUpKTt0LmNyeXB0by52ZXJpZnlITUFDKG8uc2Vzc2lvbktleSxhLGYpLnRoZW4oZnVuY3Rpb24odCl7eS5sb2coIlJlY2VpdmVkIG1lc3NhZ2UgSE1BQyByZXN1bHQiLHQpLGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJNZXNzYWdlIEhNQUMgaXMgaW52YWxpZDogIitlKX0pfSl9ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpO2Vsc2UgZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pOm4oIndyb25nIG1lc3NhZ2UgdG8gZGVjcnlwdCIpfSl9KX19LHtrZXk6ImRlY3J5cHREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIXIuaXNUb1VzZUVuY3J5cHRpb24pCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIG4oZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpOwovLyBsb2cubG9nKCdkYXRhT2JqZWN0IHZhbHVlIHRvIGRlY3J5cHQ6ICcsIGRhdGFPYmplY3QpOwpyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0KTt2YXIgcz10P3Rbb106bnVsbDtpZighcylyZXR1cm4gaSgiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsbyk7Ci8vY2hlY2sgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbgppZighcy5pc1RvRW5jcnlwdCkKLy8gbG9nLmxvZygnVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCcpOwpyZXR1cm4gbihlKTt2YXIgYT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5pdiksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS52YWx1ZSk7ci5jcnlwdG8uZGVjcnlwdEFFUyhzLnNlc3Npb25LZXksdSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwucGFyc2UpKGUpLHI9e3ZhbHVlOnQsaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy8gbG9nLmxvZygnZGVjcnlwdGVkIGRhdGFPYmplY3QsJywgbmV3VmFsdWUpOwpyZXR1cm4gbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGRlY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8uc3BsaXQoIi8iKTsKLy9sZXQgc3Vic0luZGV4ID0gdG8uaW5kZXhPZignc3Vic2NyaXB0aW9uJyk7Ci8vbGV0IGlzRGF0YU9iamVjdFN1YnNjcmlwdGlvbiA9IHN1YnNJbmRleCAhPT0gLTE7CmkucG9wKCk7dmFyIG89aVswXSsiLy8iK2lbMl0rIi8iK2lbM107dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMihvLGUuYm9keS5zdWJzY3JpYmVyKS50aGVuKGZ1bmN0aW9uKCl7dC5fcmVnaXN0cnkucmVnaXN0ZXJTdWJzY3JpYmVyKG8sZS5ib2R5LnN1YnNjcmliZXIpLHIoKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246c2VuZGVyICIsZSkseS5pbmZvKCJkb011dHVhbEF1dGhlbnRpY2F0aW9uOnJlY2VpdmVyICIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMCxzPXIuX3JlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtzJiYobz1lLGU9cyk7dmFyIGE9e3RvOnQsZnJvbTplLGNhbGxiYWNrOnZvaWQgMCxib2R5OntoYW5kc2hha2VQaGFzZToic3RhcnRIYW5kU2hha2UiLGlnbm9yZToiaWdub3JlTWVzc2FnZSJ9fTtpZighZXx8IXQpcmV0dXJuIGkoInNlbmRlciBvciByZWNlaXZlciBtaXNzaW5nIG9uIGRvTXV0dWFsQXV0aGVudGljYXRpb24iKTt2YXIgdT1yLmNoYXRLZXlzW2UrIjwtPiIrdF0sYz1yLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSk7aWYoYyl7aWYoIXUpewovLyBjYWxsYmFjayB0byByZXNvbHZlIHdoZW4gZmluaXNoIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24KdmFyIGY9ZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NhbGxiYWNrIHZhbHVlOicsIHZhbHVlKTsKbihlKX07YS5jYWxsYmFjaz1mLGEuZGF0YU9iamVjdFVSTD1vLHU9ci5fbmV3Q2hhdENyeXB0byhhLGMpLHIuY2hhdEtleXNbZSsiPC0+Iit0XT11fWlmKHUuYXV0aGVudGljYXRlZCl7dmFyIGw9e3RvOmUsZnJvbTp0fTt1LmRhdGFPYmplY3RVUkw9byxyLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGwsdSkudGhlbihmdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUubWVzc2FnZSksbigiZXhjaGFuZ2Ugb2YgY2hhdCBzZXNzaW9uS2V5IGluaXRpYXRlZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiBmcm9tIG1ldGhvZCBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pfWVsc2Ugci5fZG9IYW5kU2hha2VQaGFzZShhLHUpfWVsc2UgaSgiTXV0dWFsIGF1dGhlbnRpY2F0aW9uIGVycm9yOiBIeXBlcnR5IG93bmVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZCIpfSl9fSx7a2V5OiJfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXSxzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPXt9OwovL2lmIHRoZXJlIGlzIG5vdCB5ZXQgYSBzZXNzaW9uIEtleSwgZ2VuZXJhdGVzIGEgbmV3IG9uZQppZihvKXU9by5zZXNzaW9uS2V5O2Vsc2V7dT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpLHIuZGF0YU9iamVjdFNlc3Npb25LZXlzW3QuZGF0YU9iamVjdFVSTF09e3Nlc3Npb25LZXk6dSxpc1RvRW5jcnlwdDohMH07dmFyIGQ9KDAsbC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7ci5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCxkKS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQoZGF0YU9iamVjdFNlc3Npb25LZXlzLi4uKSBlcnJvcjogIitlKX0pfXRyeXthPSgwLGwuZW5jb2RlKSh7dmFsdWU6KDAsbC5lbmNvZGUpKHUpLGRhdGFPYmplY3RVUkw6dC5kYXRhT2JqZWN0VVJMfSl9Y2F0Y2goZSl7cmV0dXJuIGkoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldCBlcnJvciB2YWx1ZVRvRW5jcnlwdDogIitlKX1jPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSxmLml2PSgwLGwuZW5jb2RlKShjKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksYSxjKS50aGVuKGZ1bmN0aW9uKG4pe3M9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVwb3J0ZXJTZXNzaW9uS2V5Iix2YWx1ZTooMCxsLmVuY29kZSkobil9fTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHMsYStjLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgcj0oMCxsLmVuY29kZSkoe3ZhbHVlOnMuYm9keS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjpmLml2fSk7cy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gY2hhaW5lZCBwcm9taXNlcyBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9yZXNvbHZlRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iZG9tYWluLWlkcDovLyIrZToiZG9tYWluLWlkcDovL2dvb2dsZS5jb20ifX0se2tleToiX2RvSGFuZFNoYWtlUGhhc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Ci8vIGxvZygnX2RvSGFuZFNoYWtlUGhhc2U6ZGF0YU9iamVjdCcsIG1lc3NhZ2UpOwovLwlsb2coJ19kb0hhbmRTaGFrZVBoYXNlOmNoYXRLZXlzJywgY2hhdEtleXMpOwp2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ZS5ib2R5LmhhbmRzaGFrZVBoYXNlLHM9dm9pZCAwLGE9dm9pZCAwLHU9e30sYz12b2lkIDAsZj12b2lkIDA7c3dpdGNoKHkuaW5mbygiaGFuZHNoYWtlIHBoYXNlOiAiLG8pLG8pe2Nhc2Uic3RhcnRIYW5kU2hha2UiOnQua2V5cy5mcm9tUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIGQ9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS50byxmcm9tOmUuZnJvbSxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVySGVsbG8iLHZhbHVlOigwLGwuZW5jb2RlKSh0LmtleXMuZnJvbVJhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChkLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSwKLy8gY2hlY2sgaWYgd2FzIHRoZSBlbmNyeXB0IGZ1bmN0aW9uIG9yIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24gdGhhdCByZXF1ZXN0IHRoZQovLyBzdGFydCBvZiB0aGUgaGFuZFNoYWtlUGhhc2UuCnQuaW5pdGlhbE1lc3NhZ2U/bih7bWVzc2FnZTpkLGNoYXRLZXlzOnR9KTooci5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109dCxyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQpKTticmVhaztjYXNlInNlbmRlckhlbGxvIjp5LmxvZygic2VuZGVySGVsbG8iKSx0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSx0LmtleXMuZnJvbVJhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5ib2R5LnZhbHVlKSx0LmtleXMudG9SYW5kb209ci5jcnlwdG8uZ2VuZXJhdGVSYW5kb20oKTt2YXIgcD17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckhlbGxvIix2YWx1ZTooMCxsLmVuY29kZSkodC5rZXlzLnRvUmFuZG9tKX19O3QuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gocCx2b2lkIDAsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksbih7bWVzc2FnZTpwLGNoYXRLZXlzOnR9KTticmVhaztjYXNlInJlY2VpdmVySGVsbG8iOnkubG9nKCJyZWNlaXZlckhlbGxvIiksci5nZXRNeVByaXZhdGVLZXkoKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBmPW4sdC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSxyLl9pZG0udmFsaWRhdGVBc3NlcnRpb24oZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix2b2lkIDAsZS5ib2R5LmlkZW50aXR5LmlkcC5kb21haW4pfSkudGhlbihmdW5jdGlvbihuKXsKLy9UT0RPIHJlbW92ZSBsYXRlciB0aGlzIHZlcmlmaWNhdGlvbiBhcyBzb29uIGFzIGFsbCB0aGUgSWRQIHByb3h5IGFyZSB1cGRhdGVkIGluIHRoZSBleGFtcGxlCnZhciBpPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Usbz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShpKSxzPXIuY3J5cHRvLmdlbmVyYXRlUE1TKCksYT1lLmJvZHkudmFsdWU7dC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PW8sdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHQua2V5cy50b1JhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYSksdC5rZXlzLnByZW1hc3RlcktleT1zO3ZhciB1PXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKHMsdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQodSwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihuKXt0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShuWzBdKSx0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMV0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KG5bMl0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblszXSkscz1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxsLmVuY29kZSkocyk7dmFyIGk9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVyQ2VydGlmaWNhdGUifX07Ci8vIGhhc2ggdGhlIHZhbHVlIGFuZCB0aGUgaXYKcmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXsKLy9lbmNyeXB0IHRoZSBkYXRhCnJldHVybiB1Lmhhc2g9KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2siLHMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5zeW1ldHJpY0VuY3J5cHRpb249KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LHQua2V5cy5wcmVtYXN0ZXJLZXkpfSkudGhlbihmdW5jdGlvbihuKXt1LmFzc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGwuZW5jb2RlKShuKTt2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fSxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goaSx0LmtleXMucHJlbWFzdGVyS2V5LHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5zaWduUlNBKGYsKDAsbC5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsbC5lbmNvZGUpKG8pKX0pLnRoZW4oZnVuY3Rpb24oaSl7dS5zaWduYXR1cmU9KDAsbC5lbmNvZGUpKGkpO3ZhciBvPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckNlcnRpZmljYXRlIix2YWx1ZTooMCxsLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChvLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSxmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pO2JyZWFrO2Nhc2Uic2VuZGVyQ2VydGlmaWNhdGUiOnkubG9nKCJzZW5kZXJDZXJ0aWZpY2F0ZSIpO3ZhciBoPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpO3IuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZj10LHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmFzc3ltZXRyaWNFbmNyeXB0aW9uKSxvPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Uscz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShvKTtyZXR1cm4gdC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PXMsdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHIuY3J5cHRvLmRlY3J5cHRSU0EoZixpKX0sZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coZXJyb3IpOwppKCJFcnJvciBkdXJpbmcgYXV0aGVudGljYXRpb24gb2YgaWRlbnRpdHk6ICIsZS5tZXNzYWdlKX0pLnRoZW4oZnVuY3Rpb24obil7dC5rZXlzLnByZW1hc3RlcktleT1uZXcgVWludDhBcnJheShuKTt2YXIgaT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoaC5zaWduYXR1cmUpLG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLHQua2V5cy5wcmVtYXN0ZXJLZXkpO3JldHVybiByLmNyeXB0by52ZXJpZnlSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LCgwLGwuZW5jb2RlKSh0LmhhbmRzaGFrZUhpc3RvcnkpKygwLGwuZW5jb2RlKShvKSxpKX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vbG9nLmxvZygnU2VuZGVyQ2VydGlmaWNhdGUgLSBzaWduYXR1cmUgdmFsaWRhdGlvbiByZXN1bHQgJywgc2lnblZhbGlkYXRpb25SZXN1bHQpOwp2YXIgbj1yLmNyeXB0by5jb25jYXRQTVN3aXRoUmFuZG9tcyh0LmtleXMucHJlbWFzdGVyS2V5LHQua2V5cy50b1JhbmRvbSx0LmtleXMuZnJvbVJhbmRvbSk7cmV0dXJuIHIuY3J5cHRvLmdlbmVyYXRlTWFzdGVyU2VjcmV0KG4sIm1lc3NhZ2VIaXN0b3JpYyIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQua2V5cy5tYXN0ZXJLZXk9ZSxyLmNyeXB0by5nZW5lcmF0ZUtleXMoZSwia2V5IGV4cGFuc2lvbiIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzBdKSx0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzFdKSx0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbMl0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbM10pLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaXYpO3ZhciBuPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLnN5bWV0cmljRW5jcnlwdGlvbik7cmV0dXJuIHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksbixzKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZERhdGEnLCBkZWNyeXB0ZWREYXRhKTsKdC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckNlcnRpZmljYXRlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmhhc2gpO3JldHVybiBjPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpLHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksYyxpKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiAnLCB2ZXJpZmllZEhhc2gpOwp2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSJ9fTsKLy9sb2cubG9nKCdUSUFHTzogZG9IYW5kU2hha2VQaGFzZSB2ZXJpZmllZEhhc2gnKTsKcmV0dXJuIHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxjKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHUuaGFzaD0oMCxsLmVuY29kZSkoZSksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEiLHMpfSkudGhlbihmdW5jdGlvbihpKXt1LnZhbHVlPSgwLGwuZW5jb2RlKShpKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSIsdmFsdWU6KDAsbC5lbmNvZGUpKHUpfX07dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gobywib2shIitzLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHQuYXV0aGVudGljYXRlZD0hMCxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSBzZW5kZXJDZXJ0aWZpY2F0ZSBlcnJvcjogIitlKX0pO2JyZWFrO2Nhc2UicmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2UiOnQuYXV0aGVudGljYXRlZD0hMCx1PSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaXYpO3ZhciB2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1LnZhbHVlKTthPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1Lmhhc2gpLHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixzKS50aGVuKGZ1bmN0aW9uKG8pewovLyBsb2cubG9nKCdkZWNyeXB0ZWREYXRhJywgZGVjcnlwdGVkRGF0YSk7CnQuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckZpbmlzaGVkTWVzc2FnZT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTt2YXIgdT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTtyLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LHUsYSkudGhlbihmdW5jdGlvbihvKXsKLy8gY2hlY2sgaWYgdGhlcmUgd2FzIGFuIGluaXRpYWwgbWVzc2FnZSB0aGF0IHdhcyBibG9ja2VkIGFuZCBzZW5kIGl0CmlmKHQuaW5pdGlhbE1lc3NhZ2Upe3ZhciBzPXt0eXBlOiJjcmVhdGUiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7dmFsdWU6dC5pbml0aWFsTWVzc2FnZS5ib2R5LnZhbHVlfX07bih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX1lbHNlIHIuX3NlbmRSZXBvcnRlclNlc3Npb25LZXkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX0pO2JyZWFrO2Nhc2UicmVwb3J0ZXJTZXNzaW9uS2V5Ijp5LmxvZygicmVwb3J0ZXJTZXNzaW9uS2V5Iik7dmFyIGc9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSk7YT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy5oYXNoKSxzPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShnLml2KTt2YXIgYj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy52YWx1ZSksbT12b2lkIDAsXz12b2lkIDAsUj12b2lkIDAsdz12b2lkIDA7Ci8vbG9nLmxvZygnW0lkZW50aXR5TW9kdWxlIHJlcG9ydGVyU2Vzc2lvbktleV0gLSBkZWNyeXB0QUVTOiAnLCBjaGF0S2V5cy5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksIGVuY3J5cHRlZFZhbHVlLCBpdik7CnIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksYixzKS50aGVuKGZ1bmN0aW9uKG4pe209KDAsbC5kZWNvZGUpKG4pLF89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKG0udmFsdWUpLFI9bS5kYXRhT2JqZWN0VVJMO3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksYSl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoIHN1Y2Nlc3NmdWxseSB2YWxpZGF0ZWQgJywgaGFzaFJlc3VsdCk7CnIuZGF0YU9iamVjdFNlc3Npb25LZXlzW1JdPXtzZXNzaW9uS2V5Ol8saXNUb0VuY3J5cHQ6ITB9O3ZhciBuPSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikoci5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3JldHVybiByLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLG4pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pLHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2shISIscyl9KS50aGVuKGZ1bmN0aW9uKG4pe3c9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJBY2tub3dsZWRnZSJ9fSx1LnZhbHVlPSgwLGwuZW5jb2RlKShuKTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHcsIm9rISEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksaSl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGwuZW5jb2RlKSh7dmFsdWU6dS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjp1Lml2fSk7dy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTp3LGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckFja25vd2xlZGdlIjp5LmxvZygicmVjZWl2ZXJBY2tub3dsZWRnZSIpO3ZhciBTPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLFA9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMuaGFzaCk7cz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoUy5pdik7dmFyIE89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksTyxzKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksUCl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoUmVzdWx0ICcsIGhhc2hSZXN1bHQpOwp2YXIgcj10LmNhbGxiYWNrO3ImJnIoImhhbmRTaGFrZUVuZCIpLG4oImhhbmRTaGFrZUVuZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZWNlaXZlckFja25vd2xlZGdlIGVycm9yOiAiK2UpfSk7YnJlYWs7ZGVmYXVsdDppKGUpfX0pfX0se2tleToiX2ZpbHRlck1lc3NhZ2VUb0hhc2giLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdG86ZS50byxib2R5OntpZGVudGl0eTpyfHxlLmJvZHkuaWRlbnRpdHksdmFsdWU6dHx8ZS5ib2R5LnZhbHVlLGhhbmRzaGFrZVBoYXNlOmUuYm9keS5oYW5kc2hha2VQaGFzZX19fX0se2tleToiX25ld0NoYXRDcnlwdG8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9cj9lLnRvOmUuZnJvbSxvPXI/ZS5mcm9tOmUudG8scz1uLl9pZG0uZ2V0SWRlbnRpdHkodCk7cmV0dXJue2h5cGVydHlGcm9tOntoeXBlcnR5OmksdXNlcklEOnMudXNlclByb2ZpbGUudXNlclVSTCwKLy9wcml2YXRlS2V5OiAiZ2V0TXlQdWJsaWNLZXkiLAovL3B1YmxpY0tleTogImdldE15UHJpdmF0ZUtleSIsCmFzc2VydGlvbjpzLmFzc2VydGlvbixtZXNzYWdlSW5mbzpzfSxoeXBlcnR5VG86e2h5cGVydHk6byx1c2VySUQ6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDAsYXNzZXJ0aW9uOnZvaWQgMH0sa2V5czp7aHlwZXJ0eVRvU2Vzc2lvbktleTp2b2lkIDAsaHlwZXJ0eUZyb21TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5VG9IYXNoS2V5OnZvaWQgMCxoeXBlcnR5RnJvbUhhc2hLZXk6dm9pZCAwLHRvUmFuZG9tOnZvaWQgMCxmcm9tUmFuZG9tOnZvaWQgMCxwcmVtYXN0ZXJLZXk6dm9pZCAwLG1hc3RlcktleTp2b2lkIDB9LGhhbmRzaGFrZUhpc3Rvcnk6e3NlbmRlckhlbGxvOnZvaWQgMCxyZWNlaXZlckhlbGxvOnZvaWQgMCxzZW5kZXJDZXJ0aWZpY2F0ZTp2b2lkIDAscmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U6dm9pZCAwfSxpbml0aWFsTWVzc2FnZTplLmJvZHkuaWdub3JlP3ZvaWQgMDplLGNhbGxiYWNrOmUuY2FsbGJhY2ssYXV0aGVudGljYXRlZDohMSxkYXRhT2JqZWN0VVJMOmUuZGF0YU9iamVjdFVSTH19fSx7a2V5OiJnZXRNeVB1YmxpY0tleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wdWJsaWMpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHVibGljKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltnZXRNeVB1YmxpY0tleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6ImdldE15UHJpdmF0ZUtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wcml2YXRlKTt0Ll9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7cihlLnByaXZhdGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpzdG9yYWdlTWFuYWdlcjplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXZvaWQgMDtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuY3J5cHRvLmdlbmVyYXRlUlNBS2V5UGFpcigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHkubG9nKCJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTp1c2VyQXN5bW1ldHJpY0tleUdlbmVyYXRlZCIsbikscj1uLHQuc3RvcmFnZU1hbmFnZXIuc2V0KGUsMCxuKX0pLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5U3VjY2VzcyIsZSksbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksaShlKX0pfSl9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkQ3J5cHRvR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX1dKSxDcnlwdG9NYW5hZ2VyfSgpOy8qCmNvbnN0IG5vZGVKU0tleVBhaXJQb3B1bGF0ZSA9IHsgcHVibGljOiBbNDgsIDEzMCwgMSwgMzQsIDQ4LCAxMywgNiwgOSwgNDIsIDEzNCwgNzIsIDEzNCwgMjQ3LCAxMywgMSwgMSwgMSwgNSwgMCwgMywgMTMwLCAxLCAxNSwgMCwgNDgsIDEzMCwgMSwgMTAsIDIsIDEzMCwgMSwgMSwgMCwgMjI4LCA0MywgMTAxLCAxMiwgMTIxLCA3LCAxNTcsIDcxLCA4MSwgNTgsIDIxOSwgMzIsIDEwLCAxMDgsIDE5MywgMTc5LCAyMTIsIDExNiwgMjU1LCA1OSwgMjE3LCAzMiwgMTYxLCAyMDEsIDUzLCAxNzEsIDIyNiwgMTk5LCAxMzcsIDIwMiwgMTcxLCA2MCwgODIsIDUzLCAxMjUsIDYyLCAxNzcsIDEyNiwgMTY1LCAyNCwgMTQxLCAzMCwgMTUsIDIyNiwgNTksIDEwNywgMzQsIDcsIDEzLCAxNDksIDExMiwgMTI1LCAxMCwgMjMwLCAxOTEsIDE1NiwgMTY0LCAxNzcsIDEwLCAxODUsIDEzLCA2NiwgMywgMjE3LCAxNjYsIDI0NCwgOTAsIDExOSwgMTExLCAyNywgMTQ1LCAxMDQsIDcxLCAxODksIDE2NiwgMjI2LCAyNTUsIDEzMywgODMsIDE1MSwgMjMxLCAxMDEsIDE1MSwgODksIDIyLCAxOSwgNjUsIDE1NCwgMTAsIDUzLCAyMDgsIDIxOCwgMjUyLCAyMTksIDM3LCA1MCwgMjEyLCA4NiwgMTQ1LCAxMDcsIDEzMiwgOTAsIDIzMywgMjAyLCAyMjcsIDEwOCwgMTE0LCAxNDEsIDI5LCA3MywgMTg3LCAzMSwgMTMsIDIzNCwgMCwgMjMyLCAyNCwgMTkxLCAzNSwgMTQ5LCAxNzksIDEzOCwgMjE0LCAxNTksIDI0NSwgMTYyLCAxNDgsIDIyMSwgMTE4LCAxNywgMTA1LCA4OSwgMTUxLCAxNDYsIDIwOSwgNTUsIDIzNiwgNjEsIDE0MywgMjMzLCAyMjgsIDEwLCAxMTUsIDgsIDgxLCAxOTcsIDQ1LCAxMjMsIDE4NywgMjIzLCAxNzYsIDI1NCwgMTY1LCA2OSwgMTQzLCAyOSwgMTAwLCAxMTQsIDE3LCAxMzAsIDIyNiwgMjIzLCAzMywgMTEsIDI0MCwgODEsIDYxLCAxNzIsIDE5MSwgMTU3LCAyNDYsIDIwMiwgODcsIDEzMSwgMjIxLCA4OCwgNDgsIDEyNywgMTU5LCAxMTksIDE2MCwgMTUyLCAxMTcsIDYxLCAyNTMsIDE3NCwgNjUsIDIxNCwgMjAzLCAyMTgsIDYzLCA1MCwgNzgsIDE2MCwgMTgxLCAyMjEsIDIxMSwgMTI4LCA3MCwgMTc4LCAxOTEsIDE3MCwgMCwgMTMsIDEyMiwgMTczLCAxMiwgMjAzLCAyNTIsIDQsIDE4NCwgMjI1LCAyNTIsIDcsIDYyLCA5NiwgMTE2LCAxNSwgMjE2LCAxNTgsIDU1LCA4NSwgNDgsIDE2LCA5LCAyMDYsIDExOSwgNzQsIDExMiwgMjQzLCAxMzYsIDg0LCAxODQsIDIyMywgMjU0LCAxMDEsIDkxLCA2MSwgMTAsIDkxLCA4NSwgMTkyLCAxNDcsIDE0NCwgNTcsIDI5LCA2NiwgMjM4LCAxOTksIDI0NCwgMTkzLCAxOTQsIDE1MCwgMjMyLCAyMDAsIDEwNywgMiwgMywgMSwgMCwgMV0sCiAgcHJpdmF0ZTogWzQ4LCAxMzAsIDQsIDE5MSwgMiwgMSwgMCwgNDgsIDEzLCA2LCA5LCA0MiwgMTM0LCA3MiwgMTM0LCAyNDcsIDEzLCAxLCAxLCAxLCA1LCAwLCA0LCAxMzAsIDQsIDE2OSwgNDgsIDEzMCwgNCwgMTY1LCAyLCAxLCAwLCAyLCAxMzAsIDEsIDEsIDAsIDIyOCwgNDMsIDEwMSwgMTIsIDEyMSwgNywgMTU3LCA3MSwgODEsIDU4LCAyMTksIDMyLCAxMCwgMTA4LCAxOTMsIDE3OSwgMjEyLCAxMTYsIDI1NSwgNTksIDIxNywgMzIsIDE2MSwgMjAxLCA1MywgMTcxLCAyMjYsIDE5OSwgMTM3LCAyMDIsIDE3MSwgNjAsIDgyLCA1MywgMTI1LCA2MiwgMTc3LCAxMjYsIDE2NSwgMjQsIDE0MSwgMzAsIDE1LCAyMjYsIDU5LCAxMDcsIDM0LCA3LCAxMywgMTQ5LCAxMTIsIDEyNSwgMTAsIDIzMCwgMTkxLCAxNTYsIDE2NCwgMTc3LCAxMCwgMTg1LCAxMywgNjYsIDMsIDIxNywgMTY2LCAyNDQsIDkwLCAxMTksIDExMSwgMjcsIDE0NSwgMTA0LCA3MSwgMTg5LCAxNjYsIDIyNiwgMjU1LCAxMzMsIDgzLCAxNTEsIDIzMSwgMTAxLCAxNTEsIDg5LCAyMiwgMTksIDY1LCAxNTQsIDEwLCA1MywgMjA4LCAyMTgsIDI1MiwgMjE5LCAzNywgNTAsIDIxMiwgODYsIDE0NSwgMTA3LCAxMzIsIDkwLCAyMzMsIDIwMiwgMjI3LCAxMDgsIDExNCwgMTQxLCAyOSwgNzMsIDE4NywgMzEsIDEzLCAyMzQsIDAsIDIzMiwgMjQsIDE5MSwgMzUsIDE0OSwgMTc5LCAxMzgsIDIxNCwgMTU5LCAyNDUsIDE2MiwgMTQ4LCAyMjEsIDExOCwgMTcsIDEwNSwgODksIDE1MSwgMTQ2LCAyMDksIDU1LCAyMzYsIDYxLCAxNDMsIDIzMywgMjI4LCAxMCwgMTE1LCA4LCA4MSwgMTk3LCA0NSwgMTIzLCAxODcsIDIyMywgMTc2LCAyNTQsIDE2NSwgNjksIDE0MywgMjksIDEwMCwgMTE0LCAxNywgMTMwLCAyMjYsIDIyMywgMzMsIDExLCAyNDAsIDgxLCA2MSwgMTcyLCAxOTEsIDE1NywgMjQ2LCAyMDIsIDg3LCAxMzEsIDIyMSwgODgsIDQ4LCAxMjcsIDE1OSwgMTE5LCAxNjAsIDE1MiwgMTE3LCA2MSwgMjUzLCAxNzQsIDY1LCAyMTQsIDIwMywgMjE4LCA2MywgNTAsIDc4LCAxNjAsIDE4MSwgMjIxLCAyMTEsIDEyOCwgNzAsIDE3OCwgMTkxLCAxNzAsIDAsIDEzLCAxMjIsIDE3MywgMTIsIDIwMywgMjUyLCA0LCAxODQsIDIyNSwgMjUyLCA3LCA2MiwgOTYsIDExNiwgMTUsIDIxNiwgMTU4LCA1NSwgODUsIDQ4LCAxNiwgOSwgMjA2LCAxMTksIDc0LCAxMTIsIDI0MywgMTM2LCA4NCwgMTg0LCAyMjMsIDI1NCwgMTAxLCA5MSwgNjEsIDEwLCA5MSwgODUsIDE5MiwgMTQ3LCAxNDQsIDU3LCAyOSwgNjYsIDIzOCwgMTk5LCAyNDQsIDE5MywgMTk0LCAxNTAsIDIzMiwgMjAwLCAxMDcsIDIsIDMsIDEsIDAsIDEsIDIsIDEzMCwgMSwgMCwgMTAzLCAyNDQsIDEzNywgMTE4LCAxMTYsIDgyLCAxNCwgMjAzLCAxMDIsIDEwNywgMjUzLCA4OCwgMTIsIDE5OSwgMjIyLCA2MCwgMjQzLCAxMzYsIDg2LCAxNTcsIDc0LCAyMjQsIDE5MCwgNTMsIDExMywgNTcsIDE1NywgMjUwLCA0OSwgMTMwLCA5NiwgMzEsIDI1MiwgMTM2LCAxNTIsIDcwLCAxNDMsIDE3LCAyMTUsIDk2LCAxMDMsIDUxLCAxOCwgMzUsIDE0MSwgMjEyLCAyMTAsIDIwNSwgOSwgMjE2LCA4MywgNzAsIDI0NSwgNzEsIDEzOCwgMTE5LCAxMTIsIDIyOSwgMTY0LCAxNzYsIDksIDM3LCA4MSwgMTYxLCAxOTMsIDE1NCwgNjgsIDI0OSwgMTE1LCAxMDYsIDIwMSwgNiwgMTIsIDIyNSwgMTQ0LCAxMjYsIDE0MSwgMjEwLCAxNDEsIDI0MiwgMTI4LCAxNTksIDIyMSwgMTYzLCAyMjIsIDIxLCAyMzMsIDIzMCwgMTY3LCAyMDYsIDU5LCAyNCwgMjUwLCAyMzMsIDgxLCAxMjIsIDEwMiwgMjYsIDYsIDIzMywgNzIsIDEzMywgNDcsIDc3LCAxNTUsIDIzOCwgODYsIDYsIDEzOSwgMjQsIDEzMSwgMTYzLCAxNzksIDExMiwgNDgsIDI0NywgMTQyLCA2LCAyMDcsIDIwNCwgMTczLCAyMjMsIDE0MCwgMTk5LCAxNTAsIDk1LCAxMjMsIDE1MiwgMjAyLCAxNTUsIDEzMSwgMjM4LCA2MiwgOTYsIDEzMywgNCwgMjE3LCA1MSwgMTIxLCAzMCwgMzgsIDE3OCwgMTg5LCAyMTYsIDQ0LCAzNSwgMjQxLCA5MywgNywgNjIsIDkwLCAxMTEsIDIxNiwgNjYsIDIwOSwgMjQzLCAxMjgsIDIzNCwgMTQxLCA4NCwgMTM1LCAxODEsIDEzLCAzOCwgMjIwLCAxMTQsIDI0NSwgMjQwLCAxNzgsIDk1LCAyMjAsIDIwNiwgMTEsIDE4NiwgMjM0LCAyMTMsIDY2LCAxMjEsIDgzLCA2OCwgODksIDc1LCA0NiwgMTgzLCAxNDUsIDE4MywgMTQ3LCAxNjAsIDIxNSwgMTE4LCAxOTgsIDEyNSwgMTgxLCAxNDYsIDMwLCAyNTEsIDU4LCA4NywgNDcsIDIwOSwgMjM3LCA5NywgMjQsIDQ3LCAxNzksIDYsIDExMCwgMjQyLCA5OSwgMTUwLCAyMjYsIDE0OCwgMTk4LCAxNzQsIDE0NiwgMTAxLCAyMTMsIDg3LCAxNzgsIDEwLCAyMjMsIDEwNSwgMTgsIDU2LCA1MywgMjIsIDIxMiwgMTU4LCAxNzAsIDE3NiwgNTEsIDg2LCAxNDUsIDEyNSwgMTI0LCA0NCwgOSwgODUsIDE5LCAxNDQsIDI0NiwgMTcwLCA3OCwgMTI0LCAzMCwgMzIsIDEyLCAxNjYsIDE3NCwgMTM5LCA3NywgNjMsIDE3MywgODIsIDEwLCAxNTMsIDIsIDEyOSwgMTI5LCAwLCAyNDgsIDE4LCAxNDMsIDI0NiwgMTM3LCAxMzYsIDE0NSwgMjE5LCAxNzgsIDM5LCAyNywgOTQsIDY0LCA5MCwgNDcsIDE2MywgMTE0LCA2MCwgNjMsIDE4NywgMTMxLCAxNDMsIDI0NCwgMTYsIDQyLCAxMjgsIDIzMSwgMTE3LCA5MiwgOTgsIDIxOSwgMTU1LCA2MiwgMTA3LCAyNTIsIDE3LCAyNDUsIDQ1LCAxNjAsIDIyNSwgMTAzLCAxNDIsIDcyLCAzNiwgMTkzLCAxNTAsIDIzNSwgMjE0LCAxNzUsIDYyLCAyMTIsIDU2LCA0NSwgOSwgMCwgNjAsIDExNCwgMTA3LCAxMzQsIDIyOCwgMjA0LCAxMzEsIDEzMSwgMjE0LCA5NCwgMjAxLCAxNDgsIDE1OSwgOTksIDEzOSwgMTgxLCAxMywgMTE5LCAzOCwgMzAsIDEwNywgMTY2LCAxNjUsIDIwMywgNDMsIDM0LCAyMCwgMjA3LCAxNzEsIDMyLCA1OCwgMTY3LCA2MiwgMTk2LCAxNTMsIDEwMywgMjA0LCAyMTMsIDI0NywgNDgsIDExMSwgMjI3LCA1OSwgOTUsIDk3LCAxOTQsIDE4NywgNTMsIDEwLCAyNDcsIDEwOCwgNTgsIDg2LCAyOCwgMjksIDExMywgOCwgMTEwLCAxNzEsIDIyMCwgMjQ1LCAxMSwgODIsIDIzMywgMjIzLCA5MSwgNjgsIDE2NiwgMTE3LCAxNzQsIDE4NywgNjIsIDc3LCAyLCAxMjksIDEyOSwgMCwgMjM1LCAxMTgsIDIsIDEwNSwgMjM5LCAyMTIsIDMwLCAxMDQsIDE1NywgNDEsIDEwOSwgMTEsIDI0OCwgMTUyLCAyMiwgMjM2LCA5NywgNDAsIDE1MywgMTMxLCAyMjgsIDUsIDg2LCAxODcsIDExMywgMTI2LCAxNDQsIDc2LCAxNDEsIDc5LCAxMTAsIDI1MCwgMTQ2LCAxNTIsIDQ5LCA1OCwgMTU2LCAyMDEsIDE3NiwgOTIsIDE4OSwgMjA5LCAzMCwgMTEyLCAxMDgsIDE3NSwgMjA0LCAyMDQsIDI0NywgMTY0LCA0NiwgMTI5LCAyMzksIDk4LCAxMjcsIDQ5LCAxNDUsIDIxOCwgNjMsIDE5MywgMTI0LCAxNzQsIDE4LCA5OCwgMjAxLCA5OSwgMTU0LCAxNjIsIDEzOCwgNzgsIDE1OSwgMjUzLCAzLCAyNDgsIDMsIDIwOSwgMzYsIDIzOSwgMTkzLCAxNTUsIDE5MywgNSwgMTksIDIzNiwgMzcsIDc4LCAxMTgsIDEzNSwgMjUwLCAxOTksIDcsIDE0MSwgMjQ4LCAxMjAsIDM2LCAxMzYsIDkzLCA5OCwgMTc0LCA2MCwgMTgsIDIxNSwgOTMsIDE3NCwgMTA3LCAxNDEsIDExNiwgMTQ1LCAxNjcsIDIyMSwgMjEwLCAxNjksIDI0NywgNjcsIDI1NCwgMjIyLCAxNjEsIDEzNCwgNjMsIDIyMSwgOTAsIDg3LCA0MiwgOTksIDIyNywgODEsIDE3MywgMTUxLCAyLCAxMjksIDEyOSwgMCwgMTMzLCAyMywgMTY4LCAxMDMsIDgzLCAyMzIsIDE0NiwgMTYwLCAxODEsIDIzLCA0MCwgMzgsIDIwNCwgMTMsIDIxNCwgMjAzLCA0OSwgNDEsIDE5NSwgMjI3LCAxODksIDE4MSwgOCwgMjQzLCAxMTksIDEwNiwgNzUsIDY3LCAyNTAsIDI1MCwgMTAsIDIzNCwgOTgsIDExOCwgMjYsIDI1MCwgMzUsIDEyMSwgMTMyLCAxMjQsIDEwLCA3NiwgMjYsIDE5OCwgMTY1LCAxNTQsIDEwOCwgMTksIDExNywgODgsIDIzLCAxNywgMTkyLCAxNDMsIDE4NCwgMTc3LCAxODEsIDE0MSwgMTU3LCA0LCAxODUsIDI0OCwgMTkzLCA3NywgMjA0LCAyNDMsIDcsIDE3MCwgMjQwLCA0LCAxMTEsIDExMywgMTgzLCAwLCAyNywgMTM2LCAyMCwgMTksIDE0OSwgNzQsIDMzLCAyNDEsIDIxOCwgMTA4LCAyMzYsIDgwLCAxNzEsIDE0OCwgMTYsIDExNiwgOTcsIDEwOSwgODMsIDc0LCA4OCwgMTQ1LCA5NCwgMjM5LCAxMDIsIDE5MiwgMTksIDExNCwgMjA3LCA1LCAxMjgsIDUxLCAxMTEsIDE2NCwgMjM3LCA4NiwgMTU0LCA5OSwgNTIsIDE5NywgNjIsIDU3LCAxODIsIDYsIDE1MiwgMjQ1LCA2MSwgMTM3LCA1OCwgMTA1LCAxNTksIDIsIDg0LCAxMDksIDIsIDEyOSwgMTI5LCAwLCAyMjYsIDY3LCAxMTEsIDEzMiwgOTUsIDkxLCAxMDEsIDE3NywgNjMsIDE4OSwgNDQsIDUzLCAxOTMsIDE4NCwgOTIsIDIzMCwgMjIzLCA5OCwgMTMzLCA3NCwgMjA5LCA4NiwgNTIsIDcsIDY1LCAxOTUsIDIwNiwgMTAwLCA4MSwgMTc4LCAxNDQsIDY1LCAxNjcsIDE1MSwgNDIsIDc5LCA4OSwgMTQ5LCAxOCwgMTczLCAxODgsIDIxLCAyNDQsIDI1MSwgNDksIDIzMCwgNDEsIDE1MCwgMTUzLCA0NiwgMzUsIDM4LCAyMzEsIDk5LCAxNzQsIDU2LCAxMTUsIDMyLCAyMTUsIDI1MywgODUsIDE0NywgMTA4LCAxOTcsIDE0NywgMzQsIDIzNiwgMjE2LCAyMjIsIDE3NywgNTcsIDkwLCAxMzYsIDExNCwgMjA3LCA0OCwgNDYsIDMxLCA5MCwgMjIwLCAxOCwgNTgsIDE0MywgMjM5LCAxMTEsIDIxNCwgMjcsIDk1LCA2LCAzNiwgNTMsIDIyOSwgNjIsIDEwOCwgNDUsIDM5LCAxLCAzMCwgNDcsIDE3OCwgNTYsIDE2NCwgMjA2LCA1NiwgNDIsIDIwOCwgNDYsIDE5MywgNjEsIDMxLCAxNDcsIDQ1LCAxNDcsIDIzLCAxODcsIDIyLCA1MCwgMjU1LCAxMTEsIDIyOSwgMTMyLCAxOTksIDE1MiwgNzUsIDE0MiwgMTM2LCAyMDksIDE1MSwgMiwgMTI5LCAxMjksIDAsIDE2NSwgNTYsIDIzMiwgNzYsIDU1LCA1NywgMjQwLCAxNTksIDkyLCAyMDcsIDIyMCwgMTQzLCAxMzAsIDMwLCA1NywgMjM0LCAyNTEsIDE3MiwgMTcxLCAxODAsIDU0LCAxNTksIDIyOSwgOTYsIDI0NiwgNzMsIDExMiwgMTQ2LCA3NSwgMTU3LCAyNDIsIDIwMSwgMTYxLCAyMTgsIDM3LCAxNzYsIDM1LCAxNzAsIDUwLCA5MCwgMTQ4LCAxMDIsIDE5MSwgMTk5LCAyMzksIDE3NCwgNzgsIDcyLCA2NywgODUsIDE5OSwgNDUsIDE0OSwgMTQ1LCAxMzIsIDE2MSwgMjEyLCAzMywgMTU3LCA3NSwgMjE2LCA3OSwgMzksIDIzMywgMTgsIDIxMCwgMjU1LCAyNiwgNzIsIDIyOSwgMjM5LCA0NCwgMTIsIDE0NywgMTU4LCAxNzYsIDE5MiwgOTUsIDEyNiwgMzIsIDE3NSwgMjMsIDIyNiwgMTMxLCAxMzksIDE5NywgMTc1LCAxOTMsIDYyLCA4LCAxNTEsIDI1MiwgNjgsIDE1NCwgOTQsIDg5LCAxODksIDEyNSwgOTAsIDMwLCAzNiwgMTc1LCA3MywgMjMwLCAxOTQsIDEzLCAyMzMsIDI0NywgMTIzLCA2MCwgMjQxLCA0NywgMTcxLCA1MSwgMTg5LCAxMTIsIDExMSwgMjEzLCAxNDEsIDg5LCA3MCwgMjQ5LCAyMzYsIDYzLCAyMzYsIDExMCwgMTE1LCAyMDhdfTsKKi8KdC5kZWZhdWx0PW5ldyBoLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDEwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxpPXIoNCkuZG9jdW1lbnQsbz1uKGkpJiZuKGkuY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudChlKTp7fX19LC8qIDEwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMzApLG89cig0OSkscz1yKDE0OSksYT1yKDExKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDEwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3OCkoImtleXMiKSxpPXIoNDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aShlKSl9fSwvKiAxMDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5cwplLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sLyogMTA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLmRvY3VtZW50O2UuZXhwb3J0cz1uJiZuLmRvY3VtZW50RWxlbWVudH0sLyogMTA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuCi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovCnZhciBuPXIoNiksaT1yKDMpLG89ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/Ly8gZXNsaW50LWRpc2FibGUtbGluZQpmdW5jdGlvbihlLHQsbil7dHJ5e249cigyNykoRnVuY3Rpb24uY2FsbCxyKDI1KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sLyogMTA3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSJcdFxuXHZcZlxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXHUyMDI4XHUyMDI5XHVmZWZmIn0sLyogMTA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cigxMDYpLnNldDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvLHM9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gcyE9PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYobz1zLnByb3RvdHlwZSkhPT1yLnByb3RvdHlwZSYmbihvKSYmaSYmaShlLG8pLGV9fSwvKiAxMDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMzKSxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcoaSh0aGlzKSkscj0iIixvPW4oZSk7aWYobzwwfHxvPT0xLzApdGhyb3cgUmFuZ2VFcnJvcigiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmUiKTtmb3IoO28+MDsobz4+Pj0xKSYmKHQrPXQpKTEmbyYmKHIrPXQpO3JldHVybiByfX0sLyogMTEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeCkKZS5leHBvcnRzPU1hdGguc2lnbnx8ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIDA9PShlPStlKXx8ZSE9ZT9lOmU8MD8tMToxfX0sLyogMTExICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciByPU1hdGguZXhwbTE7ZS5leHBvcnRzPSFyfHxyKDEwKT4yMjAyNS40NjU3OTQ4MDY3MTh8fHIoMTApPDIyMDI1LjQ2NTc5NDgwNjcxOHx8LTJlLTE3IT1yKC0yZS0xNyk/ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlPStlKT9lOmU+LTFlLTYmJmU8MWUtNj9lK2UqZS8yOk1hdGguZXhwKGUpLTF9OnJ9LC8qIDExMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1yKDMyKTsKLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0Ci8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdAplLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG8scyxhPVN0cmluZyhpKHQpKSx1PW4ociksYz1hLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1jP2U/IiI6dm9pZCAwOihvPWEuY2hhckNvZGVBdCh1KSxvPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1jfHwocz1hLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdCh1KTpvOmU/YS5zbGljZSh1LHUrMik6cy01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2KX19fSwvKiAxMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ5KSxpPXIoMCksbz1yKDE5KSxzPXIoMTgpLGE9cigxNyksdT1yKDYzKSxjPXIoMTE0KSxmPXIoNjEpLGw9cigyNiksZD1yKDgpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcsYil7YyhyLHQsaCk7dmFyIG0sXyxSLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sUz10KyIgSXRlcmF0b3IiLFA9InZhbHVlcyI9PXYsTz0hMSxNPWUucHJvdG90eXBlLGs9TVtkXXx8TVsiQEBpdGVyYXRvciJdfHx2JiZNW3ZdLEw9IXAmJmt8fHcodikseD12P1A/dygiZW50cmllcyIpOkw6dm9pZCAwLEU9IkFycmF5Ij09dD9NLmVudHJpZXN8fGs6aztpZigKLy8gRml4IG5hdGl2ZQpFJiYoUj1sKEUuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJlIubmV4dCYmKAovLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCmYoUixTLCEwKSwKLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzCm58fGEoUixkKXx8cyhSLGQseSkpLAovLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGClAmJmsmJiJ2YWx1ZXMiIT09ay5uYW1lJiYoTz0hMCxMPWZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0pLAovLyBEZWZpbmUgaXRlcmF0b3IKbiYmIWJ8fCFwJiYhTyYmTVtkXXx8cyhNLGQsTCksCi8vIFBsdWcgZm9yIGxpYnJhcnkKdVt0XT1MLHVbU109eSx2KWlmKG09e3ZhbHVlczpQP0w6dygidmFsdWVzIiksa2V5czpnP0w6dygia2V5cyIpLGVudHJpZXM6eH0sYilmb3IoXyBpbiBtKV8gaW4gTXx8byhNLF8sbVtfXSk7ZWxzZSBpKGkuUCtpLkYqKHB8fE8pLHQsbSk7cmV0dXJuIG19fSwvKiAxMTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUyKSxpPXIoNDcpLG89cig2MSkscz17fTsKLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKCkKcigxOCkocyxyKDgpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDppKDEscil9KSxvKGUsdCsiIEl0ZXJhdG9yIil9fSwvKiAxMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfQp2YXIgbj1yKDgyKSxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobih0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZyMiK3IrIiBkb2Vzbid0IGFjY2VwdCByZWdleCEiKTtyZXR1cm4gU3RyaW5nKGkoZSkpfX0sLyogMTE2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5eyIvLi8iW2VdKHQpfWNhdGNoKHIpe3RyeXtyZXR1cm4gdFtuXT0hMSwhIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMH19LC8qIDExNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3IKdmFyIG49cig2MyksaT1yKDgpKCJpdGVyYXRvciIpLG89QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxvW2ldPT09ZSl9fSwvKiAxMTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDExKSxpPXIoNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsaSgwLHIpKTplW3RdPXJ9fSwvKiAxMTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzIpLGk9cig4KSgiaXRlcmF0b3IiKSxvPXIoNjMpO2UuZXhwb3J0cz1yKDMwKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbaV18fGVbIkBAaXRlcmF0b3IiXXx8b1tuKGUpXX19LC8qIDEyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDkuNC4yLjMgQXJyYXlTcGVjaWVzQ3JlYXRlKG9yaWdpbmFsQXJyYXksIGxlbmd0aCkKdmFyIG49cigzMDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobihlKSkodCl9fSwvKiAxMjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpCnZhciBuPXIoMTUpLGk9cig1MSksbz1yKDEyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW4odGhpcykscj1vKHQubGVuZ3RoKSxzPWFyZ3VtZW50cy5sZW5ndGgsYT1pKHM+MT9hcmd1bWVudHNbMV06dm9pZCAwLHIpLHU9cz4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYz12b2lkIDA9PT11P3I6aSh1LHIpO2M+YTspdFthKytdPWU7cmV0dXJuIHR9fSwvKiAxMjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQzKSxpPXIoMTY1KSxvPXIoNjMpLHM9cigyNCk7Ci8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKCkKLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKCkKLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKQovLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKCkKZS5leHBvcnRzPXIoMTEzKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLC8vIHRhcmdldAp0aGlzLl9pPTAsLy8gbmV4dCBpbmRleAp0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKToia2V5cyI9PXQ/aSgwLHIpOiJ2YWx1ZXMiPT10P2koMCxlW3JdKTppKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksCi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNykKby5Bcmd1bWVudHM9by5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSwvKiAxMjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbyxzPXIoMjcpLGE9cigxNTUpLHU9cigxMDUpLGM9cigxMDEpLGY9cig0KSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx5PWYuTWVzc2FnZUNoYW5uZWwsaD1mLkRpc3BhdGNoLHY9MCxnPXt9LGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpczsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwppZihnLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1nW2VdO2RlbGV0ZSBnW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9OwovLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6CmQmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBnWysrdl09ZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCmEoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwKLy8gTm9kZS5qcyAwLjgtCiJwcm9jZXNzIj09cigyOCkobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhzKGIsZSwxKSl9Onk/KGk9bmV3IHksbz1pLnBvcnQyLGkucG9ydDEub25tZXNzYWdlPW0sbj1zKG8ucG9zdE1lc3NhZ2UsbywxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSwvKiAxMjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1yKDEyMykuc2V0LG89bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYT1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoMjgpKHMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4saTtmb3IodSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7aT1lLmZuLGU9ZS5uZXh0O3RyeXtpKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTsKLy8gTm9kZS5qcwppZih1KXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFvfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihhJiZhLnJlc29sdmUpe3ZhciBmPWEucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpewovLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpCmkuY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBvKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3CnI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PWkpLGV8fChlPWkscigpKSx0PWl9fX0sLyogMTI1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX0KLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQykKdmFyIG49cigxNik7ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShlKX19LC8qIDEyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NApmdW5jdGlvbiBwYWNrSUVFRTc1NChlLHQscil7dmFyIG4saSxvLHM9bmV3IEFycmF5KHIpLGE9OCpyLXQtMSx1PSgxPDxhKS0xLGM9dT4+MSxmPTIzPT09dD9rKDIsLTI0KS1rKDIsLTc3KTowLGw9MCxkPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NKGUpLAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmUhPWV8fGU9PT1QPygKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppPWUhPWU/MTowLG49dSk6KG49TCh4KGUpL0UpLGUqKG89aygyLC1uKSk8MSYmKG4tLSxvKj0yKSxlKz1uK2M+PTE/Zi9vOmYqaygyLDEtYyksZSpvPj0yJiYobisrLG8vPTIpLG4rYz49dT8oaT0wLG49dSk6bitjPj0xPyhpPShlKm8tMSkqaygyLHQpLG4rPWMpOihpPWUqaygyLGMtMSkqaygyLHQpLG49MCkpO3Q+PTg7c1tsKytdPTI1NSZpLGkvPTI1Nix0LT04KTtmb3Iobj1uPDx0fGksYSs9dDthPjA7c1tsKytdPTI1NSZuLG4vPTI1NixhLT04KTtyZXR1cm4gc1stLWxdfD0xMjgqZCxzfWZ1bmN0aW9uIHVucGFja0lFRUU3NTQoZSx0LHIpe3ZhciBuLGk9OCpyLXQtMSxvPSgxPDxpKS0xLHM9bz4+MSxhPWktNyx1PXItMSxjPWVbdS0tXSxmPTEyNyZjO2ZvcihjPj49NzthPjA7Zj0yNTYqZitlW3VdLHUtLSxhLT04KTtmb3Iobj1mJigxPDwtYSktMSxmPj49LWEsYSs9dDthPjA7bj0yNTYqbitlW3VdLHUtLSxhLT04KTtpZigwPT09ZilmPTEtcztlbHNle2lmKGY9PT1vKXJldHVybiBuP05hTjpjPy1QOlA7bis9aygyLHQpLGYtPXN9cmV0dXJuKGM/LTE6MSkqbiprKDIsZi10KX1mdW5jdGlvbiB1bnBhY2tJMzIoZSl7cmV0dXJuIGVbM108PDI0fGVbMl08PDE2fGVbMV08PDh8ZVswXX1mdW5jdGlvbiBwYWNrSTgoZSl7cmV0dXJuWzI1NSZlXX1mdW5jdGlvbiBwYWNrSTE2KGUpe3JldHVyblsyNTUmZSxlPj44JjI1NV19ZnVuY3Rpb24gcGFja0kzMihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV19ZnVuY3Rpb24gcGFja0Y2NChlKXtyZXR1cm4gcGFja0lFRUU3NTQoZSw1Miw4KX1mdW5jdGlvbiBwYWNrRjMyKGUpe3JldHVybiBwYWNrSUVFRTc1NChlLDIzLDQpfWZ1bmN0aW9uIGFkZEdldHRlcihlLHQscil7aChlW2JdLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdfX0pfWZ1bmN0aW9uIGdldChlLHQscixuKXt2YXIgaT0rcixvPXAoaSk7aWYobyt0PmVbVV0pdGhyb3cgUyhtKTt2YXIgcz1lW0FdLl9iLGE9bytlW0RdLHU9cy5zbGljZShhLGErdCk7cmV0dXJuIG4/dTp1LnJldmVyc2UoKX1mdW5jdGlvbiBzZXQoZSx0LHIsbixpLG8pe3ZhciBzPStyLGE9cChzKTtpZihhK3Q+ZVtVXSl0aHJvdyBTKG0pO2Zvcih2YXIgdT1lW0FdLl9iLGM9YStlW0RdLGY9bigraSksbD0wO2w8dDtsKyspdVtjK2xdPWZbbz9sOnQtbC0xXX12YXIgbj1yKDQpLGk9cigxMCksbz1yKDQ5KSxzPXIoODgpLGE9cigxOCksdT1yKDU3KSxjPXIoNSksZj1yKDU1KSxsPXIoMzMpLGQ9cigxMikscD1yKDE3NCkseT1yKDUzKS5mLGg9cigxMSkuZix2PXIoMTIxKSxnPXIoNjEpLGI9InByb3RvdHlwZSIsbT0iV3JvbmcgaW5kZXghIixfPW4uQXJyYXlCdWZmZXIsUj1uLkRhdGFWaWV3LHc9bi5NYXRoLFM9bi5SYW5nZUVycm9yLFA9bi5JbmZpbml0eSxPPV8sTT13LmFicyxrPXcucG93LEw9dy5mbG9vcix4PXcubG9nLEU9dy5MTjIsQT1pPyJfYiI6ImJ1ZmZlciIsVT1pPyJfbCI6ImJ5dGVMZW5ndGgiLEQ9aT8iX28iOiJieXRlT2Zmc2V0IjtpZihzLkFCVil7aWYoIWMoZnVuY3Rpb24oKXtfKDEpfSl8fCFjKGZ1bmN0aW9uKCl7bmV3IF8oLTEpfSl8fGMoZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpyZXR1cm4gbmV3IF8sbmV3IF8oMS41KSxuZXcgXyhOYU4pLCJBcnJheUJ1ZmZlciIhPV8ubmFtZX0pKXtfPWZ1bmN0aW9uKGUpe3JldHVybiBmKHRoaXMsXyksbmV3IE8ocChlKSl9O2Zvcih2YXIgSSxqPV9bYl09T1tiXSxUPXkoTyksQz0wO1QubGVuZ3RoPkM7KShJPVRbQysrXSlpbiBffHxhKF8sSSxPW0ldKTtvfHwoai5jb25zdHJ1Y3Rvcj1fKX0KLy8gaU9TIFNhZmFyaSA3LnggYnVnCnZhciBGPW5ldyBSKG5ldyBfKDIpKSxOPVJbYl0uc2V0SW50ODtGLnNldEludDgoMCwyMTQ3NDgzNjQ4KSxGLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhRi5nZXRJbnQ4KDApJiZGLmdldEludDgoMSl8fHUoUltiXSx7c2V0SW50ODpmdW5jdGlvbihlLHQpe04uY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX0sc2V0VWludDg6ZnVuY3Rpb24oZSx0KXtOLmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSwhMCl9ZWxzZSBfPWZ1bmN0aW9uKGUpe2YodGhpcyxfLCJBcnJheUJ1ZmZlciIpO3ZhciB0PXAoZSk7dGhpcy5fYj12LmNhbGwobmV3IEFycmF5KHQpLDApLHRoaXNbVV09dH0sUj1mdW5jdGlvbihlLHQscil7Zih0aGlzLFIsIkRhdGFWaWV3IiksZihlLF8sIkRhdGFWaWV3Iik7dmFyIG49ZVtVXSxpPWwodCk7aWYoaTwwfHxpPm4pdGhyb3cgUygiV3Jvbmcgb2Zmc2V0ISIpO2lmKHI9dm9pZCAwPT09cj9uLWk6ZChyKSxpK3I+bil0aHJvdyBTKCJXcm9uZyBsZW5ndGghIik7dGhpc1tBXT1lLHRoaXNbRF09aSx0aGlzW1VdPXJ9LGkmJihhZGRHZXR0ZXIoXywiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ1ZmZlciIsIl9iIiksYWRkR2V0dGVyKFIsImJ5dGVMZW5ndGgiLCJfbCIpLGFkZEdldHRlcihSLCJieXRlT2Zmc2V0IiwiX28iKSksdShSW2JdLHtnZXRJbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdPDwyND4+MjR9LGdldFVpbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4odFsxXTw8OHx0WzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0KHRoaXMsMixlLGFyZ3VtZW50c1sxXSk7cmV0dXJuIHRbMV08PDh8dFswXX0sZ2V0SW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0kzMihnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSl9LGdldFVpbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKT4+PjB9LGdldEZsb2F0MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSksMjMsNCl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsOCxlLGFyZ3VtZW50c1sxXSksNTIsOCl9LHNldEludDg6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywxLGUscGFja0k4LHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldEludDE2OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMixlLHBhY2tJMTYsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldEludDMyOmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsNCxlLHBhY2tJMzIsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0YzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0NjQ6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw4LGUscGFja0Y2NCx0LGFyZ3VtZW50c1syXSl9fSk7ZyhfLCJBcnJheUJ1ZmZlciIpLGcoUiwiRGF0YVZpZXciKSxhKFJbYl0scy5WSUVXLCEwKSx0LkFycmF5QnVmZmVyPV8sdC5EYXRhVmlldz1SfSwvKiAxMjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1uLm5hdmlnYXRvcjtlLmV4cG9ydHM9aSYmaS51c2VyQWdlbnR8fCIifSwvKiAxMjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQxNykoITApOwovLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCnIoMTgzKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sLyogMTI5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAxMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkKZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0sLyogMTMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM2KSxpPXIoMjIpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSwvKiAxMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSkKdmFyIG49cigzNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDEzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQp2YXIgbj1yKDQxKSxpPXIoNDE5KSxvPXIoMTM3KSxzPXIoMTM1KSgiSUVfUFJPVE8iKSxhPWZ1bmN0aW9uKCl7fSx1PWZ1bmN0aW9uKCl7Ci8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnCnZhciBlLHQ9cigxMzEpKCJpZnJhbWUiKSxuPW8ubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHIoMTg4KS5hcHBlbmRDaGlsZCh0KSx0LnNyYz0iamF2YXNjcmlwdDoiLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybAovLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0OwovLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7CmU9dC5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8XC9zY3JpcHQ+IiksZS5jbG9zZSgpLHU9ZS5GO24tLTspZGVsZXRlIHUucHJvdG90eXBlW29bbl1dO3JldHVybiB1KCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByOwovLyBhZGQgIl9fcHJvdG9fXyIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbApyZXR1cm4gbnVsbCE9PWU/KGEucHJvdG90eXBlPW4oZSkscj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOmkocix0KX19LC8qIDEzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xNSBUb0xlbmd0aAp2YXIgbj1yKDEyOSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LC8qIDEzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzYpKCJrZXlzIiksaT1yKDk0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkoZSkpfX0sLyogMTM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPW5bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwoblsiX19jb3JlLWpzX3NoYXJlZF9fIl09e30pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0sLyogMTM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXMKZS5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LC8qIDEzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1uKHQpLHRoaXMucmVqZWN0PW4ocil9Ci8vIDI1LjQuMS41IE5ld1Byb21pc2VDYXBhYmlsaXR5KEMpCnZhciBuPXIoOTMpO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoZSl9fSwvKiAxMzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sLyogMTQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QucnVudGltZVV0aWxzPXtydW50aW1lRGVzY3JpcHRvcjp7fSxydW50aW1lQ2FwYWJpbGl0aWVzOntjb25zdHJhaW50czp7fX19fSwvKiAxNDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDIzKX0sLyogMTQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPXIoMTMpLG89cig5Mikscz1yKDE0MSksYT1yKDQwKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDE0MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3NyksaT1yKDczKSxvPXIoNDUpLHM9cigxMzIpLGE9cig1OSksdT1yKDE4NCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDQ0KT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAxNDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lQ29uZmlndXJhdGlvbj17Ci8vIFRPRE8gdGhpcyBzaG91bGQgYmUgY2hhbmdlZCB3aXRoIHRoZSBkZWZpbml0aW9uIHVzZWQgZm9yIGluZGV4ZWRkYgovLyBsb29rIGF0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSURCT2JqZWN0U3RvcmUKLy8gTm93IHdlIGFyZSB1c2luZyB0aGUgZGVmaW5pdGlvbiBmb3IgRGV4aWU7IChodHRwOi8vZGV4aWUub3JnL2RvY3MvVmVyc2lvbi9WZXJzaW9uLnN0b3JlcygpKQpzdG9yYWdlU2NoZW1hczp7Y2FwYWJpbGl0aWVzOntjYXBhYmlsaXRpZXM6ImtleSx2ZXJzaW9uLHZhbHVlIn0sc3Vic2NyaXB0aW9uczp7c3Vic2NyaXB0aW9uczoia2V5LHZlcnNpb24sdmFsdWUifSxydW50aW1lOnsicnVudGltZTpVUkwiOiJrZXksdmVyc2lvbix2YWx1ZSIsInAycEhhbmRsZXI6VVJMIjoia2V5LHZlcnNpb24sdmFsdWUifSxyZWdpc3RyeTp7InJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZWdpc3RyeTpIeXBlcnR5VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIn0sY3J5cHRvTWFuYWdlcjp7dXNlckFzeW1tZXRyaWNLZXk6ImtleSx2ZXJzaW9uLHZhbHVlIixkYXRhT2JqZWN0U2Vzc2lvbktleXM6ImtleSx2ZXJzaW9uLHZhbHVlIn0saWRlbnRpdHk6e2FjY2Vzc1Rva2Vuczoia2V5LHZlcnNpb24sdmFsdWUiLGlkZW50aXRpZXM6InVzZXJVUkwsIHVzZXJQcm9maWxlLmVtYWlsLCB1c2VyUHJvZmlsZS51c2VyVVJMLCB1c2VyUHJvZmlsZS5uYW1lIn0scnVudGltZUNhdGFsb2d1ZTp7cnVudGltZUNhdGFsb2d1ZToiJmNndWlkLCBhY2Nlc3NDb250cm9sUG9saWN5LCBjb25zdHJhaW50cywgZGF0YU9iamVjdHMsIGh5cGVydHlUeXBlLCBvYmplY3ROYW1lLCBzb3VyY2VQYWNrYWdlLCB2ZXJzaW9uIn0scG9saWN5OnsicmV0aGluazphY3RpdmVQb2xpY3kiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6Z3JvdXBzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOnVzZXJQb2xpY2llcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazpzcFBvbGljaWVzIjoia2V5LHZlcnNpb24sdmFsdWUifSxzeW5jaGVyTWFuYWdlcjp7InN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGh5cGVydHlSZXNvdXJjZXM6e2h5cGVydHlSZXNvdXJjZXM6IiZyZXNvdXJjZVVSTCwgbmFtZSwgY29udGVudFVybCwgY29udGVudCwgY3JlYXRlZCwgcmVwb3J0ZXIsIHJlc291cmNlVHlwZSJ9fSxydW50aW1lVVJMUzp7cmVnaXN0cnk6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6InJlZ2lzdHJ5In0saWRlbnRpdHlNb2R1bGU6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9pZG0ifSxydW50aW1lVUE6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii91YSJ9LGNhdGFsb2d1ZTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2NhdGFsb2d1ZSJ9LGdyYXBoQ29ubmVjdG9yOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvZ3JhcGgifSxzeW5jTWFuYWdlcjp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL3NtIn19LGNhdGFsb2d1ZVVSTHM6e3Byb3RvY29sc3R1Yjp7cHJlZml4OiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iLHN1ZmZpeDoiLy53ZWxsLWtub3duL3Byb3RvY29sc3R1Yi8iLGZhbGxiYWNrOiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4lZG9tYWluJS8ud2VsbC1rbm93bi9wcm90b2NvbHN0dWIvIn0saWRwUHJveHk6e3ByZWZpeDoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIixzdWZmaXg6Ii8ud2VsbC1rbm93bi9pZHAtcHJveHkvIixmYWxsYmFjazoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJWRvbWFpbiUvLndlbGwta25vd24vaWRwLXByb3h5LyJ9fSxtc2dOb2RlVVJMOntwcmVmaXg6ImRvbWFpbjovL21zZy1ub2RlLiIsc3VmZml4OiIiLGh5cGVydHlBZGRyZXNzQWxsb2NhdGlvbjoiL2h5cGVydHktYWRkcmVzcy1hbGxvY2F0aW9uIixvYmplY3RBZGRyZXNzQWxsb2NhdGlvbjoiL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24iLHN1YnNjcmlwdGlvbk1hbmFnZW1lbnQ6Ii9zbSJ9LGRvbWFpblJlZ2lzdHJ5VVJMOntwcmVmaXg6ImRvbWFpbjovL3JlZ2lzdHJ5LiIsc3VmZml4OiIifSxnbG9iYWxSZWdpc3RyeVVSTDoiZ2xvYmFsOi8vcmVnaXN0cnkuIn19LC8qIDE0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcGVyYXRvcnMoKXsoMCxpLmRlZmF1bHQpKHRoaXMsT3BlcmF0b3JzKX1yZXR1cm4oMCxzLmRlZmF1bHQpKE9wZXJhdG9ycyxbe2tleToiYW5kIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXX19LHtrZXk6ImJldHdlZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGVbMF1bMF0pLHI9cGFyc2VJbnQoZVswXVsxXSksbj1lWzFdO3JldHVybiByPHQmJihuPW48dD9uKz0yNDAwOm4scis9MjQwMCksbj50JiZuPHJ9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiIqIj09PVN0cmluZyhlWzBdKXx8U3RyaW5nKGVbMF0pPT09U3RyaW5nKGVbMV0pfX0se2tleToiZ3JlYXRlclRoYW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPmVbMF19fSx7a2V5OiJpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT4tMX19LHtrZXk6Imxlc3NUaGFuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXTxlWzBdfX0se2tleToibm90Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hZVswXX19LHtrZXk6Im9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXXx8ZVsxXX19XSksT3BlcmF0b3JzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDE0NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNDUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7LyoqCiAgKiBDcmVhdGVzIGEgbmV3IENvbmRpdGlvbi4KICAqIEBjbGFzcwogICogQHBhcmFtICB7c3RyaW5nfSAgYXR0cmlidXRlCiAgKiBAcGFyYW0gIHtzdHJpbmd9ICBvcGVyYXRvcgogICogQHBhcmFtICB7Kn0gICAgICAgcGFyYW1zCiAgKi8KZnVuY3Rpb24gQ29uZGl0aW9uKGUsdCxyKXsoMCxpLmRlZmF1bHQpKHRoaXMsQ29uZGl0aW9uKSx0aGlzLmF0dHJpYnV0ZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLnBhcmFtcz1yLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9LyoqCiAgKiBWZXJpZmllcyBpZiB0aGUgY29uZGl0aW9uIGlzIGFwcGxpY2FibGUgdG8gdGhlIG1lc3NhZ2UuIEZpcnN0LCB0aGUgc3lzdGVtIHZhbHVlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGF0dHJpYnV0ZSBpcyByZXRyaWV2ZWQ7IHRoZW4sIHRoYXQgdmFsdWUgaXMgY29tcGFyZWQgd2l0aCB0aGUgcGFyYW1ldGVyIHNwZWNpZmllZCBpbiB0aGUgY29uZGl0aW9uIGJ5IGV4ZWN1dGluZyB0aGUgb3BlcmF0b3IgaW1wbGVtZW50YXRpb24uIElmIHRoZSBvcGVyYXRvciBpcyAnaW4nIGFuZCB0aGUgbmFtZSBvZiBhIGdyb3VwIGlzIGdpdmVuLCB0aGVuIHRoZSBhcnJheSBob2xkaW5nIHRoZSBtZW1iZXJzIG9mIHRoZSBncm91cCBpcyByZXRyaWV2ZWQgYmVmb3JlIHRoZSBjb21wYXJpc29uLgogICogQHBhcmFtICB7T2JqZWN0fSAgICBjb250ZXh0ICAgZW52aXJvbm1lbnQgd2hlcmUgdGhlIFBvbGljeSBFbmdpbmUgaXMgYmVpbmcgdXNlZAogICogQHBhcmFtICB7T2JqZWN0fSAgICBtZXNzYWdlCiAgKi8KcmV0dXJuKDAscy5kZWZhdWx0KShDb25kaXRpb24sW3trZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlW3RoaXMuYXR0cmlidXRlXT17bWVzc2FnZTp0fTt2YXIgcj1lW3RoaXMuYXR0cmlidXRlXSxuPXZvaWQgMDtyZXR1cm4iaW4iIT09dGhpcy5vcGVyYXRvcnx8QXJyYXkuaXNBcnJheSh0aGlzLnBhcmFtcyk/dGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW3RoaXMucGFyYW1zLHJdKToobj1lLmdldEdyb3VwKHRoaXMucGFyYW1zLHQudG8pLHRoaXMub3BlcmF0b3JzW3RoaXMub3BlcmF0b3JdKFtuLHJdKSl9fV0pLENvbmRpdGlvbn0oKTsvKioKICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICoKICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgKgogICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAqCiAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAqKi8KdC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMTQ3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI7Ci8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlCnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7Ci8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKQpyPXJ8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fCgwLGV2YWwpKCJ0aGlzIil9Y2F0Y2goZSl7Ci8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlCiJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYocj13aW5kb3cpfQovLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uCi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzCi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn0KZS5leHBvcnRzPXJ9LC8qIDE0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDEwKSYmIXIoNSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTAxKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDE0OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dC5mPXIoOCl9LC8qIDE1MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNyksaT1yKDI0KSxvPXIoNzkpKCExKSxzPXIoMTAzKSgiSUVfUFJPVE8iKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPWkoZSksdT0wLGM9W107Zm9yKHIgaW4gYSlyIT1zJiZuKGEscikmJmMucHVzaChyKTsKLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5cwpmb3IoO3QubGVuZ3RoPnU7KW4oYSxyPXRbdSsrXSkmJih+byhjLHIpfHxjLnB1c2gocikpO3JldHVybiBjfX0sLyogMTUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExKSxpPXIoMyksbz1yKDUwKTtlLmV4cG9ydHM9cigxMCk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtpKGUpO2Zvcih2YXIgcixzPW8odCksYT1zLmxlbmd0aCx1PTA7YT51OyluLmYoZSxyPXNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LC8qIDE1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3cKdmFyIG49cigyNCksaT1yKDUzKS5mLG89e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBpKGUpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PW8uY2FsbChlKT9hKGUpOmkobihlKSl9fSwvKiAxNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKQp2YXIgbj1yKDUwKSxpPXIoODApLG89cig3MSkscz1yKDE1KSxhPXIoNzApLHU9T2JqZWN0LmFzc2lnbjsKLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCmUuZXhwb3J0cz0hdXx8cig1KShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXUoe30sZSlbcl18fE9iamVjdC5rZXlzKHUoe30sdCkpLmpvaW4oIiIpIT1ufSk/ZnVuY3Rpb24oZSx0KXtmb3IoLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwp2YXIgcj1zKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxjPTEsZj1pLmYsbD1vLmY7dT5jOylmb3IodmFyIGQscD1hKGFyZ3VtZW50c1tjKytdKSx5PWY/bihwKS5jb25jYXQoZihwKSk6bihwKSxoPXkubGVuZ3RoLHY9MDtoPnY7KWwuY2FsbChwLGQ9eVt2KytdKSYmKHJbZF09cFtkXSk7cmV0dXJuIHJ9OnV9LC8qIDE1NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTYpLGk9cig2KSxvPXIoMTU1KSxzPVtdLnNsaWNlLGE9e30sdT1mdW5jdGlvbihlLHQscil7aWYoISh0IGluIGEpKXtmb3IodmFyIG49W10saT0wO2k8dDtpKyspbltpXT0iYVsiK2krIl0iOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKYVt0XT1GdW5jdGlvbigiRixhIiwicmV0dXJuIG5ldyBGKCIrbi5qb2luKCIsIikrIikiKX1yZXR1cm4gYVt0XShlLHIpfTtlLmV4cG9ydHM9RnVuY3Rpb24uYmluZHx8ZnVuY3Rpb24oZSl7dmFyIHQ9bih0aGlzKSxyPXMuY2FsbChhcmd1bWVudHMsMSksYT1mdW5jdGlvbigpe3ZhciBuPXIuY29uY2F0KHMuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGE/dSh0LG4ubGVuZ3RoLG4pOm8odCxuLGUpfTtyZXR1cm4gaSh0LnByb3RvdHlwZSkmJihhLnByb3RvdHlwZT10LnByb3RvdHlwZSksYX19LC8qIDE1NSAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzUKZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LC8qIDE1NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KS5wYXJzZUludCxpPXIoNjIpLnRyaW0sbz1yKDEwNykscz0vXlstK10/MFt4WF0vO2UuZXhwb3J0cz04IT09bihvKyIwOCIpfHwyMiE9PW4obysiMHgxNiIpP2Z1bmN0aW9uKGUsdCl7dmFyIHI9aShTdHJpbmcoZSksMyk7cmV0dXJuIG4ocix0Pj4+MHx8KHMudGVzdChyKT8xNjoxMCkpfTpufSwvKiAxNTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCkucGFyc2VGbG9hdCxpPXIoNjIpLnRyaW07ZS5leHBvcnRzPTEvbihyKDEwNykrIi0wIikhPS0xLzA/ZnVuY3Rpb24oZSl7dmFyIHQ9aShTdHJpbmcoZSksMykscj1uKHQpO3JldHVybiAwPT09ciYmIi0iPT10LmNoYXJBdCgwKT8tMDpyfTpufSwvKiAxNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmIk51bWJlciIhPW4oZSkpdGhyb3cgVHlwZUVycm9yKHQpO3JldHVybitlfX0sLyogMTU5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoNiksaT1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hbihlKSYmaXNGaW5pdGUoZSkmJmkoZSk9PT1lfX0sLyogMTYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4yMCBNYXRoLmxvZzFwKHgpCmUuZXhwb3J0cz1NYXRoLmxvZzFwfHxmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSk+LTFlLTgmJmU8MWUtOD9lLWUqZS8yOk1hdGgubG9nKDErZSl9fSwvKiAxNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMTYgTWF0aC5mcm91bmQoeCkKdmFyIG49cigxMTApLGk9TWF0aC5wb3csbz1pKDIsLTUyKSxzPWkoMiwtMjMpLGE9aSgyLDEyNykqKDItcyksdT1pKDIsLTEyNiksYz1mdW5jdGlvbihlKXtyZXR1cm4gZSsxL28tMS9vfTtlLmV4cG9ydHM9TWF0aC5mcm91bmR8fGZ1bmN0aW9uKGUpe3ZhciB0LHIsaT1NYXRoLmFicyhlKSxmPW4oZSk7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGk8dT9mKmMoaS91L3MpKnUqczoodD0oMStzL28pKmkscj10LSh0LWkpLHI+YXx8ciE9cj9mKigxLzApOmYqcil9fSwvKiAxNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCnZhciBuPXIoMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgbz1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1vJiZuKG8uY2FsbChlKSksdH19fSwvKiAxNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTYpLGk9cigxNSksbz1yKDcwKSxzPXIoMTIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhLHUpe24odCk7dmFyIGM9aShlKSxmPW8oYyksbD1zKGMubGVuZ3RoKSxkPXU/bC0xOjAscD11Py0xOjE7aWYocjwyKWZvcig7Oyl7aWYoZCBpbiBmKXthPWZbZF0sZCs9cDticmVha31pZihkKz1wLHU/ZDwwOmw8PWQpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIil9Zm9yKDt1P2Q+PTA6bD5kO2QrPXApZCBpbiBmJiYoYT10KGEsZltkXSxkLGMpKTtyZXR1cm4gYX19LC8qIDE2NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuMyBBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbih0YXJnZXQsIHN0YXJ0LCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigxNSksaT1yKDUxKSxvPXIoMTIpO2UuZXhwb3J0cz1bXS5jb3B5V2l0aGlufHxmdW5jdGlvbihlLHQpe3ZhciByPW4odGhpcykscz1vKHIubGVuZ3RoKSxhPWkoZSxzKSx1PWkodCxzKSxjPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGY9TWF0aC5taW4oKHZvaWQgMD09PWM/czppKGMscykpLXUscy1hKSxsPTE7Zm9yKHU8YSYmYTx1K2YmJihsPS0xLHUrPWYtMSxhKz1mLTEpO2YtLSA+MDspdSBpbiByP3JbYV09clt1XTpkZWxldGUgclthXSxhKz1sLHUrPWw7cmV0dXJuIHJ9fSwvKiAxNjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSwvKiAxNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMS4yLjUuMyBnZXQgUmVnRXhwLnByb3RvdHlwZS5mbGFncygpCnIoMTApJiYiZyIhPS8uL2cuZmxhZ3MmJnIoMTEpLmYoUmVnRXhwLnByb3RvdHlwZSwiZmxhZ3MiLHtjb25maWd1cmFibGU6ITAsZ2V0OnIoODQpfSl9LC8qIDE2NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2U6ITEsdjplKCl9fWNhdGNoKGUpe3JldHVybntlOiEwLHY6ZX19fX0sLyogMTY4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLGk9cig2KSxvPXIoMTI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLGkodCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPW8uZihlKTtyZXR1cm4oMCxyLnJlc29sdmUpKHQpLHIucHJvbWlzZX19LC8qIDE2OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcwKSxpPXIoNjQpOwovLyAyMy4xIE1hcCBPYmplY3RzCmUuZXhwb3J0cz1yKDg3KSgiTWFwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHsKLy8gMjMuMS4zLjYgTWFwLnByb3RvdHlwZS5nZXQoa2V5KQpnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRFbnRyeShpKHRoaXMsIk1hcCIpLGUpO3JldHVybiB0JiZ0LnZ9LAovLyAyMy4xLjMuOSBNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKQpzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5kZWYoaSh0aGlzLCJNYXAiKSwwPT09ZT8wOmUsdCl9fSxuLCEwKX0sLyogMTcwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMSkuZixpPXIoNTIpLG89cig1Nykscz1yKDI3KSxhPXIoNTUpLHU9cig1NiksYz1yKDExMyksZj1yKDE2NSksbD1yKDU0KSxkPXIoMTApLHA9cig0MikuZmFzdEtleSx5PXIoNjQpLGg9ZD8iX3MiOiJzaXplIix2PWZ1bmN0aW9uKGUsdCl7Ci8vIGZhc3QgY2FzZQp2YXIgcixuPXAodCk7aWYoIkYiIT09bilyZXR1cm4gZS5faVtuXTsKLy8gZnJvemVuIG9iamVjdCBjYXNlCmZvcihyPWUuX2Y7cjtyPXIubilpZihyLms9PXQpcmV0dXJuIHJ9O2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsYyl7dmFyIGY9ZShmdW5jdGlvbihlLG4pe2EoZSxmLHQsIl9pIiksZS5fdD10LC8vIGNvbGxlY3Rpb24gdHlwZQplLl9pPWkobnVsbCksLy8gaW5kZXgKZS5fZj12b2lkIDAsLy8gZmlyc3QgZW50cnkKZS5fbD12b2lkIDAsLy8gbGFzdCBlbnRyeQplW2hdPTAsLy8gc2l6ZQp2b2lkIDAhPW4mJnUobixyLGVbY10sZSl9KTtyZXR1cm4gbyhmLnByb3RvdHlwZSx7Ci8vIDIzLjEuMy4xIE1hcC5wcm90b3R5cGUuY2xlYXIoKQovLyAyMy4yLjMuMiBTZXQucHJvdG90eXBlLmNsZWFyKCkKY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9eSh0aGlzLHQpLHI9ZS5faSxuPWUuX2Y7bjtuPW4ubiluLnI9ITAsbi5wJiYobi5wPW4ucC5uPXZvaWQgMCksZGVsZXRlIHJbbi5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbaF09MH0sCi8vIDIzLjEuMy4zIE1hcC5wcm90b3R5cGUuZGVsZXRlKGtleSkKLy8gMjMuMi4zLjQgU2V0LnByb3RvdHlwZS5kZWxldGUodmFsdWUpCmRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgcj15KHRoaXMsdCksbj12KHIsZSk7aWYobil7dmFyIGk9bi5uLG89bi5wO2RlbGV0ZSByLl9pW24uaV0sbi5yPSEwLG8mJihvLm49aSksaSYmKGkucD1vKSxyLl9mPT1uJiYoci5fZj1pKSxyLl9sPT1uJiYoci5fbD1vKSxyW2hdLS19cmV0dXJuISFufSwKLy8gMjMuMi4zLjYgU2V0LnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpCi8vIDIzLjEuMy41IE1hcC5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKQpmb3JFYWNoOmZ1bmN0aW9uKGUpe3kodGhpcyx0KTtmb3IodmFyIHIsbj1zKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cj1yP3Iubjp0aGlzLl9mOykKLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5CmZvcihuKHIudixyLmssdGhpcyk7ciYmci5yOylyPXIucH0sCi8vIDIzLjEuMy43IE1hcC5wcm90b3R5cGUuaGFzKGtleSkKLy8gMjMuMi4zLjcgU2V0LnByb3RvdHlwZS5oYXModmFsdWUpCmhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXYoeSh0aGlzLHQpLGUpfX0pLGQmJm4oZi5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHQpW2hdfX0pLGZ9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvPXYoZSx0KTsKLy8gY2hhbmdlIGV4aXN0aW5nIGVudHJ5Ci8vIGFkZCB0byBpbmRleApyZXR1cm4gbz9vLnY9cjooZS5fbD1vPXtpOmk9cCh0LCEwKSwvLyA8LSBpbmRleAprOnQsLy8gPC0ga2V5CnY6ciwvLyA8LSB2YWx1ZQpwOm49ZS5fbCwvLyA8LSBwcmV2aW91cyBlbnRyeQpuOnZvaWQgMCwvLyA8LSBuZXh0IGVudHJ5CnI6ITF9LGUuX2Z8fChlLl9mPW8pLG4mJihuLm49byksZVtoXSsrLCJGIiE9PWkmJihlLl9pW2ldPW8pKSxlfSxnZXRFbnRyeTp2LHNldFN0cm9uZzpmdW5jdGlvbihlLHQscil7Ci8vIGFkZCAua2V5cywgLnZhbHVlcywgLmVudHJpZXMsIFtAQGl0ZXJhdG9yXQovLyAyMy4xLjMuNCwgMjMuMS4zLjgsIDIzLjEuMy4xMSwgMjMuMS4zLjEyLCAyMy4yLjMuNSwgMjMuMi4zLjgsIDIzLjIuMy4xMCwgMjMuMi4zLjExCmMoZSx0LGZ1bmN0aW9uKGUscil7dGhpcy5fdD15KGUsdCksLy8gdGFyZ2V0CnRoaXMuX2s9ciwvLyBraW5kCnRoaXMuX2w9dm9pZCAwfSxmdW5jdGlvbigpewovLyByZXZlcnQgdG8gdGhlIGxhc3QgZXhpc3RpbmcgZW50cnkKZm9yKHZhciBlPXRoaXMsdD1lLl9rLHI9ZS5fbDtyJiZyLnI7KXI9ci5wOwovLyBnZXQgbmV4dCBlbnRyeQovLyBnZXQgbmV4dCBlbnRyeQovLyByZXR1cm4gc3RlcCBieSBraW5kCi8vIG9yIGZpbmlzaCB0aGUgaXRlcmF0aW9uCnJldHVybiBlLl90JiYoZS5fbD1yPXI/ci5uOmUuX3QuX2YpPyJrZXlzIj09dD9mKDAsci5rKToidmFsdWVzIj09dD9mKDAsci52KTpmKDAsW3IuayxyLnZdKTooZS5fdD12b2lkIDAsZigxKSl9LHI/ImVudHJpZXMiOiJ2YWx1ZXMiLCFyLCEwKSwKLy8gYWRkIFtAQHNwZWNpZXNdLCAyMy4xLjIuMiwgMjMuMi4yLjIKbCh0KX19fSwvKiAxNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3MCksaT1yKDY0KTsKLy8gMjMuMiBTZXQgT2JqZWN0cwplLmV4cG9ydHM9cig4NykoIlNldCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Ci8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKQphZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKGkodGhpcywiU2V0IiksZT0wPT09ZT8wOmUsZSl9fSxuKX0sLyogMTcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4saT1yKDM1KSgwKSxvPXIoMTkpLHM9cig0MiksYT1yKDE1MyksdT1yKDE3MyksYz1yKDYpLGY9cig1KSxsPXIoNjQpLGQ9cy5nZXRXZWFrLHA9T2JqZWN0LmlzRXh0ZW5zaWJsZSx5PXUudWZzdG9yZSxoPXt9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSxnPXsKLy8gMjMuMy4zLjMgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSkKZ2V0OmZ1bmN0aW9uKGUpe2lmKGMoZSkpe3ZhciB0PWQoZSk7cmV0dXJuITA9PT10P3kobCh0aGlzLCJXZWFrTWFwIikpLmdldChlKTp0P3RbdGhpcy5faV06dm9pZCAwfX0sCi8vIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKQpzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5kZWYobCh0aGlzLCJXZWFrTWFwIiksZSx0KX19LGI9ZS5leHBvcnRzPXIoODcpKCJXZWFrTWFwIix2LGcsdSwhMCwhMCk7Ci8vIElFMTEgV2Vha01hcCBmcm96ZW4ga2V5cyBmaXgKZihmdW5jdGlvbigpe3JldHVybiA3IT0obmV3IGIpLnNldCgoT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KShoKSw3KS5nZXQoaCl9KSYmKG49dS5nZXRDb25zdHJ1Y3Rvcih2LCJXZWFrTWFwIiksYShuLnByb3RvdHlwZSxnKSxzLk5FRUQ9ITAsaShbImRlbGV0ZSIsImhhcyIsImdldCIsInNldCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWIucHJvdG90eXBlLHI9dFtlXTtvKHQsZSxmdW5jdGlvbih0LGkpewovLyBzdG9yZSBmcm96ZW4gb2JqZWN0cyBvbiBpbnRlcm5hbCB3ZWFrbWFwIHNoaW0KaWYoYyh0KSYmIXAodCkpe3RoaXMuX2Z8fCh0aGlzLl9mPW5ldyBuKTt2YXIgbz10aGlzLl9mW2VdKHQsaSk7cmV0dXJuInNldCI9PWU/dGhpczpvfXJldHVybiByLmNhbGwodGhpcyx0LGkpfSl9KSl9LC8qIDE3MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTcpLGk9cig0MikuZ2V0V2VhayxvPXIoMykscz1yKDYpLGE9cig1NSksdT1yKDU2KSxjPXIoMzUpLGY9cigxNyksbD1yKDY0KSxkPWMoNSkscD1jKDYpLHk9MCxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9sfHwoZS5fbD1uZXcgdil9LHY9ZnVuY3Rpb24oKXt0aGlzLmE9W119LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZChlLmEsZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSl9O3YucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zyh0aGlzLGUpO2lmKHQpcmV0dXJuIHRbMV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIWcodGhpcyxlKX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Zyh0aGlzLGUpO3I/clsxXT10OnRoaXMuYS5wdXNoKFtlLHRdKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXAodGhpcy5hLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPT09ZX0pO3JldHVybn50JiZ0aGlzLmEuc3BsaWNlKHQsMSksISF+dH19LGUuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGM9ZShmdW5jdGlvbihlLG4pe2EoZSxjLHQsIl9pIiksZS5fdD10LC8vIGNvbGxlY3Rpb24gdHlwZQplLl9pPXkrKywvLyBjb2xsZWN0aW9uIGlkCmUuX2w9dm9pZCAwLC8vIGxlYWsgc3RvcmUgZm9yIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RzCnZvaWQgMCE9biYmdShuLHIsZVtvXSxlKX0pO3JldHVybiBuKGMucHJvdG90eXBlLHsKLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSkKLy8gMjMuNC4zLjMgV2Vha1NldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKQpkZWxldGU6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9aShlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmRlbGV0ZShlKTpyJiZmKHIsdGhpcy5faSkmJmRlbGV0ZSByW3RoaXMuX2ldfSwKLy8gMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSkKLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKQpoYXM6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9aShlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmhhcyhlKTpyJiZmKHIsdGhpcy5faSl9fSksY30sZGVmOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pKG8odCksITApO3JldHVybiEwPT09bj9oKGUpLnNldCh0LHIpOm5bZS5faV09cixlfSx1ZnN0b3JlOmh9fSwvKiAxNzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2luZGV4CnZhciBuPXIoMzMpLGk9cigxMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIDA7dmFyIHQ9bihlKSxyPWkodCk7aWYodCE9PXIpdGhyb3cgUmFuZ2VFcnJvcigiV3JvbmcgbGVuZ3RoISIpO3JldHVybiByfX0sLyogMTc1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9scwp2YXIgbj1yKDUzKSxpPXIoODApLG89cigzKSxzPXIoNCkuUmVmbGVjdDtlLmV4cG9ydHM9cyYmcy5vd25LZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1uLmYobyhlKSkscj1pLmY7cmV0dXJuIHI/dC5jb25jYXQocihlKSk6dH19LC8qIDE3NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGZsYXR0ZW5JbnRvQXJyYXkoZSx0LHIsdSxjLGYsbCxkKXtmb3IodmFyIHAseSxoPWMsdj0wLGc9ISFsJiZzKGwsZCwzKTt2PHU7KXtpZih2IGluIHIpe2lmKHA9Zz9nKHJbdl0sdix0KTpyW3ZdLHk9ITEsaShwKSYmKHk9cFthXSx5PXZvaWQgMCE9PXk/ISF5Om4ocCkpLHkmJmY+MCloPWZsYXR0ZW5JbnRvQXJyYXkoZSx0LHAsbyhwLmxlbmd0aCksaCxmLTEpLTE7ZWxzZXtpZihoPj05MDA3MTk5MjU0NzQwOTkxKXRocm93IFR5cGVFcnJvcigpO2VbaF09cH1oKyt9disrfXJldHVybiBofQovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWZsYXRNYXAvI3NlYy1GbGF0dGVuSW50b0FycmF5CnZhciBuPXIoODEpLGk9cig2KSxvPXIoMTIpLHM9cigyNyksYT1yKDgpKCJpc0NvbmNhdFNwcmVhZGFibGUiKTtlLmV4cG9ydHM9ZmxhdHRlbkludG9BcnJheX0sLyogMTc3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmQKdmFyIG49cigxMiksaT1yKDEwOSksbz1yKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIscyl7dmFyIGE9U3RyaW5nKG8oZSkpLHU9YS5sZW5ndGgsYz12b2lkIDA9PT1yPyIgIjpTdHJpbmcociksZj1uKHQpO2lmKGY8PXV8fCIiPT1jKXJldHVybiBhO3ZhciBsPWYtdSxkPWkuY2FsbChjLE1hdGguY2VpbChsL2MubGVuZ3RoKSk7cmV0dXJuIGQubGVuZ3RoPmwmJihkPWQuc2xpY2UoMCxsKSkscz9kK2E6YStkfX0sLyogMTc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUwKSxpPXIoMjQpLG89cig3MSkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixzPWkodCksYT1uKHMpLHU9YS5sZW5ndGgsYz0wLGY9W107dT5jOylvLmNhbGwocyxyPWFbYysrXSkmJmYucHVzaChlP1tyLHNbcl1dOnNbcl0pO3JldHVybiBmfX19LC8qIDE3OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXZpZEJydWFudC9NYXAtU2V0LnByb3RvdHlwZS50b0pTT04KdmFyIG49cig3MiksaT1yKDE4MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKG4odGhpcykhPWUpdGhyb3cgVHlwZUVycm9yKGUrIiN0b0pTT04gaXNuJ3QgZ2VuZXJpYyIpO3JldHVybiBpKHRoaXMpfX19LC8qIDE4MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIG4oZSwhMSxyLnB1c2gscix0KSxyfX0sLyogMTgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KZS5leHBvcnRzPU1hdGguc2NhbGV8fGZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxlIT1lfHx0IT10fHxyIT1yfHxuIT1ufHxpIT1pP05hTjplPT09MS8wfHxlPT09LTEvMD9lOihlLXQpKihpLW4pLyhyLXQpK259fSwvKiAxODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt9LC8qIDE4MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOTIpLGk9cigyMSksbz1yKDE4NSkscz1yKDU4KSxhPXIoNTkpLHU9cig3NCksYz1yKDQxOCksZj1yKDk1KSxsPXIoMTg5KSxkPXIoMjMpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcsYil7YyhyLHQsaCk7dmFyIG0sXyxSLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sUz10KyIgSXRlcmF0b3IiLFA9InZhbHVlcyI9PXYsTz0hMSxNPWUucHJvdG90eXBlLGs9TVtkXXx8TVsiQEBpdGVyYXRvciJdfHx2JiZNW3ZdLEw9IXAmJmt8fHcodikseD12P1A/dygiZW50cmllcyIpOkw6dm9pZCAwLEU9IkFycmF5Ij09dD9NLmVudHJpZXN8fGs6aztpZigKLy8gRml4IG5hdGl2ZQpFJiYoUj1sKEUuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJlIubmV4dCYmKAovLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCmYoUixTLCEwKSwKLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzCm58fGEoUixkKXx8cyhSLGQseSkpLAovLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGClAmJmsmJiJ2YWx1ZXMiIT09ay5uYW1lJiYoTz0hMCxMPWZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0pLAovLyBEZWZpbmUgaXRlcmF0b3IKbiYmIWJ8fCFwJiYhTyYmTVtkXXx8cyhNLGQsTCksCi8vIFBsdWcgZm9yIGxpYnJhcnkKdVt0XT1MLHVbU109eSx2KWlmKG09e3ZhbHVlczpQP0w6dygidmFsdWVzIiksa2V5czpnP0w6dygia2V5cyIpLGVudHJpZXM6eH0sYilmb3IoXyBpbiBtKV8gaW4gTXx8byhNLF8sbVtfXSk7ZWxzZSBpKGkuUCtpLkYqKHB8fE8pLHQsbSk7cmV0dXJuIG19fSwvKiAxODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig0NCkmJiFyKDY2KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMzEpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogMTg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig1OCl9LC8qIDE4NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSksaT1yKDQ1KSxvPXIoNDIwKSghMSkscz1yKDEzNSkoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1pKGUpLHU9MCxjPVtdO2ZvcihyIGluIGEpciE9cyYmbihhLHIpJiZjLnB1c2gocik7Ci8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXMKZm9yKDt0Lmxlbmd0aD51OyluKGEscj10W3UrK10pJiYofm8oYyxyKXx8Yy5wdXNoKHIpKTtyZXR1cm4gY319LC8qIDE4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCnZhciBuPXIoNzUpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmUuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sLyogMTg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKS5kb2N1bWVudDtlLmV4cG9ydHM9biYmbi5kb2N1bWVudEVsZW1lbnR9LC8qIDE4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCnZhciBuPXIoNTkpLGk9cig3Niksbz1yKDEzNSkoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sLyogMTkwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQyMik7Zm9yKHZhciBuPXIoMjIpLGk9cig1OCksbz1yKDc0KSxzPXIoMjMpKCJ0b1N0cmluZ1RhZyIpLGE9IkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0Ii5zcGxpdCgiLCIpLHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGM9YVt1XSxmPW5bY10sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmaShsLHMsYyksb1tjXT1vLkFycmF5fX0sLyogMTkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCkKdmFyIG49cig3NSksaT1yKDIzKSgidG9TdHJpbmdUYWciKSxvPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixhO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxpKSk/cjpvP24odCk6Ik9iamVjdCI9PShhPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6YX19LC8qIDE5MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3IKdmFyIG49cig0MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgbz1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1vJiZuKG8uY2FsbChlKSksdH19fSwvKiAxOTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yCnZhciBuPXIoNzQpLGk9cigyMykoIml0ZXJhdG9yIiksbz1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fG9baV09PT1lKX19LC8qIDE5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxOTEpLGk9cigyMykoIml0ZXJhdG9yIiksbz1yKDc0KTtlLmV4cG9ydHM9cigxMykuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW2ldfHxlWyJAQGl0ZXJhdG9yIl18fG9bbihlKV19fSwvKiAxOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcikKdmFyIG49cig0MSksaT1yKDkzKSxvPXIoMjMpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbb10pP3Q6aShyKX19LC8qIDE5NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvLHM9cig2NSksYT1yKDQyOCksdT1yKDE4OCksYz1yKDEzMSksZj1yKDIyKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx5PWYuTWVzc2FnZUNoYW5uZWwsaD1mLkRpc3BhdGNoLHY9MCxnPXt9LGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpczsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwppZihnLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1nW2VdO2RlbGV0ZSBnW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9OwovLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6CmQmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBnWysrdl09ZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCmEoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwKLy8gTm9kZS5qcyAwLjgtCiJwcm9jZXNzIj09cig3NSkobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhzKGIsZSwxKSl9Onk/KGk9bmV3IHksbz1pLnBvcnQyLGkucG9ydDEub25tZXNzYWdlPW0sbj1zKG8ucG9zdE1lc3NhZ2UsbywxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSwvKiAxOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LC8qIDE5OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksaT1yKDM2KSxvPXIoMTM4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLGkodCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPW8uZihlKTtyZXR1cm4oMCxyLnJlc29sdmUpKHQpLHIucHJvbWlzZX19LC8qIDE5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigyMykoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIG89WzddW25dKCk7by5yZXR1cm49ZnVuY3Rpb24oKXtpPSEwfSwKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWwKQXJyYXkuZnJvbShvLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBvPVs3XSxzPW9bbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0sb1tuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKG8pfWNhdGNoKGUpe31yZXR1cm4gcn19LC8qIDIwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDM3KSxfX2VzTW9kdWxlOiEwfX0sLyogMjAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQubG9nPXZvaWQgMDt2YXIgbj1yKDcpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxvPWkuZGVmYXVsdC5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHM9aS5kZWZhdWx0LmdldExvZ2dlcigiQnVzIiksYT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJNZXNzYWdlQnVzIiksdT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJDb3JlRGlzY292ZXJ5IiksYz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJHcmFwaENvbm5lY3RvciIpLGY9aS5kZWZhdWx0LmdldExvZ2dlcigiSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UiKSxsPWkuZGVmYXVsdC5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksZD1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQRVAiKSxwPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIikseT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLGg9aS5kZWZhdWx0LmdldExvZ2dlcigiUnVudGltZVVBIiksdj1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJMb2FkZXIiKSxnPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIiksYj1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxtPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLF89aS5kZWZhdWx0LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uTWFuYWdlciIpLFI9aS5kZWZhdWx0LmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSx3PWkuZGVmYXVsdC5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTeW5TdWJzY3JpcHRpb24iKSxQPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksTz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJJZGVudGl0eU1hbmFnZXIiKSxNPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxrPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlBpcGVsaW5lIik7dC5sb2c9aS5kZWZhdWx0LC8qKgogIDAgYWN0dWFsIGxvZ2dpbmcgbWV0aG9kcywgb3JkZXJlZCBhbmQgYXZhaWxhYmxlIGFzOgoKICAgICAgMCAtIGxvZy50cmFjZShtc2cpCiAgICAgIDEgLSBsb2cuZGVidWcobXNnKQogICAgICAyIC0gbG9nLmluZm8obXNnKQogICAgICAzIC0gbG9nLndhcm4obXNnKQogICAgICA0IC0gbG9nLmVycm9yKG1zZykKCiAgbG9nLmxvZyhtc2cpIGlzIGFsc28gYXZhaWxhYmxlLCBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnKG1zZyksIHRvIGltcHJvdmUgY29tcGF0aWJpbGl0eSB3aXRoIGNvbnNvbGUsIGFuZCBtYWtlIG1pZ3JhdGlvbiBlYXNpZXIuCgogIEV4YWN0IG91dHB1dCBmb3JtYXR0aW5nIG9mIHRoZXNlIHdpbGwgZGVwZW5kIG9uIHRoZSBjb25zb2xlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBjb250ZXh0IG9mIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlLCBtYW55IGVudmlyb25tZW50cyB3aWxsIGluY2x1ZGUgYSBmdWxsIHN0YWNrIHRyYWNlIHdpdGggYWxsIHRyYWNlKCkgY2FsbHMsIGFuZCBpY29ucyBvciBzaW1pbGFyIHRvIGhpZ2hsaWdodCBvdGhlciBjYWxscy4KCiAgVGhlc2UgbWV0aG9kcyBzaG91bGQgbmV2ZXIgZmFpbCBpbiBhbnkgZW52aXJvbm1lbnQsIGV2ZW4gaWYgbm8gY29uc29sZSBvYmplY3QgaXMgY3VycmVudGx5IGF2YWlsYWJsZSwgYW5kIHNob3VsZCBhbHdheXMgZmFsbCBiYWNrIHRvIGFuIGF2YWlsYWJsZSBsb2cgbWV0aG9kIGV2ZW4gaWYgdGhlIHNwZWNpZmljIG1ldGhvZCBjYWxsZWQgKGUuZy4gd2FybikgaXNuJ3QgYXZhaWxhYmxlLgoKICBCZSBhd2FyZSB0aGF0IGFsbCB0aGlzIG1lYW5zIHRoYXQgdGhlc2UgbWV0aG9kIHdvbid0IG5lY2Vzc2FyaWx5IGFsd2F5cyBwcm9kdWNlIGV4YWN0bHkgdGhlIG91dHB1dCB5b3UgZXhwZWN0IGluIGV2ZXJ5IGVudmlyb25tZW50OyBsb2dsZXZlbCBvbmx5IGd1YXJhbnRlZXMgdGhhdCB0aGVzZSBtZXRob2RzIHdpbGwgbmV2ZXIgZXhwbG9kZSBvbiB5b3UsIGFuZCB0aGF0IGl0IHdpbGwgY2FsbCB0aGUgbW9zdCByZWxldmFudCBtZXRob2QgaXQgY2FuIGZpbmQsIHdpdGggeW91ciBhcmd1bWVudC4gRmlyZWZveCBpcyBhIG5vdGFibGUgZXhhbXBsZSBoZXJlOiBkdWUgdG8gYSBjdXJyZW50IEZpcmVmb3ggYnVnIGxvZy50cmFjZShtc2cpIGNhbGxzIGluIEZpcmVmb3ggd2lsbCBwcmludCBvbmx5IHRoZSBzdGFja3RyYWNlLCBhbmQgd29uJ3QgaW5jbHVkZSBhbnkgcGFzc2VkIG1lc3NhZ2UgYXJndW1lbnRzLgoKKi8KLy8gYWRkcmVzcy1hbGxvY2F0aW9uCm8uc2V0TGV2ZWwoMyksCi8vIEJ1cwpzLnNldExldmVsKDMpLAovLyBNZXNzYWdlQnVzCmEuc2V0TGV2ZWwoMCksCi8vIENvcmVEaXNjb3ZlcnkKdS5zZXRMZXZlbCg1KSwKLy8gR3JhcGhDb25uZWN0b3IKYy5zZXRMZXZlbCg1KSwKLy8gSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UKZi5zZXRMZXZlbCgzKSwKLy8gSWRlbnRpdHlNb2R1bGUKbC5zZXRMZXZlbCgwKSwKLy8gUEVQCmQuc2V0TGV2ZWwoMyksCi8vIFAyUENvbm5lY3Rpb25SZXNvbHZlCnAuc2V0TGV2ZWwoMyksCi8vIFJlZ2lzdHJ5Cnkuc2V0TGV2ZWwoMyksCi8vIFJ1bnRpbWVVQQpoLnNldExldmVsKDMpLAovLyBMb2FkZXIKdi5zZXRMZXZlbCgzKSwKLy8gRGVzY3JpcHRvcnMKZy5zZXRMZXZlbCgzKSwKLy8gRGF0YU9iamVjdHNTdG9yYWdlCmIuc2V0TGV2ZWwoMyksCi8vIFN1YnNjcmlwdGlvbgptLnNldExldmVsKDMpLAovLyBTdWJzY3JpcHRpb25NYW5hZ2VyCl8uc2V0TGV2ZWwoMyksCi8vIE9ic2VydmVyT2JqZWN0ClIuc2V0TGV2ZWwoMyksCi8vIFJlcG9ydGVyT2JqZWN0Cncuc2V0TGV2ZWwoMyksCi8vIFN5blN1YnNjcmlwdGlvbgpTLnNldExldmVsKDMpLAovLyBTeW5jaGVyTWFuYWdlcgpQLnNldExldmVsKDMpLAovLyBJZGVudGl0eU1hbmFnZXIKTy5zZXRMZXZlbCgzKSwKLy8gQ3J5cHRvTWFuYWdlcgpNLnNldExldmVsKDMpLAovLyBQaXBlbGluZQprLnNldExldmVsKDMpfSwvKiAyMDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCnZhciBuPXIoMTg2KSxpPXIoMTM3KS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxpKX19LC8qIDIwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDYwKSxfX2VzTW9kdWxlOiEwfX0sLyogMjA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIkJ1cyIpLGQ9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX21zZ0lkOiBudW1iZXI7CiAgX3N1YnNjcmlwdGlvbnM6IDx1cmw6IE1zZ0xpc3RlbmVyW10+CiAgIF9yZXNwb25zZVRpbWVPdXQ6IG51bWJlcgogIF9yZXNwb25zZUNhbGxiYWNrczogPHVybCtpZDogKG1zZykgPT4gdm9pZD4KICAgKi8KZnVuY3Rpb24gQnVzKCl7KDAscy5kZWZhdWx0KSh0aGlzLEJ1cyk7dmFyIGU9dGhpcztlLl9tc2dJZD0wLGUuX3N1YnNjcmlwdGlvbnM9e30sZS5fcmVzcG9uc2VUaW1lT3V0PTE1ZTMsLy9kZWZhdWx0IHRvIDNzCmUuX3Jlc3BvbnNlQ2FsbGJhY2tzPXt9LGUuX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lcigpfS8qKgogICogUmVnaXN0ZXIgbGlzdGVuZXIgdG8gcmVjZWl2ZSBtZXNzYWdlIHdoZW4gIm1zZy50byA9PT0gdXJsIi4KICAqIFNwZWNpYWwgdXJsICIqIiBmb3IgZGVmYXVsdCBsaXN0ZW5lciBpcyBhY2NlcHRlZCB0byBpbnRlcmNlcHQgYWxsIG1lc3NhZ2VzLgogICogQHBhcmFtIHtVUkx9IHVybCBBZGRyZXNzIHRvIGludGVyY2VwdCwgdGhhIGlzIGluIHRoZSBtZXNzYWdlICJ0byIKICAqIEBwYXJhbSB7TGlzdGVuZXJ9IGxpc3RlbmVyIGxpc3RlbmVyCiAgKiBAcmV0dXJuIHtNc2dMaXN0ZW5lcn0gaW5zdGFuY2Ugb2YgTXNnTGlzdGVuZXIKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKEJ1cyxbe2tleToiYWRkTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPW5ldyBwKHIuX3N1YnNjcmlwdGlvbnMsZSx0KSxpPXIuX3N1YnNjcmlwdGlvbnNbZV07cmV0dXJuIGl8fChpPVtdLHIuX3N1YnNjcmlwdGlvbnNbZV09aSksaS5wdXNoKG4pLG59fSx7a2V5OiJhZGRSZXNwb25zZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XT1yfX0se2tleToicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XX19LHtrZXk6InJlbW92ZUFsbExpc3RlbmVyc09mIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fc3Vic2NyaXB0aW9uc1tlXX19LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9dGhpcztyZXR1cm57dGhpc0xpc3RlbmVyOmkuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtyLnBvc3RNZXNzYWdlKGUpfSksdGFyZ2V0TGlzdGVuZXI6ci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2UoZSl9KSx1bmJpbmQ6ZnVuY3Rpb24oKXtuLnRoaXNMaXN0ZW5lci5yZW1vdmUoKSxuLnRhcmdldExpc3RlbmVyLnJlbW92ZSgpfX19fSx7a2V5OiJfcHVibGlzaE9uRGVmYXVsdCIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vaXMgdGhlcmUgYW55ICIqIiAoZGVmYXVsdCkgbGlzdGVuZXJzPwp2YXIgdD10aGlzLl9zdWJzY3JpcHRpb25zWyIqIl07dCYmdGhpcy5fcHVibGlzaE9uKHQsZSl9fSx7a2V5OiJfcHVibGlzaE9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9jYWxsYmFjayh0KX0pfX0se2tleToiX3Jlc3BvbnNlQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPXRoaXM7Ci8vYXV0b21hdGljIG1hbmFnZW1lbnQgb2YgcmVzcG9uc2UgaGFuZGxlcnMKaWYodCl7dmFyIGk9ZS5mcm9tK2UuaWQ7bi5fcmVzcG9uc2VDYWxsYmFja3NbaV09dCxyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bi5fcmVzcG9uc2VDYWxsYmFja3NbaV07aWYoZGVsZXRlIG4uX3Jlc3BvbnNlQ2FsbGJhY2tzW2ldLHQpe3Qoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDA4LGRlc2M6IlJlc3BvbnNlIHRpbWVvdXQhIix2YWx1ZTplfX0pfX0sbi5fcmVzcG9uc2VUaW1lT3V0KX19fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigicmVzcG9uc2UiPT09ZS50eXBlKXt2YXIgcj1lLnRvK2UuaWQsbj10Ll9yZXNwb25zZUNhbGxiYWNrc1tyXTtpZihlLmJvZHkuY29kZT49MjAwJiYKLy9pZiBpdCdzIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UsIGRvbid0IGRlbGV0ZSByZXNwb25zZSBsaXN0ZW5lcgpkZWxldGUgdC5fcmVzcG9uc2VDYWxsYmFja3Nbcl0sbilyZXR1cm4gbihlKSwhMH1yZXR1cm4hMX19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj90Ll9wdWJsaXNoT24ocixlKTp0Ll9wdWJsaXNoT25EZWZhdWx0KGUpfX19LHtrZXk6Il9nZW5JZCIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vVE9ETzogaG93IGRvIHdlIG1hbmFnZSBtZXNzYWdlIElEJ3M/IFNob3VsZCBpdCBiZSBhIGdsb2JhbCBydW50aW1lIGNvdW50ZXIsIG9yIHBlciBVUkwgYWRkcmVzcz8KLy9HbG9iYWwgY291bnRlciB3aWxsIG5vdCB3b3JrLCBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbXVsdGlwbGUgTWluaUJ1cyBpbnN0YW5jZXMhCi8vUGVyIFVSTCwgY2FuIGJlIGEgbG90IG9mIGRhdGEgdG8gbWFpbnRhaW4hCi8vTWF5YmUgYSBjb3VudGVyIHBlciBNaW5pQnVzIGluc3RhbmNlLiBUaGlzIGlzIHRoZSBhc3N1bWVkIHNvbHV0aW9uIGZvciBub3cuCmUuaWQmJjAhPT1lLmlkfHwodGhpcy5fbXNnSWQrKyxlLmlkPXRoaXMuX21zZ0lkKX19LHtrZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe319LHtrZXk6InBvc3RNZXNzYWdlV2l0aFJldHJpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89MCxzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCxpKXtuLnBvc3RNZXNzYWdlKGUsZnVuY3Rpb24obil7NDA4PT09bi5ib2R5LmNvZGV8fDUwMD09PW4uYm9keS5jb2RlP2koKToobC5pbmZvKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIG1zZyBkZWxpdmVyZWQ6ICIsZSkscihuKSx0KCkpfSl9KX07IWZ1bmN0aW9uIHRyeUFnYWluKCl7cygpLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7aWYobC53YXJuKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIE1lc3NhZ2UgQm91bmNlZCAocmV0cnkgIitvKyIpOiAnIixlKSwhKG8rKzx0KSl7dmFyIHI9IltFcnJvcl0gTWVzc2FnZSBCb3VuY2VkIChkZWxpdmVyeSBhdHRlbXB0cyAiK3QrIik6ICciO3Rocm93IG5ldyBFcnJvcihyK2UpfXRyeUFnYWluKCl9KX0oKX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJfcmVnaXN0ZXJFeHRlcm5hbExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbigpe319XSksQnVzfSgpLHA9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX3N1YnNjcmlwdGlvbnM6IDxzdHJpbmc6IE1zZ0xpc3RlbmVyW10+OwogIF91cmw6IHN0cmluZzsKICBfY2FsbGJhY2s6IChtc2cpID0+IHZvaWQ7CiAgKi8KZnVuY3Rpb24gTXNnTGlzdGVuZXIoZSx0LHIpeygwLHMuZGVmYXVsdCkodGhpcyxNc2dMaXN0ZW5lcik7dmFyIG49dGhpcztuLl9zdWJzY3JpcHRpb25zPWUsbi5fdXJsPXQsbi5fY2FsbGJhY2s9cn1yZXR1cm4oMCx1LmRlZmF1bHQpKE1zZ0xpc3RlbmVyLFt7a2V5OiJyZW1vdmUiLC8qKgogICAgICogUmVtb3ZlIHRoaXMgbGlzdGVuZXIgZnJvbSB0aGUgQnVzCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdO2lmKHQpe3ZhciByPXQuaW5kZXhPZihlKTt0LnNwbGljZShyLDEpLAovL2lmIHRoZXJlIGFyZSBubyBsaXN0ZW5lcnMsIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9uIGVudGlyZWx5LgowPT09dC5sZW5ndGgmJmRlbGV0ZSBlLl9zdWJzY3JpcHRpb25zW2UuX3VybF19fX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dKSxNc2dMaXN0ZW5lcn0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAyMDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyB2ZXJzaW9uOiAwLjguMAovLyBkYXRlOiBUdWUgSmFuIDA5IDIwMTggMTc6MDE6MzcgR01UKzAwMDAgKFdFVCkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwohZnVuY3Rpb24odCxyKXtlLmV4cG9ydHM9cigpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihyKXtpZih0W3JdKXJldHVybiB0W3JdLmV4cG9ydHM7dmFyIGk9dFtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sPSEwLGkuZXhwb3J0c312YXIgdD17fTtyZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCwiYSIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9IiIsbihuLnM9MTk2KX0oezA6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LDE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LDEwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgpLGk9cigxNSk7ZS5leHBvcnRzPXIoMyk/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LGkoMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSwxMjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sMTIxOmZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSx0LHIsbixpLG8pe2Z1bmN0aW9uIHMoZSxuKXtpZihzLmRlbGF5PW4sIXMucGF1c2UmJnUuY2hhbmdlc2V0Lmxlbmd0aD4wKXtpZighZSl7dmFyIGk9dS5jaGFuZ2VzZXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFyfHxyLmluZGV4T2YoZS50eXBlKT49MH0pO2kubGVuZ3RoPjAmJnQoaSl9dS5jaGFuZ2VzZXQ9W119fXZhciBhLHU9dGhpcztyZXR1cm4gcy5wYXVzZT1pLHMuZGVsYXk9byx1LmdldD1mdW5jdGlvbihlLHQpe3JldHVybiJfX29ic2VydmVyX18iPT09dD91OiJ1bm9ic2VydmUiPT09dD9mdW5jdGlvbigpe3JldHVybiBPYmplY3QudW5vYnNlcnZlKGUpLGV9OiJkZWxpdmVyIj09PXQ/czplW3RdfSx1LnRhcmdldD1lLHUuY2hhbmdlc2V0PVtdLHUudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfX3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyQ2FsbGJhY2tzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSksdS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fLnB1c2godCksdS50YXJnZXQuX19vYnNlcnZlcnNfXy5wdXNoKHRoaXMpLGE9bmV3IFByb3h5KGUsdSkscyghMSxvKSxhfU9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgUHJveHl8fChlLnByb3RvdHlwZS5kZWxpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KG51bGwsImRlbGl2ZXIiKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lW3RdLGk9dm9pZCAwPT09bj8iYWRkIjoidXBkYXRlIjtpZihlW3RdPXIsZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJighdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZihpKT49MCkpe3ZhciBvPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZTppfSxzPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsYT10aGlzLmRlbGl2ZXIoKTsidXBkYXRlIj09PWkmJihvLm9sZFZhbHVlPW4pLHRoaXMuY2hhbmdlc2V0LnB1c2gobykscyYmYSghMSwibnVtYmVyIj09dHlwZW9mIGEuZGVsYXk/YS5kZWxheToxMCl9cmV0dXJuITB9LGUucHJvdG90eXBlLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtpZihkZWxldGUgZVt0XSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoImRlbGV0ZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6ImRlbGV0ZSIsb2xkVmFsdWU6cn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsciksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJyZWNvbmZpZ3VyZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6InJlY29uZmlndXJlIn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYoT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJzZXRQcm90b3R5cGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6Il9fcHJvdG9fXyIsdHlwZToic2V0UHJvdG90eXBlIixvbGRWYWx1ZTpyfSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfXJldHVybiEwfSxlLnByb3RvdHlwZS5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihlKXtpZihPYmplY3QucHJldmVudEV4dGVuc2lvbnMoZSksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJwcmV2ZW50RXh0ZW5zaW9ucyIpPj0wKXt2YXIgdD17b2JqZWN0OmUsdHlwZToicHJldmVudEV4dGVuc2lvbnMifSxyPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbj10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKHQpLHImJm4oITEsIm51bWJlciI9PXR5cGVvZiBuLmRlbGF5P24uZGVsYXk6MTApfXJldHVybiEwfSxPYmplY3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbixpLG8scyl7cmV0dXJuIG5ldyBlKHQscixuLGksbyxzKX0sT2JqZWN0LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fKXtpZighdClyZXR1cm4gZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKSx2b2lkIGUuX19vYnNlcnZlcnNfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dD09PXImJihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UobiwxKSxkZWxldGUgZS5fX29ic2VydmVyc19fW25dLmNhbGxiYWNrLGUuX19vYnNlcnZlcnNfXy5zcGxpY2UobiwxKSl9KX19LEFycmF5Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBBcnJheS5vYnNlcnZlciBpcyBub3QgYW4gQXJyYXkiKTtyPXJ8fFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwic3BsaWNlIl07dmFyIHM9bmV3IFByb3h5KGUse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiJ1bm9ic2VydmUiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gZT9PYmplY3QudW5vYnNlcnZlKHQsZSk6dC51bm9ic2VydmUoKX06InNwbGljZSI9PT1uP2Z1bmN0aW9uKG4saSl7aWYoIm51bWJlciIhPXR5cGVvZiBufHwibnVtYmVyIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgdHdvIGFyZ3VtZW50cyB0byBBcnJheSBzcGxpY2UgYXJlIG5vdCBudW1iZXIsIG51bWJlciIpO3ZhciBvPXRoaXMuc2xpY2UobixuK2kpLHM9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50cy5sZW5ndGgtMjowLHU9e29iamVjdDplLHR5cGU6InNwbGljZSIsaW5kZXg6bixyZW1vdmVkOm8sYWRkZWRDb3VudDpzfTtpZih0LnNwbGljZS5hcHBseSh0LGFyZ3VtZW50cyksci5pbmRleE9mKCJzcGxpY2UiKT49MCl7bj0wPT09YS5fX29ic2VydmVyX18uY2hhbmdlc2V0Lmxlbmd0aDt2YXIgYz1hLl9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7YS5fX29ic2VydmVyX18uY2hhbmdlc2V0LnB1c2godSksbiYmYyghMSwibnVtYmVyIj09dHlwZW9mIGMuZGVsYXk/Yy5kZWxheToxMCl9fToicHVzaCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aCwwLGUpfToicG9wIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKX06InVuc2hpZnQiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwwLGUpfToic2hpZnQiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSgwLDEpfTp0W25dfX0pLGE9T2JqZWN0Lm9ic2VydmUocyxmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ibGVuZ3RoIiE9PWUubmFtZSYmImFkZCIhPT1lLm5hbWUmJighcnx8ci5pbmRleE9mKGUudHlwZSk+PTApfSk7bi5sZW5ndGg+MCYmdChuKX0scixuLGksbyk7cmV0dXJuIGF9LEFycmF5LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVub2JzZXJ2ZSh0KX0pLE9iamVjdC5kZWVwT2JzZXJ2ZT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbyhlLHIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoKCJvYmplY3QiPT09bihlW2ldKXx8ImFycmF5Ij09PW4oZVtpXSkpJiYhZVtpXS5oYXNPd25Qcm9wZXJ0eSgiX19vYnNlcnZlcnNfXyIpKXt2YXIgbz1yLnNsaWNlKDApO28ucHVzaChpKSxlW2ldPU9iamVjdC5kZWVwT2JzZXJ2ZShlW2ldLHQsbyl9fSl9dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiBvKGUscj1yfHxbXSksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihuKXt2YXIgaT1bXTtuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KHIubGVuZ3RoPjA/ci5qb2luKCIuIikrIi4iOiIiKStlLm5hbWU7InVwZGF0ZSIhPT1lLnR5cGUmJiJhZGQiIT09ZS50eXBlfHxvKGUub2JqZWN0LHIpLGkucHVzaCh7bmFtZTplLm5hbWUsb2JqZWN0OmUub2JqZWN0LHR5cGU6ZS50eXBlLG9sZFZhbHVlOmUub2xkVmFsdWUsbmV3VmFsdWU6ZS5vYmplY3RbZS5uYW1lXSxrZXlwYXRoOnR9KSxmdW5jdGlvbiBlKHQscixuLG8scyl7byBpbnN0YW5jZW9mIE9iamVjdD9PYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKCFufHxuW2FdIT09b1thXSl7dmFyIHU9biYmdm9pZCAwIT09blthXT9uW2FdOnZvaWQgMCxjPXZvaWQgMD09PXU/ImFkZCI6InVwZGF0ZSIsZj1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6YyxvbGRWYWx1ZTp1LG5ld1ZhbHVlOm9bYV0sa2V5cGF0aDpmfSksZSh0LHIsdSxvW2FdLGYpfX0pOm4gaW5zdGFuY2VvZiBPYmplY3QmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHU9bnVsbD09PW8/InVwZGF0ZSI6ImRlbGV0ZSIsYz1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6dSxvbGRWYWx1ZTpuW2FdLG5ld1ZhbHVlOm8sa2V5cGF0aDpjfSksZSh0LHIsblthXSx2b2lkIDAsYyl9KX0oZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQoaSl9KX19KCl9LDE0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4saSl7cmV0dXJuIGUuY2FsbCh0LHIsbixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LDE1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sMTk2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuV2F0Y2hpbmdZb3U9dm9pZCAwO3ZhciBuLGk9cigxOTcpLG89KG49aSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3QuV2F0Y2hpbmdZb3U9by5kZWZhdWx0fSwxOTc6ZnVuY3Rpb24odCxyLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89aShuKDQpKSxzPWkobig3KSk7bigxMjEpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLG8uZGVmYXVsdCkodGhpcyxlKSx0aGlzLl93YXRjaGluZz17fSx0aGlzLl9vYnNlcnZlcnM9W119cmV0dXJuKDAscy5kZWZhdWx0KShlLFt7a2V5OiJ3YXRjaCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5fd2F0Y2hpbmdbZV09bj9PYmplY3QuZGVlcE9ic2VydmUodCxmdW5jdGlvbih0KXt0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3IuX2ZpcmVFdmVudChlLHQpfSl9KTpPYmplY3Qub2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pLHRoaXMuX3dhdGNoaW5nW2VdfX0se2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vYnNlcnZlcnMucHVzaCh7a2V5OmUsY2FsbGJhY2s6dH0pfX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vYnNlcnZlcnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2sodCl9KX19XSksZX0oKTtyLmRlZmF1bHQ9YSx0LmV4cG9ydHM9ci5kZWZhdWx0fSwyMjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sMjQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsaTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sMjY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksaT1yKDEpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSwzOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoMTIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sMzg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcigzKSYmIXIoMTIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyKDI2KSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDQ6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSw1OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEpLGk9cigwKSxvPXIoMTQpLHM9cigxMCksYT0icHJvdG90eXBlIix1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxmLGwsZD1lJnUuRixwPWUmdS5HLHk9ZSZ1LlMsaD1lJnUuUCx2PWUmdS5CLGc9ZSZ1LlcsYj1wP2k6aVt0XXx8KGlbdF09e30pLG09YlthXSxfPXA/bjp5P25bdF06KG5bdF18fHt9KVthXTtwJiYocj10KTtmb3IoYyBpbiByKShmPSFkJiZfJiZ2b2lkIDAhPT1fW2NdKSYmYyBpbiBifHwobD1mP19bY106cltjXSxiW2NdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106diYmZj9vKGwsbik6ZyYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFthXT1lW2FdLHR9KGwpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP28oRnVuY3Rpb24uY2FsbCxsKTpsLGgmJigoYi52aXJ0dWFsfHwoYi52aXJ0dWFsPXt9KSlbY109bCxlJnUuUiYmbSYmIW1bY10mJnMobSxjLGwpKSl9O3UuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LDU1OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig2MCksX19lc01vZHVsZTohMH19LDY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sNjA6ZnVuY3Rpb24oZSx0LHIpe3IoNjEpO3ZhciBuPXIoMCkuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0sNjE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNSk7bihuLlMrbi5GKiFyKDMpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDgpLmZ9KX0sNzpmdW5jdGlvbih0LHIsbil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMDt2YXIgaSxvPW4oNTUpLHM9KGk9bykmJmkuX19lc01vZHVsZT9pOntkZWZhdWx0Oml9O3IuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLHMuZGVmYXVsdCkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LDg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksaT1yKDM4KSxvPXIoMjQpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yKDMpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSw5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fX0pfSl9LC8qIDIwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBbGxvd092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxBbGxvd092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShBbGxvd092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXphdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpemVzIGEgcG9zaXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoITApfHwtMT09PWUuaW5kZXhPZighMSkmJiJOb3QgQXBwbGljYWJsZSJ9fV0pLEFsbG93T3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCbG9ja092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxCbG9ja092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShCbG9ja092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXNhdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpc2VzIGEgbmVnYXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoITEpJiYoLTEhPT1lLmluZGV4T2YoITApfHwiTm90IEFwcGxpY2FibGUiKX19XSksQmxvY2tPdmVycmlkZXN9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMjA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZpcnN0QXBwbGljYWJsZSgpeygwLGkuZGVmYXVsdCkodGhpcyxGaXJzdEFwcGxpY2FibGUpfXJldHVybigwLHMuZGVmYXVsdCkoRmlyc3RBcHBsaWNhYmxlLFt7a2V5OiJjb21iaW5lIiwvKioKICAgICogR2l2ZW4gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbCBhdXRob3Jpc2F0aW9uIGRlY2lzaW9ucywgcmV0dXJucyB0aGUgZmlyc3Qgb25lIGRpZmZlcmVudCBmcm9tICdOb3QgQXBwbGljYWJsZScsIGVpdGhlciBwb3NpdGl2ZSBvciBuZWdhdGl2ZS4KICAgICogQHBhcmFtICAgIHtib29sZWFuW119ICAgICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoIk5vdCBBcHBsaWNhYmxlIiE9PWVbdF0pcmV0dXJuIGVbdF07cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn19XSksRmlyc3RBcHBsaWNhYmxlfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTAwKSxfX2VzTW9kdWxlOiEwfX0sLyogMjEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig1MDcpLF9fZXNNb2R1bGU6ITB9fSwvKiAyMTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlN5blN1YnNjcmlwdGlvbiIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIsbixvKXsoMCxpLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uKTt2YXIgcz10aGlzLGE9cisiL2NoaWxkcmVuLyIsdT1yKyIvY2hhbmdlcyI7Ci8vcHJvY2VzcyBkZWxldGUgbWVzc2FnZQpzLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pOwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gYWxsIHN1YnNjcmliZXJzCnZhciBpPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTsKLy9zZW5kIGRlbGV0ZSB0byBoeXBlcnR5CmUucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtjLmxvZygiU3Vic2NyaXB0aW9uLURFTEVURS1SRVBMWTogIixlKSwyMDA9PT1lLmJvZHkuY29kZSYmcy5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSksCi8vYWRkIGNoYW5nZSBwdWJsaXNoIGFkZHJlc3Mgb3IgZm9yd2FyZApzLl9jaGFuZ2VMaXN0ZW5lcj1vP2UuYWRkUHVibGlzaCh1KTplLmFkZEZvcndhcmQodSx0KSxzLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLmxvZygiW1N1YnNjcmlwdGlvbl0gLSBjaGlsZElEIixuKSxuLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49YStyO2MubG9nKCJbU3Vic2NyaXB0aW9uXSAtIGNoaWxkSUQiLGEsbixyKTsKLy9hZGQgY2hpbGRyZW4gcHVibGlzaCBhZGRyZXNzCnZhciBpPWUuYWRkUHVibGlzaChuKTsKLy9hZGQgc2VsZiBmb3J3YXJkIGlmIGFuIG9ic2VydmVyCmlmKHMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSksIW8pe3ZhciB1PWUuYWRkRm9yd2FyZChuLHQpO3MuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2godSl9fSl9cmV0dXJuKDAscy5kZWZhdWx0KShTdWJzY3JpcHRpb24sW3trZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fZGVsZXRlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAyMTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMjEzKSxlLmV4cG9ydHM9cig0MTUpfSwvKiAyMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGRlZmluZShlLHIsbil7ZVtyXXx8T2JqZWN0W3RdKGUscix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOm59KX1pZihyKDIxNCkscig0MTEpLHIoNDEyKSxlLl9iYWJlbFBvbHlmaWxsKXRocm93IG5ldyBFcnJvcigib25seSBvbmUgaW5zdGFuY2Ugb2YgYmFiZWwtcG9seWZpbGwgaXMgYWxsb3dlZCIpO2UuX2JhYmVsUG9seWZpbGw9ITA7dmFyIHQ9ImRlZmluZVByb3BlcnR5IjtkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwicGFkTGVmdCIsIiIucGFkU3RhcnQpLGRlZmluZShTdHJpbmcucHJvdG90eXBlLCJwYWRSaWdodCIsIiIucGFkRW5kKSwicG9wLHJldmVyc2Usc2hpZnQsa2V5cyx2YWx1ZXMsZW50cmllcyxpbmRleE9mLGV2ZXJ5LHNvbWUsZm9yRWFjaCxtYXAsZmlsdGVyLGZpbmQsZmluZEluZGV4LGluY2x1ZGVzLGpvaW4sc2xpY2UsY29uY2F0LHB1c2gsc3BsaWNlLHVuc2hpZnQsc29ydCxsYXN0SW5kZXhPZixyZWR1Y2UscmVkdWNlUmlnaHQsY29weVdpdGhpbixmaWxsIi5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7W11bZV0mJmRlZmluZShBcnJheSxlLEZ1bmN0aW9uLmNhbGwuYmluZChbXVtlXSkpfSl9KS5jYWxsKHQscigxNDcpKX0sLyogMjE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDIxNSkscigyMTcpLHIoMjE4KSxyKDIxOSkscigyMjApLHIoMjIxKSxyKDIyMikscigyMjMpLHIoMjI0KSxyKDIyNSkscigyMjYpLHIoMjI3KSxyKDIyOCkscigyMjkpLHIoMjMwKSxyKDIzMSkscigyMzMpLHIoMjM0KSxyKDIzNSkscigyMzYpLHIoMjM3KSxyKDIzOCkscigyMzkpLHIoMjQwKSxyKDI0MSkscigyNDIpLHIoMjQzKSxyKDI0NCkscigyNDUpLHIoMjQ2KSxyKDI0NykscigyNDgpLHIoMjQ5KSxyKDI1MCkscigyNTEpLHIoMjUyKSxyKDI1MykscigyNTQpLHIoMjU1KSxyKDI1NikscigyNTcpLHIoMjU4KSxyKDI1OSkscigyNjApLHIoMjYxKSxyKDI2MikscigyNjMpLHIoMjY0KSxyKDI2NSkscigyNjYpLHIoMjY3KSxyKDI2OCkscigyNjkpLHIoMjcwKSxyKDI3MSkscigyNzIpLHIoMjczKSxyKDI3NCkscigyNzUpLHIoMjc2KSxyKDI3NykscigyNzgpLHIoMjc5KSxyKDI4MCkscigyODEpLHIoMjgyKSxyKDI4MykscigyODQpLHIoMjg1KSxyKDI4NikscigyODcpLHIoMjg4KSxyKDI4OSkscigyOTApLHIoMjkxKSxyKDI5MikscigyOTMpLHIoMjk1KSxyKDI5NikscigyOTgpLHIoMjk5KSxyKDMwMCkscigzMDEpLHIoMzAyKSxyKDMwMykscigzMDQpLHIoMzA2KSxyKDMwNykscigzMDgpLHIoMzA5KSxyKDMxMCkscigzMTEpLHIoMzEyKSxyKDMxMykscigzMTQpLHIoMzE1KSxyKDMxNikscigzMTcpLHIoMzE4KSxyKDEyMikscigzMTkpLHIoMzIwKSxyKDE2NikscigzMjEpLHIoMzIyKSxyKDMyMykscigzMjQpLHIoMzI1KSxyKDE2OSkscigxNzEpLHIoMTcyKSxyKDMyNikscigzMjcpLHIoMzI4KSxyKDMyOSkscigzMzApLHIoMzMxKSxyKDMzMikscigzMzMpLHIoMzM0KSxyKDMzNSkscigzMzYpLHIoMzM3KSxyKDMzOCkscigzMzkpLHIoMzQwKSxyKDM0MSkscigzNDIpLHIoMzQzKSxyKDM0NCkscigzNDUpLHIoMzQ2KSxyKDM0NykscigzNDgpLHIoMzQ5KSxyKDM1MCkscigzNTEpLHIoMzUyKSxyKDM1MykscigzNTQpLHIoMzU1KSxyKDM1NikscigzNTcpLHIoMzU4KSxyKDM1OSkscigzNjApLHIoMzYxKSxyKDM2MikscigzNjMpLHIoMzY0KSxyKDM2NSkscigzNjYpLHIoMzY3KSxyKDM2OCkscigzNjkpLHIoMzcwKSxyKDM3MSkscigzNzIpLHIoMzczKSxyKDM3NCkscigzNzUpLHIoMzc2KSxyKDM3NykscigzNzgpLHIoMzc5KSxyKDM4MCkscigzODEpLHIoMzgyKSxyKDM4MykscigzODQpLHIoMzg1KSxyKDM4NikscigzODcpLHIoMzg4KSxyKDM4OSkscigzOTApLHIoMzkxKSxyKDM5MikscigzOTMpLHIoMzk0KSxyKDM5NSkscigzOTYpLHIoMzk3KSxyKDM5OCkscigzOTkpLHIoNDAwKSxyKDQwMSkscig0MDIpLHIoNDAzKSxyKDQwNCkscig0MDUpLHIoNDA2KSxyKDQwNykscig0MDgpLHIoNDA5KSxyKDQxMCksZS5leHBvcnRzPXIoMzApfSwvKiAyMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbQp2YXIgbj1yKDQpLGk9cigxNyksbz1yKDEwKSxzPXIoMCksYT1yKDE5KSx1PXIoNDIpLktFWSxjPXIoNSksZj1yKDc4KSxsPXIoNjEpLGQ9cig0OCkscD1yKDgpLHk9cigxNDkpLGg9cigxMDIpLHY9cigyMTYpLGc9cig4MSksYj1yKDMpLG09cig2KSxfPXIoMjQpLFI9cigzMSksdz1yKDQ3KSxTPXIoNTIpLFA9cigxNTIpLE89cigyNSksTT1yKDExKSxrPXIoNTApLEw9Ty5mLHg9TS5mLEU9UC5mLEE9bi5TeW1ib2wsVT1uLkpTT04sRD1VJiZVLnN0cmluZ2lmeSxJPXAoIl9oaWRkZW4iKSxqPXAoInRvUHJpbWl0aXZlIiksVD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxDPWYoInN5bWJvbC1yZWdpc3RyeSIpLEY9Zigic3ltYm9scyIpLE49Zigib3Atc3ltYm9scyIpLHE9T2JqZWN0LnByb3RvdHlwZSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBBLEI9bi5RT2JqZWN0LEs9IUJ8fCFCLnByb3RvdHlwZXx8IUIucHJvdG90eXBlLmZpbmRDaGlsZCxHPW8mJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9Uyh4KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHgodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUwocSx0KTtuJiZkZWxldGUgcVt0XSx4KGUsdCxyKSxuJiZlIT09cSYmeChxLHQsbil9OngsVj1mdW5jdGlvbihlKXt2YXIgdD1GW2VdPVMoQS5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sVz1IJiYic3ltYm9sIj09dHlwZW9mIEEuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEF9LFk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09cSYmWShOLHQsciksYihlKSx0PVIodCwhMCksYihyKSxpKEYsdCk/KHIuZW51bWVyYWJsZT8oaShlLEkpJiZlW0ldW3RdJiYoZVtJXVt0XT0hMSkscj1TKHIse2VudW1lcmFibGU6dygwLCExKX0pKTooaShlLEkpfHx4KGUsSSx3KDEse30pKSxlW0ldW3RdPSEwKSxHKGUsdCxyKSk6eChlLHQscil9LHo9ZnVuY3Rpb24oZSx0KXtiKGUpO2Zvcih2YXIgcixuPXYodD1fKHQpKSxpPTAsbz1uLmxlbmd0aDtvPmk7KVkoZSxyPW5baSsrXSx0W3JdKTtyZXR1cm4gZX0sSj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P1MoZSk6eihTKGUpLHQpfSwkPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGU9UihlLCEwKSk7cmV0dXJuISh0aGlzPT09cSYmaShGLGUpJiYhaShOLGUpKSYmKCEodHx8IWkodGhpcyxlKXx8IWkoRixlKXx8aSh0aGlzLEkpJiZ0aGlzW0ldW2VdKXx8dCl9LFE9ZnVuY3Rpb24oZSx0KXtpZihlPV8oZSksdD1SKHQsITApLGUhPT1xfHwhaShGLHQpfHxpKE4sdCkpe3ZhciByPUwoZSx0KTtyZXR1cm4hcnx8IWkoRix0KXx8aShlLEkpJiZlW0ldW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sWD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1FKF8oZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoRix0PXJbbysrXSl8fHQ9PUl8fHQ9PXV8fG4ucHVzaCh0KTtyZXR1cm4gbn0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09cSxuPUUocj9OOl8oZSkpLG89W10scz0wO24ubGVuZ3RoPnM7KSFpKEYsdD1uW3MrK10pfHxyJiYhaShxLHQpfHxvLnB1c2goRlt0XSk7cmV0dXJuIG99OwovLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSkKSHx8KEE9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgQSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1xJiZ0LmNhbGwoTixyKSxpKHRoaXMsSSkmJmkodGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEcodGhpcyxlLHcoMSxyKSl9O3JldHVybiBvJiZLJiZHKHEsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShBLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxNLmY9WSxyKDUzKS5mPVAuZj1YLHIoNzEpLmY9JCxyKDgwKS5mPVosbyYmIXIoNDkpJiZhKHEsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwkLCEwKSx5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFYocChlKSl9KSxzKHMuRytzLlcrcy5GKiFILHtTeW1ib2w6QX0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOylwKGVlW3RlKytdKTtmb3IodmFyIHJlPWsocC5zdG9yZSksbmU9MDtyZS5sZW5ndGg+bmU7KWgocmVbbmUrK10pO3Mocy5TK3MuRiohSCwiU3ltYm9sIix7Ci8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KQpmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoQyxlKz0iIik/Q1tlXTpDW2VdPUEoZSl9LAovLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSkKa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBDKWlmKENbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtLPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtLPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Ci8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKY3JlYXRlOkosCi8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpkZWZpbmVQcm9wZXJ0eTpZLAovLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpkZWZpbmVQcm9wZXJ0aWVzOnosCi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkKZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlEsCi8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCmdldE93blByb3BlcnR5TmFtZXM6WCwKLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKQpnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Wn0pLAovLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSkKVSYmcyhzLlMrcy5GKighSHx8YyhmdW5jdGlvbigpe3ZhciBlPUEoKTsKLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge30KLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsCi8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzCnJldHVybiJbbnVsbF0iIT1EKFtlXSl8fCJ7fSIhPUQoe2E6ZX0pfHwie30iIT1EKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bZV0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspbi5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPXQ9blsxXSwobSh0KXx8dm9pZCAwIT09ZSkmJiFXKGUpKS8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWQKcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LEQuYXBwbHkoVSxuKX19KSwKLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KQpBLnByb3RvdHlwZVtqXXx8cigxOCkoQS5wcm90b3R5cGUsaixBLnByb3RvdHlwZS52YWx1ZU9mKSwKLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXQpsKEEsIlN5bWJvbCIpLAovLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddCmwoTWF0aCwiTWF0aCIsITApLAovLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXQpsKG4uSlNPTiwiSlNPTiIsITApfSwvKiAyMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9scwp2YXIgbj1yKDUwKSxpPXIoODApLG89cig3MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1pLmY7aWYocilmb3IodmFyIHMsYT1yKGUpLHU9by5mLGM9MDthLmxlbmd0aD5jOyl1LmNhbGwoZSxzPWFbYysrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LC8qIDIxNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCm4obi5TLCJPYmplY3QiLHtjcmVhdGU6cig1Mil9KX0sLyogMjE4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApOwovLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpuKG4uUytuLkYqIXIoMTApLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDExKS5mfSl9LC8qIDIxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjMgLyAxNS4yLjMuNyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpuKG4uUytuLkYqIXIoMTApLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0aWVzOnIoMTUxKX0pfSwvKiAyMjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApCnZhciBuPXIoMjQpLGk9cigyNSkuZjtyKDM0KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKG4oZSksdCl9fSl9LC8qIDIyMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKQp2YXIgbj1yKDE1KSxpPXIoMjYpO3IoMzQpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkobihlKSl9fSl9LC8qIDIyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKQp2YXIgbj1yKDE1KSxpPXIoNTApO3IoMzQpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogMjIzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKcigzNCkoImdldE93blByb3BlcnR5TmFtZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIHIoMTUyKS5mfSl9LC8qIDIyNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi41IE9iamVjdC5mcmVlemUoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJmcmVlemUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNyBPYmplY3Quc2VhbChPKQp2YXIgbj1yKDYpLGk9cig0Mikub25GcmVlemU7cigzNCkoInNlYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJwcmV2ZW50RXh0ZW5zaW9ucyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2UoaSh0KSk6dH19KX0sLyogMjI3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0Zyb3plbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiFuKHQpfHwhIWUmJmUodCl9fSl9LC8qIDIyOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xMyBPYmplY3QuaXNTZWFsZWQoTykKdmFyIG49cig2KTtyKDM0KSgiaXNTZWFsZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSwvKiAyMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuMTEgT2JqZWN0LmlzRXh0ZW5zaWJsZShPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0V4dGVuc2libGUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIW4odCkmJighZXx8ZSh0KSl9fSl9LC8qIDIzMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpCnZhciBuPXIoMCk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigxNTMpfSl9LC8qIDIzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xMCBPYmplY3QuaXModmFsdWUxLCB2YWx1ZTIpCnZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse2lzOnIoMjMyKX0pfSwvKiAyMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjkgU2FtZVZhbHVlKHgsIHkpCmUuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT1lJiZ0IT10fX0sLyogMjMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bykKdmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cigxMDYpLnNldH0pfSwvKiAyMzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCnZhciBuPXIoNzIpLGk9e307aVtyKDgpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsaSsiIiE9IltvYmplY3Qgel0iJiZyKDE5KShPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK24odGhpcykrIl0ifSwhMCl9LC8qIDIzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjIuMy4yIC8gMTUuMy40LjUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQodGhpc0FyZywgYXJncy4uLikKdmFyIG49cigwKTtuKG4uUCwiRnVuY3Rpb24iLHtiaW5kOnIoMTU0KX0pfSwvKiAyMzYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLmYsaT1GdW5jdGlvbi5wcm90b3R5cGUsbz0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLzsKLy8gMTkuMi40LjIgbmFtZQoibmFtZSJpbiBpfHxyKDEwKSYmbihpLCJuYW1lIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4oIiIrdGhpcykubWF0Y2gobylbMV19Y2F0Y2goZSl7cmV0dXJuIiJ9fX0pfSwvKiAyMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYpLGk9cigyNiksbz1yKDgpKCJoYXNJbnN0YW5jZSIpLHM9RnVuY3Rpb24ucHJvdG90eXBlOwovLyAxOS4yLjMuNiBGdW5jdGlvbi5wcm90b3R5cGVbQEBoYXNJbnN0YW5jZV0oVikKbyBpbiBzfHxyKDExKS5mKHMsbyx7dmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXN8fCFuKGUpKXJldHVybiExO2lmKCFuKHRoaXMucHJvdG90eXBlKSlyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM7Ci8vIGZvciBlbnZpcm9ubWVudCB3L28gbmF0aXZlIGBAQGhhc0luc3RhbmNlYCBsb2dpYyBlbm91Z2ggYGluc3RhbmNlb2ZgLCBidXQgYWRkIHRoaXM6CmZvcig7ZT1pKGUpOylpZih0aGlzLnByb3RvdHlwZT09PWUpcmV0dXJuITA7cmV0dXJuITF9fSl9LC8qIDIzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMTguMi41IHBhcnNlSW50KHN0cmluZywgcmFkaXgpCm4obi5HK24uRioocGFyc2VJbnQhPWkpLHtwYXJzZUludDppfSl9LC8qIDIzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU3KTsKLy8gMTguMi40IHBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uRytuLkYqKHBhcnNlRmxvYXQhPWkpLHtwYXJzZUZsb2F0Oml9KX0sLyogMjQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0KSxpPXIoMTcpLG89cigyOCkscz1yKDEwOCksYT1yKDMxKSx1PXIoNSksYz1yKDUzKS5mLGY9cigyNSkuZixsPXIoMTEpLmYsZD1yKDYyKS50cmltLHA9bi5OdW1iZXIseT1wLGg9cC5wcm90b3R5cGUsdj0iTnVtYmVyIj09byhyKDUyKShoKSksZz0idHJpbSJpbiBTdHJpbmcucHJvdG90eXBlLGI9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLCExKTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQubGVuZ3RoPjIpe3Q9Zz90LnRyaW0oKTpkKHQsMyk7dmFyIHIsbixpLG89dC5jaGFyQ29kZUF0KDApO2lmKDQzPT09b3x8NDU9PT1vKXtpZig4OD09PShyPXQuY2hhckNvZGVBdCgyKSl8fDEyMD09PXIpcmV0dXJuIE5hTn1lbHNlIGlmKDQ4PT09byl7c3dpdGNoKHQuY2hhckNvZGVBdCgxKSl7Y2FzZSA2NjpjYXNlIDk4Om49MixpPTQ5O2JyZWFrOy8vIGZhc3QgZXF1YWwgL14wYlswMV0rJC9pCmNhc2UgNzk6Y2FzZSAxMTE6bj04LGk9NTU7YnJlYWs7Ly8gZmFzdCBlcXVhbCAvXjBvWzAtN10rJC9pCmRlZmF1bHQ6cmV0dXJuK3R9Zm9yKHZhciBzLHU9dC5zbGljZSgyKSxjPTAsZj11Lmxlbmd0aDtjPGY7YysrKQovLyBwYXJzZUludCBwYXJzZXMgYSBzdHJpbmcgdG8gYSBmaXJzdCB1bmF2YWlsYWJsZSBzeW1ib2wKLy8gYnV0IFRvTnVtYmVyIHNob3VsZCByZXR1cm4gTmFOIGlmIGEgc3RyaW5nIGNvbnRhaW5zIHVuYXZhaWxhYmxlIHN5bWJvbHMKaWYoKHM9dS5jaGFyQ29kZUF0KGMpKTw0OHx8cz5pKXJldHVybiBOYU47cmV0dXJuIHBhcnNlSW50KHUsbil9fXJldHVybit0fTtpZighcCgiIDBvMSIpfHwhcCgiMGIxIil8fHAoIisweDEiKSl7cD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPDE/MDplLHI9dGhpcztyZXR1cm4gciBpbnN0YW5jZW9mIHAmJih2P3UoZnVuY3Rpb24oKXtoLnZhbHVlT2YuY2FsbChyKX0pOiJOdW1iZXIiIT1vKHIpKT9zKG5ldyB5KGIodCkpLHIscCk6Yih0KX07Zm9yKHZhciBtLF89cigxMCk/Yyh5KToiTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIscGFyc2VGbG9hdCxwYXJzZUludCxpc0ludGVnZXIiLnNwbGl0KCIsIiksUj0wO18ubGVuZ3RoPlI7UisrKWkoeSxtPV9bUl0pJiYhaShwLG0pJiZsKHAsbSxmKHksbSkpO3AucHJvdG90eXBlPWgsaC5jb25zdHJ1Y3Rvcj1wLHIoMTkpKG4sIk51bWJlciIscCl9fSwvKiAyNDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzMyksbz1yKDE1OCkscz1yKDEwOSksYT0xLi50b0ZpeGVkLHU9TWF0aC5mbG9vcixjPVswLDAsMCwwLDAsMF0sZj0iTnVtYmVyLnRvRml4ZWQ6IGluY29ycmVjdCBpbnZvY2F0aW9uISIsbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPXQ7KytyPDY7KW4rPWUqY1tyXSxjW3JdPW4lMWU3LG49dShuLzFlNyl9LGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTYscj0wOy0tdD49MDspcis9Y1t0XSxjW3RdPXUoci9lKSxyPXIlZSoxZTd9LHA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Nix0PSIiOy0tZT49MDspaWYoIiIhPT10fHwwPT09ZXx8MCE9PWNbZV0pe3ZhciByPVN0cmluZyhjW2VdKTt0PSIiPT09dD9yOnQrcy5jYWxsKCIwIiw3LXIubGVuZ3RoKStyfXJldHVybiB0fSx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMD09PXQ/cjp0JTI9PTE/eShlLHQtMSxyKmUpOnkoZSplLHQvMixyKX0saD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPWU7cj49NDA5NjspdCs9MTIsci89NDA5Njtmb3IoO3I+PTI7KXQrPTEsci89MjtyZXR1cm4gdH07bihuLlArbi5GKighIWEmJigiMC4wMDAiIT09OGUtNS50b0ZpeGVkKDMpfHwiMSIhPT0uOS50b0ZpeGVkKDApfHwiMS4yNSIhPT0xLjI1NS50b0ZpeGVkKDIpfHwiMTAwMDAwMDAwMDAwMDAwMDEyOCIhPT0oMHhkZTBiNmIzYTc2NDAwODApLnRvRml4ZWQoMCkpfHwhcig1KShmdW5jdGlvbigpewovLyBWOCB+IEFuZHJvaWQgNC4zLQphLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b0ZpeGVkOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHU9byh0aGlzLGYpLGM9aShlKSx2PSIiLGc9IjAiO2lmKGM8MHx8Yz4yMCl0aHJvdyBSYW5nZUVycm9yKGYpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKHUhPXUpcmV0dXJuIk5hTiI7aWYodTw9LTFlMjF8fHU+PTFlMjEpcmV0dXJuIFN0cmluZyh1KTtpZih1PDAmJih2PSItIix1PS11KSx1PjFlLTIxKWlmKHQ9aCh1KnkoMiw2OSwxKSktNjkscj10PDA/dSp5KDIsLXQsMSk6dS95KDIsdCwxKSxyKj00NTAzNTk5NjI3MzcwNDk2LCh0PTUyLXQpPjApe2ZvcihsKDAsciksbj1jO24+PTc7KWwoMWU3LDApLG4tPTc7Zm9yKGwoeSgxMCxuLDEpLDApLG49dC0xO24+PTIzOylkKDE8PDIzKSxuLT0yMztkKDE8PG4pLGwoMSwxKSxkKDIpLGc9cCgpfWVsc2UgbCgwLHIpLGwoMTw8LXQsMCksZz1wKCkrcy5jYWxsKCIwIixjKTtyZXR1cm4gYz4wPyhhPWcubGVuZ3RoLGc9disoYTw9Yz8iMC4iK3MuY2FsbCgiMCIsYy1hKStnOmcuc2xpY2UoMCxhLWMpKyIuIitnLnNsaWNlKGEtYykpKTpnPXYrZyxnfX0pfSwvKiAyNDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cig1KSxvPXIoMTU4KSxzPTEuLnRvUHJlY2lzaW9uO24obi5QK24uRiooaShmdW5jdGlvbigpewovLyBJRTctCnJldHVybiIxIiE9PXMuY2FsbCgxLHZvaWQgMCl9KXx8IWkoZnVuY3Rpb24oKXsKLy8gVjggfiBBbmRyb2lkIDQuMy0Kcy5jYWxsKHt9KX0pKSwiTnVtYmVyIix7dG9QcmVjaXNpb246ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzLCJOdW1iZXIjdG9QcmVjaXNpb246IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiB2b2lkIDA9PT1lP3MuY2FsbCh0KTpzLmNhbGwodCxlKX19KX0sLyogMjQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEgTnVtYmVyLkVQU0lMT04KdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7RVBTSUxPTjpNYXRoLnBvdygyLC01Mil9KX0sLyogMjQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjIgTnVtYmVyLmlzRmluaXRlKG51bWJlcikKdmFyIG49cigwKSxpPXIoNCkuaXNGaW5pdGU7bihuLlMsIk51bWJlciIse2lzRmluaXRlOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmaShlKX19KX0sLyogMjQ1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDE1OSl9KX0sLyogMjQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjQgTnVtYmVyLmlzTmFOKG51bWJlcikKdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7aXNOYU46ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGUhPWV9fSl9LC8qIDI0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjEuMi41IE51bWJlci5pc1NhZmVJbnRlZ2VyKG51bWJlcikKdmFyIG49cigwKSxpPXIoMTU5KSxvPU1hdGguYWJzO24obi5TLCJOdW1iZXIiLHtpc1NhZmVJbnRlZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiZvKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pfSwvKiAyNDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4xLjIuNiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUgp2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtNQVhfU0FGRV9JTlRFR0VSOjkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjQ5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse01JTl9TQUZFX0lOVEVHRVI6LTkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxNTcpOwovLyAyMC4xLjIuMTIgTnVtYmVyLnBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUZsb2F0IT1pKSwiTnVtYmVyIix7cGFyc2VGbG9hdDppfSl9LC8qIDI1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMjAuMS4yLjEzIE51bWJlci5wYXJzZUludChzdHJpbmcsIHJhZGl4KQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUludCE9aSksIk51bWJlciIse3BhcnNlSW50Oml9KX0sLyogMjUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjMgTWF0aC5hY29zaCh4KQp2YXIgbj1yKDApLGk9cigxNjApLG89TWF0aC5zcXJ0LHM9TWF0aC5hY29zaDtuKG4uUytuLkYqIShzJiY3MTA9PU1hdGguZmxvb3IocyhOdW1iZXIuTUFYX1ZBTFVFKSkmJnMoMS8wKT09MS8wKSwiTWF0aCIse2Fjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihlPStlKTwxP05hTjplPjk0OTA2MjY1LjYyNDI1MTU2P01hdGgubG9nKGUpK01hdGguTE4yOmkoZS0xK28oZS0xKSpvKGUrMSkpfX0pfSwvKiAyNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGFzaW5oKGUpe3JldHVybiBpc0Zpbml0ZShlPStlKSYmMCE9ZT9lPDA/LWFzaW5oKC1lKTpNYXRoLmxvZyhlK01hdGguc3FydChlKmUrMSkpOmV9Ci8vIDIwLjIuMi41IE1hdGguYXNpbmgoeCkKdmFyIG49cigwKSxpPU1hdGguYXNpbmg7Ci8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hc2luaCgwKSAtPiAtMApuKG4uUytuLkYqIShpJiYxL2koMCk+MCksIk1hdGgiLHthc2luaDphc2luaH0pfSwvKiAyNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuNyBNYXRoLmF0YW5oKHgpCnZhciBuPXIoMCksaT1NYXRoLmF0YW5oOwovLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYXRhbmgoLTApIC0+IDAKbihuLlMrbi5GKiEoaSYmMS9pKC0wKTwwKSwiTWF0aCIse2F0YW5oOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSk/ZTpNYXRoLmxvZygoMStlKS8oMS1lKSkvMn19KX0sLyogMjU1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjkgTWF0aC5jYnJ0KHgpCnZhciBuPXIoMCksaT1yKDExMCk7bihuLlMsIk1hdGgiLHtjYnJ0OmZ1bmN0aW9uKGUpe3JldHVybiBpKGU9K2UpKk1hdGgucG93KE1hdGguYWJzKGUpLDEvMyl9fSl9LC8qIDI1NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xMSBNYXRoLmNsejMyKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbHozMjpmdW5jdGlvbihlKXtyZXR1cm4oZT4+Pj0wKT8zMS1NYXRoLmZsb29yKE1hdGgubG9nKGUrLjUpKk1hdGguTE9HMkUpOjMyfX0pfSwvKiAyNTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMTIgTWF0aC5jb3NoKHgpCnZhciBuPXIoMCksaT1NYXRoLmV4cDtuKG4uUywiTWF0aCIse2Nvc2g6ZnVuY3Rpb24oZSl7cmV0dXJuKGkoZT0rZSkraSgtZSkpLzJ9fSl9LC8qIDI1OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciBuPXIoMCksaT1yKDExMSk7bihuLlMrbi5GKihpIT1NYXRoLmV4cG0xKSwiTWF0aCIse2V4cG0xOml9KX0sLyogMjU5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE2IE1hdGguZnJvdW5kKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtmcm91bmQ6cigxNjEpfSl9LC8qIDI2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNyBNYXRoLmh5cG90KFt2YWx1ZTFbLCB2YWx1ZTJbLCDigKYgXV1dKQp2YXIgbj1yKDApLGk9TWF0aC5hYnM7bihuLlMsIk1hdGgiLHtoeXBvdDpmdW5jdGlvbihlLHQpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciByLG4sbz0wLHM9MCxhPWFyZ3VtZW50cy5sZW5ndGgsdT0wO3M8YTspcj1pKGFyZ3VtZW50c1tzKytdKSx1PHI/KG49dS9yLG89bypuKm4rMSx1PXIpOnI+MD8obj1yL3Usbys9bipuKTpvKz1yO3JldHVybiB1PT09MS8wPzEvMDp1Kk1hdGguc3FydChvKX19KX0sLyogMjYxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE4IE1hdGguaW11bCh4LCB5KQp2YXIgbj1yKDApLGk9TWF0aC5pbXVsOwovLyBzb21lIFdlYktpdCB2ZXJzaW9ucyBmYWlscyB3aXRoIGJpZyBudW1iZXJzLCBzb21lIGhhcyB3cm9uZyBhcml0eQpuKG4uUytuLkYqcig1KShmdW5jdGlvbigpe3JldHVybi01IT1pKDQyOTQ5NjcyOTUsNSl8fDIhPWkubGVuZ3RofSksIk1hdGgiLHtpbXVsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxpPTY1NTM1JnIsbz02NTUzNSZuO3JldHVybiAwfGkqbysoKDY1NTM1JnI+Pj4xNikqbytpKig2NTUzNSZuPj4+MTYpPDwxNj4+PjApfX0pfSwvKiAyNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMTA6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpKk1hdGguTE9HMTBFfX0pfSwvKiAyNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMXA6cigxNjApfSl9LC8qIDI2NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4yMiBNYXRoLmxvZzIoeCkKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2xvZzI6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfX0pfSwvKiAyNjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduOnIoMTEwKX0pfSwvKiAyNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzAgTWF0aC5zaW5oKHgpCnZhciBuPXIoMCksaT1yKDExMSksbz1NYXRoLmV4cDsKLy8gVjggbmVhciBDaHJvbWl1bSAzOCBoYXMgYSBwcm9ibGVtIHdpdGggdmVyeSBzbWFsbCBudW1iZXJzCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuLTJlLTE3IT0hTWF0aC5zaW5oKC0yZS0xNyl9KSwiTWF0aCIse3Npbmg6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU9K2UpPDE/KGkoZSktaSgtZSkpLzI6KG8oZS0xKS1vKC1lLTEpKSooTWF0aC5FLzIpfX0pfSwvKiAyNjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzMgTWF0aC50YW5oKHgpCnZhciBuPXIoMCksaT1yKDExMSksbz1NYXRoLmV4cDtuKG4uUywiTWF0aCIse3Rhbmg6ZnVuY3Rpb24oZSl7dmFyIHQ9aShlPStlKSxyPWkoLWUpO3JldHVybiB0PT0xLzA/MTpyPT0xLzA/LTE6KHQtcikvKG8oZSkrbygtZSkpfX0pfSwvKiAyNjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzQgTWF0aC50cnVuYyh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dHJ1bmM6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+MD9NYXRoLmZsb29yOk1hdGguY2VpbCkoZSl9fSl9LC8qIDI2OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoNTEpLG89U3RyaW5nLmZyb21DaGFyQ29kZSxzPVN0cmluZy5mcm9tQ29kZVBvaW50OwovLyBsZW5ndGggc2hvdWxkIGJlIDEsIG9sZCBGRiBwcm9ibGVtCm4obi5TK24uRiooISFzJiYxIT1zLmxlbmd0aCksIlN0cmluZyIsewovLyAyMS4xLjIuMiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKQpmcm9tQ29kZVBvaW50OmZ1bmN0aW9uKGUpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciB0LHI9W10sbj1hcmd1bWVudHMubGVuZ3RoLHM9MDtuPnM7KXtpZih0PSthcmd1bWVudHNbcysrXSxpKHQsMTExNDExMSkhPT10KXRocm93IFJhbmdlRXJyb3IodCsiIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQiKTtyLnB1c2godDw2NTUzNj9vKHQpOm8oNTUyOTYrKCh0LT02NTUzNik+PjEwKSx0JTEwMjQrNTYzMjApKX1yZXR1cm4gci5qb2luKCIiKX19KX0sLyogMjcwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigyNCksbz1yKDEyKTtuKG4uUywiU3RyaW5nIix7Ci8vIDIxLjEuMi40IFN0cmluZy5yYXcoY2FsbFNpdGUsIC4uLnN1YnN0aXR1dGlvbnMpCnJhdzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9aShlLnJhdykscj1vKHQubGVuZ3RoKSxuPWFyZ3VtZW50cy5sZW5ndGgscz1bXSxhPTA7cj5hOylzLnB1c2goU3RyaW5nKHRbYSsrXSkpLGE8biYmcy5wdXNoKFN0cmluZyhhcmd1bWVudHNbYV0pKTtyZXR1cm4gcy5qb2luKCIiKX19KX0sLyogMjcxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy4yNSBTdHJpbmcucHJvdG90eXBlLnRyaW0oKQpyKDYyKSgidHJpbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywzKX19KX0sLyogMjcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMTIpKCEwKTsKLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKQpyKDExMykoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLC8vIHRhcmdldAp0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LC8qIDI3MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExMikoITEpO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjMgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdChwb3MpCmNvZGVQb2ludEF0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSl9fSl9LC8qIDI3NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuNiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKHNlYXJjaFN0cmluZyBbLCBlbmRQb3NpdGlvbl0pCnZhciBuPXIoMCksaT1yKDEyKSxvPXIoMTE1KSxzPSIiLmVuZHNXaXRoO24obi5QK24uRipyKDExNikoImVuZHNXaXRoIiksIlN0cmluZyIse2VuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyxlLCJlbmRzV2l0aCIpLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1pKHQubGVuZ3RoKSxhPXZvaWQgMD09PXI/bjpNYXRoLm1pbihpKHIpLG4pLHU9U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LHUsYSk6dC5zbGljZShhLXUubGVuZ3RoLGEpPT09dX19KX0sLyogMjc1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy43IFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApCnZhciBuPXIoMCksaT1yKDExNSk7bihuLlArbi5GKnIoMTE2KSgiaW5jbHVkZXMiKSwiU3RyaW5nIix7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+aSh0aGlzLGUsImluY2x1ZGVzIikuaW5kZXhPZihlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sLyogMjc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KQpyZXBlYXQ6cigxMDkpfSl9LC8qIDI3NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuMTggU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdKQp2YXIgbj1yKDApLGk9cigxMiksbz1yKDExNSkscz0iIi5zdGFydHNXaXRoO24obi5QK24uRipyKDExNikoInN0YXJ0c1dpdGgiKSwiU3RyaW5nIix7c3RhcnRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMsZSwic3RhcnRzV2l0aCIpLHI9aShNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCx0Lmxlbmd0aCkpLG49U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LG4scik6dC5zbGljZShyLHIrbi5sZW5ndGgpPT09bn19KX0sLyogMjc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjIgU3RyaW5nLnByb3RvdHlwZS5hbmNob3IobmFtZSkKcigyMCkoImFuY2hvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImEiLCJuYW1lIix0KX19KX0sLyogMjc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjMgU3RyaW5nLnByb3RvdHlwZS5iaWcoKQpyKDIwKSgiYmlnIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiaWciLCIiLCIiKX19KX0sLyogMjgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjQgU3RyaW5nLnByb3RvdHlwZS5ibGluaygpCnIoMjApKCJibGluayIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywiYmxpbmsiLCIiLCIiKX19KX0sLyogMjgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjUgU3RyaW5nLnByb3RvdHlwZS5ib2xkKCkKcigyMCkoImJvbGQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImIiLCIiLCIiKX19KX0sLyogMjgyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjYgU3RyaW5nLnByb3RvdHlwZS5maXhlZCgpCnIoMjApKCJmaXhlZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywidHQiLCIiLCIiKX19KX0sLyogMjgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjcgU3RyaW5nLnByb3RvdHlwZS5mb250Y29sb3IoY29sb3IpCnIoMjApKCJmb250Y29sb3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJmb250IiwiY29sb3IiLHQpfX0pfSwvKiAyODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuOCBTdHJpbmcucHJvdG90eXBlLmZvbnRzaXplKHNpemUpCnIoMjApKCJmb250c2l6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJzaXplIix0KX19KX0sLyogMjg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjkgU3RyaW5nLnByb3RvdHlwZS5pdGFsaWNzKCkKcigyMCkoIml0YWxpY3MiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImkiLCIiLCIiKX19KX0sLyogMjg2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEwIFN0cmluZy5wcm90b3R5cGUubGluayh1cmwpCnIoMjApKCJsaW5rIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiYSIsImhyZWYiLHQpfX0pfSwvKiAyODcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTEgU3RyaW5nLnByb3RvdHlwZS5zbWFsbCgpCnIoMjApKCJzbWFsbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic21hbGwiLCIiLCIiKX19KX0sLyogMjg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEyIFN0cmluZy5wcm90b3R5cGUuc3RyaWtlKCkKcigyMCkoInN0cmlrZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic3RyaWtlIiwiIiwiIil9fSl9LC8qIDI4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBCLjIuMy4xMyBTdHJpbmcucHJvdG90eXBlLnN1YigpCnIoMjApKCJzdWIiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1YiIsIiIsIiIpfX0pfSwvKiAyOTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTQgU3RyaW5nLnByb3RvdHlwZS5zdXAoKQpyKDIwKSgic3VwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdXAiLCIiLCIiKX19KX0sLyogMjkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy4zLjEgLyAxNS45LjQuNCBEYXRlLm5vdygpCnZhciBuPXIoMCk7bihuLlMsIkRhdGUiLHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KX0sLyogMjkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigzMSk7bihuLlArbi5GKnIoNSkoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW5ldyBEYXRlKE5hTikudG9KU09OKCl8fDEhPT1EYXRlLnByb3RvdHlwZS50b0pTT04uY2FsbCh7dG9JU09TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMX19KX0pLCJEYXRlIix7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwp0b0pTT046ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPW8odCk7cmV0dXJuIm51bWJlciIhPXR5cGVvZiByfHxpc0Zpbml0ZShyKT90LnRvSVNPU3RyaW5nKCk6bnVsbH19KX0sLyogMjkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy40LjM2IC8gMTUuOS41LjQzIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKCkKdmFyIG49cigwKSxpPXIoMjk0KTsKLy8gUGhhbnRvbUpTIC8gb2xkIFdlYktpdCBoYXMgYSBicm9rZW4gaW1wbGVtZW50YXRpb25zCm4obi5QK24uRiooRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmchPT1pKSwiRGF0ZSIse3RvSVNPU3RyaW5nOml9KX0sLyogMjk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIwLjMuNC4zNiAvIDE1LjkuNS40MyBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZygpCnZhciBuPXIoNSksaT1EYXRlLnByb3RvdHlwZS5nZXRUaW1lLG89RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcscz1mdW5jdGlvbihlKXtyZXR1cm4gZT45P2U6IjAiK2V9OwovLyBQaGFudG9tSlMgLyBvbGQgV2ViS2l0IGhhcyBhIGJyb2tlbiBpbXBsZW1lbnRhdGlvbnMKZS5leHBvcnRzPW4oZnVuY3Rpb24oKXtyZXR1cm4iMDM4NS0wNy0yNVQwNzowNjozOS45OTlaIiE9by5jYWxsKG5ldyBEYXRlKC01ZTEzLTEpKX0pfHwhbihmdW5jdGlvbigpe28uY2FsbChuZXcgRGF0ZShOYU4pKX0pP2Z1bmN0aW9uKCl7aWYoIWlzRmluaXRlKGkuY2FsbCh0aGlzKSkpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCB0aW1lIHZhbHVlIik7dmFyIGU9dGhpcyx0PWUuZ2V0VVRDRnVsbFllYXIoKSxyPWUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksbj10PDA/Ii0iOnQ+OTk5OT8iKyI6IiI7cmV0dXJuIG4rKCIwMDAwMCIrTWF0aC5hYnModCkpLnNsaWNlKG4/LTY6LTQpKyItIitzKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIrcyhlLmdldFVUQ0RhdGUoKSkrIlQiK3MoZS5nZXRVVENIb3VycygpKSsiOiIrcyhlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK3MoZS5nZXRVVENTZWNvbmRzKCkpKyIuIisocj45OT9yOiIwIitzKHIpKSsiWiJ9Om99LC8qIDI5NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49RGF0ZS5wcm90b3R5cGUsaT1uLnRvU3RyaW5nLG89bi5nZXRUaW1lO25ldyBEYXRlKE5hTikrIiIhPSJJbnZhbGlkIERhdGUiJiZyKDE5KShuLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwodGhpcyk7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT1lP2kuY2FsbCh0aGlzKToiSW52YWxpZCBEYXRlIn0pfSwvKiAyOTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOCkoInRvUHJpbWl0aXZlIiksaT1EYXRlLnByb3RvdHlwZTtuIGluIGl8fHIoMTgpKGksbixyKDI5NykpfSwvKiAyOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMpLGk9cigzMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT09ZSYmIm51bWJlciIhPT1lJiYiZGVmYXVsdCIhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0IGhpbnQiKTtyZXR1cm4gaShuKHRoaXMpLCJudW1iZXIiIT1lKX19LC8qIDI5OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIyLjEuMi4yIC8gMTUuNC4zLjIgQXJyYXkuaXNBcnJheShhcmcpCnZhciBuPXIoMCk7bihuLlMsIkFycmF5Iix7aXNBcnJheTpyKDgxKX0pfSwvKiAyOTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI3KSxpPXIoMCksbz1yKDE1KSxzPXIoMTYyKSxhPXIoMTE3KSx1PXIoMTIpLGM9cigxMTgpLGY9cigxMTkpO2koaS5TK2kuRiohcig4MykoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIsewovLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCmZyb206ZnVuY3Rpb24oZSl7dmFyIHQscixpLGwsZD1vKGUpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx5PWFyZ3VtZW50cy5sZW5ndGgsaD15PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PWgsZz0wLGI9ZihkKTsKLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlCmlmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHxwPT1BcnJheSYmYShiKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IobD1iLmNhbGwoZCkscj1uZXcgcDshKGk9bC5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/cyhsLGgsW2kudmFsdWUsZ10sITApOmkudmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LC8qIDMwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExOCk7Ci8vIFdlYktpdCBBcnJheS5vZiBpc24ndCBnZW5lcmljCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKEFycmF5Lm9mLmNhbGwoRilpbnN0YW5jZW9mIEYpfSksIkFycmF5Iix7Ci8vIDIyLjEuMi4zIEFycmF5Lm9mKCAuLi5pdGVtcykKb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSkodCk7dD5lOylpKHIsZSxhcmd1bWVudHNbZSsrXSk7cmV0dXJuIHIubGVuZ3RoPXQscn19KX0sLyogMzAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUuam9pbihzZXBhcmF0b3IpCnZhciBuPXIoMCksaT1yKDI0KSxvPVtdLmpvaW47Ci8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBzdHJpbmdzCm4obi5QK24uRioocig3MCkhPU9iamVjdHx8IXIoMjkpKG8pKSwiQXJyYXkiLHtqb2luOmZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoaSh0aGlzKSx2b2lkIDA9PT1lPyIsIjplKX19KX0sLyogMzAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTA1KSxvPXIoMjgpLHM9cig1MSksYT1yKDEyKSx1PVtdLnNsaWNlOwovLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzCm4obi5QK24uRipyKDUpKGZ1bmN0aW9uKCl7aSYmdS5jYWxsKGkpfSksIkFycmF5Iix7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hKHRoaXMubGVuZ3RoKSxuPW8odGhpcyk7aWYodD12b2lkIDA9PT10P3I6dCwiQXJyYXkiPT1uKXJldHVybiB1LmNhbGwodGhpcyxlLHQpO2Zvcih2YXIgaT1zKGUsciksYz1zKHQsciksZj1hKGMtaSksbD1uZXcgQXJyYXkoZiksZD0wO2Q8ZjtkKyspbFtkXT0iU3RyaW5nIj09bj90aGlzLmNoYXJBdChpK2QpOnRoaXNbaStkXTtyZXR1cm4gbH19KX0sLyogMzAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYpLG89cigxNSkscz1yKDUpLGE9W10uc29ydCx1PVsxLDIsM107bihuLlArbi5GKihzKGZ1bmN0aW9uKCl7Ci8vIElFOC0KdS5zb3J0KHZvaWQgMCl9KXx8IXMoZnVuY3Rpb24oKXsKLy8gVjggYnVnCnUuc29ydChudWxsKX0pfHwhcigyOSkoYSkpLCJBcnJheSIsewovLyAyMi4xLjMuMjUgQXJyYXkucHJvdG90eXBlLnNvcnQoY29tcGFyZWZuKQpzb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2EuY2FsbChvKHRoaXMpKTphLmNhbGwobyh0aGlzKSxpKGUpKX19KX0sLyogMzA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMzUpKDApLG89cigyOSkoW10uZm9yRWFjaCwhMCk7bihuLlArbi5GKiFvLCJBcnJheSIsewovLyAyMi4xLjMuMTAgLyAxNS40LjQuMTggQXJyYXkucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sLyogMzA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cig4MSksbz1yKDgpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0OwovLyBjcm9zcy1yZWFsbSBmYWxsYmFjawpyZXR1cm4gaShlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2YgdHx8dCE9PUFycmF5JiYhaSh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksbih0KSYmbnVsbD09PSh0PXRbb10pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSwvKiAzMDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMSk7bihuLlArbi5GKiFyKDI5KShbXS5tYXAsITApLCJBcnJheSIsewovLyAyMi4xLjMuMTUgLyAxNS40LjQuMTkgQXJyYXkucHJvdG90eXBlLm1hcChjYWxsYmFja2ZuIFssIHRoaXNBcmddKQptYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSgyKTtuKG4uUCtuLkYqIXIoMjkpKFtdLmZpbHRlciwhMCksIkFycmF5Iix7Ci8vIDIyLjEuMy43IC8gMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIoY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMyk7bihuLlArbi5GKiFyKDI5KShbXS5zb21lLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjIzIC8gMTUuNC40LjE3IEFycmF5LnByb3RvdHlwZS5zb21lKGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCnNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSg0KTtuKG4uUCtuLkYqIXIoMjkpKFtdLmV2ZXJ5LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjUgLyAxNS40LjQuMTYgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCmV2ZXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNjMpO24obi5QK24uRiohcigyOSkoW10ucmVkdWNlLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE4IC8gMTUuNC40LjIxIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UoY2FsbGJhY2tmbiBbLCBpbml0aWFsVmFsdWVdKQpyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCExKX19KX0sLyogMzExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYzKTtuKG4uUCtuLkYqIXIoMjkpKFtdLnJlZHVjZVJpZ2h0LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE5IC8gMTUuNC40LjIyIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZV0pCnJlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50c1sxXSwhMCl9fSl9LC8qIDMxMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDc5KSghMSksbz1bXS5pbmRleE9mLHM9ISFvJiYxL1sxXS5pbmRleE9mKDEsLTApPDA7bihuLlArbi5GKihzfHwhcigyOSkobykpLCJBcnJheSIsewovLyAyMi4xLjMuMTEgLyAxNS40LjQuMTQgQXJyYXkucHJvdG90eXBlLmluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQppbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBzP28uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOmkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMxMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDI0KSxvPXIoMzMpLHM9cigxMiksYT1bXS5sYXN0SW5kZXhPZix1PSEhYSYmMS9bMV0ubGFzdEluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHV8fCFyKDI5KShhKSksIkFycmF5Iix7Ci8vIDIyLjEuMy4xNCAvIDE1LjQuNC4xNSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQpsYXN0SW5kZXhPZjpmdW5jdGlvbihlKXsKLy8gY29udmVydCAtMCB0byArMAppZih1KXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDt2YXIgdD1pKHRoaXMpLHI9cyh0Lmxlbmd0aCksbj1yLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TWF0aC5taW4obixvKGFyZ3VtZW50c1sxXSkpKSxuPDAmJihuPXIrbik7bj49MDtuLS0paWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbnx8MDtyZXR1cm4tMX19KX0sLyogMzE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjIuMS4zLjMgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCwgZW5kID0gdGhpcy5sZW5ndGgpCnZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7Y29weVdpdGhpbjpyKDE2NCl9KSxyKDQzKSgiY29weVdpdGhpbiIpfSwvKiAzMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigwKTtuKG4uUCwiQXJyYXkiLHtmaWxsOnIoMTIxKX0pLHIoNDMpKCJmaWxsIil9LC8qIDMxNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuOCBBcnJheS5wcm90b3R5cGUuZmluZChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg1KSxvPSEwOwovLyBTaG91bGRuJ3Qgc2tpcCBob2xlcwoiZmluZCJpbltdJiZBcnJheSgxKS5maW5kKGZ1bmN0aW9uKCl7bz0hMX0pLG4obi5QK24uRipvLCJBcnJheSIse2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxyKDQzKSgiZmluZCIpfSwvKiAzMTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjIuMS4zLjkgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg2KSxvPSJmaW5kSW5kZXgiLHM9ITA7Ci8vIFNob3VsZG4ndCBza2lwIGhvbGVzCm8gaW5bXSYmQXJyYXkoMSlbb10oZnVuY3Rpb24oKXtzPSExfSksbihuLlArbi5GKnMsIkFycmF5Iix7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0Mykobyl9LC8qIDMxOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig1NCkoIkFycmF5Iil9LC8qIDMxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMTA4KSxvPXIoMTEpLmYscz1yKDUzKS5mLGE9cig4MiksdT1yKDg0KSxjPW4uUmVnRXhwLGY9YyxsPWMucHJvdG90eXBlLGQ9L2EvZyxwPS9hL2cseT1uZXcgYyhkKSE9PWQ7aWYocigxMCkmJigheXx8cig1KShmdW5jdGlvbigpewovLyBSZWdFeHAgY29uc3RydWN0b3IgY2FuIGFsdGVyIGZsYWdzIGFuZCBJc1JlZ0V4cCB3b3JrcyBjb3JyZWN0IHdpdGggQEBtYXRjaApyZXR1cm4gcFtyKDgpKCJtYXRjaCIpXT0hMSxjKGQpIT1kfHxjKHApPT1wfHwiL2EvaSIhPWMoZCwiaSIpfSkpKXtjPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyBpbnN0YW5jZW9mIGMsbj1hKGUpLG89dm9pZCAwPT09dDtyZXR1cm4hciYmbiYmZS5jb25zdHJ1Y3Rvcj09PWMmJm8/ZTppKHk/bmV3IGYobiYmIW8/ZS5zb3VyY2U6ZSx0KTpmKChuPWUgaW5zdGFuY2VvZiBjKT9lLnNvdXJjZTplLG4mJm8/dS5jYWxsKGUpOnQpLHI/dGhpczpsLGMpfTtmb3IodmFyIGg9cyhmKSx2PTA7aC5sZW5ndGg+djspIWZ1bmN0aW9uKGUpe2UgaW4gY3x8byhjLGUse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZltlXX0sc2V0OmZ1bmN0aW9uKHQpe2ZbZV09dH19KX0oaFt2KytdKTtsLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGU9bCxyKDE5KShuLCJSZWdFeHAiLGMpfXIoNTQpKCJSZWdFeHAiKX0sLyogMzIwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigxNjYpO3ZhciBuPXIoMyksaT1yKDg0KSxvPXIoMTApLHM9Ly4vLnRvU3RyaW5nLGE9ZnVuY3Rpb24oZSl7cigxOSkoUmVnRXhwLnByb3RvdHlwZSwidG9TdHJpbmciLGUsITApfTsKLy8gMjEuMi41LjE0IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcoKQpyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIi9hL2IiIT1zLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KT9hKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKTtyZXR1cm4iLyIuY29uY2F0KGUuc291cmNlLCIvIiwiZmxhZ3MiaW4gZT9lLmZsYWdzOiFvJiZlIGluc3RhbmNlb2YgUmVnRXhwP2kuY2FsbChlKTp2b2lkIDApfSk6InRvU3RyaW5nIiE9cy5uYW1lJiZhKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0pfSwvKiAzMjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBAQG1hdGNoIGxvZ2ljCnIoODUpKCJtYXRjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xMSBTdHJpbmcucHJvdG90eXBlLm1hdGNoKHJlZ2V4cCkKcmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLGk9dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1pP2kuY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sLyogMzIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEByZXBsYWNlIGxvZ2ljCnIoODUpKCJyZXBsYWNlIiwyLGZ1bmN0aW9uKGUsdCxyKXsKLy8gMjEuMS4zLjE0IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKQpyZXR1cm5bZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIG89ZSh0aGlzKSxzPXZvaWQgMD09bj92b2lkIDA6blt0XTtyZXR1cm4gdm9pZCAwIT09cz9zLmNhbGwobixvLGkpOnIuY2FsbChTdHJpbmcobyksbixpKX0scl19KX0sLyogMzIzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEBzZWFyY2ggbG9naWMKcig4NSkoInNlYXJjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xNSBTdHJpbmcucHJvdG90eXBlLnNlYXJjaChyZWdleHApCnJldHVybltmdW5jdGlvbihyKXsidXNlIHN0cmljdCI7dmFyIG49ZSh0aGlzKSxpPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09aT9pLmNhbGwocixuKTpuZXcgUmVnRXhwKHIpW3RdKFN0cmluZyhuKSl9LHJdfSl9LC8qIDMyNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIEBAc3BsaXQgbG9naWMKcig4NSkoInNwbGl0IiwyLGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9cig4Miksbz1uLHM9W10ucHVzaCxhPSJsZW5ndGgiO2lmKCJjIj09ImFiYmMiLnNwbGl0KC8oYikqLylbMV18fDQhPSJ0ZXN0Ii5zcGxpdCgvKD86KS8sLTEpW2FdfHwyIT0iYWIiLnNwbGl0KC8oPzphYikqLylbYV18fDQhPSIuIi5zcGxpdCgvKC4/KSguPykvKVthXXx8Ii4iLnNwbGl0KC8oKSgpLylbYV0+MXx8IiIuc3BsaXQoLy4/LylbYV0pe3ZhciB1PXZvaWQgMD09PS8oKT8/Ly5leGVjKCIiKVsxXTsvLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cAovLyBiYXNlZCBvbiBlczUtc2hpbSBpbXBsZW1lbnRhdGlvbiwgbmVlZCB0byByZXdvcmsgaXQKbj1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyh0aGlzKTtpZih2b2lkIDA9PT1lJiYwPT09dClyZXR1cm5bXTsKLy8gSWYgYHNlcGFyYXRvcmAgaXMgbm90IGEgcmVnZXgsIHVzZSBuYXRpdmUgc3BsaXQKaWYoIWkoZSkpcmV0dXJuIG8uY2FsbChyLGUsdCk7dmFyIG4sYyxmLGwsZCxwPVtdLHk9KGUuaWdub3JlQ2FzZT8iaSI6IiIpKyhlLm11bHRpbGluZT8ibSI6IiIpKyhlLnVuaWNvZGU/InUiOiIiKSsoZS5zdGlja3k/InkiOiIiKSxoPTAsdj12b2lkIDA9PT10PzQyOTQ5NjcyOTU6dD4+PjAsZz1uZXcgUmVnRXhwKGUuc291cmNlLHkrImciKTtmb3IoCi8vIERvZXNuJ3QgbmVlZCBmbGFncyBneSwgYnV0IHRoZXkgZG9uJ3QgaHVydAp1fHwobj1uZXcgUmVnRXhwKCJeIitnLnNvdXJjZSsiJCg/IVxccykiLHkpKTsoYz1nLmV4ZWMocikpJiYhKCgKLy8gYHNlcGFyYXRvckNvcHkubGFzdEluZGV4YCBpcyBub3QgcmVsaWFibGUgY3Jvc3MtYnJvd3NlcgpmPWMuaW5kZXgrY1swXVthXSk+aCYmKHAucHVzaChyLnNsaWNlKGgsYy5pbmRleCkpLAovLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYCBmb3IgTlBDRwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jCiF1JiZjW2FdPjEmJmNbMF0ucmVwbGFjZShuLGZ1bmN0aW9uKCl7Zm9yKGQ9MTtkPGFyZ3VtZW50c1thXS0yO2QrKyl2b2lkIDA9PT1hcmd1bWVudHNbZF0mJihjW2RdPXZvaWQgMCl9KSxjW2FdPjEmJmMuaW5kZXg8clthXSYmcy5hcHBseShwLGMuc2xpY2UoMSkpLGw9Y1swXVthXSxoPWYscFthXT49dikpOylnLmxhc3RJbmRleD09PWMuaW5kZXgmJmcubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1yW2FdPyFsJiZnLnRlc3QoIiIpfHxwLnB1c2goIiIpOnAucHVzaChyLnNsaWNlKGgpKSxwW2FdPnY/cC5zbGljZSgwLHYpOnB9fWVsc2UiMCIuc3BsaXQodm9pZCAwLDApW2FdJiYobj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYwPT09dD9bXTpvLmNhbGwodGhpcyxlLHQpfSk7Ci8vIDIxLjEuMy4xNyBTdHJpbmcucHJvdG90eXBlLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpCnJldHVybltmdW5jdGlvbihyLGkpe3ZhciBvPWUodGhpcykscz12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PXM/cy5jYWxsKHIsbyxpKTpuLmNhbGwoU3RyaW5nKG8pLHIsaSl9LG5dfSl9LC8qIDMyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGksbyxzLGE9cig0OSksdT1yKDQpLGM9cigyNyksZj1yKDcyKSxsPXIoMCksZD1yKDYpLHA9cigxNikseT1yKDU1KSxoPXIoNTYpLHY9cig4NiksZz1yKDEyMykuc2V0LGI9cigxMjQpKCksbT1yKDEyNSksXz1yKDE2NyksUj1yKDE2OCksdz11LlR5cGVFcnJvcixTPXUucHJvY2VzcyxQPXUuUHJvbWlzZSxPPSJwcm9jZXNzIj09ZihTKSxNPWZ1bmN0aW9uKCl7fSxrPWk9bS5mLEw9ISFmdW5jdGlvbigpe3RyeXsKLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0CnZhciBlPVAucmVzb2x2ZSgxKSx0PShlLmNvbnN0cnVjdG9yPXt9KVtyKDgpKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoTSxNKX07Ci8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3QKcmV0dXJuKE98fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oTSlpbnN0YW5jZW9mIHR9Y2F0Y2goZSl7fX0oKSx4PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3YsaT0xPT1lLl9zLG89MDtyLmxlbmd0aD5vOykhZnVuY3Rpb24odCl7dmFyIHIsbyxzPWk/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsdT10LnJlamVjdCxjPXQuZG9tYWluO3RyeXtzPyhpfHwoMj09ZS5faCYmRChlKSxlLl9oPTEpLCEwPT09cz9yPW46KGMmJmMuZW50ZXIoKSxyPXMobiksYyYmYy5leGl0KCkpLHI9PT10LnByb21pc2U/dSh3KCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihvPXgocikpP28uY2FsbChyLGEsdSk6YShyKSk6dShuKX1jYXRjaChlKXt1KGUpfX0ocltvKytdKTsvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaAplLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkEoZSl9KX19LEE9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4saT1lLl92LG89VShlKTtpZihvJiYodD1fKGZ1bmN0aW9uKCl7Tz9TLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsaSxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOml9KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLGkpfSksCi8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkCmUuX2g9T3x8VShlKT8yOjEpLGUuX2E9dm9pZCAwLG8mJnQuZSl0aHJvdyB0LnZ9KX0sVT1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxEPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7Tz9TLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sST1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCwvLyB1bndyYXAKdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxqPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7Ly8gdW53cmFwCnRyeXtpZihyPT09ZSl0aHJvdyB3KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PXgoZSkpP2IoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07Ly8gd3JhcAp0cnl7dC5jYWxsKGUsYyhqLG4sMSksYyhJLG4sMSkpfWNhdGNoKGUpe0kuY2FsbChuLGUpfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKGUpe0kuY2FsbCh7X3c6cixfZDohMX0sZSl9fX07Ci8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsCkx8fCgKLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcikKUD1mdW5jdGlvbihlKXt5KHRoaXMsUCwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhqLHRoaXMsMSksYyhJLHRoaXMsMSkpfWNhdGNoKGUpe0kuY2FsbCh0aGlzLGUpfX0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwpuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zCnRoaXMuX2E9dm9pZCAwLC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zCnRoaXMuX3M9MCwvLyA8LSBzdGF0ZQp0aGlzLl9kPSExLC8vIDwtIGRvbmUKdGhpcy5fdj12b2lkIDAsLy8gPC0gdmFsdWUKdGhpcy5faD0wLC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkCnRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNTcpKFAucHJvdG90eXBlLHsKLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkKdGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPWsodih0aGlzLFApKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49Tz9TLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZFKHRoaXMsITEpLHIucHJvbWlzZX0sCi8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpCmNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLG89ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhqLGUsMSksdGhpcy5yZWplY3Q9YyhJLGUsMSl9LG0uZj1rPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09UHx8ZT09PXM/bmV3IG8oZSk6aShlKX0pLGwobC5HK2wuVytsLkYqIUwse1Byb21pc2U6UH0pLHIoNjEpKFAsIlByb21pc2UiKSxyKDU0KSgiUHJvbWlzZSIpLHM9cigzMCkuUHJvbWlzZSwKLy8gc3RhdGljcwpsKGwuUytsLkYqIUwsIlByb21pc2UiLHsKLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocikKcmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWsodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKGF8fCFMKSwiUHJvbWlzZSIsewovLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeCkKcmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gUihhJiZ0aGlzPT09cz9QOnRoaXMsZSl9fSksbChsLlMrbC5GKiEoTCYmcig4MykoZnVuY3Rpb24oZSl7UC5hbGwoZSkuY2F0Y2goTSl9KSksIlByb21pc2UiLHsKLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpCmFsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ayh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LG89XyhmdW5jdGlvbigpe3ZhciByPVtdLG89MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPW8rKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0saSl9KSwtLXN8fG4ocil9KTtyZXR1cm4gby5lJiZpKG8udiksci5wcm9taXNlfSwKLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKQpyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1rKHQpLG49ci5yZWplY3QsaT1fKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIGkuZSYmbihpLnYpLHIucHJvbWlzZX19KX0sLyogMzI2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzMpLGk9cig2NCk7Ci8vIDIzLjQgV2Vha1NldCBPYmplY3RzCnIoODcpKCJXZWFrU2V0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHsKLy8gMjMuNC4zLjEgV2Vha1NldC5wcm90b3R5cGUuYWRkKHZhbHVlKQphZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKGkodGhpcywiV2Vha1NldCIpLGUsITApfX0sbiwhMSwhMCl9LC8qIDMyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDg4KSxvPXIoMTI2KSxzPXIoMyksYT1yKDUxKSx1PXIoMTIpLGM9cig2KSxmPXIoNCkuQXJyYXlCdWZmZXIsbD1yKDg2KSxkPW8uQXJyYXlCdWZmZXIscD1vLkRhdGFWaWV3LHk9aS5BQlYmJmYuaXNWaWV3LGg9ZC5wcm90b3R5cGUuc2xpY2Usdj1pLlZJRVc7bihuLkcrbi5XK24uRiooZiE9PWQpLHtBcnJheUJ1ZmZlcjpkfSksbihuLlMrbi5GKiFpLkNPTlNUUiwiQXJyYXlCdWZmZXIiLHsKLy8gMjQuMS4zLjEgQXJyYXlCdWZmZXIuaXNWaWV3KGFyZykKaXNWaWV3OmZ1bmN0aW9uKGUpe3JldHVybiB5JiZ5KGUpfHxjKGUpJiZ2IGluIGV9fSksbihuLlArbi5VK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIW5ldyBkKDIpLnNsaWNlKDEsdm9pZCAwKS5ieXRlTGVuZ3RofSksIkFycmF5QnVmZmVyIix7Ci8vIDI0LjEuNC4zIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZShzdGFydCwgZW5kKQpzbGljZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWgmJnZvaWQgMD09PXQpcmV0dXJuIGguY2FsbChzKHRoaXMpLGUpO2ZvcigvLyBGRiBmaXgKdmFyIHI9cyh0aGlzKS5ieXRlTGVuZ3RoLG49YShlLHIpLGk9YSh2b2lkIDA9PT10P3I6dCxyKSxvPW5ldyhsKHRoaXMsZCkpKHUoaS1uKSksYz1uZXcgcCh0aGlzKSxmPW5ldyBwKG8pLHk9MDtuPGk7KWYuc2V0VWludDgoeSsrLGMuZ2V0VWludDgobisrKSk7cmV0dXJuIG99fSkscig1NCkoIkFycmF5QnVmZmVyIil9LC8qIDMyOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uRytuLlcrbi5GKiFyKDg4KS5BQlYse0RhdGFWaWV3OnIoMTI2KS5EYXRhVmlld30pfSwvKiAzMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJJbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSwhMCl9LC8qIDMzMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIkludDE2IiwyLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQxNiIsMixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJJbnQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJVaW50MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sLyogMzM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiRmxvYXQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJGbG9hdDY0Iiw4LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KQp2YXIgbj1yKDApLGk9cigxNiksbz1yKDMpLHM9KHIoNCkuUmVmbGVjdHx8e30pLmFwcGx5LGE9RnVuY3Rpb24uYXBwbHk7Ci8vIE1TIEVkZ2UgYXJndW1lbnRzTGlzdCBhcmd1bWVudCBpcyBvcHRpb25hbApuKG4uUytuLkYqIXIoNSkoZnVuY3Rpb24oKXtzKGZ1bmN0aW9uKCl7fSl9KSwiUmVmbGVjdCIse2FwcGx5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pKGUpLHU9byhyKTtyZXR1cm4gcz9zKG4sdCx1KTphLmNhbGwobix0LHUpfX0pfSwvKiAzMzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjIgUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmd1bWVudHNMaXN0IFssIG5ld1RhcmdldF0pCnZhciBuPXIoMCksaT1yKDUyKSxvPXIoMTYpLHM9cigzKSxhPXIoNiksdT1yKDUpLGM9cigxNTQpLGY9KHIoNCkuUmVmbGVjdHx8e30pLmNvbnN0cnVjdCxsPXUoZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiEoZihmdW5jdGlvbigpe30sW10sRilpbnN0YW5jZW9mIEYpfSksZD0hdShmdW5jdGlvbigpe2YoZnVuY3Rpb24oKXt9KX0pO24obi5TK24uRioobHx8ZCksIlJlZmxlY3QiLHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSx0KXtvKGUpLHModCk7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDwzP2U6byhhcmd1bWVudHNbMl0pO2lmKGQmJiFsKXJldHVybiBmKGUsdCxyKTtpZihlPT1yKXsKLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBvcHRpbWl6YXRpb24gZm9yIDAtNCBhcmd1bWVudHMKc3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodFswXSk7Y2FzZSAyOnJldHVybiBuZXcgZSh0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0sdFszXSl9Ci8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgbG90IG9mIGFyZ3VtZW50cyBjYXNlCnZhciBuPVtudWxsXTtyZXR1cm4gbi5wdXNoLmFwcGx5KG4sdCksbmV3KGMuYXBwbHkoZSxuKSl9Ci8vIHdpdGggYWx0ZXJlZCBuZXdUYXJnZXQsIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGNvbnN0cnVjdG9ycwp2YXIgdT1yLnByb3RvdHlwZSxwPWkoYSh1KT91Ok9iamVjdC5wcm90b3R5cGUpLHk9RnVuY3Rpb24uYXBwbHkuY2FsbChlLHAsdCk7cmV0dXJuIGEoeSk/eTpwfX0pfSwvKiAzNDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjMgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKQp2YXIgbj1yKDExKSxpPXIoMCksbz1yKDMpLHM9cigzMSk7Ci8vIE1TIEVkZ2UgaGFzIGJyb2tlbiBSZWZsZWN0LmRlZmluZVByb3BlcnR5IC0gdGhyb3dpbmcgaW5zdGVhZCBvZiByZXR1cm5pbmcgZmFsc2UKaShpLlMraS5GKnIoNSkoZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmClJlZmxlY3QuZGVmaW5lUHJvcGVydHkobi5mKHt9LDEse3ZhbHVlOjF9KSwxLHt2YWx1ZToyfSl9KSwiUmVmbGVjdCIse2RlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtvKGUpLHQ9cyh0LCEwKSxvKHIpO3RyeXtyZXR1cm4gbi5mKGUsdCxyKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LC8qIDM0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuNCBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXkpCnZhciBuPXIoMCksaT1yKDI1KS5mLG89cigzKTtuKG4uUywiUmVmbGVjdCIse2RlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9aShvKGUpLHQpO3JldHVybiEociYmIXIuY29uZmlndXJhYmxlKSYmZGVsZXRlIGVbdF19fSl9LC8qIDM0MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyNi4xLjUgUmVmbGVjdC5lbnVtZXJhdGUodGFyZ2V0KQp2YXIgbj1yKDApLGk9cigzKSxvPWZ1bmN0aW9uKGUpe3RoaXMuX3Q9aShlKSwvLyB0YXJnZXQKdGhpcy5faT0wOy8vIG5leHQgaW5kZXgKdmFyIHQscj10aGlzLl9rPVtdO2Zvcih0IGluIGUpci5wdXNoKHQpfTtyKDExNCkobywiT2JqZWN0IixmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXQuX2s7ZG97aWYodC5faT49ci5sZW5ndGgpcmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX13aGlsZSghKChlPXJbdC5faSsrXSlpbiB0Ll90KSk7cmV0dXJue3ZhbHVlOmUsZG9uZTohMX19KSxuKG4uUywiUmVmbGVjdCIse2VudW1lcmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8oZSl9fSl9LC8qIDM0MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gZ2V0KGUsdCl7dmFyIHIscyxjPWFyZ3VtZW50cy5sZW5ndGg8Mz9lOmFyZ3VtZW50c1syXTtyZXR1cm4gdShlKT09PWM/ZVt0XToocj1uLmYoZSx0KSk/byhyLCJ2YWx1ZSIpP3IudmFsdWU6dm9pZCAwIT09ci5nZXQ/ci5nZXQuY2FsbChjKTp2b2lkIDA6YShzPWkoZSkpP2dldChzLHQsYyk6dm9pZCAwfQovLyAyNi4xLjYgUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSBbLCByZWNlaXZlcl0pCnZhciBuPXIoMjUpLGk9cigyNiksbz1yKDE3KSxzPXIoMCksYT1yKDYpLHU9cigzKTtzKHMuUywiUmVmbGVjdCIse2dldDpnZXR9KX0sLyogMzQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjYuMS43IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpCnZhciBuPXIoMjUpLGk9cigwKSxvPXIoMyk7aShpLlMsIlJlZmxlY3QiLHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5mKG8oZSksdCl9fSl9LC8qIDM0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuOCBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkKdmFyIG49cigwKSxpPXIoMjYpLG89cigzKTtuKG4uUywiUmVmbGVjdCIse2dldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBpKG8oZSkpfX0pfSwvKiAzNDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjkgUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wZXJ0eUtleSkKdmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse2hhczpmdW5jdGlvbihlLHQpe3JldHVybiB0IGluIGV9fSl9LC8qIDM0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTAgUmVmbGVjdC5pc0V4dGVuc2libGUodGFyZ2V0KQp2YXIgbj1yKDApLGk9cigzKSxvPU9iamVjdC5pc0V4dGVuc2libGU7bihuLlMsIlJlZmxlY3QiLHtpc0V4dGVuc2libGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSksIW98fG8oZSl9fSl9LC8qIDM0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTEgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkKdmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse293bktleXM6cigxNzUpfSl9LC8qIDM0OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTIgUmVmbGVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpCnZhciBuPXIoMCksaT1yKDMpLG89T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO24obi5TLCJSZWZsZWN0Iix7cHJldmVudEV4dGVuc2lvbnM6ZnVuY3Rpb24oZSl7aShlKTt0cnl7cmV0dXJuIG8mJm8oZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSwvKiAzNTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHNldChlLHQscil7dmFyIGEsbCxkPWFyZ3VtZW50cy5sZW5ndGg8ND9lOmFyZ3VtZW50c1szXSxwPWkuZihjKGUpLHQpO2lmKCFwKXtpZihmKGw9byhlKSkpcmV0dXJuIHNldChsLHQscixkKTtwPXUoMCl9cmV0dXJuIHMocCwidmFsdWUiKT8hKCExPT09cC53cml0YWJsZXx8IWYoZCkpJiYoYT1pLmYoZCx0KXx8dSgwKSxhLnZhbHVlPXIsbi5mKGQsdCxhKSwhMCk6dm9pZCAwIT09cC5zZXQmJihwLnNldC5jYWxsKGQsciksITApfQovLyAyNi4xLjEzIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHlLZXksIFYgWywgcmVjZWl2ZXJdKQp2YXIgbj1yKDExKSxpPXIoMjUpLG89cigyNikscz1yKDE3KSxhPXIoMCksdT1yKDQ3KSxjPXIoMyksZj1yKDYpO2EoYS5TLCJSZWZsZWN0Iix7c2V0OnNldH0pfSwvKiAzNTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjE0IFJlZmxlY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90bykKdmFyIG49cigwKSxpPXIoMTA2KTtpJiZuKG4uUywiUmVmbGVjdCIse3NldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUsdCl7aS5jaGVjayhlLHQpO3RyeXtyZXR1cm4gaS5zZXQoZSx0KSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LC8qIDM1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXMKdmFyIG49cigwKSxpPXIoNzkpKCEwKTtuKG4uUCwiQXJyYXkiLHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDMpKCJpbmNsdWRlcyIpfSwvKiAzNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXRNYXAKdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMiksYT1yKDE2KSx1PXIoMTIwKTtuKG4uUCwiQXJyYXkiLHtmbGF0TWFwOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1vKHRoaXMpO3JldHVybiBhKGUpLHQ9cyhuLmxlbmd0aCkscj11KG4sMCksaShyLG4sbix0LDAsMSxlLGFyZ3VtZW50c1sxXSkscn19KSxyKDQzKSgiZmxhdE1hcCIpfSwvKiAzNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXR0ZW4KdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMiksYT1yKDMzKSx1PXIoMTIwKTtuKG4uUCwiQXJyYXkiLHtmbGF0dGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdLHQ9byh0aGlzKSxyPXModC5sZW5ndGgpLG49dSh0LDApO3JldHVybiBpKG4sdCx0LHIsMCx2b2lkIDA9PT1lPzE6YShlKSksbn19KSxyKDQzKSgiZmxhdHRlbiIpfSwvKiAzNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdAp2YXIgbj1yKDApLGk9cigxMTIpKCEwKTtuKG4uUCwiU3RyaW5nIix7YXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlKX19KX0sLyogMzU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kCnZhciBuPXIoMCksaT1yKDE3Nyksbz1yKDEyNyk7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8yODAKbihuLlArbi5GKi9WZXJzaW9uXC8xMFwuXGQrKFwuXGQrKT8gU2FmYXJpXC8vLnRlc3QobyksIlN0cmluZyIse3BhZFN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwhMCl9fSl9LC8qIDM1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zdHJpbmctcGFkLXN0YXJ0LWVuZAp2YXIgbj1yKDApLGk9cigxNzcpLG89cigxMjcpOwovLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwCm4obi5QK24uRiovVmVyc2lvblwvMTBcLlxkKyhcLlxkKyk/IFNhZmFyaVwvLy50ZXN0KG8pLCJTdHJpbmciLHtwYWRFbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLCExKX19KX0sLyogMzU4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zZWJtYXJrYmFnZS9lY21hc2NyaXB0LXN0cmluZy1sZWZ0LXJpZ2h0LXRyaW0Kcig2MikoInRyaW1MZWZ0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDEpfX0sInRyaW1TdGFydCIpfSwvKiAzNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3NlYm1hcmtiYWdlL2VjbWFzY3JpcHQtc3RyaW5nLWxlZnQtcmlnaHQtdHJpbQpyKDYyKSgidHJpbVJpZ2h0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDIpfX0sInRyaW1FbmQiKX0sLyogMzYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vU3RyaW5nLnByb3RvdHlwZS5tYXRjaEFsbC8KdmFyIG49cigwKSxpPXIoMzIpLG89cigxMikscz1yKDgyKSxhPXIoODQpLHU9UmVnRXhwLnByb3RvdHlwZSxjPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcj1lLHRoaXMuX3M9dH07cigxMTQpKGMsIlJlZ0V4cCBTdHJpbmciLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fci5leGVjKHRoaXMuX3MpO3JldHVybnt2YWx1ZTplLGRvbmU6bnVsbD09PWV9fSksbihuLlAsIlN0cmluZyIse21hdGNoQWxsOmZ1bmN0aW9uKGUpe2lmKGkodGhpcyksIXMoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSByZWdleHAhIik7dmFyIHQ9U3RyaW5nKHRoaXMpLHI9ImZsYWdzImluIHU/U3RyaW5nKGUuZmxhZ3MpOmEuY2FsbChlKSxuPW5ldyBSZWdFeHAoZS5zb3VyY2UsfnIuaW5kZXhPZigiZyIpP3I6ImciK3IpO3JldHVybiBuLmxhc3RJbmRleD1vKGUubGFzdEluZGV4KSxuZXcgYyhuLHQpfX0pfSwvKiAzNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTAyKSgiYXN5bmNJdGVyYXRvciIpfSwvKiAzNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTAyKSgib2JzZXJ2YWJsZSIpfSwvKiAzNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9ycwp2YXIgbj1yKDApLGk9cigxNzUpLG89cigyNCkscz1yKDI1KSxhPXIoMTE4KTtuKG4uUywiT2JqZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPW8oZSksdT1zLmYsYz1pKG4pLGY9e30sbD0wO2MubGVuZ3RoPmw7KXZvaWQgMCE9PShyPXUobix0PWNbbCsrXSkpJiZhKGYsdCxyKTtyZXR1cm4gZn19KX0sLyogMzY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LXZhbHVlcy1lbnRyaWVzCnZhciBuPXIoMCksaT1yKDE3OCkoITEpO24obi5TLCJPYmplY3QiLHt2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDM2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllcwp2YXIgbj1yKDApLGk9cigxNzgpKCEwKTtuKG4uUywiT2JqZWN0Iix7ZW50cmllczpmdW5jdGlvbihlKXtyZXR1cm4gaShlKX19KX0sLyogMzY2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigxNikscz1yKDExKTsKLy8gQi4yLjIuMiBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oUCwgZ2V0dGVyKQpyKDEwKSYmbihuLlArcig4OSksIk9iamVjdCIse19fZGVmaW5lR2V0dGVyX186ZnVuY3Rpb24oZSx0KXtzLmYoaSh0aGlzKSxlLHtnZXQ6byh0KSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSwvKiAzNjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNSksbz1yKDE2KSxzPXIoMTEpOwovLyBCLjIuMi4zIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXyhQLCBzZXR0ZXIpCnIoMTApJiZuKG4uUCtyKDg5KSwiT2JqZWN0Iix7X19kZWZpbmVTZXR0ZXJfXzpmdW5jdGlvbihlLHQpe3MuZihpKHRoaXMpLGUse3NldDpvKHQpLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fSl9LC8qIDM2OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDE1KSxvPXIoMzEpLHM9cigyNiksYT1yKDI1KS5mOwovLyBCLjIuMi40IE9iamVjdC5wcm90b3R5cGUuX19sb29rdXBHZXR0ZXJfXyhQKQpyKDEwKSYmbihuLlArcig4OSksIk9iamVjdCIse19fbG9va3VwR2V0dGVyX186ZnVuY3Rpb24oZSl7dmFyIHQscj1pKHRoaXMpLG49byhlLCEwKTtkb3tpZih0PWEocixuKSlyZXR1cm4gdC5nZXR9d2hpbGUocj1zKHIpKX19KX0sLyogMzY5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigzMSkscz1yKDI2KSxhPXIoMjUpLmY7Ci8vIEIuMi4yLjUgT2JqZWN0LnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKFApCnIoMTApJiZuKG4uUCtyKDg5KSwiT2JqZWN0Iix7X19sb29rdXBTZXR0ZXJfXzpmdW5jdGlvbihlKXt2YXIgdCxyPWkodGhpcyksbj1vKGUsITApO2Rve2lmKHQ9YShyLG4pKXJldHVybiB0LnNldH13aGlsZShyPXMocikpfX0pfSwvKiAzNzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vRGF2aWRCcnVhbnQvTWFwLVNldC5wcm90b3R5cGUudG9KU09OCnZhciBuPXIoMCk7bihuLlArbi5SLCJNYXAiLHt0b0pTT046cigxNzkpKCJNYXAiKX0pfSwvKiAzNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vRGF2aWRCcnVhbnQvTWFwLVNldC5wcm90b3R5cGUudG9KU09OCnZhciBuPXIoMCk7bihuLlArbi5SLCJTZXQiLHt0b0pTT046cigxNzkpKCJTZXQiKX0pfSwvKiAzNzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1tYXAub2YKcig5MCkoIk1hcCIpfSwvKiAzNzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1zZXQub2YKcig5MCkoIlNldCIpfSwvKiAzNzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrbWFwLm9mCnIoOTApKCJXZWFrTWFwIil9LC8qIDM3NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtc2V0bWFwLW9mZnJvbS8jc2VjLXdlYWtzZXQub2YKcig5MCkoIldlYWtTZXQiKX0sLyogMzc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtbWFwLmZyb20Kcig5MSkoIk1hcCIpfSwvKiAzNzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1zZXQuZnJvbQpyKDkxKSgiU2V0Iil9LC8qIDM3OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtc2V0bWFwLW9mZnJvbS8jc2VjLXdlYWttYXAuZnJvbQpyKDkxKSgiV2Vha01hcCIpfSwvKiAzNzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrc2V0LmZyb20Kcig5MSkoIldlYWtTZXQiKX0sLyogMzgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsCnZhciBuPXIoMCk7bihuLkcse2dsb2JhbDpyKDQpfSl9LC8qIDM4MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWdsb2JhbAp2YXIgbj1yKDApO24obi5TLCJTeXN0ZW0iLHtnbG9iYWw6cig0KX0pfSwvKiAzODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL3Byb3Bvc2FsLWlzLWVycm9yCnZhciBuPXIoMCksaT1yKDI4KTtuKG4uUywiRXJyb3IiLHtpc0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJFcnJvciI9PT1pKGUpfX0pfSwvKiAzODMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbGFtcDpmdW5jdGlvbihlLHQscil7cmV0dXJuIE1hdGgubWluKHIsTWF0aC5tYXgodCxlKSl9fSl9LC8qIDM4NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KdmFyIG49cigwKTtuKG4uUywiTWF0aCIse0RFR19QRVJfUkFEOk1hdGguUEkvMTgwfSl9LC8qIDM4NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KdmFyIG49cigwKSxpPTE4MC9NYXRoLlBJO24obi5TLCJNYXRoIix7ZGVncmVlczpmdW5jdGlvbihlKXtyZXR1cm4gZSppfX0pfSwvKiAzODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCksaT1yKDE4MSksbz1yKDE2MSk7bihuLlMsIk1hdGgiLHtmc2NhbGU6ZnVuY3Rpb24oZSx0LHIsbixzKXtyZXR1cm4gbyhpKGUsdCxyLG4scykpfX0pfSwvKiAzODcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9CcmVuZGFuRWljaC80Mjk0ZDVjMjEyYTZkMjI1NDcwMwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7aWFkZGg6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZT4+PjAsbz10Pj4+MCxzPXI+Pj4wO3JldHVybiBvKyhuPj4+MCkrKChpJnN8KGl8cykmfihpK3M+Pj4wKSk+Pj4zMSl8MH19KX0sLyogMzg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDMKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2lzdWJoOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWU+Pj4wLG89dD4+PjAscz1yPj4+MDtyZXR1cm4gby0obj4+PjApLSgofmkmc3x+KGlecykmaS1zPj4+MCk+Pj4zMSl8MH19KX0sLyogMzg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDMKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2ltdWxoOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxpPTY1NTM1JnIsbz02NTUzNSZuLHM9cj4+MTYsYT1uPj4xNix1PShzKm8+Pj4wKSsoaSpvPj4+MTYpO3JldHVybiBzKmErKHU+PjE2KSsoKGkqYT4+PjApKyg2NTUzNSZ1KT4+MTYpfX0pfSwvKiAzOTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtSQURfUEVSX0RFRzoxODAvTWF0aC5QSX0pfSwvKiAzOTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCksaT1NYXRoLlBJLzE4MDtuKG4uUywiTWF0aCIse3JhZGlhbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqaX19KX0sLyogMzkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2NhbGU6cigxODEpfSl9LC8qIDM5MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyZW5kYW5FaWNoLzQyOTRkNWMyMTJhNmQyMjU0NzAzCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHt1bXVsaDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3QsaT02NTUzNSZyLG89NjU1MzUmbixzPXI+Pj4xNixhPW4+Pj4xNix1PShzKm8+Pj4wKSsoaSpvPj4+MTYpO3JldHVybiBzKmErKHU+Pj4xNikrKChpKmE+Pj4wKSsoNjU1MzUmdSk+Pj4xNil9fSl9LC8qIDM5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHA6Ly9qZmJhc3RpZW4uZ2l0aHViLmlvL3BhcGVycy9NYXRoLnNpZ25iaXQuaHRtbAp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2lnbmJpdDpmdW5jdGlvbihlKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQpyZXR1cm4oZT0rZSkhPWU/ZTowPT1lPzEvZT09MS8wOmU+MH19KX0sLyogMzk1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtZmluYWxseQp2YXIgbj1yKDApLGk9cigzMCksbz1yKDQpLHM9cig4NiksYT1yKDE2OCk7bihuLlArbi5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD1zKHRoaXMsaS5Qcm9taXNlfHxvLlByb21pc2UpLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGU7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcn0pfTplKX19KX0sLyogMzk2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5CnZhciBuPXIoMCksaT1yKDEyNSksbz1yKDE2Nyk7bihuLlMsIlByb21pc2UiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5mKHRoaXMpLHI9byhlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LC8qIDM5NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5rZXkscz1uLnNldDtuLmV4cCh7ZGVmaW5lTWV0YWRhdGE6ZnVuY3Rpb24oZSx0LHIsbil7cyhlLHQsaShyKSxvKG4pKX19KX0sLyogMzk4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1uLmtleSxzPW4ubWFwLGE9bi5zdG9yZTtuLmV4cCh7ZGVsZXRlTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOm8oYXJndW1lbnRzWzJdKSxuPXMoaSh0KSxyLCExKTtpZih2b2lkIDA9PT1ufHwhbi5kZWxldGUoZSkpcmV0dXJuITE7aWYobi5zaXplKXJldHVybiEwO3ZhciB1PWEuZ2V0KHQpO3JldHVybiB1LmRlbGV0ZShyKSwhIXUuc2l6ZXx8YS5kZWxldGUodCl9fSl9LC8qIDM5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89cigyNikscz1uLmhhcyxhPW4uZ2V0LHU9bi5rZXksYz1mdW5jdGlvbihlLHQscil7aWYocyhlLHQscikpcmV0dXJuIGEoZSx0LHIpO3ZhciBuPW8odCk7cmV0dXJuIG51bGwhPT1uP2MoZSxuLHIpOnZvaWQgMH07bi5leHAoe2dldE1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSxpKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6dShhcmd1bWVudHNbMl0pKX19KX0sLyogNDAwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3MSksaT1yKDE4MCksbz1yKDM5KSxzPXIoMyksYT1yKDI2KSx1PW8ua2V5cyxjPW8ua2V5LGY9ZnVuY3Rpb24oZSx0KXt2YXIgcj11KGUsdCksbz1hKGUpO2lmKG51bGw9PT1vKXJldHVybiByO3ZhciBzPWYobyx0KTtyZXR1cm4gcy5sZW5ndGg/ci5sZW5ndGg/aShuZXcgbihyLmNvbmNhdChzKSkpOnM6cn07by5leHAoe2dldE1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gZihzKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6Yyhhcmd1bWVudHNbMV0pKX19KX0sLyogNDAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1uLmdldCxzPW4ua2V5O24uZXhwKHtnZXRPd25NZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsaSh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnMoYXJndW1lbnRzWzJdKSl9fSl9LC8qIDQwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5rZXlzLHM9bi5rZXk7bi5leHAoe2dldE93bk1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gbyhpKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6cyhhcmd1bWVudHNbMV0pKX19KX0sLyogNDAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1yKDI2KSxzPW4uaGFzLGE9bi5rZXksdT1mdW5jdGlvbihlLHQscil7aWYocyhlLHQscikpcmV0dXJuITA7dmFyIG49byh0KTtyZXR1cm4gbnVsbCE9PW4mJnUoZSxuLHIpfTtuLmV4cCh7aGFzTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdShlLGkodCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDphKGFyZ3VtZW50c1syXSkpfX0pfSwvKiA0MDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLGk9cigzKSxvPW4uaGFzLHM9bi5rZXk7bi5leHAoe2hhc093bk1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSxpKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6cyhhcmd1bWVudHNbMl0pKX19KX0sLyogNDA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1yKDE2KSxzPW4ua2V5LGE9bi5zZXQ7bi5leHAoe21ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7YShlLHQsKHZvaWQgMCE9PW4/aTpvKShyKSxzKG4pKX19fSl9LC8qIDQwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yd2FsZHJvbi90YzM5LW5vdGVzL2Jsb2IvbWFzdGVyL2VzNi8yMDE0LTA5L3NlcHQtMjUubWQjNTEwLWdsb2JhbGFzYXAtZm9yLWVucXVldWluZy1hLW1pY3JvdGFzawp2YXIgbj1yKDApLGk9cigxMjQpKCksbz1yKDQpLnByb2Nlc3Mscz0icHJvY2VzcyI9PXIoMjgpKG8pO24obi5HLHthc2FwOmZ1bmN0aW9uKGUpe3ZhciB0PXMmJm8uZG9tYWluO2kodD90LmJpbmQoZSk6ZSl9fSl9LC8qIDQwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlCnZhciBuPXIoMCksaT1yKDQpLG89cigzMCkscz1yKDEyNCkoKSxhPXIoOCkoIm9ic2VydmFibGUiKSx1PXIoMTYpLGM9cigzKSxmPXIoNTUpLGw9cig1NyksZD1yKDE4KSxwPXIoNTYpLHk9cC5SRVRVUk4saD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6dShlKX0sdj1mdW5jdGlvbihlKXt2YXIgdD1lLl9jO3QmJihlLl9jPXZvaWQgMCx0KCkpfSxnPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lLl9vfSxiPWZ1bmN0aW9uKGUpe2coZSl8fChlLl9vPXZvaWQgMCx2KGUpKX0sbT1mdW5jdGlvbihlLHQpe2MoZSksdGhpcy5fYz12b2lkIDAsdGhpcy5fbz1lLGU9bmV3IF8odGhpcyk7dHJ5e3ZhciByPXQoZSksbj1yO251bGwhPXImJigiZnVuY3Rpb24iPT10eXBlb2Ygci51bnN1YnNjcmliZT9yPWZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZSgpfTp1KHIpLHRoaXMuX2M9cil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZS5lcnJvcih0KX1nKHRoaXMpJiZ2KHRoaXMpfTttLnByb3RvdHlwZT1sKHt9LHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe2IodGhpcyl9fSk7dmFyIF89ZnVuY3Rpb24oZSl7dGhpcy5fcz1lfTtfLnByb3RvdHlwZT1sKHt9LHtuZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoIWcodCkpe3ZhciByPXQuX287dHJ5e3ZhciBuPWgoci5uZXh0KTtpZihuKXJldHVybiBuLmNhbGwocixlKX1jYXRjaChlKXt0cnl7Yih0KX1maW5hbGx5e3Rocm93IGV9fX19LGVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoZyh0KSl0aHJvdyBlO3ZhciByPXQuX287dC5fbz12b2lkIDA7dHJ5e3ZhciBuPWgoci5lcnJvcik7aWYoIW4pdGhyb3cgZTtlPW4uY2FsbChyLGUpfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZighZyh0KSl7dmFyIHI9dC5fbzt0Ll9vPXZvaWQgMDt0cnl7dmFyIG49aChyLmNvbXBsZXRlKTtlPW4/bi5jYWxsKHIsZSk6dm9pZCAwfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX19fSk7dmFyIFI9ZnVuY3Rpb24oZSl7Zih0aGlzLFIsIk9ic2VydmFibGUiLCJfZiIpLl9mPXUoZSl9O2woUi5wcm90b3R5cGUse3N1YnNjcmliZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG0oZSx0aGlzLl9mKX0sZm9yRWFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcoby5Qcm9taXNlfHxpLlByb21pc2UpKGZ1bmN0aW9uKHIsbil7dShlKTt2YXIgaT10LnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goZSl7bihlKSxpLnVuc3Vic2NyaWJlKCl9fSxlcnJvcjpuLGNvbXBsZXRlOnJ9KX0pfX0pLGwoUix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOlIscj1oKGMoZSlbYV0pO2lmKHIpe3ZhciBuPWMoci5jYWxsKGUpKTtyZXR1cm4gbi5jb25zdHJ1Y3Rvcj09PXQ/bjpuZXcgdChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdWJzY3JpYmUoZSl9KX1yZXR1cm4gbmV3IHQoZnVuY3Rpb24odCl7dmFyIHI9ITE7cmV0dXJuIHMoZnVuY3Rpb24oKXtpZighcil7dHJ5e2lmKHAoZSwhMSxmdW5jdGlvbihlKXtpZih0Lm5leHQoZSkscilyZXR1cm4geX0pPT09eSlyZXR1cm59Y2F0Y2goZSl7aWYocil0aHJvdyBlO3JldHVybiB2b2lkIHQuZXJyb3IoZSl9dC5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7cj0hMH19KX0sb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCk7ZTx0OylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiBuZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpSKShmdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gcyhmdW5jdGlvbigpe2lmKCF0KXtmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbilpZihlLm5leHQocltuXSksdClyZXR1cm47ZS5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7dD0hMH19KX19KSxkKFIucHJvdG90eXBlLGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG4obi5HLHtPYnNlcnZhYmxlOlJ9KSxyKDU0KSgiT2JzZXJ2YWJsZSIpfSwvKiA0MDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBpZTktIHNldFRpbWVvdXQgJiBzZXRJbnRlcnZhbCBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgZml4CnZhciBuPXIoNCksaT1yKDApLG89cigxMjcpLHM9W10uc2xpY2UsYT0vTVNJRSAuXC4vLnRlc3QobyksdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjIsaT0hIW4mJnMuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGUobj9mdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCkpLmFwcGx5KHRoaXMsaSl9OnQscil9fTtpKGkuRytpLkIraS5GKmEse3NldFRpbWVvdXQ6dShuLnNldFRpbWVvdXQpLHNldEludGVydmFsOnUobi5zZXRJbnRlcnZhbCl9KX0sLyogNDA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxMjMpO24obi5HK24uQix7c2V0SW1tZWRpYXRlOmkuc2V0LGNsZWFySW1tZWRpYXRlOmkuY2xlYXJ9KX0sLyogNDEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cigxMjIpLGk9cig1MCksbz1yKDE5KSxzPXIoNCksYT1yKDE4KSx1PXIoNjMpLGM9cig4KSxmPWMoIml0ZXJhdG9yIiksbD1jKCJ0b1N0cmluZ1RhZyIpLGQ9dS5BcnJheSxwPXtDU1NSdWxlTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KQ1NTU3R5bGVEZWNsYXJhdGlvbjohMSxDU1NWYWx1ZUxpc3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsRE9NUmVjdExpc3Q6ITEsRE9NU3RyaW5nTGlzdDohMSxET01Ub2tlbkxpc3Q6ITAsRGF0YVRyYW5zZmVySXRlbUxpc3Q6ITEsRmlsZUxpc3Q6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTENvbGxlY3Rpb246ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLE1lZGlhTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KTWltZVR5cGVBcnJheTohMSxOYW1lZE5vZGVNYXA6ITEsTm9kZUxpc3Q6ITAsUGFpbnRSZXF1ZXN0TGlzdDohMSxQbHVnaW46ITEsUGx1Z2luQXJyYXk6ITEsU1ZHTGVuZ3RoTGlzdDohMSxTVkdOdW1iZXJMaXN0OiExLFNWR1BhdGhTZWdMaXN0OiExLFNWR1BvaW50TGlzdDohMSxTVkdTdHJpbmdMaXN0OiExLFNWR1RyYW5zZm9ybUxpc3Q6ITEsU291cmNlQnVmZmVyTGlzdDohMSxTdHlsZVNoZWV0TGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRvdWNoTGlzdDohMX0seT1pKHApLGg9MDtoPHkubGVuZ3RoO2grKyl7dmFyIHYsZz15W2hdLGI9cFtnXSxtPXNbZ10sXz1tJiZtLnByb3RvdHlwZTtpZihfJiYoX1tmXXx8YShfLGYsZCksX1tsXXx8YShfLGwsZyksdVtnXT1kLGIpKWZvcih2IGluIG4pX1t2XXx8byhfLHYsblt2XSwhMCl9fSwvKiA0MTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpey8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwooZnVuY3Rpb24odCl7LyoqCiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy4KICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW4KICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluCiAqIHRoZSBzYW1lIGRpcmVjdG9yeS4KICovCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gd3JhcChlLHQscixuKXsKLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuCnZhciBpPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yP3Q6R2VuZXJhdG9yLG89T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgQ29udGV4dChufHxbXSk7Ci8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLgpyZXR1cm4gby5faW52b2tlPW1ha2VJbnZva2VNZXRob2QoZSxyLHMpLG99Ci8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvbgovLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGQKLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlCi8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2UKLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZAovLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nCi8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlCi8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZQovLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoCi8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS4KZnVuY3Rpb24gdHJ5Q2F0Y2goZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX0KLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kCi8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvcgovLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91cgovLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLgpmdW5jdGlvbiBHZW5lcmF0b3IoKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKXt9Ci8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlCi8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuCmZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSl9ZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihlKXtmdW5jdGlvbiBpbnZva2UodCxyLG4sbyl7dmFyIHM9dHJ5Q2F0Y2goZVt0XSxlLHIpO2lmKCJ0aHJvdyIhPT1zLnR5cGUpe3ZhciBhPXMuYXJnLHU9YS52YWx1ZTtyZXR1cm4gdSYmIm9iamVjdCI9PXR5cGVvZiB1JiZpLmNhbGwodSwiX19hd2FpdCIpP1Byb21pc2UucmVzb2x2ZSh1Ll9fYXdhaXQpLnRoZW4oZnVuY3Rpb24oZSl7aW52b2tlKCJuZXh0IixlLG4sbyl9LGZ1bmN0aW9uKGUpe2ludm9rZSgidGhyb3ciLGUsbixvKX0pOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKGZ1bmN0aW9uKGUpewovLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lcwovLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGUKLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGUKLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWUKLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3QKLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZQovLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluCi8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdAovLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWQKLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2sKLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoCi8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGUKLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZQovLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmQKLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uCmEudmFsdWU9ZSxuKGEpfSxvKX1vKHMuYXJnKX1mdW5jdGlvbiBlbnF1ZXVlKGUsdCl7ZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtpbnZva2UoZSx0LHIsbil9KX0KLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbAovLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZgovLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0bwovLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG8KLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eQovLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwovLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseQovLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZQovLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQovLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuCi8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyCi8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci4KcmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl9Im9iamVjdCI9PXR5cGVvZiB0LnByb2Nlc3MmJnQucHJvY2Vzcy5kb21haW4mJihpbnZva2U9dC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSkpO3ZhciByOwovLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LAovLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS4KdGhpcy5faW52b2tlPWVucXVldWV9ZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLHQscil7dmFyIG49bDtyZXR1cm4gZnVuY3Rpb24oaSxvKXtpZihuPT09cCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihuPT09eSl7aWYoInRocm93Ij09PWkpdGhyb3cgbzsKLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzoKLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZQpyZXR1cm4gZG9uZVJlc3VsdCgpfWZvcihyLm1ldGhvZD1pLHIuYXJnPW87Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYT1tYXliZUludm9rZURlbGVnYXRlKHMscik7aWYoYSl7aWYoYT09PWgpY29udGludWU7cmV0dXJuIGF9fWlmKCJuZXh0Ij09PXIubWV0aG9kKQovLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4Kci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG49PT1sKXRocm93IG49eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO249cDt2YXIgdT10cnlDYXRjaChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKAovLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09Ci8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi4Kbj1yLmRvbmU/eTpkLHUuYXJnPT09aCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihuPXksCi8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGUKLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS4Kci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX0KLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlCi8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGUKLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsCi8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLgpmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYobj09PXIpe2lmKAovLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC4KdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT10Lm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJigKLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYQovLyBjaGFuY2UgdG8gY2xlYW4gdXAuCnQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPXIsbWF5YmVJbnZva2VEZWxlZ2F0ZShlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpCi8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tCi8vICJyZXR1cm4iIHRvICJ0aHJvdyIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuCnJldHVybiBoO3QubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZCIpfXJldHVybiBofXZhciBpPXRyeUNhdGNoKG4sZS5pdGVyYXRvcix0LmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gdC5tZXRob2Q9InRocm93Iix0LmFyZz1pLmFyZyx0LmRlbGVnYXRlPW51bGwsaDt2YXIgbz1pLmFyZzsKLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLgovLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgInRocm93IiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlCi8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKLy8gY29udGV4dC5tZXRob2Qgd2FzICJuZXh0IiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuCi8vICJjb25zdW1lZCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXMKLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCi8vIG91dGVyIGdlbmVyYXRvci4KLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGgKLy8gdGhlIG91dGVyIGdlbmVyYXRvci4KcmV0dXJuIG8/by5kb25lPyh0W2UucmVzdWx0TmFtZV09by52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9ciksdC5kZWxlZ2F0ZT1udWxsLGgpOm86KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIENvbnRleHQoZSl7Ci8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaAovLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tCi8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC4KdGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGUpe3ZhciB0PWVbc107aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsbz1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKGkuY2FsbChlLG4pKXJldHVybiBuZXh0LnZhbHVlPWVbbl0sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITAsbmV4dH07cmV0dXJuIG8ubmV4dD1vfX0KLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLgpyZXR1cm57bmV4dDpkb25lUmVzdWx0fX1mdW5jdGlvbiBkb25lUmVzdWx0KCl7cmV0dXJue3ZhbHVlOnIsZG9uZTohMH19dmFyIHIsbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHM9by5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9by5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PW8udG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixjPSJvYmplY3QiPT10eXBlb2YgZSxmPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGYpCi8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXMKLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LgovLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsCi8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuCnJldHVybiB2b2lkKGMmJihlLmV4cG9ydHM9ZikpOwovLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXIKLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LgpmPXQucmVnZW5lcmF0b3JSdW50aW1lPWM/ZS5leHBvcnRzOnt9LGYud3JhcD13cmFwO3ZhciBsPSJzdXNwZW5kZWRTdGFydCIsZD0ic3VzcGVuZGVkWWllbGQiLHA9ImV4ZWN1dGluZyIseT0iY29tcGxldGVkIixoPXt9LHY9e307dltzXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsYj1nJiZnKGcodmFsdWVzKFtdKSkpO2ImJmIhPT1uJiZpLmNhbGwoYixzKSYmKAovLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZAovLyBvZiB0aGUgcG9seWZpbGwuCnY9Yik7dmFyIG09R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlPUdlbmVyYXRvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2KTtHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGU9bS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvbixHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt1XT1HZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZT0iR2VuZXJhdG9yRnVuY3Rpb24iLGYuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjsKLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhbgovLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuCnJldHVybiEhdCYmKHQ9PT1HZW5lcmF0b3JGdW5jdGlvbnx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZi5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOihlLl9fcHJvdG9fXz1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSx1IGluIGV8fChlW3VdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG0pLGV9LAovLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3QKLy8gYGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXMKLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KZi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxmLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvciwKLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZgovLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuCmYuYXN5bmM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9bmV3IEFzeW5jSXRlcmF0b3Iod3JhcChlLHQscixuKSk7cmV0dXJuIGYuaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9pOmkubmV4dCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmkubmV4dCgpfSl9LAovLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQovLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuCmRlZmluZUl0ZXJhdG9yTWV0aG9kcyhtKSxtW3VdPSJHZW5lcmF0b3IiLAovLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZQovLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQovLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvcgovLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi4KLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCm1bc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxmLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpOwovLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAovLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLgpyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbmV4dCgpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbmV4dC52YWx1ZT1yLG5leHQuZG9uZT0hMSxuZXh0fQovLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWUKLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXMKLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uCnJldHVybiBuZXh0LmRvbmU9ITAsbmV4dH19LGYudmFsdWVzPXZhbHVlcyxDb250ZXh0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q29udGV4dCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCwKLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KdGhpcy5zZW50PXRoaXMuX3NlbnQ9cix0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1yLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCFlKWZvcih2YXIgdCBpbiB0aGlzKQovLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOgoidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPXIpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXSx0PWUuY29tcGxldGlvbjtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGhhbmRsZShuLGkpewovLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLAovLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LgpyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSx0Lm5leHQ9bixpJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLCEhaX1pZih0aGlzLmRvbmUpdGhyb3cgZTtmb3IodmFyIHQ9dGhpcyxuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dLHM9by5jb21wbGV0aW9uO2lmKCJyb290Ij09PW8udHJ5TG9jKQovLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQovLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG8KLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi4KcmV0dXJuIGhhbmRsZSgiZW5kIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIGE9aS5jYWxsKG8sImNhdGNoTG9jIiksdT1pLmNhbGwobywiZmluYWxseUxvYyIpO2lmKGEmJnUpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBoYW5kbGUoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gaGFuZGxlKG8uZmluYWxseUxvYyl9ZWxzZSBpZihhKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gaGFuZGxlKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbcl07aWYobi50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKG4sImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PG4uZmluYWxseUxvYyl7dmFyIG89bjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJigKLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYQovLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suCm89bnVsbCk7dmFyIHM9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIHMudHlwZT1lLHMuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MsaCk6dGhpcy5jb21wbGV0ZShzKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxofSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIuZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLHIuYWZ0ZXJMb2MpLHJlc2V0VHJ5RW50cnkociksaH19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgaT1uLmFyZztyZXNldFRyeUVudHJ5KHIpfXJldHVybiBpfX0KLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uCi8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay4KdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQsbil7Ci8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0Ci8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KcmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOnZhbHVlcyhlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXIpLGh9fX0oCi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwKLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90Ci8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuCiJvYmplY3QiPT10eXBlb2YgdD90OiJvYmplY3QiPT10eXBlb2Ygd2luZG93P3dpbmRvdzoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodCxyKDE0NykpfSwvKiA0MTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDEzKSxlLmV4cG9ydHM9cigzMCkuUmVnRXhwLmVzY2FwZX0sLyogNDEzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL2JlbmphbWluZ3IvUmV4RXhwLmVzY2FwZQp2YXIgbj1yKDApLGk9cig0MTQpKC9bXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpO24obi5TLCJSZWdFeHAiLHtlc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDQxNCAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXQ9PT1PYmplY3QodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19OnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShlLHIpfX19LC8qIDQxNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOTYpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIwMSksZD1yKDcpLHA9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShkKSx5PXIoNDM5KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDQ2OSksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLGI9cig0NzYpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxfPXIoNDc3KSxSPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksdz1yKDQ4OCksUz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHcpLFA9cigxNCksTz1yKDk5KSxNPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTyksaz1yKDEwMCksTD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGspLHg9cig0OTIpLEU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh4KSxBPXIoNDkzKSxVPXIoNDk0KSxEPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoVSksST1yKDE0NCksaj1yKDQ5NSksVD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGopLEM9cigxNDApLEY9cig0OTYpLE49KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoRikscig0OTgpKSxxPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTiksSD1yKDQ5OSksQj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEgpLEs9cig1MDMpLEc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChLKSxWPXIoNTA2KSxXPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoViksWT1yKDUxNyksej1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFkpLEo9cig1MTkpLCQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChKKSxRPXAuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSxYPWZ1bmN0aW9uKCl7LyoqCiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIFJ1bnRpbWUgVXNlciBBZ2VudAogICAqIEBwYXJhbSB7ZGVzY3JpcHRvcn0gcnVudGltZURlc2NyaXB0b3IgLSBwYXNzIGFsbCB0aGUgaHlwZXJ0eSBydW50aW1lIGRlc2NyaXB0b3IKICAgKiBAcGFyYW0ge3J1bnRpbWVGYWN0b3J5fSBydW50aW1lRmFjdG9yeSAtIFNwZWNpZmljIGltcGxlbWVudGF0aW9uIGZvciB0aGUgZW52aXJvbm1lbnQgd2hlcmUgdGhlIGNvcmUgcnVudGltZSB3aWxsIHJ1bjsKICAgKiBAcGFyYW0ge2RvbWFpbn0gZG9tYWluVVJMIC0gc3BlY2lmeSB0aGUgZG9tYWluIGJhc2UgZm9yIHRoZSBydW50aW1lOwogICAqLwpmdW5jdGlvbiBSdW50aW1lVUEoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxSdW50aW1lVUEpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZGVzY3JpcHRvciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzYW5kYm94IGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0aGUgZG9tYWluIG9mIHJ1bnRpbWUiKTtpZigKLy8gQ29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiByZWxhdGVkIHdpdGggc2VydmVycwp0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPSgwLHMuZGVmYXVsdCkoe2RvbWFpbjpyfSxJLnJ1bnRpbWVDb25maWd1cmF0aW9uKSx0aGlzLnJ1bnRpbWVGYWN0b3J5PXQsdGhpcy5sb2c9USx0aGlzLmxvZ0xldmVscz1sLmxvZyxlLnAycEhhbmRsZXJTdHViJiYic3RyaW5nIj09dHlwZW9mIGUucDJwSGFuZGxlclN0dWImJmUucDJwSGFuZGxlclN0dWIuaW5jbHVkZXMoIjovLyIpP3RoaXMucDJwPSEwOnRoaXMucDJwPSExLEMucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yPWUsdGhpcy5ydW50aW1lVXRpbHM9Qy5ydW50aW1lVXRpbHMsdGhpcy5zdG9yYWdlcz17fSwiZnVuY3Rpb24iIT10eXBlb2YgdC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXRhbG9ndWUgaW1wbGVtZW50YXRpb24iKTtpZih0aGlzLnJ1bnRpbWVDYXRhbG9ndWU9dC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQucGVyc2lzdGVuY2VNYW5hZ2VyKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUGVyc2lzdGVuY2UgTWFuYWdlciBpbXBsZW1lbnRhdGlvbiIpO2lmKHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyPXQucGVyc2lzdGVuY2VNYW5hZ2VyKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3RvcmFnZU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKCJDaGVjayB5b3VyIFJ1bnRpbWUgRmFjdG9yeSBiZWNhdXNlIGl0IG5lZWRzIHRoZSBTdG9yYWdlIE1hbmFnZXIgaW1wbGVtZW50YXRpb24iKTt0aGlzLnN0b3JhZ2VzPSgwLEEuc3RvcmFnZSkodCksImZ1bmN0aW9uIj09dHlwZW9mIHQucnVudGltZUNhcGFiaWxpdGllcz90aGlzLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dC5ydW50aW1lQ2FwYWJpbGl0aWVzKHRoaXMuc3RvcmFnZXMuY2FwYWJpbGl0aWVzKTpRLmluZm8oIkNoZWNrIHlvdXIgUnVudGltZUZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXBhYmlsaXRpZXMgaW1wbGVtZW50YXRpb24iKX0vKioKICAgKiBJbnRpYWxpemUgdGhlIGluc3RhbGxhdGlvbiBvZiBydW50aW1lCiAgICoKICAgKiBAYWNjZXNzIHB1YmxpYwogICAqIEByZXR1cm4ge1Byb21pc2U8Qm9vbGVhbiwgRXJyb3I+fSB0aGlzIGlzIFByb21pc2UgYW5kIGlmIHRoZSBpbnN0YWxsYXRpb24gcHJvY2VzcyBoYXBwZW5lZCB3aXRob3V0IGFueSBwcm9ibGVtcyByZXR1cm5zIHRydWUgb3RoZXJ3aXNlIHRoZSBlcnJvci4KICAgKgogICAqIEBtZW1iZXJPZiBSdW50aW1lVUEKICAgKi8KcmV0dXJuKDAsZi5kZWZhdWx0KShSdW50aW1lVUEsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuZG9tYWluPWUucnVudGltZUNvbmZpZ3VyYXRpb24uZG9tYWluO3RyeXt2YXIgbj1lLnJ1bnRpbWVDYXBhYmlsaXRpZXMuZ2V0UnVudGltZUNhcGFiaWxpdGllcygpLG89ZS5zdG9yYWdlcy5ydW50aW1lLmdldCgicnVudGltZTpVUkwiKSxhPWUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiksdT1lLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMuZ2V0KCksYz1lLnN0b3JhZ2VzLnJ1bnRpbWUuZ2V0KCJwMnBIYW5kbGVyOlVSTCIpO2kuZGVmYXVsdC5hbGwoW28sbixhLHUsY10pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucnVudGltZVVSTD10WzBdP3RbMF0ucnVudGltZVVSTDp0WzBdLGUucnVudGltZVVSTHx8KGUucnVudGltZVVSTD0icnVudGltZTovLyIrZS5kb21haW4rIi8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInJ1bnRpbWU6VVJMIiwxLHtydW50aW1lVVJMOmUucnVudGltZVVSTH0pKSxlLmNhcGFiaWxpdGllcz10WzFdLCgwLHMuZGVmYXVsdCkoQy5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllcy5jb25zdHJhaW50cyx0WzFdKSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2U9bmV3IEIuZGVmYXVsdChlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLHRbMl18fHt9KSxlLl9oeXBlcnR5UmVzb3VyY2VzPXRbM118fHt9LGUucDJwSGFuZGxlclVSTD10WzRdP3RbNF0ucDJwSGFuZGxlclVSTDp0WzRdLGUucDJwSGFuZGxlclVSTHx8KGUucDJwSGFuZGxlclVSTD1lLnJ1bnRpbWVVUkwrIi9wMnBoYW5kbGVyLyIrKDAsUC5nZW5lcmF0ZUdVSUQpKCksUS5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gUDJQSGFuZGxlclVSTDogIixlLnAycEhhbmRsZXJVUkwpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInAycEhhbmRsZXI6VVJMIiwxLHtwMnBIYW5kbGVyVVJMOmUucDJwSGFuZGxlclVSTH0pKSxlLl9sb2FkQ29tcG9uZW50cygpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5faHlwZXJ0eVJlc291cmNlc1N0b3JhZ2U9bmV3IEcuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcyxlLl9oeXBlcnR5UmVzb3VyY2VzKSxlLnAycD8oUS5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gbG9hZCBwMnBIYW5kbGVyOiAiLHQpLGUuX2xvYWRQMlBIYW5kbGVyKCkpOihRLmluZm8oIltSdW50aW1lVUEgLSBpbml0XSBQMlAgbm90IHN1cHBvcnRlZCIpLCJQMlAgTm90IFN1cHBvcnRlZCIpfSkudGhlbihmdW5jdGlvbihlKXtRLmluZm8oIltydW50aW1lIHVhIC0gaW5pdF0gLSBzdGF0dXM6ICIsZSksdCghMCl9LGZ1bmN0aW9uKGUpe1EuZXJyb3IoIkVSUk9SOiAiLGUpLHQoITApfSl9Y2F0Y2goZSl7cihlKX19KX19LHtrZXk6Il9sb2FkUDJQSGFuZGxlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe3ZhciByPUMucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLG49ci5wMnBIYW5kbGVyU3R1YixpPXtpc0hhbmRsZXJTdHViOiEwLHJ1bnRpbWVVUkw6ZS5ydW50aW1lVVJMfTtRLmxvZygiW1J1bnRpbWVVQSBsb2FkUDJQSGFuZGxlcl0gUDJQU3R1YkhhbmRsZXI6ICIsbiksZS5sb2FkZXIubG9hZFN0dWIobixpKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPWUucnVudGltZVVSTCsiL3VhIixpPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206bix0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlLmRvbWFpbisiL3NtIixib2R5OntzdWJzY3JpYmU6W3IudXJsXSxzb3VyY2U6ZS5ydW50aW1lVVJMfX07ZS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24oZSl7US5sb2coIltydW50aW1lIHVhIC0gbGlzdGVuZXJdIC0gcmVjZWl2ZSBtc2c6ICIsZSl9KSxlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtRLmxvZygiW3J1bnRpbWUgdWEgLSBwb3N0TWVzc2FnZV0gLSByZXBseTogIixlKX0pLFEuaW5mbygiW3J1bnRpbWUgdWEgLSBwMnAgaW5zdGFsbGF0aW9uXSAtIHN1Y2Nlc3M6ICIsciksdCghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtRLmluZm8oIltydW50aW1lIHVhIC0gcDJwIGluc3RhbGxhdGlvbl0gLSBmYWlsOiAiLGUpLHQoITEpfSl9KX19LHtrZXk6Il9sb2FkQ29tcG9uZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dHJ5ewovLyBQcmVwYXJlIHRoZSBvbiBpbnN0YW5jZSB0byBoYW5kbGUgd2l0aCB0aGUgZmFsbGJhY2tzIGFuZCBydW50aW1lQ2F0YWxvZ3VlOwplLmRlc2NyaXB0b3JJbnN0YW5jZT1uZXcgRC5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5ydW50aW1lQ29uZmlndXJhdGlvbiksCi8vIFByZXBhcmUgdGhlIGxvYWRlciB0byBsb2FkIHRoZSBoeXBlcnRpZXMsIHByb3Rvc3R1YnMgYW5kIGlkcHByb3h5OwplLmxvYWRlcj1uZXcgRS5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDb25maWd1cmF0aW9uLGUuZGVzY3JpcHRvckluc3RhbmNlKSwKLy8gSW5zdGFudGlhdGUgdGhlIGlkZW50aXR5IE1vZHVsZQplLmlkZW50aXR5TW9kdWxlPW5ldyBnLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUucnVudGltZUNhcGFiaWxpdGllcyxlLnN0b3JhZ2VzLmlkZW50aXR5LGUuX2RhdGFPYmplY3RzU3RvcmFnZSxMLmRlZmF1bHQsZS5ydW50aW1lQ2F0YWxvZ3VlKTsKLy8gVXNlIHRoZSBzYW5kYm94IGZhY3RvcnkgdG8gY3JlYXRlIGFuIEFwcFNhbmRib3g7Ci8vIEluIHRoZSBmdXR1cmUgY2FuIGJlIGRlY2lkZWQgYnkgcG9saWN5RW5naW5lIGlmIHdlIG5lZWQKLy8gY3JlYXRlIGEgQXBwU2FuZGJveCBvciBub3Q7CnZhciBuPWUucnVudGltZUZhY3RvcnkuY3JlYXRlQXBwU2FuZGJveCgpOwovLyBJbnN0YW50aWF0ZSB0aGUgUmVnaXN0cnkgTW9kdWxlCmUucmVnaXN0cnk9bmV3IGguZGVmYXVsdChlLnJ1bnRpbWVVUkwsbixlLmlkZW50aXR5TW9kdWxlLGUucnVudGltZUNhdGFsb2d1ZSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5yZWdpc3RyeSxlLnAycEhhbmRsZXJVUkwpLAovLyBTZXQgdGhlIGxvYWRlciB0byBsb2FkIEh5cGVydGllcywgU3R1YnMgYW5kIElkcFByb3hpZXMKZS5yZWdpc3RyeS5sb2FkZXI9ZS5sb2FkZXIsCi8vIEluc3RhbnRpYXRlIHRoZSBNZXNzYWdlIEJ1cwplLm1lc3NhZ2VCdXM9bmV3IFMuZGVmYXVsdChlLnJlZ2lzdHJ5KSwKLy8gUHJlcGFyZSB0aGUgYWRkcmVzcyBhbGxvY2F0aW9uIGluc3RhbmNlOwplLmFkZHJlc3NBbGxvY2F0aW9uPW5ldyBNLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5KSwKLy8gSW5zdGFudGlhdGUgdGhlIFBvbGljeSBFbmdpbmUKZS5wb2xpY3lFbmdpbmU9bmV3IFIuZGVmYXVsdChuZXcgJC5kZWZhdWx0KGUucnVudGltZVVSTCxlLmlkZW50aXR5TW9kdWxlLGUucmVnaXN0cnksZS5zdG9yYWdlcy5wb2xpY3ksZS5ydW50aW1lQ2FwYWJpbGl0aWVzKSksCi8vIEluc3RhbnRpYXRlIERpc2NvdmVyeQplLmNvcmVEaXNjb3Zlcnk9bmV3IHEuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuZ3JhcGhDb25uZWN0b3IsZS5ydW50aW1lRmFjdG9yeSxlLnJlZ2lzdHJ5KSwKLy8gSW5zdGFudGlhdGUgdGhlIElkZW50aXR5TWFuYWdlcgplLmlkZW50aXR5TWFuYWdlcj1uZXcgbS5kZWZhdWx0KGUuaWRlbnRpdHlNb2R1bGUpLAovLyBpbml0aWFsaXNlIHRoZSBDcnlwdG9NYW5hZ2VyCkwuZGVmYXVsdC5pbml0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5jcnlwdG9NYW5hZ2VyLGUuX2RhdGFPYmplY3RzU3RvcmFnZSxlLnJlZ2lzdHJ5LGUuY29yZURpc2NvdmVyeSxlLmlkZW50aXR5TW9kdWxlLGUucnVudGltZUZhY3RvcnkpLAovLyBJbnN0YW50aWF0ZSB0aGUgR3JhcGggQ29ubmVjdG9yCmUuZ3JhcGhDb25uZWN0b3I9bnVsbCxlLmhhbmRsZXJzPW5ldyBULmRlZmF1bHQoZS5wb2xpY3lFbmdpbmUsZS5pZGVudGl0eU1hbmFnZXIsTC5kZWZhdWx0KSxlLm1lc3NhZ2VCdXMucGlwZWxpbmVPdXQuaGFuZGxlcnM9W2UuaGFuZGxlcnMuaWRtSGFuZGxlcixlLmhhbmRsZXJzLnBlcE91dEhhbmRsZXIsZS5oYW5kbGVycy5lbmNyeXB0SGFuZGxlcl0sZS5tZXNzYWdlQnVzLnBpcGVsaW5lSW4uaGFuZGxlcnM9W2UuaGFuZGxlcnMuZGVjcnlwdEhhbmRsZXIsZS5oYW5kbGVycy5wZXBJbkhhbmRsZXJdLAovLyBBZGQgdG8gQXBwIFNhbmRib3ggdGhlIGxpc3RlbmVyOwpuLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbih0KXtlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodCl9KSxMLmRlZmF1bHQubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsCi8vIFJlZ2lzdGVyIG1lc3NhZ2VCdXMgb24gUmVnaXN0cnkKZS5yZWdpc3RyeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUG9saWN5IEVuZ2luZQplLnBvbGljeUVuZ2luZS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUmVnaXN0ZXIgbWVzc2FnZUJ1cyBvbiBJRE0KZS5pZGVudGl0eU1vZHVsZS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUmVnaXN0ZXIgcmVnaXN0cnkgb24gSWRlbnRpdHlNb2R1bGUKZS5pZGVudGl0eU1vZHVsZS5yZWdpc3RyeT1lLnJlZ2lzdHJ5LAovLyBSZWdpc3RlciBjb3JlRGlzY292ZXJ5IG9uIElkZW50aXR5TW9kdWxlCmUuaWRlbnRpdHlNb2R1bGUuY29yZURpc2NvdmVyeT1lLmNvcmVEaXNjb3ZlcnksCi8vIFVzZSBzYW5kYm94IGZhY3RvcnkgdG8gdXNlIHNwZWNpZmljIG1ldGhvZHMKLy8gYW5kIHNldCB0aGUgbWVzc2FnZSBidXMgdG8gdGhlIGZhY3RvcnkKZS5ydW50aW1lRmFjdG9yeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gSW5zdGFuY2lhdGUgdGhlIFN5bmNoZXJNYW5hZ2VyOwplLnN5bmNoZXJNYW5hZ2VyPW5ldyBXLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5LGUucnVudGltZUNhdGFsb2d1ZSxlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLG51bGwsZS5fZGF0YU9iamVjdHNTdG9yYWdlLGUuaWRlbnRpdHlNb2R1bGUpLAovLyBTZXQgaW50byBsb2FkZXIgdGhlIG5lZWRlZCBjb21wb25lbnRzOwplLmxvYWRlci5ydW50aW1lVVJMPWUucnVudGltZVVSTCxlLmxvYWRlci5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLmxvYWRlci5yZWdpc3RyeT1lLnJlZ2lzdHJ5LGUubG9hZGVyLnJ1bnRpbWVDYXRhbG9ndWU9ZS5ydW50aW1lQ2F0YWxvZ3VlLGUubG9hZGVyLnJ1bnRpbWVGYWN0b3J5PWUucnVudGltZUZhY3RvcnksCi8vSW5zdGFudGlhdGUgRGlzY292ZXJ5IExpYiBmb3Igbm90aWZpY2F0aW9uIHRlc3RpbmcKLy8gdGhpcy5kaXNjb3ZlcnkgPSBuZXcgRGlzY292ZXJ5KCJoeXBlcnR5Oi8vbG9jYWxob3N0L3Rlc3QiLCB0aGlzLnJ1bnRpbWVVUkwsIHRoaXMubWVzc2FnZUJ1cyk7Ci8vIHRoaXMubG9hZFN0dWIoImxvY2FsaG9zdCIpOwovLyBzZXRUaW1lb3V0KCgpID0+IHsKLy8gICB0aGlzLmRpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc0RPKCJ1c2VyOi8vZ29vZ2xlLmNvbS9vcGVuaWR0ZXN0MjBAZ21haWwuY29tIikKLy8gICAudGhlbihoeXBlcnRpZXMgPT4gewovLyAgICAgaHlwZXJ0aWVzLmZvckVhY2goaHlwZXJ0eSA9PnsKLy8gICAgICAgaHlwZXJ0eS5vbkxpdmUoKCkgPT4gbG9nLmxvZyhgTm90aWZpY2F0aW9uIGZyb20gJHtoeXBlcnR5LmRhdGEuaHlwZXJ0eUlEfSBjaGFuZ2VkIHRvIGxpdmVgKSk7Ci8vICAgICAgIGh5cGVydHkub25EaXNjb25uZWN0ZWQoKCkgPT4gbG9nLmxvZyhgTm90aWZpY2F0aW9uIGZyb20gJHtoeXBlcnR5LmRhdGEuaHlwZXJ0eUlEfSBjaGFuZ2VkIHRvIGRpc2Nvbm5lY3RlZGApKTsKLy8gICAgIH0pOwovLyAgIH0pOwovLyB9LCAyMDAwKTsKLy8gSW5zdGFuY2lhdGUgdGhlIFN1YnNjcmlwdGlvbk1hbmFnZXI7CmUuc3Vic2NyaXB0aW9uTWFuYWdlcj1uZXcgei5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5zdG9yYWdlcy5zdWJzY3JpcHRpb25zKTsKLy8gdGhpcy5zdWJzY3JpcHRpb25NYW5hZ2VyLmluaXQoKS50aGVuKCgpPT57Ci8vICAgcmVzb2x2ZSh0cnVlKTsKLy8gfSk7CnZhciBvPVtdO28ucHVzaChlLnN1YnNjcmlwdGlvbk1hbmFnZXIuaW5pdCgpKSxvLnB1c2goZS5pZGVudGl0eU1vZHVsZS5pbml0KCkpLG8ucHVzaChMLmRlZmF1bHQubG9hZFNlc3Npb25LZXlzKCkpLGkuZGVmYXVsdC5hbGwobykudGhlbihmdW5jdGlvbihlKXszPT09ZS5sZW5ndGg/dCghMCk6cigiW1J1bnRpbWVVQS5fbG9hZENvbXBvbmVudHNdIEVycm9yIF0gIixlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSl9Y2F0Y2goZSl7cihlKX19KX19LHtrZXk6ImxvYWRIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKCFlKXRocm93IG5ldyBFcnJvcigiSHlwZXJ0eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRIeXBlcnR5KGUsdCxyKX19LHtrZXk6ImxvYWRTdHViIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlByb3RvU3R1YiBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRTdHViKGUpfX0se2tleToibG9hZElkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXtpZihRLmxvZygiaXBkUHJveHlDYXRhbG9ndWVVUkwiLGUpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIElEUCBQcm94eSBVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyLCBjb3VsZCBiZSBhIERPTUFJTiBvciBhIFVSTCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkSWRwUHJveHkoZSl9fSx7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBRLmluZm8oIlVucmVnaXN0ZXIgYWxsIGh5cGVydGllcyIpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtlLnJlZ2lzdHJ5LnVucmVnaXN0ZXJBbGxIeXBlcnRpZXMoKS50aGVuKGZ1bmN0aW9uKGUpe1EuaW5mbygiQWxsIHRoZSBoeXBlcnRpZXMgYXJlIHVucmVnaXN0ZWQgd2l0aCBTdWNjZXNzOiIsZSksdCghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtRLmVycm9yKCJGYWlsZWQgdG8gdW5yZWdpc3RlciB0aGUgaHlwZXJ0aWVzIixlKSxyKCExKX0pfSl9fV0pLFJ1bnRpbWVVQX0oKTt0LmRlZmF1bHQ9WCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0MTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTgyKSxyKDEyOCkscigxOTApLHIoNDI1KSxyKDQzMikscig0MzMpLGUuZXhwb3J0cz1yKDEzKS5Qcm9taXNlfSwvKiA0MTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTI5KSxpPXIoMTMwKTsKLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0Ci8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdAplLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG8scyxhPVN0cmluZyhpKHQpKSx1PW4ociksYz1hLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1jP2U/IiI6dm9pZCAwOihvPWEuY2hhckNvZGVBdCh1KSxvPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1jfHwocz1hLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdCh1KTpvOmU/YS5zbGljZSh1LHUrMik6cy01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2KX19fSwvKiA0MTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzMyksaT1yKDczKSxvPXIoOTUpLHM9e307Ci8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpCnIoNTgpKHMscigyMykoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihzLHtuZXh0OmkoMSxyKX0pLG8oZSx0KyIgSXRlcmF0b3IiKX19LC8qIDQxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MCksaT1yKDQxKSxvPXIoNjcpO2UuZXhwb3J0cz1yKDQ0KT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2koZSk7Zm9yKHZhciByLHM9byh0KSxhPXMubGVuZ3RoLHU9MDthPnU7KW4uZihlLHI9c1t1KytdLHRbcl0pO3JldHVybiBlfX0sLyogNDIwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZgovLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlcwp2YXIgbj1yKDQ1KSxpPXIoMTM0KSxvPXIoNDIxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYSx1PW4odCksYz1pKHUubGVuZ3RoKSxmPW8ocyxjKTsKLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobQovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKGUmJnIhPXIpe2Zvcig7Yz5mOykKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppZigoYT11W2YrK10pIT1hKXJldHVybiEwfWVsc2UgZm9yKDtjPmY7ZisrKWlmKChlfHxmIGluIHUpJiZ1W2ZdPT09cilyZXR1cm4gZXx8Znx8MDtyZXR1cm4hZSYmLTF9fX0sLyogNDIxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEyOSksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP2koZSt0LDApOm8oZSx0KX19LC8qIDQyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDIzKSxpPXIoNDI0KSxvPXIoNzQpLHM9cig0NSk7Ci8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKCkKLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKCkKLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKQovLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKCkKZS5leHBvcnRzPXIoMTgzKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLC8vIHRhcmdldAp0aGlzLl9pPTAsLy8gbmV4dCBpbmRleAp0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKToia2V5cyI9PXQ/aSgwLHIpOiJ2YWx1ZXMiPT10P2koMCxlW3JdKTppKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksCi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNykKby5Bcmd1bWVudHM9by5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSwvKiA0MjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSwvKiA0MjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSwvKiA0MjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixpLG8scyxhPXIoOTIpLHU9cigyMiksYz1yKDY1KSxmPXIoMTkxKSxsPXIoMjEpLGQ9cigzNikscD1yKDkzKSx5PXIoNDI2KSxoPXIoNDI3KSx2PXIoMTk1KSxnPXIoMTk2KS5zZXQsYj1yKDQyOSkoKSxtPXIoMTM4KSxfPXIoMTk3KSxSPXIoMTk4KSx3PXUuVHlwZUVycm9yLFM9dS5wcm9jZXNzLFA9dS5Qcm9taXNlLE89InByb2Nlc3MiPT1mKFMpLE09ZnVuY3Rpb24oKXt9LGs9aT1tLmYsTD0hIWZ1bmN0aW9uKCl7dHJ5ewovLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnQKdmFyIGU9UC5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoMjMpKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoTSxNKX07Ci8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3QKcmV0dXJuKE98fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oTSlpbnN0YW5jZW9mIHR9Y2F0Y2goZSl7fX0oKSx4PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3YsaT0xPT1lLl9zLG89MDtyLmxlbmd0aD5vOykhZnVuY3Rpb24odCl7dmFyIHIsbyxzPWk/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsdT10LnJlamVjdCxjPXQuZG9tYWluO3RyeXtzPyhpfHwoMj09ZS5faCYmRChlKSxlLl9oPTEpLCEwPT09cz9yPW46KGMmJmMuZW50ZXIoKSxyPXMobiksYyYmYy5leGl0KCkpLHI9PT10LnByb21pc2U/dSh3KCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihvPXgocikpP28uY2FsbChyLGEsdSk6YShyKSk6dShuKX1jYXRjaChlKXt1KGUpfX0ocltvKytdKTsvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaAplLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkEoZSl9KX19LEE9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4saT1lLl92LG89VShlKTtpZihvJiYodD1fKGZ1bmN0aW9uKCl7Tz9TLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsaSxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOml9KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLGkpfSksCi8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkCmUuX2g9T3x8VShlKT8yOjEpLGUuX2E9dm9pZCAwLG8mJnQuZSl0aHJvdyB0LnZ9KX0sVT1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxEPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7Tz9TLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sST1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCwvLyB1bndyYXAKdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxqPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7Ly8gdW53cmFwCnRyeXtpZihyPT09ZSl0aHJvdyB3KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PXgoZSkpP2IoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07Ly8gd3JhcAp0cnl7dC5jYWxsKGUsYyhqLG4sMSksYyhJLG4sMSkpfWNhdGNoKGUpe0kuY2FsbChuLGUpfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKGUpe0kuY2FsbCh7X3c6cixfZDohMX0sZSl9fX07Ci8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsCkx8fCgKLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcikKUD1mdW5jdGlvbihlKXt5KHRoaXMsUCwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhqLHRoaXMsMSksYyhJLHRoaXMsMSkpfWNhdGNoKGUpe0kuY2FsbCh0aGlzLGUpfX0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwpuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zCnRoaXMuX2E9dm9pZCAwLC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zCnRoaXMuX3M9MCwvLyA8LSBzdGF0ZQp0aGlzLl9kPSExLC8vIDwtIGRvbmUKdGhpcy5fdj12b2lkIDAsLy8gPC0gdmFsdWUKdGhpcy5faD0wLC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkCnRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNDMwKShQLnByb3RvdHlwZSx7Ci8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpCnRoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1rKHYodGhpcyxQKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPU8/Uy5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmRSh0aGlzLCExKSxyLnByb21pc2V9LAovLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKQpjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxvPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWMoaixlLDEpLHRoaXMucmVqZWN0PWMoSSxlLDEpfSxtLmY9az1mdW5jdGlvbihlKXtyZXR1cm4gZT09PVB8fGU9PT1zP25ldyBvKGUpOmkoZSl9KSxsKGwuRytsLlcrbC5GKiFMLHtQcm9taXNlOlB9KSxyKDk1KShQLCJQcm9taXNlIikscig0MzEpKCJQcm9taXNlIikscz1yKDEzKS5Qcm9taXNlLAovLyBzdGF0aWNzCmwobC5TK2wuRiohTCwiUHJvbWlzZSIsewovLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKQpyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ayh0aGlzKTtyZXR1cm4oMCx0LnJlamVjdCkoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooYXx8IUwpLCJQcm9taXNlIix7Ci8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KQpyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBSKGEmJnRoaXM9PT1zP1A6dGhpcyxlKX19KSxsKGwuUytsLkYqIShMJiZyKDE5OSkoZnVuY3Rpb24oZSl7UC5hbGwoZSkuY2F0Y2goTSl9KSksIlByb21pc2UiLHsKLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpCmFsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ayh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LG89XyhmdW5jdGlvbigpe3ZhciByPVtdLG89MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPW8rKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0saSl9KSwtLXN8fG4ocil9KTtyZXR1cm4gby5lJiZpKG8udiksci5wcm9taXNlfSwKLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKQpyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1rKHQpLG49ci5yZWplY3QsaT1fKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIGkuZSYmbihpLnYpLHIucHJvbWlzZX19KX0sLyogNDI2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSwvKiA0MjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjUpLGk9cigxOTIpLG89cigxOTMpLHM9cig0MSksYT1yKDEzNCksdT1yKDE5NCksYz17fSxmPXt9LHQ9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGwsZCl7dmFyIHAseSxoLHYsZz1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OnUoZSksYj1uKHIsbCx0PzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBnKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpOwovLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3IKaWYobyhnKSl7Zm9yKHA9YShlLmxlbmd0aCk7cD5tO20rKylpZigodj10P2Iocyh5PWVbbV0pWzBdLHlbMV0pOmIoZVttXSkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9ZWxzZSBmb3IoaD1nLmNhbGwoZSk7ISh5PWgubmV4dCgpKS5kb25lOylpZigodj1pKGgsYix5LnZhbHVlLHQpKT09PWN8fHY9PT1mKXJldHVybiB2fTt0LkJSRUFLPWMsdC5SRVRVUk49Zn0sLyogNDI4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNQplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0sLyogNDI5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPXIoMTk2KS5zZXQsbz1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW4ucHJvY2VzcyxhPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09cig3NSkocyk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGM9ZnVuY3Rpb24oKXt2YXIgbixpO2Zvcih1JiYobj1zLmRvbWFpbikmJm4uZXhpdCgpO2U7KXtpPWUuZm4sZT1lLm5leHQ7dHJ5e2koKX1jYXRjaChuKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxufX10PXZvaWQgMCxuJiZuLmVudGVyKCl9OwovLyBOb2RlLmpzCmlmKHUpcj1mdW5jdGlvbigpe3MubmV4dFRpY2soYyl9O2Vsc2UgaWYoIW98fG4ubmF2aWdhdG9yJiZuLm5hdmlnYXRvci5zdGFuZGFsb25lKWlmKGEmJmEucmVzb2x2ZSl7dmFyIGY9YS5yZXNvbHZlKCk7cj1mdW5jdGlvbigpe2YudGhlbihjKX19ZWxzZSByPWZ1bmN0aW9uKCl7Ci8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbCkKaS5jYWxsKG4sYyl9O2Vsc2V7dmFyIGw9ITAsZD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3IG8oYykub2JzZXJ2ZShkLHtjaGFyYWN0ZXJEYXRhOiEwfSksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKcj1mdW5jdGlvbigpe2QuZGF0YT1sPSFsfX1yZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9e2ZuOm4sbmV4dDp2b2lkIDB9O3QmJih0Lm5leHQ9aSksZXx8KGU9aSxyKCkpLHQ9aX19fSwvKiA0MzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpIGluIHQpciYmZVtpXT9lW2ldPXRbaV06bihlLGksdFtpXSk7cmV0dXJuIGV9fSwvKiA0MzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIyKSxpPXIoMTMpLG89cig0MCkscz1yKDQ0KSxhPXIoMjMpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBpW2VdP2lbZV06bltlXTtzJiZ0JiYhdFthXSYmby5mKHQsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sLyogNDMyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtZmluYWxseQp2YXIgbj1yKDIxKSxpPXIoMTMpLG89cigyMikscz1yKDE5NSksYT1yKDE5OCk7bihuLlArbi5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD1zKHRoaXMsaS5Qcm9taXNlfHxvLlByb21pc2UpLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGU7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcn0pfTplKX19KX0sLyogNDMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5CnZhciBuPXIoMjEpLGk9cigxMzgpLG89cigxOTcpO24obi5TLCJQcm9taXNlIix7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PWkuZih0aGlzKSxyPW8oZSk7cmV0dXJuKHIuZT90LnJlamVjdDp0LnJlc29sdmUpKHIudiksdC5wcm9taXNlfX0pfSwvKiA0MzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDM1KSxlLmV4cG9ydHM9cigxMykuT2JqZWN0LmFzc2lnbn0sLyogNDM1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSkKdmFyIG49cigyMSk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cig0MzYpfSl9LC8qIDQzNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pCnZhciBuPXIoNjcpLGk9cigxMzkpLG89cig3Nykscz1yKDc2KSxhPXIoMTg3KSx1PU9iamVjdC5hc3NpZ247Ci8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKQplLmV4cG9ydHM9IXV8fHIoNjYpKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtyXT03LG4uc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbigiIikhPW59KT9mdW5jdGlvbihlLHQpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciByPXMoZSksdT1hcmd1bWVudHMubGVuZ3RoLGM9MSxmPWkuZixsPW8uZjt1PmM7KWZvcih2YXIgZCxwPWEoYXJndW1lbnRzW2MrK10pLHk9Zj9uKHApLmNvbmNhdChmKHApKTpuKHApLGg9eS5sZW5ndGgsdj0wO2g+djspbC5jYWxsKHAsZD15W3YrK10pJiYocltkXT1wW2RdKTtyZXR1cm4gcn06dX0sLyogNDM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQzOCk7dmFyIG49cigxMykuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0sLyogNDM4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKTsKLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykKbihuLlMrbi5GKiFyKDQ0KSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6cig0MCkuZn0pfSwvKiA0MzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig3KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obCkscD1yKDE0MCkseT1yKDQ0MiksaD1yKDk5KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQ2NSksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLG09cig0NjcpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxSPXIoMTQpO3IoNDY4KTt2YXIgdz1yKDIwNSksUz1kLmdldExvZ2dlcigiUmVnaXN0cnkiKSxQPXtDUkVBVEVEOiJjcmVhdGVkIixMSVZFOiJsaXZlIixERVBMT1lJTkc6ImRlcGxveWluZyIsREVQTE9ZRUQ6ImRlcGxveWVkIixQUk9HUkVTUzoiaW4tcHJvZ3Jlc3MiLERJU0NPTk5FQ1RFRDoiZGlzY29ubmVjdGVkIixGQUlMRUQ6ImRlcGxveW1lbnQtZmFpbGVkIixERUFEOiJkZWFkIn0sTz1mdW5jdGlvbigpey8qKgogICogVG8gaW5pdGlhbGlzZSB0aGUgUnVudGltZSBSZWdpc3RyeSB3aXRoIHRoZSBSdW50aW1lVVJMIHRoYXQgd2lsbCBiZSB0aGUgYmFzaXMgdG8gZGVyaXZlIHRoZSBpbnRlcm5hbCBydW50aW1lIGFkZHJlc3NlcyB3aGVuIGFsbG9jYXRpbmcgYWRkcmVzc2VzIHRvIGludGVybmFsIHJ1bnRpbWUgY29tcG9uZW50LiBJbiBhZGRpdGlvbiwgdGhlIFJlZ2lzdHJ5IGRvbWFpbiBiYWNrLWVuZCB0byBiZSB1c2VkIHRvIHJlbW90ZWx5IHJlZ2lzdGVyIFJ1bnRpbWUgY29tcG9uZW50cywgaXMgYWxzbyBwYXNzZWQgYXMgaW5wdXQgcGFyYW1ldGVyLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1cwogICogQHBhcmFtICB7SHlwZXJ0eVJ1bnRpbWVVUkx9ICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkwKICAqIEBwYXJhbSAge0FwcFNhbmRib3h9ICAgICAgICAgIGFwcFNhbmRib3ggICAgICAgICAgICBhcHBTYW5kYm94CiAgKiBAcGFyYW0gIHtydW50aW1lQ2F0YWxvZ3VlfSAgICBydW50aW1lQ2F0YWxvZ3VlICAgICAgcnVudGltZUNhdGFsb2d1ZQogICogQHBhcmFtICB7RG9tYWluVVJMfSAgICAgICAgICAgcmVtb3RlUmVnaXN0cnkgICAgICAgIHJlbW90ZVJlZ2lzdHJ5CiAgKiBAcGFyYW0gIHtzdG9yYWdlTWFuYWdlcn0gICAgICBzdG9yYWdlTWFuYWdlcgogICovCmZ1bmN0aW9uIFJlZ2lzdHJ5KGUsdCxyLG4saSxvLHMsYSl7Ci8vIGhvdyBzb21lIGZ1bmN0aW9ucyByZWNlaXZlIHRoZSBwYXJhbWV0ZXJzIGZvciBleGFtcGxlOgovLyBuZXcgUmVnaXN0cnkoJ2h5cGVydHktcnVudGltZTovL3NwMS8xMjMnLCBhcHBTYW5kYm94LCBpZE1vZHVsZSwgcmVtb3RlUmVnaXN0cnkpOwovLyByZWdpc3RyeS5yZWdpc3RlclN0dWIoc2FuZGJveCwgJ3NwMScpOwovLyByZWdpc3RyeS5yZWdpc3Rlckh5cGVydHkoc2FuZEJveCwgJ2h5cGVydHktcnVudGltZTovL3NwMS8xMjMnKTsKLy8gcmVnaXN0cnkucmVzb2x2ZSgnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycpOwppZigoMCx1LmRlZmF1bHQpKHRoaXMsUmVnaXN0cnkpLCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZy4iKTsvKmlmICghcmVtb3RlUmVnaXN0cnkpIHRocm93IG5ldyBFcnJvcigncmVtb3RlUmVnaXN0cnkgaXMgbWlzc2luZycpOyovCnZhciBjPXRoaXM7Yy5yZWdpc3RyeVVSTD1lKyIvcmVnaXN0cnkvIixjLmFwcFNhbmRib3g9dCxjLnJ1bnRpbWVVUkw9ZSxjLnAycEhhbmRsZXJVUkw9cyxjLnJ1bnRpbWVDYXRhbG9ndWU9bixjLnJlbW90ZVJlZ2lzdHJ5PWEsYy5pZE1vZHVsZT1yLGMuc3RvcmFnZU1hbmFnZXI9byxjLnJ1bnRpbWVDYXBhYmlsaXRpZXM9aSxjLmlkZW50aWZpZXI9KDAsUi5nZW5lcmF0ZUdVSUQpKCksYy5yZWdpc3RyYXRpb25SZXRyaWVzPTUsLy8gbnVtYmVyIG9mIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIEh5cGVydGllcyBhbmQgRGF0YU9iamVjdHMgd2hlbiBlcnJvcnMgb2NjdXJzCi8vIHRoZSBleHBpcmVzIGluIDM2MDAsIHJlcHJlc2VudHMgMSBob3VyCi8vdGhlIGV4cGlyZXMgaXMgaW4gc2Vjb25kcywgdW5pdCBvZiBtZWFzdXJlIHJlY2VpdmVkIGJ5IHRoZSBkb21haW4gcmVnaXN0cnkKYy5leHBpcmVzVGltZT0zNjAwLGMuaHlwZXJ0aWVzTGlzdFRvUmVtb3ZlPXt9LGMuaHlwZXJ0aWVzTGlzdD1bXSxjLnJlbW90ZUh5cGVydHlMaXN0PVtdLGMucmVtb3RlRGF0YU9iamVjdExpc3Q9W10sYy5pZHBMZWdhY3lQcm94eUxpc3Q9e30sYy53YXRjaGluZ1lvdT1uZXcgdy5XYXRjaGluZ1lvdSxjLnAycEhhbmRsZXJTdHViPXt9LGMucDJwUmVxdWVzdGVyU3R1Yj1jLndhdGNoaW5nWW91LndhdGNoKCJwMnBSZXF1ZXN0ZXJTdHViIix7fSwhMCksYy5wMnBDb25uZWN0aW9uTGlzdD1jLndhdGNoaW5nWW91LndhdGNoKCJwMnBDb25uZWN0aW9uTGlzdCIse30sITApLGMucDJwSGFuZGxlckFzc29jaWF0aW9uPXt9LGMucHJvdG9zdHVic0xpc3Q9Yy53YXRjaGluZ1lvdS53YXRjaCgicHJvdG9zdHVic0xpc3QiLHt9LCEwKSxjLmlkcFByb3h5TGlzdD1jLndhdGNoaW5nWW91LndhdGNoKCJpZHBQcm94eUxpc3QiLHt9LCEwKSxjLmRhdGFPYmplY3RMaXN0PXt9LGMuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0PXt9LGMuc2FuZGJveGVzTGlzdD17c2FuZGJveDp7fSxhcHBTYW5kYm94Ont9fSxjLnBlcExpc3Q9e30sYy5yZWdpc3RyaWVzPXt9LGMuX2RvbWFpbj0oMCxSLmRpdmlkZVVSTCkoYy5yZWdpc3RyeVVSTCkuZG9tYWluLGMuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2VdPXQ7dmFyIGY9bmV3IF8uZGVmYXVsdChjKTtjLl9wMnBDb25uZWN0aW9uUmVzb2x2ZT1mfXJldHVybigwLGYuZGVmYXVsdCkoUmVnaXN0cnksW3trZXk6Il9nZXRJZGVudGl0eUFzc29jaWF0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gci5oeXBlcnRpZXNMaXN0KXt2YXIgaT1yLmh5cGVydGllc0xpc3Rbbl07aWYoaS5faHlwZXJ0eVVSTD09PXQpc3dpdGNoKGUpe2Nhc2UidXNlcm5hbWUiOnJldHVybiBpLl91c2VyLnVzZXJuYW1lO2Nhc2UiY24iOnJldHVybiBpLl91c2VyLmNuO2Nhc2UibG9jYWxlIjpyZXR1cm4gaS5fdXNlci5sb2NhbGU7Y2FzZSJhdmF0YXIiOnJldHVybiBpLl91c2VyLmF2YXRhcjtjYXNlInVzZXJVUkwiOnJldHVybiBpLl91c2VyLnVzZXJVUkw7Y2FzZSIuIjpyZXR1cm4gaS5fdXNlcjtkZWZhdWx0OnJldHVybiIifX1yZXR1cm4iIn19LHtrZXk6ImdldEFwcFNhbmRib3giLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwU2FuZGJveH19LHtrZXk6ImdldEh5cGVydHlPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXZvaWQgMDtmb3IodmFyIG4gaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgaT10Lmh5cGVydGllc0xpc3Rbbl07aS5oeXBlcnR5VVJMPT09ZSYmKHI9aS51c2VyLnVzZXJVUkwpfXJldHVybiByfX0se2tleToiZ2V0SHlwZXJ0eU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0iaHlwZXJ0eSI9PT0oMCxSLmRpdmlkZVVSTCkoZSkudHlwZSxuPXZvaWQgMCxpPXI/ZTp0LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtmb3IodmFyIG8gaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgcz10Lmh5cGVydGllc0xpc3Rbb107aWYocy5oeXBlcnR5VVJMPT09aSl7bj1zLm9iamVjdE5hbWU7YnJlYWt9fXJldHVybiBufX0se2tleToiZ2V0UmVwb3J0ZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT10LmRhdGFPYmplY3RMaXN0W2VdO2k/cihpLnJlcG9ydGVyKTpuKCJObyByZXBvcnRlciB3YXMgZm91bmQiKX0pfX0se2tleToiZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtyZXR1cm4gcj9yLnJlcG9ydGVyOnZvaWQgMH19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdfX0se2tleToicmVnaXN0ZXJTdWJzY3JpYmVkRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PXIuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdJiYoci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV09dCl9fSx7a2V5OiJnZXRQcmVBdXRoU3Vic2NyaWJlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdLG49W107cmV0dXJuIHImJihuPXIuYXV0aG9yaXNlKSxufX0se2tleToidW5yZWdpc3RlckFsbEh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtmb3IodmFyIGkgaW4gZS5oeXBlcnRpZXNMaXN0KXt2YXIgbz1lLmh5cGVydGllc0xpc3RbaV0sYT1lLnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2Uoby5oeXBlcnR5VVJMKTt0LnB1c2goYSl9cy5kZWZhdWx0LmFsbCh0KS50aGVuKGZ1bmN0aW9uKCl7cigic3VjY2Vzc2Z1bGx5IHVucmVnaXN0ZXJlZCBhbGwgaHlwZXJ0aWVzIil9LGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToidW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vVE9ETyB3b3JraW5nIGJ1dCB0aGUgdXNlcgp2YXIgdD10aGlzLHI9e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzplLGJvZHk6e21ldGhvZDoiY2xvc2UifX07Ci8vIFNlbmQgbWVzc2FnZSB0byBoeXBlcnR5IHRvIGNsb3NlCnQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtTLmxvZygiW1JlZ2lzdHJ5LnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2VdIENsb3NlIFJlcGx5IixyKTt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS8iK2UsdmFsdWU6ImRpc2Nvbm5lY3RlZCIsYXR0cmlidXRlOiJzdGF0dXMifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKGUpe1MubG9nKCJbUmVnaXN0cnldIHVucmVnaXN0ZXIgaHlwZXJ0eSBSZXBseSIsZSl9KX0pfX0se2tleToidW5yZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUsdmFsdWU6e3N0YXR1czoiZGlzY29ubmVjdGVkIn19fTt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24oZSl7Uy5sb2coIltSZWdpc3RyeV0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImRlbGV0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3QuX2RvbWFpbixib2R5Ont2YWx1ZTp7bmFtZTplfX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtTLmxvZygiW1JlZ2lzdHJ5XSB1bnJlZ2lzdGVyIGRhdGFPYmplY3QgUmVwbHkiLGUpfSl9fSx7a2V5OiJ1cGRhdGVIeXBlcnR5SW5zdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJVUERBVEUiLGZyb206ci5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9kb21haW4sYm9keTp7cmVzb3VyY2U6ZSx2YWx1ZTp0fX07ci5fbWVzc2FnZUJ1cy5wb3N0LnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24oZSl7fSl9fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuZGF0YU9iamVjdExpc3RbZV07biYmKG4uc3Vic2NyaWJlcnN8fChuLnN1YnNjcmliZXJzPVtdKSxuLnN1YnNjcmliZXJzLnB1c2godCksci5kYXRhT2JqZWN0TGlzdFtlXT1uKX19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV07aWYocilyZXR1cm4gci5zdWJzY3JpYmVyczt0aHJvdyJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCJ9fSx7a2V5OiJyZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxSLmRlZXBDbG9uZSkoZSk7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgcz1bXSxhPXIudXJsLnNwbGl0KCI6Iik7cy5wdXNoKGFbMF0pLHQuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIpLnRoZW4oZnVuY3Rpb24oYSl7YXx8KGE9e30pLAovL3VwZGF0ZSB0aGUgbGlzdCB3aXRoIHRoZSBuZXcgZWxlbWVudHMKYVtlLm5hbWUrZS5zY2hlbWErZS5yZXNvdXJjZXMrZS5yZXBvcnRlcl09ZS51cmw7dmFyIHU9dm9pZCAwLGM9dm9pZCAwOzAhPT0oMCxpLmRlZmF1bHQpKHQucDJwSGFuZGxlclN0dWIpLmxlbmd0aCYmKHU9dC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdLnVybCxjPXAucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLnAycFJlcXVlc3RlclN0dWIpLHIuc3RhcnRpbmdUaW1lPXIuY3JlYXRlZCxkZWxldGUgci5hdXRob3Jpc2UsZGVsZXRlIHIuY3JlYXRlZCxkZWxldGUgci5tdXR1YWwsZGVsZXRlIHIucmVzdW1lLHIuZXhwaXJlc3x8KHIuZXhwaXJlcz10LmV4cGlyZXNUaW1lKSxyLmRhdGFTY2hlbWVzPXMsdSYmKHIucDJwSGFuZGxlcj11LHIucDJwUmVxdWVzdGVyPWMpLHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoci5yZXBvcnRlcikmJihyLmludGVyd29ya2luZz0hMCksci5zdGF0dXM9ImxpdmUiO3ZhciBmPXZvaWQgMDtlLnJlc3VtZT8oUy5sb2coIltSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdIHJlZ2lzdGVyaW5nIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBkYXRhIG9iamVjdCBVUkwiLHIpLGY9e3R5cGU6InVwZGF0ZSIsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixmcm9tOnQucmVnaXN0cnlVUkwsYm9keTp7cmVzb3VyY2U6ci51cmwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9fX0pOihTLmxvZygiW1JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdF0gcmVnaXN0ZXJpbmcgbmV3IGRhdGEgb2JqZWN0IFVSTCIsciksZj17dHlwZToiY3JlYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixib2R5Ont2YWx1ZTpyLHBvbGljeToicG9saWN5In19KSx0LmRhdGFPYmplY3RMaXN0W3IudXJsXT1lLAovLyBzdGVwIHRvIG9idGFpbiB0aGUgbGlzdCBvZiBhbGwgVVJMIHJlZ2lzdGVyZWQgdG8gdXBkYXRlZCB3aXRoIHRoZSBuZXcgb25lLgp0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiLDAsYSkudGhlbihmdW5jdGlvbigpe3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMoZix0Ll9yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0XSA9PT0+IHJlZ2lzdGVyRGF0YU9iamVjdCBSZXBseTogJywgcmVwbHkpOwoyMDA9PT1lLmJvZHkuY29kZT9uKHIpOm8oImVycm9yIG9uIHJlZ2lzdGVyIERhdGFPYmplY3QiKX0pfWNhdGNoKGUpe1MuZXJyb3IoZSksbyhlKX0KLy90aW1lciB0byBrZWVwIHRoZSByZWdpc3RyYXRpb24gYWxpdmUKLy8gdGhlIHRpbWUgaXMgZGVmaW5lZCBieSBhIGxpdHRsZSBsZXNzIHRoYW4gaGFsZiBvZiB0aGUgZXhwaXJlcyB0aW1lIGRlZmluZWQKc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZT17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixib2R5OntyZXNvdXJjZTpyLnVybCx2YWx1ZTp7c3RhdHVzOiJsaXZlIn0sbWV0aG9kOiJyZWZyZXNoIn19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSxmdW5jdGlvbihlKXt9KX0sci5leHBpcmVzLzEuMS8yKjFlMyl9KS5jYXRjaChmdW5jdGlvbihlKXtTLmVycm9yKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBFcnJvcjogIixlKSxvKGUpfSl9KX0pfX0se2tleToiX2dldFJlc291cmNlc0FuZFNjaGVtZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocil7dmFyIG49dm9pZCAwOwovLyBjaGVjayBpZiB0aGUgaHlwZXJ0eSByZXNvdXJjZXMgaXMgYSB2ZWN0b3Igb3IgYSBzdHJpbmcKLy8gVE9ETyBkZWxldGUgbGF0ZXIgd2hlbiBjYXRhbG9ndWUgaXMgZml4ZWQKInN0cmluZyI9PXR5cGVvZiBlLmh5cGVydHlUeXBlPyhuPVtdLG4ucHVzaChlLmh5cGVydHlUeXBlKSk6bj1lLmh5cGVydHlUeXBlO3ZhciBpPWUub2JqZWN0TmFtZSxvPWUuZGF0YU9iamVjdHMsYT1bXTsKLy90aGlzIHdpbGwgY3JlYXRlIGEgYXJyYXkgd2l0aCBhIFByb21pc2UgaW4gZWFjaCBwb3NpdGlvbgpmb3IodmFyIHUgaW4gbylhLnB1c2godC5ydW50aW1lQ2F0YWxvZ3VlLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKG9bdV0pKTsKLy8gYXMgc29vbiBhcyB0aGUgcHJldmlvdXMgYXJyYXkgaXMgY29tcGxldGVkLCB0aGlzIHdpbGwgd2FpdCBmb3IgdGhlIHJlc29sdmUgb2YgYWxsIHByb21pc2VzIGluIHRoZSBhcnJheQpzLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBvIGluIGUpe3ZhciBzPWVbb107dC5wdXNoKHMuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMuc2NoZW1lLmNvbnN0YW50KX0KLy8gbG9nLmxvZygnW1JlZ2lzdHJ5XSBIeXBlcnR5IFNjaGVtYXMnLCBmaWx0ZXJlZERhdGFTY2hlbWFzKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5XSBIeXBlcnR5IHJlc291cmNlcycsIHJlc291cmNlcyk7CnIoe3Jlc291cmNlczpuLGRhdGFTY2hlbWE6dCxuYW1lOml9KX0pfSl9fSx7a2V5OiJjaGVja1JlZ2lzdGVyZWRVUkxzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89ZS5yZXBvcnRlcj8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyI7InN0cmluZyI9PXR5cGVvZiB0JiYobz10JiYiaHlwZXJ0eSIhPT0oMCxSLmRpdmlkZVVSTCkodCkudHlwZT8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyIpLHIuc3RvcmFnZU1hbmFnZXIuZ2V0KG8pLnRoZW4oZnVuY3Rpb24ocyl7aWYoc3x8KHM9e30pLCJzdHJpbmciPT10eXBlb2YgdCl7Uy5pbmZvKCJbUmVnaXN0cnkgLSBjaGVja1JlZ2lzdGVyZWRVUkxzXSAtIGxvb2sgZm9yICIrdCsiIG9uICIscyk7dmFyIGE9KDAsaS5kZWZhdWx0KShzKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9c1tlXS5pbmRleE9mKHQpO3JldHVybiBzW2VdW3JdfSk7cmV0dXJuIFMuaW5mbygiW1JlZ2lzdHJ5IC0gY2hlY2tSZWdpc3RlcmVkVVJMc10gLSBmb3VuZCAiK2EubGVuZ3RoKyIgcmVzdWx0cyBvbiAiLGEpLG4oMT09PWEubGVuZ3RoP2E6dm9pZCAwKX1pZigicmVnaXN0cnk6SHlwZXJ0eVVSTHMiIT09byl7dmFyIHU9ZS5uYW1lK2Uuc2NoZW1hK2UucmVzb3VyY2VzK2UucmVwb3J0ZXI7cmV0dXJuIG4oc1t1XT9zW3VdOnZvaWQgMCl9ci5fZ2V0UmVzb3VyY2VzQW5kU2NoZW1lcyhlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuKHNbZS5yZXNvdXJjZXMrZS5kYXRhU2NoZW1hK2UubmFtZV0/c1tlLnJlc291cmNlcytlLmRhdGFTY2hlbWErZS5uYW1lXTp2b2lkIDApfSl9KX0pfX0se2tleToicmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe3ZhciBhPXRoaXMsdT12b2lkIDA7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocyxjKXsKLy9hc3N1bWluZyBkZXNjcmlwdG9yIGNvbWUgaW4gdGhpcyBmb3JtYXQsIHRoZSBzZXJ2aWNlLXByb3ZpZGVyLWRvbWFpbiB1cmwgaXMgcmV0cmlldmVkIGJ5IGEgc3BsaXQgaW5zdHJ1Y3Rpb24KLy9oeXBlcnR5LWNhdGFsb2d1ZTovLzxzZXJ2aWNlLXByb3ZpZGVyLWRvbWFpbj4vPGNhdGFsb2d1ZS1vYmplY3QtaWRlbnRpZmllcj4KdmFyIGY9KDAsUi5kaXZpZGVVUkwpKHQpLmRvbWFpbjtmLmluY2x1ZGVzKCJjYXRhbG9ndWUiKSYmKGY9Zi5yZXBsYWNlKCJjYXRhbG9ndWUuIiwiIikpLGEuaWRNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb24obykudGhlbihmdW5jdGlvbihvKXt2YXIgbD1vLnVzZXJQcm9maWxlLGQ9bC51c2VyVVJMO3ZvaWQgMD09PWEuX21lc3NhZ2VCdXM/YygiW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gTWVzc2FnZUJ1cyBpcyB1bmRlZmluZWQiKToKLy9jYWxsIGNoZWNrIGlmIHRoZSBwcm90b3N0dWIgZXhpc3Q6IHRvIGJlIHJlbW92ZWQKLyogIF90aGlzLnJlc29sdmUoZG9tYWluVXJsKS50aGVuKGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAvLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBzdHViIHRvIGRvbWFpbiByZWdpc3RyeS0gJywgYSk7Ki8KYS5zdG9yYWdlTWFuYWdlci5nZXQoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIikudGhlbihmdW5jdGlvbihvKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gc3RvcmFnZU1hbmFnZXJdIC0gJywgdXJsc0xpc3QpOwphLl9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzKHIpLnRoZW4oZnVuY3Rpb24oeSl7dT15LG98fChvPXt9KSxvW3UucmVzb3VyY2VzK3UuZGF0YVNjaGVtYSt1Lm5hbWVdPW4uYWRkcmVzcyxhLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiLDAsbykudGhlbihmdW5jdGlvbigpe2EucmVnaXN0cnlEb21haW49ZiwKLy9jaGVjayB3aGV0aGVyIHRoZSByZWNlaXZlZCBzYW5ib3ggZSBBcHBsaWNhdGlvblNhbmRib3ggb3IgYSBub3JtYWwgc2FuZGJveAoiYXBwIj09PWUudHlwZT9hLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFtuLmFkZHJlc3NbMF1dPWU6Im5vcm1hbCI9PT1lLnR5cGU/YS5zYW5kYm94ZXNMaXN0LnNhbmRib3hbbi5hZGRyZXNzWzBdXT1lOmMoIldyb25nIFNhbmRib3hUeXBlIik7dmFyIG89dm9pZCAwLHk9dm9pZCAwOzAhPT0oMCxpLmRlZmF1bHQpKGEucDJwSGFuZGxlclN0dWIpLmxlbmd0aCYmKG89YS5wMnBIYW5kbGVyU3R1YlthLnJ1bnRpbWVVUkxdLnVybCx5PXAucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLnAycFJlcXVlc3RlclN0dWIpO3ZhciBoPWEucnVudGltZVVSTCx2PW5ldyBiLmRlZmF1bHQoYS5pZGVudGlmaWVyLGEucmVnaXN0cnlVUkwsdCxyLG4uYWRkcmVzc1swXSxsLCJndWlkIixhLnJ1bnRpbWVVUkwsImN0eCIsbyx5LHUuZGF0YVNjaGVtYSx1LnJlc291cmNlcyk7YS5oeXBlcnRpZXNMaXN0LnB1c2godik7Ci8vbWVzc2FnZSB0byByZWdpc3RlciB0aGUgbmV3IGh5cGVydHksIHdpdGhpbiB0aGUgZG9tYWluIHJlZ2lzdHJ5CnZhciBnPXZvaWQgMCxtPXZvaWQgMCxfPWEuZXhwaXJlc1RpbWU7Ci8vIHNldCBhIGRpZmZlcmVudCBleHBpcmVzIHZhbHVlIGlmIGNvbmZpZ3VyZWQgaW4gdGhlIEh5cGVydHkgZGVzY3JpcHRvcgpyLmNvbmZpZ3VyYXRpb24mJnIuY29uZmlndXJhdGlvbi5leHBpcmVzJiYoXz1yLmNvbmZpZ3VyYXRpb24uZXhwaXJlcyksbi5uZXdBZGRyZXNzPygKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gcmVnaXN0ZXJpbmcgbmV3IEh5cGVydHkgVVJMJywgYWRkcmVzc1VSTC5hZGRyZXNzWzBdKTsKZz17dXNlcjpkLGRlc2NyaXB0b3I6dCx1cmw6bi5hZGRyZXNzWzBdLGV4cGlyZXM6XyxyZXNvdXJjZXM6dS5yZXNvdXJjZXMsZGF0YVNjaGVtZXM6dS5kYXRhU2NoZW1hLHJ1bnRpbWU6aCxzdGF0dXM6ImxpdmUifSwKLy8gc2V0IGEgZGlmZmVyZW50IGV4cGlyZXMgaWYgZGVmaW5lZCBpbiB0aGUgaHlwZXJ0eSBjb25maWd1cmF0aW9uCm8mJihnLnAycEhhbmRsZXI9byxnLnAycFJlcXVlc3Rlcj15KSwKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gcmVnaXN0ZXJpbmcgbmV3IEh5cGVydHkgYXQgZG9tYWluIHJlZ2lzdHJ5ICcsIG1lc3NhZ2VWYWx1ZSk7Cm09e3R5cGU6ImNyZWF0ZSIsZnJvbTphLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EucmVnaXN0cnlEb21haW4sYm9keTp7dmFsdWU6Zyxwb2xpY3k6InBvbGljeSJ9fSk6KAovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSByZWdpc3RlcmluZyBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgSHlwZXJ0eSBVUkwnLCBhZGRyZXNzVVJMLmFkZHJlc3NbMF0pOwptPXt0eXBlOiJ1cGRhdGUiLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EucmVnaXN0cnlEb21haW4sZnJvbTphLnJlZ2lzdHJ5VVJMLGJvZHk6e3Jlc291cmNlOm4uYWRkcmVzc1swXSx2YWx1ZTp7c3RhdHVzOiJsaXZlIix1c2VyOmR9fX0sbyYmKG0uYm9keS52YWx1ZS5wMnBIYW5kbGVyPW8sbS5ib2R5LnZhbHVlLnAycFJlcXVlc3Rlcj15KSk7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIEh5cGVydHkgcmVnaXN0cmF0aW9uIGF0IGRvbWFpbiByZWdpc3RyeSAgLSAnLCBtZXNzYWdlKTsKdHJ5e2EuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhtLGEucmVnaXN0cmF0aW9uUmV0cmllcyxmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gSHlwZXJ0eSByZWdpc3RyYXRpb24gcmVzcG9uc2U6ICcsIHJlcGx5KTsKaWYoMjAwPT09ZS5ib2R5LmNvZGUpe3ZhciByPXt1cmw6bi5hZGRyZXNzWzBdfTtvJiYoci5wMnBIYW5kbGVyPW8sci5wMnBSZXF1ZXN0ZXI9eSkscyhyKX1lbHNle2lmKDQwNCE9PWUuYm9keS5jb2RlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlZ2lzdGVyIGFuIEh5cGVydHk6ICIsZSk7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIFRoZSB1cGRhdGUgd2FzIG5vdCBwb3NzaWJsZS4gUmVnaXN0ZXJpbmcgbmV3IEh5cGVydHkgYXQgZG9tYWluIHJlZ2lzdHJ5Jyk7Cmc9e3VzZXI6ZCxkZXNjcmlwdG9yOnQsdXJsOm4uYWRkcmVzc1swXSxleHBpcmVzOl8scmVzb3VyY2VzOnUucmVzb3VyY2VzLGRhdGFTY2hlbWVzOnUuZGF0YVNjaGVtYSxydW50aW1lOmgsc3RhdHVzOiJsaXZlIn0sbyYmKGcucDJwSGFuZGxlcj1vLGcucDJwUmVxdWVzdGVyPXkpLG09e3R5cGU6ImNyZWF0ZSIsZnJvbTphLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EucmVnaXN0cnlEb21haW4sYm9keTp7dmFsdWU6Zyxwb2xpY3k6InBvbGljeSJ9fTt0cnl7YS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzKG0sYS5yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBIeXBlcnR5IHJlZ2lzdHJhdGlvbiB1cGRhdGUgcmVzcG9uc2U6ICcsIHJlcGx5KTsKaWYoMjAwIT09ZS5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eTogIitlKTt2YXIgdD17dXJsOm4uYWRkcmVzc1swXX07byYmKHQucDJwSGFuZGxlcj1vLHQucDJwUmVxdWVzdGVyPXkpLHModCl9KX1jYXRjaChlKXtTLmVycm9yKGUpLGMoZSl9fX0pfWNhdGNoKGUpe1MuZXJyb3IoZSksYyhlKX0KLy90aW1lciB0byBrZWVwIHRoZSByZWdpc3RyYXRpb24gYWxpdmUKLy8gdGhlIHRpbWUgaXMgZGVmaW5lZCBieSBhIGxpdHRsZSBsZXNzIHRoYW4gaGFsZiBvZiB0aGUgZXhwaXJlcyB0aW1lIGRlZmluZWQKc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZT17dHlwZToidXBkYXRlIixmcm9tOmEucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYS5yZWdpc3RyeURvbWFpbixib2R5OntyZXNvdXJjZTpuLmFkZHJlc3NbMF0sdmFsdWU6e3N0YXR1czoibGl2ZSJ9LG1ldGhvZDoicmVmcmVzaCJ9fTthLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUsZnVuY3Rpb24oZSl7fSl9LF8vMS4xLzIqMWUzKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBFcnJvcjogJywgcmVhc29uKTsKYyhlKX0pfSl9KX0sZnVuY3Rpb24oZSl7YygiW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gIixlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPSExLG89MDtmb3Iobz0wO288dC5oeXBlcnRpZXNMaXN0Lmxlbmd0aDtvKyspe3ZhciBzPXQuaHlwZXJ0aWVzTGlzdFtvXTtpZih2b2lkIDAhPT1zJiZzLmh5cGVydHlVUkw9PT1lKXtpPSEwO2JyZWFrfX0hMT09PWk/bigiSHlwZXJ0eSBub3QgZm91bmQiKTooZGVsZXRlIHQuaHlwZXJ0aWVzTGlzdFtvXSxyKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIikpfSl9fSx7a2V5OiJkaXNjb3ZlclByb3Rvc3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQYXJhbWV0ZXIgdXJsIG5lZWRlZCIpO3ZhciB0PXRoaXMscj0oMCxSLmRpdmlkZVVSTCkoZSksbj1yLmRvbWFpbjtpZih0LnByb3Rvc3R1YnNMaXN0Lmhhc093blByb3BlcnR5KG4pJiZ0LnByb3Rvc3R1YnNMaXN0W25dLnN0YXR1cz09PVAuTElWRSlyZXR1cm4gdC5wcm90b3N0dWJzTGlzdFtuXTt0aHJvdyB0LnByb3Rvc3R1YnNMaXN0W25dPXtzdGF0dXM6UC5ERVBMT1lJTkd9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQcm90b1N0dWIgXSBNZXNzYWdlIE5vZGUgUHJvdG9zdHViIE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9fSx7a2V5OiJkaXNjb3ZlclAyUFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZSl7aWYodC5wMnBSZXF1ZXN0ZXJTdHViLmhhc093blByb3BlcnR5KGUpJiZ0LnAycFJlcXVlc3RlclN0dWJbZV0uc3RhdHVzPT09UC5MSVZFKXJldHVybiB0LnAycFJlcXVlc3RlclN0dWJbZV07dGhyb3cgdC5wMnBSZXF1ZXN0ZXJTdHViW2VdPXtzdGF0dXM6UC5DUkVBVEVEfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUDJQU3R1YiBdIFAyUCBSZXF1ZXN0ZXIgU3R1YiBOb3QgRm91bmQuIENyZWF0aW5nIG9uZSIpfWlmKHQucDJwSGFuZGxlclN0dWIuaGFzT3duUHJvcGVydHkodC5ydW50aW1lVVJMKSlyZXR1cm4gdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdO3Rocm93IHQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXT17c3RhdHVzOlAuQ1JFQVRFRH0sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclAyUFN0dWIgXSBQMlAgSGFuZGxlciBTdHViIE5vdCBGb3VuZC4iKX19LHtrZXk6InJlZ2lzdGVyU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz10aGlzLGE9aTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLHMpe3ZhciB1PXZvaWQgMDsKLy9jaGVjayBpZiBtZXNzYWdlQnVzIGlzIHJlZ2lzdGVyZWQgaW4gcmVnaXN0cnkgb3Igbm90CnZvaWQgMD09PW8uX21lc3NhZ2VCdXMmJnMoIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLFMuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViXSAtIHN0dWJJRCAiLHQpOy8qIGlmICghc3R1YklELmluZGV4T2YoJ21zZy1ub2RlLicpKSB7CiAgICAgICAgICBzdHViSUQgPSBzdHViSUQuc3Vic3RyaW5nKHN0dWJJRC5pbmRleE9mKCcuJykgKyAxKTsKICAgICAgICB9Ki8KdmFyIGM9dm9pZCAwO2lmKHIpaWYoci5oYXNPd25Qcm9wZXJ0eSgiaXNIYW5kbGVyU3R1YiIpJiZyLmlzSGFuZGxlclN0dWIpdT1vLnAycEhhbmRsZXJVUkwsby5wMnBIYW5kbGVyU3R1Ylt0XT17dXJsOnUsc3RhdHVzOlAuQ1JFQVRFRH0sby5wMnBIYW5kbGVyQXNzb2NpYXRpb25bby5ydW50aW1lVVJMXT1bXSxvLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XT1lLFMuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViIC0gUDJQSGFuZGxlclN0dWJdIC0gIix0LCIgLSAiLHUpLGkoby5wMnBIYW5kbGVyU3R1Ylt0XSk7ZWxzZXtjPXIucDJwUmVxdWVzdGVyU3R1Yix1PSJydW50aW1lOi8vIisoMCxSLmRpdmlkZVVSTCkoci5yZW1vdGVSdW50aW1lVVJMKS5kb21haW4rIi9wMnByZXF1ZXN0ZXIvIisoMCxSLmdlbmVyYXRlR1VJRCkoKSxTLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIFAyUFJlcXVlc3RlclN0dWJdIC0gIixjLCIgLSAiLHUpLAovLyB0byBiZSBjbGFyaWZpZWQgd2hhdCBpcyB0aGlzIHAycEhhbmRsZXJBc3NvY2lhdGlvbgpvLnAycEhhbmRsZXJBc3NvY2lhdGlvbltvLnJ1bnRpbWVVUkxdLnB1c2godSksby5wMnBSZXF1ZXN0ZXJTdHViW3RdPXt1cmw6dSxzdGF0dXM6UC5DUkVBVEVEfSxvLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XT1lOwovL1NldHVwIFAyUCBSZXF1ZXN0ZXIgcGF0aCBpbnRvIE1OCnZhciBmPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206by5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitvLl9kb21haW4rIi9zbSIsYm9keTp7c3Vic2NyaWJlOlt1XSxzb3VyY2U6by5yZWdpc3RyeVVSTH19O28uX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZixmdW5jdGlvbihlKXt9KSxpKG8ucDJwUmVxdWVzdGVyU3R1Ylt0XSl9ZWxzZSB1PSJydW50aW1lOi8vIit0KyIvcHJvdG9zdHViLyIrKDAsUi5nZW5lcmF0ZUdVSUQpKCksUy5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBOb3JtYWwgU3R1Yl0gLSAiLHQpLAovLyBUT0RPOiBPcHRpbWl6ZSB0aGlzCm8ucHJvdG9zdHVic0xpc3RbdF09e3VybDp1LHN0YXR1czpQLkRFUExPWUlOR30sbiYmKG8ucHJvdG9zdHVic0xpc3RbdF0uZGVzY3JpcHRvclVSTD1uKSxhJiZhLmludGVyd29ya2luZyYmKG8ucHJvdG9zdHVic0xpc3RbdF0uaW50ZXJ3b3JraW5nPWEuaW50ZXJ3b3JraW5nKSxvLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XT1lLGkoby5wcm90b3N0dWJzTGlzdFt0XSk7Ci8vIHJlc29sdmUocnVudGltZVByb3RvU3R1YlVSTCk7Cm8uX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIodSsiL3N0YXR1cyIsZnVuY3Rpb24oZSl7by5fb25Qcm90b3N0dWJTdGF0dXNFdmVudChlKX0pfSl9fSx7a2V5OiJfb25Qcm90b3N0dWJTdGF0dXNFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbTtpZighZS50by5pbmNsdWRlcygiL3N0YXR1cyIpKXJldHVybiB2b2lkIFMuZXJyb3IoIltSZWdpc3RyeSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpOwovLyBwcm9jZXNzIHN0YXR1cyBldmVudHMgZnJvbSBtZXNzYWdlIG5vZGUgcHJvdG9zdHVicwppZihyLmluY2x1ZGVzKCIvcHJvdG9zdHViLyIpKQovLyBUT0RPOiB1bmNvbW1lbnQgYmVsb3cgd2hlbiBwcm90b3N0dWJzIGFyZSB1cGRhdGVkIHdpdGggbmV3IHN0YXR1cyB2YWx1ZSAibGl2ZSIKKDAsaS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG9zdHVic0xpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LnByb3Rvc3R1YnNMaXN0W3JdLnN0YXR1cz1lLmJvZHkudmFsdWV9KTtlbHNlCi8vIHByb2Nlc3Mgc3RhdHVzIGV2ZW50cyBmcm9tIHAycCBjb25uZWN0aW9ucwppZihlLmJvZHkucmVzb3VyY2Upe3ZhciBuPWUuYm9keS5yZXNvdXJjZTtpZih0LnAycENvbm5lY3Rpb25MaXN0W25dKXQucDJwQ29ubmVjdGlvbkxpc3Rbbl0uc3RhdHVzPWUuYm9keS52YWx1ZSx0LnAycENvbm5lY3Rpb25MaXN0W25dLnVybD1yO2Vsc2V7dmFyIG89e3N0YXR1czplLmJvZHkudmFsdWUsdXJsOnJ9O3QucDJwQ29ubmVjdGlvbkxpc3Rbbl09b30KLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gb25Qcm90b3N0dWJTdGF0dXNFdmVudF0gLSBQMlBDb25uZWN0aW9uIHN0YXR1czogJywgX3RoaXMucDJwQ29ubmVjdGlvbkxpc3RbcmVtb3RlUnVudGltZVVSTF0pOwovLyBVcGRhdGUgUDJQIFJlcXVlc3RlciBwcm90b3N0dWIgaWYgaXQgaXMgY29taW5nIGZyb20gdGhlcmUKci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKT90LnAycFJlcXVlc3RlclN0dWJbbl0uc3RhdHVzPWUuYm9keS52YWx1ZToKLy8gaWYgZnJvbSBQMlBIYW5kbGVyIHdpdGggc3RhdHVzIGRpc2NvbmVuY3RlZCwgbGV0cyByZW1vdmUgZnJvbSBwMnBDb25uZWN0aW9uTGlzdAoiZGlzY29ubmVjdGVkIj09PWUuYm9keS52YWx1ZSYmZGVsZXRlIHQucDJwQ29ubmVjdGlvbkxpc3Rbbl19ZWxzZXtpZihyLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpKQovLyBJdCBpcyBhbiBldmVudCBmcm9tIFAyUCBSZXF1ZXN0ZXIgd2l0aG91dCBtYW5kYXRvcnkgInJlc291cmNlIiBmaWVsZApyZXR1cm4gdm9pZCBTLmVycm9yKCJbUmVnaXN0cnkgb25Qcm90b3N0dWJTdGF0dXNFdmVudF0gcmVzb3VyY2UgbWlzc2luZzogIixlKTsKLy8gSXQgaXMgYW4gZXZlbnQgZnJvbSBQMlAgSGFuZGxlcgp0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF0uc3RhdHVzPWUuYm9keS52YWx1ZX19fSx7a2V5OiJ1bnJlZ2lzdGVyU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSB0LnByb3Rvc3R1YnNMaXN0W2VdLHIoIlByb3Rvc3R1YlVSTCByZW1vdmVkIikpOm4oIkVycm9yIG9uIHVucmVnaXN0ZXJTdHViOiBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9fSx7a2V5OiJyZWdpc3RlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz12b2lkIDA7Ci8vY2hlY2sgaWYgbWVzc2FnZUJ1cyBpcyByZWdpc3RlcmVkIGluIHJlZ2lzdHJ5IG9yIG5vdAp2b2lkIDA9PT1yLl9tZXNzYWdlQnVzJiZpKCJNZXNzYWdlQnVzIG5vdCBmb3VuZCBvbiByZWdpc3RlclN0dWIiKSxvPSJkb21haW4taWRwOi8vIit0KyIvc3R1Yi8iKygwLFIuZ2VuZXJhdGVHVUlEKSgpLAovLyBUT0RPOiBPcHRpbWl6ZSB0aGlzCnIuaWRwUHJveHlMaXN0W3RdPXt1cmw6byxzdGF0dXM6UC5ERVBMT1lJTkd9LHIuc2FuZGJveGVzTGlzdC5zYW5kYm94W29dPWUsCi8vIHNhbmRib3guYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbihtc2cpIHsKLy8gICBfdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2cpOwovLyB9KTsKbihvKSxyLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKG8rIi9zdGF0dXMiLGZ1bmN0aW9uKGUpe3IuX29uSWRwUHJveHlTdGF0dXNFdmVudChlKX0pfSl9fSx7a2V5OiJfb25JZHBQcm94eVN0YXR1c0V2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tO2lmKCFlLnRvLmluY2x1ZGVzKCIvc3RhdHVzIikpcmV0dXJuIHZvaWQgUy5lcnJvcigiW1JlZ2lzdHJ5IG9uSWRwUHJveHlTdGF0dXNFdmVudF0gTm90IFN0YXR1cyBFdmVudDogIixlKTsoMCxpLmRlZmF1bHQpKHQuaWRwUHJveHlMaXN0KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaWRwUHJveHlMaXN0W2VdLnVybD09PXJ9KS5tYXAoZnVuY3Rpb24ocil7dC5pZHBQcm94eUxpc3Rbcl0uc3RhdHVzPWUuYm9keS52YWx1ZX0pfX0se2tleToiZGlzY292ZXJJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQYXJhbWV0ZXIgdXJsIG5lZWRlZCIpO3ZhciB0PXRoaXMscj0oMCxSLmRpdmlkZVVSTCkoZSksbj1yLmRvbWFpbjtpZih0LmlkcFByb3h5TGlzdC5oYXNPd25Qcm9wZXJ0eShuKSYmdC5pZHBQcm94eUxpc3Rbbl0uc3RhdHVzPT09UC5MSVZFKXJldHVybiB0LmlkcFByb3h5TGlzdFtuXTt0aHJvdyB0LmlkcFByb3h5TGlzdFtuXT17c3RhdHVzOlAuUFJPR1JFU1N9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJJZHBQcm94eSBdIElkcCBQcm94eSBOb3QgRm91bmQuIENyZWF0aW5nIG9uZSIpfX0se2tleToicmVnaXN0ZXJQRVAiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuKXsKLy9UT0RPIGNoZWNrIHdoYXQgcGFyYW1ldGVyIGluIHRoZSBwb3N0TWVzc2FnZSB0aGUgcGVwIGlzLgpyLnBlcExpc3RbdF09ZSxuKCJQRVAgcmVnaXN0ZXJlZCB3aXRoIHN1Y2Nlc3MiKX0pfX0se2tleToidW5yZWdpc3RlclBFUCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZvaWQgMD09PXQucGVwTGlzdFtlXT9uKCJQZXAgTm90IGZvdW5kLiIpOnIoIlBFUCBzdWNjZXNzZnVsbHkgcmVtb3ZlZC4iKX0pfX0se2tleToiZ2V0U2FuZGJveCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSBnZXRTYW5kYm94XSBnZXRTYW5kYm94IGZvcjogJywgdXJsLCAnIGFuZCBjYXBhYmlsaXRpZXM6ICcsIGNvbnN0cmFpbnRzKTsKdmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBzPXZvaWQgMDsKLy9pZiBubyBhcHBTYW5kYm94IHdhcyBmb3VuZCwgdHJ5IHRvIHNlYXJjaCBpbiB0aGUgbm9ybWFsIHNhbmRib3hlcyBsaXN0CmlmKCEoCi8vZmlyc3QgdHJ5IHRvIGZpbmQgdGhlIHVybCBpbiB0aGUgYXBwU2FuZGJveCBsaXN0CnM9ci5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbZV0pJiYhKHM9ci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbZV0pKXt2YXIgYT12b2lkIDA7YT1lLmluY2x1ZGVzKCI6Ly8iKT8oMCxSLmRpdmlkZVVSTCkoZSkuZG9tYWluOmU7Ci8vIHNlYXJjaCBpbiB0aGUgc2FuZGJveGVzIGxpc3QgZm9yIGEgZW50cnkgY29udGFpbmluZyB0aGUgZG9tYWluIGdpdmVuCmZvcih2YXIgdSBpbiByLnNhbmRib3hlc0xpc3Quc2FuZGJveCkKLy90b2RvOiB1bmNvbW1lbnQgc2FuZGJveCBjb25zdHJhaW50cyBtYXRjaCBjb25kaXRpb24gd2l0aCBydW50aW1lIHNoYXJpbmcKaWYodS5pbmNsdWRlcyhhKSYmci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbdV0ubWF0Y2hlcyh0KSl7dmFyIGM9ZnVuY3Rpb24oKXt2YXIgZT1yLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XTtyZXR1cm4oMCxpLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4iYnJvd3NlciI9PT10JiZlLnR5cGU9PT15LlNhbmRib3hUeXBlLk5PUk1BTHx8IndpbmRvd1NhbmJveCI9PT10JiZlLnR5cGU9PT15LlNhbmRib3hUeXBlLldJTkRPV30pLmxlbmd0aD4wJiYocz1lKSwiYnJlYWsifSgpO2lmKCJicmVhayI9PT1jKWJyZWFrfX1zP24ocyk6bygibm8gc2FuZGJveCBmb3VuZCBmb3I6ICIrZSl9KX19LHtrZXk6InJlc29sdmVOb3JtYWxTdHViIix2YWx1ZTpmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygncmVzb2x2ZU5vcm1hbFN0dWIgJyArIHVybCk7CnZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy9zcGxpdCB0aGUgdXJsIHRvIGZpbmQgdGhlIGRvbWFpblVSTC4gZGVhbHMgd2l0aCB0aGUgdXJsIGZvciBleGFtcGxlIGFzOgovLyJoeXBlcnR5LXJ1bnRpbWU6Ly9zcDEvcHJvdG9zdHViLzEyMyIsCnZhciBpPSgwLFIuZGl2aWRlVVJMKShlKSxvPWkuZG9tYWluLHM9aS50eXBlO2UuaW5jbHVkZXModC5ydW50aW1lVVJMKSYmKFMuZXJyb3IoIltSZWdpc3RyeSAtIHJlc29sdmVdIFVSTCB0byBiZSByZXNvbHZlZCBzaG91bGQgaGF2ZSBsaXN0ZW5lcnMgIixlKSxuKCJbUmVnaXN0cnkgLSByZXNvbHZlXSBVUkwgdG8gYmUgcmVzb2x2ZWQgc2hvdWxkIGhhdmUgbGlzdGVuZXJzICIsZSkpLAovLyByZXNvbHZlIHRoZSBkb21haW4gcHJvdG9zdHViIGluIGNhc2Ugb2YgYSBtZXNzYWdlIHRvIGdsb2JhbCByZWdpc3RyeQplLmluY2x1ZGVzKCJnbG9iYWw6Ly9yZWdpc3RyeSIpP289dC5fZG9tYWluOm8uaW5kZXhPZigibXNnLW5vZGUuIikmJm8uaW5kZXhPZigicmVnaXN0cnkuIil8fChvPW8uc3Vic3RyaW5nKG8uaW5kZXhPZigiLiIpKzEpKSx0LmlzTGVnYWN5KGUpLnRoZW4oZnVuY3Rpb24oaSl7Ci8vIGlmIGxlZ2FjeSBpdCBzaG91bGQgcmVzb2x2ZSBmb3IgPHByb3RvY29sPi48ZG9tYWluPgppJiYiZG9tYWluLWlkcCIhPT1zJiYobz1zKyIuIisoMCxSLmdldFVzZXJJZGVudGl0eURvbWFpbikoZSkpLFMuaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVdIGRvbWFpblVybDoiLG8pO3ZhciBhPXZvaWQgMDthPSJkb21haW4taWRwIj09PXM/ISF0LmlkcFByb3h5TGlzdC5oYXNPd25Qcm9wZXJ0eShvKSYmdC5pZHBQcm94eUxpc3Rbb106ISF0LnByb3Rvc3R1YnNMaXN0Lmhhc093blByb3BlcnR5KG8pJiZ0LnByb3Rvc3R1YnNMaXN0W29dLFMuaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVdIHJlZ2lzdHJlZDoiLGEpLAovLyBUT0RPIHNpbmNlIHRoZSBwcm90b3N0dWJzIGhhdmUgb3RoZXIgc3RhdGVzIHRoaXMgc2hvdWxkIGJlIHJldmlzZWQsIGJlY2F1c2UgdGhlIHN0YXR1cyBjb3VsZCBjaGFuZ2UgZnJvbSBERVBMT1lFRCB0byBMSVZFCi8vIFRPRE8gYW5kIHRoaXMgdmFsaWRhdGlvbiB3aWxsIHRyaWdnZXIgYSBuZXcgbG9hZCBvZiBJRFBQcm94eSBvciBQcm90b3N0dWI7CmEmJmEuaGFzT3duUHJvcGVydHkoInN0YXR1cyIpJiYoYS5zdGF0dXM9PT1QLkRFUExPWUVEfHxhLnN0YXR1cz09PVAuQ1JFQVRFRHx8YS5zdGF0dXM9PT1QLkxJVkV8fGEuc3RhdHVzPT09UC5ESVNDT05ORUNURUQpPyhTLmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSBSZXNvbHZlZDogIixhLnVybCxhLnN0YXR1cykscihhLnVybCkpOgovL3RvZG86IHVzZSBzd2l0Y2gtY2FzZSB0byBzdXBwb3J0IG90aGVyIHR5cGVzIG9mIHN0dWJzCiJkb21haW4taWRwIj09PXM/KAovLyBUaGUgSWRQIFByb3h5IGRvZXMgbm90IGV4aXN0LCBsZXQncyBwcmVwYXJlIGl0cyBkZXBsb3ltZW50IGJ5IHdhdGNoaW5nIGl0cyBzdGF0dXMKdC53YXRjaGluZ1lvdS5vYnNlcnZlKCJpZHBQcm94eUxpc3QiLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkgLSByZXNvbHZlTm9ybWFsU3R1Yl0gaWRwUHJveHlMaXN0IGNoYW5nZWQgJyArIF90aGlzLmlkcFByb3h5TGlzdCk7CnZhciBuPWUua2V5cGF0aDtuLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG49bi5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG49PT1vJiYic3RhdHVzIj09PWUubmFtZSYmZS5uZXdWYWx1ZT09PVAuQ1JFQVRFRCYmCi8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVOb3JtYWxTdHViXSBpZHBQcm94eUxpc3QgaXMgbGl2ZSAnICsgX3RoaXMuaWRwUHJveHlMaXN0W2RvbWFpblVybF0pOwpyKHQuaWRwUHJveHlMaXN0W29dLnVybCl9KSxhfHwoCi8vIHRoaXMgcHJvY2VzcyB3aWxsIGxvYWQgdGhlIGlkcCBwcm94eSwgYmVjYXVzZSBpcyBub3QgeWV0IHJlZ2lzdGVyZWQ7ClMuaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVOb3JtYWxTdHViXSBkZXBsb3kgbmV3IElEUFByb3h5OiAiLG8pLHQubG9hZGVyLmxvYWRJZHBQcm94eShvKS50aGVuKGZ1bmN0aW9uKCl7Uy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIElkUCBQcm94eSBkZXBsb3llZDogIix0LmlkcFByb3h5TGlzdFtvXSl9KS5jYXRjaChmdW5jdGlvbihlKXtTLmVycm9yKCJbUmVnaXN0cnkucmVzb2x2ZV0gRXJyb3IgcmVzb2x2aW5nIExvYWQgSURQUHJveHk6ICIsZSksdC5pZHBQcm94eUxpc3Rbb10uc3RhdHVzPSJkZXBsb3ltZW50LWZhaWxlZCIsbihlKX0pKSk6KAovLyBUaGUgcHJvdG9TdHViIGRvZXMgbm90IGV4aXN0LCBsZXQncyBwcmVwYXJlIGl0cyBkZXBsb3ltZW50IGJ5IHdhdGNoaW5nIGl0cyBzdGF0dXMKdC53YXRjaGluZ1lvdS5vYnNlcnZlKCJwcm90b3N0dWJzTGlzdCIsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVOb3JtYWxTdHViXSBwcm90b3N0dWJzTGlzdCBjaGFuZ2VkICcgKyBfdGhpcy5wcm90b3N0dWJzTGlzdCk7CnZhciBuPWUua2V5cGF0aDtuLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG49bi5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG49PT1vJiYic3RhdHVzIj09PWUubmFtZSYmZS5uZXdWYWx1ZT09PVAuQ1JFQVRFRCYmCi8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVdIHByb3Rvc3R1YiBpcyBsaXZlICcgKyBfdGhpcy5wcm90b3N0dWJzTGlzdFtkb21haW5VcmxdKTsKcih0LnByb3Rvc3R1YnNMaXN0W29dLnVybCl9KSxhfHwoCi8vIGxldHMgZGVwbG95IHRoZSBwcm90b3N0dWIKUy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gdHJpZ2dlciBuZXcgUHJvdG9jb2xTdHViOiAiLG8pLHQubG9hZGVyLmxvYWRTdHViKG8pLnRoZW4oZnVuY3Rpb24oKXt9KS5jYXRjaChmdW5jdGlvbihlKXtTLmVycm9yKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIEVycm9yIHJlc29sdmluZyBMb2FkIFByb3RvY29sU3R1YjogIixlKSxuKGUpfSkpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1MuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgaXNsZWdhY3k6ICIsZSksbihlKX0pfSl9fSx7a2V5OiJyZXNvbHZlIix2YWx1ZTpmdW5jdGlvbihlKXtTLmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gICIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8/ZS50bzplLG89ISghZS5ib2R5fHwhZS5ib2R5LnAycCkmJmUuYm9keS5wMnA7Ci8vIGxvZy5sb2coJ1AyUDogJywgcDJwLCB1cmwpOwovLyBsb2cubG9nKCdQMlAgLSBwMnBIYW5kbGVyU3R1YjogJywgIV90aGlzLnAycEhhbmRsZXJTdHViW190aGlzLnJ1bnRpbWVVUkxdLCBfdGhpcy5wMnBIYW5kbGVyU3R1YiwgX3RoaXMucnVudGltZVVSTCk7Ci8vIGxvZy5sb2coJ1AyUCAtIGlzQmFja2VuZFNlcnZpY2VVUkw6ICcsIGlzQmFja2VuZFNlcnZpY2VVUkwodXJsKSwgaXNCYWNrZW5kU2VydmljZVVSTCwgdXJsKTsKLy8gbG9nLmxvZygnUDJQIC0gaW5jbHVkZXMgcnVudGltZVVSTDogJywgdXJsLmluY2x1ZGVzKF90aGlzLnJ1bnRpbWVVUkwpKTsKLy8gbG9nLmxvZygnUDJQIC0gaW5jbHVkZXMgcDJwaGFuZGxlcjogJywgdXJsLmluY2x1ZGVzKCcvcDJwaGFuZGxlci8nKSk7Ci8vIGxvZy5sb2coJ1AyUCAtIGluY2x1ZGVzIHAycHJlcXVlc3RlcjogJywgdXJsLmluY2x1ZGVzKCcvcDJwcmVxdWVzdGVyLycpKTsKLy8gU2tpcCBwMnAgcHJvY2VkdXJlIHdoZW4gbm90IHN1cHBvcnRlZCBieSB0aGUgUnVudGltZSBvciBmb3IgYmFja2VuZCBzZXJ2aWNlcwohdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdfHwoMCxSLmlzQmFja2VuZFNlcnZpY2VVUkwpKGkpfHxpLmluY2x1ZGVzKHQucnVudGltZVVSTCl8fGkuaW5jbHVkZXMoIi9wMnBoYW5kbGVyLyIpfHxpLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpPyhTLmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUmVzb2x2ZSBub3JtYWwgc3R1YjogIix0LnAycEhhbmRsZXJTdHViLHQucnVudGltZVVSTCwoMCxSLmlzQmFja2VuZFNlcnZpY2VVUkwpKGkpLG8saSksdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KSk6KFMuaW5mbygiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gLSBjaGVja1AyUDogIixvLGksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUpLHQuX3AycENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQKGUpLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVdIGZvdW5kIHJlZ2lzdGVyZWQgUDJQOiAnLCByZWdpc3RlcmVkUDJQKTsKdmFyIHM9dC5wMnBDb25uZWN0aW9uTGlzdFtuLnJ1bnRpbWVdO3N3aXRjaChzfHwocz1uLHQucDJwQ29ubmVjdGlvbkxpc3Rbbi5ydW50aW1lXT1zKSxzLnN0YXR1cyl7Y2FzZSBQLkxJVkU6ZS5ib2R5LnBlZXI9bi5ydW50aW1lLHIocy51cmwsZSk7YnJlYWs7Y2FzZSBQLkNSRUFURUQ6Ly8gcDJwIGNvbm5lY3Rpb24gc2V0dXAgaXMgb25nb2luZywgdXNlIE1OIFN0dWIKY2FzZSBQLlBST0dSRVNTOnQucmVzb2x2ZU5vcm1hbFN0dWIoaSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSk7YnJlYWs7Y2FzZSBQLkRJU0NPTk5FQ1RFRDoKLy8gcDJwIGNvbm5lY3Rpb24gc3R1YiB3YXMgZGlzY29ubmVjdGVkLCBsZXQncyBhc2sgdG8gY29ubmVjdCBhZ2FpbgpTLmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gcDJwQ29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQgbGV0cyB0cnkgdG8gcmVjb25uZWN0IiksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyKHMpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIFJlc29sdmVdIC0gd2FzIHJlY29ubmVjdGVkIHdpdGggcDJwUmVxdWVzdGVyU3R1YnQ6ICcsIHJldHVyblVSTCk7CnIoZSl9LGZ1bmN0aW9uKGUpe1MuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pO2JyZWFrO2RlZmF1bHQ6Uy5pbmZvKCJbUmVnaXN0cnkgLSByZXNvbHZlXSAtIFAyUDogIixvKSxvP3QuX3NldHVwUDJQUmVxdWVzdGVyKG4pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIG5vIHAycCBjb25uZWN0aW9uIGV4aXN0cyBidXQgdGhlIG1lc3NhZ2Ugc2VuZGVyIGlzIGFza2luZyBvbmUuIExldHMgdHJ5IHRvIHNldHVwIG9uZQpyKGUpfSxmdW5jdGlvbihlKXtTLmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gUmVhc29uOiAiLGUpLHQucmVzb2x2ZU5vcm1hbFN0dWIoaSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSl9KToKLy8gbm8gcDJwIGNvbm5lY3Rpb24gZXhpc3RzIGFuZCB0aGUgbWVzc2FnZSBzZW5kZXIgZG9lcyBub3QgYXNrIG9uZS4gTGV0cyB1c2UgdGhlIE1OIFN0dWIKdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX19LGZ1bmN0aW9uKGUpe1MuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pKX0pfX0se2tleToiX3NldHVwUDJQUmVxdWVzdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBTLmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIGxvYWRTdHViIHdpdGggcDJwUmVxdWVzdGVyOiAiLGUpLG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT1lLnJ1bnRpbWUsbz17cmVtb3RlUnVudGltZVVSTDppLHAycEhhbmRsZXI6ZS5wMnBIYW5kbGVyLHAycFJlcXVlc3RlclN0dWI6ITB9OwovLyBsZXRzIHByZXBhcmUgdGhlIHAycFJlcXVlc3RlclNUdWIgZGVwbG95bWVudCBieSBzZXR0aW5nIGFuIG9ic2VydmVyIHRvIGl0cyBzdGF0dXMgY2hhbmdlcwp0LndhdGNoaW5nWW91Lm9ic2VydmUoInAycFJlcXVlc3RlclN0dWIiLGZ1bmN0aW9uKGUpe1MubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gcDJwUmVxdWVzdGVyU3R1YnMgY2hhbmdlZCAiK3QucDJwUmVxdWVzdGVyU3R1YiksZS5rZXlwYXRoLnNwbGl0KCIuIilbMF09PT1pJiYic3RhdHVzIj09PWUubmFtZSYmZS5uZXdWYWx1ZT09PVAuTElWRSYmKFMubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gcDJwUmVxdWVzdGVyIGlzIGxpdmUgIit0LnAycFJlcXVlc3RlclN0dWJbaV0pLHIodC5wMnBSZXF1ZXN0ZXJTdHViW2ldLnVybCkpfSksCi8vICBzdHViIGxvYWQKdC5sb2FkZXIubG9hZFN0dWIoZS5wMnBSZXF1ZXN0ZXIsbykudGhlbihmdW5jdGlvbigpe1MubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gcDJwUmVxdWVzdGVyIGRlcGxveWVkOiAiLHQucDJwUmVxdWVzdGVyU3R1YltpXSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6ImlzTGVnYWN5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYoZT09PXQuX2RvbWFpbilyZXR1cm4gcighMSk7Uy5sb2coIltSZWdpc3RyeV0gW1JlZ2lzdHJ5LlJlZ2lzdHJ5LmlzTGVnYWN5XSAiLGUpOwovLyBUT0RPOiB0byBiZSBkZWZpbmVkIGluIHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24KdmFyIGk9WyJoeXBlcnR5LXJ1bnRpbWUiLCJkb21haW4iLCJnbG9iYWwiLCJoeXBlcnR5Il0sbz0oMCxSLmRpdmlkZVVSTCkoZSk7aWYoLTEhPT1pLmluZGV4T2Yoby50eXBlKXx8by5kb21haW49PT10Ll9kb21haW4pcmV0dXJuIHIoITEpOwovLyBwcm9jZXNzIFVzZXIgVVJMcwppZihlLnNwbGl0KCJAIikubGVuZ3RoPjEpe3ZhciBzPW8uZG9tYWluOwovLyBsb2cubG9nKCdbUmVnaXN0cnldIFtSZWdpc3RyeS5SZWdpc3RyeS5pc0xlZ2FjeV0gZG9tYWluOiAnLCBkb21haW4pOwppZih0LmlkcExlZ2FjeVByb3h5TGlzdC5oYXNPd25Qcm9wZXJ0eShzKSl7dmFyIGE9dC5pZHBMZWdhY3lQcm94eUxpc3Rbc107cmV0dXJuIHIoYS5pbnRlcndvcmtpbmc/YS5pbnRlcndvcmtpbmc6ITEpfXQuX2xvYWRlci5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IocykudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5XSBbUmVnaXN0cnkuUmVnaXN0cnkuaXNMZWdhY3ldIExlZ2FjeSBzdHViIGRlc2NyaXB0b3I6ICcsIHJlc3VsdCk7CmUuaW50ZXJ3b3JraW5nPyh0LmlkcExlZ2FjeVByb3h5TGlzdFtzXT1lLHIoZS5pbnRlcndvcmtpbmcpKTpyKCExKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1Mud2FybigicHJvYmxlbSBsb2FkaW5nIGlkcCBwcm94eSBkZXNjcmlwdG9yIGZvciBkb21haW46IixzLCIgYmVjYXVzZSAiLGUpLG4oZSl9KX1lbHNlCi8vIHByb2Nlc3MgcHJvdG9zdHViIFVSTHMKcih0LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKGUpKX0pfX0se2tleToiaXNMb2NhbCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJoeXBlcnR5LXJ1bnRpbWUiLCJydW50aW1lIl0scj1bImh5cGVydHkiXSxuPWUuc3BsaXQoIjovLyIpWzBdOwovLyBQcm9jZXNzIFJ1bnRpbWUgQ29yZSBVUkxzLgovLyBNZXNzYWdlcyBvcmlnaW5hdGVkIGZyb20gcHJvdG9zdHVicyBzaG91bGQgYWxzbyBub3QgaW5jbHVkZSB0aGUgcnVudGltZVVSTCBpbiBpdHMgVVJMLgppZigtMSE9PXQuaW5kZXhPZihuKSlyZXR1cm4gZS5pbmNsdWRlcyh0aGlzLnJ1bnRpbWVVUkwpOwovLyBQcm9jZXNzIEh5cGVydHkgVVJMcwovLyBUb2RvOiBoeXBlcnRpZXNMaXN0IHNob3VsZCBiZSBhbiBvYmplY3Qgbm90IGFuIGFycmF5CmlmKC0xIT09ci5pbmRleE9mKG4pKXtmb3IodmFyIGkgaW4gdGhpcy5oeXBlcnRpZXNMaXN0KXtpZih0aGlzLmh5cGVydGllc0xpc3RbaV0uaHlwZXJ0eVVSTD09PWUpcmV0dXJuITB9cmV0dXJuITF9Ci8vIFByb2Nlc3MgRGF0YSBPYmplY3QgVVJMcwplLmluY2x1ZGVzKCIvc3Vic2NyaXB0aW9uIikmJihlPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCIvc3Vic2NyaXB0aW9uIikpKTt2YXIgbz10aGlzLmRhdGFPYmplY3RMaXN0W2VdO3JldHVybiEhbyYmKCFvLmludGVyd29ya2luZ3x8IW8uaW50ZXJ3b3JraW5nKX19LHtrZXk6ImlzSW50ZXJ3b3JraW5nUHJvdG9TdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiEhZS5pbmNsdWRlcygiL3Byb3Rvc3R1Yi8iKSYmKDAsaS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHQucHJvdG9zdHVic0xpc3Rbcl0udXJsPT09ZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hIXQucHJvdG9zdHVic0xpc3RbZV0uaGFzT3duUHJvcGVydHkoImludGVyd29ya2luZyIpJiZ0LnByb3Rvc3R1YnNMaXN0W2VdLmludGVyd29ya2luZ30pWzBdfX0se2tleToibG9hZGVyIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbG9hZGVyPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZXJ9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIodC5yZWdpc3RyeVVSTCxmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IGxpc3RlbmVyXSAnLCBtc2cpOwooMCxSLmlzSHlwZXJ0eVVSTCkoZS5mcm9tKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoImNyaXRlcmlhIik7ZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXNvdXJjZSIpJiYiLiIhPT1lLmJvZHkucmVzb3VyY2UmJigoMCxSLmlzVVJMKShlLmJvZHkucmVzb3VyY2UpLCgwLFIuaXNVc2VyVVJMKShlLmJvZHkucmVzb3VyY2UpLCgwLFIuaXNIeXBlcnR5VVJMKShlLmJvZHkucmVzb3VyY2UpKTtlLnR5cGU7aWYoZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiYoZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJuYW1lIiksZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJ1c2VyIikpLCJyZXNwb25zZSI9PT1lLnR5cGUpcmV0dXJuIHZvaWQgUy5lcnJvcigiW1JlZ2lzdGVyIGxpc3RlbmVyXSBza2lwcGluZyAiLGUpOwovLyBtc2cgc2VudCBieSBpZGVudGl0eSBtYW5hZ2VyIGxpYnJhcnkKdmFyIHI9dC5fZ2V0SWRlbnRpdHlBc3NvY2lhdGVkKGUuYm9keS5yZXNvdXJjZSxlLmJvZHkuY3JpdGVyaWEpLG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7cmVzb3VyY2U6cn19O24uYm9keS5jb2RlPXI/MjAwOjQwNCx0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4pfSk7Ci8vIEluc3RhbGwgQWRkcmVzc0FsbG9jYXRpb24KdmFyIHI9di5kZWZhdWx0Lmluc3RhbmNlO3QuYWRkcmVzc0FsbG9jYXRpb249cn19XSksUmVnaXN0cnl9KCk7dC5kZWZhdWx0PU8sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ0MSksZS5leHBvcnRzPXIoMTMpLk9iamVjdC5rZXlzfSwvKiA0NDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTykKdmFyIG49cig3NiksaT1yKDY3KTtyKDk3KSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkobihlKSl9fSl9LC8qIDQ0MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlNhbmRib3hUeXBlPXZvaWQgMDt2YXIgbj1yKDM3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNjApLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDY5KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQ2MiksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLG09cig0NjMpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxSPSh0LlNhbmRib3hUeXBlPXtBUFA6ImFwcCIsTk9STUFMOiJub3JtYWwiLFdJTkRPVzoid2luZG93In0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gU2FuZGJveChlKXsoMCxmLmRlZmF1bHQpKHRoaXMsU2FuZGJveCk7dmFyIHQ9KDAseS5kZWZhdWx0KSh0aGlzLChTYW5kYm94Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShTYW5kYm94KSkuY2FsbCh0aGlzKSkscj10O3JldHVybiBlJiYoci5jYXBhYmlsaXRpZXM9ZSksdH0vKioKICAgKiBEZXBsb3kgYW4gaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBzYW5kYm94LgogICAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50U291cmNlQ29kZSBDb21wb25lbnQgc291cmNlIGNvZGUgKEh5cGVydHksIFByb3RvU3R1YiwgZXRjKQogICAqIEBwYXJhbSAge1VSTH0gY29tcG9uZW50VVJMIEh5cGVydHksIFByb3RvU3R1Yiwgb3IgYW55IG90aGVyIGNvbXBvbmVudCBhZGRyZXNzLgogICAqIEBwYXJhbSAge0NvbmZpZ30gY29uZmlndXJhdGlvbiBDb25maWcgcGFyYW1ldGVycyBvZiB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSByZXR1cm4gZGVwbG95ZWQgaWYgc3VjY2Vzc2Z1bCwgb3IgYW55IG90aGVyIHN0cmluZyB3aXRoIGFuIGVycm9yCiAgICovCnJldHVybigwLHYuZGVmYXVsdCkoU2FuZGJveCxlKSwoMCxkLmRlZmF1bHQpKFNhbmRib3gsW3trZXk6ImRlcGxveUNvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7Ci8vIGxldCBtZXNzYWdlRmFjdG9yeSA9IF90aGlzLm1lc3NhZ2VGYWN0b3J5OwpyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLG8pewovL0ZMT1ctT1VUOiBkZXBsb3kgbWVzc2FnZSBmb3IgdGhlIGludGVybmFsIFNhbmRib3hSZWdpc3RyeSAtPiBfb25EZXBsb3kKdmFyIHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpiLmRlZmF1bHQuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzLHRvOmIuZGVmYXVsdC5JbnRlcm5hbERlcGxveUFkZHJlc3MsYm9keTp7dXJsOnQsc291cmNlQ29kZTplLGNvbmZpZzpyfX07Ci8vc2VuZCBtZXNzYWdlIGludG8gdGhlIHNhbmRib3ggaW50ZXJuYWxzIGFuZCB3YWl0IGZvciByZXBseQpuLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/Ci8vaXMgdGhpcyByZXNwb25zZSBjb21wbGFpbnQgd2l0aCB0aGUgc3BlYz8KaSgiZGVwbG95ZWQiKTpvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZW1vdmVDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy9GTE9XLU9VVDogdW4tZGVwbG95IG1lc3NhZ2UgZm9yIHRoZSBpbnRlcm5hbCBTYW5kYm94UmVnaXN0cnkgLT4gX29uUmVtb3ZlCnZhciBpPXt0eXBlOiJkZWxldGUiLGZyb206Yi5kZWZhdWx0LkV4dGVybmFsRGVwbG95QWRkcmVzcyx0bzpiLmRlZmF1bHQuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLGJvZHk6e3VybDplfX07Ci8vc2VuZCBtZXNzYWdlIGludG8gdGhlIHNhbmRib3ggaW50ZXJuYWxzIGFuZCB3YWl0IGZvciByZXBseQp0LnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/Ci8vaXMgdGhpcyByZXNwb25zZSBjb21wbGFpbnQgd2l0aCB0aGUgc3BlYz8KcigidW5kZXBsb3llZCIpOm4oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im1hdGNoZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxpLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4hKHQuY2FwYWJpbGl0aWVzW3JdJiZ0LmNhcGFiaWxpdGllc1tyXT09PWVbcl0pfSk7cmV0dXJuIDA9PT1yLmxlbmd0aHx8IWVbcl19fV0pLFNhbmRib3h9KF8uZGVmYXVsdCkpO3QuZGVmYXVsdD1SfSwvKiA0NDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDQ0KSxlLmV4cG9ydHM9cigxMykuT2JqZWN0LmdldFByb3RvdHlwZU9mfSwvKiA0NDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTykKdmFyIG49cig3NiksaT1yKDE4OSk7cig5NykoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogNDQ1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDYpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTI4KSxyKDE5MCksZS5leHBvcnRzPXIoMTQxKS5mKCJpdGVyYXRvciIpfSwvKiA0NDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ0OCksX19lc01vZHVsZTohMH19LC8qIDQ0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0NDkpLHIoMTgyKSxyKDQ1NCkscig0NTUpLGUuZXhwb3J0cz1yKDEzKS5TeW1ib2x9LC8qIDQ0OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltCnZhciBuPXIoMjIpLGk9cig1OSksbz1yKDQ0KSxzPXIoMjEpLGE9cigxODUpLHU9cig0NTApLktFWSxjPXIoNjYpLGY9cigxMzYpLGw9cig5NSksZD1yKDk0KSxwPXIoMjMpLHk9cigxNDEpLGg9cigxNDIpLHY9cig0NTEpLGc9cig0NTIpLGI9cig0MSksbT1yKDM2KSxfPXIoNDUpLFI9cigxMzIpLHc9cig3MyksUz1yKDEzMyksUD1yKDQ1MyksTz1yKDE0MyksTT1yKDQwKSxrPXIoNjcpLEw9Ty5mLHg9TS5mLEU9UC5mLEE9bi5TeW1ib2wsVT1uLkpTT04sRD1VJiZVLnN0cmluZ2lmeSxJPXAoIl9oaWRkZW4iKSxqPXAoInRvUHJpbWl0aXZlIiksVD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxDPWYoInN5bWJvbC1yZWdpc3RyeSIpLEY9Zigic3ltYm9scyIpLE49Zigib3Atc3ltYm9scyIpLHE9T2JqZWN0LnByb3RvdHlwZSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBBLEI9bi5RT2JqZWN0LEs9IUJ8fCFCLnByb3RvdHlwZXx8IUIucHJvdG90eXBlLmZpbmRDaGlsZCxHPW8mJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9Uyh4KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHgodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUwocSx0KTtuJiZkZWxldGUgcVt0XSx4KGUsdCxyKSxuJiZlIT09cSYmeChxLHQsbil9OngsVj1mdW5jdGlvbihlKXt2YXIgdD1GW2VdPVMoQS5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sVz1IJiYic3ltYm9sIj09dHlwZW9mIEEuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEF9LFk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09cSYmWShOLHQsciksYihlKSx0PVIodCwhMCksYihyKSxpKEYsdCk/KHIuZW51bWVyYWJsZT8oaShlLEkpJiZlW0ldW3RdJiYoZVtJXVt0XT0hMSkscj1TKHIse2VudW1lcmFibGU6dygwLCExKX0pKTooaShlLEkpfHx4KGUsSSx3KDEse30pKSxlW0ldW3RdPSEwKSxHKGUsdCxyKSk6eChlLHQscil9LHo9ZnVuY3Rpb24oZSx0KXtiKGUpO2Zvcih2YXIgcixuPXYodD1fKHQpKSxpPTAsbz1uLmxlbmd0aDtvPmk7KVkoZSxyPW5baSsrXSx0W3JdKTtyZXR1cm4gZX0sSj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P1MoZSk6eihTKGUpLHQpfSwkPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGU9UihlLCEwKSk7cmV0dXJuISh0aGlzPT09cSYmaShGLGUpJiYhaShOLGUpKSYmKCEodHx8IWkodGhpcyxlKXx8IWkoRixlKXx8aSh0aGlzLEkpJiZ0aGlzW0ldW2VdKXx8dCl9LFE9ZnVuY3Rpb24oZSx0KXtpZihlPV8oZSksdD1SKHQsITApLGUhPT1xfHwhaShGLHQpfHxpKE4sdCkpe3ZhciByPUwoZSx0KTtyZXR1cm4hcnx8IWkoRix0KXx8aShlLEkpJiZlW0ldW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sWD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1FKF8oZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoRix0PXJbbysrXSl8fHQ9PUl8fHQ9PXV8fG4ucHVzaCh0KTtyZXR1cm4gbn0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09cSxuPUUocj9OOl8oZSkpLG89W10scz0wO24ubGVuZ3RoPnM7KSFpKEYsdD1uW3MrK10pfHxyJiYhaShxLHQpfHxvLnB1c2goRlt0XSk7cmV0dXJuIG99OwovLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSkKSHx8KEE9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgQSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1xJiZ0LmNhbGwoTixyKSxpKHRoaXMsSSkmJmkodGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEcodGhpcyxlLHcoMSxyKSl9O3JldHVybiBvJiZLJiZHKHEsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShBLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxNLmY9WSxyKDIwMikuZj1QLmY9WCxyKDc3KS5mPSQscigxMzkpLmY9WixvJiYhcig5MikmJmEocSwicHJvcGVydHlJc0VudW1lcmFibGUiLCQsITApLHkuZj1mdW5jdGlvbihlKXtyZXR1cm4gVihwKGUpKX0pLHMocy5HK3MuVytzLkYqIUgse1N5bWJvbDpBfSk7Zm9yKHZhciBlZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksdGU9MDtlZS5sZW5ndGg+dGU7KXAoZWVbdGUrK10pO2Zvcih2YXIgcmU9ayhwLnN0b3JlKSxuZT0wO3JlLmxlbmd0aD5uZTspaChyZVtuZSsrXSk7cyhzLlMrcy5GKiFILCJTeW1ib2wiLHsKLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpCmZvcjpmdW5jdGlvbihlKXtyZXR1cm4gaShDLGUrPSIiKT9DW2VdOkNbZV09QShlKX0sCi8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKQprZXlGb3I6ZnVuY3Rpb24oZSl7aWYoIVcoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBzeW1ib2whIik7Zm9yKHZhciB0IGluIEMpaWYoQ1t0XT09PWUpcmV0dXJuIHR9LHVzZVNldHRlcjpmdW5jdGlvbigpe0s9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0s9ITF9fSkscyhzLlMrcy5GKiFILCJPYmplY3QiLHsKLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQpjcmVhdGU6SiwKLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpCmRlZmluZVByb3BlcnR5OlksCi8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpCmRlZmluZVByb3BlcnRpZXM6eiwKLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKQpnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6USwKLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKZ2V0T3duUHJvcGVydHlOYW1lczpYLAovLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pCmdldE93blByb3BlcnR5U3ltYm9sczpafSksCi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKQpVJiZzKHMuUytzLkYqKCFIfHxjKGZ1bmN0aW9uKCl7dmFyIGU9QSgpOwovLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fQovLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGwKLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHMKcmV0dXJuIltudWxsXSIhPUQoW2VdKXx8Int9IiE9RCh7YTplfSl8fCJ7fSIhPUQoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPVtlXSxpPTE7YXJndW1lbnRzLmxlbmd0aD5pOyluLnB1c2goYXJndW1lbnRzW2krK10pO2lmKHI9dD1uWzFdLChtKHQpfHx2b2lkIDAhPT1lKSYmIVcoZSkpLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZApyZXR1cm4gZyh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIVcodCkpcmV0dXJuIHR9KSxuWzFdPXQsRC5hcHBseShVLG4pfX0pLAovLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpCkEucHJvdG90eXBlW2pdfHxyKDU4KShBLnByb3RvdHlwZSxqLEEucHJvdG90eXBlLnZhbHVlT2YpLAovLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddCmwoQSwiU3ltYm9sIiksCi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ10KbChNYXRoLCJNYXRoIiwhMCksCi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddCmwobi5KU09OLCJKU09OIiwhMCl9LC8qIDQ1MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig5NCkoIm1ldGEiKSxpPXIoMzYpLG89cig1OSkscz1yKDQwKS5mLGE9MCx1PU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGM9IXIoNjYpKGZ1bmN0aW9uKCl7cmV0dXJuIHUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYSwvLyBvYmplY3QgSUQKdzp7fX19KX0sbD1mdW5jdGlvbihlLHQpewovLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4CmlmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLG4pKXsKLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3QKaWYoIXUoZSkpcmV0dXJuIkYiOwovLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YQppZighdClyZXR1cm4iRSI7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFvKGUsbikpewovLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdAppZighdShlKSlyZXR1cm4hMDsKLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGEKaWYoIXQpcmV0dXJuITE7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhbyhlLG4pJiZmKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6bCxnZXRXZWFrOmQsb25GcmVlemU6cH19LC8qIDQ1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzCnZhciBuPXIoNjcpLGk9cigxMzkpLG89cig3Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1pLmY7aWYocilmb3IodmFyIHMsYT1yKGUpLHU9by5mLGM9MDthLmxlbmd0aD5jOyl1LmNhbGwoZSxzPWFbYysrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LC8qIDQ1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpCnZhciBuPXIoNzUpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0sLyogNDUzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvdwp2YXIgbj1yKDQ1KSxpPXIoMjAyKS5mLG89e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBpKGUpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PW8uY2FsbChlKT9hKGUpOmkobihlKSl9fSwvKiA0NTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTQyKSgiYXN5bmNJdGVyYXRvciIpfSwvKiA0NTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTQyKSgib2JzZXJ2YWJsZSIpfSwvKiA0NTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ1NyksX19lc01vZHVsZTohMH19LC8qIDQ1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0NTgpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LC8qIDQ1OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pCnZhciBuPXIoMjEpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjpyKDQ1OSkuc2V0fSl9LC8qIDQ1OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLgovKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqLwp2YXIgbj1yKDM2KSxpPXIoNDEpLG89ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/Ly8gZXNsaW50LWRpc2FibGUtbGluZQpmdW5jdGlvbihlLHQsbil7dHJ5e249cig2NSkoRnVuY3Rpb24uY2FsbCxyKDE0MykuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbihlLFtdKSx0PSEoZSBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChlKXt0PSEwfXJldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBvKGUsciksdD9lLl9fcHJvdG9fXz1yOm4oZSxyKSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6b319LC8qIDQ2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0NjEpO3ZhciBuPXIoMTMpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LC8qIDQ2MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSk7Ci8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQpuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOnIoMTMzKX0pfSwvKiA0NjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPWZ1bmN0aW9uKCl7LyogcHJpdmF0ZQogIF9jb21wb25lbnRzOiA8dXJsOiBpbnN0YW5jZT4KICAqLwpmdW5jdGlvbiBTYW5kYm94UmVnaXN0cnkoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLFNhbmRib3hSZWdpc3RyeSk7dmFyIHQ9dGhpczt0Ll9idXM9ZSx0Ll9jb21wb25lbnRzPXt9LGUuYWRkTGlzdGVuZXIoU2FuZGJveFJlZ2lzdHJ5LkludGVybmFsRGVwbG95QWRkcmVzcyxmdW5jdGlvbihlKXsKLy9jb25zb2xlLmxvZygnU2FuZGJveFJlZ2lzdHJ5LVJDVjogJywgbXNnKTsKLy8gbGV0IHJlc3BvbnNlTXNnID0gewovLyAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IFNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsIHRvOiBTYW5kYm94UmVnaXN0cnkuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzCi8vIH07CnN3aXRjaChlLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkRlcGxveShlKTticmVhaztjYXNlImRlbGV0ZSI6dC5fb25SZW1vdmUoZSl9fSl9cmV0dXJuKDAscy5kZWZhdWx0KShTYW5kYm94UmVnaXN0cnksW3trZXk6Il9yZXNwb25zZU1zZyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOlNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsdG86U2FuZGJveFJlZ2lzdHJ5LkV4dGVybmFsRGVwbG95QWRkcmVzc30saT17fTsKLy8gcmV0dXJuIG1lc3NhZ2VGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKG1zZywgY29kZSwgdmFsdWUpOwpyZXR1cm4gdCYmKGkuY29kZT10KSxyJiYoaS5kZXNjPXIpLG4uYm9keT1pLG59fSx7a2V5OiJfb25EZXBsb3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuY29uZmlnLG49ZS5ib2R5LnVybCxpPWUuYm9keS5zb3VyY2VDb2RlLG89dm9pZCAwLHM9dm9pZCAwO2lmKHQuX2NvbXBvbmVudHMuaGFzT3duUHJvcGVydHkobikpbz01MDAscz0iSW5zdGFuY2UgIituKyIgYWxyZWFkeSBleGlzdCEiO2Vsc2UgdHJ5e3QuX2NvbXBvbmVudHNbbl09dC5fY3JlYXRlKG4saSxyKSxvPTIwMH1jYXRjaChlKXtvPTUwMCxzPWV9dmFyIGE9dC5fcmVzcG9uc2VNc2coZSxvLHMpO3QuX2J1cy5wb3N0TWVzc2FnZShhKX19LHtrZXk6Il9vblJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS51cmwsbj12b2lkIDAsaT12b2lkIDA7dC5fY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShyKT8oCi8vcmVtb3ZlIGNvbXBvbmVudCBmcm9tIHRoZSBwb29sIGFuZCBhbGwgbGlzdGVuZXJzCmRlbGV0ZSB0Ll9jb21wb25lbnRzW3JdLHQuX2J1cy5yZW1vdmVBbGxMaXN0ZW5lcnNPZihyKSxuPTIwMCk6KG49NTAwLGk9Ikluc3RhbmNlICIrcisiIGRvZXNuJ3QgZXhpc3QhIik7dmFyIG89dC5fcmVzcG9uc2VNc2coZSxuLGkpO3QuX2J1cy5wb3N0TWVzc2FnZShvKX19LHtrZXk6Il9jcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt9fSx7a2V5OiJjb21wb25lbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c319XSksU2FuZGJveFJlZ2lzdHJ5fSgpO2EuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzPSJoeXBlcnR5LXJ1bnRpbWU6Ly9zYW5kYm94L2V4dGVybmFsIixhLkludGVybmFsRGVwbG95QWRkcmVzcz0iaHlwZXJ0eS1ydW50aW1lOi8vc2FuZGJveC9pbnRlcm5hbCIsdC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDYzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDY4KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY5KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIwNCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gTWluaUJ1cygpe3JldHVybigwLHMuZGVmYXVsdCkodGhpcyxNaW5pQnVzKSwoMCxmLmRlZmF1bHQpKHRoaXMsKE1pbmlCdXMuX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKE1pbmlCdXMpKS5jYWxsKHRoaXMpKX0vKioKICAgKiBQb3N0IGEgbWVzc2FnZSBmb3Igcm91dGluZy4gTWVzc2FnZSBpcyByb3V0ZWQgZGlyZWN0bHkgdG8gdGhlIGV4dGVybmFsIHJvdXRpbmcgX29uUG9zdE1lc3NhZ2UuCiAgICogQHBhcmFtICB7TWVzc2FnZX0gaW5Nc2cgICAgICAgICAgICBKU09OIHdpdGggbWFuZGF0b3J5IE1lc3NhZ2Ugc3RydWN0dXJlIHtpZCwgdHlwZSwgZnJvbSwgdG99CiAgICogQHBhcmFtICB7Q2FsbGJhY2t9IHJlc3BvbnNlQ2FsbGJhY2sgT3B0aW9uYWwgY2FsbGJhY2sgaWYgYSByZXNwb25zZSBpcyBleHBlY3RlZCBmcm9tIHRoZSByZXF1ZXN0LiBBIHJlc3BvbnNlIHdpbGwgYmUgYWx3YXlzIHNlbnQsIGV2ZW4gaWYgaXQgaXMgYSAiVGltZW91dCIuCiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIHRoZSBNZXNzYWdlIGlkCiAgICovCnJldHVybigwLGQuZGVmYXVsdCkoTWluaUJ1cyxlKSwoMCx1LmRlZmF1bHQpKE1pbmlCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpczsKLy9hbHdheXMgc2VuZCB0byBleHRlcm5hbCAodG8gY29yZSBNZXNzYWdlQnVzKQpyZXR1cm4gbi5fZ2VuSWQoZSksbi5fcmVzcG9uc2VDYWxsYmFjayhlLHQsciksbi5fb25Qb3N0TWVzc2FnZShlKSxlLmlkfX0se2tleToiX29uTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdC5fb25SZXNwb25zZShlKSl7dmFyIHI9dC5fc3Vic2NyaXB0aW9uc1tlLnRvXTtyPyh0Ll9wdWJsaXNoT24ocixlKSxlLnRvLnN0YXJ0c1dpdGgoImh5cGVydHkiKXx8dC5fcHVibGlzaE9uRGVmYXVsdChlKSk6dC5fcHVibGlzaE9uRGVmYXVsdChlKX19fV0pLE1pbmlCdXN9KHkuZGVmYXVsdCk7LyoqCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICAgICAgICAgICAgICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgKiovCnQuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ2NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMyksaT1uLkpTT058fChuLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBpLnN0cmluZ2lmeS5hcHBseShpLGFyZ3VtZW50cyl9fSwvKiA0NjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2MCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNjgpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNjkpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNDY2KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5SW5zdGFuY2UoZSx0LHIsbixvLGEsdSxjLGwsZCxwLHksaCx2LGcpeygwLHMuZGVmYXVsdCkodGhpcyxIeXBlcnR5SW5zdGFuY2UpO3ZhciBiPSgwLGYuZGVmYXVsdCkodGhpcywoSHlwZXJ0eUluc3RhbmNlLl9fcHJvdG9fX3x8KDAsaS5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UpKS5jYWxsKHRoaXMsZSx0LHIscCx2LGcpKSxtPWI7cmV0dXJuIG0uX2Rlc2NyaXB0b3I9bixtLl9oeXBlcnR5VVJMPW8sbS5fdXNlcj1hLG0uX2d1aWQ9dSxtLl9ydW50aW1lPWMsbS5fY29udGV4dD1sLG0uX3AycEhhbmRsZXI9ZCxtLl9kYXRhU2NoZW1lcz15LG0uX3Jlc291cmNlcz1oLGJ9cmV0dXJuKDAsZC5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsZSksKDAsdS5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsW3trZXk6InVzZXIiLHNldDpmdW5jdGlvbihlKXt0aGlzLnVzZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJ9fSx7a2V5OiJoeXBlcnR5VVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eVVSTH19LHtrZXk6ImRlc2NyaXB0b3IiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yfX0se2tleToib2JqZWN0TmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3IuX29iamVjdE5hbWV9fSx7a2V5OiJwMnBIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwSGFuZGxlcn19LHtrZXk6ImRhdGFTY2hlbWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVNjaGVtZXN9fSx7a2V5OiJyZXNvdXJjZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvdXJjZXN9fSx7a2V5OiJydW50aW1lVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZX19XSksSHlwZXJ0eUluc3RhbmNlfSh5LmRlZmF1bHQpOy8qKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqLwp0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVnaXN0cnlEYXRhTW9kZWwoZSx0LHIsbixvLHMsYSx1LGMpeygwLGkuZGVmYXVsdCkodGhpcyxSZWdpc3RyeURhdGFNb2RlbCk7dmFyIGY9dGhpcztmLl9pZD1lLGYuX3VybD10LGYuX2Rlc2NyaXB0b3JVUkw9cixmLl9zdGFydGluZ1RpbWU9byxmLl9sYXN0TW9kaWZpZWQ9cyxmLl9zdGF0dXM9YSxmLl9zdHVicz11LGYuX3N0dWJzQ29uZmlndXJhdGlvbj1jLGYuX3AycFJlcXVlc3Rlcj1ufXJldHVybigwLHMuZGVmYXVsdCkoUmVnaXN0cnlEYXRhTW9kZWwsW3trZXk6ImlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJkZXNjcmlwdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvclVSTH19LHtrZXk6InAycFJlcXVlc3RlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycFJlcXVlc3Rlcn19LHtrZXk6Imxhc3RNb2RpZmllZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhc3RNb2RpZmllZH19XSksUmVnaXN0cnlEYXRhTW9kZWx9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIiksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIFAyUENvbm5lY3Rpb25SZXNvbHZlKGUpeygwLHMuZGVmYXVsdCkodGhpcyxQMlBDb25uZWN0aW9uUmVzb2x2ZSk7dmFyIHQ9dGhpczt0Ll9yZWdpc3RyeT1lLHQuX3JlbW90ZVAyUEVudGl0aWVzPXt9fS8qKgogICogVmVyaWZpZXMgaWYgcmVtb3RlIEVudGl0eSBjYW4gYmUgcmVhY2hlZCB3aXRoIGEgUDJQIENvbm5lY3Rpb24uCiAgKiBAcGFyYW0gIHtVUkwuVVJMfSAgICAgICAgaW5mbyAgICAgICAgICAgb2JqZWN0IFVSTAogICogQHJldHVybiB7SHlwZXJ0eURhdGFPYmplY3RJbnN0YW5jZX0gIGFkZHJlc3NVUkwgICAgIHJldHVybiB0aGUgRGF0YSBPYmplY3QgaW5zdGFuY2UgcmVnaXN0ZXJlZCBVUkwsIHJldHVybiB1bmRlZmluZWQgb3RoZXJ3aXNlCiAgKi8KcmV0dXJuKDAsdS5kZWZhdWx0KShQMlBDb25uZWN0aW9uUmVzb2x2ZSxbe2tleToiY2hlY2tQMlAiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJ0byIpKQovLyB0aHJvdyBFcnJvcignVGhlIHAycCB2ZXJpZmljYXRpb24gd2FzIGZhaWxlZCcpOwpyZXR1cm4gaS5kZWZhdWx0LnJlamVjdCgiVGhlIHAycCB2ZXJpZmljYXRpb24gd2FzIGZhaWxlZCIpO3ZhciB0PWUudG8uc3BsaXQoIjovLyIpWzBdLHI9ZS50by5zcGxpdCgiOi8vIilbMV0uc3BsaXQoIi8iKVsyXSxuPXZvaWQgMDtuPXI/ZS50by5zdWJzdHJpbmcoMCxlLnRvLmluZGV4T2YoIi8iK3IpKTplLnRvO3ZhciBvPXt9O3N3aXRjaChlLmJvZHkmJmUuYm9keS5wMnAmJihvLnAycD1lLmJvZHkucDJwKSxlLmJvZHkmJmUuYm9keS5wMnBIYW5kbGVyJiZlLmJvZHkucDJwUmVxdWVzdGVyJiYoby5wMnBIYW5kbGVyPWUuYm9keS5wMnBIYW5kbGVyLG8ucDJwUmVxdWVzdGVyPWUuYm9keS5wMnBSZXF1ZXN0ZXIsby5ydW50aW1lPWUuYm9keS5wMnBIYW5kbGVyLnNwbGl0KCIvcDJwaGFuZGxlci8iKVswXSksdCl7Y2FzZSJydW50aW1lIjpyZXR1cm4gdGhpcy5jaGVja1AyUFJ1bnRpbWUobixvKTtkZWZhdWx0OnJldHVybiB0aGlzLmNoZWNrUDJQRW50aXR5KG4sbyl9fX0se2tleToiY2hlY2tQMlBFbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXIuX3JlbW90ZVAyUEVudGl0aWVzW2VdO2lmKG8pbihvKTtlbHNlIGlmKHQucnVudGltZSluKHQpO2Vsc2UgaWYodC5wMnApewovLyBvdGhlcndpc2UgbG9vayBvbiBEb21haW4gUmVnaXN0cnkKbC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQRW50aXR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsZSk7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZihsLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBFbnRpdHldIERvbWFpbiBSZWdpc3RyeSByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7Ci8vdG9kbzogc3RvcmUgcmV0cmlldmVkIGVudGl0eQp2YXIgdD1lLmJvZHkudmFsdWU7dC5oYXNPd25Qcm9wZXJ0eSgicDJwSGFuZGxlciIpP24odCk6aSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRW50aXR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRW50aXR5XSBIeXBlcnR5IHdpdGggUDJQSGFuZGxlciBub3QgZm91bmQiLGUuYm9keS5jb2RlKX0pfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRW50aXR5XSBObyBQMlAgQ29ubmVjdGlvbiBhdmFpbGFibGUgZm9yICIsZSl9KX19LHtrZXk6ImNoZWNrUDJQUnVudGltZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e307Ci8vIGxvb2sgb24gbG9jYWxseSBzdG9yZWQgcDJwIGNvbm5lY3Rpb25zCnJldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7ci5fcmVnaXN0cnkucDJwQ29ubmVjdGlvbkxpc3RbZV0/aSh7cnVudGltZTplfSk6dC5ydW50aW1lPyhuPXQsaShuKSk6bygiW1JlZ2lzdHJ5LlAyUENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQUnVudGltZV0gTm8gUDJQIENvbm5lY3Rpb24gZm91bmQgdG8gIixlKX0pfX0se2tleToiY2hlY2tQMlBIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz12b2lkIDA7Ci8vIGxvb2sgb24gbG9jYWxseSBzdG9yZWQgaHlwZXJ0aWVzCmZvcih2YXIgcyBpbiByLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdCkKLy8gdG9kbzogY2hhbmdlIHRvICJoeXBlcnR5LnVybCIgdG8gYmUgYWxpZ25lZCB3aXRoIGh5cGVydHkgaW5zdGFuY2UgZGF0YSBtb2RlbCBzcGVjCmlmKG89ci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3Rbc10sbC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gLSBmb3IgZWFjaCBIeXBlcnR5OiAiLG8pLG8uaHlwZXJ0eUlEPT09ZSlyZXR1cm4gdm9pZChvLmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bihvKTppKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixvKSk7aWYoIW8mJnQucnVudGltZSluKHQpO2Vsc2UgaWYoIW8mJnQucDJwKXsKLy8gb3RoZXJ3aXNlIGxvb2sgb24gRG9tYWluIFJlZ2lzdHJ5CmwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEh5cGVydHldIC0gc2VhcmNoIGluIERvbWFpbiBSZWdpc3RyeTogIixvKTt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpyLl9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9yZWdpc3RyeS5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmV9fTtyLl9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe2lmKGwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEh5cGVydHldIERvbWFpbiBSZWdpc3RyeSByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7Ci8vdG9kbzogc3RvcmUgcmV0cmlldmVkIGh5cGVydHkKdmFyIHQ9ZS5ib2R5LnZhbHVlO3IuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0LnB1c2godCksdC5oYXNPd25Qcm9wZXJ0eSgicDJwSGFuZGxlciIpP24odCk6aSgiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIEh5cGVydHkgd2l0aCBQMlBIYW5kbGVyIG5vdCBmb3VuZCIsZS5ib2R5LmNvZGUpfSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBObyBQMlAgQ29ubmVjdGlvbiBhdmFpbGFibGUgZm9yICIsZSl9KX19LHtrZXk6ImNoZWNrUDJQRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7Ci8vIGxvb2sgb24gbG9jYWxseSBzdG9yZWQgUmVtb3RlIERhdGEgT2JqZWN0cwp2YXIgbz1yLl9yZWdpc3RyeS5yZW1vdGVEYXRhT2JqZWN0TGlzdC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHIuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0W3RdLnVybD09PWV9KTtpZigwIT09by5sZW5ndGgmJm9bMF0ucDJwUmVxdWVzdGVyKW4ob1swXSk7ZWxzZSBpZigwIT09by5sZW5ndGgpaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gRGF0YSBPYmplY3QgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLG9bMF0pO2Vsc2UgaWYoMD09PW8ubGVuZ3RoJiZ0LnJ1bnRpbWUpbih0KTtlbHNlIGlmKG8ubGVuZ3RoJiZ0LnAycCl7Ci8vIG90aGVyd2lzZSBsb29rIG9uIERvbWFpbiBSZWdpc3RyeQovLyBsb29rIG9uIERvbWFpbiBSZWdpc3RyeQp2YXIgcz17dHlwZToicmVhZCIsZnJvbTpyLl9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9yZWdpc3RyeS5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmV9fTtyLl9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKGwubG9nKCJkaXNjb3ZlciBkYXRhIG9iamVjdCBwZXIgdXJsIHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXsKLy90b2RvOiBzdG9yZSByZXRyaWV2ZWQgaHlwZXJ0eQp2YXIgdD1lLmJvZHkudmFsdWU7ci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3QucHVzaCh0KSx0LnAycFJlcXVlc3Rlcj9uKHQpOmkoIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIERhdGEgT2JqZWN0IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIG5vIFAyUCBDb25uZWN0aW9uIGZvdW5kIil9KX19LHtrZXk6ImFkZFJlbW90ZVAyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9yZW1vdGVQMlBFbnRpdGllc1tlXT10fX0se2tleToicmVtb3ZlUmVtb3RlUDJQRW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fcmVtb3RlUDJQRW50aXRpZXNbZV19fSx7a2V5OiJyZWNvbm5lY3RQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGwubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBsZXRzIHRyeSB0byByZWNvbm5lY3QgUDJQIFJlcXVlc3RlciBTdHViOiAiLGUpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT1lLnJ1bnRpbWUsbz17dHlwZToiZXhlY3V0ZSIsZnJvbTp0Ll9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzplLnVybCxib2R5OnttZXRob2Q6ImNvbm5lY3QiLHBhcmFtczpbZS5wMnBIYW5kbGVyXX19OwovLyBsZXRzIHByZXBhcmUgdGhlIHAycFJlcXVlc3RlclNUdWIgcmVjb25uZWN0IGJ5IHNldHRpbmcgYW4gb2JzZXJ2ZXIgdG8gaXRzIHN0YXR1cyBjaGFuZ2VzCnQuX3JlZ2lzdHJ5LndhdGNoaW5nWW91Lm9ic2VydmUoInAycFJlcXVlc3RlclN0dWIiLGZ1bmN0aW9uKGUpe2lmKGwubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YiksZS5rZXlwYXRoLnNwbGl0KCIuIilbMF09PT1pJiYic3RhdHVzIj09PWUubmFtZSlzd2l0Y2goZS5uZXdWYWx1ZSl7Y2FzZSJsaXZlIjpsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyIGlzIGxpdmUgIit0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW2ldKSxyKHQuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbaV0udXJsKTticmVhaztjYXNlImZhaWxlZCI6bC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltpXSksbigiUDJQIFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkIil9fSksCi8vICBzdHViIGxvYWQKdC5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXtsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcmVjb25uZWN0IHJlcXVlc3QgcmVwbHkiLGUpfSl9KX19XSksUDJQQ29ubmVjdGlvblJlc29sdmV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDY4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vICAgICBwcm94eS1vYnNlcnZlIHYwLjAuMTgKLy8gICAgIENvcHlyaWdodCAoYykgMjAxNSwgMjAxNiBTaW1vbiBZLiBCbGFja3dlbGwsIEFueVdoaWNoV2F5Ci8vICAgICBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKIWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIE9ic2VydmVyKGUsdCxyLG4saSxvKXtmdW5jdGlvbiBkZWxpdmVyKGUsbil7aWYoZGVsaXZlci5kZWxheT1uLCFkZWxpdmVyLnBhdXNlJiZhLmNoYW5nZXNldC5sZW5ndGg+MCl7aWYoIWUpe3ZhciBpPWEuY2hhbmdlc2V0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hcnx8ci5pbmRleE9mKGUudHlwZSk+PTB9KTtpLmxlbmd0aD4wJiZ0KGkpfWEuY2hhbmdlc2V0PVtdfX12YXIgcyxhPXRoaXM7Ci8vIF9fb2JzZXJ2ZXJDYWxsYmFja3NfXyBpcyB1c2VkIGFzIGFuIGluZGV4IHRvIGdldCBhdCB0aGUgcHJveHkgd2hpY2ggaXMgdGhlIG9ic2VydmVyLCBzbyB3ZSBjYW4gdW5vYnNlcnZlCnJldHVybiBkZWxpdmVyLnBhdXNlPWksZGVsaXZlci5kZWxheT1vLGEuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIl9fb2JzZXJ2ZXJfXyI9PT10P2E6InVub2JzZXJ2ZSI9PT10P2Z1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC51bm9ic2VydmUoZSksZX06ImRlbGl2ZXIiPT09dD9kZWxpdmVyOmVbdF19LGEudGFyZ2V0PWUsYS5jaGFuZ2VzZXQ9W10sYS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19ffHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fb2JzZXJ2ZXJDYWxsYmFja3NfXyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiExLHZhbHVlOltdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fb2JzZXJ2ZXJzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pKSxhLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX18ucHVzaCh0KSxhLnRhcmdldC5fX29ic2VydmVyc19fLnB1c2godGhpcykscz1uZXcgUHJveHkoZSxhKSxkZWxpdmVyKCExLG8pLHN9Ci8vIENyZWF0ZXMgYW5kIHJldHVybnMgYSBQcm94eSB3cmFwcGluZyBhIHRhcmdldCBzbyB0aGF0IGFsbCBjaGFuZ2VzIGNhbiBiZSB0cmFwcGVkIGFuZCBmb3J3YXJkZWQgdG8KLy8gYSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHRha2VzIGFuIGFycmF5IG9mIGNoYW5nZXMganVzdCBsaWtlIHRoZSB0cmFkaXRpb25hbCBvcmlnaW5hbCBDaHJvbWUgT2JqZWN0Lm9ic2VydmUKLy8ge29iamVjdDo8b2JqZWN0IGNoYW5nZWQ+LG5hbWU6PGZpZWxkIGNoYW5nZWQ+LHR5cGU6YWRkfHVwZGF0ZXxkZWxldGV8cmVjb25maWd1cmV8cHJldmVudEV4dGVuc2lvbnN8c2V0UHJvdG90eXBlLG9sZFZhbHVlOjxvbGQgdmFsdWUgaWYgdXBkYXRlIHwgZGVsZXRlPn0KLy8gVGhlIGFjY2VwdGxpc3QgY2FuIGJlIGFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZS4KLy8gdiAwLjAuMTAgdG8gc3VwcG9ydCBwYXVzaW5nIGFuZCByZXN0YXJ0aW5nIG9ic2VydmF0aW9uIHR3byBhZGRpdGlvbmFsIGNvbnN0cnVjdG9yIGFyZ3VtZW50cyBhcmUgYXZhaWxhYmxlIHRvIE9iamVjdC5vYnNlcnZlOgovLyBwYXVzYWJsZSAtIGNyZWF0ZSB0aGUgT2JzZXJ2ZXIgc28gaXQgY2FuIGJlIHBhdXNlZAovLyBwYXVzZSAtIGNyZWF0ZSBvYnNlcnZlciBpbiBwYXVzZWQgc3RhdGUKLy8gaWYgcGF1c2FibGUgaXMgdHJ1ZSB0aGVuIGFuIGFkZGl0aW9uYWwgbWV0aG9kIGRlbGl2ZXIoaWdub3JlUHJldmlvdXMpIGlzIGF2YWlsYWJsZSB0byBzdGFydCBkZWxpdmVyeQovLyB0byBwYXVzZSBkZWxpdmVyeSBzZXQgYSBwcm9wZXJ0eSBjYWxsZWQgcGF1c2Ugb24gdGhlIGZ1bmN0aW9uIGRlbGl2ZXIgdG8gdHJ1ZQovLyBwYXVzYWJsZSBpcyBvcHRpb25hbCB0byByZWR1Y2UgdGhlIGNoYW5jZSBvZiBzaGFkb3dpbmcgYSBwcm9wZXJ0eSBvciBtZXRob2Qgb24gYW55IGV4aXN0aW5nIGNvZGUgY2FsbGVkIGRlbGl2ZXIKT2JqZWN0Lm9ic2VydmV8fCJmdW5jdGlvbiIhPXR5cGVvZiBQcm94eXx8KE9ic2VydmVyLnByb3RvdHlwZS5kZWxpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KG51bGwsImRlbGl2ZXIiKX0sT2JzZXJ2ZXIucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7Ly8gLCByZWNlaXZlcgp2YXIgbj1lW3RdLGk9dm9pZCAwPT09bj8iYWRkIjoidXBkYXRlIjtpZihlW3RdPXIsZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJighdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZihpKT49MCkpe3ZhciBvPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZTppfSxzPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsYT10aGlzLmRlbGl2ZXIoKTsidXBkYXRlIj09PWkmJihvLm9sZFZhbHVlPW4pLHRoaXMuY2hhbmdlc2V0LnB1c2gobykscyYmYSghMSwibnVtYmVyIj09dHlwZW9mIGEuZGVsYXk/YS5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3ZhciByPWVbdF07aWYoCi8vaWYodHlwZW9mKG9sZHZhbHVlKSE9PSJ1bmRlZmluZWQiKSB7CmRlbGV0ZSBlW3RdLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigiZGVsZXRlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZToiZGVsZXRlIixvbGRWYWx1ZTpyfSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfQovL30KcmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihlLHQscil7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxyKSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInJlY29uZmlndXJlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZToicmVjb25maWd1cmUifSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYoT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJzZXRQcm90b3R5cGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6Il9fcHJvdG9fXyIsdHlwZToic2V0UHJvdG90eXBlIixvbGRWYWx1ZTpyfSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKGUpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicHJldmVudEV4dGVuc2lvbnMiKT49MCl7dmFyIHQ9e29iamVjdDplLHR5cGU6InByZXZlbnRFeHRlbnNpb25zIn0scj0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG49dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaCh0KSxyJiZuKCExLCJudW1iZXIiPT10eXBlb2Ygbi5kZWxheT9uLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JqZWN0Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe3JldHVybiBuZXcgT2JzZXJ2ZXIoZSx0LHIsbixpLG8pfSxPYmplY3QudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYoZS5fX29ic2VydmVyQ2FsbGJhY2tzX18pe2lmKCF0KXJldHVybiBlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5sZW5ndGgpLHZvaWQgZS5fX29ic2VydmVyc19fLnNwbGljZSgwLGUuX19vYnNlcnZlcnNfXy5sZW5ndGgpO2UuX19vYnNlcnZlckNhbGxiYWNrc19fLmZvckVhY2goZnVuY3Rpb24ocixuKXt0PT09ciYmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZShuLDEpLGRlbGV0ZSBlLl9fb2JzZXJ2ZXJzX19bbl0uY2FsbGJhY2ssZS5fX29ic2VydmVyc19fLnNwbGljZShuLDEpKX0pfX0sQXJyYXkub2JzZXJ2ZT1mdW5jdGlvbihlLHQscixuLGksbyl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkoZSkpKXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IHRvIEFycmF5Lm9ic2VydmVyIGlzIG5vdCBhbiBBcnJheSIpO3I9cnx8WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJzcGxpY2UiXTt2YXIgcz1uZXcgUHJveHkoZSx7Z2V0OmZ1bmN0aW9uKHQsbil7cmV0dXJuInVub2JzZXJ2ZSI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiBlP09iamVjdC51bm9ic2VydmUodCxlKTp0LnVub2JzZXJ2ZSgpfToic3BsaWNlIj09PW4/ZnVuY3Rpb24obixpKXtpZigibnVtYmVyIiE9dHlwZW9mIG58fCJudW1iZXIiIT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCB0d28gYXJndW1lbnRzIHRvIEFycmF5IHNwbGljZSBhcmUgbm90IG51bWJlciwgbnVtYmVyIik7dmFyIG89dGhpcy5zbGljZShuLG4raSkscz1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzLmxlbmd0aC0yOjAsdT17b2JqZWN0OmUsdHlwZToic3BsaWNlIixpbmRleDpuLHJlbW92ZWQ6byxhZGRlZENvdW50OnN9O2lmKHQuc3BsaWNlLmFwcGx5KHQsYXJndW1lbnRzKSxyLmluZGV4T2YoInNwbGljZSIpPj0wKXt2YXIgbj0wPT09YS5fX29ic2VydmVyX18uY2hhbmdlc2V0Lmxlbmd0aCxjPWEuX19vYnNlcnZlcl9fLmRlbGl2ZXIoKTthLl9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQucHVzaCh1KSxuJiZjKCExLCJudW1iZXIiPT10eXBlb2YgYy5kZWxheT9jLmRlbGF5OjEwKX19OiJwdXNoIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLDAsZSl9OiJwb3AiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aC0xLDEpfToidW5zaGlmdCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSgwLDAsZSl9OiJzaGlmdCI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMSl9OnRbbl19fSksYT1PYmplY3Qub2JzZXJ2ZShzLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJsZW5ndGgiIT09ZS5uYW1lJiYiYWRkIiE9PWUubmFtZSYmKCFyfHxyLmluZGV4T2YoZS50eXBlKT49MCl9KTtuLmxlbmd0aD4wJiZ0KG4pfSxyLG4saSxvKTtyZXR1cm4gYX0sQXJyYXkudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudW5vYnNlcnZlKHQpfSksT2JqZWN0LmRlZXBPYnNlcnZlPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiByZW9ic2VydmUoZSxyKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKCgib2JqZWN0Ij09PW4oZVtpXSl8fCJhcnJheSI9PT1uKGVbaV0pKSYmIWVbaV0uaGFzT3duUHJvcGVydHkoIl9fb2JzZXJ2ZXJzX18iKSl7dmFyIG89ci5zbGljZSgwKTtvLnB1c2goaSksZVtpXT1PYmplY3QuZGVlcE9ic2VydmUoZVtpXSx0LG8pfX0pfXI9cnx8W107dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiByZW9ic2VydmUoZSxyKSxPYmplY3Qub2JzZXJ2ZShlLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHJlY3Vyc2UoZSx0LHIsaSxvKXtpZihpIGluc3RhbmNlb2YgT2JqZWN0KXtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2lmKCFyfHxyW3NdIT09aVtzXSl7dmFyIGE9ciYmdm9pZCAwIT09cltzXT9yW3NdOnZvaWQgMCx1PXZvaWQgMD09PWE/ImFkZCI6InVwZGF0ZSIsYz1vKyIuIitzO24ucHVzaCh7bmFtZTplLG9iamVjdDp0LHR5cGU6dSxvbGRWYWx1ZTphLG5ld1ZhbHVlOmlbc10sa2V5cGF0aDpjfSkscmVjdXJzZShlLHQsYSxpW3NdLGMpfX0pfWVsc2UgaWYociBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIHM9T2JqZWN0LmtleXMocik7cy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3ZhciBhPW51bGw9PT1pPyJ1cGRhdGUiOiJkZWxldGUiLHU9bysiLiIrcztuLnB1c2goe25hbWU6ZSxvYmplY3Q6dCx0eXBlOmEsb2xkVmFsdWU6cltzXSxuZXdWYWx1ZTppLGtleXBhdGg6dX0pLHJlY3Vyc2UoZSx0LHJbc10sdm9pZCAwLHUpfSl9fXZhciBuPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0oci5sZW5ndGg+MD9yLmpvaW4oIi4iKSsiLiI6IiIpK2UubmFtZTsidXBkYXRlIiE9PWUudHlwZSYmImFkZCIhPT1lLnR5cGV8fHJlb2JzZXJ2ZShlLm9iamVjdCxyKSxuLnB1c2goe25hbWU6ZS5uYW1lLG9iamVjdDplLm9iamVjdCx0eXBlOmUudHlwZSxvbGRWYWx1ZTplLm9sZFZhbHVlLG5ld1ZhbHVlOmUub2JqZWN0W2UubmFtZV0sa2V5cGF0aDp0fSkscmVjdXJzZShlLm5hbWUsZS5vYmplY3QsZS5vbGRWYWx1ZSxlLm9iamVjdFtlLm5hbWVdLHQpfSksdChuKX0pfX0oKX0sLyogNDY5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cigxNCksZD1yKDE0NCkscD1yKDQ3MCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig0NzUpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWYuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLGI9ZnVuY3Rpb24oKXsvKioKICAqIFRoaXMgaXMgdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpc2UgdGhlIElkZW50aXR5IE1vZHVsZSBpdCBkb2VzIG5vdCByZXF1aXJlIGFueSBpbnB1dC4KICAqLwpmdW5jdGlvbiBJZGVudGl0eU1vZHVsZShlLHQscixuLGksbyl7KDAscy5kZWZhdWx0KSh0aGlzLElkZW50aXR5TW9kdWxlKTt2YXIgYT10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiY3J5cHRvTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJydW50aW1lQ2F0YWxvZ3VlIGlzIG1pc3NpbmciKTthLl9ydW50aW1lVVJMPWUsYS5fcnVudGltZUNhdGFsb2d1ZT1vLGEuZGF0YU9iamVjdHNTdG9yYWdlPW4sYS5faWRtVVJMPWEuX3J1bnRpbWVVUkwrIi9pZG0iLGEuX2d1aVVSTD1hLl9ydW50aW1lVVJMKyIvaWRlbnRpdHktZ3VpIixhLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCxhLl9kb21haW49KDAsbC5kaXZpZGVVUkwpKGEuX3J1bnRpbWVVUkwpLmRvbWFpbiwKLy90byBzdG9yZSBpdGVtcyB3aXRoIHRoaXMgZm9ybWF0OiB7aWRlbnRpdHk6IGlkZW50aXR5VVJMLCB0b2tlbjogdG9rZW5JRH0KYS5faWRlbnRpdGllcz1uZXcgeS5kZWZhdWx0KCJodW1hbiIsciksCi8vIHRvIGJlIHJldmlld2VkOiB3YXRjaGluZ1lvdSBpZGVudGl0aWVzTGlzdCBvciBpZGVudGl0aWVzPwovLyAgICBfdGhpcy5pZGVudGl0aWVzTGlzdCA9IF90aGlzLndhdGNoaW5nWW91LndhdGNoKCdpZGVudGl0aWVzTGlzdCcsIHt9LCB0cnVlKTsKYS5fY3J5cHRvPWksLyogICAgX3RoaXMuZW1haWxzTGlzdCA9IFtdOwogICAgbGV0IG5ld0lkZW50aXR5ID0gbmV3IElkZW50aXR5KCdndWlkJywgJ0hVTUFOJyk7CiAgICBfdGhpcy5pZGVudGl0eSA9IG5ld0lkZW50aXR5OwogICAgX3RoaXMuY3VycmVudElkZW50aXR5OwogICAgX3RoaXMuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHk7Ki8KLy9zdG9yZXMgdGhlIGFzc29jaWF0aW9uIG9mIHRoZSBkYXRhT2JqZWN0IGFuZCB0aGUgSHlwZXJ0eSByZWdpc3RlcmVkIHdpdGhpbgphLmRhdGFPYmplY3RzSWRlbnRpdHk9e30sLy8gaXMgdGhpcyBuZWVkZWQ/CmEuX2xpc3RPZklkcHM9W10sCi8vIHZhcmlhYmxlIHRvIGtub3cgaWYgdGhlIEdVSSBpcyBkZXBsb3llZCB0byBjaG9vc2UgdGhlIGlkZW50aXR5LiBpZiB0aGUgcmVhbCBHVUkgaXMgbm90IGRlcGxveWVkLCBhIGZha2UgZ3VpIGlzIGRlcGxveWVkIGluc3RlYWQuCmEuZ3VpRGVwbG95ZWQ9ITF9Ci8vKioqKioqKioqKioqKioqKioqKiBHRVQgQU5EIFNFVCBNRVRIT0RTICoqKioqKioqKioqKioqKioqKioKLyoqCiAgKiByZXR1cm4gdGhlIG1lc3NhZ2VCdXMgaW4gdGhpcyBSZWdpc3RyeQogICogQHBhcmFtIHtNZXNzYWdlQnVzfSAgICAgICAgICAgbWVzc2FnZUJ1cwogICovCnJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNb2R1bGUsW3trZXk6ImdldElkZW50aXR5IiwKLy8qKioqKioqKioqKioqKioqKioqIElERU5USVRZIFJFTEVBVEVEIE1FVEhPRFMgKioqKioqKioqKioqKioqKioqKgovKioKICAgICogZ2V0cyBhbGwgdGhlIGluZm9ybWF0aW9uIGZyb20gYSBnaXZlbiB1c2VyVVJMCiAgICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJVUkwgICAgIHVzZXIgdXJsCiAgICAqIEByZXR1cm4ge0pTT059ICAgIGlkZW50aXR5ICAgIGlkZW50aXR5IGJ1bmRsZSBmcm9tIHRoZSB1c2VyVVJMCiAgICAqLwp2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmdldElkZW50aXR5KGUpfX0se2tleToiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7Ci8vICAgIGxldCBpZGVudGl0aWVzID0gX3RoaXMuaWRlbnRpdGllcy5pZGVudGlmaWVyczsKLy8gbGV0IGlkcHMgPSBbCi8vICAgeyBkb21haW46ICdnb29nbGUuY29tJywgdHlwZTogJ2lkVG9rZW4nfSwKLy8gICB7IGRvbWFpbjogJ21pY3Jvc29mdC5jb20nLCB0eXBlOiAnaWRUb2tlbid9LAovLyAgIHsgZG9tYWluOiAnb3JhbmdlLmZyJywgdHlwZTogJ2lkVG9rZW4nfSwKLy8gICB7IGRvbWFpbjogJ3NsYWNrLmNvbScsIHR5cGU6ICdMZWdhY3knfQovLyBdOwovLyB0b2RvOiByZXRyaWV2ZSBhdmFpbGFibGUgaWRwcyBmcm9tIHJ1bnRpbWUgY2F0YWxvZ3VlCi8vIHRvZG86IGVuYWJsZSBvYXV0aCBpZHBzCi8vIGxldCBpZHBzID0gWwovLyAgIHsgZG9tYWluOiAnZ29vZ2xlLmNvbScsIHR5cGU6ICdpZFRva2VuJyB9LAovLyAgIHsgZG9tYWluOiAnbWljcm9zb2Z0LmNvbScsIHR5cGU6ICdpZFRva2VuJyB9LAovLyAgIHsgZG9tYWluOiAnZmFjZWJvb2suY29tJywgdHlwZTogJ2lkVG9rZW4nIH0sCi8vICAgeyBkb21haW46ICdzbGFjay5jb20nLCB0eXBlOiAnaWRUb2tlbicgfQovLyBdOwpyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0KXt2YXIgcj1kLnJ1bnRpbWVDb25maWd1cmF0aW9uLmNhdGFsb2d1ZVVSTHMuaWRwUHJveHkucHJlZml4K2UuX2RvbWFpbitkLnJ1bnRpbWVDb25maWd1cmF0aW9uLmNhdGFsb2d1ZVVSTHMuaWRwUHJveHkuc3VmZml4O2kuZGVmYXVsdC5hbGwoW2UucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgiYnJvd3NlciIpLGUucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgibm9kZSIpXSkudGhlbihmdW5jdGlvbihuKXt2YXIgaT1uWzBdLG89blsxXSxzPXtjb25zdHJhaW50czp7fX07cy5jb25zdHJhaW50cy5ub2RlPW8scy5jb25zdHJhaW50cy5icm93c2VyPWksZS5fcnVudGltZUNhdGFsb2d1ZS5nZXRUeXBlTGlzdChyLHMpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjplLHR5cGU6ImlkVG9rZW4ifX0pO3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjpnZXRJZGVudGl0aWVzVG9DaG9vc2VdIixyLG4pLGUuX2xpc3RPZklkcHM9bix0KHtkZWZhdWx0SWRlbnRpdHk6ZS5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSxpZGVudGl0aWVzOmUuaWRlbnRpdGllcy5pZGVudGl0aWVzLGlkcHM6bn0pfSl9KX0pfX0se2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX2lkZW50aXRpZXMubG9hZElkZW50aXRpZXMoKS50aGVuKGZ1bmN0aW9uKCl7ZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj0idXNlci1ndWlkOi8vIisoMCxsLnN0cmluZ2lmeSkocik7ZS5pZGVudGl0aWVzLmd1aWQ9bixlLl9pZGVudGl0aWVzLmxvYWRBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSl9KX0pfSl9fSx7a2V5OiJnZXRJZGVudGl0eUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjppZGVudGl0eUJ1bmRsZV0iLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy9DSEVDSyB3aGV0aGVyIGlzIGJyb3dzZXIgZW52aXJvbm1lbnQgb3Igbm9kZWpzCi8vaWYgaXQgaXMgYnJvd3NlciwgdGhlbiBjcmVhdGUgYSBmYWtlIGlkZW50aXR5CnQucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgiYnJvd3NlciIpLnRoZW4oZnVuY3Rpb24oaSl7aWYoZy5sb2coInJ1bnRpbWUgYnJvd3NlciBpZGVudGl0eSBhY3F1aXNpdGlvbiIsaSksaSkKLy90b2RvOiBvbmx5IGlkcCBzaG91bGQgYmUgbWFuZGF0b3J5IHdoZW4gaWRlbnRpdHlCdW5kbGUgZXhpc3RzCmlmKGUmJmUuaGFzT3duUHJvcGVydHkoImlkcCIpKXt2YXIgbz1lLmlkcCxzPWUuaGFzT3duUHJvcGVydHkoIm9yaWdpbiIpP2Uub3JpZ2luOiJvcmlnaW4iLGE9ZS5oYXNPd25Qcm9wZXJ0eSgiaWRIaW50Iik/ZS5pZEhpbnQ6IiI7dC5zZWxlY3RJZGVudGl0eUZvckh5cGVydHkocyxvLGEpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGVdIElkZW50aXR5IHNlbGVjdGVkIGJ5IGh5cGVydHkuIikscihlKX0sZnVuY3Rpb24oZSl7Ci8vIGlmIGl0IGdvdCBhbiBlcnJvciB0aGVuIGp1c3Qgc2VsZWN0IGlkZW50aXR5IGZyb20gR1VJCi8vIGxvZy5lcnJvcignW0lkZW50aXR5TW9kdWxlXSBDb3VsZCBub3Qgc2VsZWN0IGlkZW50aXR5IGZyb20gaHlwZXJ0eS4nKTsKdC5zZWxlY3RJZGVudGl0eUZyb21HVUkoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBieSBoeXBlcnR5LiIpLHIoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9KX1lbHNle2lmKHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkmJnQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkuZXhwaXJlcz4oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpKXJldHVybiByKHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkpO3Quc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXsvKgogICAgICAgICAgICAgICAgICBfdGhpcy5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSA9IGFzc2VydGlvbi51c2VyUHJvZmlsZS51c2VyVVJMOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhc3NlcnRpb24pOwogICAgICAgICAgICAgICAgfSovCnJldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBmcm9tIEdVSS4iKSx0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5PWUudXNlclByb2ZpbGUudXNlclVSTCxyKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KSx0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGcubG9nKCJub2RlIGlkZW50aXR5IGFjcXVpc2l0aW9uIixlKSxlKXtpZih0LmlkZW50aXRpZXMuY3VycmVudElkZW50aXR5KQovL1RPRE8gdmVyaWZ5IHdoZXRoZXIgdGhlIHRva2VuIGlzIHN0aWxsIHZhbGlkIG9yIG5vdC4KLy8gc2hvdWxkIGJlIG5lZWRlZCB0byBtYWtlIGZ1cnRoZXIgcmVxdWVzdHMsIHRvIG9idGFpbiBhIHZhbGlkIHRva2VuCnJldHVybiByKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpO2cubG9nKCJnZXRJZGVudGl0eUFzc2VydGlvbiBmb3Igbm9kZWpzIik7dmFyIGk9e3R5cGU6ImlkcCIsdmFsdWU6Im5vZGVqcy1pZHAiLGNvZGU6MjAwLGF1dGg6ITF9O3QuY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyhpLnZhbHVlLCJvcmlnaW4iKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9LGZ1bmN0aW9uKGUpe24oZSl9KX19KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KX0pfX0se2tleToiZ2V0VXNlcnNJRHMiLHZhbHVlOmZ1bmN0aW9uKCl7LyogIGxvZy5sb2coJ1tnZXRVc2Vyc0lEczplbWFpbEZvcm1hdF0nLCBlbWFpbEZvcm1hdCk7CiAgICAgICAgbG9nLmxvZygnZ2V0VXNlcnNJRHM6ZW1haWxGb3JtYXQnLCBlbWFpbEZvcm1hdCk7CiAgICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgICBsZXQgdXNlcnMgPSBbXTsqLwovL2lmIHJlcXVlc3QgY29tZXMgd2l0aCB0aGUgZW1haWxGb3JtYXQgb3B0aW9uLCB0aGVuIGNvbnZlcnQgdXJsIHRvIGVtYWlsIGZvcm1hdAovKiAgICBsZXQgY29udmVydGVyID0gKGVtYWlsRm9ybWF0KSA/IGdldFVzZXJFbWFpbEZyb21VUkwgOiAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlOyB9OwogICAgICAgZm9yIChsZXQgaW5kZXggaW4gX3RoaXMuaWRlbnRpdGllcykgewogICAgICAgIGxldCBpZGVudGl0eSA9IF90aGlzLmlkZW50aXRpZXNbaW5kZXhdOwogICAgICAgIHVzZXJzLnB1c2goY29udmVydGVyKGlkZW50aXR5LmlkZW50aXR5KSk7CiAgICAgIH0qLwpyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmlkZW50aWZpZXJzfX0se2tleToiZGVsZXRlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMucmVtb3ZlSWRlbnRpdHkoZSl9fSx7a2V5OiJyZXF1ZXN0SWRlbnRpdHlUb0dVSSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkZW50aXRpZXNdIixlKSxnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkcHNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7Ci8vY29uZGl0aW9uIHRvIGNoZWNrIGlmIHRoZSByZWFsIEdVSSBpcyBkZXBsb3llZC4gSWYgbm90LCBkZXBsb3lzIGEgZmFrZSBndWkKaWYoITE9PT1yLmd1aURlcGxveWVkKXt2YXIgbz1yLl9ndWlVUkwscz1uZXcgdi5kZWZhdWx0KG8sci5fbWVzc2FnZUJ1cyk7ci5ndWlGYWtlPXMsci5ndWlEZXBsb3llZD0hMH12YXIgYT17dHlwZToiY3JlYXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7dmFsdWU6e2lkZW50aXRpZXM6ZSxpZHBzOnR9fX0sdT1mdW5jdGlvbihlKXsKLy8gdG9kbzogdG8gcmV0dXJuIHRoZSB1c2VyIFVSTCBhbmQgbm90IHRoZSBlbWFpbCBvciBpZGVudGlmaWVyCmlmKHIuX21lc3NhZ2VCdXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyLl9pZG1VUkwsZS5pZCksMjAwPT09ZS5ib2R5LmNvZGUpe3ZhciB0PWUuYm9keTtnLmxvZygic2VsZWN0ZWRJZGVudGl0eTogIix0LnZhbHVlKSxuKHQpfWVsc2UgaSgiZXJyb3Igb24gcmVxdWVzdGluZyBhbiBpZGVudGl0eSB0byB0aGUgR1VJIil9OwovL3Bvc3RNZXNzYWdlIHdpdGggY2FsbGJhY2sgYnV0IHdpdGhvdXQgdGltZW91dAp0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLHUsITEpfWNhdGNoKGUpe2koIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9kZWJ1Z2dlcjsKdmFyIG89dm9pZCAwOwovL2xldCBrZXlQYWlyID0gbm9kZUpTS2V5UGFpclBvcHVsYXRlOwovL2dlbmVyYXRlcyB0aGUgUlNBIGtleSBwYWlyCnIuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kczprZXldIixuKSxvPSgwLGwuc3RyaW5naWZ5KShuKSxnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHNdIE5PX1VSTCIpLHIuZ2VuZXJhdGVBc3NlcnRpb24obyx0LCJ1cmwiLGUpfSkudGhlbihmdW5jdGlvbihlKXtlP24oZSk6aSgiRXJyb3Igb24gb2J0YWluaW5nIElkZW50aXR5Iil9KS5jYXRjaChmdW5jdGlvbihlKXtnLmxvZyhlKSxpKGUpfSl9KX19LHtrZXk6ImNhbGxHZW5lcmF0ZU1ldGhvZHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOmlkcF0iLGUpLGcubG9nKCJbY2FsbEdlbmVyYXRlTWV0aG9kczpvcmlnaW5dIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89dm9pZCAwOwovL2dlbmVyYXRlcyB0aGUgUlNBIGtleSBwYWlyCnIuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24obil7Ci8vICAgICAgICB1c2Vya2V5UGFpciA9IGtleVBhaXI7CnJldHVybiBnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6a2V5XSIsbiksbz0oMCxsLnN0cmluZ2lmeSkobiksZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOm5vX2hpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKG8sdCwiIixlKX0pLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHIubXlIaW50PW4sZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOmhpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKG8sdCxuLGUpfSkudGhlbihmdW5jdGlvbihlKXtlP24oZSk6aSgiRXJyb3Igb24gb2J0YWluaW5nIElkZW50aXR5Iil9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKGUpLGkoZSl9KX0pfX0se2tleToibG9naW5TZWxlY3RlZElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpwdWJsaWNLZXldIixlKSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpvcmlnaW5dIix0KSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTppZHBdIixyKSwKLy8gICAgbG9nLmxvZygnW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTprZXlQYWlyXScsIGtleVBhaXIpOwpnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpsb2dpblVybF0iLG4pO3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBvcGVuUG9wdXAiKSxvLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOm59KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlfSxmdW5jdGlvbihlKXtyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoZSl9KS50aGVuKGZ1bmN0aW9uKG4pe28uc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQsbixyKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSlyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoIkNvdWxkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGFzc2VydGlvbiBmb3Igc2VsZWN0ZWQgaWRlbnRpdHkuIik7by5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKGUpe2koIkxvZ2luIHdhcyBzdWNjZXNzZnVsbCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cygiTG9naW4gaGFzIGZhaWxlZDoiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtzKCJPbiBsb2dpblNlbGVjdGVkSWRlbnRpdHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pfSl9fSx7a2V5OiJzZWxlY3RJZGVudGl0eUZvckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTpvcmlnaW5dIixlKSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZHBdIix0KSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZEhpbnRdIixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7Ci8vZ2VuZXJhdGVzIHRoZSBSU0Ega2V5IHBhaXIKbi5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihzKXt2YXIgYT0oMCxsLnN0cmluZ2lmeSkocyk7bi5zZW5kR2VuZXJhdGVNZXNzYWdlKGEsZSxyLHQpLnRoZW4oZnVuY3Rpb24ocil7ci5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIik/Ci8vIGlkZW50aXR5IHdhcyBsb2dnZWQgaW4sIGp1c3Qgc2F2ZSBpdApuLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkocil9LGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSk6ci5oYXNPd25Qcm9wZXJ0eSgibG9naW5VcmwiKT8KLy8gaWRlbnRpdHkgd2FzIG5vdCBsb2dnZWQgaW4Kbi5sb2dpblNlbGVjdGVkSWRlbnRpdHkoYSxlLHQsci5sb2dpblVybCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9KTooCi8vIHlvdSBzaG91bGQgbmV2ZXIgZ2V0IGhlcmUsIGlmIHlvdSBkbyB0aGVuIHRoZSBJZFAgUHJveHkgaXMgbm90IHdlbGwgaW1wbGVtZW50ZWQKLy8gbG9nLmVycm9yKCdHZW5lcmF0ZUFzc2VydGlvbiByZXR1cm5lZCBpbnZhbGlkIHJlc3BvbnNlLicpOwpnLmxvZygiUHJvY2VlZGluZyBieSBsb2dnaW5nIGluLiIpLG4uY2FsbEdlbmVyYXRlTWV0aG9kcyh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5IGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBzZWxlY3RJZGVudGl0eUZvckh5cGVydHkgZnJvbSBtZXRob2QgZ2VuZXJhdGVSU0FLZXlQYWlyIGVycm9yOiAgIitlKX0pfSl9fSx7a2V5OiJzZWxlY3RJZGVudGl0eUZyb21HVUkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5zZWxlY3RJZGVudGl0eUZyb21HVUk6b3JpZ2luXSIsZSk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuZ2V0SWRlbnRpdGllc1RvQ2hvb3NlKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5yZXF1ZXN0SWRlbnRpdHlUb0dVSShlLmlkZW50aXRpZXMsZS5pZHBzKX0pLnRoZW4oZnVuY3Rpb24odCl7aWYoImlkZW50aXR5Ij09PXQudHlwZSkKLy8gIGxldCBjaG9zZW5JRCA9IGdldFVzZXJVUkxGcm9tRW1haWwodmFsdWUudmFsdWUpOwovLyBoYWNrIHdoaWxlIHRoZSB1c2VyIHVybCBpcyBub3QgcmV0dXJuZWQgZnJvbSByZXF1ZXN0SWRlbnRpdHlUb0dVSTsKLyogICAgICAgICAgbGV0IGNob3NlbklEID0gJ3VzZXI6Ly8nICsgX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkuaWRwLmRvbWFpbiArICcvJyArIHZhbHVlLnZhbHVlOwogICAgICAgICAgICAgX3RoaXMuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkgPSBfdGhpcy5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eTsqLwovLyByZXR1cm5zIHRoZSBpZGVudGl0eSBpbmZvIGZyb20gdGhlIGNob3NlbiBpZAovLyAgICAgICAgICBpZiAoX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpIHJlc29sdmUoX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkuYXNzZXJ0aW9uKTsKci5pZGVudGl0aWVzLmlkZW50aXRpZXNbdC52YWx1ZV0/bihyLmlkZW50aXRpZXMuaWRlbnRpdGllc1t0LnZhbHVlXSk6aSgiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSV0gaWRlbnRpdHkgbm90IGZvdW5kOiAiLHQudmFsdWUpO2Vsc2V7aWYoImlkcCIhPT10LnR5cGUpcmV0dXJuIGkoImVycm9yIG9uIEdVSSByZWNlaXZlZCBtZXNzYWdlLiIpO3IuY2FsbEdlbmVyYXRlTWV0aG9kcyh0LnZhbHVlLGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSl9fSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gc2VsZWN0SWRlbnRpdHlGcm9tR1VJIGZyb20gbWV0aG9kIHJlcXVlc3RJZGVudGl0eVRvR1VJIGVycm9yOiAgIitlKX0pfSl9fSx7a2V5OiJjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbElkZW50aXR5TW9kdWxlRnVuYzptZXRob2ROYW1lXSIsZSksZy5sb2coIltjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOnBhcmFtZXRlcnNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89e3R5cGU6ImV4ZWN1dGUiLHRvOnIuX2d1aVVSTCxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDplLHBhcmFtczp0fX0scz1mdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5faWRtVVJMLGUuaWQpO3ZhciB0PWUuYm9keS52YWx1ZTtuKHQpfTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLHMsITEpfWNhdGNoKGUpe2koIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiZ2V0VG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLnRvO3JldHVybiBlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLCJmb3J3YXJkIj09PWUudHlwZSYmKHI9ZS5ib2R5LmZyb20pLGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gZm9yIG1zZyAiLGUpLAovL2xvZy5sb2coJ3RvVXJsJywgdG9VcmwpOwp0LnJlZ2lzdHJ5LmlzTGVnYWN5KG4pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ1tJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gaXNMRUdBQ1k6ICcsIHJlc3VsdCk7Cm4/dC5fZ2V0QWNjZXNzVG9rZW4oZSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldFRva2VuXSBhY2Nlc3MgdG9rZW4gIixlKSxpKCgwLGwuZGVlcENsb25lKShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2UpfSk6dC5fZ2V0VmFsaWRUb2tlbihyKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBnZXRUb2tlbiBmcm9tIG1ldGhvZCBfZ2V0VmFsaWRUb2tlbiBlcnJvcjogIitlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gZ2V0VG9rZW4gZnJvbSBtZXRob2QgaXNMZWdhY3kgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZ2V0SWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5pbmZvKCJnZXRJZFRva2VuOmh5cGVydHlVUkwgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS5zcGxpdCgiOi8vIiksbz12b2lkIDA7aWYoImh5cGVydHkiPT09aVswXSl7aWYobz10LnJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKSl7dmFyIHM9dC5pZGVudGl0aWVzLmdldElkZW50aXR5KG8pO3JldHVybiBzP3Iocyk6bigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIElkZW50aXR5IG5vdCBmb3VuZCBmb3I6ICIsbyl9cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBVc2VyIG5vdCBmb3VuZCBmb3IgaHlwZXJ0eTogIixvKX0KLy8gaXQgaXMgYSBEYXRhIE9iamVjdCBVUkwKdC5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYobz10LnJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKSl7dmFyIGk9dC5pZGVudGl0aWVzLmdldElkZW50aXR5KG8pO3JldHVybiBpP3IoaSk6bigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIElkZW50aXR5IG5vdCBmb3VuZCBmb3I6ICIsbyl9cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBVc2VyIG5vdCBmb3VuZCBmb3IgaHlwZXJ0eTogIixlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBFcnJvcjogIixlKSxuKGUpfSl9KX19LHtrZXk6Il9nZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8sbz12b2lkIDA7aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKSlyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHk6ICIsZSk7aWYoIWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSlyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHkgdmFsdWU6ICIsZSk7aWYoIWUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2VzIikpcmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIG1pc3NpbmcgbWFuZGF0b3J5IG1zZyBib2R5IHZhbHVlIHJlc291cmNlczogIixlKTt2YXIgcz0oMCxsLmRpdmlkZVVSTCkoaSkuZG9tYWluO2kuaW5jbHVkZXMoInByb3Rvc3R1YiIpJiYocz1zLnJlcGxhY2Uocy5zcGxpdCgiLiIpWzBdKyIuIiwiIikpO3ZhciBhPWUuYm9keS52YWx1ZS5yZXNvdXJjZXM7dHJ5e289dC5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKHMsYSl9Y2F0Y2goZSl7cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2Vycil9aWYobyl7aWYoImluLXByb2dyZXNzIj09PW8uc3RhdHVzKXJldHVybiByKHQuX2luUHJvZ3Jlc3NBY2Nlc3NUb2tlbihzLGEpKTt2YXIgdT0oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpO3JldHVybiBnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldEFjY2Vzc1Rva2VuXSBmb3VuZCAgQWNjZXNzIFRva2VuICIsbykscih1Pj1vLmV4cGlyZXM/dC5fZ2V0TmV3QWNjZXNzVG9rZW4ocyxhKTpvKX10Ll9nZXROZXdBY2Nlc3NUb2tlbihzLGEpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0QWNjZXNzVG9rZW5dIG5ldyBBY2Nlc3MgVG9rZW4gIixlKSxyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gb24gZ2V0TmV3QWNjZXNzVG9rZW4gIitlKX0pfSl9fSx7a2V5OiJfaW5Qcm9ncmVzc0FjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5pZGVudGl0aWVzLndhdGNoaW5nWW91Lm9ic2VydmUoImFjY2Vzc1Rva2VucyIsZnVuY3Rpb24obil7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuXSBhY2Nlc3NUb2tlbnMgY2hhbmdlZCAiK3IuaWRlbnRpdGllcy5hY2Nlc3NUb2tlbnMpO3ZhciBpPW4ua2V5cGF0aDtpZihpLmluY2x1ZGVzKCJzdGF0dXMiKSYmKGk9aS5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLGk9PT1lJiYic3RhdHVzIj09PW4ubmFtZSYmImNyZWF0ZWQiPT09bi5uZXdWYWx1ZSkKLy8gbG9nLmxvZygnW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFRva2VuXSB0b2tlbiBpcyBjcmVhdGVkICcgKyBfdGhpcy5pZGVudGl0aWVzTGlzdFtkb21haW5dKTsKcmV0dXJuIHIuaWRlbnRpdGllcy5nZXRBY2Nlc3NUb2tlbihlLHQpfSl9fSx7a2V5OiJfZ2V0TmV3QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3IuaWRlbnRpdGllcy5zZXRBY2Nlc3NUb2tlbkluUHJvZ3Jlc3MoZSk7dmFyIG89e3R5cGU6ImV4ZWN1dGUiLHRvOnIuX3Jlc29sdmVEb21haW4oZSksZnJvbTpyLl9pZG1VUkwsYm9keTp7bWV0aG9kOiJnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCIscGFyYW1zOnR9fTsKLy9sZXQncyBmaXJzdCBnZXQgdGhlIGF1dGhvcmlzYXRpb24gVVJMIGZyb20gdGhlIElkcCBQcm94eQpyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7aWYoZS5ib2R5LmNvZGU+Mjk5KXJldHVybiBpKCJbSWRlbnRpdHlNb2R1bGUuX2dldE5ld0FjY2Vzc1Rva2VuXSBFcnJvciBvbiBnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCBmcm9tIElkUCBQcm94eTogIixlLmJvZHkuZGVzYyk7Ci8vIGxldCdzIGFzayB0aGUgdXNlciBmb3IgYXV0aG9yaXNhdGlvbgpyLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuYm9keS52YWx1ZX0pLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm9wZW5Qb3B1cF0gYXVodG9yaXNhdGlvbiByZXN1bHQ6ICIsZSksby5ib2R5Lm1ldGhvZD0iZ2V0QWNjZXNzVG9rZW4iLG8uYm9keS5wYXJhbXM9e3Jlc291cmNlczp0LGxvZ2luOmV9LAovL3dpaHRvdXQgY2FsbGJhY2sgdG8gYXZvaWQgdGltZW91dCBlcnJvcnM/Ci8vIGxldCdzIGFzayBBY2Nlc3MgVG9rZW4gZnJvbSB0aGUgSWRwIFByb3h5CnIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIGkoIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuIGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmlkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW4oZS5ib2R5LnZhbHVlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIHJlc29sdmluZyB0b2tlbjogIix0KSxuKGUuYm9keS52YWx1ZSl9LGZ1bmN0aW9uKGUpe2koZSl9KX0pfSxmdW5jdGlvbihlKXtpKGUpfSl9KX0pfX0se2tleToic2VuZFJlZnJlc2hNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOwovLyAgICBsZXQgZG9tYWluID0gX3RoaXMuX3Jlc29sdmVEb21haW4ob2xkSWRlbnRpdHkuaWRwKTsKLy8gICAgbGV0IG1lc3NhZ2U7Ci8vICAgIGxldCBhc3NlcnRpb24gPSBfdGhpcy5nZXRJZGVudGl0eShvbGRJZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMKTsKcmV0dXJuIGcubG9nKCJzZW5kUmVmcmVzaE1lc3NhZ2U6b2xkSWRlbnRpdHkiLGUpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT10Ll9yZXNvbHZlRG9tYWluKGUuaWRwKSxvPXZvaWQgMCxzPXQuZ2V0SWRlbnRpdHkoZS51c2VyUHJvZmlsZS51c2VyVVJMKTtnLmluZm8oInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksbz17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOnQuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoicmVmcmVzaEFzc2VydGlvbiIscGFyYW1zOntpZGVudGl0eTpzfX19O3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IodCl9KX1jYXRjaChlKXtuKCJJbiBzZW5kUmVmcmVzaE1lc3NhZ2Ugb24gcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJzZW5kR2VuZXJhdGVNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6Y29udGVudHNdIixlKSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6b3JpZ2luXSIsdCksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOnVzZXJuYW1lSGludF0iLHIpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTppZHBEb21haW5dIixuKSxnLmxvZygic2VuZEdlbmVyYXRlTWVzc2FnZV9oaW50Iik7dmFyIG89dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLHMpe3ZhciBhPW8uX3Jlc29sdmVEb21haW4obiksdT12b2lkIDA7dT17dHlwZToiZXhlY3V0ZSIsdG86YSxmcm9tOm8uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2VuZXJhdGVBc3NlcnRpb24iLHBhcmFtczp7Y29udGVudHM6ZSxvcmlnaW46dCx1c2VybmFtZUhpbnQ6cn19fTt0cnl7by5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh1LGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS52YWx1ZTtpKHQpfSl9Y2F0Y2goZSl7cygiSW4gc2VuZFJlZnJlc2hNZXNzYWdlIG9uIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZ2VuZXJhdGVBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2cubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246Y29udGVudHNdIixlKSxnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOm9yaWdpbl0iLHQpLGcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246dXNlcm5hbWVIaW50XSIsciksCi8vICAgIGxvZy5sb2coJ1tnZW5lcmF0ZUFzc2VydGlvbjprZXlQYWlyXScsIGtleVBhaXIpOwpnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOmlkcERvbWFpbl0iLG4pO3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOnNlbmRHZW5lcmF0ZU1lc3NhZ2U6c2VuZEdlbmVyYXRlTWVzc2FnZV0iLHIpLG8uc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQscixuKS50aGVuKGZ1bmN0aW9uKGUpe2UubG9naW5Vcmw/by5jYWxsSWRlbnRpdHlNb2R1bGVGdW5jKCJvcGVuUG9wdXAiLHt1cmxyZWNlaXZlZDplLmxvZ2luVXJsfSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOmNhbGxJZGVudGl0eU1vZHVsZUZ1bmM6b3BlblBvcHVwXSIsciksaShlKX0sZnVuY3Rpb24oZSl7cyhlKX0pOmU/by5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKHQpe2koZSl9LGZ1bmN0aW9uKGUpe3MoZSl9KTpzKCJlcnJvciBvbiBvYnRhaW5pbmcgaWRlbnRpdHkgaW5mb3JtYXRpb24iKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3MoIk9uIGdlbmVyYXRlQXNzZXJ0aW9uIGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICIrZSl9KX0pfX0se2tleToidmFsaWRhdGVBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOmFzc2VydGlvbl0iLGUpLGcubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjppZHBEb21haW5dIixyKTt2YXIgbj10aGlzLG89bi5fcmVzb2x2ZURvbWFpbihyKSxzPXt0eXBlOiJleGVjdXRlIix0bzpvLGZyb206bi5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJ2YWxpZGF0ZUFzc2VydGlvbiIscGFyYW1zOnthc3NlcnRpb246ZSxvcmlnaW46dH19fTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe3RyeXtuLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/ZShyLmJvZHkudmFsdWUpOnQoImVycm9yIixyLmJvZHkuY29kZSl9KX1jYXRjaChlKXt0KCJPbiB2YWxpZGF0ZUFzc2VydGlvbiBmcm9tIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6ImFkZEdVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5faWRtVVJMLGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keS5tZXRob2Q7Zy5sb2coIltJZGVudGl0eU1vZHVsZTphZGRHVUlMaXN0ZW5lcnNdIix0LHQuYm9keSxyKTt2YXIgbj12b2lkIDA7aWYoImRlcGxveUdVSSI9PT1yKW49ZS5kZXBsb3lHVUkoKTtlbHNle2lmKCJnZXRJZGVudGl0aWVzVG9DaG9vc2UiPT09cilyZXR1cm4gdm9pZCBlLmdldElkZW50aXRpZXNUb0Nob29zZSgpLnRoZW4oZnVuY3Rpb24ocil7Ci8vIGlmIHRoZSBmdW5jdGlvbiByZXF1ZXN0ZWQgaXMgbm90IGEgcHJvbWlzZQp2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pO2lmKCJ1bnJlZ2lzdGVySWRlbnRpdHkiPT09cil7dmFyIGk9dC5ib2R5LnBhcmFtcy5lbWFpbDtuPWUudW5yZWdpc3RlcklkZW50aXR5KGkpfWVsc2V7aWYoImdldE15UHVibGljS2V5Ij09PXIpCi8vIGJlY2F1c2UgZ2VuZXJhdGVSU0FLZXlQYWlyIGlzIGEgcHJvbWlzZQovLyB3ZSBoYXZlIHRvIHNlbmQgdGhlIG1lc3NhZ2Ugb25seSBhZnRlciBnZXR0aW5nIHRoZSBrZXkgcGFpcgpyZXR1cm4gdm9pZCBlLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKHIpe3I9KDAsbC5zdHJpbmdpZnkpKHIpO3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgZ2VuZXJhdGVSU0FLZXlQYWlyIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KTtpZigic2VuZEdlbmVyYXRlTWVzc2FnZSI9PT1yKXt2YXIgbz10LmJvZHkucGFyYW1zLmNvbnRlbnRzLHM9dC5ib2R5LnBhcmFtcy5vcmlnaW4sYT10LmJvZHkucGFyYW1zLnVzZXJuYW1lSGludCx1PXQuYm9keS5wYXJhbXMuaWRwRG9tYWluO3JldHVybiB2b2lkIGUuc2VuZEdlbmVyYXRlTWVzc2FnZShvLHMsYSx1KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc2VuZEdlbmVyYXRlTWVzc2FnZSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImFkZEFzc2VydGlvbiI9PT1yKXt2YXIgYz10LmJvZHkucGFyYW1zOwovLyAgICAgICAgbGV0IGtleVBhaXIgPSBtc2cuYm9keS5wYXJhbXMua2V5UGFpcjsKcmV0dXJuIHZvaWQgZS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihjKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fX0vKmVsc2UgaWYgKGZ1bmNOYW1lID09PSAnc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5JykgewogICAgICAgICAgbGV0IG9yaWdpbiA9IG1zZy5ib2R5LnBhcmFtcy5vcmlnaW47CiAgICAgICAgICBsZXQgaWRwID0gbXNnLmJvZHkucGFyYW1zLmlkcDsKICAgICAgICAgIGxldCBpZEhpbnQgPSBtc2cuYm9keS5wYXJhbXMuaWRIaW50OwogICAgICAgICAgX3RoaXMuc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5KG9yaWdpbiwgaWRwLCBpZEhpbnQpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSovCi8vIGlmIHRoZSBmdW5jdGlvbiByZXF1ZXN0ZWQgaXMgbm90IGEgcHJvbWlzZQp2YXIgZj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6bixjb2RlOjIwMH0sZD17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5OmZ9O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZGVwbG95R1VJIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3VpRGVwbG95ZWQ9ITB9fSx7a2V5OiJfZ2V0VmFsaWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0VmFsaWRUb2tlbl06aHlwZXJ0eVVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ2V0SWRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldFZhbGlkVG9rZW5dIHJldHJpZXZlZCBJZEFzc2VydGlvbiIsZSk7dmFyIGk9KDAsbC5zZWNvbmRzU2luY2VFcG9jaCkoKTtpZighZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpKXJldHVybiByKGUpO3ZhciBvPWUuZXhwaXJlczsvKiBpZiAoY29tcGxldGVJZC5oYXNPd25Qcm9wZXJ0eSgnaW5mbycpKSB7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZUlkLmluZm8uaGFzT3duUHJvcGVydHkoJ2V4cGlyZXMnKSkgewogICAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlID0gY29tcGxldGVJZC5pbmZvLmV4cGlyZXM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVJZC5pbmZvLmhhc093blByb3BlcnR5KCd0b2tlbklESlNPTicpKSB7CiAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGUgPSBjb21wbGV0ZUlkLmluZm8udG9rZW5JREpTT04uZXhwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHRocm93ICdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnOwogICAgICAgICAgICAgIGxvZy5pbmZvKCdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnKTsKICAgICAgICAgICAgICByZXNvbHZlKGFzc2VydGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVJZC5oYXNPd25Qcm9wZXJ0eSgnaW5mb1Rva2VuJykgJiYgY29tcGxldGVJZC5pbmZvVG9rZW4uaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7CiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlID0gY29tcGxldGVJZC5pbmZvVG9rZW4uZXhwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdGhyb3cgJ1RoZSBJRCBUb2tlbiBkb2VzIG5vdCBoYXZlIGFuIGV4cGlyYXRpb24gdGltZSc7CiAgICAgICAgICAgIGxvZy5pbmZvKCdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnKTsKICAgICAgICAgICAgcmVzb2x2ZShhc3NlcnRpb24pOwogICAgICAgICAgfSovCmcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gVG9rZW4gZXhwaXJlcyBpbiIsbyksZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSB0aW1lIG5vdzoiLGkpLGk+PW8/ZS5oYXNPd25Qcm9wZXJ0eSgicmVmcmVzaCIpP3Quc2VuZFJlZnJlc2hNZXNzYWdlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5pZGVudGl0aWVzLnVwZGF0ZUFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKCl7cihlKX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHVwZGF0aW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciByZWZyZXNoaW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSk6Ci8vIG5vIHJlZnJlc2ggdG9rZW4gYXZhaWxhYmxlLCB1c2VyIGhhcyB0byBhdXRoZW50aWNhdGUgYWdhaW4gdG8gZ2V0IGEgbmV3IGFzc2VydGlvbgovLyBnZW5lcmF0ZSBuZXcgaWRUb2tlbgp0LmNhbGxHZW5lcmF0ZU1ldGhvZHMoZS5pZHAuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3Igd2hlbiBnZW5lcmF0aW5nIGEgbmV3IGFzc2VydGlvbiAiK2UpfSk6cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciBvbiBnZXRJZFRva2VuIixlKSxuKGUpfSl9KX19LHtrZXk6Il9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe2cuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0VVJMIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAsbC5kaXZpZGVVUkwpKGUpLG89aS5kb21haW4scz0oMCxsLnBhcnNlTWVzc2FnZVVSTCkoZSksYT10LnJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhzKTtpZihnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6cmVwb3J0ZXJVUkwiLGEpLGEpcihhKTtlbHNlewovLyBjaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIGFzc29jaWF0aW9uIGZyb20gYW4gaHlwZXJ0eVVSTCB0byB0aGUgZGF0YU9iamVjdAp2YXIgdT10LmRhdGFPYmplY3RzSWRlbnRpdHlbc107aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN0b3JlZFJlcG9ydGVyVVJMIix1KSx1KXIodSk7ZWxzZXsKLy8gY2hlY2sgaWYgdGhlcmUgaXMgYW55IGh5cGVydHkgdGhhdCBzdWJzY3JpYmVkIHRoZSBkYXRhT2JqZWN0VVJMCnZhciBjPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJIeXBlcnR5KGUpO2cuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpzdWJzY3JpYmVySHlwZXJ0eSIsYyksYz9yKGMpOgovLyBzZWFyY2ggaW4gZG9tYWluIHJlZ2lzdHJ5IGZvciB0aGUgaHlwZXJ0eSBhc3NvY2lhdGVkIHRvIHRoZSBkYXRhT2JqZWN0Ci8vIHNlYXJjaCBpbiBjYXNlIGlzIGEgc3Vic2NyaWJlciB3aG8gd2FudHMgdG8ga25vdyB0aGUgcmVwb3J0ZXIKLy8gVG8gYmUgcmV2aWV3ZWQgaW4gb3JkZXIgdG8gYXZvaWQgdGhlIGRpc2NvdmVyeSB0cmFuc2FjdGlvbgp0Ll9jb3JlRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChzLG8pLnRoZW4oZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3QiLGUpLHQuZGF0YU9iamVjdHNJZGVudGl0eVtzXT1lLnJlcG9ydGVyLGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0LnJlcG9ydGVyIixlLnJlcG9ydGVyKSxyKGUucmVwb3J0ZXIpfSxmdW5jdGlvbihlKXtuKGUpfSl9fX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9fSx7a2V5OiJpZHBzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdE9mSWRwc319XSksSWRlbnRpdHlNb2R1bGV9KCk7dC5kZWZhdWx0PWIsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDcwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNDcxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDkpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoOTYpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigyKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMTQpLGI9cigyMDUpLG09di5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIElkZW50aXRpZXMoZSx0KXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRlbnRpdGllcyk7dmFyIHI9dGhpcztyLl93YXRjaGluZ1lvdT1uZXcgYi5XYXRjaGluZ1lvdSxyLl9zdG9yYWdlTWFuYWdlcj10LHIuX2d1aWQsci5fdHlwZT1lLHIuX2lkZW50aXRpZXM9e30sci5fYWNjZXNzVG9rZW5zPXIud2F0Y2hpbmdZb3Uud2F0Y2goImFjY2Vzc1Rva2VucyIse30sITApfXJldHVybigwLHkuZGVmYXVsdCkoSWRlbnRpdGllcyxbe2tleToiZ2V0SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLGYuZGVmYXVsdCkoe30sdGhpcy5faWRlbnRpdGllc1tlXSl9fSx7a2V5OiJsb2FkSWRlbnRpdGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2VNYW5hZ2VyLmdldChudWxsLG51bGwsImlkZW50aXRpZXMiKS50aGVuKGZ1bmN0aW9uKHIpe20uaW5mbygiW0lkZW50aXRpZXMuTG9hZCBJZGVudGl0aWVzXSBpZGVudGl0aWVzOiAiLHIpLHImJihlLl9pZGVudGl0aWVzPXIsCi8vIGxldCdzIHNldCBhcyBkZWZhdWx0IGlkZW50aXR5IHRoZSBvbmUgdGhhdCBleHBpcmVzIGxhdGVyCmUuaWRlbnRpZmllcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj0oMCxnLnNlY29uZHNTaW5jZUVwb2NoKSgpLG49ZS5faWRlbnRpdGllc1t0XSxpPW4uZXhwaXJlczsKLy8gICAgICAgICAgICBpZiAoIWlkZW50aXR5Lmhhc093blByb3BlcnR5KCdpbnRlcndvcmtpbmcnKQovLyAgICAgICAgICAgIHx8ICFpZGVudGl0eS5pbnRlcndvcmtpbmcpIHsKZS5kZWZhdWx0SWRlbnRpdHk9dCxwYXJzZUludChpKT5yJiYoZS5kZWZhdWx0SWRlbnRpdHkuZXhwaXJlcz1wYXJzZUludChpKSxlLmN1cnJlbnRJZGVudGl0eT10KX0pKSx0KCl9KX0pfX0se2tleToibG9hZEFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2VNYW5hZ2VyLmdldCgiYWNjZXNzVG9rZW5zIikudGhlbihmdW5jdGlvbihyKXtyJiYoZS5fYWNjZXNzVG9rZW5zPXIpLHQoKX0pfSl9fSx7a2V5OiJhZGRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixpKXtpZihyLl9pc1ZhbGlkKGUpKXt2YXIgbz1lLmlkZW50aWZpZXJzWzBdOygwLGYuZGVmYXVsdCkodC5faWRlbnRpdGllc1tvXSxlKSx0Ll9zdG9yZUlkZW50aXR5KGUpLnRoZW4oZnVuY3Rpb24oKXt0Ll9pZGVudGl0aWVzW29dLnN0YXR1cz0iY3JlYXRlZCIsbigpfSl9ZWxzZSBpKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBJZEFzc2VydGlvbiIpfSl9fSx7a2V5OiJhZGRBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7aWYoci5faXNWYWxpZChlKSl7dmFyIG89ZS51c2VyUHJvZmlsZS51c2VyVVJMO3IuaWRlbnRpdGllc1tvXT9yLmlkZW50aXRpZXNbb109ZTpyLl9pZGVudGl0aWVzW29dPWUsci5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7dC5faWRlbnRpdGllc1tvXS5zdGF0dXM9ImNyZWF0ZWQiLG4oZSl9KX1lbHNlIGkoIltJZGVudGl0aWVzLmFkZEFzc2VydGlvbl0gaW52YWxpZCBJZEFzc2VydGlvbjogIixlKX0pfX0se2tleToicmVtb3ZlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtkZWxldGUgdC5pZGVudGl0aWVzW2VdLHQuX3N0b3JlKCkudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJhZGRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbS5pbmZvKCJbSWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbl0gIixlKSxuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5faXNWYWxpZEFjY2Vzc1Rva2VuKGUpPygKLy8gICAgICAgIGxldCBuZXdBY2Nlc3NUb2tlbiA9IGRlZXBDbG9uZShhY2Nlc3NUb2tlbik7CnQuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl09ZSx0Ll9zdG9yZUFjY2Vzc1Rva2VucygpLnRoZW4oZnVuY3Rpb24oKXt0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dLnN0YXR1cz0iY3JlYXRlZCIscihlKX0pKTpuKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBBY2Nlc3NUb2tlbjogIixlKX0pfX0se2tleToic2V0QWNjZXNzVG9rZW5JblByb2dyZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9hY2Nlc3NUb2tlbnNbZV0/dGhpcy5fYWNjZXNzVG9rZW5zW2VdLnN0YXR1cz0iaW4tcHJvZ3Jlc3MiOnRoaXMuX2FjY2Vzc1Rva2Vuc1tlXT17c3RhdHVzOiJpbi1wcm9ncmVzcyJ9fX0se2tleToiZ2V0QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fYWNjZXNzVG9rZW5zW2VdO3JldHVybiByP3QuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPXIucmVzb3VyY2VzLmluZGV4T2YoZSl9KT90aGlzLl9hY2Nlc3NUb2tlbnNbZV06bmV3IEVycm9yKCJbSWRlbnRpdGllcy5nZXRBY2Nlc3NUb2tlbl0gTm90IGZvdW5kIGZvciAiLGUpOnZvaWQgMH19LHtrZXk6InVwZGF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj1lLnVzZXJQcm9maWxlLnVzZXJVcmw7aWYoIXQuaWRlbnRpdGllc1tuXSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdGllcy51cGRhdGVBc3NlcnRpb25dIElkZW50aXR5IG5vdCBmb3VuZCBmb3IgIixuKTt0LmlkZW50aXRpZXNbbl09ZSx0Ll9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToiYWRkSWRBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsbz1uZXcgUih0LHIsbik7aS5pZEFzc2VydGlvbkxpc3QucHVzaChvKX19LHtrZXk6Il9pc1ZhbGlkIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIikpcmV0dXJuITE7dmFyIHQ9ZS5hc3NlcnRpb24uc3BsaXQoIi4iKTsKLy92ZXJpZnkgaWYgdGhlIHRva2VuIGNvbnRhaW5zIHRoZSAzIGNvbXBvbmVudHMsIG9yIGp1c3QgdGhlIGFzc2VydGlvbgp0cnl7dFsxXT8oMCxnLmRlY29kZSkodFsxXSk6KDAsZy5kZWNvZGUpKGUuYXNzZXJ0aW9uKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH19LHtrZXk6Il9pc1ZhbGlkQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5oYXNPd25Qcm9wZXJ0eSgiYWNjZXNzVG9rZW4iKSYmKCEhZS5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluIikmJighKCFlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZXMiKXx8IUFycmF5LmlzQXJyYXkoZS5yZXNvdXJjZXMpKSYmKCEoIWUuaGFzT3duUHJvcGVydHkoImV4cGlyZXMiKXx8ISgwLHMuZGVmYXVsdCkoZS5leHBpcmVzKSkmJiEhZS5oYXNPd25Qcm9wZXJ0eSgiaW5wdXQiKSkpKX19LHtrZXk6Il9zdG9yZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLGkuZGVmYXVsdCkoZS5faWRlbnRpdGllcykubWFwKGZ1bmN0aW9uKHIpe3JldHVybiB0Ll9zdG9yYWdlTWFuYWdlci5zZXQociwwLGUuX2lkZW50aXRpZXNbcl0sImlkZW50aXRpZXMiKX0pO3UuZGVmYXVsdC5hbGwobykudGhlbihmdW5jdGlvbigpe3IoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JlSWRlbnRpdHkgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiX3N0b3JlQWNjZXNzVG9rZW5zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCxyKXt2YXIgbj0oMCxnLmRlZXBDbG9uZSkoZS5fYWNjZXNzVG9rZW5zKTtlLl9zdG9yYWdlTWFuYWdlci5zZXQoImFjY2Vzc1Rva2VucyIsMCxuKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cigiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2Qgc3RvcmVJZGVudGl0eSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJpZGVudGl0aWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRlbnRpdGllc319LHtrZXk6ImFjY2Vzc1Rva2VucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjY2Vzc1Rva2Vuc319LHtrZXk6IndhdGNoaW5nWW91IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2F0Y2hpbmdZb3V9fSx7a2V5OiJndWlkIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ3VpZD1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3VpZH19LHtrZXk6ImRlZmF1bHRJZGVudGl0eSIsc2V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlkZW50aXRpZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJbSWRlbnRpdGllcy5zZXQgZGVmYXVsdElkZW50aXR5IF0gRXJyb3I6IGlkZW50aXR5IGRvZXMgbm90IGV4aXN0IGhlcmU6ICIsZSk7dGhpcy5fZGVmYXVsdElkZW50aXR5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZGVmYXVsdElkZW50aXR5JiYoMCxmLmRlZmF1bHQpKHt9LHRoaXMuaWRlbnRpdGllc1t0aGlzLl9kZWZhdWx0SWRlbnRpdHldKX19LHtrZXk6ImN1cnJlbnRJZGVudGl0eSIsc2V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlkZW50aXRpZXNbZV0pdGhyb3cgZTt0aGlzLl9jdXJyZW50SWRlbnRpdHk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsZi5kZWZhdWx0KSh7fSx0aGlzLmlkZW50aXRpZXNbdGhpcy5fY3VycmVudElkZW50aXR5XSl9fSx7a2V5OiJpZGVudGlmaWVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsaS5kZWZhdWx0KSh0aGlzLl9pZGVudGl0aWVzKX19XSksSWRlbnRpdGllc30oKSxSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRBc3NlcnRpb24oZSx0LHIpeygwLGQuZGVmYXVsdCkodGhpcyxJZEFzc2VydGlvbik7dmFyIG49dGhpcztuLl9hc3NlcnRpb249ZSxuLl9pZHA9dCxuLl91c2VyUHJvZmlsZT1yfXJldHVybigwLHkuZGVmYXVsdCkoSWRBc3NlcnRpb24sW3trZXk6ImFzc2VydGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Fzc2VydGlvbn19LHtrZXk6ImlkcCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkcH19LHtrZXk6InVzZXJQcm9maWxlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlclByb2ZpbGV9fV0pLElkQXNzZXJ0aW9ufSgpOyFmdW5jdGlvbigpe2Z1bmN0aW9uIElkVmFsaWRhdGlvbihlLHQpeygwLGQuZGVmYXVsdCkodGhpcyxJZFZhbGlkYXRpb24pO3ZhciByPXRoaXM7ci5pZGVudGl0eT1lLHIuY29udGVudHM9dH0oMCx5LmRlZmF1bHQpKElkVmFsaWRhdGlvbixbe2tleToidmFsaWRhdGVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe319XSl9KCk7dC5kZWZhdWx0PV8sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDcxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzIpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDczKSxlLmV4cG9ydHM9cigxMykuTnVtYmVyLmlzSW50ZWdlcn0sLyogNDczICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMjEpO24obi5TLCJOdW1iZXIiLHtpc0ludGVnZXI6cig0NzQpfSl9LC8qIDQ3NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjEuMi4zIE51bWJlci5pc0ludGVnZXIobnVtYmVyKQp2YXIgbj1yKDM2KSxpPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiFuKGUpJiZpc0Zpbml0ZShlKSYmaShlKT09PWV9fSwvKiA0NzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksbz1yKDcpLHM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShvKSxhPXMuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLHU9ZnVuY3Rpb24gR3VpRmFrZShlLHQpeygwLGkuZGVmYXVsdCkodGhpcyxHdWlGYWtlKSxhLmxvZygiRmFrZUdVSV9kZXBsb3llZCIpO3ZhciByPXRoaXM7ci5fdXJsPWUsci5fd2FpdFRpbWU9MWU0LHIuX21lc3NhZ2VCdXM9dCxyLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHIuX3VybCxmdW5jdGlvbihlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJiJjcmVhdGUiPT09ZS50eXBlJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJmUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdGllcyIpJiZlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImlkcHMiKSl7dmFyIHQ9ZS5ib2R5LnZhbHVlLmlkZW50aXRpZXMsbj1lLmJvZHkudmFsdWUuaWRwcyxpPXZvaWQgMDtpPXZvaWQgMCE9PXRbMF0/e3R5cGU6ImlkZW50aXR5Iix2YWx1ZTp0WzBdLGNvZGU6MjAwfTp7dHlwZToiaWRwIix2YWx1ZTpuWzFdLmRvbWFpbixjb2RlOjIwMH07dmFyIG89e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTppfTsKLy8gdG8gdGVzdCBvbiB0aGUgaWRlbnRpdHkgc2lkZSB0aGUgbGlzdGVuZXIgd2l0aG91dCB0aGUgdGltZW91dAovLyBjYW4gcmVwcmVzZW50IHRoZSB0aW1lIHRoZSB1c2VyIHRha2VzIHRvIGNob29zZSBhbmQgaWRlbnRpdHkKIndhaXQiPT09ZS5ib2R5LnZhbHVlP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfSxyLl93YWl0VGltZSk6ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1lbHNlIGEubG9nKCJJZ25vcmluZyBtZXNzYWdlcyBub3QgaW50ZW5kZWQgdG8gRmFrZUdVSS4iLGUpfSl9O3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ3NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPWYuZ2V0TG9nZ2VyKCJJZGVudGl0eU1hbmFnZXIiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdHlNYW5hZ2VyKGUpeygwLHMuZGVmYXVsdCkodGhpcyxJZGVudGl0eU1hbmFnZXIpLHRoaXMuX2lkbT1lfXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNYW5hZ2VyLFt7a2V5OiJfaXNUb1NldElEIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImRvbWFpbi1pZHAiLCJydW50aW1lIiwiZG9tYWluIl0scj1lLmZyb207Ci8vIFNpZ25hbGxpbmcgTWVzc2FnZXMgYmV0d2VlbiBQMlAgU3R1YnMgZG9uJ3QgaGF2ZSBJZGVudGl0aWVzLiBGRlMKaWYoZS5ib2R5JiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInNvdXJjZSIpJiYocj1lLmJvZHkuc291cmNlKSxlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3Vic2NyaWJlciIpJiYocj1lLmJvZHkuc3Vic2NyaWJlciksci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKXx8ci5pbmNsdWRlcygiL3AycGhhbmRsZXIvIikpcmV0dXJuITE7dmFyIG49ci5zcGxpdCgiOi8vIiksaT1uWzBdO3JldHVybi0xPT09dC5pbmRleE9mKGkpfX0se2tleToicHJvY2Vzc01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGwubG9nKCJbSWRlbnRpdHlNYW5hZ2VyLnByb2Nlc3NNZXNzYWdlXSAiLGUpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy8gc2tpcCBtZXNzYWdlcyB0aGF0IGRvbid0IG5lZWQgaWRlbnRpdHkgdG9rZW5zIGluIHRoZSBib2R5CmlmKCF0Ll9pc1RvU2V0SUQoZSkpcmV0dXJuIHIoZSk7LyogICAgICBsZXQgZnJvbSA9IG1lc3NhZ2UuZnJvbTsKICAgICAgICAgICAgICBsZXQgc291cmNlVVJMID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIGlmICggbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnYm9keScpICYmIG1lc3NhZ2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlJykpIHsKICAgICAgICAgICAgICAgIGZyb20gPSBtZXNzYWdlLmJvZHkuc291cmNlOwogICAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAnZm9yd2FyZCcpIHsKICAgICAgICAgICAgICAgIGZyb20gPSBtZXNzYWdlLmJvZHkuZnJvbTsKICAgICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoJ2JvZHknKSAmJiBtZXNzYWdlLmJvZHkuaGFzT3duUHJvcGVydHkoJ3N1YnNjcmliZXInKSkgewogICAgICAgICAgICAgICAgZnJvbSA9IG1lc3NhZ2UuYm9keS5zdWJzY3JpYmVyOwogICAgICAgICAgICAgIH0qLwp0Ll9pZG0uZ2V0VG9rZW4oZSkudGhlbihmdW5jdGlvbih0KXtlLmhhc093blByb3BlcnR5KCJib2R5Iil8fChlLmJvZHk9e30pLGUuYm9keS5pZGVudGl0eT10LHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtsLmVycm9yKGUpLG4oZSl9KX0pfX1dKSxJZGVudGl0eU1hbmFnZXJ9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDc3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cig0NzgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNDc5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQ4MCksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9KHIoMTQpLGYuZ2V0TG9nZ2VyKCJQRVAiKSxmdW5jdGlvbigpey8qKgogICogQ3JlYXRlcyBhIFBvbGljeSBFbmZvcmNlbWVudCBQb2ludCAoUEVQKSBpbnN0YW5jZQogICogQHBhcmFtICAgIHtPYmplY3R9ICAgIGNvbnRleHQKICAqLwpmdW5jdGlvbiBQRVAoZSl7KDAscy5kZWZhdWx0KSh0aGlzLFBFUCk7dmFyIHQ9dGhpczt0LnBkcD1uZXcgeS5kZWZhdWx0KGUpLHQuYWN0aW9uc1NlcnZpY2U9bmV3IGQuZGVmYXVsdChlKSx0LmNvbnRleHQ9ZSxlLnBlcD10LAovL1RPRE8gc2hvdWxkIGJlIGFkZGVkIGEgdHJpZ2dlciB0byB2ZXJpZnkgd2hlbiB0aGUgbG9hZENvbmZpZ3VyYXRpb25zIGlzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQKZS5sb2FkQ29uZmlndXJhdGlvbnMoKX0vKioKICAqIHJldHVybiB0aGUgbWVzc2FnZUJ1cyBpbiB0aGlzIFJlZ2lzdHJ5CiAgKiBAcGFyYW0ge01lc3NhZ2VCdXN9ICAgICAgICAgICBtZXNzYWdlQnVzCiAgKi8KcmV0dXJuKDAsdS5kZWZhdWx0KShQRVAsW3trZXk6ImFkZEdVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY29udGV4dC5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUuY29udGV4dC5wZXBVUkwsZnVuY3Rpb24odCl7dmFyIHI9dC5ib2R5Lm1ldGhvZCxuPXZvaWQgMDtpZigiYWRkVG9Hcm91cCI9PT1yKXt2YXIgaT10LmJvZHkucGFyYW1zLmdyb3VwTmFtZSxvPXQuYm9keS5wYXJhbXMudXNlckVtYWlsO249ZS5jb250ZXh0LmFkZFRvR3JvdXAoaSxvKX1lbHNlIGlmKCJjcmVhdGVHcm91cCI9PT1yKXt2YXIgcz10LmJvZHkucGFyYW1zLmdyb3VwTmFtZTtuPWUuY29udGV4dC5jcmVhdGVHcm91cChzKX1lbHNlIGlmKCJhZGRQb2xpY3kiPT09cil7dmFyIGE9dC5ib2R5LnBhcmFtcy5zb3VyY2UsdT10LmJvZHkucGFyYW1zLmtleSxjPXQuYm9keS5wYXJhbXMucG9saWN5LGY9dC5ib2R5LnBhcmFtcy5jb21iaW5pbmdBbGdvcml0aG07bj1lLmFkZFBvbGljeShhLHUsYyxmKX1lbHNlIGlmKCJkZWxldGVHcm91cCI9PT1yKXt2YXIgbD10LmJvZHkucGFyYW1zLmdyb3VwTmFtZTtuPWUuY29udGV4dC5kZWxldGVHcm91cChsKX1lbHNlIGlmKCJyZW1vdmVQb2xpY3kiPT09cil7dmFyIGQ9dC5ib2R5LnBhcmFtcy5zb3VyY2UscD10LmJvZHkucGFyYW1zLmtleTtuPWUucmVtb3ZlUG9saWN5KGQscCl9ZWxzZSBpZigic2F2ZVBvbGljaWVzIj09PXIpe3ZhciB5PXQuYm9keS5wYXJhbXMuc291cmNlO249ZS5jb250ZXh0LnNhdmVQb2xpY2llcyh5KX1lbHNlIGlmKCJ1c2VyUG9saWNpZXMiPT09ciluPWUuY29udGV4dC51c2VyUG9saWNpZXM7ZWxzZSBpZigiYWN0aXZlVXNlclBvbGljeSI9PT1yKXt2YXIgaD10LmJvZHkucGFyYW1zLnVzZXJQb2xpY3k7aCYmKGUuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5PWgpLG49ZS5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3l9ZWxzZSBpZigidXNlclBvbGljeSI9PT1yKXt2YXIgdj10LmJvZHkucGFyYW1zLmtleTtuPWUuY29udGV4dC51c2VyUG9saWNpZXNbdl19ZWxzZSJzYXZlQWN0aXZlUG9saWN5Ij09PXI/bj1lLmNvbnRleHQuc2F2ZUFjdGl2ZVBvbGljeSgpOiJnZXRNeUVtYWlscyI9PT1yP249ZS5jb250ZXh0LmdldE15RW1haWxzKCk6ImdldE15SHlwZXJ0aWVzIj09PXI/bj1lLmNvbnRleHQuZ2V0TXlIeXBlcnRpZXMoKToiZ3JvdXBzIj09PXI/bj1lLmNvbnRleHQuZ3JvdXBzOiJnZXRHcm91cHNOYW1lcyI9PT1yJiYobj1lLmNvbnRleHQuZ2V0R3JvdXBzTmFtZXMoKSk7aWYoInJlbW92ZUZyb21Hcm91cCI9PT1yKXt2YXIgZz10LmJvZHkucGFyYW1zLmdyb3VwTmFtZSxiPXQuYm9keS5wYXJhbXMudXNlckVtYWlsO249ZS5jb250ZXh0LnJlbW92ZUZyb21Hcm91cChnLGIpfXZhciBtPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpuLGNvZGU6MjAwfSxfPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bX07ZS5jb250ZXh0Lm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoXyl9KX19LHtrZXk6ImFkZFBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgaXMgbm90IGRlZmluZWQiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImtleSBpcyBub3QgZGVmaW5lZCIpO3N3aXRjaCh2b2lkIDA9PT1yP3I9bmV3IHYuZGVmYXVsdCh0LFtdLFtdLG4pOnIgaW5zdGFuY2VvZiB2LmRlZmF1bHR8fChyPW5ldyB2LmRlZmF1bHQoci5rZXksci5ydWxlcyxyLmFjdGlvbnMsci5jb21iaW5pbmdBbGdvcml0aG0pKSxlKXtjYXNlIlNFUlZJQ0VfUFJPVklERVIiOnRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoZSxyLHQpO2JyZWFrO2Nhc2UiVVNFUiI6dGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1t0XT1yLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6ImF1dGhvcmlzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzOwovLyBsb2cubG9nKCdbUG9saWN5LlBFUCBBdXRob3Jpc2VdICcsIG1lc3NhZ2UpOwovLyBsb2cubG9nKG1lc3NhZ2UpOwppZighZSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UgaXMgbm90IGRlZmluZWQiKTtpZighZS5mcm9tKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS5mcm9tIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUudG8pdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLnRvIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUudHlwZSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UudHlwZSBpcyBub3QgZGVmaW5lZCIpO3JldHVybiBlLmJvZHk9ZS5ib2R5fHx7fSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7ZS5ib2R5PWUuYm9keXx8e307dmFyIG89cixzPW8ucGRwLmV2YWx1YXRlUG9saWNpZXMoZSx0KTsiTm90IEFwcGxpY2FibGUiPT09cyYmKHM9by5jb250ZXh0LmRlZmF1bHRCZWhhdmlvdXIsZS5ib2R5LmF1dGg9ITEpLG8uYWN0aW9uc1NlcnZpY2UuZW5mb3JjZVBvbGljaWVzKGUsdCkudGhlbihmdW5jdGlvbih0KXtmb3IodmFyIHIgaW4gdClpZihlPXRbcl0scyllLmJvZHkuYXV0aD12b2lkIDA9PT1lLmJvZHkuYXV0aHx8ZS5ib2R5LmF1dGgsbihlKTtlbHNle3ZhciBvPXtib2R5Ontjb2RlOjQwMyxkZXNjcmlwdGlvbjoiQmxvY2tlZCBieSBwb2xpY3kifSxmcm9tOmUudG8sdG86ZS5mcm9tLHR5cGU6InJlc3BvbnNlIn07aShvKX19LGZ1bmN0aW9uKGUpe2koZSl9KX0pfX0se2tleToicmVtb3ZlUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigic291cmNlIGlzIG5vdCBkZWZpbmVkIik7aWYoIioiIT09ZSYmIXQpdGhyb3cgbmV3IEVycm9yKCJrZXkgaXMgbm90IGRlZmluZWQiKTtzd2l0Y2goZSl7Y2FzZSIqIjp0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5PXt9LHRoaXMuY29udGV4dC51c2VyUG9saWNpZXM9e30sdGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9dm9pZCAwLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlVTRVIiKSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJTRVJWSUNFX1BST1ZJREVSIiksdGhpcy5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKTticmVhaztjYXNlIlNFUlZJQ0VfUFJPVklERVIiOmRlbGV0ZSB0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5W3RdLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoKTticmVhaztjYXNlIlVTRVIiOmRlbGV0ZSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdLHQ9PT10aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeSYmKHRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCx0aGlzLmNvbnRleHQuc2F2ZUFjdGl2ZVBvbGljeSgpKSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJVU0VSIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb250ZXh0Lm1lc3NhZ2VCdXM9ZSx0LmFkZEdVSUxpc3RlbmVycygpfX1dKSxQRVB9KCkpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ3OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIEFjdGlvbnNTZXJ2aWNlKGUpeygwLHMuZGVmYXVsdCkodGhpcyxBY3Rpb25zU2VydmljZSksdGhpcy5jb250ZXh0PWV9cmV0dXJuKDAsdS5kZWZhdWx0KShBY3Rpb25zU2VydmljZSxbe2tleToiZW5mb3JjZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz1yLmNvbnRleHQuZ2V0UG9saWNpZXMoZSx0KTt2b2lkIDAhPT1vP3ZvaWQgMCE9PW8uc2VydmljZVByb3ZpZGVyUG9saWN5P28uc2VydmljZVByb3ZpZGVyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe2koZSl9KTp2b2lkIDAhPT1vLnVzZXJQb2xpY3k/by51c2VyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe2koZSl9KTpuKFtlXSk6bihbZV0pfSl9fSx7a2V5OiJmb3J3YXJkVG9JRCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe2lmKHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuaHlwZXJ0aWVzTGlzdFswXS5oeXBlcnR5VVJMPT09ZS50byl7InJ1bnRpbWUiIT09ZS50by5zcGxpdCgiOi8vIilbMF0/ci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHQpLnRoZW4oZnVuY3Rpb24odCl7ZS50bz10Lmh5cGVydHlVUkwsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSxmdW5jdGlvbihlKXtpKGUpfSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6ImZvcndhcmRUb0h5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZighci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoImZvcndhcmQgbWVzc2FnZSB0byBnaXZlbiBJRCBpcyB1bnN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Iik7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT8oZS50bz10LGUuYm9keS52aWE9dm9pZCAwLG4oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6InNlbmRBdXRvbWF0aWNNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIGk9e2Zyb206ZS50byx0bzplLmZyb20sYm9keTp7dmFsdWU6dH0sdHlwZTplLnR5cGV9O24oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX0pfX1dKSxBY3Rpb25zU2VydmljZX0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMTQ1KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBEUChlKXsoMCxpLmRlZmF1bHQpKHRoaXMsUERQKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLm9wZXJhdG9ycz1uZXcgdS5kZWZhdWx0fXJldHVybigwLHMuZGVmYXVsdCkoUERQLFt7a2V5OiJldmFsdWF0ZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY29udGV4dC5nZXRQb2xpY2llcyhlLHQpLG49Ik5vdCBBcHBsaWNhYmxlIjtpZih2b2lkIDAhPT1yJiYoKG49dGhpcy5ldmFsdWF0ZVBvbGljeShlLHIuc2VydmljZVByb3ZpZGVyUG9saWN5LHQpKXx8Ik5vdCBBcHBsaWNhYmxlIj09PW4pKXt2YXIgaT10aGlzLmV2YWx1YXRlUG9saWN5KGUsci51c2VyUG9saWN5LHQpOyJOb3QgQXBwbGljYWJsZSIhPT1pJiYobj1pKX1yZXR1cm4gbn19LHtrZXk6ImV2YWx1YXRlUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49Ik5vdCBBcHBsaWNhYmxlIjtyZXR1cm4gdCYmKG49dC5ldmFsdWF0ZVJ1bGVzKHRoaXMuY29udGV4dCxlLHIpKSxufX1dKSxQRFB9KCk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMjA2KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIwNyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigyMDgpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDgxKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBvbGljeShlLHQscixuKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsUG9saWN5KSwhZSl0aHJvdyBuZXcgRXJyb3IoImtleSBpcyBub3QgZGVmaW5lZCIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiYWN0aW9ucyBhcmUgbm90IGRlZmluZWQiKTt0aGlzLmFjdGlvbnM9cix0aGlzLmtleT1lLHRoaXMuX3NldFJ1bGVzKHQpLHRoaXMuX3NldENvbWJpbmluZ0FsZ29yaXRobShuKX1yZXR1cm4oMCx1LmRlZmF1bHQpKFBvbGljeSxbe2tleToiYWRkQWN0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYWN0aW9ucy5wdXNoKHttZXRob2Q6ZSxwYXJhbTp0fSl9fSx7a2V5OiJjcmVhdGVSdWxlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZvaWQgMD09PWkmJihpPXRoaXMuZ2V0TGFzdFByaW9yaXR5KCkrMSk7dmFyIG89bmV3IHYuZGVmYXVsdChlLHQscixuLGkpO3RoaXMucnVsZXMucHVzaChvKX19LHtrZXk6ImRlbGV0ZVJ1bGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucnVsZXMuaW5kZXhPZihlKTt0aGlzLnJ1bGVzLnNwbGljZSh0LDEpfX0se2tleToiZW5mb3JjZUFjdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBzPVtdO2lmKDAhPT1yLmFjdGlvbnMubGVuZ3RoKXtmb3IodmFyIGEgaW4gci5hY3Rpb25zKXt2YXIgdT1lLnBlcC5hY3Rpb25zU2VydmljZVtyLmFjdGlvbnNbYV0ubWV0aG9kXSh0LHIuYWN0aW9uc1thXS5wYXJhbSk7cy5wdXNoKHUpfWkuZGVmYXVsdC5hbGwocykudGhlbihmdW5jdGlvbihlKXtuKGUpfSxmdW5jdGlvbihlKXtvKGUpfSl9ZWxzZSBuKFt0XSl9KX19LHtrZXk6ImV2YWx1YXRlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bXTtmb3IodmFyIGkgaW4gdGhpcy5ydWxlcyluLnB1c2godGhpcy5ydWxlc1tpXS5ldmFsdWF0ZShlLHQscikpO3JldHVybiB0aGlzLmNvbWJpbmluZ0FsZ29yaXRobS5jb21iaW5lKG4pfX0se2tleToiZ2V0TGFzdFByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVtdO2lmKDAhPT10aGlzLnJ1bGVzLmxlbmd0aCl7Zm9yKHZhciB0IGluIHRoaXMucnVsZXMpZS5wdXNoKHRoaXMucnVsZXNbdF0ucHJpb3JpdHkpO3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGUpfXJldHVybi0xfX0se2tleToiZ2V0UnVsZUJ5UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLnJ1bGVzKWlmKFN0cmluZyh0aGlzLnJ1bGVzW3RdLnByaW9yaXR5KT09PVN0cmluZyhlKSlyZXR1cm4gdGhpcy5ydWxlc1t0XTt0aHJvdyBFcnJvcigiUnVsZSB3aXRoIHByaW9yaXR5ICIrZSsiIGRvZXMgbm90IGV4aXN0ISIpfX0se2tleToiX3NldENvbWJpbmluZ0FsZ29yaXRobSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGV8fChlPSJibG9ja092ZXJyaWRlcyIpLGUpe2Nhc2UiYmxvY2tPdmVycmlkZXMiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyBkLmRlZmF1bHQ7YnJlYWs7Y2FzZSJhbGxvd092ZXJyaWRlcyI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IGYuZGVmYXVsdDticmVhaztjYXNlImZpcnN0QXBwbGljYWJsZSI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IHkuZGVmYXVsdDticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIGFsZ29yaXRobTogIitlKX19fSx7a2V5OiJfc2V0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucnVsZXM9W107Zm9yKHZhciB0IGluIGUpe3ZhciByPWVbdF07dm9pZCAwPT09ci5wcmlvcml0eSYmKHIucHJpb3JpdHk9dGhpcy5nZXRMYXN0UHJpb3JpdHkoKSsxKSxyIGluc3RhbmNlb2Ygdi5kZWZhdWx0fHwocj1uZXcgdi5kZWZhdWx0KHIuZGVjaXNpb24sci5jb25kaXRpb24sci5zY29wZSxyLnRhcmdldCxyLnByaW9yaXR5KSksdGhpcy5ydWxlcy5wdXNoKHIpfX19LHtrZXk6InNvcnRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydWxlcy5zb3J0KGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wcmlvcml0eSxuPXQucHJpb3JpdHk7cmV0dXJuIHI8bj8tMTpyPm4/MTowfSl9fV0pLFBvbGljeX0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0ODEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNDgyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDE0NiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigxNCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bGUoZSx0LHIsbixvKXsoMCxpLmRlZmF1bHQpKHRoaXMsUnVsZSksdGhpcy5kZWNpc2lvbj1lLHRoaXMuc2V0Q29uZGl0aW9uKHQpLHRoaXMucHJpb3JpdHk9byx0aGlzLnNjb3BlPXIsdGhpcy50YXJnZXQ9bn1yZXR1cm4oMCxzLmRlZmF1bHQpKFJ1bGUsW3trZXk6InNldENvbmRpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGYuZGVmYXVsdHx8ZSBpbnN0YW5jZW9mIHUuZGVmYXVsdHx8ZSBpbnN0YW5jZW9mIHUuZGVmYXVsdCl0aGlzLmNvbmRpdGlvbj1lO2Vsc2V7c3dpdGNoKGUuYXR0cmlidXRlKXtjYXNlInN1YnNjcmlwdGlvbiI6dGhpcy5jb25kaXRpb249bmV3IHUuZGVmYXVsdChlLmF0dHJpYnV0ZSxlLm9wZXJhdG9yLGUucGFyYW1zKTticmVhaztjYXNlIHZvaWQgMDp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUpO2JyZWFrO2RlZmF1bHQ6dGhpcy5jb25kaXRpb249bmV3IGYuZGVmYXVsdChlLmF0dHJpYnV0ZSxlLm9wZXJhdG9yLGUucGFyYW1zKX19fX0se2tleToiZXZhbHVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yP3QudG86dC5mcm9tLGk9dm9pZCAwO3N3aXRjaCh0aGlzLnNjb3BlKXtjYXNlImdsb2JhbCI6YnJlYWs7Y2FzZSJoeXBlcnR5IjppZigoMCxsLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBvPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7dm9pZCAwIT09byYmKGk9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUobykpfWVsc2UiaHlwZXJ0eSI9PT1uLnNwbGl0KCI6Ly8iKVswXSYmKGk9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoKDAsbC5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZihpPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIjtjYXNlImlkZW50aXR5Ijp2YXIgcz12b2lkIDA7aWYoKDAsbC5pc0RhdGFPYmplY3RVUkwpKG4pKXt2YXIgYT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRSZXBvcnRlclVSTFN5bmNob25vdXMoKDAsbC5yZW1vdmVQYXRoRnJvbVVSTCkobikpO3M9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGEpfWVsc2UiaHlwZXJ0eSI9PT1uLnNwbGl0KCI6Ly8iKVswXSYmKHM9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKCgwLGwucmVtb3ZlUGF0aEZyb21VUkwpKG4pKSk7aWYodm9pZCAwIT09cyYmKHM9KDAsbC5nZXRVc2VyRW1haWxGcm9tVVJMKShzKSkscz09PXRoaXMudGFyZ2V0KWJyZWFrO3JldHVybiJOb3QgQXBwbGljYWJsZSJ9cmV0dXJuIHRoaXMuY29uZGl0aW9uLmlzQXBwbGljYWJsZShlLHQsdGhpcy5zY29wZSx0aGlzLnRhcmdldCk/dGhpcy5kZWNpc2lvbjoiTm90IEFwcGxpY2FibGUifX1dKSxSdWxlfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNDYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMTQ1KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDQ4MyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBZHZhbmNlZENvbmRpdGlvbihlKXsoMCxpLmRlZmF1bHQpKHRoaXMsQWR2YW5jZWRDb25kaXRpb24pLHRoaXMub3BlcmF0b3JzPW5ldyBmLmRlZmF1bHQsdm9pZCAwIT09ZS5vcGVyYXRvcnMmJihlPWUuY29uZGl0aW9uKSxlPXRoaXMuYnVpbGRDb25kaXRpb24oZSksdGhpcy5jb25kaXRpb249ZX1yZXR1cm4oMCxzLmRlZmF1bHQpKEFkdmFuY2VkQ29uZGl0aW9uLFt7a2V5OiJidWlsZENvbmRpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVsxXSk/ZVsxXT10aGlzLmJ1aWxkQ29uZGl0aW9uKGVbMV0pOiJzdWJzY3JpcHRpb24iPT09ZVsxXS5hdHRyaWJ1dGU/ZVsxXT1uZXcgZC5kZWZhdWx0KGVbMV0uYXR0cmlidXRlLGVbMV0ub3BlcmF0b3IsZVsxXS5wYXJhbXMpOmVbMV09bmV3IHUuZGVmYXVsdChlWzFdLmF0dHJpYnV0ZSxlWzFdLm9wZXJhdG9yLGVbMV0ucGFyYW1zKSx2b2lkIDAhPT1lWzJdJiYoQXJyYXkuaXNBcnJheShlWzJdKT9lWzJdPXRoaXMuYnVpbGRDb25kaXRpb24oZVsyXSk6InN1YnNjcmlwdGlvbiI9PT1lWzJdLmF0dHJpYnV0ZT9lWzJdPW5ldyBkLmRlZmF1bHQoZVsyXS5hdHRyaWJ1dGUsZVsyXS5vcGVyYXRvcixlWzJdLnBhcmFtcyk6ZVsyXT1uZXcgdS5kZWZhdWx0KGVbMl0uYXR0cmlidXRlLGVbMl0ub3BlcmF0b3IsZVsyXS5wYXJhbXMpKSxlfX0se2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGksbyxzKXtmb3IoaXx8KGk9dGhpcy5jb25kaXRpb25bMF0sbz10aGlzLmNvbmRpdGlvblsxXSxzPXRoaXMuY29uZGl0aW9uWzJdKTshKG8gaW5zdGFuY2VvZiB1LmRlZmF1bHQpJiEobyBpbnN0YW5jZW9mIGQuZGVmYXVsdCkmImJvb2xlYW4iIT10eXBlb2Ygbzspbz10aGlzLmlzQXBwbGljYWJsZShlLHQscixuLG9bMF0sb1sxXSxvWzJdKTtpZih2b2lkIDAhPT1zKWZvcig7IShzIGluc3RhbmNlb2YgdS5kZWZhdWx0KSYhKHMgaW5zdGFuY2VvZiBkLmRlZmF1bHQpJiJib29sZWFuIiE9dHlwZW9mIHM7KXM9dGhpcy5pc0FwcGxpY2FibGUoZSx0LHIsbixzWzBdLHNbMV0sc1syXSk7dmFyIGE9ImJvb2xlYW4iPT10eXBlb2Ygbz9vOm8uaXNBcHBsaWNhYmxlKGUsdCxyLG4pLGM9dm9pZCAwO3JldHVybiB2b2lkIDAhPT1zJiYoYz0iYm9vbGVhbiI9PXR5cGVvZiBzP3M6cy5pc0FwcGxpY2FibGUoZSx0LHIsbikpLHRoaXMub3BlcmF0b3JzW2ldKFthLGNdKX19XSksQWR2YW5jZWRDb25kaXRpb259KCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDY4KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDQ4NCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2OSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNDYpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKGUpey8qKgogICogQ3JlYXRlcyBhIG5ldyBTdWJzY3JpcHRpb25Db25kaXRpb24uCiAgKiBAY2xhc3MKICAqIEBwYXJhbSAge3N0cmluZ30gIGF0dHJpYnV0ZQogICogQHBhcmFtICB7c3RyaW5nfSAgb3BlcmF0b3IKICAqIEBwYXJhbSAgeyp9ICAgICAgIHBhcmFtcwogICovCmZ1bmN0aW9uIFN1YnNjcmlwdGlvbkNvbmRpdGlvbihlLHQscil7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbkNvbmRpdGlvbiksKDAsZi5kZWZhdWx0KSh0aGlzLChTdWJzY3JpcHRpb25Db25kaXRpb24uX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbikpLmNhbGwodGhpcyxlLHQscikpfS8qKgogICogVmVyaWZpZXMgaWYgdGhlIHN1YnNjcmlwdGlvbiBjb25kaXRpb24gaXMgYXBwbGljYWJsZSB0byB0aGUgbWVzc2FnZS4gRmlyc3QsIHZlcmlmaWVzIGlmIHRoZSBtZXNzYWdlIGlzIG9mIHRoZSBzdWJzY3JpcHRpb24gdHlwZTsgc2Vjb25kLCB2ZXJpZmllcyBpZiB0aGUgbWVzc2FnZSBpcyBmcm9tIGEgcmVtb3RlIHJ1bnRpbWUgdG8gZ3VhcmFudGVlIHRoYXQgdGhlIHN1YnNjcmlwdGlvbiBpcyBiZWluZyB2YWxpZGF0ZWQgaW4gdGhlIGRlc3RpbmF0aW9uIHJ1bnRpbWU7IHRoaXJkLCB2ZXJpZmllcyBpZiB0aGUgc3Vic2NyaXB0aW9uIHByZWZlcmVuY2UgaXMgbWV0LgogICogQHBhcmFtICB7T2JqZWN0fSAgICBjb250ZXh0ICAgZW52aXJvbm1lbnQgd2hlcmUgdGhlIFBvbGljeSBFbmdpbmUgaXMgYmVpbmcgdXNlZAogICogQHBhcmFtICB7T2JqZWN0fSAgICBtZXNzYWdlCiAgKi8KcmV0dXJuKDAseS5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24sZSksKDAsdS5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24sW3trZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hISgic3Vic2NyaWJlIj09PXQudHlwZSZlLmlzRnJvbVJlbW90ZVNNKHQuZnJvbSkpJiYoMCxkLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbi5wcm90b3R5cGUuX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbi5wcm90b3R5cGUpLCJpc0FwcGxpY2FibGUiLHRoaXMpLmNhbGwodGhpcyxlLHQpfX1dKSxTdWJzY3JpcHRpb25Db25kaXRpb259KHYuZGVmYXVsdCk7LyoqCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAgICAgICAgICAgICAgICAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICAgICAgICAgICAgICAgICAgICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogICAgICAgICAgICAgICAgICAgICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgKiovCnQuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgbj1yKDYwKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDQ4NSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pO3QuZGVmYXVsdD1mdW5jdGlvbiBnZXQoZSx0LHIpe251bGw9PT1lJiYoZT1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBuPSgwLHMuZGVmYXVsdCkoZSx0KTtpZih2b2lkIDA9PT1uKXt2YXIgbz0oMCxpLmRlZmF1bHQpKGUpO3JldHVybiBudWxsPT09bz92b2lkIDA6Z2V0KG8sdCxyKX1pZigidmFsdWUiaW4gbilyZXR1cm4gbi52YWx1ZTt2YXIgYT1uLmdldDtpZih2b2lkIDAhPT1hKXJldHVybiBhLmNhbGwocil9fSwvKiA0ODUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ4NiksX19lc01vZHVsZTohMH19LC8qIDQ4NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0ODcpO3ZhciBuPXIoMTMpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LC8qIDQ4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkKdmFyIG49cig0NSksaT1yKDE0MykuZjtyKDk3KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKG4oZSksdCl9fSl9LC8qIDQ4OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDYwKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig2OCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2OSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig3KSx2PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaCksZz1yKDIwNCksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLG09cig0ODkpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxSPXYuZ2V0TG9nZ2VyKCJNZXNzYWdlQnVzIiksdz1mdW5jdGlvbihlKXsvKiBwcml2YXRlCiAgX3JlZ2lzdHJ5OiBSZWdpc3RyeQogIF9mb3J3YXJkczogeyA8ZnJvbS11cmw+OiB7IGZsOiBNc2dMaXN0ZW5lciwgc2FuZGJveFRvVXJsczogTWFwKFNhbmRib3gsIFt0by11cmxdKSwgdXJsVG9TYW5kYm94OiB7IHRvLXVybDogU2FuZGJveCB9IH0gfQogICBfcGlwZWxpbmU6IFBpcGVsaW5lCiAgKi8KLy9UT0RPOiBmdXR1cmUgb3B0aW1pemF0aW9uCi8vMS4gbWVzc2FnZSBiYXRjaCBwcm9jZXNzaW5nIHdpdGggc2V0SW50ZXJ2YWwKLy8yLiByZXNvbHZlIGRlZmF1bHQgZ2F0ZXdheS9wcm90b3N0dWIgd2l0aCByZWdpc3Rlci5yZXNvbHZlCmZ1bmN0aW9uIE1lc3NhZ2VCdXMoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VCdXMpO3ZhciB0PSgwLGQuZGVmYXVsdCkodGhpcywoTWVzc2FnZUJ1cy5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkoTWVzc2FnZUJ1cykpLmNhbGwodGhpcykpO3JldHVybiB0Ll9yZWdpc3RyeT1lLHQuX2ZvcndhcmRzPXt9LHQuX3BpcGVsaW5lSW49bmV3IF8uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxpLmRlZmF1bHQpKGUpKX0pLHQuX3BpcGVsaW5lT3V0PW5ldyBfLmRlZmF1bHQoZnVuY3Rpb24oZSl7Ui5lcnJvcigiUElQRUxJTkUtRVJST1I6ICIsKDAsaS5kZWZhdWx0KShlKSl9KSx0fXJldHVybigwLHkuZGVmYXVsdCkoTWVzc2FnZUJ1cyxlKSwoMCxmLmRlZmF1bHQpKE1lc3NhZ2VCdXMsW3trZXk6InBvc3RNZXNzYWdlIiwvKioKICAgICAqIFBvc3QgYSBtZXNzYWdlIGZvciByb3V0aW5nLiBJdCB3aWxsIGZpcnN0IHNlYXJjaCBmb3IgYSBsaXN0ZW5lciwgaWYgdGhlcmUgaXMgbm8gb25lLCBpdCBzZW5kcyB0byBhIGV4dGVybmFsIHJvdXRpbmcgdXNpbmcgdGhlIF9vblBvc3RNZXNzYWdlLgogICAgICogRXh0ZXJuYWwgcm91dGluZyB1c2UgdGhlIHJlZ2lzdHJ5LnJlc29sdmUoLi4pIG1ldGhvZCB0byBkZWNpZGUgdGhlIGRlc3RpbmF0aW9uIHNhbmRib3guCiAgICAgKiBAcGFyYW0gIHtNZXNzYWdlfSBpbk1zZyAgICAgICAgICAgIEpTT04gd2l0aCBtYW5kYXRvcnkgTWVzc2FnZSBzdHJ1Y3R1cmUge2lkLCB0eXBlLCBmcm9tLCB0b30KICAgICAqIEBwYXJhbSAge0NhbGxiYWNrfSByZXNwb25zZUNhbGxiYWNrIE9wdGlvbmFsIGNhbGxiYWNrIGlmIGEgcmVzcG9uc2UgaXMgZXhwZWN0ZWQgZnJvbSB0aGUgcmVxdWVzdC4gQSByZXNwb25zZSB3aWxsIGJlIGFsd2F5cyBzZW50LCBldmVuIGlmIGl0IGlzIGEgIlRpbWVvdXQiLgogICAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIHRoZSBNZXNzYWdlIGlkCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe1IuaW5mbygib25QT1NUTWVzc2FnZTogIixlKTt2YXIgbj10aGlzLGk9ZnVuY3Rpb24oaSl7aWYobi5fcmVzcG9uc2VDYWxsYmFjayhlLHQsciksIW4uX29uUmVzcG9uc2UoaSkpe3ZhciBvPW4uX3N1YnNjcmlwdGlvbnNbaS50b107bz8KLy9kbyBub3QgcHVibGlzaCBvbiBkZWZhdWx0IGFkZHJlc3MsIGJlY2F1c2Ugb2YgbG9vcGJhY2sgY3ljbGUKbi5fcHVibGlzaE9uKG8saSk6Ci8vaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIsIHNlbmQgdG8gZXh0ZXJuYWwgaW50ZXJmYWNlCm4uX29uUG9zdE1lc3NhZ2UoaSl9fTtpZihuLl9nZW5JZChlKSxuLl9pc1RvUHJvY2VzcyhlKSl7bi5faXNJbmNvbWluZ01lc3NhZ2UoZSk/bi5fcGlwZWxpbmVJbi5wcm9jZXNzKGUsaSk6bi5fcGlwZWxpbmVPdXQucHJvY2VzcyhlLGkpfWVsc2UgaShlKTtyZXR1cm4gZS5pZH19LHtrZXk6Il9pc1RvUHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJkb21haW4iLCJkb21haW4taWRwIiwiZ2xvYmFsIiwiaHlwZXJ0eS1ydW50aW1lIiwicnVudGltZSJdLHI9ZS5mcm9tLnNwbGl0KCI6Ly8iKSxuPXJbMF0saT1lLnRvLnNwbGl0KCI6Ly8iKSxvPWlbMF0scz1lLmZyb20sYT1lLnRvOwovLyBTaWduYWxsaW5nIG1lc3NhZ2VzIGJldHdlZW4gUDJQIFN0dWJzIGRvbid0IGhhdmUgdG8gYmUgdmVyaWZpZWQuIEZGUwpyZXR1cm4gZS5ib2R5JiZlLmJvZHkuc291cmNlJiYocz1lLmJvZHkuc291cmNlKSxlLmJvZHkmJmUuYm9keS5zdWJzY3JpYmVyJiYocz1lLmJvZHkuc3Vic2NyaWJlciksLTE9PT1zLmluZGV4T2YoIi9wMnBoYW5kbGVyLyIpJiYtMT09PXMuaW5kZXhPZigiL3AycHJlcXVlc3Rlci8iKSYmLTE9PT1hLmluZGV4T2YoIi9wMnBoYW5kbGVyLyIpJiYtMT09PWEuaW5kZXhPZigiL3AycHJlcXVlc3Rlci8iKSYmKCghdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChzKXx8IXRoaXMuX3JlZ2lzdHJ5LmlzTG9jYWwoZS50bykpJiYoIShlLmZyb209PT1ufHxlLnRvPT09b3x8InJlYWQiPT09ZS50eXBlfHwicmVzcG9uc2UiPT09ZS50eXBlfHxlLmZyb20uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSYmImRlbGV0ZSI9PT1lLnR5cGUpJiYoLTE9PT10LmluZGV4T2Yobil8fC0xPT09dC5pbmRleE9mKG8pKSkpfX0se2tleToiX2lzSW5jb21pbmdNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7Ci8vVE9ETzogdGhpcyBzdWJzY3JpYmVyIHZhbGlkYXRpb24gc2hvdWxkIG5vdCBleGlzdCwgYmVjYXVzZSBpcyBvdXRkYXRlZAovL1RPRE86IHRoZSBzeW5jaGVyIGFuZCBzeW5jaGVyIG1hbmFnZXIgbm90IGZvbGxvd2luZyB0aGUgY29ycmVjdCBzcGVjOwovL1RPRE86IHRoaXMgc3Vic2NyaWJlciB2YWxpZGF0aW9uIHNob3VsZCBub3QgZXhpc3QsIGJlY2F1c2UgaXMgb3V0ZGF0ZWQKLy9UT0RPOiB0aGUgc3luY2hlciBhbmQgc3luY2hlciBtYW5hZ2VyIG5vdCBmb2xsb3dpbmcgdGhlIGNvcnJlY3Qgc3BlYzsKcmV0dXJuImZvcndhcmQiPT09ZS50eXBlPyhSLmluZm8oIltNZXNzYWdlQnVzIC0gaXNJbmNvbWluZ01lc3NhZ2VdIC0gbWVzc2FnZS50eXBlOiAiLGUudHlwZSksdD1lLmJvZHkuZnJvbSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInNvdXJjZSIpJiZlLmJvZHkuc291cmNlPyhSLmluZm8oIltNZXNzYWdlQnVzIC0gaXNJbmNvbWluZ01lc3NhZ2VdIC0gbWVzc2FnZS5ib2R5LnNvdXJjZTogIixlLmJvZHkuc291cmNlKSx0PWUuYm9keS5zb3VyY2UpOmUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJmUuYm9keS5zdWJzY3JpYmVyPyhSLmluZm8oIltNZXNzYWdlQnVzIC0gaXNJbmNvbWluZ01lc3NhZ2VdIC0gbWVzc2FnZS5ib2R5LnN1YnNjcmliZXI6ICIsZS5ib2R5LnN1YnNjcmliZXIpLHQ9ZS5ib2R5LnN1YnNjcmliZXIpOmUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpJiZlLmJvZHkucmVwb3J0ZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkucmVwb3J0ZXI6ICIsZS5ib2R5LnJlcG9ydGVyKSx0PWUuYm9keS5yZXBvcnRlcik6KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmZyb20gIixlLmZyb20pLHQ9ZS5mcm9tKSxSLmluZm8oIltNZXNzYWdlQnVzIC0gaXNJbmNvbWluZ01lc3NhZ2VdIC0gY2hlY2sgaWYgaXNMb2NhbDogIix0KSwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbCh0KX19LHtrZXk6ImFkZFB1Ymxpc2giLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLG49ci5fZm9yd2FyZHNbZV07aWYoIW4pe249e2NvdW50ZXI6MCxmbDpyLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24odCl7Ui5pbmZvKCJNQi1QVUJMSVNIOiAoICIrZSsiICkiKSxyLl9vblBvc3RNZXNzYWdlKHQpfSkscmVtb3ZlOmZ1bmN0aW9uKCl7MD09PS0tdC5jb3VudGVyJiYodC5mbC5yZW1vdmUoKSxkZWxldGUgci5fZm9yd2FyZHNbZV0pfX0sci5fZm9yd2FyZHNbZV09bn1yZXR1cm4gbi5jb3VudGVyKyssbn19LHtrZXk6ImFkZEZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gci5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKG4pe1IuaW5mbygiTUItRk9SV0FSRDogKCAiK2UrIiB0byAiK3QrIiApIiksci5mb3J3YXJkKHQsbil9KX19LHtrZXk6ImZvcndhcmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuX3N1YnNjcmlwdGlvbnNbZV07biYmci5fcHVibGlzaE9uKG4sdCl9fSx7a2V5OiJfb25Qb3N0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsKLy9yZXNvbHZlIGV4dGVybmFsIHByb3Rvc3R1Yi4uLgp0Ll9yZWdpc3RyeS5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24ocixuKXtuP3QuZm9yd2FyZChyLG4pOnQuZm9yd2FyZChyLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ui5lcnJvcigiUkVTT0xWRS1FUlJPUjogIixlKX0pfX0se2tleToicGlwZWxpbmVJbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lSW59fSx7a2V5OiJwaXBlbGluZU91dCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lT3V0fX1dKSxNZXNzYWdlQnVzfShiLmRlZmF1bHQpO3QuZGVmYXVsdD13LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig3KSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSksYz0ocigxNCksdS5nZXRMb2dnZXIoIlBpcGVsaW5lIiksZnVuY3Rpb24oKXsvKiBwdWJsaWMKICAgIGhhbmRsZXJzOiAoKFBpcGVDb250ZXh0KSA9PiB2b2lkKVtdCiAgICBvbkZhaWw6IChlcnJvcikgPT4gdm9pZAogICovCmZ1bmN0aW9uIFBpcGVsaW5lKGUpeygwLGkuZGVmYXVsdCkodGhpcyxQaXBlbGluZSk7dmFyIHQ9dGhpczt0LmhhbmRsZXJzPVtdLHQub25GYWlsPWV9LyoqCiAgICogSW5zZXJ0IGEgbWVzc2FnZSBpbiB0aGUgcGlwZWxpbmUgcXVldWUuIEFsbCBtZXNzYWdlcyBhcmUgd3JhcHBlZCB3aXRoIGEgUGlwZUNvbnRleHQuCiAgICogQHBhcmFtICB7TWVzc2FnZX0gbXNnICAgICAgIE1lc3NhZ2UgZm9yIHRoZSBxdWV1ZQogICAqIEBwYXJhbSAge0NhbGxiYWNrfSBvbkRlbGl2ZXIgV2hlbiBtZXNzYWdlIGlzIGZpbmlzaGVkIHByb2Nlc3NpbmcgZnJvbSBhbGwgaGFuZGxlcnMsIGl0IHdpbGwgYmUgZGVsaXZlcmVkIGluIHRoaXMgY2FsbGJhY2suCiAgICovCnJldHVybigwLHMuZGVmYXVsdCkoUGlwZWxpbmUsW3trZXk6InByb2Nlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLmhhbmRsZXJzLmxlbmd0aD4wKXt2YXIgbj1uZXcgbChyLmhhbmRsZXJzKTtuLm5leHQobmV3IGYocixuLGUsdCkpfWVsc2UgdChlKX19XSksUGlwZWxpbmV9KCkpLGY9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgICBfaW5TdG9wOiBib29sZWFuCiAgICAgX3BpcGVsaW5lOiBQaXBlbGluZQogICAgX2l0ZXI6IEl0ZXJhdG9yCiAgICBfbXNnOiBNZXNzYWdlCiAgKi8KZnVuY3Rpb24gUGlwZUNvbnRleHQoZSx0LHIsbil7KDAsaS5kZWZhdWx0KSh0aGlzLFBpcGVDb250ZXh0KTt2YXIgbz10aGlzO28uX2luU3RvcD0hMSxvLl9waXBlbGluZT1lLG8uX2l0ZXI9dCxvLl9tc2c9cixvLl9vbkRlbGl2ZXI9bn1yZXR1cm4oMCxzLmRlZmF1bHQpKFBpcGVDb250ZXh0LFt7a2V5OiJuZXh0IiwvKioKICAgICAqIFByb2NlZWQgdG8gdGhlIG5leHQgaW50ZXJjZXB0b3IgaGFuZGxlciwgdW5sZXNzIHRoZXJlIHdhcyBhbiBlcnJvci4gSWYgaXQncyB0aGUgbGFzdCBvbmUsIHByb2NlZWQgdG8gb25EZWxpdmVyIGhhbmRsZXIuCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2luU3RvcHx8KGUuX2l0ZXIuaGFzTmV4dD9lLl9pdGVyLm5leHQoZSk6ZS5fb25EZWxpdmVyKGUuX21zZykpfX0se2tleToiZGVsaXZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2luU3RvcHx8KGUuX2luU3RvcD0hMCxlLl9vbkRlbGl2ZXIoZS5fbXNnKSl9fSx7a2V5OiJmYWlsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2luU3RvcHx8KHQuX2luU3RvcD0hMCx0Ll9waXBlbGluZS5vbkZhaWwmJnQuX3BpcGVsaW5lLm9uRmFpbChlKSl9fSx7a2V5OiJwaXBlbGluZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lfX0se2tleToibXNnIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXNnfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbXNnPWV9fV0pLFBpcGVDb250ZXh0fSgpLGw9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgICBfaW5kZXg6IG51bWJlcgogICAgX2FycmF5OiBbXQogICovCmZ1bmN0aW9uIEl0ZXJhdG9yKGUpeygwLGkuZGVmYXVsdCkodGhpcyxJdGVyYXRvciksdGhpcy5faW5kZXg9LTEsdGhpcy5fYXJyYXk9ZX1yZXR1cm4oMCxzLmRlZmF1bHQpKEl0ZXJhdG9yLFt7a2V5OiJoYXNOZXh0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXg8dGhpcy5fYXJyYXkubGVuZ3RoLTF9fSx7a2V5OiJuZXh0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXgrKyx0aGlzLl9hcnJheVt0aGlzLl9pbmRleF19fV0pLEl0ZXJhdG9yfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDQ5MSksZD1yKDcpLHA9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShkKSx5PXAuZ2V0TG9nZ2VyKCJDcnlwdG9NYW5hZ2VyIiksaD1mdW5jdGlvbigpey8qKgogICogUnVudGltZWZhY3RvcnkgaXMgcGFzc2VkIGluIHRoZSBjb3N0cnVjdG9yLCBiZWNhdXNlIHRoZSBub2RlSlMgaGFzIGEgZGlmZmVyZW50IGNyeXB0byBtb2R1bGUKICAqIGZyb20gdGhlIGJyb3dzZXIuIFJ1bnRpbWVGYWN0b3J5IHByb3ZpZGVzIGEgd3JhcHBlciBmb3IgdGhlIGZ1Y3Rpb25zIG9mIG5vZGVKUywgc28gdGhleSBjYW4gYmUKICAqIGludm9rZWQgYnJvd3NlciBsaWtlLgogICovCmZ1bmN0aW9uIENyeXB0byhlKXsoMCx1LmRlZmF1bHQpKHRoaXMsQ3J5cHRvKTt2YXIgdD10aGlzOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNyZWF0ZVdlYmNyeXB0bz90Ll9jcnlwdG89ZS5jcmVhdGVXZWJjcnlwdG8oKTp0Ll9jcnlwdG89Y3J5cHRvfS8qKgogICogUGVyZm9ybXMgYSBSU0EgZW5jcnlwdGlvbgogICogQHBhcmFtICAge0FycmF5QnVmZmVyfSAgICB2YWx1ZSAgICB0aGUgcHVibGljIGtleQogICogQHBhcmFtICAge0J1ZmZlclNvdXJjZX0gICAgdmFsdWUgICAgZGF0YSB0byBiZSBlbmNyeXBlZAogICogQHJldHVybiAge1VpbnQ4QXJyYXl9ICAgZW5jcnlwdGVkIGRhdGEKICAqLwpyZXR1cm4oMCxmLmRlZmF1bHQpKENyeXB0byxbe2tleToiZW5jcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZW5jcnlwdFJTQTpwdWJLZXkiLGUpLHkubG9nKCJlbmNyeXB0UlNBOmRhdGEiLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXtyLl9pbXBvcnRSU0FlbmNyeXB0S2V5KG5ldyBVaW50OEFycmF5KGUpKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKdCkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGFuIEFycmF5QnVmZmVyIGNvbnRhaW5pbmcgdGhlIGVuY3J5cHRlZCBkYXRhCi8vIGxvZy5sb2coJ2NyeXB0by1lbmNyeXB0UlNBJywgbmV3IFVpbnQ4QXJyYXkoZW5jcnlwdGVkKSk7Cm4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1lbmNyeXB0UlNBJywgZXJyKTsKaShlKX0pfSl9KX19LHtrZXk6ImRlY3J5cHRSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7eS5sb2coImRlY3J5cHRSU0E6cHJpdktleSIsZSkseS5sb2coImRlY3J5cHRSU0E6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3IuX2ltcG9ydFJTQWRlY3J5cHRLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyLl9jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6IlJTQS1PQUVQIn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCnQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7Ci8vIGxvZy5sb2coJ2NyeXB0by1kZWNyeXB0UlNBJywgZGVjcnlwdGVkRGF0YSk7Cm4odCl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWRlY3J5cHRSU0EnLCBlcnIpOwppKGUpfSl9KX0pfX0se2tleToic2lnblJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7ci5faW1wb3J0UlNBc2lnbktleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGFuIEFycmF5QnVmZmVyIGNvbnRhaW5pbmcgdGhlIHNpZ25hdHVyZQovLyBsb2cubG9nKCdjcnlwdG8tc2lnblJTQScsIG5ldyBVaW50OEFycmF5KHNpZ25hdHVyZSkpOwpuKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tc2lnblJTQScsIGVycik7CmkoZSl9KX0pfSl9fSx7a2V5OiJ2ZXJpZnlSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5faW1wb3J0UlNBdmVyaWZ5S2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IlJTQVNTQS1QS0NTMS12MV81In0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCnIsLy9BcnJheUJ1ZmZlciBvZiB0aGUgc2lnbmF0dXJlCigwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIGJvb2xlYW4gb24gd2hldGhlciB0aGUgc2lnbmF0dXJlIGlzIHRydWUgb3Igbm90Ci8vIGxvZy5sb2coJ2NyeXB0by12ZXJpZnlSU0EnLCBpc3ZhbGlkKTsKaShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tdmVyaWZ5UlNBJywgZXJyKTsKbyhlKX0pfSl9KX19LHtrZXk6ImVuY3J5cHRBRVMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygiZW5jcnlwdEFFUzprZXkiLGUpLHkubG9nKCJlbmNyeXB0QUVTOmRhdGEiLHQpLHkubG9nKCJlbmNyeXB0QUVTOml2IixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5faW1wb3J0QUVTa2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOiJBRVMtQ0JDIiwKLy9Eb24ndCByZS11c2UgaW5pdGlhbGl6YXRpb24gdmVjdG9ycyEKLy9BbHdheXMgZ2VuZXJhdGUgYSBuZXcgaXYgZXZlcnkgdGltZSB5b3VyIGVuY3J5cHQhCml2OnJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQooMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgZW5jcnlwdGVkIGRhdGEKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRBRVMnLCBuZXcgVWludDhBcnJheShlbmNyeXB0ZWQpKTsKaShuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRBRVMnLCBlcnIpOwpvKGUpfSl9KX0pfX0se2tleToiZGVjcnlwdEFFUyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3kubG9nKCJkZWNyeXB0QUVTOmtleSIsZSkseS5sb2coImRlY3J5cHRBRVM6ZGF0YSIsdCkseS5sb2coImRlY3J5cHRBRVM6aXYiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLl9pbXBvcnRBRVNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6IkFFUy1DQkMiLGl2OnJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQp0KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwuZGVjb2RlVVRGOCkobmV3IFVpbnQ4QXJyYXkoZSkpO3kubG9nKCJjcnlwdG8tZGVjcnlwdEFFUyIsdCksaSh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZGVjcnlwdEFFUycsIGVycik7Cm8oZSl9KX0pfSl9fSx7a2V5OiJoYXNoSE1BQyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiaGFzaEhNQUM6a2V5IixlKSx5LmxvZygiaGFzaEhNQUM6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8peyJzdHJpbmciIT10eXBlb2YgdCYmKHQ9KDAsaS5kZWZhdWx0KSh0KSx5LmxvZygiQ29udmVydGluZyBoYXNoSE1BQyBpbnB1cmVkIERBVEEiKSx5LmxvZygiSEhhc2hITUFDOiIsdCkpLHIuX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtyLl9jcnlwdG8uc3VidGxlLnNpZ24oe25hbWU6IkhNQUMifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygiSGFzaEhNQUMgc2lnbmF0dXJlOiIsbmV3IFVpbnQ4QXJyYXkoZSkpLAovLyBsb2cubG9nKCdjcnlwdG8taGFzaEhNQUMnLCBzaWduYXR1cmUpOwovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgc2lnbmF0dXJlCm4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1oYXNoSE1BQycsIGVycik7Cm8oZSl9KX0pfSl9fSx7a2V5OiJ2ZXJpZnlITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coInZlcmlmeUhNQUM6a2V5IixlKSx5LmxvZygidmVyaWZ5SE1BQzpkYXRhIix0KSx5LmxvZygidmVyaWZ5SE1BQzpzaWduYXR1cmUiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obyxzKXtuLl9pbXBvcnRITUFDa2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxpLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIHZlcmlmeUhNQUMgaW5wdXRlZCBEQVRBOiIsdCkpLG4uX2NyeXB0by5zdWJ0bGUudmVyaWZ5KHtuYW1lOiJITUFDIn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCnIsLy9BcnJheUJ1ZmZlciBvZiB0aGUgc2lnbmF0dXJlCigwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIGJvb2xlYW4gb24gd2hldGhlciB0aGUgc2lnbmF0dXJlIGlzIHRydWUgb3Igbm90Ci8vIGxvZy5sb2coJ2NyeXB0by12ZXJpZnlITUFDJywgaXN2YWxpZCk7CnkubG9nKCJ2ZXJpZnlITUFDIHJlc3VsdCIsZSksZT9vKGUpOnMoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tdmVyaWZ5SE1BQyIsZSkscyhlKX0pfSl9KX19LHtrZXk6ImdlbmVyYXRlUlNBS2V5UGFpciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e307cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLl9jcnlwdG8uc3VidGxlLmdlbmVyYXRlS2V5KHtuYW1lOiJSU0EtUFNTIixtb2R1bHVzTGVuZ3RoOjIwNDgsLy9jYW4gYmUgMTAyNCwgMjA0OCwgb3IgNDA5NgpwdWJsaWNFeHBvbmVudDpuZXcgVWludDhBcnJheShbMSwwLDFdKSxoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJzaWduIiwidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24oaSl7Ci8vcmV0dXJucyBhIGtleXBhaXIgb2JqZWN0Ci8vIGxvZy5sb2coa2V5KTsKZS5fY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoInNwa2kiLC8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCmkucHVibGljS2V5KS50aGVuKGZ1bmN0aW9uKHIpewovL3JldHVybnMgdGhlIGV4cG9ydGVkIGtleSBkYXRhCi8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCnJldHVybiB0LnB1YmxpYz1uZXcgVWludDhBcnJheShyKSxlLl9jcnlwdG8uc3VidGxlLmV4cG9ydEtleSgicGtjczgiLGkucHJpdmF0ZUtleSl9KS50aGVuKGZ1bmN0aW9uKGUpe3QucHJpdmF0ZT1uZXcgVWludDhBcnJheShlKSwKLy8gbG9nLmxvZygnY3J5cHRvLWdlbmVyYXRlUlNBS2V5UGFpcicsIGtleVBhaXIpOwpyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcihlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiZ2VuZXJhdGVJViIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZVJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMzIpO2UuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCk7Ci8vIGFkZCBpbiB0aGUgZmlyc3QgNCBieXRlcyBvZiB0aGUgYXJyYXkgdGhlIGJ5dGVzIGV4dHJhY3RlZCBwcmV2aW91c2x5Owpmb3IodmFyIHI9RGF0ZS5ub3coKSxuPSgwLGwuZW5jb2RlVVRGOCkoci50b1N0cmluZygpKSxpPW4uc2xpY2Uobi5sZW5ndGgtNCxuLmxlbmd0aCksbz0wO288NDtvKyspdFtvXT1pW29dO3JldHVybiB0fX0se2tleToiZ2VuZXJhdGVQTVMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBVaW50OEFycmF5KDQ4KTtyZXR1cm4gZS5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KSx0fX0se2tleToiZ2VuZXJhdGVNYXN0ZXJTZWNyZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPW5ldyBVaW50OEFycmF5KDQ4KSxzPXQ7ci5fZGlnZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5oYXNoSE1BQyhlLHMpLnRoZW4oZnVuY3Rpb24odCl7Ci8vY29weSB0aGUgZmlyc3QgMzIgYnl0ZXMgaW50byB0aGUga2V5CmZvcih2YXIgbj0wO248MzI7bisrKW9bbl09dFtuXTtyZXR1cm4gci5oYXNoSE1BQyhlLHMrdCl9KS50aGVuKGZ1bmN0aW9uKGUpewovL2NvcHkgdGhlIGZpcnN0IDE2IGJ5dGVzIHRvIHRoZSBrZXkgcmVtYWluaW5nIDE2IGJ5dGVzCmZvcih2YXIgdD0wO3Q8MTY7dCsrKW9bdCszMl09ZVt0XTsKLy8gbG9nLmxvZygnY3J5cHRvLWdlbmVyYXRlTWFzdGVyU2VjcmV0Jywga2V5KTsKbihvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVNYXN0ZXJTZWNyZXQnLCBlcnIpOwppKGUpfSl9KX0pfX0se2tleToiZ2VuZXJhdGVLZXlzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz1bXSxzPXQ7Ci8vIGl0ZXJhdGUgNCB0aW1lcyB0byBvYnRhaW4gYSAxMDI0IGtleSBzaXplCnIuaGFzaEhNQUMoZSxzKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLnB1c2godCksci5oYXNoSE1BQyhlLHMrdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLnB1c2godCksci5oYXNoSE1BQyhlLHMrdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLnB1c2godCksci5oYXNoSE1BQyhlLHMrdCl9KS50aGVuKGZ1bmN0aW9uKGUpe28ucHVzaChlKSwKLy8gbG9nLmxvZygnY3J5cHRvLWdlbmVyYXRlS2V5cycsIGtleSk7Cm4obyl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWdlbmVyYXRlS2V5cycsIGVycik7CmkoZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQXNpZ25LZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgicGtjczgiLC8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCmUsey8vdGhlc2UgYXJlIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsic2lnbiJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYSBwdWJsaWNLZXkgKG9yIHByaXZhdGVLZXkgaWYgeW91IGFyZSBpbXBvcnRpbmcgYSBwcml2YXRlIGtleSkKLy8gbG9nLmxvZygnY3J5cHRvLV9pbXBvcnRSU0FzaWduS2V5JywgcHJpdmF0ZUtleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQXNpZ25LZXkiLGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQXZlcmlmeUtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJzcGtpIiwvL2NhbiBiZSAnandrJyAocHVibGljIG9yIHByaXZhdGUpLCAnc3BraScgKHB1YmxpYyBvbmx5KSwgb3IgJ3BrY3M4JyAocHJpdmF0ZSBvbmx5KQplLHsvL3RoZXNlIGFyZSB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYSBwdWJsaWNLZXkgKG9yIHByaXZhdGVLZXkgaWYgeW91IGFyZSBpbXBvcnRpbmcgYSBwcml2YXRlIGtleSkKLy8gbG9nLmxvZygnY3J5cHRvLV9pbXBvcnRSU0F2ZXJpZnlLZXknLCBwdWJsaWNLZXkpOwpyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLV9pbXBvcnRSU0F2ZXJpZnlLZXkiLGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQWVuY3J5cHRLZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgic3BraSIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKZSx7Ly90aGVzZSBhcmUgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJlbmNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQWVuY3J5cHRLZXknLCBwdWJsaWNLZXkpOwpyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLV9pbXBvcnRSU0FlbmNyeXB0S2V5IixlLm5hbWUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQWRlY3J5cHRLZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgicGtjczgiLC8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCmUsey8vdGhlc2UgYXJlIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJSU0EtT0FFUCIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsiZGVjcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYSBwdWJsaWNLZXkgKG9yIHByaXZhdGVLZXkgaWYgeW91IGFyZSBpbXBvcnRpbmcgYSBwcml2YXRlIGtleSkKLy8gbG9nLmxvZygnY3J5cHRvLV9pbXBvcnRSU0FkZWNyeXB0S2V5JywgcHJpdmF0ZUtleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWRlY3J5cHRLZXkiLGUpLG4oZSl9KX0pfX0se2tleToiY29uY2F0UE1Td2l0aFJhbmRvbXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXsKLy8gYWRkIFByZW1hc3RlcktleQpmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgrci5sZW5ndGgpLGk9MDtpPGUubGVuZ3RoO2krKyluW2ldPWVbaV07Ci8vYWRkIHRvIHJhbmRvbQpmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyluW28rZS5sZW5ndGhdPWVbb107Ci8vYWRkIGZyb20gcmFuZG9tCmZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKW5bcytlLmxlbmd0aCt0Lmxlbmd0aF09ZVtzXTtyZXR1cm4gbn19LHtrZXk6Il9nZW5lcmF0ZTI1NmJpdEtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMzIpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJfaW1wb3J0SE1BQ2tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2RpZ2VzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLC8vY2FuIGJlICdqd2snIG9yICdyYXcnCmUsey8vdGhpcyBpcyB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiSE1BQyIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9LC8vY2FuIGJlICdTSEEtMScsICdTSEEtMjU2JywgJ1NIQS0zODQnLCBvciAnU0hBLTUxMicKbGVuZ3RoOjI1Nn0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbInNpZ24iLCJ2ZXJpZnkiXSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIHRoZSBzeW1tZXRyaWMga2V5Ci8vIGxvZy5sb2coJ2NyeXB0by1faW1wb3J0SE1BQ2tleScsIGtleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX0pfX0se2tleToiX2RpZ2VzdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuZGlnZXN0KHtuYW1lOiJTSEEtMjU2In0sZSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIHRoZSBoYXNoIGFzIGFuIEFycmF5QnVmZmVyCi8vIGxvZy5sb2coJ2NyeXB0by1kaWdlc3QnLCBuZXcgVWludDhBcnJheShoYXNoKSk7CnIobmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcihlKSxuKGUpfSl9KX19LHtrZXk6Il9pbXBvcnRBRVNrZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgicmF3IiwvL2NhbiBiZSAnandrJyBvciAncmF3JwplLHsvL3RoaXMgaXMgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IkFFUy1DQkMifSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsiZW5jcnlwdCIsImRlY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIHRoZSBzeW1tZXRyaWMga2V5Ci8vIGxvZy5sb2coJ2NyeXB0by1pbXBvcnRBRVNrZXknLCBrZXkpOwpyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLWltcG9ydEFFU2tleSIsZSksbihlKX0pfSl9fV0pLENyeXB0b30oKTt0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gTWFyc2hhbHMgYSBzdHJpbmcgdG8gVWludDhBcnJheS4KZnVuY3Rpb24gZW5jb2RlVVRGOChlKXtmb3IodmFyIHQ9MCxyPW5ldyBVaW50OEFycmF5KDQqZS5sZW5ndGgpLG49MDtuIT1lLmxlbmd0aDtuKyspe3RyeXtlLmNoYXJDb2RlQXQobil9Y2F0Y2goZSl7cmV0dXJufXZhciBpPWUuY2hhckNvZGVBdChuKTtpZihpPDEyOClyW3QrK109aTtlbHNle2lmKGk8MjA0OClyW3QrK109aT4+NnwxOTI7ZWxzZXtpZihpPjU1Mjk1JiZpPDU2MzIwKXtpZigrK249PWUubGVuZ3RoKXRocm93IlVURi04IGVuY29kZTogaW5jb21wbGV0ZSBzdXJyb2dhdGUgcGFpciI7dmFyIG89ZS5jaGFyQ29kZUF0KG4pO2lmKG88NTYzMjB8fG8+NTczNDMpdGhyb3ciVVRGLTggZW5jb2RlOiBzZWNvbmQgY2hhciBjb2RlIDB4IitvLnRvU3RyaW5nKDE2KSsiIGF0IGluZGV4ICIrbisiIGluIHN1cnJvZ2F0ZSBwYWlyIG91dCBvZiByYW5nZSI7aT02NTUzNisoKDEwMjMmaSk8PDEwKSsoMTAyMyZvKSxyW3QrK109aT4+MTh8MjQwLHJbdCsrXT1pPj4xMiY2M3wxMjh9ZWxzZQovLyBjIDw9IDB4ZmZmZgpyW3QrK109aT4+MTJ8MjI0O3JbdCsrXT1pPj42JjYzfDEyOH1yW3QrK109NjMmaXwxMjh9fXJldHVybiByLnN1YmFycmF5KDAsdCl9Ci8vIFVubWFyc2hhbHMgYW4gVWludDhBcnJheSB0byBzdHJpbmcuCmZ1bmN0aW9uIGRlY29kZVVURjgoZSl7Zm9yKHZhciB0PSIiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49ZVtyKytdO2lmKG4+MTI3KXtpZihuPjE5MSYmbjwyMjQpe2lmKHI+PWUubGVuZ3RoKXRocm93IlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAyLWJ5dGUgc2VxdWVuY2UiO249KDMxJm4pPDw2fDYzJmVbcl19ZWxzZSBpZihuPjIyMyYmbjwyNDApe2lmKHIrMT49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDMtYnl0ZSBzZXF1ZW5jZSI7bj0oMTUmbik8PDEyfCg2MyZlW3JdKTw8Nnw2MyZlWysrcl19ZWxzZXtpZighKG4+MjM5JiZuPDI0OCkpdGhyb3ciVVRGLTggZGVjb2RlOiB1bmtub3duIG11bHRpYnl0ZSBzdGFydCAweCIrbi50b1N0cmluZygxNikrIiBhdCBpbmRleCAiKyhyLTEpO2lmKHIrMj49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDQtYnl0ZSBzZXF1ZW5jZSI7bj0oNyZuKTw8MTh8KDYzJmVbcl0pPDwxMnwoNjMmZVsrK3JdKTw8Nnw2MyZlWysrcl19KytyfWlmKG48PTY1NTM1KXQrPVN0cmluZy5mcm9tQ2hhckNvZGUobik7ZWxzZXtpZighKG48PTExMTQxMTEpKXRocm93IlVURi04IGRlY29kZTogY29kZSBwb2ludCAweCIrbi50b1N0cmluZygxNikrIiBleGNlZWRzIFVURi0xNiByZWFjaCI7bi09NjU1MzYsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiksdCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMDIzJm58NTYzMjApfX1yZXR1cm4gdH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5lbmNvZGVVVEY4PWVuY29kZVVURjgsdC5kZWNvZGVVVEY4PWRlY29kZVVURjh9LC8qIDQ5MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDk2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cig5OSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoImxvYWRlciIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2FkZXIoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxMb2FkZXIpLCF0KXRocm93IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uIik7aWYoIXIpdGhyb3cgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIERlc2NyaXB0b3IgaW5zdGFuY2UiKTt0aGlzLmxvZz12LHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249dCx0aGlzLmRlc2NyaXB0b3JzPXJ9LyoqCiAgICogU2V0IHJ1bnRpbWUgdXJsCiAgICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZSBydW50aW1lVVJMCiAgICovCnJldHVybigwLGYuZGVmYXVsdCkoTG9hZGVyLFt7a2V5OiJsb2FkSHlwZXJ0eSIsLyoqCiAgICAgKiBEZXBsb3kgSHlwZXJ0eSBmcm9tIENhdGFsb2d1ZSBVUkwKICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvdHJlZS9tYXN0ZXIvZGF0YW1vZGVsL2NvcmUvYWRkcmVzcwogICAgICoKICAgICAqIEBwYXJhbSB7VVJMLkh5cGVydHlDYXRhbG9ndWVVUkx9IGh5cGVydHlDYXRhbG9ndWVVUkwgLSBUaGUgQ2F0YWxvZ3VlIFVSTCB1c2VkIHRvIGlkZW50aWZ5IGRlc2NyaXB0b3JzIGluIHRoZSBDYXRhbG9ndWUuCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58VVJMLkh5cGVydHlVUkx9IFtyZXVzZVVSTD1mYWxzZV0gcmV1c2VVUkwgLSByZXVzZVVSTCBpcyB1c2VkIHRvIHJldXNlIHRoZSBoeXBlcnR5VVJMIHByZXZpb3VzbHkgcmVnaXN0cmVkLCBieSBkZWZhdWx0IHRoZSByZXVzZSBpcyBkaXNhYmxlZDsKICAgICAqIEBwYXJhbSB7VVJMfSBhcHBVUkwgLSB0aGUgYXBwIHVybCBvcmlnaW4gYWRkcmVzczsKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBJZHBDb25zdHJhaW50IC0gY29uc3RyYWludHMgdG8gYmUgdXNlZCB3aGVuIHNlbGVjdGluZyB0aGUgaWRlbnRpdHkgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBIeXBlcnR5IGluY2x1ZGluZyBvcmlnaW4sIGlkcCwgYW5kIGlkSGludC4KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEJvb2xlYW4sIEVycm9yPn0gdGhpcyBpcyBQcm9taXNlIGFuZCByZXR1cm5zIHRydWUgaWYgYWxsIGNvbXBvbmVudHMgYXJlIGxvYWRlZCB3aXRoIHN1Y2Nlc3Mgb3IgYW4gZXJyb3IgaWYgc29tZW9uZSBmYWlscy4KICAgICAqCiAgICAgKiBAbWVtYmVyT2YgTG9hZGVyCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPXRoaXMsbj1hcmd1bWVudHNbMl07YXJndW1lbnRzWzNdO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7dmFyIGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGw9ITEsZD1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gU29tZXRoaW5nIGZhaWxlZCBvbiB0aGUgZGVwbG95IGh5cGVydHk6ICIsZSkscyhlKX0seT1mdW5jdGlvbihlKXtsPSEwLHMoZSl9OwovLyBHZXQgSHlwZXJ0eSBkZXNjcmlwdG9yCi8vIFRPRE86IHRoZSByZXF1ZXN0IE1vZHVsZSBzaG91bGQgYmUgY2hhbmdlZCwKLy8gYmVjYXVzZSBhdCB0aGlzIG1vbWVudCBpdCBpcyBpbmNvbXBhdGlibGUgd2l0aCBub2RlanM7Ci8vIFByb2JhYmx5IHdlIG5lZWQgdG8gcGFzcyBhIGZhY3RvcnkgbGlrZSB3ZSBkbyBmb3Igc2FuZGJveGVzOwpyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBIeXBlcnR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBHZXQgaHlwZXJ0eSBkZXNjcmlwdG9yIGZvciA6IixlKSxyLmRlc2NyaXB0b3JzLmdldEh5cGVydHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgY29tcGxldGVkICJzdGVwIDIgYW5kIDMiIGFzIHNob3duIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQKdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDE6IHJldHVybiBoeXBlcnR5IGRlc2NyaXB0b3IiKSwKLy8gaHlwZXJ0eSBjb250YWlucyB0aGUgZnVsbCBwYXRoIG9mIHRoZSBjYXRhbG9ndWUgVVJMLCBlLmcuCi8vIGNhdGFsb2d1ZS5yZXRoaW5rLmV1Ly53ZWxsLWtub3duLy4uLi4uLi4uLi4KYz1lO3ZhciB0PWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09dD9lLnNvdXJjZVBhY2thZ2U6ci5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHQpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDI6IHJldHVybiBoeXBlcnR5IHNvdXJjZSBjb2RlIiksCi8vIGF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgY29tcGxldGVkICJzdGVwIDQgYW5kIDUiIGFzIHNob3duIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQKZj1lO3JldHVybiEwfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDM6IHJldHVybiBwb2xpY3kgZW5naW5lIHJlc3VsdCIrZSk7Ci8vIHRoaXMgd2lsbCByZXR1cm4gdGhlIHNhbmRib3ggb3Igb25lIHByb21pc2UgdG8gZ2V0U2FuZGJveDsKcmV0dXJuIHIucmVnaXN0cnkuZ2V0QXBwU2FuZGJveCgpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQ6IHJldHVybiB0aGUgc2FuZGJveCIsZSksZSl9LGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQuMTogVHJ5IHRvIHJlZ2lzdGVyIGEgbmV3IHNhbmRib3giKTsKLy8gY2hlY2sgaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZWQgZm9yIHRoaXMgaHlwZXJ0eSBkZXNjcmlwdG9yIHVybDsKLy8gTWFrZSBTdGVwcyB4eHggLS0tIHh4eAovLyBJbnN0YW50aWF0ZSB0aGUgU2FuZGJveAp2YXIgdD17fTtyZXR1cm4gYyYmYy5oYXNPd25Qcm9wZXJ0eSgiY2FwYWJpbGl0aWVzIikmJih0PWMuc3R1YkNhcGFiaWxpdGllcyksci5fcnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveCh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbihlKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9KSxlfSl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNTogcmV0dXJuIHNhbmRib3ggYW5kIHJlZ2lzdGVyIiksdT1lO3JldHVybiByLl9hZGRyZXNzQWxsb2NhdGlvbi5jcmVhdGUoci5fcmVnaXN0cnkuX2RvbWFpbiwxLGMsImh5cGVydHkiLHQpfSx5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDY6IHJldHVybiB0aGUgYWRkcmVzc2VzIGZvciB0aGUgaHlwZXJ0eSIsdCksci5yZWdpc3RyeS5yZWdpc3Rlckh5cGVydHkodSxlLGMsdCxuKSl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNzogcmVnaXN0cmF0aW9uIHJlc3VsdCIsZSksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMTYgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCmE9ZS51cmw7Ci8vIEV4dGVuZCBvcmlnaW5hbCBoeXBlcnR5IGNvbmZpZ3VyYXRpb247CnZhciB0PXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KShjLmNvbmZpZ3VyYXRpb24pKXRyeXt0PSgwLGkuZGVmYXVsdCkoe30sSlNPTi5wYXJzZShjLmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXt0PWMuY29uZmlndXJhdGlvbn10LnJ1bnRpbWVVUkw9ci5fcnVudGltZVVSTCxlLnAycEhhbmRsZXImJih0LnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLHQucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKTsKLy8gV2Ugd2lsbCBkZXBsb3kgdGhlIGNvbXBvbmVudCAtIHN0ZXAgMTcgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCnRyeXtyZXR1cm4gdS5kZXBsb3lDb21wb25lbnQoZi5zb3VyY2VDb2RlLGEsdCl9Y2F0Y2goZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEVycm9yIG9uIGRlcGxveSBjb21wb25lbnQ6IixlKSxzKGUpfX0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA4OiBEZXBsb3kgY29tcG9uZW50IHN0YXR1cyBmb3IgaHlwZXJ0eTogIixlKSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAxOSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1oeXBlcnR5Lm1kIHJpZ2h0IG5vdy4KLy8gQWRkIHRoZSBtZXNzYWdlIGJ1cyBsaXN0ZW5lciB0byB0aGUgYXBwU2FuZGJveCBvciBoeXBlcnRTYW5kYm94OwpyLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYSxmdW5jdGlvbihlKXt1LnBvc3RNZXNzYWdlKGUpfSk7Ci8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMjAgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCnZhciB0PXtydW50aW1lSHlwZXJ0eVVSTDphLHN0YXR1czplfTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gSHlwZXJ0eTogIix0KSxvKHQpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDIxIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93Lgp2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKX0seSkuY2F0Y2goZCl9KX19LHtrZXk6ImxvYWRTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1Qcm90b1N0dWIgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7Ci8vIHRvIGFuYWx5c2UgaWYgZG9tYWluIGZvciBwMnBIYW5kbGVycyBzaG91bGQgYmUgc29tZXRoaW5nIGVsc2UgYW5kIG5vdCB0aGUgZGVmYXVsdCBkb21haW4gaXRzZWxmCnZhciBzPSgwLHAuZGl2aWRlVVJMKShlKS5kb21haW47c3x8KHM9ZSk7dmFyIGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGw9ITEsZD12b2lkIDAseT1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1Tb21ldGhpbmcgZmFpbGVkIG9uIHRoZSBkZXBsb3kgb2YgcHJvdG9jb2xzdHViOiAiLGUpLG8oZSl9LGg9ZnVuY3Rpb24oZSl7bD0hMCxvKGUpfSxnPXZvaWQgMCxiPXt9O3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBzdGFydGluZyBsb2FkaW5nIGZvciAiLGUsIiB3aXRoIHAycGNvbmZpZyAiLHQpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXURpc2NvdmVyIG9yIENyZWF0ZSBhIG5ldyBQcm90b1N0dWIgZm9yIGRvbWFpbjogIixzKTsKLy8gc3RlcCAyIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp0cnl7aWYodClpZih0Lmhhc093blByb3BlcnR5KCJpc0hhbmRsZXJTdHViIikmJnQuaXNIYW5kbGVyU3R1YikKLy8gc3RlcCA2IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAohMCxkPXIucnVudGltZVVSTCxnPXIucmVnaXN0cnkuZGlzY292ZXJQMlBTdHViKCk7ZWxzZXshMDt2YXIgbT10LnJlbW90ZVJ1bnRpbWVVUkw7ZD1tLAovLyBzdGVwIDQgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIHN0ZXAgNSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUDJQU3R1YihtKX1lbHNlCi8vIHN0ZXAgMyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKZD1zLGc9ci5yZWdpc3RyeS5kaXNjb3ZlclByb3Rvc3R1YihzKTsKLy8gSXMgcmVnaXN0ZWQ/CnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTEuIFByb3RvIFN0dWIgRGlzY292ZXJlZCBmb3IgIixlLCI6ICIsZyksCi8vIHN0ZXAgMjMgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCm4oZyksdi5pbmZvKCIgW1J1bnRpbWUuTG9hZGVyXS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9Y2F0Y2goZyl7Ci8vIGlzIG5vdCByZWdpc3RlZD8Kdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMS4gUHJvdG8gU3R1YiBub3QgZm91bmQgIitnKSwKLy8gc3RlcCA4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApyLmRlc2NyaXB0b3JzLmdldFN0dWJEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0yLiByZXR1cm4gdGhlIFByb3RvU3R1YiBkZXNjcmlwdG9yIiksCi8vIHN0ZXAgOSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdT1lO3ZhciB0PWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09dD9lLnNvdXJjZVBhY2thZ2U6ci5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHQpfSxoKS5jYXRjaCh5KS50aGVuKGZ1bmN0aW9uKGUpewovLyBBY2NvcmRpbmcgdG8gZGVidWcsIGl0IHNlZW1zIFJ1bnRpbWVDYXRhbG9ndWUgZG9lcyBub3Qgc3VwcG9ydCB5ZXQgY29uc3RyYWludHMuIEl0IGFwcGVhcnMgZW1wdHkhISEhCi8vIHN0ZXAgMTEgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnJldHVybiFsJiYodSYmdS5jb25zdHJhaW50cyYmKGI9dS5jb25zdHJhaW50cyksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMy4gcmV0dXJuIHRoZSBQcm90b1N0dWIgU291cmNlIENvZGUiKSxmPWUsci5yZWdpc3RyeS5nZXRTYW5kYm94KHMsYikpfSkudGhlbihmdW5jdGlvbihlKXsKLy8gc3RlcCAxNSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKcmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl00LiBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlcmVkIHRoZW4gcmV0dXJuIHRoZSBzYW5kYm94ICIsZSksYT1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIHN0ZXAgMTMgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnJldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNS4gU2FuZGJveCB3YXMgbm90IGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUgIixlKSxyLl9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KGIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KSl9KS50aGVuKGZ1bmN0aW9uKG4pewovLyBzdGVwIDE2IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTYuIHJldHVybiB0aGUgc2FuZGJveCBpbnN0YW5jZSBhbmQgcmVnaXN0ZXIiLG4sInRvIGRvbWFpbiAiLHMpLGE9bixyLnJlZ2lzdHJ5LnJlZ2lzdGVyU3R1YihhLGQsdCxlLHUpKX0saCkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExOwovLyBzdGVwIDIzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gNy4gcmV0dXJuIHRoZSBydW50aW1lIHByb3Rvc3R1YiB1cmw6ICIsZSksYz1lLnVybDsKLy8gRXh0ZW5kIG9yaWdpbmFsIGh5cGVydHkgY29uZmlndXJhdGlvbjsKdmFyIG49e307aWYoISgwLHAuZW1wdHlPYmplY3QpKHUuY29uZmlndXJhdGlvbikpdHJ5e249KDAsaS5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKHUuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe249dS5jb25maWd1cmF0aW9ufWlmKHQpdHJ5e249KDAsaS5kZWZhdWx0KShuLEpTT04ucGFyc2UodCkpfWNhdGNoKGUpe249KDAsaS5kZWZhdWx0KShuLHQpfQovLyByZXF1aXJlZCBmb3IgcHJvdG9zdHViIHNlc3Npb24Kbi5ydW50aW1lVVJMPXIuX3J1bnRpbWVVUkw7Ci8vIHN0ZXAgMjQgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnRyeXsKLy8gc3RlcCAyNiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gc3RlcCAyNyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gQWRkIHRoZSBtZXNzYWdlIGJ1cyBsaXN0ZW5lcgpyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIDg6IGFkZGluZyBzYW5kYm94IGxpc3RlbmVyIHRvIHByb3Rvc3R1YlVSTCA6ICIsYyksci5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGMsZnVuY3Rpb24oZSl7YS5wb3N0TWVzc2FnZShlKX0pLGEuZGVwbG95Q29tcG9uZW50KGYuc291cmNlQ29kZSxjLG4pfWNhdGNoKGUpe3YuZXJyb3IoIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gRXJyb3Igb24gZGVwbG95IGNvbXBvbmVudDoiLGUpLG8oZSl9fSxoKS50aGVuKGZ1bmN0aW9uKCl7aWYobClyZXR1cm4hMTsKLy8gc3RlcCAyOCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdmFyIGU9dm9pZCAwO3Q/KHYubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIHAycENvbmZpZzogIix0KSx0Lmhhc093blByb3BlcnR5KCJpc0hhbmRsZXJTdHViIikmJihlPXIucmVnaXN0cnkucDJwSGFuZGxlclN0dWJbci5fcnVudGltZVVSTF0pLHQuaGFzT3duUHJvcGVydHkoInAycFJlcXVlc3RlclN0dWIiKSYmKGU9ci5yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW3QucmVtb3RlUnVudGltZVVSTF0pKTplPXIucmVnaXN0cnkucHJvdG9zdHVic0xpc3Rbc10sdi5sb2coIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gU3R1YjogIixlKSxuKGUpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9LGgpLmNhdGNoKHkpfX0pfX0se2tleToibG9hZElkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIElkcFByb3h5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLHAuZGl2aWRlVVJMKShlKS5kb21haW47b3x8KG89ZSk7dmFyIHM9dm9pZCAwLGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9ITEsbD1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gU29tZXRoaW5nIGZhaWxlZCBvbiB0aGUgZGVwbG95IG9mIElkcFByb3h5OiAiLGUpLG4oZSl9LGQ9ZnVuY3Rpb24oZSl7Zj0hMCxuKGUpfTsKLy8gRGlzY292ZXIgSURQUHJveHkKdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLS0gSURQIFByb3h5IERlcGxveSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBEaXNjb3ZlciBvciBDcmVhdGUgYSBuZXcgSWRwUHJveHkgZm9yIGRvbWFpbi9VUkw6ICIsbyk7dHJ5e3ZhciB5PXQucmVnaXN0cnkuZGlzY292ZXJJZHBQcm94eShvKTsKLy8gSXMgcmVnaXN0ZWQ/CnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAxLiBJRFBQcm94eSBEaXNjb3ZlcmVkOiAiLHkpOwovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDIgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnZhciBoPXQucmVnaXN0cnkuaWRwUHJveHlMaXN0W29dO3YubG9nKCJEZXBsb3llZDogIixoKSxyKGgpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAtLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfWNhdGNoKHkpewovLyBpcyBub3QgcmVnaXN0ZWQ/CnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAxLiBJZHBQcm94eSBub3QgZm91bmQ6Iix5KSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyB3ZSBuZWVkIHRvIGdldCBQcm90b1N0dWIgZGVzY3JpcHRvciBzdGVwIDQgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnQuZGVzY3JpcHRvcnMuZ2V0SWRwUHJveHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDIuIFJldHVybiB0aGUgSURQUHJveHkgZGVzY3JpcHRvciIpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCmE9ZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXI/ZS5zb3VyY2VQYWNrYWdlOnQucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTChyKX0sZCkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAzLiByZXR1cm4gdGhlIElEUFByb3h5IHNvdXJjZSBwYWNrYWdlIiksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgNyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKYz1lO3JldHVybiEwfSxkKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiZ0LnJlZ2lzdHJ5LmdldFNhbmRib3gobyl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQuIGlmIHRoZSBzYW5kYm94IGlzIHJlZ2lzdGVyZWQgdGhlbiByZXR1cm4gdGhlIHNhbmRib3giLGUpLHM9ZSxlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDUuIFNhbmRib3ggd2FzIG5vdCBmb3VuZCwgY3JlYXRpbmcgYSBuZXcgb25lIixlKTt2YXIgcj17fTtyZXR1cm4gYSYmYS5oYXNPd25Qcm9wZXJ0eSgiY2FwYWJpbGl0aWVzIikmJihhPWEuc3R1YkNhcGFiaWxpdGllcyksdC5fcnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveChyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbihlKXt0Lm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9KSxlfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDYuIHJldHVybiB0aGUgc2FuZGJveCBpbnN0YW5jZSBhbmQgcmVnaXN0ZXIiLGUsInRvIGRvbWFpbiAiLG8pLHM9ZSx0LnJlZ2lzdHJ5LnJlZ2lzdGVySWRwUHJveHkoZSxvKSl9LGQpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNy4gUmV0dXJuIHRoZSBydW50aW1lIElkcCBQcm94eSBVUkw6ICIsZSksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp1PWU7Ci8vIEV4dGVuZCBvcmlnaW5hbCBoeXBlcnR5IGNvbmZpZ3VyYXRpb247CnZhciByPXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KShhLmNvbmZpZ3VyYXRpb24pKXRyeXtyPSgwLGkuZGVmYXVsdCkoe30sSlNPTi5wYXJzZShhLmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXtyPWEuY29uZmlndXJhdGlvbn1yLnJ1bnRpbWVVUkw9dC5fcnVudGltZVVSTDsKLy8gRGVwbG95IENvbXBvbmVudCBzdGVwIHh4eAp0cnl7Ci8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyBBZGQgdGhlIG1lc3NhZ2UgYnVzIGxpc3RlbmVyCnJldHVybiB0Lm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIodSxmdW5jdGlvbihlKXtzLnBvc3RNZXNzYWdlKGUpfSkscy5kZXBsb3lDb21wb25lbnQoYy5zb3VyY2VDb2RlLGUscil9Y2F0Y2goZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEVycm9yIG9uIGRlcGxveSBjb21wb25lbnQ6IixlKSxuKGUpfX0sZCkudGhlbihmdW5jdGlvbigpe2lmKGYpcmV0dXJuITE7Ci8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyBMb2FkIFN0dWIgZnVuY3Rpb24gcmVzb2x2ZWQgd2l0aCBzdWNjZXNzOwovLyBsZXQgaWRwUHJveHkgPSB7Ci8vICAgcnVudGltZUlkcFByb3h5VVJMOiBfcnVudGltZUlkcFByb3h5VVJMLAovLyAgIHN0YXR1czogZGVwbG95Q29tcG9uZW50U3RhdHVzCi8vIH07Ci8vdGhpcy5yZWdpc3RyeS5pZHBQcm94eUxpc3RbZG9tYWluXS5zdGF0dXMgPSAnZGVwbG95ZWQnOwp2YXIgZT10LnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtvXTt2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRJZHBQcm94eV0gODogbG9hZGVkOiAiLGUpLHIoZSksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZElkcFByb3h5XSAtLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfSxkKS5jYXRjaChsKX19KX19LHtrZXk6Il9yZWFkeVRvVXNlIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9ydW50aW1lVVJMKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIHJ1bnRpbWUgdXJsIGFkZHJlc3MiKTtpZighdGhpcy5fbWVzc2FnZXNCdXMpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgbWVzc2FnZUJ1cyBjb21wb25lbnQiKTtpZighdGhpcy5fcmVnaXN0cnkpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcmVnaXN0cnkgY29tcG9uZW50Iik7aWYoIXRoaXMuX3J1bnRpbWVGYWN0b3J5KXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIHJ1bnRpbWUgZmFjdG9yeSBjb21wb25lbnQiKTtyZXR1cm4hMH19LHtrZXk6InJ1bnRpbWVVUkwiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ydW50aW1lVVJMPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVVJMfX0se2tleToicmVnaXN0cnkiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lOwovLyBJbnN0YWxsIEFkZHJlc3NBbGxvY2F0aW9uCnZhciB0PWguZGVmYXVsdC5pbnN0YW5jZTt0aGlzLl9hZGRyZXNzQWxsb2NhdGlvbj10LHYubG9nKCJbTG9hZGVyIC0gQWRkcmVzc0FsbG9jYXRpb25dIC0gIix0KX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZ2lzdHJ5fX0se2tleToibWVzc2FnZUJ1cyIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VzQnVzPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlc0J1c319LHtrZXk6InJ1bnRpbWVGYWN0b3J5IixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcnVudGltZUZhY3Rvcnk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVGYWN0b3J5fX1dKSxMb2FkZXJ9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gc3RvcmFnZShlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBydW50aW1lIGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7cmV0dXJuKDAsaS5kZWZhdWx0KShvLnJ1bnRpbWVDb25maWd1cmF0aW9uLnN0b3JhZ2VTY2hlbWFzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3MuaGFzT3duUHJvcGVydHkodCl8fChzW3RdPWUuc3RvcmFnZU1hbmFnZXIodCxvLnJ1bnRpbWVDb25maWd1cmF0aW9uLnN0b3JhZ2VTY2hlbWFzW3RdKSl9KSxzfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM3KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5zdG9yYWdlPXN0b3JhZ2U7dmFyIG89cigxNDQpLHM9e319LC8qIDQ5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDE0KSxmPXIoMTQwKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9ZC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIERlc2NyaXB0b3JzKGUsdCxyKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsRGVzY3JpcHRvcnMpLCFlKXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgdXJsIHRvIGJlIHVzZWQiKTtpZighdCl0aHJvdyBFcnJvcigiVGhlIGRlc2NyaXB0b3IgbmVlZHMgdGhlIGNhdGFsb2d1ZSBpbnN0YW5jZSIpO2lmKCFyKXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkcyB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uIik7dGhpcy5sb2c9cCx0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPXIsdGhpcy5ydW50aW1lVVJMPWUsdGhpcy5jYXRhbG9ndWU9dCx0aGlzLmNvbnN0cmFpbnRzPWYucnVudGltZVV0aWxzLnJ1bnRpbWVDYXBhYmlsaXRpZXN9cmV0dXJuKDAsdS5kZWZhdWx0KShEZXNjcmlwdG9ycyxbe2tleToiZ2V0SHlwZXJ0eURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNhdGFsb2d1ZS5nZXRIeXBlcnR5RGVzY3JpcHRvcihlLCEwLHRoaXMuY29uc3RyYWludHMpfX0se2tleToiZ2V0U3R1YkRlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT12b2lkIDAsbz12b2lkIDAscz12b2lkIDAsYT0oMCxjLmRpdmlkZVVSTCkodC5ydW50aW1lVVJMKSx1PWEuZG9tYWluO2lmKGUuaW5jbHVkZXMoIjovLyIpKXt2YXIgZj0oMCxjLmRpdmlkZVVSTCkoZSk7aT1mLmRvbWFpbjt2YXIgbD1mLmlkZW50aXR5O289bD9sLnN1YnN0cmluZyhsLmxhc3RJbmRleE9mKCIvIikrMSk6ImRlZmF1bHQifWVsc2Ugbz0iZGVmYXVsdCIsaT1lO2lmKHM9KDAsYy5idWlsZFVSTCkodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIsbyksaSE9PXQucnVudGltZUNvbmZpZ3VyYXRpb24uZG9tYWluKWlmKGUuaW5kZXhPZigiaHR0cHMiKSYmZS5pbmRleE9mKCJoeXBlcnR5LWNhdGFsb2d1ZSIpKXsKLy8gVE9ETzogY2hlY2sgaG93IHRvIGxvYWQgZm9ybSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBkb21haW4KdmFyIGQ9KDAsYy5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIik7cz1kLnByZWZpeCtpK2Quc3VmZml4K299ZWxzZSBzPWU7cmV0dXJuIHAubG9nKCJMb2FkIFByb3RvY29sU3R1YiBmb3IgZG9tYWluLCAiK2krIiA6ICIscyksdC5jYXRhbG9ndWUuZ2V0U3R1YkRlc2NyaXB0b3IocywhMCx0LmNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnRXJyb3I6ICcsIGVycm9yKTsKbz1pLGk9dTt2YXIgcj0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiKTsKLy8gbG9nLmxvZygnRmFsbGJhY2sgLT4gTG9hZCBQcm90b2NvbHN0dWIgZm9yIGRvbWFpbiwgJyArIGRvbWFpbiArICcgOiAnLCBwcm90b3N0dWIpOwpyZXR1cm4gcz1yLnByZWZpeCtpK3Iuc3VmZml4K28sdC5jYXRhbG9ndWUuZ2V0U3R1YkRlc2NyaXB0b3IocywhMCx0LmNvbnN0cmFpbnRzKX0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiZ2V0SWRwUHJveHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9dm9pZCAwLG89dm9pZCAwLHM9KDAsYy5kaXZpZGVVUkwpKHQucnVudGltZVVSTCksYT1zLmRvbWFpbix1PXQuY29uc3RyYWludHM7aWYodS5vbmx5QWNjZXNzVG9rZW49ITAsdS5vbmx5SWRBc3NlcnRpb25WYWxpZGF0aW9uPSEwLGUuaW5jbHVkZXMoIjovLyIpKXt2YXIgZj0oMCxjLmRpdmlkZVVSTCkoZSk7aT1mLmRvbWFpbjt2YXIgbD1mLmlkZW50aXR5O289bD9sLnN1YnN0cmluZyhsLmxhc3RJbmRleE9mKCIvIikrMSk6ImRlZmF1bHQifWVsc2Ugbz0iZGVmYXVsdCIsaT1lO3ZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsImlkcFByb3h5Iik7Ci8vIGxvZy5sb2coJ0xvYWQgSWRwIFByb3h5IGZvciBkb21haW4sICcgKyBkb21haW4gKyAnIDogJywgaWRwUHJveHlVUkwpOwpyZXR1cm4gZT1kLnByZWZpeCtpK2Quc3VmZml4K28sdC5jYXRhbG9ndWUuZ2V0SWRwUHJveHlEZXNjcmlwdG9yKGUsITAsdSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oKXsKLy8gbG9nLmxvZygnTG9hZCBJZHAgUHJveHkgZm9yIGRvbWFpbiwgJyArIGRvbWFpbiArICcgOiAnLCBpZHBQcm94eVVSTCk7CnJldHVybiBvPWksaT1hLGU9KDAsYy5idWlsZFVSTCkodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsImlkcFByb3h5IixvKSx0LmNhdGFsb2d1ZS5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSwhMCx1KX0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX1dKSxEZXNjcmlwdG9yc30oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPShyKDIwMSkscig3KSksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlJ1bnRpbWVVQSIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNc2dCdXNIYW5kbGVycyhlLHQscil7aWYoKDAsaS5kZWZhdWx0KSh0aGlzLE1zZ0J1c0hhbmRsZXJzKSwhZSl0aHJvdyBFcnJvcigiW01zZ0J1c0hhbmRsZXJzXSBwZXAgaW5wdXQgcGFyYW1lbnRlciBpcyBtYW5kYXRvcnkiKTtpZighdCl0aHJvdyBFcnJvcigiW01zZ0J1c0hhbmRsZXJzXSBpZG0gaW5wdXQgcGFyYW1lbnRlIGlzIG1hbmRhdG9yeSIpO2lmKCFyKXRocm93IEVycm9yKCJbTXNnQnVzSGFuZGxlcnNdIGNyeXB0byBpbnB1dCBwYXJhbWVudGUgaXMgbWFuZGF0b3J5Iik7dGhpcy5wb2xpY3lFbmdpbmU9ZSx0aGlzLmlkZW50aXR5TWFuYWdlcj10LHRoaXMuY3J5cHRvTWFuYWdlcj1yfQovLyBQb2xpY3kgYmFzZWQgYWNjZXNzIGNvbnRyb2wgZm9yIGluY29taW5nIG1lc3NhZ2VzCnJldHVybigwLHMuZGVmYXVsdCkoTXNnQnVzSGFuZGxlcnMsW3trZXk6InBlcEluSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5wb2xpY3lFbmdpbmUuYXV0aG9yaXNlKHQubXNnLCEwKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6InBlcE91dEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucG9saWN5RW5naW5lLmF1dGhvcmlzZSh0Lm1zZywhMSkudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJpZG1IYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLmlkZW50aXR5TWFuYWdlci5wcm9jZXNzTWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJlbmNyeXB0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5jcnlwdG9NYW5hZ2VyLmVuY3J5cHRNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6ImRlY3J5cHRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLmNyeXB0b01hbmFnZXIuZGVjcnlwdE1lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2Mud2FybihlKSx0LmZhaWwoZSl9KX19fV0pLE1zZ0J1c0hhbmRsZXJzfSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ5NyksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1pLmRlZmF1bHQsLy8gbGV0IEdyYXBoQ29ubmVjdG9yOwovLyBpZiAocHJvY2Vzcy5lbnYuTU9ERSAhPT0gJ2xpZ2h0JykgewovLyAgIEdyYXBoQ29ubmVjdG9yID0gcmVxdWlyZSgnLi9HcmFwaENvbm5lY3RvckJhc2UnKTsKLy8gICBpZiAoR3JhcGhDb25uZWN0b3IgJiYgR3JhcGhDb25uZWN0b3IuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSkgR3JhcGhDb25uZWN0b3IgPSBHcmFwaENvbm5lY3Rvci5kZWZhdWx0OwovLyB9IGVsc2UgewovLyAgIEdyYXBoQ29ubmVjdG9yID0gcmVxdWlyZSgnLi9HcmFwaENvbm5lY3RvckxpZ2h0Jyk7Ci8vICAgaWYgKEdyYXBoQ29ubmVjdG9yICYmICBHcmFwaENvbm5lY3Rvci5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpKSBHcmFwaENvbm5lY3RvciA9IEdyYXBoQ29ubmVjdG9yLmRlZmF1bHQ7Ci8vIH0KLyoqCiAqIFRoZSBHcmFwaENvbm5lY3RvckJhc2UgaGF2ZSBzb21lIHByb2JsZW1zIHdpdGggdGhlIHNpemU7CiAqIEBkZXByZWNhdGVkIER1ZSB0byBzb21lIHByb2JsZW1zIGluY3JlYXNlIGEgbG90IHRoZSBmaWxlIHNpemUKICovCi8vIGltcG9ydCBHcmFwaENvbm5lY3RvciBmcm9tICcuL0dyYXBoQ29ubmVjdG9yQmFzZSc7Ci8qKgogKgogKiBAZXhwZXJpbWVudGFsIHVzZWQgaW5zdGVhZCBvZiBHcmFwaENvbm5lY3RvckJhc2U7CiAqLwplLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksbz1mdW5jdGlvbiBHcmFwaENvbm5lY3RvcihlLHQscil7KDAsaS5kZWZhdWx0KSh0aGlzLEdyYXBoQ29ubmVjdG9yKX07dC5kZWZhdWx0PW8sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDk4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cigxNCksZD1mLmdldExvZ2dlcigiQ29yZURpc2NvdmVyeSIpLHA9ZnVuY3Rpb24oKXsvKioKICAqIFRvIGluaXRpYWxpc2UgdGhlIERpc2NvdmVyeSwgd2hpY2ggd2lsbCBwcm92aWRlIHRoZSBzdXBwb3J0IGZvciBoeXBlcnRpZXMgdG8KICAqIHF1ZXJ5IHVzZXJzIHJlZ2lzdGVyZWQgaW4gb3V0c2lkZSB0aGUgaW50ZXJuYWwgY29yZS4KICAqIEBwYXJhbSAge01lc3NhZ2VCdXN9ICAgICAgICAgIG1zZ2J1cyAgICAgICAgICAgICAgICBtc2didXMKICAqIEBwYXJhbSAge1J1bnRpbWVVUkx9ICAgICAgICAgIHJ1bnRpbWVVUkwgICAgICAgICAgICBydW50aW1lVVJMCiAgKiBAcGFyYW0gIHtncmFwaENvbm5lY3Rvcn0gICAgZ3JhcGhDb25uZWN0b3IKICAqLwpmdW5jdGlvbiBDb3JlRGlzY292ZXJ5KGUsdCxyLG4saSl7aWYoKDAscy5kZWZhdWx0KSh0aGlzLENvcmVEaXNjb3ZlcnkpLCFuKXRocm93IEVycm9yKCJUaGUgY2F0YWxvZ3VlIG5lZWRzIHRoZSBydW50aW1lRmFjdG9yeSIpO3ZhciBvPXRoaXM7dGhpcy5fbWVzc2FnZUJ1cz10LG8uZ3JhcGhDb25uZWN0b3I9cixvLmh0dHBSZXF1ZXN0PW4uY3JlYXRlSHR0cFJlcXVlc3QoKSxvLmRvbWFpbj0oMCxsLmRpdmlkZVVSTCkoZSkuZG9tYWluLG8uZGlzY292ZXJ5VVJMPWUrIi9kaXNjb3ZlcnkvIixvLnJlZ2lzdHJ5PWksby5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKG8uZGlzY292ZXJ5VVJMLGZ1bmN0aW9uKGUpe28uZGlzY292ZXJ5TWFuYWdlcihlKS50aGVuKGZ1bmN0aW9uKHQpewovL0ZMT1ctT1VUOiBtZXNzYWdlIHJlc3BvbnNlCm8ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTp0fX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwLG49dm9pZCAwOyJHcmFwaENvbm5lY3RvciI9PT10PyhyPSJUaGlzIHNlYXJjaCBpcyBub3QgYXZhaWxhYmxlIGF0IHRoZSBtb21lbnQuIFRyeSBsYXRlci4iLG49NTAwKToocj0iTm90IEZvdW5kIixuPTQwNCksCi8vRkxPVy1PVVQ6IGVycm9yIG1lc3NhZ2UgcmVzcG9uc2UKby5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixkZXNjcmlwdGlvbjpyfX0pfSl9KX0vKioKICAgKiBSZXR1cm5zIHRoZSBNZXNzYWdlQnVzLgogICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKENvcmVEaXNjb3ZlcnksW3trZXk6ImRpc2NvdmVyeU1hbmFnZXIiLC8qIGZ1bmN0aW9uIHRvIGRlY2lkZSB3aGF0IGRpc2NvdmVyeSBtZXRob2QgdG8gY2FsbCBhbmQgbGF0ZXIgcmV0dXJuIHRoZSByZXNwb25zZSBtc2cgICovCnZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oKDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluLGUuYm9keS5yZXNvdXJjZS5zcGxpdCgiLyIpLmZpbHRlcihCb29sZWFuKSksbj1bXSxvPVtdO3N3aXRjaChkLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJ5TWFuYWdlcl0gcmVjZWl2ZWQ6ICIsZSksZS5ib2R5LmNyaXRlcmlhJiYoZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyYmKG49ZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyksZS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzJiYobz1lLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXMpKSxyWzFdKXtjYXNlInVzZXIiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxvLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxvLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJ1cmwiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTp0LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlIm5hbWUiOnJldHVybiB0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgibmFtZS8iKVsxXSxvLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJyZXBvcnRlciI6cmV0dXJuIHQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgicmVwb3J0ZXIvIilbMV0sbyxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UiZ3VpZCI6cmV0dXJuIHZvaWQgMCE9PXQuZ3JhcGhDb25uZWN0b3ImJm51bGwhPT10LmdyYXBoQ29ubmVjdG9yPyJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLG8sbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLG8sbik6aS5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKTtjYXNlInVzZXJwcm9maWxlIjpyZXR1cm4gdm9pZCAwIT09dC5ncmFwaENvbm5lY3RvciYmbnVsbCE9PXQuZ3JhcGhDb25uZWN0b3I/Imh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VycHJvZmlsZS8iKVsxXSxvLG4pOnQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXJwcm9maWxlLyIpWzFdLG8sbik6aS5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKX19fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obyxzKXsKLy90cmFuc2xhdGUgdXNlciBpZGVudGlmaWVyIChlLmcuIGVtYWlsLCBuYW1lLi4uKSBpbnRvIHRoZSBhc3NvY2lhdGVkIEdVSURzCm4uZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKFtdKX0pfSl9KTtpLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gaHlwZXJ0aWVzIHdlcmUgZm91bmQiKTtvKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyVXNlclByb2ZpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihvLHMpewovL3RyYW5zbGF0ZSB1c2VyIGlkZW50aWZpZXIgKGUuZy4gZW1haWwsIG5hbWUuLi4pIGludG8gdGhlIGFzc29jaWF0ZWQgR1VJRHMKbi5kaXNjb3ZlckdVSURQZXJVc2VySWRlbnRpZmllcihlKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBhPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRChlLHQscikudGhlbihmdW5jdGlvbihlKXtpKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShbXSl9KX0pfSk7aS5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHMoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTtvKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlckdVSUQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7Ci8vdHJhbnNsYXRlIEdVSUQgaW50byB0aGUgdXNlciBJRHMgdG8gcXVlcnkgdGhlIGRvbWFpbiByZWdpc3RyeQpuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXsKLy90cmFuc2xhdGUgdXNlciBJRHMgaW50byB0aGUgYXNzb2NpYXRlZCBoeXBlcnRpZXMgcmVnaXN0ZXJlZCBpbiBzb21lIGRvbWFpbgp2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uZGlzY292ZXJIeXBlcnRpZXMoZS51SUQsdCxyLGUuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKFtdKX0pfSl9KTtpLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gaHlwZXJ0aWVzIHdlcmUgZm91bmQiKTsKLy8gbG9nLmxvZygnSHlwZXJ0aWVzIDogJywgaHlwZXJ0aWVzKTsKbyh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7Ci8vdHJhbnNsYXRlIEdVSUQgaW50byB0aGUgdXNlciBJRHMgdG8gcXVlcnkgdGhlIGRvbWFpbiByZWdpc3RyeQpuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXsKLy90cmFuc2xhdGUgdXNlciBJRHMgaW50byB0aGUgYXNzb2NpYXRlZCBkYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIHNvbWUgZG9tYWluCnZhciBhPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5kaXNjb3ZlckRhdGFPYmplY3RzKGUudUlELHQscixlLmRvbWFpbikudGhlbihmdW5jdGlvbihlKXtpKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShbXSl9KX0pfSk7aS5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHMoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTsKLy8gbG9nLmxvZygnRGF0YU9iamVjdHMgOiAnLCBkYXRhT2JqZWN0cyk7Cm8odCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bnx8by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcyxib2R5Ont9fTtyZXR1cm4gZS5pbmRleE9mKCJ1c2VyOi8vIik+LTE/YS5ib2R5LnJlc291cmNlPWU6YS5ib2R5LnJlc291cmNlPSIvaHlwZXJ0eS9pZHAtaWRlbnRpZmllci8iK2UsdC5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzPXQpLHIubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWF8fChhLmJvZHkuY3JpdGVyaWE9e30pLGEuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpewovLyBsb2cubG9nKCJbQ29yZURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc10gc2VuZGluZyBtc2cgIiwgbXNnKTsKby5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7Ci8vIGxvZy5sb2coIltDb3JlRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSByY3ZlZCByZXBseSAiLCByZXBseSk7CmlmKDIwMCE9PXIuYm9keS5jb2RlJiY1MDAhPT1yLmJvZHkuY29kZSlyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTt2YXIgbj1yLmJvZHkudmFsdWUsaT1bXTtmb3IodmFyIG8gaW4gbilpLnB1c2gobltvXSk7aWYoIShpLmxlbmd0aD4wKSlyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTsKLy8gbG9nLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIEh5cGVydGllcyBGb3VuZDogIiwgZmluYWxIeXBlcnRpZXMpOwplKGkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDAsYT1bXTtyZXR1cm4gcz1ufHxvLmRvbWFpbixuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4sdSl7Ci8vdHJhbnNsYXRlIHVzZXIgaWRlbnRpZmllciAoZS5nLiBlbWFpbCwgbmFtZS4uLikgaW50byB0aGUgYXNzb2NpYXRlZCBoeXBlcnRpZXMKby5kaXNjb3Zlckh5cGVydGllcyhlLFtdLFtdLHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGM9W107Zm9yKHZhciBmIGluIGUpYy5wdXNoKGVbZl0pOy8vdHJhbnNsYXRlIGh5cGVydGllcyBVUkxzIGludG8gdGhlIGFzc29jaWF0ZWQgZGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBzb21lIGRvbWFpbgp2YXIgbD1jLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe28uZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKGUuaHlwZXJ0eUlELHQscixzKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKFtdKX0pfSl9KTtpLmRlZmF1bHQuYWxsKGwpLnRoZW4oZnVuY3Rpb24oZSl7W10uY29uY2F0LmFwcGx5KFtdLGUpLmZvckVhY2goZnVuY3Rpb24oZSl7YS5wdXNoKGUpfSk7dmFyIHQ9W107Zm9yKHZhciByIGluIGEpdC5wdXNoKGFbcl0pO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdSgiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpOwovLyBsb2cubG9nKCdEYXRhT2JqZWN0cyBGb3VuZDogJywgZmluYWxEYXRhT2JqZWN0cyk7Cm4odCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB1KGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0eVBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXtpZigyMDAhPT1yLmJvZHkuY29kZSYmNTAwIT09ci5ib2R5LmNvZGUpcmV0dXJuIHQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik7dmFyIG49ci5ib2R5LnZhbHVlO2lmKCFuKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpOwovLyBsb2cubG9nKCdIeXBlcnR5IGZvdW5kOiAnLCBoeXBlcnR5KTsKZShuKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlO2lmKCFuKXJldHVybiB0KCJEYXRhT2JqZWN0IG5vdCBmb3VuZCIpOwovLyBsb2cubG9nKCdEYXRhT2JqZWN0IGZvdW5kOiAnLCBkYXRhT2JqZWN0KTsKZShuKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMDtzPW58fG8uZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MsYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiB0Lmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLGk9W107Zm9yKHZhciBvIGluIG4paS5wdXNoKG5bb10pO2lmKCEoaS5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIik7Ci8vIGxvZy5sb2coIkRhdGFPYmplY3RzIEZvdW5kOiAiLCBmaW5hbERhdGFPYmplY3RzKTsKZShpKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDA7cz1ufHxvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzLGJvZHk6e3Jlc291cmNlOiIvY29tbSIsY3JpdGVyaWE6e3JlcG9ydGVyOmV9fX07cmV0dXJuIHQubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZSxpPVtdO2Zvcih2YXIgbyBpbiBuKWkucHVzaChuW29dKTtpZighKGkubGVuZ3RoPjApKXJldHVybiB0KCJObyBEYXRhT2JqZWN0IHdhcyBmb3VuZCIpOwovLyBsb2cubG9nKCJEYXRhT2JqZWN0cyBGb3VuZDogIiwgZmluYWxEYXRhT2JqZWN0cyk7CmUoaSl9KX0pfX0se2tleToiZGlzY292ZXJVc2VySWRzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pewovLyBsb2cubG9nKCJHTyBncmFwaENvbm5lY3RvcjoiLCBndWlkKTsKdC5ncmFwaENvbm5lY3Rvci5xdWVyeUdsb2JhbFJlZ2lzdHJ5KGUpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ0luZm9ybWF0aW9uIHJldHVybmVkIGZyb20gR2xvYmFsIFJlZ2lzdHJ5OiAnLCBncmFwaENvbm5lY3RvckNvbnRhY3REYXRhKTsKaWYoInN0cmluZyI9PXR5cGVvZiBlfHwhZSlyZXR1cm4gbigiVW5zdWNjZXNzZnVsIGRpc2NvdmVyIHVzZXJJRHMgYnkgR1VJRCIpO3ZhciB0PWUudXNlcklEcztpZigwPT09dC5sZW5ndGgpcmV0dXJuIG4oIlVzZXJJRHMgbm90IGF2YWlsYWJsZSIpO3IodCl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckdVSURQZXJVc2VySWRlbnRpZmllciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuaHR0cFJlcXVlc3QuZ2V0KCJodHRwczovL3JldGhpbmsudGxhYnNjbG91ZC5jb20vZGlzY292ZXJ5L3Jlc3QvZGlzY292ZXIvbG9va3VwP3NlYXJjaHF1ZXJ5PSIrZSkudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnZGlzY292ZXIgR1VJRCBieSB1c2VyIGlkZW50aWZpZXInLCBqc29uKTsKdmFyIHQ9SlNPTi5wYXJzZShlKSxpPXQucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZS5yZXRoaW5rSUR9KTtpZigwPT09aS5sZW5ndGgpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciBHVUlEIGJ5IHVzZXIgaWRlbnRpZmllciIpO3ZhciBvPWkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldGhpbmtJRH0pO3JldHVybiByKG8pfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coIkhUVFAgUmVxdWVzdCBlcnJvcjogIiwgZXJyKTsKcmV0dXJuIG4oZSl9KX0pfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fV0pLENvcmVEaXNjb3Zlcnl9KCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDk5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjA5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDM3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDkpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoOTgpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoOTYpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoMSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigyKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDcpLGI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxtPXIoMTQpLF89Yi5nZXRMb2dnZXIoIkRhdGFPYmplY3RzU3RvcmFnZSIpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEYXRhT2JqZWN0c1N0b3JhZ2UoZSx0KXtpZigoMCx5LmRlZmF1bHQpKHRoaXMsRGF0YU9iamVjdHNTdG9yYWdlKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTdG9yZSBEYXRhIE9iamVjdHNdIC0gTmVlZHMgdGhlIHN0b3JhZ2VNYW5hZ2VyIGNvbXBvbmVudCIpO3RoaXMuX3N0b3JhZ2VNYW5hZ2VyPWUsdGhpcy5fc3RvcmVEYXRhT2JqZWN0PXQsdGhpcy5fY2FjaGU9e319LyoqCiAgICogQGRlc2NyaXB0aW9uIHNob3VsZCBzZXQgdGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIGRhdGFPYmplY3RVUkwgdG8gYmUgcmVzdW1lZCBpZiBuZWNlc3Nhcnk7CiAgICoKICAgKiBAcGFyYW0ge0RhdGFPYmplY3RVUkx9IHVybCAtIGRhdGFPYmplY3RVUkwgdG8gYmUgc2F2ZWQ7CiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JlcG9ydGVyIC0gdGhlIG9iamVjdCB0byBiZSBzYXZlZCBpcyBhIHJlcG9ydGVyCiAgICogQHBhcmFtIHtTY2hlbWFVUkx9IHNjaGVtYSAtIHRoZSBzY2hlbWEgdXJsCiAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXR1cyAtIHRoZSBzdGF0dXMgb2YgY3VycmVudCBkYXRhT2JqZWN0CiAgICogQHBhcmFtIHtIeXBlcnR5VVJMfSByZXBvcnRlciAtIHRoZSBSZXBvcnRlciBoeXBlcnR5VVJMCiAgICogQHBhcmFtIHtBcnJheTxIeXBlcnR5VVJMPn0gc3Vic2NyaXB0aW9uIC0gbGlzdCBvZiBzdWJzY3JpcHRpb25zCiAgICogQHBhcmFtIHtBcnJheTxEYXRhT2JqZWN0Q2hpbGQ+fSBjaGlsZHJlbiAtIGxpc3Qgb2YgY2hpbGRzIG9mIGRhdGFPYmplY3RVUkwKICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IGNoaWxkcmVucyAtIGxpc3Qgb2YgY2hpbGRyZW5zLCBsaWtlLCAnY2hhdG1lc3NhZ2UnOwogICAqIEBwYXJhbSB7QXJyYXk8VXNlclVSTH0gc3Vic2NyaWJlclVzZXIgLSBsaXN0IG9mIHN1YnNjcmliZWQgdXNlcnM7CiAgICovCnJldHVybigwLHYuZGVmYXVsdCkoRGF0YU9iamVjdHNTdG9yYWdlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0b3JlRGF0YU9iamVjdCxyPXRoaXMuX2dldFR5cGVPZk9iamVjdChlLmlzUmVwb3J0ZXIpOy8vIFRPRE86ZG8gd2UgbmVlZCB0aGlzPwovLyBUT0RPOmRvIHdlIG5lZWQgdGhpcz8KLyppZiAoc2NoZW1hKSBzdG9yZURhdGFPYmplY3RbdHlwZV1bbWV0YWRhdGEudXJsXS5zY2hlbWEgPSBzY2hlbWE7CiAgICAgIGlmIChzdGF0dXMpIHN0b3JlRGF0YU9iamVjdFt0eXBlXVttZXRhZGF0YS51cmxdLnN0YXR1cyA9IHN0YXR1czsKICAgICAgaWYgKGNoaWxkcmVuUmVzb3VyY2VzKSBzdG9yZURhdGFPYmplY3RbdHlwZV1bbWV0YWRhdGEudXJsXS5jaGlsZHJlblJlc291cmNlcyA9IGNoaWxkcmVuUmVzb3VyY2VzOyovCi8vIFRPRE86IGRvIHdlIG5lZWQgdGhpcz8KLy9zdG9yZURhdGFPYmplY3RbdHlwZV1bbWV0YWRhdGEudXJsXS5vd25lciA9IG93bmVyOwpyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09e30pLHRbcl0uaGFzT3duUHJvcGVydHkoZS51cmwpfHwodFtyXVtlLnVybF09e30sdFtyXVtlLnVybF0uc3Vic2NyaXB0aW9ucz1bXSx0W3JdW2UudXJsXS5zdWJzY3JpYmVyVXNlcnM9W10sdFtyXVtlLnVybF0uY2hpbGRyZW5PYmplY3RzPXt9LHRbcl1bZS51cmxdLmRhdGE9e30pLCgwLGQuZGVmYXVsdCkodFtyXVtlLnVybF0sZSksZGVsZXRlIHRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2VyLGRlbGV0ZSB0W3JdW2UudXJsXS5zdWJzY3JpYmVySHlwZXJ0eSxlLnN1YnNjcmliZXJIeXBlcnR5JiYhZS5pc1JlcG9ydGVyJiZ0aGlzLl91cGRhdGVUb0FycmF5KHRbcl0sZS51cmwsInN1YnNjcmlwdGlvbnMiLGUuc3Vic2NyaWJlckh5cGVydHkpLGUuc3Vic2NyaWJlclVzZXImJnRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2Vycy5pbmRleE9mKGUuc3Vic2NyaWJlclVzZXIpJiZ0aGlzLl91cGRhdGVUb0FycmF5KHRbcl0sZS51cmwsInN1YnNjcmliZXJVc2VycyIsZS5zdWJzY3JpYmVyVXNlciksdGhpcy5fc3RvcmVEYXRhT2JqZWN0PXQsdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLHQpLHRbcl1bZS51cmxdfX0se2tleToic2F2ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxvPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighaXx8IWlbb118fCFpW29dW3RdKXJldHVybiB2b2lkIF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmUgZGF0YV0gLSBub3Qgc2F2ZWQiKTtpZihfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBzYXZlRGF0YV0gLSAiLGUsbyx0LHIsbiksaVtvXVt0XS5oYXNPd25Qcm9wZXJ0eSgiZGF0YSIpfHwoaVtvXVt0XS5kYXRhPXt9KSxyKXt2YXIgcz12b2lkIDA7cz0ib2JqZWN0Ij09PSh2b2lkIDA9PT1uPyJ1bmRlZmluZWQiOigwLGYuZGVmYXVsdCkobikpPygwLG0uZGVlcENsb25lKShuKTpuLCgwLG0uYXNzaWduKShpW29dW3RdLmRhdGEscixzKX1lbHNlIGlbb11bdF0uZGF0YT0oMCxtLmRlZXBDbG9uZSkobil8fHt9O3JldHVybiB0aGlzLl9zdG9yZURhdGFPYmplY3Q9aSx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksaVtvXVt0XX19LHtrZXk6InNhdmVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxvPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtyZXR1cm4gaSYmaVtvXSYmaVtvXVt0XT8oaVtvXVt0XS5oYXNPd25Qcm9wZXJ0eSgiY2hpbGRyZW5zIil8fChpW29dW3RdLmNoaWxkcmVuT2JqZWN0cz17fSkscj8oMCxtLmFzc2lnbikoaVtvXVt0XS5jaGlsZHJlbk9iamVjdHMsciwoMCxtLmRlZXBDbG9uZSkobikpOmlbb11bdF0uY2hpbGRyZW5PYmplY3RzPSgwLG0uZGVlcENsb25lKShuKXx8e30sdGhpcy5fc3RvcmVEYXRhT2JqZWN0PWksdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLGlbb11bdF0pOnZvaWQgXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZSBjaGlsZHJlbnNdIC0gbm90IHNhdmVkIil9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxvPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighaXx8IWlbb118fCFpW29dW3RdKXJldHVybiB2b2lkIF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHVwZGF0ZV0gLSBub3Qgc2F2ZWQiKTtpZihfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSB1cGRhdGVdIC0gIixlLG8sdCxyLG4pLGlbb10mJmlbb11bdF0mJnQmJnImJm4pe2lmKCJzdWJzY3JpcHRpb25zIj09PXJ8fCJzdWJzY3JpYmVyVXNlcnMiPT09cil7dmFyIHM9ITA7InN1YnNjcmlwdGlvbnMiPT09ciYmKHM9IXRoaXMuX2lzT3duZXIoaVtvXVt0XSxuKSkscyYmdGhpcy5fdXBkYXRlVG9BcnJheShpW29dLHQscixuKX1lbHNlIGlbb11bdF1bcl09bjtyZXR1cm4gdGhpcy5fc3RvcmVEYXRhT2JqZWN0PWksdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLGlbb11bdF19fX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLl9zdG9yZURhdGFPYmplY3Qsbz10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZSk7cmV0dXJuIGkmJmlbb10mJmlbb11bdF0/aVtvXSYmaVtvXVt0XSYmdCYmciYmbj8oInN1YnNjcmlwdGlvbnMiPT09cnx8InN1YnNjcmliZXJVc2VycyI9PT1yP3RoaXMuX3JlbW92ZUZyb21BcnJheShpW29dLHQscixuKTpkZWxldGUgaVtvXVt0XVtyXSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9aSx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksaVtvXVt0XSk6dm9pZCAwOnZvaWQgXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gZGVsZXRlXSAtIG5vdCBzYXZlZCIpfX0se2tleToiZGVsZXRlUmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlKXJldHVybiB0LmdldEFsbCgpLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9KDAsZC5kZWZhdWx0KShuLHQuX3N0b3JlRGF0YU9iamVjdHx8e30pO3JldHVybiBpLmhhc093blByb3BlcnR5KCJvYnNlcnZlcnMiKSYmaS5vYnNlcnZlcnMuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSBpLm9ic2VydmVyc1tlXSx0Ll9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksdC5fc3RvcmVEYXRhT2JqZWN0PWkscihpLm9ic2VydmVyc1tlXSkpOmkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVycyIpJiZpLnJlcG9ydGVycy5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIGkucmVwb3J0ZXJzW2VdLHQuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSx0Ll9zdG9yZURhdGFPYmplY3Q9aSxyKGkucmVwb3J0ZXJzW2VdKSk6dm9pZCByKCJUaGUgIitlKyIgZG9zZW5cdCBleGlzdHMsIG5vdGhpbmcgd2FzIGRlbGV0ZWQiKX0pO24obmV3IEVycm9yKCJbU3RvcmVEYXRhT2JqZWN0c10gLSBDYW4ndCBkZWxldGUgdGhpcyAiK2UpKX0pfX0se2tleToiZ2V0QWxsIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yYWdlTWFuYWdlci5nZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKX19LHtrZXk6ImdldERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9zdG9yYWdlTWFuYWdlci5nZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPXQuaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpP3Qub2JzZXJ2ZXJzOnt9LG89dC5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIik/dC5yZXBvcnRlcnM6e30sYT0oMCxzLmRlZmF1bHQpKG8pLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSksdT0oMCxzLmRlZmF1bHQpKGkpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSksYz12b2lkIDA7cmV0dXJuIHUmJihjPXQub2JzZXJ2ZXJzW3VdKSxhJiYoYz10LnJlcG9ydGVyc1thXSksXy5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gZm9yIG9ic2VydmVyOiAiLHUpLF8uaW5mbygiW1N0b3JlRGF0YU9iamVjdHMgLSBnZXREYXRhT2JqZWN0XSAtIGZvciByZXBvcnRlcnM6ICIsYSksXy5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gcmVzb2x2ZTogIixjKSxjP3IoYyk6bigiTm8gZGF0YU9iamVjdCB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJnZXRSZXNvdXJjZXNCeUNyaXRlcmlhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIGk9ci5fZ2V0VHlwZU9mT2JqZWN0KHQpO3IuZ2V0QWxsKCkudGhlbihmdW5jdGlvbih0KXtpZighdClyZXR1cm4gXy5sb2coIltEYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYV0gZG9uJ3QgaGF2ZSBzdG9yZWQgZGF0YSBvYmplY3RzIiksbihudWxsKTtpZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIikmJiFlLmJvZHkucmVzdW1lKXJldHVybiBuKG51bGwpOwovLyBjaGVjayBpZiB0aGUgbWVzc2FnZSBoYXZlIG90aGVyIGNyaXRlcmlhCi8vIGlmIG5vdCBzZWFyY2ggZm9yIG9uIHRoZSAnZnJvbScgb2YgdGhlIG1lc3NhZ2UuCnZhciBvPVtdLHM9ci5faGFzU3Vic2NyaXB0aW9uKHRbaV0sZS5mcm9tKSxhPXIuX3NlYXJjaE93bmVyKHRbaV0sZS5mcm9tKTtpZihfLmxvZygiW1N0b3JlZERhdGFPYmplY3RzIC0gZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYV06Iix0LGUscyxhKSwhKGUuaGFzT3duUHJvcGVydHkoImZyb20iKSYmc3x8YSkpcmV0dXJuIG4obnVsbCk7dmFyIHU9dm9pZCAwO3U9YT9yLl9nZXRSZXNvdXJjZXNCeU93bmVyKHRbaV0sZS5mcm9tKTpyLl9nZXRSZXNvdXJjZXNCeVN1YnNjcmlwdGlvbih0W2ldLGUuZnJvbSk7dmFyIGM9W107ZS5ib2R5JiZlLmJvZHkuaWRlbnRpdHkmJihjPXIuX2dldFJlc291cmNlc0J5SWRlbnRpdHkodFtpXSxlLmJvZHkuaWRlbnRpdHkpKTsKLy9UT0RPOiByZW1vdmUgc2NoZW1hIHNpbmNlIG1ldGFkYXRhIGFscmVhZHkgaW5jbHVkZXMgdGhlIHNjaGVtYT8KdmFyIGY9W107ZS5ib2R5JiZlLmJvZHkuc2NoZW1hJiYoZj1yLl9nZXRSZXNvdXJjZXNCeVNjaGVtYSh0W2ldLGUuYm9keS5zY2hlbWEpKTt2YXIgbD1bXTtpZihlLmJvZHkmJmUuYm9keS52YWx1ZSl7dmFyIGQ9ZS5ib2R5LnZhbHVlO2RlbGV0ZSBkLmRhdGEsbD1yLl9nZXRSZXNvdXJjZXNCeU1ldGFkYXRhKHRbaV0sZCl9dmFyIHA9W107ZS5ib2R5JiZlLmJvZHkudmFsdWUmJmUuYm9keS52YWx1ZS5kYXRhJiYocD1yLl9nZXRSZXNvdXJjZXNCeURhdGEodFtpXSxlLmJvZHkudmFsdWUuZGF0YSkpLAovLyB5b3UgY2FuIHBhc3MgYXMgYXJyYXlzIGFzIHlvdSB3YW50Li4gaXQgd2lsbCBiZSBtZXJnZWQgaW4gb24gcGxhY2UKLy8gcmVtb3ZlZCBkdXBsaWNhdGVzOwpvPXIuX2ludGVyc2VjdGlvbih1LGMsZixwLGwpO3ZhciB5PXt9O28uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10W2ldW2VdO3JldHVybiB5W2VdPXIseX0pLF8ubG9nKCJbU3RvcmUgRGF0YSBPYmplY3RzXSAtICIseSksbih5KX0pfSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpYmVyVXNlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5T3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0ucmVwb3J0ZXI9PT10fSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaXB0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlTY2hlbWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuKDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtyZXR1cm4oMCxzLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ic2NoZW1hIj09PWUmJm5bZV09PT10fSkubGVuZ3RofSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlNZXRhZGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdO3JldHVybigwLHMuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpewovLyBzZWFyY2ggb24gc3RvcmVEYXRhT2JqZWN0cyBmb3Igc3BlY2lmaWMga2V5IHByb3ZpZGVkIGZyb20gZGF0YTsKcmV0dXJuKDAscy5kZWZhdWx0KSh0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGU9PT1yJiZuW2VdPT09dFtyXX0pLmxlbmd0aH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5RGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdLmhhc093blByb3BlcnR5KCJkYXRhIik/ZVtyXS5kYXRhOnt9O3JldHVybigwLHMuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpewovLyBzZWFyY2ggb24gc3RvcmVEYXRhT2JqZWN0cyBmb3Igc3BlY2lmaWMga2V5IHByb3ZpZGVkIGZyb20gZGF0YTsKcmV0dXJuKDAscy5kZWZhdWx0KSh0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGU9PT1yJiZuW2VdPT09dFtyXX0pLmxlbmd0aH0pLmxlbmd0aH0pOltdfX0se2tleToiX2hhc1N1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJigwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmlwdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pLmxlbmd0aD4wfX0se2tleToiX3NlYXJjaE93bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmKDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0ucmVwb3J0ZXI9PT10fSkubGVuZ3RoPjB9fSx7a2V5OiJfaXNPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJmUucmVwb3J0ZXI9PT10fX0se2tleToiX2ludGVyc2VjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0oMCxpLmRlZmF1bHQpKGFyZ3VtZW50cyksdD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLmZpbHRlcihmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KTtyZXR1cm4gXy5sb2coIkRhdGFPYmplY3RzU3RvcmFnZS5faW50ZXJzZWN0aW9uXSBSZXN1bHQgYW4gdW5pcXVlIGFycmF5IG9mIHN0cmluZ3M6ICIsdCksdH19LHtrZXk6Il91cGRhdGVUb0FycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtfLmxvZygiW0RhdGFPYmplY3RzU3RvcmFnZV0gLSBfdXBkYXRlVG9BcnJheTogIixlLHQscixuKSwtMT09PWVbdF1bcl0uaW5kZXhPZihuKSYmZVt0XVtyXS5wdXNoKG4pfX0se2tleToiX3JlbW92ZUZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZVt0XVtyXS5pbmRleE9mKG4pOy0xPT09aSYmZVt0XVtyXS5zcGxpY2UoaSwxKX19LHtrZXk6Il9oYXNWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpJiZlW3RdPT09cn19LHtrZXk6Il9nZXRUeXBlT2ZPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJyZXBvcnRlcnMiOiJvYnNlcnZlcnMifX1dKSxEYXRhT2JqZWN0c1N0b3JhZ2V9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTAwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDEyOCkscig1MDEpLGUuZXhwb3J0cz1yKDEzKS5BcnJheS5mcm9tfSwvKiA1MDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDY1KSxpPXIoMjEpLG89cig3Nikscz1yKDE5MiksYT1yKDE5MyksdT1yKDEzNCksYz1yKDUwMiksZj1yKDE5NCk7aShpLlMraS5GKiFyKDE5OSkoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIsewovLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCmZyb206ZnVuY3Rpb24oZSl7dmFyIHQscixpLGwsZD1vKGUpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx5PWFyZ3VtZW50cy5sZW5ndGgsaD15PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PWgsZz0wLGI9ZihkKTsKLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlCmlmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHxwPT1BcnJheSYmYShiKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IobD1iLmNhbGwoZCkscj1uZXcgcDshKGk9bC5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/cyhsLGgsW2kudmFsdWUsZ10sITApOmkudmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LC8qIDUwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDApLGk9cig3Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt0IGluIGU/bi5mKGUsdCxpKDAscikpOmVbdF09cn19LC8qIDUwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cig1MDQpLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZShlLHQscixuKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UpLCFyKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgc3RvcmFnZU1hbmFnZXIgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IHJ1bnRpbWVVUkwgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IGJ1cyBwYXJhbWV0ZXIgbWlzc2luZyIpO3ZhciBpPXRoaXM7aS5fYnVzPXQsaS5fc3RvcmFnZUxpbWl0PS45LC8vIHRoZSBzYXZlIHN0b3JhZ2VMaW1pdDsKaS5fdXJsPWUrIi9zdG9yYWdlIixpLl9zdG9yYWdlTWFuYWdlcj1yLGkucHJvbWlzZVF1ZXVlPW5ldyBoLmRlZmF1bHQsaS5faHlwZXJ0eVJlc291cmNlcz1uLHQuYWRkTGlzdGVuZXIoaS5fdXJsLGZ1bmN0aW9uKGUpe3N3aXRjaCh2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gTWVzc2FnZSBSQ1Y6ICIsZSksZS50eXBlKXtjYXNlImNyZWF0ZSI6aS5fb25DcmVhdGUoZSk7YnJlYWs7Y2FzZSJyZWFkIjppLl9vblJlYWQoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOmkuX29uRGVsZXRlKGUpfX0pfS8qKgogICAqIGNoZWNrIHRoZSBhdmFpbGFibGUgc3RvcmFnZSBxdW90YQogICAqCiAgICogQG1lbWJlcm9mIEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlCiAgICovCnJldHVybigwLGYuZGVmYXVsdCkoSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UsW3trZXk6ImNoZWNrU3RvcmFnZVF1b3RhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpZihlLl9hdmFpbGFibGVRdW90YSYmZS5fdXNhZ2UpcmV0dXJuIHQoKDAscC5hdmFpbGFibGVTcGFjZSkoZS5fdXNhZ2UsZS5fYXZhaWxhYmxlUXVvdGEpKTtuYXZpZ2F0b3ImJm5hdmlnYXRvci5zdG9yYWdlLmVzdGltYXRlKCkudGhlbihmdW5jdGlvbihyKXtlLl9hdmFpbGFibGVRdW90YT1yLnF1b3RhLGUuX3VzYWdlPXIudXNhZ2UsdCgoMCxwLmF2YWlsYWJsZVNwYWNlKShlLl91c2FnZSxlLl9hdmFpbGFibGVRdW90YSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7di5lcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlXSBDaGVja1N0b3JhZ2VRdW90YSBlcnJvcjogIixlKSxyKGUpfSl9KX19LHtrZXk6Il9vbkNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5fHwhZS5ib2R5LnZhbHVlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkNyZWF0ZV0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSB2YWx1ZSBtaXNzaW5nOiAiLGUpO3ZhciByPWUuYm9keS52YWx1ZSxuPXIuY29udGVudFVSTCxpPSIiO2lmKG4pe3ZhciBvPW5bMF0scz1vLnN1YnN0cihvLmxhc3RJbmRleE9mKCIvIikrMSk7aT10Ll91cmwrIi8iK3N9ZWxzZSBuPVtdLGk9dC5fdXJsKyIvIisoMCxwLmdlbmVyYXRlR1VJRCkoKTt0Ll9oeXBlcnR5UmVzb3VyY2VzLmhhc093blByb3BlcnR5KGkpfHwobi5wdXNoKGkpLHIuY29udGVudFVSTD1uKSx0aGlzLl9oeXBlcnR5UmVzb3VyY2VzW2ldPXIsdGhpcy5wcm9taXNlUXVldWUuYWRkKHRoaXMuX3RvU2F2ZShpLGUscikpfX0se2tleToiX3RvU2F2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXt2YXIgcz1mdW5jdGlvbihyKXt2YXIgaT17ZnJvbTp0LnRvLHRvOnQuZnJvbSxpZDp0LmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont2YWx1ZTplLGNvZGU6NTAwLGRlc2NyaXB0aW9uOnJ9fTtyZXR1cm4gbi5fYnVzLnBvc3RNZXNzYWdlKGkpLG8ocil9O24uY2hlY2tTdG9yYWdlUXVvdGEoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKHIuc2l6ZT5lLnF1b3RhKXt2YXIgdD0iVGhlIHN0b3JhZ2UgZG8gbm90IGhhdmUgc3BhY2UgdG8gc3RvcmUgdGhhdCByZXNvdXJjZSI7dGhyb3cgcyh0KSxFcnJvcih0KX12YXIgaT1lLnF1b3RhLG89ZS51c2FnZStyLnNpemU7cmV0dXJuIShlLnBlcmNlbnQ+PW4uX3N0b3JhZ2VMaW1pdHx8bz5pKXx8bi5fZ2V0T2xkZXJSZXNvdXJjZXMoci5zaXplKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmFnZU1hbmFnZXIuc2V0KGUsMSxyKX0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgcj17ZnJvbTp0LnRvLHRvOnQuZnJvbSxpZDp0LmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont2YWx1ZTplLGNvZGU6MjAwfX07cmV0dXJuIG4uX2J1cy5wb3N0TWVzc2FnZShyKSx2LmxvZygiU3VjY2VzcyIpLGkoKX0pLmNhdGNoKHMpfSl9fSx7a2V5OiJfZ2V0T2xkZXJSZXNvdXJjZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9zdG9yYWdlTWFuYWdlci5nZXQoKS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBhPSgwLGkuZGVmYXVsdCkobyksdT0wLGM9YS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG9bZV0uY3JlYXRlZDxvW3RdLmNyZWF0ZWR9KS5yZWR1Y2UoZnVuY3Rpb24ocixuKXt2YXIgaT10Ll9oeXBlcnR5UmVzb3VyY2VzW25dO3JldHVybiB2LmxvZygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlXSBfZ2V0T2xkZXJSZXNvdXJjZXM6ICIsdSxlLG4sdC5fYXZhaWxhYmxlUXVvdGEpLHU8PWUmJih1Kz1pLnNpemUsci5wdXNoKG4pKSxyfSxbXSksZj1jLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc3RvcmFnZU1hbmFnZXIuZGVsZXRlKGUpfSk7cy5kZWZhdWx0LmFsbChmKS50aGVuKGZ1bmN0aW9uKCl7cighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX0pfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5fHwhZS5ib2R5LnJlc291cmNlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vblJlYWRdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgcmVzb3VyY2UgbWlzc2luZzogIixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont9fTsKLy8gbGV0IGNvbnRlbnQgPSBfdGhpcy5faHlwZXJ0eVJlc291cmNlc1tjb250ZW50VXJsXTsKdi5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uUmVhZF0gZ2V0IHJlc291cmNlVVJMOiIsciksdGhpcy5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXNvdXJjZVVSTCIscikudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBmb3VuZCBjb250ZW50OiIsZSksZT8iZmlsZSI9PT1lLnJlc291cmNlVHlwZT90Ll9vblJlYWRGaWxlKG4sZSk6KG4uYm9keS5jb2RlPTIwMCxuLmJvZHkucDJwPSEwLG4uYm9keS52YWx1ZT1lLHQuX2J1cy5wb3N0TWVzc2FnZShuKSk6KG4uYm9keS5jb2RlPTQwNCxuLmJvZHkuZGVzYz0iQ29udGVudCBOb3QgRm91bmQgZm9yICIrcix0Ll9idXMucG9zdE1lc3NhZ2UobikpfSl9fSx7a2V5OiJfb25SZWFkRmlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49bmV3IEZpbGVSZWFkZXI7aWYobi5vbmxvYWQ9ZnVuY3Rpb24obil7di5pbmZvKCJbRmlsZUh5cGVydHlSZXNvdXJjZS5pbml0XSBmaWxlIGxvYWRlZCAiLG4pLGUuYm9keS5jb2RlPTIwMCxlLmJvZHkucDJwPSEwLGUuYm9keS52YWx1ZT0oMCxwLmRlZXBDbG9uZSkodCksZS5ib2R5LnZhbHVlLmNvbnRlbnQ9bi50YXJnZXQucmVzdWx0LHIuX2J1cy5wb3N0TWVzc2FnZShlKX0sdC5taW1ldHlwZS5pbmNsdWRlcygidGV4dC8iKSluLnJlYWRBc1RleHQodC5jb250ZW50KTtlbHNle3ZhciBpPXQuY29udGVudCxvPXZvaWQgMDtvPUFycmF5LmlzQXJyYXkoaSk/bmV3IEJsb2IoaSx7dHlwZTp0Lm1pbWV0eXBlfSk6bmV3IEJsb2IoW2ldLHt0eXBlOnQubWltZXR5cGV9KSxuLnJlYWRBc0FycmF5QnVmZmVyKG8pfX19LHtrZXk6Il9vbkRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5KXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkRlbGV0ZV0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSBtaXNzaW5nOiAiLGUpO2lmKGUuYm9keS5yZXNvdXJjZSlkZWxldGUgdC5faHlwZXJ0eVJlc291cmNlc1tlLmJvZHkucmVzb3VyY2VdO2Vsc2V7aWYoIWUuYm9keS5yZXNvdXJjZXMpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uRGVsZXRlXSBtYW5kYXRvcnkgcmVzb3VyY2UgbWlzc2luZzogIixlKTtlLmJvZHkucmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIHQuX2h5cGVydHlSZXNvdXJjZXNbZV19KX10Ll9zdG9yYWdlTWFuYWdlci5kZWxldGUoInJlc291cmNlVVJMIixlLmJvZHkucmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oKXt2YXIgcj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjIwMH19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe3ZhciBuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDAwLGRlc2NyaXB0aW9uOnJ9fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX19XSksSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2V9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNTA1KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1mdW5jdGlvbigpewovLyBUT0RPOiBJbXByb3ZlIHRoaXMgUXVldWluZwpmdW5jdGlvbiBQcm9taXNlUXVldWUoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLFByb21pc2VRdWV1ZSksdGhpcy5mbHVzaGluZz0hMSx0aGlzLlByb21pc2U9cy5kZWZhdWx0LHRoaXMuY29uY3VycmVuY3k9Im51bWJlciIhPXR5cGVvZiBlPzE6ZSx0aGlzLnByb21pc2VzPVtdLHRoaXMucXVldWU9W10sdGhpcy5pc1Byb2Nlc3Npbmc9ITF9cmV0dXJuKDAsZi5kZWZhdWx0KShQcm9taXNlUXVldWUsW3trZXk6ImRvbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbGJhY2s9ZX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnF1ZXVlLnB1c2goZSksIXRoaXMuaXNQcm9jZXNzaW5nKXJldHVybiB0aGlzLnF1ZXVlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtyZXR1cm5bXS5jb25jYXQoKDAsaS5kZWZhdWx0KShlKSxbdF0pfSl9KX0scy5kZWZhdWx0LnJlc29sdmUoW10pKS50aGVuKGZ1bmN0aW9uKGUpewovLyBEbyBzb21ldGhpbmcgd2l0aCBhbGwgcmVzdWx0cwp0LmlzUHJvY2Vzc2luZz0hMX0pfX1dKSxQcm9taXNlUXVldWV9KCk7dC5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMjA5KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZVt0XTtyZXR1cm4gcn1yZXR1cm4oMCxpLmRlZmF1bHQpKGUpfX0sLyogNTA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDIxMCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDM3KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDEpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig3KSx5PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHApLGg9cigxNCksdj1yKDUxMCksZz1yKDk5KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDUxNSksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9cig1MTYpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChSKSxTPXIoMTAwKSxQPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKFMpLE89eS5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksTT1mdW5jdGlvbigpey8qIHByaXZhdGUKICBfdXJsOiBVUkwKICBfYnVzOiBNaW5pQnVzCiAgX3JlZ2lzdHJ5OiBSZWdpc3RyeQogIF9hbGxvY2F0b3I6IEFkZHJlc3NBbGxvY2F0aW9uCiAgIF9yZXBvcnRlcnM6IHsgT2JqZWN0VVJMOiBSZXBvcnRlck9iamVjdCB9CiAgX29ic2VydmVyczogeyBPYmplY3RVUkw6IE9ic2VydmVyT2JqZWN0IH0KICAqLwpmdW5jdGlvbiBTeW5jaGVyTWFuYWdlcihlLHQscixuLGksbyxzLGEpe2lmKCgwLGYuZGVmYXVsdCkodGhpcyxTeW5jaGVyTWFuYWdlciksIWUpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBydW50aW1lVVJMIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgUmVnaXN0cnkgaW5zdGFuY2UiKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIFJ1bnRpbWVDYXRhbG9ndWUgaW5zdGFuY2UiKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZCB0aGUgc3RvcmFnZU1hbmFnZXIgaW5zdGFuY2UiKTt2YXIgdT10aGlzO3UuX2J1cz10LHUuX3JlZ2lzdHJ5PXIsdS5fY2F0YWxvZz1uLHUuX3N0b3JhZ2VNYW5hZ2VyPWksdS5faWRlbnRpdHlNb2R1bGU9YSwKLy9UT0RPOiB0aGVzZSBzaG91bGQgYmUgc2F2ZWQgaW4gcGVyc2lzdGVuY2UgZW5naW5lPwp1LnJ1bnRpbWVVUkw9ZSx1Ll91cmw9ZSsiL3NtIix1Ll9vYmplY3RVUkw9ZSsiL29iamVjdC1hbGxvY2F0aW9uIix1Ll9yZXBvcnRlcnM9e30sdS5fb2JzZXJ2ZXJzPXt9LHUuX2RhdGFPYmplY3RzU3RvcmFnZT1zLAovL1RPRE86IHRoaXMgc2hvdWxkIG5vdCBiZSBoYXJkY29kZWQhCnUuX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkoZSkuZG9tYWluLHUuX2FsbG9jYXRvcj1vfHxiLmRlZmF1bHQuaW5zdGFuY2UsTy5sb2coIltTeW5jaGVyTWFuYWdlciAtIEFkZHJlc3NBbGxvY2F0aW9uXSAtICIsdS5fYWxsb2NhdG9yKSx0LmFkZExpc3RlbmVyKHUuX3VybCxmdW5jdGlvbihlKXtzd2l0Y2goTy5pbmZvKCJbU3luY2hlck1hbmFnZXJdIFJDVjogIixlKSxlLnR5cGUpe2Nhc2UiY3JlYXRlIjp1Ll9vbkNyZWF0ZShlKTticmVhaztjYXNlImRlbGV0ZSI6dS5fb25EZWxldGUoZSk7YnJlYWs7Y2FzZSJzdWJzY3JpYmUiOnUuX29uTG9jYWxTdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dS5fb25Mb2NhbFVuU3Vic2NyaWJlKGUpfX0pfXJldHVybigwLGQuZGVmYXVsdCkoU3luY2hlck1hbmFnZXIsW3trZXk6Il9vbkNyZWF0ZSIsCi8vRkxPVy1JTjogbWVzc2FnZSByZWNlaXZlZCBmcm9tIFN5bmNoZXIgLT4gY3JlYXRlCnZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLnRvOwovLyBjaGVjayBpZiBtZXNzYWdlIGlzIHRvIHNhdmUgbmV3IGNoaWxkcmVuT2JqZWN0cyBpbiB0aGUgbG9jYWwgc3RvcmFnZQovLyBUT0RPOiBjaGVjayBpZiBtZXNzYWdlIGlzIHRvIHN0b3JlIG5ldyBjaGlsZCBpbiB0aGUgbG9jYWwgc3RvcmFnZSBhbmQgY2FsbCBzdG9yZUNoaWxkLiBIb3cgdG8gZGlzdGluZ3Vpc2ggZnJvbSBvdGhlcnM/CmUuYm9keS5hdHRyaWJ1dGU/dGhpcy5fc3RvcmVDaGlsZHJlbnMoZSk6IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIil8fGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIikmJiFlLmJvZHkucmVzdW1lPwovLyBjaGVjayBpZiB0aGlzIGlzIGFuIGludml0YXRpb24gbWVzc2FnZQplLmJvZHkuYXV0aG9yaXNlPyh0aGlzLl9hdXRob3Jpc2UoZSksTy5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGUgLSBpbnZpdGUgb2JzZXJ2ZXJzXSIsZSkpOigKLy8gdGhpcyBpcyB0byBjcmVhdGUgYSBuZXcgZGF0YSBvYmplY3QKTy5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGUgLSBDcmVhdGUgTmV3IE9iamVjdF0iLGUpLHRoaXMuX25ld0NyZWF0ZShlKSk6Ci8vIElmIGZyb20gdGhlIGh5cGVydHkgc2lkZSwgY2FsbCB0aGUgcmVzdW1lUmVwb3J0ZXIgd2Ugd2lsbCBoYXZlIHJlc3VtZSA9IHRydWUnCi8vIHNvIHdlIHdpbGwgY3JlYXRlIGFuIHJlc3VtZWQgb2JqZWN0IGFuZCB3aWxsIHRyeSB0byByZXN1bWUgdGhlIG9iamVjdCBwcmV2aW91c2x5IHNhdmVkOwp0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYShlLCEwKS50aGVuKGZ1bmN0aW9uKG8pe2lmKE8uaW5mbygiW1N5bmNoZXJNYW5hZ2VyIC0gQ3JlYXRlIFJlc3VtZWRdIC0gUmVzb3VyY2VzQnlDcml0ZXJpYSB8IE1lc3NhZ2U6ICIsZSwiIHJlc3VsdDogIixvKSxvJiYoMCx1LmRlZmF1bHQpKG8pLmxlbmd0aD4wKXt2YXIgYT1bXTsoMCx1LmRlZmF1bHQpKG8pLmZvckVhY2goZnVuY3Rpb24ocil7YS5wdXNoKHQuX3Jlc3VtZUNyZWF0ZShlLG9bcl0pKX0pLHMuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihvKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gQ3JlYXRlIFJlc3VtZWRdIixvKTsKLy8gVE9ETzogc2hvdWQgc2VuZCB0aGUgaW5mb3JtYXRpb24gaWYgc29tZSBvYmplY3Qgd2FzIGZhaWw7CnZhciBzPSgwLGkuZGVmYXVsdCkobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX0pO08uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLm9uQ3JlYXRlXSByZXR1cm5pbmcgcmVzdW1lZCBvYmplY3RzIDogIixzKSwKLy9GTE9XLU9VVDogbWVzc2FnZSByZXNwb25zZSB0byBTeW5jaGVyIC0+IGNyZWF0ZSByZXN1bWUKdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOm4sdG86cixib2R5Ontjb2RlOjIwMCx2YWx1ZTpzfX0pfSl9ZWxzZXsKLy9mb3J3YXJkIHRvIGh5cGVydHk6CnZhciBjPXt9O2MuaWQ9ZS5pZCxjLmZyb209ZS50byxjLnRvPWUuZnJvbSxjLnR5cGU9InJlc3BvbnNlIixjLmJvZHk9e2NvZGU6NDA0LGRlc2M6Ik5vIGRhdGEgb2JqZWN0cyByZXBvcnRlcnMgdG8gYmUgcmVzdW1lZCJ9LHQuX2J1cy5wb3N0TWVzc2FnZShjKX19KX19LHtrZXk6Il9zdG9yZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPWUuYm9keS5hdHRyaWJ1dGU7ImNoaWxkcmVuT2JqZWN0cyI9PT1uP3QuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCExLHIsdm9pZCAwLGUuYm9keS52YWx1ZSk6dC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITAscixuLGUuYm9keS52YWx1ZSl9fSx7a2V5OiJfbmV3Q3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcyxuPWUuZnJvbSxpPSgwLGguZGl2aWRlVVJMKShlLmZyb20pLmRvbWFpbjsKLy8gaWYgcmVwb3J0ZXIgaXMgaW4gYSBJbnRlcndvcmtpbmcgUHJvdG9zdHViIHRoZSBydW50aW1lIGRvbWFpbiBiYWNrZW5kIHNlcnZpY2VzIHdpbGwgYmUgdXNlZApyLl9yZWdpc3RyeS5pc0ludGVyd29ya2luZ1Byb3RvU3R1YihlLmZyb20pJiYoaT0oMCxoLmRpdmlkZVVSTCkoci5ydW50aW1lVVJMKS5kb21haW4pLAovLyBQcm9jZXNzIGludml0YXRpb24gbWVzc2FnZSB0byBvYnNlcnZlcnMKLyppZiAobXNnLmJvZHkuYXV0aG9yaXNlKSB7CiAgICAgICAgX3RoaXMuX2F1dGhvcmlzZShtc2cpOwogICAgICAgIHJldHVybjsKICAgICAgfSovCi8vZ2V0IHNjaGVtYSBmcm9tIGNhdGFsb2d1ZSBhbmQgcGFyc2UgLT4gKHNjaGVtZSwgY2hpbGRyZW4pCnIuX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoZS5ib2R5LnNjaGVtYSkudGhlbihmdW5jdGlvbihvKXt2YXIgcz1vLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGE9cy5zY2hlbWU/cy5zY2hlbWUuY29uc3RhbnQ6InJlc291cmNlIix1PXMuY2hpbGRyZW4/cy5jaGlsZHJlbi5jb25zdGFudDpbXTsKLy8gRG8gc2NoZW1hIHZhbGlkYXRpb24KLy8gVE9ETzogY2hlY2sgaWYgaXMgbmVlZCB0byBoYW5kbGUgd2l0aCB0aGUgcmVzdWx0IG9mIHZhbGlkYXRpb24KKDAsdi5zY2hlbWFWYWxpZGF0aW9uKShhLG8sZS5ib2R5LnZhbHVlKTt2YXIgYz17bmFtZTplLmJvZHkudmFsdWUubmFtZSxzY2hlbWE6ZS5ib2R5LnZhbHVlLnNjaGVtYSxyZXBvcnRlcjplLmJvZHkudmFsdWUucmVwb3J0ZXIscmVzb3VyY2VzOmUuYm9keS52YWx1ZS5yZXNvdXJjZXN9LGY9ZS5ib2R5LnZhbHVlLnJlc291cmNlOwovL3JlcXVlc3QgYWRkcmVzcyBhbGxvY2F0aW9uIG9mIGEgbmV3IG9iamVjdCBmcm9tIHRoZSBtc2ctbm9kZQpyLl9hbGxvY2F0b3IuY3JlYXRlKGksMSxjLGEsZikudGhlbihmdW5jdGlvbihpKXt2YXIgbz0oMCxoLmRlZXBDbG9uZSkoZS5ib2R5LnZhbHVlKTtvLnVybD1pLmFkZHJlc3NbMF0sby5hdXRob3Jpc2U9ZS5ib2R5LmF1dGhvcmlzZSxvLmNoaWxkcmVucz11LAovL29iamVjdFJlZ2lzdHJhdGlvbi5leHBpcmVzID0gMzA7Ly9UT0RPOiBnZXQgaXQgZnJvbSBkYXRhIG9iamVjdCBjb25maWd1cmF0aW9uIGRlc2NyaXB0aW9uIHdoZW4gcHJlc2VudApkZWxldGUgby5kYXRhLE8ubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gQUxMT0NBVE9SIENSRUFURToiLGkpO3ZhciBzPW8udXJsKyIvc3Vic2NyaXB0aW9uIjtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIFN1YnNjcmlwdGlvbiBVUkwiLHMpLAovL1RvIHJlZ2lzdGVyIHRoZSBkYXRhT2JqZWN0IGluIHRoZSBydW50aW1lUmVnaXN0cnkKTy5pbmZvKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gUmVnaXN0ZXIgT2JqZWN0OiAiLG8pLAovL190aGlzLl9yZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3QobXNnLmJvZHkudmFsdWUubmFtZSwgbXNnLmJvZHkudmFsdWUuc2NoZW1hLCBvYmpVUkwsIG1zZy5ib2R5LnZhbHVlLnJlcG9ydGVyLCBtc2cuYm9keS52YWx1ZS5yZXNvdXJjZXMsIGFsbG9jYXRlZCwgbXNnLmJvZHkuYXV0aG9yaXNlKS50aGVuKChyZXNvbHZlKSA9PiB7CnIuX3JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdChvKS50aGVuKGZ1bmN0aW9uKGkpe08ubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gRGF0YU9iamVjdCBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCIsaSk7Ci8vYWxsIE9LIC0+IGNyZWF0ZSByZXBvcnRlciBhbmQgcmVnaXN0ZXIgbGlzdGVuZXJzCnZhciBhPXZvaWQgMDthPXQuX3JlcG9ydGVyc1tvLnVybF0/dC5fcmVwb3J0ZXJzW28udXJsXTpuZXcgXy5kZWZhdWx0KHIsbixvLnVybCksTy5sb2coIltTeW5jaGVyTWFuYWdlciAtIG5ldyBDcmVhdGVdIC0gIixlKTsKLy8gU3RvcmUgZm9yIGVhY2ggcmVwb3J0ZXIgaHlwZXJ0eSB0aGUgZGF0YU9iamVjdAp2YXIgYz12b2lkIDAsZj0hMTtlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5IikmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw/KGM9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsYy5pbmNsdWRlcygidXNlcjovLyIpfHwoZj0hMCkpOihjPXIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pKXx8KGY9ITApOwovLyBzaG91bGQgd2UgdXNlIHRoZSBtc2cuYm9keS52YWx1ZSBpbnN0ZWFkPwp2YXIgbD0oMCxoLmRlZXBDbG9uZSkobyk7bC5zdWJzY3JpYmVyVXNlcj1jLGwuaXNSZXBvcnRlcj0hMCwKLy8gU3RvcmUgdGhlIGRhdGFPYmplY3QgaW5mb3JtYXRpb24KZnx8KHIuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQobCksZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdG9yZSIpJiZlLmJvZHkuc3RvcmUmJihhLmlzVG9TYXZlRGF0YT0hMCxyLl9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLG8udXJsLCJpc1RvU2F2ZURhdGEiLCEwKSxlLmJvZHkudmFsdWUuZGF0YSYmci5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCEwLG8udXJsLG51bGwsZS5ib2R5LnZhbHVlLmRhdGEpKSksCi8vIGFkZGluZyBsaXN0ZW5lcnMgdG8gZm9yd2FyZCB0byByZXBvcnRlcgphLmZvcndhcmRTdWJzY3JpYmUoW28udXJsLHNdKS50aGVuKGZ1bmN0aW9uKCl7YS5hZGRDaGlsZHJlbnModSkudGhlbihmdW5jdGlvbigpe3IuX3JlcG9ydGVyc1tvLnVybF09YTt2YXIgdD17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOm4sYm9keTp7Y29kZToyMDAscmVzb3VyY2U6by51cmwsY2hpbGRyZW5SZXNvdXJjZXM6dX19OwovL0ZMT1ctT1VUOiBtZXNzYWdlIHJlc3BvbnNlIHRvIFN5bmNoZXIgLT4gY3JlYXRlCnIuX2J1cy5wb3N0TWVzc2FnZSh0KX0pfSl9LGZ1bmN0aW9uKGUpe08uZXJyb3IoZSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7Ci8vRkxPVy1PVVQ6IGVycm9yIG1lc3NhZ2UgcmVzcG9uc2UgdG8gU3luY2hlciAtPiBjcmVhdGUKdmFyIGk9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpuLGJvZHk6e2NvZGU6NTAwLGRlc2M6dH19O3IuX2J1cy5wb3N0TWVzc2FnZShpKX0pfX0se2tleToiX3Jlc3VtZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpKXt2YXIgbz1lLmZyb20scz10LnNjaGVtYSxhPXQudXJsLHU9dC5kYXRhO08ubG9nKCJbU3luY2hlck1hbmFnZXJdIC0gcmVzdW1lIGNyZWF0ZSIsZSx0KSwKLy9nZXQgc2NoZW1hIGZyb20gY2F0YWxvZ3VlIGFuZCBwYXJzZSAtPiAoc2NoZW1lLCBjaGlsZHJlbikKbi5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihzKS50aGVuKGZ1bmN0aW9uKHMpe3ZhciBjPXMuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsZj1jLnNjaGVtZT9jLnNjaGVtZS5jb25zdGFudDoicmVzb3VyY2UiLGw9Yy5jaGlsZHJlbj9jLmNoaWxkcmVuLmNvbnN0YW50OltdO08ubG9nKCJbU3luY2hlck1hbmFnZXJdIC0gZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3I6ICIscyxsKSwKLy8gRG8gc2NoZW1hIHZhbGlkYXRpb24KLy8gVE9ETzogY2hlY2sgaWYgaXMgbmVlZCB0byBoYW5kbGUgd2l0aCB0aGUgcmVzdWx0IG9mIHZhbGlkYXRpb24KKDAsdi5zY2hlbWFWYWxpZGF0aW9uKShmLHMsdSk7dmFyIGQ9KDAsaC5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7ZC51cmw9dC51cmwsZC5leHBpcmVzPXQuZXhwaXJlcyxkZWxldGUgZC5kYXRhOwovL2FsbCBPSyAtPiBjcmVhdGUgcmVwb3J0ZXIgYW5kIHJlZ2lzdGVyIGxpc3RlbmVycwp2YXIgcD12b2lkIDA7cD1yLl9yZXBvcnRlcnNbYV0/ci5fcmVwb3J0ZXJzW2FdOm5ldyBfLmRlZmF1bHQobixvLGEpLHAuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHAuZm9yd2FyZFN1YnNjcmliZShbdC51cmxdKS50aGVuKGZ1bmN0aW9uKCl7cC5hZGRDaGlsZHJlbnMobCkudGhlbihmdW5jdGlvbigpe3JldHVybiBwLnJlc3VtZVN1YnNjcmlwdGlvbnModC5zdWJzY3JpcHRpb25zKSxuLl9yZXBvcnRlcnNbYV09cCxPLmluZm8oIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gcmVzb2x2ZWQgcmVzdW1lZDogIix0KSxuLl9kZWNyeXB0Q2hpbGRyZW5zKHQsbCl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdyZXN1bHQgb2YgcHJldmlvdXMgcHJvbWlzZScpOwppKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSBmYWlsIG9uIGFkZENoaWxkcmVuczogIixlKSxpKCExKX0pfSksTy5pbmZvKCJbU3luY2hlck1hbmFnZXIuX3Jlc3VtZUNyZWF0ZV0gUmVnaXN0ZXIgT2JqZWN0OiAiLGQpLG4uX3JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdChkKS50aGVuKGZ1bmN0aW9uKGUpe08ubG9nKCJbU3luY2hlck1hbmFnZXIuX3Jlc3VtZUNyZWF0ZV0gRGF0YU9iamVjdCByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQiLGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtPLmVycm9yKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgY3JlYXRlXSAtIGZhaWwgb24gZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3I6ICIsZSksaSghMSl9KX0pfX0se2tleToiX2RlY3J5cHRDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocil7aWYodCl7MD09PSgwLHUuZGVmYXVsdCkoZS5jaGlsZHJlbk9iamVjdHMpLmxlbmd0aCYmcihlKSx0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5jaGlsZHJlbk9iamVjdHNbdF07Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZGF0YU9iamVjdENoaWxkcyB0byBkZWNyeXB0ICIsbik7dmFyIGk9W107KDAsdS5kZWZhdWx0KShuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW5bdF0sbz10LnNwbGl0KCIjIilbMF07aWYoInN0cmluZyI9PXR5cGVvZiByLnZhbHVlKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBjcmVhdGVkQnkgIixvLCIgb2JqZWN0OiAiLHIudmFsdWUpO3ZhciBzPVAuZGVmYXVsdC5kZWNyeXB0RGF0YU9iamVjdChKU09OLnBhcnNlKHIudmFsdWUpLGUudXJsKTtpLnB1c2gocyl9fSkscy5kZWZhdWx0LmFsbChpKS50aGVuKGZ1bmN0aW9uKG4pe08ubG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIHJldHVybmluZyBkZWNyeXB0ZWQgIixuKSxuLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ci52YWx1ZS51cmw7ZS5jaGlsZHJlbk9iamVjdHNbdF1bbl0udmFsdWU9ci52YWx1ZX0pLE8ubG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIHN0b3JlZE9iamVjdCAiLGUpLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtPLndhcm4oIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZmFpbGVkIDogIixlKX0pfSl9ZWxzZSByKGUpfSl9fSx7a2V5OiJfYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHkucmVzb3VyY2UpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlck1hbmFnZXIuX2F1dGhvcmlzZV0gaW52aXRhdGlvbiByZXF1ZXN0IHdpdGhvdXQgZGF0YSBvYmplY3QgdXJsOiIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlKyIvc3Vic2NyaXB0aW9uIixuPSEhZS5ib2R5LnAycCYmZS5ib2R5LnAycDtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gIGF1dGhvcmlzZV0gLSAiLGUpLGUuYm9keS5hdXRob3Jpc2UmJmUuYm9keS5hdXRob3Jpc2UuZm9yRWFjaChmdW5jdGlvbihpKXsKLy9GTE9XLU9VVDogc2VuZCBpbnZpdGVzIHRvIGxpc3Qgb2YgcmVtb3RlIFN5bmNoZXIgLT4gX29uUmVtb3RlQ3JlYXRlIC0+IG9uTm90aWZpY2F0aW9uCnQuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToiY3JlYXRlIixmcm9tOnIsdG86aSxib2R5OntwMnA6bixpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksc291cmNlOmUuZnJvbSx2YWx1ZTplLmJvZHkudmFsdWUsc2NoZW1hOmUuYm9keS5zY2hlbWF9fSxmdW5jdGlvbihyKXsKLy8gbGV0cyBmb3J3YXJkIHRoZSBpbnZpdGF0aW9uIHJlc3BvbnNlCnZhciBuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZTpyLnR5cGUsYm9keTpyLmJvZHl9O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfSl9fSx7a2V5OiJfb25EZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9yZXBvcnRlcnNbcl07biYmKAovL1RPRE86IGlzIHRoZXJlIGFueSBwb2xpY3kgdmVyaWZpY2F0aW9uIGJlZm9yZSBkZWxldGU/Cm4uZGVsZXRlKCksdGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmRlbGV0ZVJlc291cmNlKHIpLnRoZW4oZnVuY3Rpb24obil7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIG9uRGVsZXRlXSAtIGRlbGV0ZVJlc291cmNlOiAiLG4pLHQuX3JlZ2lzdHJ5LnVucmVnaXN0ZXJEYXRhT2JqZWN0KHIpLAovL1RPRE86IHVucmVnaXN0ZXIgb2JqZWN0Pwp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSl9KSl9fSx7a2V5OiJfb25Mb2NhbFN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYShlLCExKS50aGVuKGZ1bmN0aW9uKHIpe2lmKE8uaW5mbygiW1N5bmNoZXJNYW5hZ2VyIC0gU3Vic2NyaWJlXSAtIFJlc291cmNlc0J5Q3JpdGVyaWEgfCBNZXNzYWdlOiAiLGUsIiByZXN1bHQ6ICIsciksciYmKDAsdS5kZWZhdWx0KShyKS5sZW5ndGg+MCl7dmFyIG49W107Ci8vIFRPRE86IHNob3VsZCByZXVzZSB0aGUgc3RvcmFnZWQgaW5mb3JtYXRpb24KKDAsdS5kZWZhdWx0KShyKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgU3Vic2NyaWJlXSAtIHJldXNlIGN1cnJlbnQgb2JqZWN0IHVybDogIixyW2ldKSxuLnB1c2godC5fcmVzdW1lU3Vic2NyaXB0aW9uKGUscltpXSkpfSkscy5kZWZhdWx0LmFsbChuKS50aGVuKGZ1bmN0aW9uKHIpe08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSBPYnNlcnZlcnMgUmVzdW1lZF0iLHIpOwovLyBUT0RPOiBzaG91ZCBzZW5kIHRoZSBpbmZvcm1hdGlvbiBpZiBzb21lIG9iamVjdCB3YXMgZmFpbDsKdmFyIG49KDAsaS5kZWZhdWx0KShyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7Ci8vRkxPVy1PVVQ6IG1lc3NhZ2UgcmVzcG9uc2UgdG8gU3luY2hlciAtPiBjcmVhdGUKdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOm59fSl9KX1lbHNlIGlmKGUuYm9keS5zY2hlbWEmJmUuYm9keS5yZXNvdXJjZSlPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLm9uTG9jYWxTdWJzY3JpYmUgLSBuZXcgU3Vic2NyaWJlXSAtICIsZS5ib2R5LnNjaGVtYSxlLmJvZHkucmVzb3VyY2UpLHQuX25ld1N1YnNjcmlwdGlvbihlKTtlbHNlewovL2ZvcndhcmQgdG8gaHlwZXJ0eToKdmFyIG89e307by5pZD1lLmlkLG8uZnJvbT1lLnRvLG8udG89ZS5mcm9tLG8udHlwZT0icmVzcG9uc2UiLG8uYm9keT17Y29kZTo0MDQsZGVzYzoiTm8gZGF0YSBvYmplY3RzIG9ic2VydmVycyB0byBiZSByZXN1bWVkIn0sdC5fYnVzLnBvc3RNZXNzYWdlKG8pfX0pfX0se2tleToiX25ld1N1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1lLmJvZHkucmVzb3VyY2UsaT1lLmZyb20sbz0oMCxoLmRpdmlkZVVSTCkobikuZG9tYWluLHM9bisiL3N1YnNjcmlwdGlvbiIsYT1uKyIvY2hpbGRyZW4vIjsKLy9nZXQgc2NoZW1hIGZyb20gY2F0YWxvZ3VlIGFuZCBwYXJzZSAtPiAoY2hpbGRyZW4pCnIuX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoZS5ib2R5LnNjaGVtYSkudGhlbihmdW5jdGlvbih1KXt2YXIgYz11LnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGY9Yy5jaGlsZHJlbj9jLmNoaWxkcmVuLmNvbnN0YW50OltdLGw9W107bC5wdXNoKG4rIi9jaGFuZ2VzIiksZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBsLnB1c2goYStlKX0pOwovL2NoaWxkcmVuIGFkZHJlc3NlcwovL0ZMT1ctT1VUOiBzdWJzY3JpYmUgbWVzc2FnZSB0byB0aGUgbXNnLW5vZGUsIHJlZ2lzdGVyaW5nIGxpc3RlbmVycyBvbiB0aGUgYnJva2VyCnZhciBkPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK28rIi9zbSIsYm9keTp7aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHJlc291cmNlczpsLHNvdXJjZTppfX07Ci8vc3Vic2NyaWJlIGluIG1zZy1ub2RlCnIuX2J1cy5wb3N0TWVzc2FnZShkLGZ1bmN0aW9uKG8pe2lmKE8ubG9nKCJub2RlLXN1YnNjcmliZS1yZXNwb25zZShvYnNlcnZlcik6ICIsbyksMjAwPT09by5ib2R5LmNvZGUpewovL0ZMT1ctT1VUOiByZXBseSB3aXRoIHByb3Zpc2lvbmFsIHJlc3BvbnNlCnIuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmksYm9keTp7Y29kZToxMDAsY2hpbGRyZW5SZXNvdXJjZXM6ZixzY2hlbWE6ZS5ib2R5LnNjaGVtYSxyZXNvdXJjZTplLmJvZHkucmVzb3VyY2V9fSk7Ci8vRkxPVy1PVVQ6IHN1YnNjcmliZSBtZXNzYWdlIHRvIHJlbW90ZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVTdWJzY3JpYmUKdmFyIGE9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl91cmwsdG86cyxib2R5OntpZGVudGl0eTpkLmJvZHkuaWRlbnRpdHksc3Vic2NyaWJlcjppfX07Ci8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHkKZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKGEuYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksTy5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSIsYSxlKSwKLy9zdWJzY3JpYmUgdG8gcmVwb3J0ZXIgU00Kci5fYnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24obyl7aWYoTy5sb2coInJlcG9ydGVyLXN1YnNjcmliZS1yZXNwb25zZS1uZXc6ICIsbyksMjAwPT09by5ib2R5LmNvZGUpe08ubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld1N1YnNjcmlwdGlvbl0gLSBvYnNlcnZlcnM6ICIsci5fb2JzZXJ2ZXJzLG4sci5fb2JzZXJ2ZXJzW25dKTt2YXIgcz1yLl9vYnNlcnZlcnNbbl07c3x8KHM9bmV3IHcuZGVmYXVsdChyLG4sZiksTy5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSAtIG9ic2VydmVyczogY3JlYXRlIG5ldyBPYnNlcnZlck9iamVjdDogIixzKSxyLl9vYnNlcnZlcnNbbl09cywKLy8gcmVnaXN0ZXIgbmV3IGh5cGVydHkgc3Vic2NyaXB0aW9uCnMuYWRkU3Vic2NyaXB0aW9uKGkpLAovLyBhZGQgY2hpbGRyZW5zIGFuZCBsaXN0ZW5lcnMgdG8gc2F2ZSBkYXRhIGlmIG5lY2Vzc2FyeQpzLmFkZENoaWxkcmVucyhmKSk7dmFyIGE9ITEsdT12b2lkIDA7ZS5ib2R5Lmhhc093blByb3BlcnR5KCJpZGVudGl0eSIpJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMPyh1PWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHUuaW5jbHVkZXMoInVzZXI6Ly8iKXx8KGE9ITApKToodT1yLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS5mcm9tKSl8fChhPSEwKTt2YXIgYz0oMCxoLmRlZXBDbG9uZSkoby5ib2R5LnZhbHVlKTsKLy8gbGV0IGNoaWxkcmVuT2JqZWN0cyA9IG1ldGFkYXRhLmNoaWxkcmVuT2JqZWN0cyB8fCB7fTsKZGVsZXRlIGMuZGF0YSxkZWxldGUgYy5jaGlsZHJlbk9iamVjdHMsYy5jaGlsZHJlbnM9ZixjLnN1YnNjcmliZXJVc2VyPXUsYy5pc1JlcG9ydGVyPSExLGMuc3Vic2NyaWJlckh5cGVydHk9aSxhfHwoCi8vX3RoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQob2JqVVJMLCBmYWxzZSwgbXNnLmJvZHkuc2NoZW1hLCAnb24nLCByZXBseS5ib2R5Lm93bmVyLCBoeXBlcnR5VVJMLCBjaGlsZHJlbnMsIHVzZXJVUkwpOwpyLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2V0KGMpLChjLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiZjLnN0b3JlfHxjLmhhc093blByb3BlcnR5KCJpc1RvU2F2ZURhdGEiKSYmYy5pc1RvU2F2ZURhdGEpJiYocy5pc1RvU2F2ZURhdGE9ITAsci5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxuLCJpc1RvU2F2ZURhdGEiLCEwKSxyLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITEsbixudWxsLG8uYm9keS52YWx1ZS5kYXRhKSkpLAovL2ZvcndhcmQgdG8gaHlwZXJ0eToKby5pZD1lLmlkLG8uZnJvbT1yLl91cmwsby50bz1pLG8uYm9keS5zY2hlbWE9ZS5ib2R5LnNjaGVtYSxvLmJvZHkucmVzb3VyY2U9ZS5ib2R5LnJlc291cmNlLAovL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5CmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihvLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLE8ubG9nKCJbc3Vic2NyaWJlXSAtIG5ldyBzdWJzY3JpcHRpb246ICIsZSxvLHMpLHQuX2J1cy5wb3N0TWVzc2FnZShvKX19KX1lbHNlCi8vbGlzdGVuZXIgcmVqZWN0ZWQKci5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86aSxib2R5Om8uYm9keX0pfSl9KX19LHtrZXk6Il9yZXN1bWVTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgaT10LnVybCxvPXQuc2NoZW1hLHM9ZS5mcm9tLGE9aSsiL2NoaWxkcmVuLyI7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIFJldXNlU3Vic2NyaXB0aW9uXSAtIG9ialVSTDogIixpLCIgLSBzY2hlbWE6IixvKSwKLy9nZXQgc2NoZW1hIGZyb20gY2F0YWxvZ3VlIGFuZCBwYXJzZSAtPiAoY2hpbGRyZW4pCi8vIFRPRE86IHJlbW92ZSB0aGlzIHNpbmNlIGNoaWxkcmVuIHJlc291cmNlcyBzaG91bGQgYmUgYXZhaWxhYmxlIGluIHRoZSBEYXRhT2JqZWN0c1N0b3JhZ2UKci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihvKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciB1PW4uc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsYz11LmNoaWxkcmVuP3UuY2hpbGRyZW4uY29uc3RhbnQ6W10sZj1bXTtmLnB1c2goaSsiL2NoYW5nZXMiKSxjLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGYucHVzaChhK2UpfSksCi8vRkxPVy1PVVQ6IHJlcGx5IHdpdGggcHJvdmlzaW9uYWwgcmVzcG9uc2UKci5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86cyxib2R5Ontjb2RlOjEwMCxjaGlsZHJlblJlc291cmNlczpjLHNjaGVtYTpvLHJlc291cmNlOml9fSk7Ci8vRkxPVy1PVVQ6IHN1YnNjcmliZSBtZXNzYWdlIHRvIHJlbW90ZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVTdWJzY3JpYmUKLypsZXQgb2JqU3Vic2NyaWJlTXNnID0gewogICAgICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJywgZnJvbTogdGhpcy5fdXJsLCB0bzogb2JqVVJMU3Vic2NyaXB0aW9uLAogICAgICAgICAgICBib2R5OiB7IHN1YnNjcmliZXI6IGh5cGVydHlVUkwsIGlkZW50aXR5OiBtc2cuYm9keS5pZGVudGl0eSB9CiAgICAgICAgICB9OwogICAgICAgICAgIC8vc3Vic2NyaWJlIHRvIHJlcG9ydGVyIFNNCiAgICAgICAgICB0aGlzLl9idXMucG9zdE1lc3NhZ2Uob2JqU3Vic2NyaWJlTXNnLCAocmVwbHkpID0+IHsqLwp2YXIgbD1yLl9vYnNlcnZlcnNbaV07Ci8vIE9iamVjdC5hc3NpZ24oc3RvcmVkT2JqZWN0LmRhdGEsIHJlcGx5LmJvZHkudmFsdWUuZGF0YSk7Ci8vIE9iamVjdC5hc3NpZ24oc3RvcmVkT2JqZWN0LmNoaWxkcmVucywgcmVwbHkuYm9keS52YWx1ZS5jaGlsZHJlbnMpOwovL2xvZy5sb2coJ1tzdWJzY3JpYmVdIC0gcmVzdW1lIHN1YnNjcmlwdGlvbjogJywgbXNnLCByZXBseSwgc3RvcmVkT2JqZWN0LCBvYnNlcnZlcik7Ci8vcmVnaXN0ZXIgbmV3IGh5cGVydHkgc3Vic2NyaXB0aW9uCnJldHVybiBsfHwobD1uZXcgdy5kZWZhdWx0KHIsaSxjKSxsLmlzVG9TYXZlRGF0YT10LmlzVG9TYXZlRGF0YSxyLl9vYnNlcnZlcnNbaV09bCksbC5hZGRTdWJzY3JpcHRpb24ocyksbC5hZGRDaGlsZHJlbnMoYyksci5fZGVjcnlwdENoaWxkcmVucyh0LGMpfSkudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygncmVzdWx0IG9mIHByZXZpb3VzIHByb21pc2UnKTsKbihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08uZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBzdWJzY3JpcHRpb25dIC0gZmFpbCBvbiBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixlKSxuKCExKX0pfSl9fSx7a2V5OiJfb25Mb2NhbFVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KGUuZnJvbSxlLmJvZHkucmVzb3VyY2UpLG49dC5fb2JzZXJ2ZXJzW3JdO24mJigKLy9UT0RPOiBpcyB0aGVyZSBhbnkgcG9saWN5IHZlcmlmaWNhdGlvbiBiZWZvcmUgZGVsZXRlPwpuLnJlbW92ZVN1YnNjcmlwdGlvbihlKSwKLy9UT0RPOiBkZXN0cm95IG9iamVjdCBpbiB0aGUgcmVnaXN0cnk/CnQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KSx0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZGVsZXRlUmVzb3VyY2UociksCi8vVE9ETzogcmVtb3ZlIE9iamVjdCBpZiBubyBtb3JlIHN1YnNjcmlwdGlvbj8KZGVsZXRlIHQuX29ic2VydmVyc1tyXSl9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0pLFN5bmNoZXJNYW5hZ2VyfSgpO3QuZGVmYXVsdD1NLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig1MDgpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QudmFsdWVzfSwvKiA1MDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtdmFsdWVzLWVudHJpZXMKdmFyIG49cigyMSksaT1yKDUwOSkoITEpO24obi5TLCJPYmplY3QiLHt2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDUwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2NyksaT1yKDQ1KSxvPXIoNzcpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHIscz1pKHQpLGE9bihzKSx1PWEubGVuZ3RoLGM9MCxmPVtdO3U+Yzspby5jYWxsKHMscj1hW2MrK10pJiZmLnB1c2goZT9bcixzW3JdXTpzW3JdKTtyZXR1cm4gZn19fSwvKiA1MTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzY2hlbWFWYWxpZGF0aW9uKGUsdCxyKXt0cnl7dmFyIG49cixpPXQuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlOwovLyBhZGQgc3VwcG9ydCBmb3Igc2NoZW1hIHJlZmVyZW5jaW5nIGl0c2VsZgpvLmRlZmF1bHQuYWRkU2NoZW1hKGkuaWQsaSk7Ci8vIHZhbGlkYXRlCnZhciBzPW8uZGVmYXVsdC52YWxpZGF0ZU11bHRpcGxlKG4saSk7Ci8vIGRlbGV0ZSBlcnJvciBzdGFja3MgdG8gaW1wcm92ZSBsb2dnaW5nCnMuZXJyb3JzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIGUuc3RhY2t9KSwhcy52YWxpZHx8cy5taXNzaW5nLmxlbmd0aH1jYXRjaChlKXt9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KTtfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pO3Quc2NoZW1hVmFsaWRhdGlvbj1zY2hlbWFWYWxpZGF0aW9uO3ZhciBpPXIoNTExKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSl9LC8qIDUxMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoZSl7cmV0dXJuIGVuY29kZVVSSShlKS5yZXBsYWNlKC8lMjVbMC05XVswLTldL2csZnVuY3Rpb24oZSl7cmV0dXJuIiUiK2Uuc3Vic3RyaW5nKDMpfSl9ZnVuY3Rpb24gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oZSl7dmFyIHQ9IiI7aFtlLmNoYXJBdCgwKV0mJih0PWUuY2hhckF0KDApLGU9ZS5zdWJzdHJpbmcoMSkpO3ZhciByPSIiLG49IiIsaT0hMCxvPSExLHM9ITE7IisiPT09dD9pPSExOiIuIj09PXQ/KG49Ii4iLHI9Ii4iKToiLyI9PT10PyhuPSIvIixyPSIvIik6IiMiPT09dD8obj0iIyIsaT0hMSk6IjsiPT09dD8obj0iOyIscj0iOyIsbz0hMCxzPSEwKToiPyI9PT10PyhuPSI/IixyPSImIixvPSEwKToiJiI9PT10JiYobj0iJiIscj0iJiIsbz0hMCk7Zm9yKHZhciBhPVtdLHU9ZS5zcGxpdCgiLCIpLGM9W10sZj17fSxsPTA7bDx1Lmxlbmd0aDtsKyspe3ZhciBwPXVbbF0sZz1udWxsO2lmKC0xIT09cC5pbmRleE9mKCI6Iikpe3ZhciBiPXAuc3BsaXQoIjoiKTtwPWJbMF0sZz1wYXJzZUludChiWzFdLDEwKX1mb3IodmFyIG09e307dltwLmNoYXJBdChwLmxlbmd0aC0xKV07KW1bcC5jaGFyQXQocC5sZW5ndGgtMSldPSEwLHA9cC5zdWJzdHJpbmcoMCxwLmxlbmd0aC0xKTt2YXIgXz17dHJ1bmNhdGU6ZyxuYW1lOnAsc3VmZmljZXM6bX07Yy5wdXNoKF8pLGZbcF09XyxhLnB1c2gocCl9dmFyIFI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSIiLGE9MCx1PTA7dTxjLmxlbmd0aDt1Kyspe3ZhciBmPWNbdV0sbD1lKGYubmFtZSk7aWYobnVsbD09PWx8fHZvaWQgMD09PWx8fEFycmF5LmlzQXJyYXkobCkmJjA9PT1sLmxlbmd0aHx8Im9iamVjdCI9PT0odm9pZCAwPT09bD8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGwpKSYmMD09PSgwLHkuZGVmYXVsdCkobCkubGVuZ3RoKWErKztlbHNlIGlmKHQrPXU9PT1hP246cnx8IiwiLEFycmF5LmlzQXJyYXkobCkpe28mJih0Kz1mLm5hbWUrIj0iKTtmb3IodmFyIHA9MDtwPGwubGVuZ3RoO3ArKylwPjAmJih0Kz1mLnN1ZmZpY2VzWyIqIl0/cnx8IiwiOiIsIixmLnN1ZmZpY2VzWyIqIl0mJm8mJih0Kz1mLm5hbWUrIj0iKSksdCs9aT9lbmNvZGVVUklDb21wb25lbnQobFtwXSkucmVwbGFjZSgvIS9nLCIlMjEiKTpub3RSZWFsbHlQZXJjZW50RW5jb2RlKGxbcF0pfWVsc2UgaWYoIm9iamVjdCI9PT0odm9pZCAwPT09bD8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGwpKSl7byYmIWYuc3VmZmljZXNbIioiXSYmKHQrPWYubmFtZSsiPSIpO3ZhciBoPSEwO2Zvcih2YXIgdiBpbiBsKWh8fCh0Kz1mLnN1ZmZpY2VzWyIqIl0/cnx8IiwiOiIsIiksaD0hMSx0Kz1pP2VuY29kZVVSSUNvbXBvbmVudCh2KS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUodiksdCs9Zi5zdWZmaWNlc1siKiJdPyI9IjoiLCIsdCs9aT9lbmNvZGVVUklDb21wb25lbnQobFt2XSkucmVwbGFjZSgvIS9nLCIlMjEiKTpub3RSZWFsbHlQZXJjZW50RW5jb2RlKGxbdl0pfWVsc2UgbyYmKHQrPWYubmFtZSxzJiYiIj09PWx8fCh0Kz0iPSIpKSxudWxsIT1mLnRydW5jYXRlJiYobD1sLnN1YnN0cmluZygwLGYudHJ1bmNhdGUpKSx0Kz1pP2VuY29kZVVSSUNvbXBvbmVudChsKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobCl9cmV0dXJuIHR9O3JldHVybiBSLnZhck5hbWVzPWEse3ByZWZpeDpuLHN1YnN0aXR1dGlvbjpSfX1mdW5jdGlvbiBVcmlUZW1wbGF0ZShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBVcmlUZW1wbGF0ZSkpcmV0dXJuIG5ldyBVcmlUZW1wbGF0ZShlKTtmb3IodmFyIHQ9ZS5zcGxpdCgieyIpLHI9W3Quc2hpZnQoKV0sbj1bXSxpPVtdLG89W107dC5sZW5ndGg+MDspe3ZhciBzPXQuc2hpZnQoKSxhPXMuc3BsaXQoIn0iKVswXSx1PXMuc3Vic3RyaW5nKGEubGVuZ3RoKzEpLGM9dXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oYSk7aS5wdXNoKGMuc3Vic3RpdHV0aW9uKSxuLnB1c2goYy5wcmVmaXgpLHIucHVzaCh1KSxvPW8uY29uY2F0KGMuc3Vic3RpdHV0aW9uLnZhck5hbWVzKX10aGlzLmZpbGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXJbMF0sbj0wO248aS5sZW5ndGg7bisrKXt0Kz0oMCxpW25dKShlKSx0Kz1yW24rMV19cmV0dXJuIHR9LHRoaXMudmFyTmFtZXM9byx0aGlzLnRlbXBsYXRlPWV9ZnVuY3Rpb24gcmVjdXJzaXZlQ29tcGFyZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKGUmJnQmJiJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSkmJiJvYmplY3QiPT09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KSh0KSkpe2lmKEFycmF5LmlzQXJyYXkoZSkhPT1BcnJheS5pc0FycmF5KHQpKXJldHVybiExO2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoIXJlY3Vyc2l2ZUNvbXBhcmUoZVtyXSx0W3JdKSlyZXR1cm4hMX1lbHNle3ZhciBuO2ZvcihuIGluIGUpaWYodm9pZCAwPT09dFtuXSYmdm9pZCAwIT09ZVtuXSlyZXR1cm4hMTtmb3IobiBpbiB0KWlmKHZvaWQgMD09PWVbbl0mJnZvaWQgMCE9PXRbbl0pcmV0dXJuITE7Zm9yKG4gaW4gZSlpZighcmVjdXJzaXZlQ29tcGFyZShlW25dLHRbbl0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfQovLyBwYXJzZVVSSSgpIGFuZCByZXNvbHZlVXJsKCkgYXJlIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTA4ODg1MAovLyAgIC0gIHJlbGVhc2VkIGFzIHB1YmxpYyBkb21haW4gYnkgYXV0aG9yICgiWWFmZmxlIikgLSBzZWUgY29tbWVudHMgb24gZ2lzdApmdW5jdGlvbiBwYXJzZVVSSShlKXt2YXIgdD1TdHJpbmcoZSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLm1hdGNoKC9eKFteOlwvPyNdKzopPyhcL1wvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcLz8jXSopKD86OihcZCopKT8pKT8oW14/I10qKShcP1teI10qKT8oI1tcc1xTXSopPy8pOwovLyBhdXRob3JpdHkgPSAnLy8nICsgdXNlciArICc6JyArIHBhc3MgJ0AnICsgaG9zdG5hbWUgKyAnOicgcG9ydApyZXR1cm4gdD97aHJlZjp0WzBdfHwiIixwcm90b2NvbDp0WzFdfHwiIixhdXRob3JpdHk6dFsyXXx8IiIsaG9zdDp0WzNdfHwiIixob3N0bmFtZTp0WzRdfHwiIixwb3J0OnRbNV18fCIiLHBhdGhuYW1lOnRbNl18fCIiLHNlYXJjaDp0WzddfHwiIixoYXNoOnRbOF18fCIifTpudWxsfWZ1bmN0aW9uIHJlc29sdmVVcmwoZSx0KXsKLy8gUkZDIDM5ODYKcmV0dXJuIHQ9cGFyc2VVUkkodHx8IiIpLGU9cGFyc2VVUkkoZXx8IiIpLHQmJmU/KHQucHJvdG9jb2x8fGUucHJvdG9jb2wpKyh0LnByb3RvY29sfHx0LmF1dGhvcml0eT90LmF1dGhvcml0eTplLmF1dGhvcml0eSkrZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUucmVwbGFjZSgvXihcLlwuPyhcL3wkKSkrLywiIikucmVwbGFjZSgvXC8oXC4oXC98JCkpKy9nLCIvIikucmVwbGFjZSgvXC9cLlwuJC8sIi8uLi8iKS5yZXBsYWNlKC9cLz9bXlwvXSovZyxmdW5jdGlvbihlKXsiLy4uIj09PWU/dC5wb3AoKTp0LnB1c2goZSl9KSx0LmpvaW4oIiIpLnJlcGxhY2UoL15cLy8sIi8iPT09ZS5jaGFyQXQoMCk/Ii8iOiIiKX0odC5wcm90b2NvbHx8dC5hdXRob3JpdHl8fCIvIj09PXQucGF0aG5hbWUuY2hhckF0KDApP3QucGF0aG5hbWU6dC5wYXRobmFtZT8oZS5hdXRob3JpdHkmJiFlLnBhdGhuYW1lPyIvIjoiIikrZS5wYXRobmFtZS5zbGljZSgwLGUucGF0aG5hbWUubGFzdEluZGV4T2YoIi8iKSsxKSt0LnBhdGhuYW1lOmUucGF0aG5hbWUpKyh0LnByb3RvY29sfHx0LmF1dGhvcml0eXx8dC5wYXRobmFtZT90LnNlYXJjaDp0LnNlYXJjaHx8ZS5zZWFyY2gpK3QuaGFzaDpudWxsfWZ1bmN0aW9uIGdldERvY3VtZW50VXJpKGUpe3JldHVybiBlLnNwbGl0KCIjIilbMF19ZnVuY3Rpb24gbm9ybVNjaGVtYShlLHQpe2lmKGUmJiJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSkpaWYodm9pZCAwPT09dD90PWUuaWQ6InN0cmluZyI9PXR5cGVvZiBlLmlkJiYodD1yZXNvbHZlVXJsKHQsZS5pZCksZS5pZD10KSxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKW5vcm1TY2hlbWEoZVtyXSx0KTtlbHNleyJzdHJpbmciPT10eXBlb2YgZS4kcmVmJiYoZS4kcmVmPXJlc29sdmVVcmwodCxlLiRyZWYpKTtmb3IodmFyIG4gaW4gZSkiZW51bSIhPT1uJiZub3JtU2NoZW1hKGVbbl0sdCl9fWZ1bmN0aW9uIGRlZmF1bHRFcnJvclJlcG9ydGVyKGUpe2U9ZXx8ImVuIjt2YXIgdD1QW2VdO3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10W2UuY29kZV18fFNbZS5jb2RlXTtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIlVua25vd24gZXJyb3IgY29kZSAiK2UuY29kZSsiOiAiKygwLGkuZGVmYXVsdCkoZS5tZXNzYWdlUGFyYW1zKTt2YXIgbj1lLnBhcmFtczsKLy8gQWRhcHRlZCBmcm9tIENyb2NrZm9yZCdzIHN1cHBsYW50KCkKcmV0dXJuIHIucmVwbGFjZSgvXHsoW157fV0qKVx9L2csZnVuY3Rpb24oZSx0KXt2YXIgcj1uW3RdO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3I6ZX0pfX1mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZSx0LHIsbixpKXtpZihFcnJvci5jYWxsKHRoaXMpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiAiK24pO3RoaXMubWVzc2FnZT0iIix0aGlzLnBhcmFtcz10LHRoaXMuY29kZT1lLHRoaXMuZGF0YVBhdGg9cnx8IiIsdGhpcy5zY2hlbWFQYXRoPW58fCIiLHRoaXMuc3ViRXJyb3JzPWl8fG51bGw7dmFyIG89bmV3IEVycm9yKHRoaXMubWVzc2FnZSk7aWYodGhpcy5zdGFjaz1vLnN0YWNrfHxvLnN0YWNrdHJhY2UsIXRoaXMuc3RhY2spdHJ5e3Rocm93IG99Y2F0Y2gobyl7dGhpcy5zdGFjaz1vLnN0YWNrfHxvLnN0YWNrdHJhY2V9fWZ1bmN0aW9uIGlzVHJ1c3RlZFVybChlLHQpe2lmKHQuc3Vic3RyaW5nKDAsZS5sZW5ndGgpPT09ZSl7dmFyIHI9dC5zdWJzdHJpbmcoZS5sZW5ndGgpO2lmKHQubGVuZ3RoPjAmJiIvIj09PXQuY2hhckF0KGUubGVuZ3RoLTEpfHwiIyI9PT1yLmNoYXJBdCgwKXx8Ij8iPT09ci5jaGFyQXQoMCkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlQXBpKGUpe3ZhciB0LHIsbj1uZXcgZyxpPXtzZXRFcnJvclJlcG9ydGVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLmxhbmd1YWdlKGUpOihyPWUsITApfSxhZGRGb3JtYXQ6ZnVuY3Rpb24oKXtuLmFkZEZvcm1hdC5hcHBseShuLGFyZ3VtZW50cyl9LGxhbmd1YWdlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyhQW2VdfHwoZT1lLnNwbGl0KCItIilbMF0pLCEhUFtlXSYmKHQ9ZSxlKSk6dH0sYWRkTGFuZ3VhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IociBpbiBfKXRbcl0mJiF0W19bcl1dJiYodFtfW3JdXT10W3JdKTt2YXIgbj1lLnNwbGl0KCItIilbMF07aWYoUFtuXSl7UFtlXT0oMCxmLmRlZmF1bHQpKFBbbl0pO2ZvcihyIGluIHQpdm9pZCAwPT09UFtuXVtyXSYmKFBbbl1bcl09dFtyXSksUFtlXVtyXT10W3JdfWVsc2UKLy8gdXNlIGZvciBiYXNlIGxhbmd1YWdlIGlmIG5vdCB5ZXQgZGVmaW5lZApQW2VdPXQsUFtuXT10O3JldHVybiB0aGlzfSxmcmVzaEFwaTpmdW5jdGlvbihlKXt2YXIgdD1jcmVhdGVBcGkoKTtyZXR1cm4gZSYmdC5sYW5ndWFnZShlKSx0fSx2YWxpZGF0ZTpmdW5jdGlvbihlLGksbyxzKXt2YXIgYT1kZWZhdWx0RXJyb3JSZXBvcnRlcih0KSx1PXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKGUsdCxuKXx8YShlLHQsbil9OmEsYz1uZXcgZyhuLCExLHUsbyxzKTsic3RyaW5nIj09dHlwZW9mIGkmJihpPXskcmVmOml9KSxjLmFkZFNjaGVtYSgiIixpKTt2YXIgZj1jLnZhbGlkYXRlQWxsKGUsaSxudWxsLG51bGwsIiIpO3JldHVybiFmJiZzJiYoZj1jLmJhblVua25vd25Qcm9wZXJ0aWVzKGUsaSkpLHRoaXMuZXJyb3I9Zix0aGlzLm1pc3Npbmc9Yy5taXNzaW5nLHRoaXMudmFsaWQ9bnVsbD09PWYsdGhpcy52YWxpZH0sdmFsaWRhdGVSZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy52YWxpZGF0ZS5hcHBseShlLGFyZ3VtZW50cyksZX0sdmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLGksbyxzKXt2YXIgYT1kZWZhdWx0RXJyb3JSZXBvcnRlcih0KSx1PXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKGUsdCxuKXx8YShlLHQsbil9OmEsYz1uZXcgZyhuLCEwLHUsbyxzKTsic3RyaW5nIj09dHlwZW9mIGkmJihpPXskcmVmOml9KSxjLmFkZFNjaGVtYSgiIixpKSxjLnZhbGlkYXRlQWxsKGUsaSxudWxsLG51bGwsIiIpLHMmJmMuYmFuVW5rbm93blByb3BlcnRpZXMoZSxpKTt2YXIgZj17fTtyZXR1cm4gZi5lcnJvcnM9Yy5lcnJvcnMsZi5taXNzaW5nPWMubWlzc2luZyxmLnZhbGlkPTA9PT1mLmVycm9ycy5sZW5ndGgsZn0sYWRkU2NoZW1hOmZ1bmN0aW9uKCl7cmV0dXJuIG4uYWRkU2NoZW1hLmFwcGx5KG4sYXJndW1lbnRzKX0sZ2V0U2NoZW1hOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2NoZW1hLmFwcGx5KG4sYXJndW1lbnRzKX0sZ2V0U2NoZW1hTWFwOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2NoZW1hTWFwLmFwcGx5KG4sYXJndW1lbnRzKX0sZ2V0U2NoZW1hVXJpczpmdW5jdGlvbigpe3JldHVybiBuLmdldFNjaGVtYVVyaXMuYXBwbHkobixhcmd1bWVudHMpfSxnZXRNaXNzaW5nVXJpczpmdW5jdGlvbigpe3JldHVybiBuLmdldE1pc3NpbmdVcmlzLmFwcGx5KG4sYXJndW1lbnRzKX0sZHJvcFNjaGVtYXM6ZnVuY3Rpb24oKXtuLmRyb3BTY2hlbWFzLmFwcGx5KG4sYXJndW1lbnRzKX0sZGVmaW5lS2V5d29yZDpmdW5jdGlvbigpe24uZGVmaW5lS2V5d29yZC5hcHBseShuLGFyZ3VtZW50cyl9LGRlZmluZUVycm9yOmZ1bmN0aW9uKGUsdCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCEvXltBLVpdKyhfW0EtWl0rKSokLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcigiQ29kZSBuYW1lIG11c3QgYmUgYSBzdHJpbmcgaW4gVVBQRVJfQ0FTRV9XSVRIX1VOREVSU0NPUkVTIik7aWYoIm51bWJlciIhPXR5cGVvZiB0fHx0JTEhPTB8fHQ8MWU0KXRocm93IG5ldyBFcnJvcigiQ29kZSBudW1iZXIgbXVzdCBiZSBhbiBpbnRlZ2VyID4gMTAwMDAiKTtpZih2b2lkIDAhPT1fW2VdKXRocm93IG5ldyBFcnJvcigiRXJyb3IgYWxyZWFkeSBkZWZpbmVkOiAiK2UrIiBhcyAiK19bZV0pO2lmKHZvaWQgMCE9PVJbdF0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBjb2RlIGFscmVhZHkgdXNlZDogIitSW3RdKyIgYXMgIit0KTtfW2VdPXQsUlt0XT1lLFNbZV09U1t0XT1yO2Zvcih2YXIgbiBpbiBQKXt2YXIgaT1QW25dO2lbZV0mJihpW3RdPWlbdF18fGlbZV0pfX0scmVzZXQ6ZnVuY3Rpb24oKXtuLnJlc2V0KCksdGhpcy5lcnJvcj1udWxsLHRoaXMubWlzc2luZz1bXSx0aGlzLnZhbGlkPSEwfSxtaXNzaW5nOltdLGVycm9yOm51bGwsdmFsaWQ6ITAsbm9ybVNjaGVtYTpub3JtU2NoZW1hLHJlc29sdmVVcmw6cmVzb2x2ZVVybCxnZXREb2N1bWVudFVyaTpnZXREb2N1bWVudFVyaSxlcnJvckNvZGVzOl99O3JldHVybiBpLmxhbmd1YWdlKGV8fCJlbiIpLGl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMjAwKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDUxMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyMDMpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoOTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoMzcpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKTsvKgogQXV0aG9yOiBHZXJhaW50IEx1ZmYgYW5kIG90aGVycwogWWVhcjogMjAxMwoKIFRoaXMgY29kZSBpcyByZWxlYXNlZCBpbnRvIHRoZSAicHVibGljIGRvbWFpbiIgYnkgaXRzIGF1dGhvcihzKS4gIEFueWJvZHkgbWF5IHVzZSwgYWx0ZXIgYW5kIGRpc3RyaWJ1dGUgdGhlIGNvZGUgd2l0aG91dCByZXN0cmljdGlvbi4gIFRoZSBhdXRob3IgbWFrZXMgbm8gZ3VhcmFudGVlcywgYW5kIHRha2VzIG5vIGxpYWJpbGl0eSBvZiBhbnkga2luZCBmb3IgdXNlIG9mIHRoaXMgY29kZS4KCiBJZiB5b3UgZmluZCBhIGJ1ZyBvciBtYWtlIGFuIGltcHJvdmVtZW50LCBpdCB3b3VsZCBiZSBjb3VydGVvdXMgdG8gbGV0IHRoZSBhdXRob3Iga25vdywgYnV0IGl0IGlzIG5vdCBjb21wdWxzb3J5LgogKi8KLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXM/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRk9iamVjdCUyRmtleXMKeS5kZWZhdWx0fHwoT2JqZWN0LmtleXM9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHQ9IXt0b1N0cmluZzpudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgidG9TdHJpbmciKSxyPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sbj1yLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oaSl7aWYoIm9iamVjdCIhPT0odm9pZCAwPT09aT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGkpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIGl8fG51bGw9PT1pKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Iik7dmFyIG89W107Zm9yKHZhciBzIGluIGkpZS5jYWxsKGkscykmJm8ucHVzaChzKTtpZih0KWZvcih2YXIgYT0wO2E8bjthKyspZS5jYWxsKGksclthXSkmJm8ucHVzaChyW2FdKTtyZXR1cm4gb319KCkpLAovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlCmYuZGVmYXVsdHx8KE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiBmdW5jdGlvbihlKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIk9iamVjdC5jcmVhdGUgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuIik7cmV0dXJuIEYucHJvdG90eXBlPWUsbmV3IEZ9fSgpKSwKLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpc0FycmF5CkFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KSwKLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZj9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpbmRleE9mCkFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7aWYobnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgdD1PYmplY3QodGhpcykscj10Lmxlbmd0aD4+PjA7aWYoMD09PXIpcmV0dXJuLTE7dmFyIG49MDtpZihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU51bWJlcihhcmd1bWVudHNbMV0pLG4hPT1uPwovLyBzaG9ydGN1dCBmb3IgdmVyaWZ5aW5nIGlmIGl0J3MgTmFOCm49MDowIT09biYmbiE9PTEvMCYmbiE9PS0xLzAmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpLG4+PXIpcmV0dXJuLTE7Zm9yKHZhciBpPW4+PTA/bjpNYXRoLm1heChyLU1hdGguYWJzKG4pLDApO2k8cjtpKyspaWYoaSBpbiB0JiZ0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX0pLAovLyBHcnVuZ2V5IE9iamVjdC5pc0Zyb3plbiBoYWNrCnUuZGVmYXVsdHx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9InR2NF90ZXN0X2Zyb3plbl9rZXkiO2UuaGFzT3duUHJvcGVydHkodCk7KXQrPU1hdGgucmFuZG9tKCk7dHJ5e3JldHVybiBlW3RdPSEwLGRlbGV0ZSBlW3RdLCExfWNhdGNoKGUpe3JldHVybiEwfX0pOwovLyBCYXNlZCBvbjogaHR0cHM6Ly9naXRodWIuY29tL2dlcmFpbnRsdWZmL3VyaS10ZW1wbGF0ZXMsIGJ1dCB3aXRoIGFsbCB0aGUgZGUtc3Vic3RpdHV0aW9uIHN0dWZmIHJlbW92ZWQKdmFyIGg9eyIrIjohMCwiIyI6ITAsIi4iOiEwLCIvIjohMCwiOyI6ITAsIj8iOiEwLCImIjohMH0sdj17IioiOiEwfTtVcmlUZW1wbGF0ZS5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVtcGxhdGV9LGZpbGxGcm9tT2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZpbGwoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KX19O3ZhciBnPWZ1bmN0aW9uKGUsdCxyLG4saSl7aWYodGhpcy5taXNzaW5nPVtdLHRoaXMubWlzc2luZ01hcD17fSx0aGlzLmZvcm1hdFZhbGlkYXRvcnM9ZT8oMCxmLmRlZmF1bHQpKGUuZm9ybWF0VmFsaWRhdG9ycyk6e30sdGhpcy5zY2hlbWFzPWU/KDAsZi5kZWZhdWx0KShlLnNjaGVtYXMpOnt9LHRoaXMuY29sbGVjdE11bHRpcGxlPXQsdGhpcy5lcnJvcnM9W10sdGhpcy5oYW5kbGVFcnJvcj10P3RoaXMuY29sbGVjdEVycm9yOnRoaXMucmV0dXJuRXJyb3IsbiYmKHRoaXMuY2hlY2tSZWN1cnNpdmU9ITAsdGhpcy5zY2FubmVkPVtdLHRoaXMuc2Nhbm5lZEZyb3plbj1bXSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzPVtdLHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnM9W10sdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5PSJ0djRfdmFsaWRhdGlvbl9pZCIsdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5PSJ0djRfdmFsaWRhdGlvbl9lcnJvcnNfaWQiKSxpJiYodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzPSEwLHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPXt9LHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30pLHRoaXMuZXJyb3JSZXBvcnRlcj1yfHxkZWZhdWx0RXJyb3JSZXBvcnRlcigiZW4iKSwic3RyaW5nIj09dHlwZW9mIHRoaXMuZXJyb3JSZXBvcnRlcil0aHJvdyBuZXcgRXJyb3IoImRlYnVnIik7aWYodGhpcy5kZWZpbmVkS2V5d29yZHM9e30sZSlmb3IodmFyIG8gaW4gZS5kZWZpbmVkS2V5d29yZHMpdGhpcy5kZWZpbmVkS2V5d29yZHNbb109ZS5kZWZpbmVkS2V5d29yZHNbb10uc2xpY2UoMCl9O2cucHJvdG90eXBlLmRlZmluZUtleXdvcmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmRlZmluZWRLZXl3b3Jkc1tlXT10aGlzLmRlZmluZWRLZXl3b3Jkc1tlXXx8W10sdGhpcy5kZWZpbmVkS2V5d29yZHNbZV0ucHVzaCh0KX0sZy5wcm90b3R5cGUuY3JlYXRlRXJyb3I9ZnVuY3Rpb24oZSx0LHIsbixpLG8scyl7dmFyIGE9bmV3IFZhbGlkYXRpb25FcnJvcihlLHQscixuLGkpO3JldHVybiBhLm1lc3NhZ2U9dGhpcy5lcnJvclJlcG9ydGVyKGEsbyxzKSxhfSxnLnByb3RvdHlwZS5yZXR1cm5FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZy5wcm90b3R5cGUuY29sbGVjdEVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLmVycm9ycy5wdXNoKGUpLG51bGx9LGcucHJvdG90eXBlLnByZWZpeEVycm9ycz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWU7bjx0aGlzLmVycm9ycy5sZW5ndGg7bisrKXRoaXMuZXJyb3JzW25dPXRoaXMuZXJyb3JzW25dLnByZWZpeFdpdGgodCxyKTtyZXR1cm4gdGhpc30sZy5wcm90b3R5cGUuYmFuVW5rbm93blByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocyl7dmFyIG49dGhpcy5jcmVhdGVFcnJvcihfLlVOS05PV05fUFJPUEVSVFkse3BhdGg6cn0sciwiIixudWxsLGUsdCksaT10aGlzLmhhbmRsZUVycm9yKG4pO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLmFkZEZvcm1hdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSkpe2Zvcih2YXIgciBpbiBlKXRoaXMuYWRkRm9ybWF0KHIsZVtyXSk7cmV0dXJuIHRoaXN9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW2VdPXR9LGcucHJvdG90eXBlLnJlc29sdmVSZWZzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09ZS4kcmVmKXtpZih0PXR8fHt9LHRbZS4kcmVmXSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLkNJUkNVTEFSX1JFRkVSRU5DRSx7dXJsczooMCx5LmRlZmF1bHQpKHQpLmpvaW4oIiwgIil9LCIiLCIiLG51bGwsdm9pZCAwLGUpO3RbZS4kcmVmXT0hMCxlPXRoaXMuZ2V0U2NoZW1hKGUuJHJlZix0KX1yZXR1cm4gZX0sZy5wcm90b3R5cGUuZ2V0U2NoZW1hPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYodm9pZCAwIT09dGhpcy5zY2hlbWFzW2VdKXJldHVybiByPXRoaXMuc2NoZW1hc1tlXSx0aGlzLnJlc29sdmVSZWZzKHIsdCk7dmFyIG49ZSxpPSIiO2lmKC0xIT09ZS5pbmRleE9mKCIjIikmJihpPWUuc3Vic3RyaW5nKGUuaW5kZXhPZigiIyIpKzEpLG49ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIiMiKSkpLCJvYmplY3QiPT09KDAsZC5kZWZhdWx0KSh0aGlzLnNjaGVtYXNbbl0pKXtyPXRoaXMuc2NoZW1hc1tuXTt2YXIgbz1kZWNvZGVVUklDb21wb25lbnQoaSk7aWYoIiI9PT1vKXJldHVybiB0aGlzLnJlc29sdmVSZWZzKHIsdCk7aWYoIi8iIT09by5jaGFyQXQoMCkpcmV0dXJuO2Zvcih2YXIgcz1vLnNwbGl0KCIvIikuc2xpY2UoMSksYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdLnJlcGxhY2UoL34xL2csIi8iKS5yZXBsYWNlKC9+MC9nLCJ+Iik7aWYodm9pZCAwPT09clt1XSl7cj12b2lkIDA7YnJlYWt9cj1yW3VdfWlmKHZvaWQgMCE9PXIpcmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMocix0KX12b2lkIDA9PT10aGlzLm1pc3Npbmdbbl0mJih0aGlzLm1pc3NpbmcucHVzaChuKSx0aGlzLm1pc3Npbmdbbl09bix0aGlzLm1pc3NpbmdNYXBbbl09bil9LGcucHJvdG90eXBlLnNlYXJjaFNjaGVtYXM9ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuc2VhcmNoU2NoZW1hcyhlW3JdLHQpO2Vsc2UgaWYoZSYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSl7InN0cmluZyI9PXR5cGVvZiBlLmlkJiZpc1RydXN0ZWRVcmwodCxlLmlkKSYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW2UuaWRdJiYodGhpcy5zY2hlbWFzW2UuaWRdPWUpO2Zvcih2YXIgbiBpbiBlKWlmKCJlbnVtIiE9PW4paWYoIm9iamVjdCI9PT0oMCxkLmRlZmF1bHQpKGVbbl0pKXRoaXMuc2VhcmNoU2NoZW1hcyhlW25dLHQpO2Vsc2UgaWYoIiRyZWYiPT09bil7dmFyIGk9Z2V0RG9jdW1lbnRVcmkoZVtuXSk7aSYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW2ldJiZ2b2lkIDA9PT10aGlzLm1pc3NpbmdNYXBbaV0mJih0aGlzLm1pc3NpbmdNYXBbaV09aSl9fX0sZy5wcm90b3R5cGUuYWRkU2NoZW1hPWZ1bmN0aW9uKGUsdCl7Ci8vb3ZlcmxvYWQKaWYoInN0cmluZyIhPXR5cGVvZiBlfHx2b2lkIDA9PT10KXtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpfHwic3RyaW5nIiE9dHlwZW9mIGUuaWQpcmV0dXJuO3Q9ZSxlPXQuaWR9ZT09PWdldERvY3VtZW50VXJpKGUpKyIjIiYmKAovLyBSZW1vdmUgZW1wdHkgZnJhZ21lbnQKZT1nZXREb2N1bWVudFVyaShlKSksdGhpcy5zY2hlbWFzW2VdPXQsZGVsZXRlIHRoaXMubWlzc2luZ01hcFtlXSxub3JtU2NoZW1hKHQsZSksdGhpcy5zZWFyY2hTY2hlbWFzKHQsZSl9LGcucHJvdG90eXBlLmdldFNjaGVtYU1hcD1mdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnNjaGVtYXMpZVt0XT10aGlzLnNjaGVtYXNbdF07cmV0dXJuIGV9LGcucHJvdG90eXBlLmdldFNjaGVtYVVyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMuc2NoZW1hcyllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LGcucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiB0aGlzLm1pc3NpbmdNYXApZSYmIWUudGVzdChyKXx8dC5wdXNoKHIpO3JldHVybiB0fSxnLnByb3RvdHlwZS5kcm9wU2NoZW1hcz1mdW5jdGlvbigpe3RoaXMuc2NoZW1hcz17fSx0aGlzLnJlc2V0KCl9LGcucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5taXNzaW5nPVtdLHRoaXMubWlzc2luZ01hcD17fSx0aGlzLmVycm9ycz1bXX0sZy5wcm90b3R5cGUudmFsaWRhdGVBbGw9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbztpZighKHQ9dGhpcy5yZXNvbHZlUmVmcyh0KSkpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcilyZXR1cm4gdGhpcy5lcnJvcnMucHVzaCh0KSx0O3ZhciBhLGM9dGhpcy5lcnJvcnMubGVuZ3RoLGY9bnVsbCxsPW51bGw7aWYodGhpcy5jaGVja1JlY3Vyc2l2ZSYmZSYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSl7aWYobz0hdGhpcy5zY2FubmVkLmxlbmd0aCxlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pe3ZhciBwPWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5pbmRleE9mKHQpO2lmKC0xIT09cClyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuY29uY2F0KGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtwXSksbnVsbH1pZigoMCx1LmRlZmF1bHQpKGUpJiYtMSE9PShhPXRoaXMuc2Nhbm5lZEZyb3plbi5pbmRleE9mKGUpKSl7dmFyIHk9dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1thXS5pbmRleE9mKHQpO2lmKC0xIT09eSlyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuY29uY2F0KHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbYV1beV0pLG51bGx9aWYodGhpcy5zY2FubmVkLnB1c2goZSksKDAsdS5kZWZhdWx0KShlKSktMT09PWEmJihhPXRoaXMuc2Nhbm5lZEZyb3plbi5sZW5ndGgsdGhpcy5zY2FubmVkRnJvemVuLnB1c2goZSksdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcy5wdXNoKFtdKSksZj10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdW2ZdPXQsdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVtmXT1bXTtlbHNle2lmKCFlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pdHJ5eygwLHMuZGVmYXVsdCkoZSx0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXkse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pLCgwLHMuZGVmYXVsdCkoZSx0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXkse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKHQpewovL0lFIDcvOCB3b3JrYXJvdW5kCmVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XT1bXSxlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV09W119bD1lW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0ubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XVtsXT10LGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtsXT1bXX19dmFyIGg9dGhpcy5lcnJvcnMubGVuZ3RoLHY9dGhpcy52YWxpZGF0ZUJhc2ljKGUsdCxpKXx8dGhpcy52YWxpZGF0ZU51bWVyaWMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlU3RyaW5nKGUsdCxpKXx8dGhpcy52YWxpZGF0ZUFycmF5KGUsdCxpKXx8dGhpcy52YWxpZGF0ZU9iamVjdChlLHQsaSl8fHRoaXMudmFsaWRhdGVDb21iaW5hdGlvbnMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlSHlwZXJtZWRpYShlLHQsaSl8fHRoaXMudmFsaWRhdGVGb3JtYXQoZSx0LGkpfHx0aGlzLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzKGUsdCxpKXx8bnVsbDtpZihvKXtmb3IoO3RoaXMuc2Nhbm5lZC5sZW5ndGg7KXtkZWxldGUgdGhpcy5zY2FubmVkLnBvcCgpW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV19dGhpcy5zY2FubmVkRnJvemVuPVtdLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXM9W119aWYodnx8aCE9PXRoaXMuZXJyb3JzLmxlbmd0aClmb3IoO3ImJnIubGVuZ3RofHxuJiZuLmxlbmd0aDspe3ZhciBnPXImJnIubGVuZ3RoPyIiK3IucG9wKCk6bnVsbCxiPW4mJm4ubGVuZ3RoPyIiK24ucG9wKCk6bnVsbDt2JiYodj12LnByZWZpeFdpdGgoZyxiKSksdGhpcy5wcmVmaXhFcnJvcnMoaCxnLGIpfXJldHVybiBudWxsIT09Zj90aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2ZdPXRoaXMuZXJyb3JzLnNsaWNlKGMpOm51bGwhPT1sJiYoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdPXRoaXMuZXJyb3JzLnNsaWNlKGMpKSx0aGlzLmhhbmRsZUVycm9yKHYpfSxnLnByb3RvdHlwZS52YWxpZGF0ZUZvcm1hdD1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdC5mb3JtYXR8fCF0aGlzLmZvcm1hdFZhbGlkYXRvcnNbdC5mb3JtYXRdKXJldHVybiBudWxsO3ZhciByPXRoaXMuZm9ybWF0VmFsaWRhdG9yc1t0LmZvcm1hdF0uY2FsbChudWxsLGUsdCk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiByfHwibnVtYmVyIj09dHlwZW9mIHI/dGhpcy5jcmVhdGVFcnJvcihfLkZPUk1BVF9DVVNUT00se21lc3NhZ2U6cn0sIiIsIi9mb3JtYXQiLG51bGwsZSx0KTpyJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1yPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkocikpP3RoaXMuY3JlYXRlRXJyb3IoXy5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnIubWVzc2FnZXx8Ij8ifSxyLmRhdGFQYXRofHwiIixyLnNjaGVtYVBhdGh8fCIvZm9ybWF0IixudWxsLGUsdCk6bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0aGlzLmRlZmluZWRLZXl3b3JkcylpZih2b2lkIDAhPT10W25dKWZvcih2YXIgaT10aGlzLmRlZmluZWRLZXl3b3Jkc1tuXSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb10sYT1zKGUsdFtuXSx0LHIpO2lmKCJzdHJpbmciPT10eXBlb2YgYXx8Im51bWJlciI9PXR5cGVvZiBhKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uS0VZV09SRF9DVVNUT00se2tleTpuLG1lc3NhZ2U6YX0sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxuKTtpZihhJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1hPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoYSkpKXt2YXIgdT1hLmNvZGU7aWYoInN0cmluZyI9PXR5cGVvZiB1KXtpZighX1t1XSl0aHJvdyBuZXcgRXJyb3IoIlVuZGVmaW5lZCBlcnJvciBjb2RlICh1c2UgZGVmaW5lRXJyb3IpOiAiK3UpO3U9X1t1XX1lbHNlIm51bWJlciIhPXR5cGVvZiB1JiYodT1fLktFWVdPUkRfQ1VTVE9NKTt2YXIgYz0ib2JqZWN0Ij09PSgwLGQuZGVmYXVsdCkoYS5tZXNzYWdlKT9hLm1lc3NhZ2U6e2tleTpuLG1lc3NhZ2U6YS5tZXNzYWdlfHwiPyJ9LGY9YS5zY2hlbWFQYXRofHwiLyIrbi5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKTtyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcih1LGMsYS5kYXRhUGF0aHx8bnVsbCxmLG51bGwsZSx0KX19cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQmFzaWM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3JldHVybihuPXRoaXMudmFsaWRhdGVUeXBlKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKToobj10aGlzLnZhbGlkYXRlRW51bShlLHQscikpP24ucHJlZml4V2l0aChudWxsLCJ0eXBlIik6bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVUeXBlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dC50eXBlKXJldHVybiBudWxsO3ZhciByPXZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKTtudWxsPT09ZT9yPSJudWxsIjpBcnJheS5pc0FycmF5KGUpJiYocj0iYXJyYXkiKTt2YXIgbj10LnR5cGU7QXJyYXkuaXNBcnJheShuKXx8KG49W25dKTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXTtpZihvPT09cnx8ImludGVnZXIiPT09byYmIm51bWJlciI9PT1yJiZlJTE9PTApcmV0dXJuIG51bGx9cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5JTlZBTElEX1RZUEUse3R5cGU6cixleHBlY3RlZDpuLmpvaW4oIi8iKX0sIiIsIiIsbnVsbCxlLHQpfSxnLnByb3RvdHlwZS52YWxpZGF0ZUVudW09ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LmVudW0pcmV0dXJuIG51bGw7Zm9yKHZhciByPTA7cjx0LmVudW0ubGVuZ3RoO3IrKyl7aWYocmVjdXJzaXZlQ29tcGFyZShlLHQuZW51bVtyXSkpcmV0dXJuIG51bGx9cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5FTlVNX01JU01BVENILHt2YWx1ZToidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04/KDAsaS5kZWZhdWx0KShlKTplfSwiIiwiIixudWxsLGUsdCl9LGcucHJvdG90eXBlLnZhbGlkYXRlTnVtZXJpYz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVNdWx0aXBsZU9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU1pbk1heChlLHQscil8fHRoaXMudmFsaWRhdGVOYU4oZSx0LHIpfHxudWxsfTt2YXIgYj1NYXRoLnBvdygyLC01MSksbT0xLWI7Zy5wcm90b3R5cGUudmFsaWRhdGVNdWx0aXBsZU9mPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5tdWx0aXBsZU9mfHx0LmRpdmlzaWJsZUJ5O2lmKHZvaWQgMD09PXIpcmV0dXJuIG51bGw7aWYoIm51bWJlciI9PXR5cGVvZiBlKXt2YXIgbj1lL3IlMTtpZihuPj1iJiZuPG0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTVVMVElQTEVfT0Yse3ZhbHVlOmUsbXVsdGlwbGVPZjpyfSwiIiwiIixudWxsLGUsdCl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlTWluTWF4PWZ1bmN0aW9uKGUsdCl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXJldHVybiBudWxsO2lmKHZvaWQgMCE9PXQubWluaW11bSl7aWYoZTx0Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUlOSU1VTSx7dmFsdWU6ZSxtaW5pbXVtOnQubWluaW11bX0sIiIsIi9taW5pbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNaW5pbXVtJiZlPT09dC5taW5pbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL2V4Y2x1c2l2ZU1pbmltdW0iLG51bGwsZSx0KX1pZih2b2lkIDAhPT10Lm1heGltdW0pe2lmKGU+dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01BWElNVU0se3ZhbHVlOmUsbWF4aW11bTp0Lm1heGltdW19LCIiLCIvbWF4aW11bSIsbnVsbCxlLHQpO2lmKHQuZXhjbHVzaXZlTWF4aW11bSYmZT09PXQubWF4aW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9leGNsdXNpdmVNYXhpbXVtIixudWxsLGUsdCl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlTmFOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBlP251bGw6ITA9PT1pc05hTihlKXx8ZT09PTEvMHx8ZT09PS0xLzA/dGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9OT1RfQV9OVU1CRVIse3ZhbHVlOmV9LCIiLCIvdHlwZSIsbnVsbCxlLHQpOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZ0xlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGUsdCxyKXx8bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdMZW5ndGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/bnVsbDp2b2lkIDAhPT10Lm1pbkxlbmd0aCYmZS5sZW5ndGg8dC5taW5MZW5ndGg/dGhpcy5jcmVhdGVFcnJvcihfLlNUUklOR19MRU5HVEhfU0hPUlQse2xlbmd0aDplLmxlbmd0aCxtaW5pbXVtOnQubWluTGVuZ3RofSwiIiwiL21pbkxlbmd0aCIsbnVsbCxlLHQpOnZvaWQgMCE9PXQubWF4TGVuZ3RoJiZlLmxlbmd0aD50Lm1heExlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uU1RSSU5HX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heExlbmd0aH0sIiIsIi9tYXhMZW5ndGgiLG51bGwsZSx0KTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ1BhdHRlcm49ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgdC5wYXR0ZXJuJiYhKHQucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpcmV0dXJuIG51bGw7dmFyIHI7aWYodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKXI9dC5wYXR0ZXJuO2Vsc2V7dmFyIG4saT0iIixvPXQucGF0dGVybi5tYXRjaCgvXlwvKC4rKVwvKFtpbWddKikkLyk7bz8obj1vWzFdLGk9b1syXSk6bj10LnBhdHRlcm4scj1uZXcgUmVnRXhwKG4saSl9cmV0dXJuIHIudGVzdChlKT9udWxsOnRoaXMuY3JlYXRlRXJyb3IoXy5TVFJJTkdfUEFUVEVSTix7cGF0dGVybjp0LnBhdHRlcm59LCIiLCIvcGF0dGVybiIsbnVsbCxlLHQpfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLnZhbGlkYXRlQXJyYXlMZW5ndGgoZSx0LHIpfHx0aGlzLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheUl0ZW1zKGUsdCxyKXx8bnVsbDpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5TGVuZ3RoPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHZvaWQgMCE9PXQubWluSXRlbXMmJmUubGVuZ3RoPHQubWluSXRlbXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5BUlJBWV9MRU5HVEhfU0hPUlQse2xlbmd0aDplLmxlbmd0aCxtaW5pbXVtOnQubWluSXRlbXN9LCIiLCIvbWluSXRlbXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOnZvaWQgMCE9PXQubWF4SXRlbXMmJmUubGVuZ3RoPnQubWF4SXRlbXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5BUlJBWV9MRU5HVEhfTE9ORyx7bGVuZ3RoOmUubGVuZ3RoLG1heGltdW06dC5tYXhJdGVtc30sIiIsIi9tYXhJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zPWZ1bmN0aW9uKGUsdCl7aWYodC51bmlxdWVJdGVtcylmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIG49cisxO248ZS5sZW5ndGg7bisrKWlmKHJlY3Vyc2l2ZUNvbXBhcmUoZVtyXSxlW25dKSl7dmFyIGk9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX1VOSVFVRSx7bWF0Y2gxOnIsbWF0Y2gyOm59LCIiLCIvdW5pcXVlSXRlbXMiLG51bGwsZSx0KTtpZih0aGlzLmhhbmRsZUVycm9yKGkpKXJldHVybiBpfXJldHVybiBudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5SXRlbXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQuaXRlbXMpcmV0dXJuIG51bGw7dmFyIG4saTtpZihBcnJheS5pc0FycmF5KHQuaXRlbXMpKXtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGk8dC5pdGVtcy5sZW5ndGgpe2lmKG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQuaXRlbXNbaV0sW2ldLFsiaXRlbXMiLGldLHIrIi8iK2kpKXJldHVybiBufWVsc2UgaWYodm9pZCAwIT09dC5hZGRpdGlvbmFsSXRlbXMpaWYoImJvb2xlYW4iPT10eXBlb2YgdC5hZGRpdGlvbmFsSXRlbXMpe2lmKCF0LmFkZGl0aW9uYWxJdGVtcyYmKG49dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0FERElUSU9OQUxfSVRFTVMse30sIi8iK2ksIi9hZGRpdGlvbmFsSXRlbXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQuYWRkaXRpb25hbEl0ZW1zLFtpXSxbImFkZGl0aW9uYWxJdGVtcyJdLHIrIi8iK2kpKXJldHVybiBufWVsc2UgZm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0Lml0ZW1zLFtpXSxbIml0ZW1zIl0scisiLyIraSkpcmV0dXJuIG47cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4ib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpfHxudWxsPT09ZXx8QXJyYXkuaXNBcnJheShlKT9udWxsOnRoaXMudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhlLHQscil8fG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcz1mdW5jdGlvbihlLHQpe3ZhciByLG49KDAseS5kZWZhdWx0KShlKTtyZXR1cm4gdm9pZCAwIT09dC5taW5Qcm9wZXJ0aWVzJiZuLmxlbmd0aDx0Lm1pblByb3BlcnRpZXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNLHtwcm9wZXJ0eUNvdW50Om4ubGVuZ3RoLG1pbmltdW06dC5taW5Qcm9wZXJ0aWVzfSwiIiwiL21pblByb3BlcnRpZXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOnZvaWQgMCE9PXQubWF4UHJvcGVydGllcyYmbi5sZW5ndGg+dC5tYXhQcm9wZXJ0aWVzJiYocj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSx7cHJvcGVydHlDb3VudDpuLmxlbmd0aCxtYXhpbXVtOnQubWF4UHJvcGVydGllc30sIiIsIi9tYXhQcm9wZXJ0aWVzIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQucmVxdWlyZWQpZm9yKHZhciByPTA7cjx0LnJlcXVpcmVkLmxlbmd0aDtyKyspe3ZhciBuPXQucmVxdWlyZWRbcl07aWYodm9pZCAwPT09ZVtuXSl7dmFyIGk9dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9SRVFVSVJFRCx7a2V5Om59LCIiLCIvcmVxdWlyZWQvIityLG51bGwsZSx0KTtpZih0aGlzLmhhbmRsZUVycm9yKGkpKXJldHVybiBpfX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtmb3IodmFyIGkgaW4gZSl7dmFyIG89cisiLyIraS5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKSxzPSExO2lmKHZvaWQgMCE9PXQucHJvcGVydGllcyYmdm9pZCAwIT09dC5wcm9wZXJ0aWVzW2ldJiYocz0hMCxuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0LnByb3BlcnRpZXNbaV0sW2ldLFsicHJvcGVydGllcyIsaV0sbykpKXJldHVybiBuO2lmKHZvaWQgMCE9PXQucGF0dGVyblByb3BlcnRpZXMpZm9yKHZhciBhIGluIHQucGF0dGVyblByb3BlcnRpZXMpe3ZhciB1PW5ldyBSZWdFeHAoYSk7aWYodS50ZXN0KGkpJiYocz0hMCxuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0LnBhdHRlcm5Qcm9wZXJ0aWVzW2FdLFtpXSxbInBhdHRlcm5Qcm9wZXJ0aWVzIixhXSxvKSkpcmV0dXJuIG59aWYocyl0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLmtub3duUHJvcGVydHlQYXRoc1tvXT0hMCxkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1tvXSk7ZWxzZSBpZih2b2lkIDAhPT10LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXtpZih0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLmtub3duUHJvcGVydHlQYXRoc1tvXT0hMCxkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1tvXSksImJvb2xlYW4iPT10eXBlb2YgdC5hZGRpdGlvbmFsUHJvcGVydGllcyl7aWYoIXQuYWRkaXRpb25hbFByb3BlcnRpZXMmJihuPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTLHtrZXk6aX0sIiIsIi9hZGRpdGlvbmFsUHJvcGVydGllcyIsbnVsbCxlLHQpLnByZWZpeFdpdGgoaSxudWxsKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQuYWRkaXRpb25hbFByb3BlcnRpZXMsW2ldLFsiYWRkaXRpb25hbFByb3BlcnRpZXMiXSxvKSlyZXR1cm4gbn1lbHNlIHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmIXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW29dJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRoc1tvXT0hMCl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtpZih2b2lkIDAhPT10LmRlcGVuZGVuY2llcylmb3IodmFyIGkgaW4gdC5kZXBlbmRlbmNpZXMpaWYodm9pZCAwIT09ZVtpXSl7dmFyIG89dC5kZXBlbmRlbmNpZXNbaV07aWYoInN0cmluZyI9PXR5cGVvZiBvKXtpZih2b2lkIDA9PT1lW29dJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX0RFUEVOREVOQ1lfS0VZLHtrZXk6aSxtaXNzaW5nOm99LCIiLCIiLG51bGwsZSx0KS5wcmVmaXhXaXRoKG51bGwsaSkucHJlZml4V2l0aChudWxsLCJkZXBlbmRlbmNpZXMiKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKEFycmF5LmlzQXJyYXkobykpZm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBhPW9bc107aWYodm9pZCAwPT09ZVthXSYmKG49dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSx7a2V5OmksbWlzc2luZzphfSwiIiwiLyIrcyxudWxsLGUsdCkucHJlZml4V2l0aChudWxsLGkpLnByZWZpeFdpdGgobnVsbCwiZGVwZW5kZW5jaWVzIiksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihuPXRoaXMudmFsaWRhdGVBbGwoZSxvLFtdLFsiZGVwZW5kZW5jaWVzIixpXSxyKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVDb21iaW5hdGlvbnM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlQWxsT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlQW55T2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT25lT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTm90KGUsdCxyKXx8bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVBbGxPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5hbGxPZilyZXR1cm4gbnVsbDtmb3IodmFyIG4saT0wO2k8dC5hbGxPZi5sZW5ndGg7aSsrKXt2YXIgbz10LmFsbE9mW2ldO2lmKG49dGhpcy52YWxpZGF0ZUFsbChlLG8sW10sWyJhbGxPZiIsaV0scikpcmV0dXJuIG59cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQW55T2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQuYW55T2YpcmV0dXJuIG51bGw7dmFyIG4saSxvPVtdLHM9dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxpPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKTtmb3IodmFyIGE9ITAsdT0wO3U8dC5hbnlPZi5sZW5ndGg7dSsrKXt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPXt9LHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPXt9KTt2YXIgYz10LmFueU9mW3VdLGY9dGhpcy5lcnJvcnMubGVuZ3RoLGw9dGhpcy52YWxpZGF0ZUFsbChlLGMsW10sWyJhbnlPZiIsdV0scik7aWYobnVsbD09PWwmJmY9PT10aGlzLmVycm9ycy5sZW5ndGgpe2lmKHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAscyksdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKXtmb3IodmFyIGQgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpaVtkXT0hMCxkZWxldGUgbltkXTtmb3IodmFyIHAgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocylpW3BdfHwobltwXT0hMCk7Ci8vIFdlIG5lZWQgdG8gY29udGludWUgbG9vcGluZyBzbyB3ZSBjYXRjaCBhbGwgdGhlIHByb3BlcnR5IGRlZmluaXRpb25zLCBidXQgd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYW4gZXJyb3IKYT0hMTtjb250aW51ZX1yZXR1cm4gbnVsbH1sJiZvLnB1c2gobC5wcmVmaXhXaXRoKG51bGwsIiIrdSkucHJlZml4V2l0aChudWxsLCJhbnlPZiIpKX1yZXR1cm4gdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz1uLHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPWkpLGE/KG89by5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2UocykpLHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAscyksdGhpcy5jcmVhdGVFcnJvcihfLkFOWV9PRl9NSVNTSU5HLHt9LCIiLCIvYW55T2YiLG8sZSx0KSk6dm9pZCAwfSxnLnByb3RvdHlwZS52YWxpZGF0ZU9uZU9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lm9uZU9mKXJldHVybiBudWxsO3ZhciBuLGksbz1udWxsLHM9W10sYT10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLGk9dGhpcy5rbm93blByb3BlcnR5UGF0aHMpO2Zvcih2YXIgdT0wO3U8dC5vbmVPZi5sZW5ndGg7dSsrKXt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPXt9LHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPXt9KTt2YXIgYz10Lm9uZU9mW3VdLGY9dGhpcy5lcnJvcnMubGVuZ3RoLGw9dGhpcy52YWxpZGF0ZUFsbChlLGMsW10sWyJvbmVPZiIsdV0scik7aWYobnVsbD09PWwmJmY9PT10aGlzLmVycm9ycy5sZW5ndGgpe2lmKG51bGwhPT1vKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGEpLHRoaXMuY3JlYXRlRXJyb3IoXy5PTkVfT0ZfTVVMVElQTEUse2luZGV4MTpvLGluZGV4Mjp1fSwiIiwiL29uZU9mIixudWxsLGUsdCk7aWYobz11LHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyl7Zm9yKHZhciBkIGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKWlbZF09ITAsZGVsZXRlIG5bZF07Zm9yKHZhciBwIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpaVtwXXx8KG5bcF09ITApfX1lbHNlIGwmJnMucHVzaChsKX1yZXR1cm4gdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz1uLHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPWkpLG51bGw9PT1vPyhzPXMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKGEpKSx0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGEpLHRoaXMuY3JlYXRlRXJyb3IoXy5PTkVfT0ZfTUlTU0lORyx7fSwiIiwiL29uZU9mIixzLGUsdCkpOih0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGEpLG51bGwpfSxnLnByb3RvdHlwZS52YWxpZGF0ZU5vdD1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5ub3QpcmV0dXJuIG51bGw7dmFyIG4saSxvPXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsaT10aGlzLmtub3duUHJvcGVydHlQYXRocyx0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPXt9LHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPXt9KTt2YXIgcz10aGlzLnZhbGlkYXRlQWxsKGUsdC5ub3QsbnVsbCxudWxsLHIpLGE9dGhpcy5lcnJvcnMuc2xpY2Uobyk7cmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsbyksdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz1uLHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPWkpLG51bGw9PT1zJiYwPT09YS5sZW5ndGg/dGhpcy5jcmVhdGVFcnJvcihfLk5PVF9QQVNTRUQse30sIiIsIi9ub3QiLG51bGwsZSx0KTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUh5cGVybWVkaWE9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0LmxpbmtzKXJldHVybiBudWxsO2Zvcih2YXIgbixpPTA7aTx0LmxpbmtzLmxlbmd0aDtpKyspe3ZhciBvPXQubGlua3NbaV07aWYoImRlc2NyaWJlZGJ5Ij09PW8ucmVsKXtmb3IodmFyIHM9bmV3IFVyaVRlbXBsYXRlKG8uaHJlZiksYT0hMCx1PTA7dTxzLnZhck5hbWVzLmxlbmd0aDt1KyspaWYoIShzLnZhck5hbWVzW3VdaW4gZSkpe2E9ITE7YnJlYWt9aWYoYSl7dmFyIGM9cy5maWxsRnJvbU9iamVjdChlKSxmPXskcmVmOmN9O2lmKG49dGhpcy52YWxpZGF0ZUFsbChlLGYsW10sWyJsaW5rcyIsaV0scikpcmV0dXJuIG59fX19O3ZhciBfPXtJTlZBTElEX1RZUEU6MCxFTlVNX01JU01BVENIOjEsQU5ZX09GX01JU1NJTkc6MTAsT05FX09GX01JU1NJTkc6MTEsT05FX09GX01VTFRJUExFOjEyLE5PVF9QQVNTRUQ6MTMsCi8vIE51bWVyaWMgZXJyb3JzCk5VTUJFUl9NVUxUSVBMRV9PRjoxMDAsTlVNQkVSX01JTklNVU06MTAxLE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRToxMDIsTlVNQkVSX01BWElNVU06MTAzLE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRToxMDQsTlVNQkVSX05PVF9BX05VTUJFUjoxMDUsCi8vIFN0cmluZyBlcnJvcnMKU1RSSU5HX0xFTkdUSF9TSE9SVDoyMDAsU1RSSU5HX0xFTkdUSF9MT05HOjIwMSxTVFJJTkdfUEFUVEVSTjoyMDIsCi8vIE9iamVjdCBlcnJvcnMKT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTozMDAsT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTozMDEsT0JKRUNUX1JFUVVJUkVEOjMwMixPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOjMwMyxPQkpFQ1RfREVQRU5ERU5DWV9LRVk6MzA0LAovLyBBcnJheSBlcnJvcnMKQVJSQVlfTEVOR1RIX1NIT1JUOjQwMCxBUlJBWV9MRU5HVEhfTE9ORzo0MDEsQVJSQVlfVU5JUVVFOjQwMixBUlJBWV9BRERJVElPTkFMX0lURU1TOjQwMywKLy8gQ3VzdG9tL3VzZXItZGVmaW5lZCBlcnJvcnMKRk9STUFUX0NVU1RPTTo1MDAsS0VZV09SRF9DVVNUT006NTAxLAovLyBTY2hlbWEgc3RydWN0dXJlCkNJUkNVTEFSX1JFRkVSRU5DRTo2MDAsCi8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnMKVU5LTk9XTl9QUk9QRVJUWToxZTN9LFI9e307Zm9yKHZhciB3IGluIF8pUltfW3ddXT13O3ZhciBTPXtJTlZBTElEX1RZUEU6IkludmFsaWQgdHlwZToge3R5cGV9IChleHBlY3RlZCB7ZXhwZWN0ZWR9KSIsRU5VTV9NSVNNQVRDSDoiTm8gZW51bSBtYXRjaCBmb3I6IHt2YWx1ZX0iLEFOWV9PRl9NSVNTSU5HOidEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gImFueU9mIicsT05FX09GX01JU1NJTkc6J0RhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAib25lT2YiJyxPTkVfT0ZfTVVMVElQTEU6J0RhdGEgaXMgdmFsaWQgYWdhaW5zdCBtb3JlIHRoYW4gb25lIHNjaGVtYSBmcm9tICJvbmVPZiI6IGluZGljZXMge2luZGV4MX0gYW5kIHtpbmRleDJ9JyxOT1RfUEFTU0VEOidEYXRhIG1hdGNoZXMgc2NoZW1hIGZyb20gIm5vdCInLAovLyBOdW1lcmljIGVycm9ycwpOVU1CRVJfTVVMVElQTEVfT0Y6IlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgbXVsdGlwbGUgb2Yge211bHRpcGxlT2Z9IixOVU1CRVJfTUlOSU1VTToiVmFsdWUge3ZhbHVlfSBpcyBsZXNzIHRoYW4gbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRToiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NQVhJTVVNOiJWYWx1ZSB7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX05PVF9BX05VTUJFUjoiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIiLAovLyBTdHJpbmcgZXJyb3JzClNUUklOR19MRU5HVEhfU0hPUlQ6IlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX0iLFNUUklOR19MRU5HVEhfTE9ORzoiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19IixTVFJJTkdfUEFUVEVSTjoiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufSIsCi8vIE9iamVjdCBlcnJvcnMKT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTToiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1pbmltdW0ge21pbmltdW19IixPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiJUb28gbWFueSBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1heGltdW0ge21heGltdW19IixPQkpFQ1RfUkVRVUlSRUQ6Ik1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHtrZXl9IixPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiJBZGRpdGlvbmFsIHByb3BlcnRpZXMgbm90IGFsbG93ZWQiLE9CSkVDVF9ERVBFTkRFTkNZX0tFWToiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDoge21pc3Npbmd9IChkdWUgdG8ga2V5OiB7a2V5fSkiLAovLyBBcnJheSBlcnJvcnMKQVJSQVlfTEVOR1RIX1NIT1JUOiJBcnJheSBpcyB0b28gc2hvcnQgKHtsZW5ndGh9KSwgbWluaW11bSB7bWluaW11bX0iLEFSUkFZX0xFTkdUSF9MT05HOiJBcnJheSBpcyB0b28gbG9uZyAoe2xlbmd0aH0pLCBtYXhpbXVtIHttYXhpbXVtfSIsQVJSQVlfVU5JUVVFOiJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZSAoaW5kaWNlcyB7bWF0Y2gxfSBhbmQge21hdGNoMn0pIixBUlJBWV9BRERJVElPTkFMX0lURU1TOiJBZGRpdGlvbmFsIGl0ZW1zIG5vdCBhbGxvd2VkIiwKLy8gRm9ybWF0IGVycm9ycwpGT1JNQVRfQ1VTVE9NOiJGb3JtYXQgdmFsaWRhdGlvbiBmYWlsZWQgKHttZXNzYWdlfSkiLEtFWVdPUkRfQ1VTVE9NOiJLZXl3b3JkIGZhaWxlZDoge2tleX0gKHttZXNzYWdlfSkiLAovLyBTY2hlbWEgc3RydWN0dXJlCkNJUkNVTEFSX1JFRkVSRU5DRToiQ2lyY3VsYXIgJHJlZnM6IHt1cmxzfSIsCi8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnMKVU5LTk9XTl9QUk9QRVJUWToiVW5rbm93biBwcm9wZXJ0eSAobm90IGluIHNjaGVtYSkifTtWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlPSgwLGYuZGVmYXVsdCkoRXJyb3IucHJvdG90eXBlKSxWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPVZhbGlkYXRpb25FcnJvcixWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLm5hbWU9IlZhbGlkYXRpb25FcnJvciIsVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5wcmVmaXhXaXRoPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9PWUmJihlPWUucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksdGhpcy5kYXRhUGF0aD0iLyIrZSt0aGlzLmRhdGFQYXRoKSxudWxsIT09dCYmKHQ9dC5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKSx0aGlzLnNjaGVtYVBhdGg9Ii8iK3QrdGhpcy5zY2hlbWFQYXRoKSxudWxsIT09dGhpcy5zdWJFcnJvcnMpZm9yKHZhciByPTA7cjx0aGlzLnN1YkVycm9ycy5sZW5ndGg7cisrKXRoaXMuc3ViRXJyb3JzW3JdLnByZWZpeFdpdGgoZSx0KTtyZXR1cm4gdGhpc307dmFyIFA9e30sTz1jcmVhdGVBcGkoKTtPLmFkZExhbmd1YWdlKCJlbi1nYiIsUyksCi8vbGVnYWN5IHByb3BlcnR5Ck8udHY0PU8sCi8vcmV0dXJuIHR2NDsKdC5kZWZhdWx0PU8sCi8vfQplLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUxMyksX19lc01vZHVsZTohMH19LC8qIDUxMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig1MTQpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QuaXNGcm96ZW59LC8qIDUxNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xMiBPYmplY3QuaXNGcm96ZW4oTykKdmFyIG49cigzNik7cig5NykoImlzRnJvemVuIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIW4odCl8fCEhZSYmZSh0KX19KX0sLyogNTE1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMzcpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDcpLHk9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocCksaD1yKDE0KSx2PXIoMjExKSxnPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQodiksYj1yKDEwMCksbT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChiKSxfPXkuZ2V0TG9nZ2VyKCJSZXBvcnRlck9iamVjdCIpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZXBvcnRlck9iamVjdChlLHQscil7KDAsZi5kZWZhdWx0KSh0aGlzLFJlcG9ydGVyT2JqZWN0KTt2YXIgbj10aGlzO24uX3BhcmVudD1lLG4uX293bmVyPXQsbi5fdXJsPXIsbi5fYnVzPWUuX2J1cyxuLl9kb21haW49KDAsaC5kaXZpZGVVUkwpKHIpLmRvbWFpbixuLl9vYmpTdWJzY3JpcHRvclVSTD1uLl91cmwrIi9zdWJzY3JpcHRpb24iLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fY2hpbGRyZW5zPVtdLG4uX2NoaWxkcmVuTGlzdGVuZXJzPVtdLG4uX2ZvcndhcmRzPXt9LG4uX2lzVG9TYXZlRGF0YT0hMSxuLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybigwLGQuZGVmYXVsdCkoUmVwb3J0ZXJPYmplY3QsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpczsKLy9hZGQgc3Vic2NyaXB0aW9uIGxpc3RlbmVyLi4uCnQuX3N1YnNjcmlwdGlvbkxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcih0Ll9vYmpTdWJzY3JpcHRvclVSTCxmdW5jdGlvbihlKXtzd2l0Y2goXy5pbmZvKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWQgXSIsZSksZS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25SZW1vdGVTdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25SZW1vdGVVblN1YnNjcmliZShlKTticmVhaztjYXNlInJlc3BvbnNlIjp0Ll9vblJlbW90ZVJlc3BvbnNlKGUpfX0pO3ZhciByPXQuX3VybCsiL2NoYW5nZXMiO3QuX2NoYW5nZUxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcihyLGZ1bmN0aW9uKG4pe18uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXItIityKyItUkNWOiAiLG4pLAovL1RPRE86IHdoYXQgdG9kbyBoZXJlPyBTYXZlIGNoYW5nZXM/CmUuX2lzVG9TYXZlRGF0YSYmbi5ib2R5LmF0dHJpYnV0ZSYmKF8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlciAtIHNhdmUgZGF0YTogIixuKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJ2ZXJzaW9uIixuLmJvZHkudmVyc2lvbiksdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwibGFzdE1vZGlmaWVkIixuLmJvZHkubGFzdE1vZGlmaWVkKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMCx0Ll91cmwsbi5ib2R5LmF0dHJpYnV0ZSxuLmJvZHkudmFsdWUpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9zdWJzY3JpcHRpb25MaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCx1LmRlZmF1bHQpKGUuX2ZvcndhcmRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZm9yd2FyZFVuU3Vic2NyaWJlKHQpfSksCi8vcmVtb3ZlIGFsbCBzdWJzY3JpcHRpb25zCigwLHUuZGVmYXVsdCkoZS5fc3Vic2NyaXB0aW9ucykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9zdWJzY3JpcHRpb25zW3RdLl9yZWxlYXNlTGlzdGVuZXJzKCl9KX19LHtrZXk6InJlc3VtZVN1YnNjcmlwdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmKDAsdS5kZWZhdWx0KShlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSByZXN1bWUgc3Vic2NyaXB0aW9ucyIsdCxuLHQuX2NoaWxkcmVucyksdC5fc3Vic2NyaXB0aW9uc1tuXXx8KHQuX3N1YnNjcmlwdGlvbnNbbl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLHQuX2NoaWxkcmVucywhMCkpfSl9fSx7a2V5OiJmb3J3YXJkU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIit0Ll9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOmUsc291cmNlOnQuX293bmVyfX07cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtpZihfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF1mb3J3YXJkLXN1YnNjcmliZS1yZXNwb25zZShyZXBvcnRlcik6ICIsciksMjAwPT09ci5ib2R5LmNvZGUpe3ZhciBvPXQuX2J1cy5hZGRGb3J3YXJkKHQuX3VybCx0Ll9vd25lcik7dC5fZm9yd2FyZHNbZVswXV09byxuKCl9ZWxzZSBpKCJFcnJvciBvbiBtc2ctbm9kZSBzdWJzY3JpcHRpb246ICIrci5ib2R5LmRlc2MpfSl9KX19LHtrZXk6ImZvcndhcmRVblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9mb3J3YXJkc1tlXS5yZW1vdmUoKSxkZWxldGUgdC5fZm9yd2FyZHNbZV07Ci8vRkxPVy1PVVQ6IG1lc3NhZ2Ugc2VudCB0byB0aGUgbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdmFyIHI9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6W2VdLHNvdXJjZTp0Ll9vd25lcn19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHZvaWQgbigpO3ZhciBzPXIuX3VybCsiL2NoaWxkcmVuLyI7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCAtIGFkZENoaWxkcmVuc10gLSBjaGlsZHJlbnM6ICIsZSxzKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ci5fY2hpbGRyZW5zLnB1c2goZSl9KTsvKgogICAgICAgIF90aGlzLl9jaGlsZHJlbnMuZm9yRWFjaCgoY2hpbGQpID0+IHsKICAgICAgICAgIGxldCBjaGlsZElkID0gY2hpbGRCYXNlVVJMICsgY2hpbGQ7CiAgICAgICAgICAgbGV0IHNlbGZGb3J3YXJkID0gX3RoaXMuX2J1cy5hZGRGb3J3YXJkKGNoaWxkSWQsIG93bmVyKTsKICAgICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKHNlbGZGb3J3YXJkKTsKICAgICAgICB9KTsqLwp2YXIgYT1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaChzK2UpfSk7Ci8vX3RoaXMuX3N0b3JhZ2VTdWJzY3JpcHRpb25zW190aGlzLl9vYmpTdWJzY3JpcHRvclVSTF0gPSB7dXJsOiBfdGhpcy5fdXJsLCBvd25lcjogX3RoaXMuX293bmVyLCBjaGlsZHJlbnM6IF90aGlzLl9jaGlsZHJlbnN9OwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gdGhlIG1zZy1ub2RlIFN1YnNjcmlwdGlvbk1hbmFnZXIgY29tcG9uZW50CnZhciB1PXt0eXBlOiJzdWJzY3JpYmUiLGZyb206ci5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrci5fZG9tYWluKyIvc20iLGJvZHk6e3Jlc291cmNlczphLHNvdXJjZTpyLl9vd25lcn19O3IuX2J1cy5wb3N0TWVzc2FnZSh1LGZ1bmN0aW9uKGUpe18ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXW5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlKHJlcG9ydGVyKToiLGUpLDIwMD09PWUuYm9keS5jb2RlPygKLy9hZGQgY2hpbGRyZW4gbGlzdGVuZXJzIG9uIGxvY2FsIC4uLgphLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ci5fYnVzLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24oZSl7aWYoCi8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hpbGRyZW5zPwpfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IHJlY2VpdmVkXSIsZSksImNyZWF0ZSI9PT1lLnR5cGUmJmUudG8uaW5jbHVkZXMoImNoaWxkcmVuIikmJnQuX2lzVG9TYXZlRGF0YSl7Ci8vIGlmIHRoZSB2YWx1ZSBpcyBub3QgZW5jcnlwdGVkIGxldHMgZW5jcnlwdCBpdAovLyB0b2RvOiBzaG91bGQgYmUgc3ViamVjdCB0byBzb21lIHBvbGljeQp2YXIgbj0oMCxoLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxvPW4udXJsOwovL3JlbW92ZSBmYWxzZSB3aGVuIG11dHVhbEF1dGhlbnRpY2F0aW9uIGlzIGVuYWJsZWQKInN0cmluZyIhPXR5cGVvZiBlLmJvZHkudmFsdWU/KF8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3RdIGVuY3J5cHRpbmcgcmVjZWl2ZWQgZGF0YSAiLGUuYm9keS52YWx1ZSksbS5kZWZhdWx0LmVuY3J5cHREYXRhT2JqZWN0KGUuYm9keS52YWx1ZSxvKS50aGVuKGZ1bmN0aW9uKHQpe18ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3RdIGVuY3J5cHRlZCBkYXRhICIsdCksci5fc3RvcmVDaGlsZE9iamVjdChlLCgwLGkuZGVmYXVsdCkodCkpfSkuY2F0Y2goZnVuY3Rpb24odCl7Xy53YXJuKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGZhaWxlZCA6ICIsdCwiIFN0b3JpbmcgdW5lbmNyeXB0ZWQiKSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsZS5ib2R5LnZhbHVlKX0pKTpyLl9zdG9yZUNoaWxkT2JqZWN0KGUsZS5ib2R5LnZhbHVlKX19KTtyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG4pO3ZhciBvPXIuX2J1cy5hZGRGb3J3YXJkKGUsci5fb3duZXIpO3IuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2gobyl9KSxuKCkpOm8oIkVycm9yIG9uIG1zZy1ub2RlIHN1YnNjcmlwdGlvbjogIitlLmJvZHkuZGVzYyl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLGguc3BsaXRPYmplY3RVUkwpKGUudG8pLGk9bi51cmwsbz1uLnJlc291cmNlLHM9e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fSxhPWUuYm9keS5yZXNvdXJjZSx1PW87YSYmKHUrPSIuIithKSwKLy8gdGhpcyBpZGVudGl0eSBkYXRhIGlzIG5vdCBuZWVkZWQgdG8gYmUgc3RvcmVkCmRlbGV0ZSBzLmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgcy5pZGVudGl0eS5leHBpcmVzLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITAsaSx1LHMpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0oMCxoLmRpdmlkZVVSTCkoZS5fb3duZXIpLmRvbWFpbjsKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IGRpcmVjdGx5IHRvIGFsbCBzdWJzY3JpYmVycyBvZiB0aGUgcmVwb3J0ZXIKZS5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJkZWxldGUiLGZyb206ZS5fb2JqU3Vic2NyaXB0b3JVUkwsdG86ZS5fdXJsKyIvY2hhbmdlcyJ9KSwKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIHRoZSBtc2ctbm9kZSBPYmplY3RBbGxvY2F0aW9uTWFuYWdlciBjb21wb25lbnQKZS5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJkZWxldGUiLGZyb206ZS5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdCsiL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e3Jlc291cmNlOmUuX3VybCxjaGlsZHJlblJlc291cmNlczplLl9jaGlsZHJlbnN9fSksZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9wYXJlbnQuX3JlcG9ydGVyc1tlLl91cmxdfX0se2tleToiX29uUmVtb3RlUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86dC5fdXJsLGJvZHk6e2NvZGU6ZS5ib2R5LmNvZGUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHNvdXJjZTplLmZyb219fSl9fSx7a2V5OiJfb25SZW1vdGVTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuc3Vic2NyaWJlcjsKLy92YWxpZGF0ZSBpZiBzdWJzY3JpcHRpb24gYWxyZWFkeSBleGlzdHM/CnQuX3N1YnNjcmlwdGlvbnNbcl0mJgovLyBsZXQgZXJyb3JNc2cgPSB7Ci8vICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogaHlwZXJ0eVVSTCwKLy8gICBib2R5OiB7IGNvZGU6IDUwMCwgZGVzYzogJ1N1YnNjcmlwdGlvbiBmb3IgKCcgKyBfdGhpcy5fdXJsICsgJyA6ICcgKyAgaHlwZXJ0eVVSTCArICcpIGFscmVhZHkgZXhpc3RzIScgfQovLyB9OwovLwovLyBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGVycm9yTXNnKTsKLy8gcmV0dXJuOwovLyBuZXcgdmVyc2lvbiBiZWNhdXNlIG9mIHJldXNhZ2UKdC5fc3Vic2NyaXB0aW9uc1tyXS5fcmVsZWFzZUxpc3RlbmVycygpOwovL2FzayB0byBzdWJzY3JpYmUgdG8gU3luY2hlcj8gKGRlcGVuZHMgb24gdGhlIG9wZXJhdGlvbiBtb2RlKQovL1RPRE86IGdldCBtb2RlIGZyb20gb2JqZWN0IQp2YXIgbj17dHlwZToiZm9yd2FyZCIsZnJvbTp0Ll91cmwsdG86dC5fb3duZXIsYm9keTp7dHlwZTplLnR5cGUsZnJvbTpyLHRvOnQuX3VybCxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9fTsKLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeQplLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYobi5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsKSx0Ll9idXMucG9zdE1lc3NhZ2UobixmdW5jdGlvbihuKXtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF1mb3J3YXJkLXJlcGx5OiAiLG4pLDIwMD09PW4uYm9keS5jb2RlJiYodC5fc3Vic2NyaXB0aW9uc1tyXXx8KF8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3RdIC0gX29uUmVtb3RlU3Vic2NyaWJlOiIsdC5fY2hpbGRyZW5zKSx0Ll9zdWJzY3JpcHRpb25zW3JdPW5ldyBnLmRlZmF1bHQodC5fYnVzLHQuX293bmVyLHQuX3VybCx0Ll9jaGlsZHJlbnMsITApKSk7Ci8vVE9ETzogYXR1YWxpemFyIG11dHVhbCBubyBzdG9yYWdlIGUgdGIgbmEgc2Vzc2lvbktleXMKLy8gU3RvcmUgZm9yIGVhY2ggcmVwb3J0ZXIgaHlwZXJ0eSB0aGUgZGF0YU9iamVjdAp2YXIgaT12b2lkIDA7ZS5ib2R5LmlkZW50aXR5JiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCYmKGk9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwic3Vic2NyaWJlclVzZXJzIixpKSksZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmCi8vICAgICAgICAgIF90aGlzLl9wYXJlbnQuX2lkZW50aXR5TW9kdWxlLnVwZGF0ZUlzVG9FbmNyeXB0Rm9yRGF0YU9iamVjdFNlc3Npb25LZXkoX3RoaXMuX3VybCwgbXNnLmJvZHkubXV0dWFsKS50aGVuKCgpPT57CnQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsIm11dHVhbCIsZS5ib2R5Lm11dHVhbCksdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwic3Vic2NyaXB0aW9ucyIsciksbi5ib2R5Lm93bmVyPXQuX293bmVyLAovL0ZMT1ctT1VUOiBzdWJzY3JpcHRpb24gcmVzcG9uc2Ugc2VudCAoZm9yd2FyZCBmcm9tIGludGVybmFsIEh5cGVydHkpCnQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Om4uYm9keX0pfSl9fSx7a2V5OiJfb25SZW1vdGVVblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5zb3VyY2Usbj10Ll9zdWJzY3JpcHRpb25zW3JdO2lmKG4pe24uX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXTt2YXIgaT17dHlwZToiZm9yd2FyZCIsZnJvbTp0Ll91cmwsdG86dC5fb3duZXIsYm9keTp7dHlwZTplLnR5cGUsZnJvbTpyLHRvOnQuX3VybCxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9fTt0Ll9idXMucG9zdE1lc3NhZ2UoaSl9fX0se2tleToiaXNUb1NhdmVEYXRhIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNUb1NhdmVEYXRhPWV9fV0pLFJlcG9ydGVyT2JqZWN0fSgpO3QuZGVmYXVsdD1SLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUxNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0NiksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig3KSxkPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGwpLHA9cigxNCkseT1yKDIxMSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxMDApLGc9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodiksYj1kLmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JzZXJ2ZXJPYmplY3QoZSx0LHIpe3ZhciBuPXRoaXM7KDAsdS5kZWZhdWx0KSh0aGlzLE9ic2VydmVyT2JqZWN0KTt2YXIgaT10aGlzO2kuX3BhcmVudD1lLGkuX3VybD10LGkuX2NoaWxkcmVucz1yLGkuX2J1cz1lLl9idXMsaS5fc3Vic2NyaXB0aW9ucz17fSxpLl9zdG9yYWdlU3Vic2NyaXB0aW9ucz17fSxpLl9jaGlsZHJlbkxpc3RlbmVycz1bXSx0aGlzLl9pc1RvU2F2ZURhdGE9ITE7dmFyIG89aS5fdXJsKyIvY2hhbmdlcyI7aS5fY2hhbmdlTGlzdGVuZXI9aS5fYnVzLmFkZExpc3RlbmVyKG8sZnVuY3Rpb24oZSl7Yi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyLSIrbysiLVJDVjogIixlKSwKLy9UT0RPOiB3aGF0IHRvZG8gaGVyZT8gU2F2ZSBjaGFuZ2VzPwpuLl9pc1RvU2F2ZURhdGEmJmUuYm9keS5hdHRyaWJ1dGUmJihiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXIgLSBzYXZlIGRhdGE6ICIsZSksaS5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLGkuX3VybCwidmVyc2lvbiIsZS5ib2R5LnZlcnNpb24pLGkuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxpLl91cmwsImxhc3RNb2RpZmllZCIsZS5ib2R5Lmxhc3RNb2RpZmllZCksaS5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITEsaS5fdXJsLGUuYm9keS5hdHRyaWJ1dGUsZS5ib2R5LnZhbHVlKSl9KX1yZXR1cm4oMCxmLmRlZmF1bHQpKE9ic2VydmVyT2JqZWN0LFt7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fc3Vic2NyaXB0aW9uc1tlXTtiLmxvZygiW09ic2VydmVyIE9iamVjdCAtIG5ldyBzdWJzY3JpcHRpb25dIC0gIix0Ll9zdWJzY3JpcHRpb25zLGUsdC5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShlKSkscnx8KHQuX3N1YnNjcmlwdGlvbnNbZV09bmV3IGguZGVmYXVsdCh0Ll9idXMsZSx0Ll91cmwsdC5fY2hpbGRyZW5zLCExKSl9fSx7a2V5OiJhZGRTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25ld1N1YnNjcmlwdGlvbihlKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoMD09PWUubGVuZ3RoKXJldHVybiBuKCk7dmFyIG89ci5fdXJsKyIvY2hpbGRyZW4vIjtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLG8pLGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIobytlLGZ1bmN0aW9uKGUpe2lmKAovL1RPRE86IHdoYXQgdG9kbyBoZXJlPyBTYXZlIGNoaWxkcmVucz8KYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdCByZWNlaXZlZF0iLGUpLCJjcmVhdGUiPT09ZS50eXBlJiZlLnRvLmluY2x1ZGVzKCJjaGlsZHJlbiIpJiZ0Ll9pc1RvU2F2ZURhdGEpe3ZhciBvPSgwLHAuc3BsaXRPYmplY3RVUkwpKGUudG8pLHM9by51cmw7Ci8vcmVtb3ZlIGZhbHNlIHdoZW4gbXV0dWFsQXV0aGVudGljYXRpb24gaXMgZW5hYmxlZAoic3RyaW5nIiE9dHlwZW9mIGUuYm9keS52YWx1ZT8oYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdF0gZW5jcnlwdGluZyByZWNlaXZlZCBkYXRhICIsZS5ib2R5LnZhbHVlKSxnLmRlZmF1bHQuZW5jcnlwdERhdGFPYmplY3QoZS5ib2R5LnZhbHVlLHMpLnRoZW4oZnVuY3Rpb24odCl7Yi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdF0gZW5jcnlwdGVkIGRhdGEgIix0KSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsKDAsaS5kZWZhdWx0KSh0KSl9KS5jYXRjaChmdW5jdGlvbih0KXtiLndhcm4oIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdC5fZW5jcnlwdENoaWxkXSBmYWlsZWQsIHN0b3JpbmcgdW5lbmNyeXB0ZWQgIix0KSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsZS5ib2R5LnZhbHVlKX0pKTpyLl9zdG9yZUNoaWxkT2JqZWN0KGUsZS5ib2R5LnZhbHVlKX1iLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IGNoaWxkcmVuIExpc3RlbmVyc10iLHIuX2NoaWxkcmVuTGlzdGVuZXJzLG4pLC0xPT09ci5fY2hpbGRyZW5MaXN0ZW5lcnMuaW5kZXhPZihuKSYmci5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChuKX0pfSl9KX19LHtrZXk6Il9zdG9yZUNoaWxkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj0oMCxwLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxpPW4udXJsLG89bi5yZXNvdXJjZSxzPXtpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksdmFsdWU6dH07Ci8vIHRoaXMgaWRlbnRpdHkgZGF0YSBpcyBub3QgbmVlZGVkIHRvIGJlIHN0b3JlZApkZWxldGUgcy5pZGVudGl0eS5hc3NlcnRpb24sZGVsZXRlIHMuaWRlbnRpdHkuZXhwaXJlczt2YXIgYT1lLmJvZHkucmVzb3VyY2UsdT1vO2EmJih1Kz0iLiIrYSksYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdC5fc3RvcmVDaGlsZE9iamVjdF0gOiAiLGksdSxzKSxyLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCExLGksdSxzKX19LHtrZXk6InJlbW92ZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPSgwLHAuZGl2aWRlVVJMKShyKS5kb21haW4saT10Ll91cmwrIi9zdWJzY3JpcHRpb24iLG89dC5fc3Vic2NyaXB0aW9uc1tyXTtvJiYoCi8vRkxPVy1PVVQ6IG1lc3NhZ2Ugc2VudCB0byByZW1vdGUgUmVwb3J0ZXJPYmplY3QgLT4gX29uUmVtb3RlVW5TdWJzY3JpYmUKdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzppLGJvZHk6e3NvdXJjZTpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19KSwKLy9UT0RPOiBzaG91bGQgSSB3YWl0IGZvciByZXNwb25zZSBiZWZvcmUgdW5zdWJzY3JpYmUgb24gbXNnLW5vZGUKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIG1zZy1ub2RlIFN1YnNjcmlwdGlvbk1hbmFnZXIgY29tcG9uZW50CnQuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrbisiL3NtIixib2R5OntyZXNvdXJjZTp0Ll91cmwsY2hpbGRyZW5SZXNvdXJjZXM6dC5fY2hpbGRyZW5zfX0pLG8uX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXSl9fSx7a2V5OiJpc1RvU2F2ZURhdGEiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc1RvU2F2ZURhdGE9ZX19XSksT2JzZXJ2ZXJPYmplY3R9KCk7dC5kZWZhdWx0PW0sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTE3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjEwKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cig1MTgpLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJTdWJzY3JpcHRpb25NYW5hZ2VyIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbk1hbmFnZXIoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb25NYW5hZ2VyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIG5lZWRzIHRoZSBydW50aW1lVVJMIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIE1lc3NhZ2VCdXMgaW5zdGFuY2UiKTt2YXIgbj10aGlzO24uX2J1cz10LG4uX3N0b3JhZ2U9cixuLl9zdWJzY3JpcHRpb25zPXt9LG4uX3N1YnNjcmlwdGlvbnNTdG9yYWdlPXt9LAovL1RPRE86IHRoZXNlIHNob3VsZCBiZSBzYXZlZCBpbiBwZXJzaXN0ZW5jZSBlbmdpbmU/Cm4ucnVudGltZVVSTD1lLG4uX3VybD1lKyIvc3Vic2NyaXB0aW9ucyIsCi8vVE9ETzogdGhpcyBzaG91bGQgbm90IGJlIGhhcmRjb2RlZCEKbi5fZG9tYWluPSgwLHAuZGl2aWRlVVJMKShlKS5kb21haW4sdC5hZGRMaXN0ZW5lcihuLl91cmwsZnVuY3Rpb24oZSl7c3dpdGNoKHYuaW5mbygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIFJDVjogIixlKSxlLnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjpuLl9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjpuLl9vblVuU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UicmVhZCI6bi5fb25SZWFkKGUpfX0pfXJldHVybigwLGYuZGVmYXVsdCkoU3Vic2NyaXB0aW9uTWFuYWdlcixbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2UuZ2V0KCJzdWJzY3JpcHRpb25zIikudGhlbihmdW5jdGlvbihyKXt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuaW5pdF0gcmVzdW1lIHN1YnNjcmlwdGlvbnM6ICIsciksciYmKGUuX3N1YnNjcmlwdGlvbnNTdG9yYWdlPXIsKDAsaS5kZWZhdWx0KShyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NyZWF0ZVN1YnNjcmlwdGlvbih0LmRvbWFpbix0LnJlc291cmNlcyx0LnN1YnNjcmliZXIsdC5pZGVudGl0eSl9KSksdCgpfSl9KX19LHtrZXk6Il9vblN1YnNjcmliZSIsCi8vbWVzc2FnZSByZWNlaXZlZCB0byBzZXQgYSByb3V0aW5nIHBhdGgKdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZXMsbj1lLmZyb20saT0oMCxwLmRpdmlkZVVSTCkoclswXSkuZG9tYWluLG89ZS5ib2R5LmlkZW50aXR5O3QuX2NyZWF0ZVN1YnNjcmlwdGlvbihpLHIsbixvKS50aGVuKGZ1bmN0aW9uKHMpewovL2ZvcndhcmQgdG8gaHlwZXJ0eToKcy5pZD1lLmlkLHMuZnJvbT10Ll91cmwscy50bz1uLHMuYm9keT1lLmJvZHkscy5ib2R5LmNvZGU9MjAwLHYubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSBjcmFldGVTdWJzY3JpcHRpb246ICIsZSxzLG4pLHQuX2J1cy5wb3N0TWVzc2FnZShzKSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXT9yLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0ucmVzb3VyY2VzLmluY2x1ZGVzKGUpfHx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXS5yZXNvdXJjZXMucHVzaChlKX0pOnQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dPXtkb21haW46aSxyZXNvdXJjZXM6cixzdWJzY3JpYmVyOm4saWRlbnRpdHk6b30sdC5fc3RvcmFnZS5zZXQoInN1YnNjcmlwdGlvbnMiLDEsdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2UpfSl9fSx7a2V5OiJfY3JlYXRlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8pewovL0ZMT1ctT1VUOiBzdWJzY3JpYmUgbWVzc2FnZSB0byB0aGUgbXNnLW5vZGUsIHJlZ2lzdGVyaW5nIGxpc3RlbmVycyBvbiB0aGUgYnJva2VyCnZhciBzPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206aS5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9zbSIsYm9keTp7aWRlbnRpdHk6bixyZXNvdXJjZXM6dCxzb3VyY2U6cn19OwovL3N1YnNjcmliZSBpbiBtc2ctbm9kZQppLl9idXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIG5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlOiAiLGUpOwovL2lmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgey8vVE9ETzogdW5jb21tZW50IHdoZW4gIE1OIHJlcGxpZXMgd2l0aCBjb3JyZWN0IHJlc3BvbnNlIGJvZHkgY29kZQovL1RPRE86IHN1cHBvcnQgbXVsdGlwbGUgcm91dGVzIGZvciBtdWx0aXBsZSByZXNvdXJjZXMKdmFyIG49aS5fc3Vic2NyaXB0aW9uc1tyXTt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gIixpLl9zdWJzY3JpcHRpb25zLHQsaS5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShyKSksbnx8KGkuX3N1YnNjcmlwdGlvbnNbcl09e30pLHQuZm9yRWFjaChmdW5jdGlvbihlKXtpLl9zdWJzY3JpcHRpb25zW3JdW2VdPW5ldyBoLmRlZmF1bHQoaS5fYnVzLHIsZSl9KSxvKGUpfSl9KX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS5ib2R5LnJlc291cmNlO2lmKHQuX3N1YnNjcmlwdGlvbnNbcl0mJnQuX3N1YnNjcmlwdGlvbnNbcl1bbl0pe3ZhciBpPSgwLHAuZGl2aWRlVVJMKShuKS5kb21haW4sbz10Ll9zdWJzY3JpcHRpb25zW3JdW25dO2lmKAovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIraSsiL3NtIixib2R5OntyZXNvdXJjZXM6W25dLHNvdXJjZTpyfX0pLG8uX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXVtuXSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXSl7dmFyIHM9dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0ucmVzb3VyY2VzLmluZGV4T2Yobik7LTEhPXMmJnQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdLnJlc291cmNlcy5zcGxpY2UocywxKSx0Ll9zdG9yYWdlLnNldCgic3Vic2NyaXB0aW9ucyIsMSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZSl9fXQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj12b2lkIDA7di5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIHJlcXVlc3QgdG8gcmVhZCBTdWJzY3JpcHRpb25zOiAiLGUpLHQuX3N0b3JhZ2UuZ2V0KCJzdWJzY3JpcHRpb25zIikudGhlbihmdW5jdGlvbihpKXtpZihpJiZpW3JdKXt2YXIgbz1pW3JdLnJlc291cmNlcztuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOm99fX1lbHNlIG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsZGVzY3JpcHRpb246Ik5vdCBGb3VuZCJ9fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksU3Vic2NyaXB0aW9uTWFuYWdlcn0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIpeygwLGkuZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBuPXRoaXM7bi5fc3Vic2NyaWJlcj10LG4ucmVzb3VyY2U9cixjLmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuU3Vic2NyaXB0aW9uXSBuZXc6ICIsdCxyKSwKLy9hZGQgZm9yd2FyZApuLl9saXN0ZW5lcj1lLmFkZEZvcndhcmQocix0KX1yZXR1cm4oMCxzLmRlZmF1bHQpKFN1YnNjcmlwdGlvbixbe2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0NiksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDYwKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDEpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2OCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig2OSksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cig3KSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksbT1yKDIwNiksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9cigyMDcpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChSKSxTPXIoMTQpLFA9cigyMDgpLE89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChQKSxNPXIoNTIwKSxrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTSksTD0oYi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFJ1bnRpbWVDb3JlQ3R4KGUsdCxyLG4saSl7KDAsZi5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVDb3JlQ3R4KTt2YXIgbz0oMCx5LmRlZmF1bHQpKHRoaXMsKFJ1bnRpbWVDb3JlQ3R4Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCkpLmNhbGwodGhpcykpO3JldHVybiBvLl9ydW50aW1lVVJMPWUsby5fcGVwVVJMPW8uX3J1bnRpbWVVUkwrIi9wZXAiLG8uX2d1aVVSTD1vLl9ydW50aW1lVVJMKyIvcG9saWN5LWd1aSIsby5pZE1vZHVsZT10LG8ucnVudGltZVJlZ2lzdHJ5PXIsby5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCxvLnNlcnZpY2VQcm92aWRlclBvbGljeT17fSxvLnVzZXJQb2xpY2llcz17fSxvLnN0b3JhZ2VNYW5hZ2VyPW4sby5ydW50aW1lQ2FwYWJpbGl0aWVzPWksb31yZXR1cm4oMCx2LmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4LGUpLCgwLGQuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgsW3trZXk6ImxvYWRDb25maWd1cmF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQscil7ZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6YWN0aXZlUG9saWN5IikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5hY3RpdmVVc2VyUG9saWN5PXQsZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6Z3JvdXBzIil9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXQ7cmV0dXJuIGUuZ3JvdXBzPXZvaWQgMD09PXI/e306cixlLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazpzcFBvbGljaWVzIil9KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXI7ZS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9dm9pZCAwPT09bj97fTpuLGUuX2xvYWRVc2VyUG9saWNpZXMoKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSl9KX0pfX0se2tleToiZ2V0UG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIHZvaWQgMCE9PXRoaXMuYWN0aXZlVXNlclBvbGljeSYmKHIudXNlclBvbGljeT10aGlzLnVzZXJQb2xpY2llc1t0aGlzLmFjdGl2ZVVzZXJQb2xpY3ldKSxyLnNlcnZpY2VQcm92aWRlclBvbGljeT10aGlzLmdldFNlcnZpY2VQcm92aWRlclBvbGljeShlLHQpLHJ9fSx7a2V5OiJfaXNWYWxpZFVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuZnJvbS5zcGxpdCgiOi8vIikubGVuZ3RoPjE/dC5pZE1vZHVsZS5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUuZnJvbSkudGhlbihmdW5jdGlvbih0KXt0PT09ZS5ib2R5LnNvdXJjZT9yKGUpOm4oIlRoZSBzb3VyY2Ugb2YgdGhlIG1lc3NhZ2UgaXMgbm90IHZhbGlkLiIpfSxmdW5jdGlvbihlKXtuKGUpfSk6cihlKX0pfX0se2tleToiZ2V0TXlFbWFpbHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pZE1vZHVsZS5nZXRJZGVudGl0aWVzKCksdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2goKDAsUy5nZXRVc2VyRW1haWxGcm9tVVJMKShlW3JdLmlkZW50aXR5KSk7cmV0dXJuIHR9fSx7a2V5OiJnZXRNeUh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0LHQ9W107Zm9yKHZhciByIGluIGUpe3ZhciBuPWVbcl0ub2JqZWN0TmFtZTstMT09PXQuaW5kZXhPZihuKSYmdC5wdXNoKG4pfXJldHVybiB0fX0se2tleToiZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMDtpZih0KXt2YXIgbj10aGlzLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShlLnRvKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W25dfWVsc2V7dmFyIGk9dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoZS5mcm9tKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W2ldfXJldHVybiByfX0se2tleToiZ2V0VVJMIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbMF0rIi8vIit0WzJdKyIvIit0WzNdfX0se2tleToiX2xvYWRVc2VyUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazp1c2VyUG9saWNpZXMiKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQ7aWYodm9pZCAwIT09bilmb3IodmFyIGkgaW4gbillLnBlcC5hZGRQb2xpY3koIlVTRVIiLGksbltpXSk7cigpfSl9KX19LHtrZXk6Il9nZXRMYXN0Q29tcG9uZW50T2ZVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX19LHtrZXk6Il9nZXRQb2xpY2llc0pTT04iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1lW3RdLmNvbWJpbmluZ0FsZ29yaXRobTtyIGluc3RhbmNlb2Ygdy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJibG9ja092ZXJyaWRlcyI6ciBpbnN0YW5jZW9mIF8uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iYWxsb3dPdmVycmlkZXMiOnIgaW5zdGFuY2VvZiBPLmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImZpcnN0QXBwbGljYWJsZSI6ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09dm9pZCAwfXJldHVybiBlfX0se2tleToic2F2ZUFjdGl2ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmFjdGl2ZVBvbGljeSIsMCxlLmFjdGl2ZVVzZXJQb2xpY3kpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToic2F2ZUdyb3VwcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmdyb3VwcyIsMCxlLmdyb3VwcykudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJzYXZlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA7c3dpdGNoKGUpe2Nhc2UiVVNFUiI6bj0oMCxpLmRlZmF1bHQpKHRoaXMudXNlclBvbGljaWVzKSxuPXRoaXMuX2dldFBvbGljaWVzSlNPTihKU09OLnBhcnNlKG4pKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazp1c2VyUG9saWNpZXMiLDAsbik7YnJlYWs7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjp2b2lkIDAhPT10JnZvaWQgMCE9PXImJih0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtyXT10KSxuPSgwLGkuZGVmYXVsdCkodGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kpLG49dGhpcy5fZ2V0UG9saWNpZXNKU09OKEpTT04ucGFyc2UobikpLHRoaXMuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOnNwUG9saWNpZXMiLDAsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6ImdldEdyb3Vwc05hbWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ3JvdXBzLHQ9W107aWYodm9pZCAwIT09ZSlmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHR9fSx7a2V5OiJnZXRHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZigicHJlYXV0aG9yaXNlZCI9PT1lKXt2YXIgbj10LnNwbGl0KCIvIik7bi5wb3AoKSxuPW5bMF0rIi8vIituWzJdLHI9dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0UHJlQXV0aFN1YnNjcmliZXJzKG4pfWVsc2Ugdm9pZCAwIT09dGhpcy5ncm91cHNbZV0mJihyPXRoaXMuZ3JvdXBzW2VdKTtyZXR1cm4gcn19LHtrZXk6ImNyZWF0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdyb3Vwc1tlXT1bXSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6ImRlbGV0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5ncm91cHNbZV0sdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJhZGRUb0dyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzO2lmKHZvaWQgMD09PXJbZV0pdGhyb3cgRXJyb3IoJ0dyb3VwICInK2UrJyIgZG9lcyBub3QgZXhpc3QhJyk7LTE9PT1yW2VdLmluZGV4T2YodCkmJihyW2VdLnB1c2godCksdGhpcy5zYXZlR3JvdXBzKCkpfX0se2tleToicmVtb3ZlRnJvbUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzW2VdO3Iuc3BsaWNlKHIuaW5kZXhPZih0KSwxKSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6InBlcFVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcFVSTH19LHtrZXk6Imd1aVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aVVSTH19LHtrZXk6InJ1bnRpbWVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVVJMfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fSx7a2V5OiJzdWJzY3JpcHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zdWJzY3JpcHRpb249ZS5tZXNzYWdlLmJvZHkuc3Vic2NyaWJlcn19XSksUnVudGltZUNvcmVDdHh9KGsuZGVmYXVsdCkpO3QuZGVmYXVsdD1MLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlVGhpbmtDdHgoKXsoMCxpLmRlZmF1bHQpKHRoaXMsUmVUaGlua0N0eCksdGhpcy5kZWZhdWx0QmVoYXZpb3VyPSEwLHRoaXMuZ3JvdXBzPXt9fXJldHVybigwLHMuZGVmYXVsdCkoUmVUaGlua0N0eCxbe2tleToic2NoZW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1lfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZXNzYWdlLmZyb207KDAsYS5pc0RhdGFPYmplY3RVUkwpKHQpP3RoaXMuX3NjaGVtZT0oMCxhLmRpdmlkZVVSTCkodCkudHlwZTp0aGlzLl9zY2hlbWU9dm9pZCAwfX0se2tleToiZGF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZSxyPVN0cmluZyh0LmdldERhdGUoKSk7MT09PXIubGVuZ3RoJiYocj0iMCIrcik7dmFyIG49U3RyaW5nKHQuZ2V0TW9udGgoKSsxKTsxPT09bi5sZW5ndGgmJihuPSIwIituKSx0aGlzLl9kYXRlPXIrIi8iK24rIi8iK3QuZ2V0RnVsbFllYXIoKX19LHtrZXk6ImRvbWFpbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbWFpbn0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUubWVzc2FnZS5ib2R5LmlkZW50aXR5JiYodGhpcy5fZG9tYWluPSgwLGEuZGl2aWRlRW1haWwpKGUubWVzc2FnZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJuYW1lKS5kb21haW4pfX0se2tleToidHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2U7dm9pZCAwIT09dC5ib2R5LnZhbHVlJiYodGhpcy5fdHlwZT10LmJvZHkudmFsdWUucmVzb3VyY2VUeXBlKX19LHtrZXk6InNvdXJjZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUubWVzc2FnZS5ib2R5LmlkZW50aXR5JiYodGhpcy5fc291cmNlPWUubWVzc2FnZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJuYW1lKX19LHtrZXk6InRpbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lfSxzZXQ6ZnVuY3Rpb24oZSl7ZT1uZXcgRGF0ZTt2YXIgdD1TdHJpbmcoZS5nZXRNaW51dGVzKCkpOzE9PT10Lmxlbmd0aCYmKHQ9IjAiK3QpLHRoaXMuX3RpbWU9cGFyc2VJbnQoU3RyaW5nKGUuZ2V0SG91cnMoKSkrdCl9fSx7a2V5OiJ3ZWVrZGF5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2Vla2RheX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dlZWtkYXk9U3RyaW5nKChuZXcgRGF0ZSkuZ2V0RGF5KCkpfX1dKSxSZVRoaW5rQ3R4fSgpO3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9XSl9KTs=",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "2.30",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "hyperty-catalogue://catalogue.localhost/.well-known/protocolstub/P2PHandlerProtoStub",
    "p2pRequesterStub": "hyperty-catalogue://catalogue.localhost/.well-known/protocolstub/P2PRequesterProtoStub",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}