{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAwOToxMDowOSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFdlZCBKYW4gMTAgMjAxOCAwOToxMDowOSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFR1ZSBKYW4gMDkgMjAxOCAxNzo1MDo1NiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFR1ZSBKYW4gMDkgMjAxOCAxNzo1MDo1NiBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xMS4wCi8vIGRhdGU6IFR1ZSBKYW4gMDkgMjAxOCAxNzo0OTozOSBHTVQrMDAwMCAoV0VUKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKIWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoIlJ1bnRpbWUiLFtdLHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlJ1bnRpbWU9dCgpOmUuUnVudGltZT10KCl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZnVuY3Rpb24oKXsvKioqKioqLwpyZXR1cm4gZnVuY3Rpb24oZSl7LyoqKioqKi8KLyoqKioqKi8KLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb24KLyoqKioqKi8KZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhyKXsvKioqKioqLwovKioqKioqLwovLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8KaWYodFtyXSkvKioqKioqLwpyZXR1cm4gdFtyXS5leHBvcnRzOy8qKioqKiovCi8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovCnZhciBuPXRbcl09ey8qKioqKiovCmk6ciwvKioqKioqLwpsOiExLC8qKioqKiovCmV4cG9ydHM6e319Oy8qKioqKiovCi8qKioqKiovCi8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovCnJldHVybiBlW3JdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG4ubD0hMCxuLmV4cG9ydHN9Ly8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLwovLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovCnZhciB0PXt9Oy8qKioqKiovCi8qKioqKiovCi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLwovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHMKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXMKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovCnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09ZSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9dCxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LHIpey8qKioqKiovCl9fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHwvKioqKioqLwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHsvKioqKioqLwpjb25maWd1cmFibGU6ITEsLyoqKioqKi8KZW51bWVyYWJsZTohMCwvKioqKioqLwpnZXQ6cn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24oZSl7LyoqKioqKi8KdmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPy8qKioqKiovCmZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06LyoqKioqKi8KZnVuY3Rpb24oKXtyZXR1cm4gZX07LyoqKioqKi8KLyoqKioqKi8KcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZCh0LCJhIix0KSx0fSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LF9fd2VicGFja19yZXF1aXJlX18ucD0iIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0yMTIpfShbLyogMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMzApLG89cigxOCkscz1yKDE5KSxhPXIoMjcpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGYsbCxkLHA9ZSZ1LkYseT1lJnUuRyxoPWUmdS5TLHY9ZSZ1LlAsZz1lJnUuQixiPXk/bjpoP25bdF18fChuW3RdPXt9KTooblt0XXx8e30pLnByb3RvdHlwZSxtPXk/aTppW3RdfHwoaVt0XT17fSksXz1tLnByb3RvdHlwZXx8KG0ucHJvdG90eXBlPXt9KTt5JiYocj10KTtmb3IoYyBpbiByKQovLyBjb250YWlucyBpbiBuYXRpdmUKZj0hcCYmYiYmdm9pZCAwIT09YltjXSwKLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWQKbD0oZj9iOnIpW2NdLAovLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dApkPWcmJmY/YShsLG4pOnYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2EoRnVuY3Rpb24uY2FsbCxsKTpsLAovLyBleHRlbmQgZ2xvYmFsCmImJnMoYixjLGwsZSZ1LlUpLAovLyBleHBvcnQKbVtjXSE9bCYmbyhtLGMsZCksdiYmX1tjXSE9bCYmKF9bY109bCl9O24uY29yZT1pLAovLyB0eXBlIGJpdG1hcAp1LkY9MSwvLyBmb3JjZWQKdS5HPTIsLy8gZ2xvYmFsCnUuUz00LC8vIHN0YXRpYwp1LlA9OCwvLyBwcm90bwp1LkI9MTYsLy8gYmluZAp1Llc9MzIsLy8gd3JhcAp1LlU9NjQsLy8gc2FmZQp1LlI9MTI4LC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAKZS5leHBvcnRzPXV9LC8qIDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSwvKiAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMjAwKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaS5kZWZhdWx0KShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKX0sLyogMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0sLyogNCAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOAp2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LC8qIDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LC8qIDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sLyogNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG4saTsvKgoqIGxvZ2xldmVsIC0gaHR0cHM6Ly9naXRodWIuY29tL3BpbXRlcnJ5L2xvZ2xldmVsCioKKiBDb3B5cmlnaHQgKGMpIDIwMTMgVGltIFBlcnJ5CiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgoqLwohZnVuY3Rpb24obyxzKXsidXNlIHN0cmljdCI7bj1zLHZvaWQgMCE9PShpPSJmdW5jdGlvbiI9PXR5cGVvZiBuP24uY2FsbCh0LHIsdCxlKTpuKSYmKGUuZXhwb3J0cz1pKX0oMCxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjsKLy8gQ3Jvc3MtYnJvd3NlciBiaW5kIGVxdWl2YWxlbnQgdGhhdCB3b3JrcyBhdCBsZWFzdCBiYWNrIHRvIElFNgpmdW5jdGlvbiBiaW5kTWV0aG9kKGUsdCl7dmFyIHI9ZVt0XTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygci5iaW5kKXJldHVybiByLmJpbmQoZSk7dHJ5e3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHIsZSl9Y2F0Y2godCl7Ci8vIE1pc3NpbmcgYmluZCBzaGltIG9yIElFOCArIE1vZGVybml6ciwgZmFsbGJhY2sgdG8gd3JhcHBpbmcKcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShyLFtlLGFyZ3VtZW50c10pfX19Ci8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudgovLyBXaGVyZXZlciBwb3NzaWJsZSB3ZSB3YW50IHRvIGJpbmQsIG5vdCB3cmFwLCB0byBwcmVzZXJ2ZSBzdGFjayB0cmFjZXMKZnVuY3Rpb24gcmVhbE1ldGhvZChyKXtyZXR1cm4iZGVidWciPT09ciYmKHI9ImxvZyIpLHR5cGVvZiBjb25zb2xlIT09dCYmKHZvaWQgMCE9PWNvbnNvbGVbcl0/YmluZE1ldGhvZChjb25zb2xlLHIpOnZvaWQgMCE9PWNvbnNvbGUubG9nP2JpbmRNZXRob2QoY29uc29sZSwibG9nIik6ZSl9Ci8vIFRoZXNlIHByaXZhdGUgZnVuY3Rpb25zIGFsd2F5cyBuZWVkIGB0aGlzYCB0byBiZSBzZXQgcHJvcGVybHkKZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKHQsbil7Lypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi8KZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07dGhpc1tvXT1pPHQ/ZTp0aGlzLm1ldGhvZEZhY3Rvcnkobyx0LG4pfQovLyBEZWZpbmUgbG9nLmxvZyBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnCnRoaXMubG9nPXRoaXMuZGVidWd9Ci8vIEluIG9sZCBJRSB2ZXJzaW9ucywgdGhlIGNvbnNvbGUgaXNuJ3QgcHJlc2VudCB1bnRpbCB5b3UgZmlyc3Qgb3BlbiBpdC4KLy8gV2UgYnVpbGQgcmVhbE1ldGhvZCgpIHJlcGxhY2VtZW50cyBoZXJlIHRoYXQgcmVnZW5lcmF0ZSBsb2dnaW5nIG1ldGhvZHMKZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dHlwZW9mIGNvbnNvbGUhPT10JiYocmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcyxyLG4pLHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpKX19Ci8vIEJ5IGRlZmF1bHQsIHdlIHVzZSBjbG9zZWx5IGJvdW5kIHJlYWwgbWV0aG9kcyB3aGVyZXZlciBwb3NzaWJsZSwgYW5kCi8vIG90aGVyd2lzZSB3ZSB3YWl0IGZvciBhIGNvbnNvbGUgdG8gYXBwZWFyLCBhbmQgdGhlbiB0cnkgYWdhaW4uCmZ1bmN0aW9uIGRlZmF1bHRNZXRob2RGYWN0b3J5KGUsdCxyKXsvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqLwpyZXR1cm4gcmVhbE1ldGhvZChlKXx8ZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTG9nZ2VyKGUsbixpKXtmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGUpe3ZhciBuPShyW2VdfHwic2lsZW50IikudG9VcHBlckNhc2UoKTtpZih0eXBlb2Ygd2luZG93IT09dCl7Ci8vIFVzZSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlCnRyeXtyZXR1cm4gdm9pZCh3aW5kb3cubG9jYWxTdG9yYWdlW2FdPW4pfWNhdGNoKGUpe30KLy8gVXNlIHNlc3Npb24gY29va2llIGFzIGZhbGxiYWNrCnRyeXt3aW5kb3cuZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrbisiOyJ9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gZ2V0UGVyc2lzdGVkTGV2ZWwoKXt2YXIgZTtpZih0eXBlb2Ygd2luZG93IT09dCl7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZVthXX1jYXRjaChlKXt9Ci8vIEZhbGxiYWNrIHRvIGNvb2tpZXMgaWYgbG9jYWwgc3RvcmFnZSBnaXZlcyB1cyBub3RoaW5nCmlmKHR5cGVvZiBlPT09dCl0cnl7dmFyIHI9d2luZG93LmRvY3VtZW50LmNvb2tpZSxuPXIuaW5kZXhPZihlbmNvZGVVUklDb21wb25lbnQoYSkrIj0iKTstMSE9PW4mJihlPS9eKFteO10rKS8uZXhlYyhyLnNsaWNlKG4pKVsxXSl9Y2F0Y2goZSl7fQovLyBJZiB0aGUgc3RvcmVkIGxldmVsIGlzIG5vdCB2YWxpZCwgdHJlYXQgaXQgYXMgaWYgbm90aGluZyB3YXMgc3RvcmVkLgpyZXR1cm4gdm9pZCAwPT09cy5sZXZlbHNbZV0mJihlPXZvaWQgMCksZX19dmFyIG8scz10aGlzLGE9ImxvZ2xldmVsIjtlJiYoYSs9IjoiK2UpLC8qCiAgICAgICAqCiAgICAgICAqIFB1YmxpYyBsb2dnZXIgQVBJIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbCBmb3IgZGV0YWlscwogICAgICAgKgogICAgICAgKi8Kcy5uYW1lPWUscy5sZXZlbHM9e1RSQUNFOjAsREVCVUc6MSxJTkZPOjIsV0FSTjozLEVSUk9SOjQsU0lMRU5UOjV9LHMubWV0aG9kRmFjdG9yeT1pfHxkZWZhdWx0TWV0aG9kRmFjdG9yeSxzLmdldExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHMuc2V0TGV2ZWw9ZnVuY3Rpb24ocixuKXtpZigic3RyaW5nIj09dHlwZW9mIHImJnZvaWQgMCE9PXMubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0mJihyPXMubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0pLCEoIm51bWJlciI9PXR5cGVvZiByJiZyPj0wJiZyPD1zLmxldmVscy5TSUxFTlQpKXRocm93ImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6ICIrcjtpZihvPXIsITEhPT1uJiYvLyBkZWZhdWx0cyB0byB0cnVlCnBlcnNpc3RMZXZlbElmUG9zc2libGUocikscmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwocyxyLGUpLHR5cGVvZiBjb25zb2xlPT09dCYmcjxzLmxldmVscy5TSUxFTlQpcmV0dXJuIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nIn0scy5zZXREZWZhdWx0TGV2ZWw9ZnVuY3Rpb24oZSl7Z2V0UGVyc2lzdGVkTGV2ZWwoKXx8cy5zZXRMZXZlbChlLCExKX0scy5lbmFibGVBbGw9ZnVuY3Rpb24oZSl7cy5zZXRMZXZlbChzLmxldmVscy5UUkFDRSxlKX0scy5kaXNhYmxlQWxsPWZ1bmN0aW9uKGUpe3Muc2V0TGV2ZWwocy5sZXZlbHMuU0lMRU5ULGUpfTsKLy8gSW5pdGlhbGl6ZSB3aXRoIHRoZSByaWdodCBsZXZlbAp2YXIgdT1nZXRQZXJzaXN0ZWRMZXZlbCgpO251bGw9PXUmJih1PW51bGw9PW4/IldBUk4iOm4pLHMuc2V0TGV2ZWwodSwhMSl9Ci8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemUKdmFyIGU9ZnVuY3Rpb24oKXt9LHQ9InVuZGVmaW5lZCIscj1bInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIl0sbj1uZXcgTG9nZ2VyLGk9e307bi5nZXRMb2dnZXI9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwiIj09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLiIpO3ZhciB0PWlbZV07cmV0dXJuIHR8fCh0PWlbZV09bmV3IExvZ2dlcihlLG4uZ2V0TGV2ZWwoKSxuLm1ldGhvZEZhY3RvcnkpKSx0fTsKLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlCnZhciBvPXR5cGVvZiB3aW5kb3chPT10P3dpbmRvdy5sb2c6dm9pZCAwO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9PXQmJndpbmRvdy5sb2c9PT1uJiYod2luZG93LmxvZz1vKSxufSxuLmdldExvZ2dlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sbn0pfSwvKiA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc4KSgid2tzIiksaT1yKDQ4KSxvPXIoNCkuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIG87KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09cyYmb1tlXXx8KHM/bzppKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9bn0sLyogOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDE2KSxfX2VzTW9kdWxlOiEwfX0sLyogMTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5CmUuZXhwb3J0cz0hcig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLGk9cigxNDgpLG89cigzMSkscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoMTApP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSwvKiAxMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xNSBUb0xlbmd0aAp2YXIgbj1yKDMzKSxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP2kobihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sLyogMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LC8qIDE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCi8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCi8qKgogKiBAdHlwZWRlZiBkaXZpZGVVUkwKICogQHR5cGUgT2JqZWN0CiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gb2YgVVJMCiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMCiAqLwovKioKICogRGl2aWRlIGFuIHVybCBpbiB0eXBlLCBkb21haW4gYW5kIGlkZW50aXR5CiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzCiAqIEByZXR1cm4ge2RpdmlkZVVSTH0gdGhlIHJlc3VsdCBvZiBkaXZpZGVVUkwKICovCmZ1bmN0aW9uIGRpdmlkZVVSTChlKXtmdW5jdGlvbiByZWN1cnNlKGUpe3ZhciB0PS8oW2EtekEtWi1dKikoOlwvXC8oPzpcLik/fDopKFstYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl8rfiM9XC9dKikvZ2k7cmV0dXJuIGUucmVwbGFjZSh0LCIkMSwkMywkNCIpLnNwbGl0KCIsIil9dmFyIHQ9cmVjdXJzZShlKTsKLy8gSWYgdGhlIHVybCBoYXMgbm8gc2NoZW1lCmlmKHRbMF09PT1lJiYhdFswXS5pbmNsdWRlcygiQCIpKXtyZXR1cm57dHlwZToiIixkb21haW46ZSxpZGVudGl0eToiIn19Ci8vIGNoZWNrIGlmIHRoZSB1cmwgaGFzIHRoZSBzY2hlbWUgYW5kIGluY2x1ZGVzIGFuIEAKaWYodFswXT09PWUmJnRbMF0uaW5jbHVkZXMoIkAiKSl7dD1yZWN1cnNlKCh0WzBdPT09ZT8ic210cCI6dFswXSkrIjovLyIrdFswXSl9Ci8vIGlmIHRoZSBkb21haW4gaW5jbHVkZXMgYW4gQCwgZGl2aWRlIGl0IHRvIGRvbWFpbiBhbmQgaWRlbnRpdHkgcmVzcGVjdGl2ZWx5CnJldHVybiB0WzFdLmluY2x1ZGVzKCJAIikmJih0WzJdPXRbMF0rIjovLyIrdFsxXSx0WzFdPXRbMV0uc3Vic3RyKHRbMV0uaW5kZXhPZigiQCIpKzEpKSx7dHlwZTp0WzBdLGRvbWFpbjp0WzFdLGlkZW50aXR5OnRbMl19fS8qKgogKiBDaGVjayBpZiBhbiBPYmplY3QgaXMgZW1wdHkKICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWQKICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgc3RhdHVzIG9mIE9iamVjdCwgZW1wdHkgb3Igbm90ICh0cnVlfGZhbHNlKTsKICovCmZ1bmN0aW9uIGVtcHR5T2JqZWN0KGUpe3JldHVybiEoKDAscy5kZWZhdWx0KShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gc2Vjb25kc1NpbmNlRXBvY2goKXtyZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9LyoqCiAqIE1ha2UgYSBDT1BZIG9mIHRoZSBvcmlnaW5hbCBkYXRhCiAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAtIG9iamVjdCB0byBiZSBjbG9uZWQKICogQHJldHVybiB7T2JqZWN0fQogKi8KZnVuY3Rpb24gZGVlcENsb25lKGUpewovL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCmlmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsaS5kZWZhdWx0KShlKSl9ZnVuY3Rpb24gcmVtb3ZlUGF0aEZyb21VUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX0vKioKICogT2J0YWlucyB0aGUgdXNlciBVUkwgdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIGVtYWlsCiAqIEBwYXJhbSAge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsCiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMCiAqLwpmdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfS8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIGVtYWlsIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBVUkwKICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICovCmZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59LyoqCiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXQKICogQHBhcmFtICB7c3RyaW5nfSAgIGlkZW50aWZpZXIgIHVzZXIgaWRlbnRpZmllcgogKiBAcmV0dXJuIHtzdHJpbmd9ICAgdXNlclVSTCAgICB0aGUgdXNlciBVUkwKICovCmZ1bmN0aW9uIGNvbnZlcnRUb1VzZXJVUkwoZSl7Ci8vIGNoZWNrIGlmIHRoZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIHVybCBmb3JtYXQKaWYoInVzZXI6Ly8iPT09ZS5zdWJzdHJpbmcoMCw3KSl7dmFyIHQ9ZGl2aWRlVVJMKGUpOwovL2NoZWNrIGlmIHRoZSB1cmwgaXMgd2VsbCBmb3JtYXRlZAppZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gZ2V0VXNlclVSTEZyb21FbWFpbChlKX1mdW5jdGlvbiBpc0RhdGFPYmplY3RVUkwoZSl7dmFyIHQ9WyJkb21haW4taWRwIiwicnVudGltZSIsImRvbWFpbiIsImh5cGVydHkiXSxyPWUuc3BsaXQoIjovLyIpLG49clswXTtyZXR1cm4tMT09PXQuaW5kZXhPZihuKX1mdW5jdGlvbiBpc0xlZ2FjeShlKXtyZXR1cm4gZS5zcGxpdCgiQCIpLmxlbmd0aD4xfWZ1bmN0aW9uIGlzVVJMKGUpe3JldHVybiBlLnNwbGl0KCIvIikubGVuZ3RoPj0zfWZ1bmN0aW9uIGlzVXNlclVSTChlKXtyZXR1cm4idXNlciI9PT1kaXZpZGVVUkwoZSkudHlwZX1mdW5jdGlvbiBpc0h5cGVydHlVUkwoZSl7cmV0dXJuImh5cGVydHkiPT09ZGl2aWRlVVJMKGUpLnR5cGV9LyoqCiAqIGdldCBpbmZvcm1hdGlvbiByZWxhdGl2ZSBlYWNoIGNvbXBvbmVudCBjb25maWd1cmVkIG9uIHJ1bnRpbWUgY29uZmlndXJhdGlvbjsKICogQHBhcmFtICB7b2JqZWN0fSBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGFsbCBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50ICAgICBzdHJpbmcgd2l0aCB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiwgbGlrZSwgcnVudGltZVVSTFMsIGNhdGFsb2d1ZVVSTHMsIG1zZ05vZGVVUkwsIGRvbWFpblJlZ2lzdHJ5VVJMOwogKiBAcGFyYW0gIHtzdHJpbmd9IHJlc291cmNlICAgICAgdHlwZSBvZiByZXNvdXJjZSB0byBnZXQsIGxpa2UsIGNhdGFsb2d1ZSwgcnVudGltZVVBLCBwcm90b2NvbHN0dWIsIGlkcFByb3h5CiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgICAgICByZXR1cm4gYW4gb2JqZWN0IHdpdGggYWxsIGNvbmZpZ3VyYXRpb25zOwogKi8KZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcyhlLHQscil7cmV0dXJuIGVbdF1bcl19LyoqCiAqIEJ1aWxkIGEgZnVsbCB1cmwgd2l0aCB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uOwogKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggYWxsIGNvbmZpZ3VyYXRpb24KICogQHBhcmFtICB7c3RyaW5nfSBjb21wb25lbnQgICAgIHN0cmluZyB3aXRoIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBjb25maWd1cmF0aW9uLCBsaWtlLCBydW50aW1lVVJMUywgY2F0YWxvZ3VlVVJMcywgbXNnTm9kZVVSTCwgZG9tYWluUmVnaXN0cnlVUkw7CiAqIEBwYXJhbSAge3N0cmluZ30gcmVzb3VyY2UgICAgICB0eXBlIG9mIHJlc291cmNlIHRvIGdldCwgbGlrZSwgY2F0YWxvZ3VlLCBydW50aW1lVUEsIHByb3RvY29sc3R1YiwgaWRwUHJveHkKICogQHBhcmFtICB7c3RyaW5nfSB0eXBlICAgICAgICAgIHJlc291cmNlIHRvIGdldCwgbGlrZSBhIGh5cGVydHkgbmFtZSBvciBwcm90b2NvbHN0dWIgbmFtZTsKICogQHBhcmFtICB7Ym9vbGVhbn0gdXNlRmFsbGJhY2sgIGlmIHRydWUgdGhlIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgaGF2ZSBhIGZhbGxiYWNrIHVybDsKICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgICAgIHBhcnRpYWwgdXJsIHRvIGNvbnRhY3QgdGhlIHJlc291cmNlOwogKi8KZnVuY3Rpb24gYnVpbGRVUkwoZSx0LHIsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxzPWVbdF0sYT12b2lkIDA7aWYoIXMuaGFzT3duUHJvcGVydHkocikpdGhyb3cgRXJyb3IoIlRoZSBjb25maWd1cmF0aW9uICIrKDAsaS5kZWZhdWx0KShzLCIiLDIpKyIgZG9uJ3QgaGF2ZSB0aGUgIityKyIgcmVzb3VyY2UgeW91IGFyZSBsb29raW5nIGZvciIpO3ZhciB1PXNbcl07Ci8vIGNvbnNvbGUubG9nKHVybCk7CnJldHVybiBuPyhhPXUucHJlZml4K2UuZG9tYWluK3Uuc3VmZml4K24sdS5oYXNPd25Qcm9wZXJ0eSgiZmFsbGJhY2siKSYmbyYmKGE9dS5mYWxsYmFjay5pbmRleE9mKCIlZG9tYWluJSIpP3UuZmFsbGJhY2sucmVwbGFjZSgvKCVkb21haW4lKS9nLGUuZG9tYWluKStuOnUuZmFsbGJhY2srbikpOmE9dS5wcmVmaXgrZS5kb21haW4rdS5zdWZmaXgsYX0vKioKICogR2VuZXJhdGUgYSBHbG9iYWwgVW5pcXVlIElECiAqCiAqIEByZXR1cm5zIFN0cmluZzsKICovCmZ1bmN0aW9uIGdlbmVyYXRlR1VJRCgpe2Z1bmN0aW9uIHM0KCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIHM0KCkrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKStzNCgpK3M0KCl9ZnVuY3Rpb24gZ2V0VXNlcklkZW50aXR5RG9tYWluKGUpe3ZhciB0PWRpdmlkZVVSTChlKSxyPXQuZG9tYWluLnNwbGl0KCIuIiksbj1yLmxlbmd0aDtyZXR1cm4gMT09bj9yW24tMV06cltuLTJdKyIuIityW24tMV19LyoqCiAqIENoZWNrIGlmIFVSTCBpcyBmcm9tIGEgYmFja2VuZCBzZXJ2aWNlCiAqIEBwYXJhbSAge3N0cmluZ30gdXJsICAgICBVUkwgdG8gYmUgcHJvY2Vzc2VkCiAqIEByZXR1cm4ge2Jvb2xlYW59CiAqLwpmdW5jdGlvbiBpc0JhY2tlbmRTZXJ2aWNlVVJMKGUpe3ZhciB0PWRpdmlkZVVSTChlKSxyPXQuZG9tYWluLnNwbGl0KCIuIiksbj1bImRvbWFpbiIsImdsb2JhbCIsImRvbWFpbi1pZHAiXSxpPVsicmVnaXN0cnkiLCJtc2ctbm9kZSJdLG89dm9pZCAwO3JldHVybiByLmxlbmd0aD4xJiYobz1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWkuaW5kZXhPZihlKX0pWzBdKSwhKCFvfHwtMT09PWkuaW5kZXhPZihvKSl8fCEhdC50eXBlJiYtMSE9PW4uaW5kZXhPZih0LnR5cGUpfWZ1bmN0aW9uIGRpdmlkZUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybnt1c2VybmFtZTplLnN1YnN0cmluZygwLHQpLGRvbWFpbjplLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpfX1mdW5jdGlvbiBhc3NpZ24oZSx0LHIpe2V8fChlPXt9KSwic3RyaW5nIj09dHlwZW9mIHQmJih0PXBhcnNlQXR0cmlidXRlcyh0KSk7Zm9yKHZhciBuPXQubGVuZ3RoLTEsaT0wO2k8bjsrK2kpe3ZhciBvPXRbaV07byBpbiBlfHwoZVtvXT17fSksZT1lW29dfWVbdFtuXV09cn1mdW5jdGlvbiBzcGxpdE9iamVjdFVSTChlKXt2YXIgdD1lLnNwbGl0KCIvIikscj10WzBdKyIvLyIrdFsyXSsiLyIrdFszXSxuPXRbNV0saT17dXJsOnIscmVzb3VyY2U6bn07cmV0dXJuIGl9ZnVuY3Rpb24gY2hlY2tBdHRyaWJ1dGUoZSl7dmFyIHQ9LygoKFthLXpBLVpdKyk6XC9cLyhbMC05YS16QS1aXVstXHddKlswLTlhLXpBLVpdXC4pK1thLXpBLVpdezIsOX0pXC9bYS16QS1aMC05Ll0rQFthLXpBLVowLTldKygtKT9bYS16QS1aMC05XSsoXC4pP1thLXpBLVowLTldezIsMTB9P1wuW2EtekEtWl17MiwxMH0pKC4rKD89LmlkZW50aXR5KSk/L2dtLHI9W10sbj1bXTtpZihudWxsPT1lLm1hdGNoKHQpKW49ZS5zcGxpdCgiLiIpO2Vsc2V7Zm9yKHZhciBpPXZvaWQgMDtudWxsIT09KGk9dC5leGVjKGUpKTspCi8vIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIGluZmluaXRlIGxvb3BzIHdpdGggemVyby13aWR0aCBtYXRjaGVzCmkuaW5kZXg9PT10Lmxhc3RJbmRleCYmdC5sYXN0SW5kZXgrKywKLy8gVGhlIHJlc3VsdCBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGUgYG1gLXZhcmlhYmxlLgppLmZvckVhY2goZnVuY3Rpb24oZSx0KXswPT09dCYmci5wdXNoKGUpfSk7dmFyIG89dm9pZCAwO3IuZm9yRWFjaChmdW5jdGlvbih0KXtvPWUucmVwbGFjZSh0LCIqLSoiKSxuPW8uc3BsaXQoIi4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiotKiI9PT1lP3Q6ZX0pfSl9cmV0dXJuIG59ZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGUpe3ZhciB0PS8oWzAtOWEtekEtWl1bLVx3XSopOlwvXC8vZztpZihlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIHI9ZS5zcGxpdCh0KVswXSxuPXIuc3BsaXQoIi4iKSxpPWUucmVwbGFjZShyLCIiKTtpZihlLmluY2x1ZGVzKCJpZGVudGl0eSIpKXt2YXIgbz1pLnNwbGl0KCJpZGVudGl0eS4iKTtpPW9bMF0uc2xpY2UoIi4iLC0xKSxvPW9bMV0uc3BsaXQoIi4iKSxuLnB1c2goaSwiaWRlbnRpdHkiKSxuPW4uY29uY2F0KG8pfWVsc2Ugbi5wdXNoKGkpO3JldHVybiBuLmZpbHRlcihCb29sZWFuKX1yZXR1cm4gZS5zcGxpdCgiLiIpfWZ1bmN0aW9uIGlzRW1wdHkoZSl7Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtyZXR1cm4oMCxpLmRlZmF1bHQpKGUpPT09KDAsaS5kZWZhdWx0KSh7fSl9ZnVuY3Rpb24gY2hhdGtleXNUb1N0cmluZ0Nsb25lcihlKXt2YXIgdD17fSxyPSgwLHMuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07dFtpXT17fSx0W2ldLnNlc3Npb25LZXk9ZVtpXS5zZXNzaW9uS2V5LnRvU3RyaW5nKCksdFtpXS5pc1RvRW5jcnlwdD1lW2ldLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gY2hhdGtleXNUb0FycmF5Q2xvbmVyKGUpe3ZhciB0PXt9LHI9KDAscy5kZWZhdWx0KShlKTtpZihyKXRyeXtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTt0W2ldPXt9O3ZhciBvPUpTT04ucGFyc2UoIlsiK2VbaV0uc2Vzc2lvbktleSsiXSIpO3RbaV0uc2Vzc2lvbktleT1uZXcgVWludDhBcnJheShvKSx0W2ldLmlzVG9FbmNyeXB0PWVbaV0uaXNUb0VuY3J5cHR9fWNhdGNoKGUpe31yZXR1cm4gdH1mdW5jdGlvbiBwYXJzZU1lc3NhZ2VVUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0Lmxlbmd0aDw9Nj90WzBdKyIvLyIrdFsyXSsiLyIrdFszXTp0WzBdKyIvLyIrdFsyXSsiLyIrdFszXSsiLyIrdFs0XX1mdW5jdGlvbiBhdmFpbGFibGVTcGFjZShlLHQpe3ZhciByPShlL3QpLnRvRml4ZWQoMik7cmV0dXJue3F1b3RhOnQsdXNhZ2U6ZSxwZXJjZW50Ok51bWJlcihyKX19LyoqCiogRW5jb2RlcyBhIEpTIG9iamVjdCB0byBiYXNlIDY0IGVuY29kZQoqIEBwYXJhbSAgIHtPYmplY3R9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtzdHJpbmd9ICAgZW5jb2RlZCB2YWx1ZQoqLwpmdW5jdGlvbiBlbmNvZGUoZSl7dHJ5e3ZhciB0PXN0cmluZ2lmeShlKTtyZXR1cm4gYnRvYSh0KX1jYXRjaChlKXt0aHJvdyBlfX0vKioKICAqIERlY29kZSBhIGJhc2U2NCBzdHJpbmcgdG8gb2JqZWN0CiAgKiBAcGFyYW0gICB7c3RyaW5nX2I2NH0gICAgdmFsdWUgICAgdmFsdWUgZW5jb2RlZCBpbiBiYXNlIDY0CiAgKiBAcmV0dXJuICB7T2JqZWN0fSBkZWNvZGVkVmFsdWUKICAqLwpmdW5jdGlvbiBkZWNvZGUoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGF0b2IoZSkpfWNhdGNoKGUpe3Rocm93IGV9fS8qKgoqIERlY29kZSBhIGJhc2U2NCBzdHJpbmcgdG8gVWludDhBcnJheQoqIEBwYXJhbSAgIHtzdHJpbmdfYjY0fSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNvZGVkIHZhbHVlCiovCmZ1bmN0aW9uIGRlY29kZVRvVWludDhBcnJheShlKXt0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGRlY29kZShlKSl9Y2F0Y2goZSl7dGhyb3cgZX19LyoqCiogQ29udmVydHMgYSBKUyBvYmplY3QgdG8gc3RyaW5nCiogTk9URTogU3BlY2lhbCBjb252ZXJzaW9uIGZvciBVaW50OEFycmF5cwoqIEBwYXJhbSAgIHtPYmplY3R9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtVaW50OEFycmF5fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gc3RyaW5naWZ5KGUpe3RyeXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PVVpbnQ4QXJyYXk/IlsiK2UudG9TdHJpbmcoKSsiXSI6KDAsaS5kZWZhdWx0KShlKX1jYXRjaChlKXt0aHJvdyBlfX0vKioKKiBDb252ZXJ0cyBhIHN0cmluZ2lmaWVkIG9iamVjdCB0byBvYmplY3QKKiBAcGFyYW0gICB7U3RyaW5nfSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7T2JqZWN0fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gcGFyc2UoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe3Rocm93IGV9fS8qKgoqIENvbnZlcnRzIGEgc3RyaW5naWZpZWQgb2JqZWN0IHRvIG9iamVjdAoqIEBwYXJhbSAgIHtTdHJpbmd9ICAgIHZhbHVlICAgIGJ5dGVBcnJheSB2YWx1ZQoqIEByZXR1cm4gIHtVaW50OEFycmF5fSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gcGFyc2VUb1VpbnQ4QXJyYXkoZSl7dHJ5e3JldHVybiBuZXcgVWludDhBcnJheShwYXJzZShlKSl9Y2F0Y2goZSl7dGhyb3cgZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMzcpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKTt0LmRpdmlkZVVSTD1kaXZpZGVVUkwsdC5lbXB0eU9iamVjdD1lbXB0eU9iamVjdCx0LnNlY29uZHNTaW5jZUVwb2NoPXNlY29uZHNTaW5jZUVwb2NoLHQuZGVlcENsb25lPWRlZXBDbG9uZSx0LnJlbW92ZVBhdGhGcm9tVVJMPXJlbW92ZVBhdGhGcm9tVVJMLHQuZ2V0VXNlclVSTEZyb21FbWFpbD1nZXRVc2VyVVJMRnJvbUVtYWlsLHQuZ2V0VXNlckVtYWlsRnJvbVVSTD1nZXRVc2VyRW1haWxGcm9tVVJMLHQuY29udmVydFRvVXNlclVSTD1jb252ZXJ0VG9Vc2VyVVJMLHQuaXNEYXRhT2JqZWN0VVJMPWlzRGF0YU9iamVjdFVSTCx0LmlzTGVnYWN5PWlzTGVnYWN5LHQuaXNVUkw9aXNVUkwsdC5pc1VzZXJVUkw9aXNVc2VyVVJMLHQuaXNIeXBlcnR5VVJMPWlzSHlwZXJ0eVVSTCx0LmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXM9Z2V0Q29uZmlndXJhdGlvblJlc291cmNlcyx0LmJ1aWxkVVJMPWJ1aWxkVVJMLHQuZ2VuZXJhdGVHVUlEPWdlbmVyYXRlR1VJRCx0LmdldFVzZXJJZGVudGl0eURvbWFpbj1nZXRVc2VySWRlbnRpdHlEb21haW4sdC5pc0JhY2tlbmRTZXJ2aWNlVVJMPWlzQmFja2VuZFNlcnZpY2VVUkwsdC5kaXZpZGVFbWFpbD1kaXZpZGVFbWFpbCx0LmFzc2lnbj1hc3NpZ24sdC5zcGxpdE9iamVjdFVSTD1zcGxpdE9iamVjdFVSTCx0LmNoZWNrQXR0cmlidXRlPWNoZWNrQXR0cmlidXRlLHQucGFyc2VBdHRyaWJ1dGVzPXBhcnNlQXR0cmlidXRlcyx0LmlzRW1wdHk9aXNFbXB0eSx0LmNoYXRrZXlzVG9TdHJpbmdDbG9uZXI9Y2hhdGtleXNUb1N0cmluZ0Nsb25lcix0LmNoYXRrZXlzVG9BcnJheUNsb25lcj1jaGF0a2V5c1RvQXJyYXlDbG9uZXIsdC5wYXJzZU1lc3NhZ2VVUkw9cGFyc2VNZXNzYWdlVVJMLHQuYXZhaWxhYmxlU3BhY2U9YXZhaWxhYmxlU3BhY2UsdC5lbmNvZGU9ZW5jb2RlLHQuZGVjb2RlPWRlY29kZSx0LmRlY29kZVRvVWludDhBcnJheT1kZWNvZGVUb1VpbnQ4QXJyYXksdC5zdHJpbmdpZnk9c3RyaW5naWZ5LHQucGFyc2U9cGFyc2UsdC5wYXJzZVRvVWludDhBcnJheT1wYXJzZVRvVWludDhBcnJheX0sLyogMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpCnZhciBuPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0sLyogMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LC8qIDE3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sLyogMTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLGk9cig0Nyk7ZS5leHBvcnRzPXIoMTApP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sLyogMTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1yKDE4KSxvPXIoMTcpLHM9cig0OCkoInNyYyIpLGE9RnVuY3Rpb24udG9TdHJpbmcsdT0oIiIrYSkuc3BsaXQoInRvU3RyaW5nIik7cigzMCkuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5jYWxsKGUpfSwoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByO2MmJihvKHIsIm5hbWUiKXx8aShyLCJuYW1lIix0KSksZVt0XSE9PXImJihjJiYobyhyLHMpfHxpKHIscyxlW3RdPyIiK2VbdF06dS5qb2luKFN0cmluZyh0KSkpKSxlPT09bj9lW3RdPXI6YT9lW3RdP2VbdF09cjppKGUsdCxyKTooZGVsZXRlIGVbdF0saShlLHQscikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJnRoaXNbc118fGEuY2FsbCh0aGlzKX0pfSwvKiAyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoNSksbz1yKDMyKSxzPS8iL2csYT1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1TdHJpbmcobyhlKSksYT0iPCIrdDtyZXR1cm4iIiE9PXImJihhKz0iICIrcisnPSInK1N0cmluZyhuKS5yZXBsYWNlKHMsIiZxdW90OyIpKyciJyksYSsiPiIraSsiPC8iK3QrIj4ifTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyW2VdPXQoYSksbihuLlArbi5GKmkoZnVuY3Rpb24oKXt2YXIgdD0iIltlXSgnIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCciJykubGVuZ3RoPjN9KSwiU3RyaW5nIixyKX19LC8qIDIxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPXIoMTMpLG89cig2NSkscz1yKDU4KSxhPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxjLGYsbD1lJmEuRixkPWUmYS5HLHA9ZSZhLlMseT1lJmEuUCxoPWUmYS5CLHY9ZSZhLlcsZz1kP2k6aVt0XXx8KGlbdF09e30pLGI9Zy5wcm90b3R5cGUsbT1kP246cD9uW3RdOihuW3RdfHx7fSkucHJvdG90eXBlO2QmJihyPXQpO2Zvcih1IGluIHIpCi8vIGNvbnRhaW5zIGluIG5hdGl2ZQooYz0hbCYmbSYmdm9pZCAwIT09bVt1XSkmJnUgaW4gZ3x8KAovLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZApmPWM/bVt1XTpyW3VdLAovLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXMKZ1t1XT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgbVt1XT9yW3VdOmgmJmM/byhmLG4pOnYmJm1bdV09PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGYpOnkmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP28oRnVuY3Rpb24uY2FsbCxmKTpmLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSUKeSYmKChnLnZpcnR1YWx8fChnLnZpcnR1YWw9e30pKVt1XT1mLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJQplJmEuUiYmYiYmIWJbdV0mJnMoYix1LGYpKSl9OwovLyB0eXBlIGJpdG1hcAphLkY9MSwvLyBmb3JjZWQKYS5HPTIsLy8gZ2xvYmFsCmEuUz00LC8vIHN0YXRpYwphLlA9OCwvLyBwcm90bwphLkI9MTYsLy8gYmluZAphLlc9MzIsLy8gd3JhcAphLlU9NjQsLy8gc2FmZQphLlI9MTI4LC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAKZS5leHBvcnRzPWF9LC8qIDIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4CnZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sLyogMjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM2KSgid2tzIiksaT1yKDk0KSxvPXIoMjIpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBvOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJm9bZV18fChzP286aSkoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPW59LC8qIDI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzCnZhciBuPXIoNzApLGk9cigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGkoZSkpfX0sLyogMjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzEpLGk9cig0Nyksbz1yKDI0KSxzPXIoMzEpLGE9cigxNyksdT1yKDE0OCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDEwKT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCnZhciBuPXIoMTcpLGk9cigxNSksbz1yKDEwMykoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sLyogMjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmcKdmFyIG49cigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLGkpe3JldHVybiBlLmNhbGwodCxyLG4saSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwvKiAyOCAqLwovKioqLwpmdW5jdGlvbihlLHQpe3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gci5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sLyogMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiEhZSYmbihmdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsCnQ/ZS5jYWxsKG51bGwsZnVuY3Rpb24oKXt9LDEpOmUuY2FsbChudWxsKX0pfX0sLyogMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LC8qIDMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pCnZhciBuPXIoNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDMyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCmUuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LC8qIDMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlcwp2YXIgbj1yKDApLGk9cigzMCksbz1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShpLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKm8oZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSwvKiAzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDAgLT4gQXJyYXkjZm9yRWFjaAovLyAxIC0+IEFycmF5I21hcAovLyAyIC0+IEFycmF5I2ZpbHRlcgovLyAzIC0+IEFycmF5I3NvbWUKLy8gNCAtPiBBcnJheSNldmVyeQovLyA1IC0+IEFycmF5I2ZpbmQKLy8gNiAtPiBBcnJheSNmaW5kSW5kZXgKdmFyIG49cigyNyksaT1yKDcwKSxvPXIoMTUpLHM9cigxMiksYT1yKDEyMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsYz0zPT1lLGY9ND09ZSxsPTY9PWUsZD01PT1lfHxsLHA9dHx8YTtyZXR1cm4gZnVuY3Rpb24odCxhLHkpe2Zvcih2YXIgaCx2LGc9byh0KSxiPWkoZyksbT1uKGEseSwzKSxfPXMoYi5sZW5ndGgpLFI9MCx3PXI/cCh0LF8pOnU/cCh0LDApOnZvaWQgMDtfPlI7UisrKWlmKChkfHxSIGluIGIpJiYoaD1iW1JdLHY9bShoLFIsZyksZSkpaWYocil3W1JdPXY7ZWxzZSBpZih2KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Ly8gc29tZQpjYXNlIDU6cmV0dXJuIGg7Ly8gZmluZApjYXNlIDY6cmV0dXJuIFI7Ly8gZmluZEluZGV4CmNhc2UgMjp3LnB1c2goaCl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBsPy0xOmN8fGY/Zjp3fX19LC8qIDM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LC8qIDM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDApLF9fZXNNb2R1bGU6ITB9fSwvKiAzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2lmKHIoMTApKXt2YXIgbj1yKDQ5KSxpPXIoNCksbz1yKDUpLHM9cigwKSxhPXIoODgpLHU9cigxMjYpLGM9cigyNyksZj1yKDU1KSxsPXIoNDcpLGQ9cigxOCkscD1yKDU3KSx5PXIoMzMpLGg9cigxMiksdj1yKDE3NCksZz1yKDUxKSxiPXIoMzEpLG09cigxNyksXz1yKDcyKSxSPXIoNiksdz1yKDE1KSxTPXIoMTE3KSxQPXIoNTIpLE89cigyNiksTT1yKDUzKS5mLGs9cigxMTkpLEw9cig0OCkseD1yKDgpLEU9cigzNSksQT1yKDc5KSxVPXIoODYpLEQ9cigxMjIpLEk9cig2Myksaj1yKDgzKSxUPXIoNTQpLEM9cigxMjEpLEY9cigxNjQpLE49cigxMSkscT1yKDI1KSxIPU4uZixCPXEuZixLPWkuUmFuZ2VFcnJvcixHPWkuVHlwZUVycm9yLFY9aS5VaW50OEFycmF5LFc9QXJyYXkucHJvdG90eXBlLFk9dS5BcnJheUJ1ZmZlcix6PXUuRGF0YVZpZXcsSj1FKDApLCQ9RSgyKSxRPUUoMyksWD1FKDQpLFo9RSg1KSxlZT1FKDYpLHRlPUEoITApLHJlPUEoITEpLG5lPUQudmFsdWVzLGllPUQua2V5cyxvZT1ELmVudHJpZXMsc2U9Vy5sYXN0SW5kZXhPZixhZT1XLnJlZHVjZSx1ZT1XLnJlZHVjZVJpZ2h0LGNlPVcuam9pbixmZT1XLnNvcnQsbGU9Vy5zbGljZSxkZT1XLnRvU3RyaW5nLHBlPVcudG9Mb2NhbGVTdHJpbmcseWU9eCgiaXRlcmF0b3IiKSxoZT14KCJ0b1N0cmluZ1RhZyIpLHZlPUwoInR5cGVkX2NvbnN0cnVjdG9yIiksZ2U9TCgiZGVmX2NvbnN0cnVjdG9yIiksYmU9YS5DT05TVFIsbWU9YS5UWVBFRCxfZT1hLlZJRVcsUmU9RSgxLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1lKFUoZSxlW2dlXSksdCl9KSx3ZT1vKGZ1bmN0aW9uKCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgpyZXR1cm4gMT09PW5ldyBWKG5ldyBVaW50MTZBcnJheShbMV0pLmJ1ZmZlcilbMF19KSxTZT0hIVYmJiEhVi5wcm90b3R5cGUuc2V0JiZvKGZ1bmN0aW9uKCl7bmV3IFYoMSkuc2V0KHt9KX0pLFBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eShlKTtpZihyPDB8fHIldCl0aHJvdyBLKCJXcm9uZyBvZmZzZXQhIik7cmV0dXJuIHJ9LE9lPWZ1bmN0aW9uKGUpe2lmKFIoZSkmJm1lIGluIGUpcmV0dXJuIGU7dGhyb3cgRyhlKyIgaXMgbm90IGEgdHlwZWQgYXJyYXkhIil9LE1lPWZ1bmN0aW9uKGUsdCl7aWYoIShSKGUpJiZ2ZSBpbiBlKSl0aHJvdyBHKCJJdCBpcyBub3QgYSB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvciEiKTtyZXR1cm4gbmV3IGUodCl9LGtlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIExlKFUoZSxlW2dlXSksdCl9LExlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aCxpPU1lKGUsbik7bj5yOylpW3JdPXRbcisrXTtyZXR1cm4gaX0seGU9ZnVuY3Rpb24oZSx0LHIpe0goZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZFtyXX19KX0sRWU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGksbyxzLGE9dyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsZj11PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxsPXZvaWQgMCE9PWYsZD1rKGEpO2lmKHZvaWQgMCE9ZCYmIVMoZCkpe2ZvcihzPWQuY2FsbChhKSxuPVtdLHQ9MDshKG89cy5uZXh0KCkpLmRvbmU7dCsrKW4ucHVzaChvLnZhbHVlKTthPW59Zm9yKGwmJnU+MiYmKGY9YyhmLGFyZ3VtZW50c1syXSwyKSksdD0wLHI9aChhLmxlbmd0aCksaT1NZSh0aGlzLHIpO3I+dDt0KyspaVt0XT1sP2YoYVt0XSx0KTphW3RdO3JldHVybiBpfSxBZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPU1lKHRoaXMsdCk7dD5lOylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiByfSxVZT0hIVYmJm8oZnVuY3Rpb24oKXtwZS5jYWxsKG5ldyBWKDEpKX0pLERlPWZ1bmN0aW9uKCl7cmV0dXJuIHBlLmFwcGx5KFVlP2xlLmNhbGwoT2UodGhpcykpOk9lKHRoaXMpLGFyZ3VtZW50cyl9LEllPXtjb3B5V2l0aGluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYuY2FsbChPZSh0aGlzKSxlLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfSxldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gWChPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmlsbDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBDLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4ga2UodGhpcywkKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApKX0sZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gWihPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZm9yRWFjaDpmdW5jdGlvbihlKXtKKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxpbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiByZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0saW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxqb2luOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIGNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIHNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gUmUoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHJlZHVjZTpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBhZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZWR1Y2VSaWdodDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiB1ZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZXZlcnNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcyxyPU9lKHQpLmxlbmd0aCxuPU1hdGguZmxvb3Ioci8yKSxpPTA7aTxuOyllPXRbaV0sdFtpKytdPXRbLS1yXSx0W3JdPWU7cmV0dXJuIHR9LHNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIFEoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZlLmNhbGwoT2UodGhpcyksZSl9LHN1YmFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UodGhpcyksbj1yLmxlbmd0aCxpPWcoZSxuKTtyZXR1cm4gbmV3KFUocixyW2dlXSkpKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCtpKnIuQllURVNfUEVSX0VMRU1FTlQsaCgodm9pZCAwPT09dD9uOmcodCxuKSktaSkpfX0samU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga2UodGhpcyxsZS5jYWxsKE9lKHRoaXMpLGUsdCkpfSxUZT1mdW5jdGlvbihlKXtPZSh0aGlzKTt2YXIgdD1QZShhcmd1bWVudHNbMV0sMSkscj10aGlzLmxlbmd0aCxuPXcoZSksaT1oKG4ubGVuZ3RoKSxvPTA7aWYoaSt0PnIpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2Zvcig7bzxpOyl0aGlzW3Qrb109bltvKytdfSxDZT17ZW50cmllczpmdW5jdGlvbigpe3JldHVybiBvZS5jYWxsKE9lKHRoaXMpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBpZS5jYWxsKE9lKHRoaXMpKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhbGwoT2UodGhpcykpfX0sRmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUihlKSYmZVttZV0mJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LE5lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZlKGUsdD1iKHQsITApKT9sKDIsZVt0XSk6QihlLHQpfSxxZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIShGZShlLHQ9Yih0LCEwKSkmJlIocikmJm0ociwidmFsdWUiKSl8fG0ociwiZ2V0Iil8fG0ociwic2V0Iil8fHIuY29uZmlndXJhYmxlfHxtKHIsIndyaXRhYmxlIikmJiFyLndyaXRhYmxlfHxtKHIsImVudW1lcmFibGUiKSYmIXIuZW51bWVyYWJsZT9IKGUsdCxyKTooZVt0XT1yLnZhbHVlLGUpfTtiZXx8KHEuZj1OZSxOLmY9cWUpLHMocy5TK3MuRiohYmUsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpOZSxkZWZpbmVQcm9wZXJ0eTpxZX0pLG8oZnVuY3Rpb24oKXtkZS5jYWxsKHt9KX0pJiYoZGU9cGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2FsbCh0aGlzKX0pO3ZhciBIZT1wKHt9LEllKTtwKEhlLENlKSxkKEhlLHllLENlLnZhbHVlcykscChIZSx7c2xpY2U6amUsc2V0OlRlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7fSx0b1N0cmluZzpkZSx0b0xvY2FsZVN0cmluZzpEZX0pLHhlKEhlLCJidWZmZXIiLCJiIikseGUoSGUsImJ5dGVPZmZzZXQiLCJvIikseGUoSGUsImJ5dGVMZW5ndGgiLCJsIikseGUoSGUsImxlbmd0aCIsImUiKSxIKEhlLGhlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1ttZV19fSksCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50cwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dT0hIXU7dmFyIGM9ZSsodT8iQ2xhbXBlZCI6IiIpKyJBcnJheSIsbD0iZ2V0IitlLHA9InNldCIrZSx5PWlbY10sZz15fHx7fSxiPXkmJk8oeSksbT0heXx8IWEuQUJWLHc9e30sUz15JiZ5LnByb3RvdHlwZSxrPWZ1bmN0aW9uKGUscil7dmFyIG49ZS5fZDtyZXR1cm4gbi52W2xdKHIqdCtuLm8sd2UpfSxMPWZ1bmN0aW9uKGUscixuKXt2YXIgaT1lLl9kO3UmJihuPShuPU1hdGgucm91bmQobikpPDA/MDpuPjI1NT8yNTU6MjU1Jm4pLGkudltwXShyKnQraS5vLG4sd2UpfSx4PWZ1bmN0aW9uKGUsdCl7SChlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBrKHRoaXMsdCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gTCh0aGlzLHQsZSl9LGVudW1lcmFibGU6ITB9KX07bT8oeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMsIl9kIik7dmFyIG8scyxhLHUsbD0wLHA9MDtpZihSKHIpKXtpZighKHIgaW5zdGFuY2VvZiBZfHwiQXJyYXlCdWZmZXIiPT0odT1fKHIpKXx8IlNoYXJlZEFycmF5QnVmZmVyIj09dSkpcmV0dXJuIG1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik7bz1yLHA9UGUobix0KTt2YXIgZz1yLmJ5dGVMZW5ndGg7aWYodm9pZCAwPT09aSl7aWYoZyV0KXRocm93IEsoIldyb25nIGxlbmd0aCEiKTtpZigocz1nLXApPDApdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpfWVsc2UgaWYoKHM9aChpKSp0KStwPmcpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2E9cy90fWVsc2UgYT12KHIpLHM9YSp0LG89bmV3IFkocyk7Zm9yKGQoZSwiX2QiLHtiOm8sbzpwLGw6cyxlOmEsdjpuZXcgeihvKX0pO2w8YTspeChlLGwrKyl9KSxTPXkucHJvdG90eXBlPVAoSGUpLGQoUywiY29uc3RydWN0b3IiLHkpKTpvKGZ1bmN0aW9uKCl7eSgxKX0pJiZvKGZ1bmN0aW9uKCl7bmV3IHkoLTEpfSkmJmooZnVuY3Rpb24oZSl7bmV3IHksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkobnVsbCksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkoMS41KSwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpuZXcgeShlKX0sITApfHwoeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMpO3ZhciBvOwovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQpyZXR1cm4gUihyKT9yIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KG89XyhyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PW8/dm9pZCAwIT09aT9uZXcgZyhyLFBlKG4sdCksaSk6dm9pZCAwIT09bj9uZXcgZyhyLFBlKG4sdCkpOm5ldyBnKHIpOm1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik6bmV3IGcodihyKSl9KSxKKGIhPT1GdW5jdGlvbi5wcm90b3R5cGU/TShnKS5jb25jYXQoTShiKSk6TShnKSxmdW5jdGlvbihlKXtlIGluIHl8fGQoeSxlLGdbZV0pfSkseS5wcm90b3R5cGU9UyxufHwoUy5jb25zdHJ1Y3Rvcj15KSk7dmFyIEU9U1t5ZV0sQT0hIUUmJigidmFsdWVzIj09RS5uYW1lfHx2b2lkIDA9PUUubmFtZSksVT1DZS52YWx1ZXM7ZCh5LHZlLCEwKSxkKFMsbWUsYyksZChTLF9lLCEwKSxkKFMsZ2UseSksKHU/bmV3IHkoMSlbaGVdPT1jOmhlIGluIFMpfHxIKFMsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0pLHdbY109eSxzKHMuRytzLlcrcy5GKih5IT1nKSx3KSxzKHMuUyxjLHtCWVRFU19QRVJfRUxFTUVOVDp0fSkscyhzLlMrcy5GKm8oZnVuY3Rpb24oKXtnLm9mLmNhbGwoeSwxKX0pLGMse2Zyb206RWUsb2Y6QWV9KSwiQllURVNfUEVSX0VMRU1FTlQiaW4gU3x8ZChTLCJCWVRFU19QRVJfRUxFTUVOVCIsdCkscyhzLlAsYyxJZSksVChjKSxzKHMuUCtzLkYqU2UsYyx7c2V0OlRlfSkscyhzLlArcy5GKiFBLGMsQ2UpLG58fFMudG9TdHJpbmc9PWRlfHwoUy50b1N0cmluZz1kZSkscyhzLlArcy5GKm8oZnVuY3Rpb24oKXtuZXcgeSgxKS5zbGljZSgpfSksYyx7c2xpY2U6amV9KSxzKHMuUCtzLkYqKG8oZnVuY3Rpb24oKXtyZXR1cm5bMSwyXS50b0xvY2FsZVN0cmluZygpIT1uZXcgeShbMSwyXSkudG9Mb2NhbGVTdHJpbmcoKX0pfHwhbyhmdW5jdGlvbigpe1MudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSksYyx7dG9Mb2NhbGVTdHJpbmc6RGV9KSxJW2NdPUE/RTpVLG58fEF8fGQoUyx5ZSxVKX19ZWxzZSBlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSwvKiAzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNjkpLGk9cigwKSxvPXIoNzgpKCJtZXRhZGF0YSIpLHM9by5zdG9yZXx8KG8uc3RvcmU9bmV3KHIoMTcyKSkpLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXMuZ2V0KGUpO2lmKCFpKXtpZighcilyZXR1cm47cy5zZXQoZSxpPW5ldyBuKX12YXIgbz1pLmdldCh0KTtpZighbyl7aWYoIXIpcmV0dXJuO2kuc2V0KHQsbz1uZXcgbil9cmV0dXJuIG99LHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwIT09biYmbi5oYXMoZSl9LGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6bi5nZXQoZSl9LGY9ZnVuY3Rpb24oZSx0LHIsbil7YShyLG4sITApLnNldChlLHQpfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQsITEpLG49W107cmV0dXJuIHImJnIuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLG59LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV8fCJzeW1ib2wiPT10eXBlb2YgZT9lOlN0cmluZyhlKX0scD1mdW5jdGlvbihlKXtpKGkuUywiUmVmbGVjdCIsZSl9O2UuZXhwb3J0cz17c3RvcmU6cyxtYXA6YSxoYXM6dSxnZXQ6YyxzZXQ6ZixrZXlzOmwsa2V5OmQsZXhwOnB9fSwvKiA0MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksaT1yKDE4NCksbz1yKDEzMikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNDQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSwvKiA0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LC8qIDQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ4KSgibWV0YSIpLGk9cig2KSxvPXIoMTcpLHM9cigxMSkuZixhPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIHUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYSwvLyBvYmplY3QgSUQKdzp7fX19KX0sbD1mdW5jdGlvbihlLHQpewovLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4CmlmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLG4pKXsKLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3QKaWYoIXUoZSkpcmV0dXJuIkYiOwovLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YQppZighdClyZXR1cm4iRSI7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFvKGUsbikpewovLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdAppZighdShlKSlyZXR1cm4hMDsKLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGEKaWYoIXQpcmV0dXJuITE7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhbyhlLG4pJiZmKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6bCxnZXRXZWFrOmQsb25GcmVlemU6cH19LC8qIDQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXQp2YXIgbj1yKDgpKCJ1bnNjb3BhYmxlcyIpLGk9QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09aVtuXSYmcigxOCkoaSxuLHt9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aVtuXVtlXT0hMH19LC8qIDQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eQplLmV4cG9ydHM9IXIoNjYpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogNDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3MKdmFyIG49cigxODcpLGk9cigxMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihpKGUpKX19LC8qIDQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NjQpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LC8qIDQ4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sLyogNDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITF9LC8qIDUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTUwKSxpPXIoMTA0KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP2koZSt0LDApOm8oZSx0KX19LC8qIDUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCnZhciBuPXIoMyksaT1yKDE1MSksbz1yKDEwNCkscz1yKDEwMykoIklFX1BST1RPIiksYT1mdW5jdGlvbigpe30sdT1mdW5jdGlvbigpewovLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Zwp2YXIgZSx0PXIoMTAxKSgiaWZyYW1lIiksbj1vLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDEwNSkuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IiwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmwKLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDsKLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpOwplPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtvW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjsKLy8gYWRkICJfX3Byb3RvX18iIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGwKcmV0dXJuIG51bGwhPT1lPyhhLnByb3RvdHlwZT1uKGUpLHI9bmV3IGEsYS5wcm90b3R5cGU9bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjppKHIsdCl9fSwvKiA1MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKdmFyIG49cigxNTApLGk9cigxMDQpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGkpfX0sLyogNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQpLGk9cigxMSksbz1yKDEwKSxzPXIoOCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtvJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sLyogNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LC8qIDU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI3KSxpPXIoMTYyKSxvPXIoMTE3KSxzPXIoMyksYT1yKDEyKSx1PXIoMTE5KSxjPXt9LGY9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbCxkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxiPW4ocixsLHQ/MjoxKSxtPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7Ci8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvcgppZihvKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPm07bSsrKWlmKCh2PXQ/YihzKHk9ZVttXSlbMF0seVsxXSk6YihlW21dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PWkoaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSwvKiA1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdCluKGUsaSx0W2ldLHIpO3JldHVybiBlfX0sLyogNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLGk9cig3Myk7ZS5leHBvcnRzPXIoNDQpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sLyogNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSwvKiA2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDQzKSxfX2VzTW9kdWxlOiEwfX0sLyogNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLmYsaT1yKDE3KSxvPXIoOCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhaShlPXI/ZTplLnByb3RvdHlwZSxvKSYmbihlLG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSwvKiA2MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMzIpLG89cig1KSxzPXIoMTA3KSxhPSJbIitzKyJdIix1PSLigIvChSIsYz1SZWdFeHAoIl4iK2ErYSsiKiIpLGY9UmVnRXhwKGErYSsiKiQiKSxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT17fSxhPW8oZnVuY3Rpb24oKXtyZXR1cm4hIXNbZV0oKXx8dVtlXSgpIT11fSksYz1pW2VdPWE/dChkKTpzW2VdO3ImJihpW3JdPWMpLG4obi5QK24uRiphLCJTdHJpbmciLGkpfSxkPWwudHJpbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhpKGUpKSwxJnQmJihlPWUucmVwbGFjZShjLCIiKSksMiZ0JiYoZT1lLnJlcGxhY2UoZiwiIikpLGV9O2UuZXhwb3J0cz1sfSwvKiA2MyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sLyogNjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSl8fGUuX3QhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCEiKTtyZXR1cm4gZX19LC8qIDY1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nCnZhciBuPXIoOTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sLyogNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LC8qIDY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTg2KSxpPXIoMTM3KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA2OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDk4KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0sLyogNjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NTYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMjAzKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDk4KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisodm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCx1LmRlZmF1bHQpKHQpKSk7ZS5wcm90b3R5cGU9KDAscy5kZWZhdWx0KSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGkuZGVmYXVsdD8oMCxpLmRlZmF1bHQpKGUsdCk6ZS5fX3Byb3RvX189dCl9fSwvKiA3MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCnZhciBuPXIoMjgpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmUuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sLyogNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LC8qIDcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCkKdmFyIG49cigyOCksaT1yKDgpKCJ0b1N0cmluZ1RhZyIpLG89IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319O2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGE7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLGkpKT9yOm8/bih0KToiT2JqZWN0Ij09KGE9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjphfX0sLyogNzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSwvKiA3NCAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sLyogNzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LC8qIDc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KQp2YXIgbj1yKDEzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSwvKiA3NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe3QuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sLyogNzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1uWyJfX2NvcmUtanNfc2hhcmVkX18iXXx8KG5bIl9fY29yZS1qc19zaGFyZWRfXyJdPXt9KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV18fChpW2VdPXt9KX19LC8qIDc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZgovLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlcwp2YXIgbj1yKDI0KSxpPXIoMTIpLG89cig1MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGEsdT1uKHQpLGM9aSh1Lmxlbmd0aCksZj1vKHMsYyk7Ci8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG0KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppZihlJiZyIT1yKXtmb3IoO2M+ZjspCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKaWYoKGE9dVtmKytdKSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5mO2YrKylpZigoZXx8ZiBpbiB1KSYmdVtmXT09PXIpcmV0dXJuIGV8fGZ8fDA7cmV0dXJuIWUmJi0xfX19LC8qIDgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LC8qIDgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudCkKdmFyIG49cigyOCk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSwvKiA4MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KQp2YXIgbj1yKDYpLGk9cigyOCksbz1yKDgpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbihlKSYmKHZvaWQgMCE9PSh0PWVbb10pPyEhdDoiUmVnRXhwIj09aShlKSl9fSwvKiA4MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig4KSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz1bN11bbl0oKTtvLnJldHVybj1mdW5jdGlvbigpe2k9ITB9LAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbApBcnJheS5mcm9tKG8sZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhaSlyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dmFyIG89WzddLHM9b1tuXSgpO3MubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOnI9ITB9fSxvW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUobyl9Y2F0Y2goZSl7fXJldHVybiByfX0sLyogODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MKdmFyIG49cigzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1uKHRoaXMpLHQ9IiI7cmV0dXJuIGUuZ2xvYmFsJiYodCs9ImciKSxlLmlnbm9yZUNhc2UmJih0Kz0iaSIpLGUubXVsdGlsaW5lJiYodCs9Im0iKSxlLnVuaWNvZGUmJih0Kz0idSIpLGUuc3RpY2t5JiYodCs9InkiKSx0fX0sLyogODUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE4KSxpPXIoMTkpLG89cig1KSxzPXIoMzIpLGE9cig4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1PWEoZSksYz1yKHMsdSwiIltlXSksZj1jWzBdLGw9Y1sxXTtvKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRbdV09ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9IiJbZV0odCl9KSYmKGkoU3RyaW5nLnByb3RvdHlwZSxlLGYpLG4oUmVnRXhwLnByb3RvdHlwZSx1LDI9PXQ/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbC5jYWxsKGUsdGhpcyx0KX06ZnVuY3Rpb24oZSl7cmV0dXJuIGwuY2FsbChlLHRoaXMpfSkpfX0sLyogODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcikKdmFyIG49cigzKSxpPXIoMTYpLG89cig4KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW29dKT90Omkocil9fSwvKiA4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNCksaT1yKDApLG89cigxOSkscz1yKDU3KSxhPXIoNDIpLHU9cig1NiksYz1yKDU1KSxmPXIoNiksbD1yKDUpLGQ9cig4MykscD1yKDYxKSx5PXIoMTA4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcpe3ZhciBiPW5bZV0sbT1iLF89dj8ic2V0IjoiYWRkIixSPW0mJm0ucHJvdG90eXBlLHc9e30sUz1mdW5jdGlvbihlKXt2YXIgdD1SW2VdO28oUixlLCJkZWxldGUiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiEoZyYmIWYoZSkpJiZ0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiaGFzIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4hKGcmJiFmKGUpKSYmdC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImdldCI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIGcmJiFmKGUpP3ZvaWQgMDp0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiYWRkIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gdC5jYWxsKHRoaXMsMD09PWU/MDplKSx0aGlzfTpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwodGhpcywwPT09ZT8wOmUsciksdGhpc30pfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbSYmKGd8fFIuZm9yRWFjaCYmIWwoZnVuY3Rpb24oKXsobmV3IG0pLmVudHJpZXMoKS5uZXh0KCl9KSkpe3ZhciBQPW5ldyBtLE89UFtfXShnP3t9Oi0wLDEpIT1QLE09bChmdW5jdGlvbigpe1AuaGFzKDEpfSksaz1kKGZ1bmN0aW9uKGUpe25ldyBtKGUpfSksTD0hZyYmbChmdW5jdGlvbigpe2ZvcigKLy8gVjggfiBDaHJvbWl1bSA0Mi0gZmFpbHMgb25seSB3aXRoIDUrIGVsZW1lbnRzCnZhciBlPW5ldyBtLHQ9NTt0LS07KWVbX10odCx0KTtyZXR1cm4hZS5oYXMoLTApfSk7a3x8KG09dChmdW5jdGlvbih0LHIpe2ModCxtLGUpO3ZhciBuPXkobmV3IGIsdCxtKTtyZXR1cm4gdm9pZCAwIT1yJiZ1KHIsdixuW19dLG4pLG59KSxtLnByb3RvdHlwZT1SLFIuY29uc3RydWN0b3I9bSksKE18fEwpJiYoUygiZGVsZXRlIiksUygiaGFzIiksdiYmUygiZ2V0IikpLChMfHxPKSYmUyhfKSwKLy8gd2VhayBjb2xsZWN0aW9ucyBzaG91bGQgbm90IGNvbnRhaW5zIC5jbGVhciBtZXRob2QKZyYmUi5jbGVhciYmZGVsZXRlIFIuY2xlYXJ9ZWxzZQovLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvcgptPWguZ2V0Q29uc3RydWN0b3IodCxlLHYsXykscyhtLnByb3RvdHlwZSxyKSxhLk5FRUQ9ITA7cmV0dXJuIHAobSxlKSx3W2VdPW0saShpLkcraS5XK2kuRioobSE9YiksdyksZ3x8aC5zZXRTdHJvbmcobSxlLHYpLG19fSwvKiA4OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuLGk9cig0KSxvPXIoMTgpLHM9cig0OCksYT1zKCJ0eXBlZF9hcnJheSIpLHU9cygidmlldyIpLGM9ISghaS5BcnJheUJ1ZmZlcnx8IWkuRGF0YVZpZXcpLGY9YyxsPTAsZD0iSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXkiLnNwbGl0KCIsIik7bDw5Oykobj1pW2RbbCsrXV0pPyhvKG4ucHJvdG90eXBlLGEsITApLG8obi5wcm90b3R5cGUsdSwhMCkpOmY9ITE7ZS5leHBvcnRzPXtBQlY6YyxDT05TVFI6ZixUWVBFRDphLFZJRVc6dX19LC8qIDg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEZvcmNlZCByZXBsYWNlbWVudCBwcm90b3R5cGUgYWNjZXNzb3JzIG1ldGhvZHMKZS5leHBvcnRzPXIoNDkpfHwhcig1KShmdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCk7Ci8vIEluIEZGIHRocm93cyBvbmx5IGRlZmluZSBtZXRob2RzCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZiwgbm8tdXNlbGVzcy1jYWxsCl9fZGVmaW5lU2V0dGVyX18uY2FsbChudWxsLGUsZnVuY3Rpb24oKXt9KSxkZWxldGUgcig0KVtlXX0pfSwvKiA5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vCnZhciBuPXIoMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe24obi5TLGUse29mOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSk7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHRoaXModCl9fSl9fSwvKiA5MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vCnZhciBuPXIoMCksaT1yKDE2KSxvPXIoMjcpLHM9cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe24obi5TLGUse2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQscixuLGEsdT1hcmd1bWVudHNbMV07cmV0dXJuIGkodGhpcyksdD12b2lkIDAhPT11LHQmJmkodSksdm9pZCAwPT1lP25ldyB0aGlzOihyPVtdLHQ/KG49MCxhPW8odSxhcmd1bWVudHNbMl0sMikscyhlLCExLGZ1bmN0aW9uKGUpe3IucHVzaChhKGUsbisrKSl9KSk6cyhlLCExLHIucHVzaCxyKSxuZXcgdGhpcyhyKSl9fSl9fSwvKiA5MiAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sLyogOTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LC8qIDk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sLyogOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLmYsaT1yKDU5KSxvPXIoMjMpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIWkoZT1yP2U6ZS5wcm90b3R5cGUsbykmJm4oZSxvLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sLyogOTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQzNCksX19lc01vZHVsZTohMH19LC8qIDk3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzCnZhciBuPXIoMjEpLGk9cigxMyksbz1yKDY2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oaS5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRipvKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0sLyogOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NDUpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNDQ3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT0iZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiYic3ltYm9sIj09dHlwZW9mIGkuZGVmYXVsdD9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiZlLmNvbnN0cnVjdG9yPT09cy5kZWZhdWx0JiZlIT09cy5kZWZhdWx0LnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07dC5kZWZhdWx0PSJmdW5jdGlvbiI9PXR5cGVvZiBzLmRlZmF1bHQmJiJzeW1ib2wiPT09YShpLmRlZmF1bHQpP2Z1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOmEoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiZlLmNvbnN0cnVjdG9yPT09cy5kZWZhdWx0JiZlIT09cy5kZWZhdWx0LnByb3RvdHlwZT8ic3ltYm9sIjp2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOmEoZSl9fSwvKiA5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9Zi5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHA9dm9pZCAwLHk9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX3VybDogVVJMCiAgX2J1czogTWluaUJ1cwogICovCi8qKgogICAqIENyZWF0ZSBhbiBBZGRyZXNzIEFsbG9jYXRpb24KICAgKiBAcGFyYW0gIHtVUkwuVVJMfSAgICAgIHVybCAtIHVybCBmcm9tIHdobyBpcyBzZW5kaW5nIHRoZSBtZXNzYWdlCiAgICogQHBhcmFtICB7TWluaUJ1c30gICAgICBidXMgLSBNaW5pQnVzIHVzZWQgZm9yIGFkZHJlc3MgYWxsb2NhdGlvbgogICAqLwpmdW5jdGlvbiBBZGRyZXNzQWxsb2NhdGlvbihlLHQscil7aWYoKDAscy5kZWZhdWx0KSh0aGlzLEFkZHJlc3NBbGxvY2F0aW9uKSxwKXJldHVybiBwO3RoaXMuX3VybD1lKyIvYWRkcmVzcy1hbGxvY2F0aW9uIix0aGlzLl9idXM9dCx0aGlzLl9yZWdpc3RyeT1yLHA9dGhpc31yZXR1cm4oMCx1LmRlZmF1bHQpKEFkZHJlc3NBbGxvY2F0aW9uLFt7a2V5OiJjcmVhdGUiLC8qKgogICAgICoKICAgICAqIEFzayBmb3IgY3JlYXRpb24gb2YgYSBudW1iZXIgb2YgSHlwZXJ0eSBhZGRyZXNzZXMsIHRvIHRoZSBkb21haW4gbWVzc2FnZSBub2RlLgogICAgICoKICAgICAqIEBwYXJhbSB7RG9tYWlufSBkb21haW4gLSBkb21haW4gb2YgdGhlIG1lc3NhZ2Ugbm9kZQogICAgICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlciAtIG51bWJlciBvZiBhZGRyZXNzIHRvIGJlIGFsbG9jYXRlZAogICAgICogQHBhcmFtIHtEZXNjcmlwdG9yfSBpbmZvIC0gZGVzY3JpcHRvciB0byBzZWFyY2ggZm9yIHRoZSBoeXBlcnR5IChUT0RPOi8vIHRoaXMgc2hvdWxkIGJlIGNvbmZpcm1lZCkKICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy9ibG9iL21hc3Rlci9kYXRhbW9kZWwvY29yZS9oeXBlcnR5LWNhdGFsb2d1ZS9yZWFkbWUubWQjY2F0YWxvZ3VlLWRhdGEtbW9kZWwKICAgICAqIEBwYXJhbSB7c2NoZW1lfSBzY2hlbWUgLSBzY2hlbWUgb2YgYWRkcmVzcyB0byBiZSBjcmVhdGVkIG9yIHJldXNlZCwgbGlrZTogaHlwZXJ0eSwgY29tbSwgY29udGV4dCwgZXRjOwogICAgICogQHBhcmFtIHtib29sZWFufFVSTC5IeXBlcnR5VVJMfSByZXVzZVVSTCAtIHJldXNlVVJMIGlzIHVzZWQgdG8gcmV1c2UgdGhlIGh5cGVydHlVUkwgcHJldmlvdXNseSByZWdpc3RyZWQ7CiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn0gdGhpcyBpcyBQcm9taXNlIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBhZGRyZXNzIGluZm9ybWF0aW9uCiAgICAgKgogICAgICogQG1lbWJlck9mIEFkZHJlc3NBbGxvY2F0aW9uCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXsKLy8gLy8gY29uc29sZS5sb2coJ3R5cGVvZihyZXVzZVVSTCknLCB0eXBlb2YocmV1c2VVUkwpLCByZXVzZVVSTCk7Ci8vIC8vIGNvbnNvbGUubG9nKCd0eXBlb2YocmV1c2VVUkwpJywgdHlwZW9mKHJldXNlVVJMKSwgcmV1c2VVUkwpOwpyZXR1cm4gaT8iYm9vbGVhbiI9PXR5cGVvZiBpP2k/dGhpcy5fcmV1c2VBbGxvY2F0ZWRBZGRyZXNzKGUsdCxyLG4saSk6dGhpcy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KToic3RyaW5nIj09dHlwZW9mIGkmJigwLGwuaXNVUkwpKGkpP3RoaXMuX3JldXNlQWxsb2NhdGVkQWRkcmVzcyhlLHQscixuLGkpOnZvaWQgMDooZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb25dIC0gbmV3IGFkZHJlc3Mgd2lsbCBiZSBhbGxvY2F0ZWQiKSx0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQpKX19LHtrZXk6Il9yZXVzZUFsbG9jYXRlZEFkZHJlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIHM9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLGEpe3MuX3JlZ2lzdHJ5LmNoZWNrUmVnaXN0ZXJlZFVSTHMocixvKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpe2QuaW5mbygiW0FkZHJlc3NBbGxvY2F0aW9uIC0gIituKyJdIC0gUmV1c2UgVVJMIik7aSh7bmV3QWRkcmVzczohMSxhZGRyZXNzOnJ9KX1lbHNlInN0cmluZyI9PXR5cGVvZiBvPyhkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtIHJldXNlVVJMXSAtIE9iamVjdCAiK28rIiBub3QgZm91bmQiKSxhKCJVUkwgTm90IEZvdW5kIikpOiJib29sZWFuIj09dHlwZW9mIG8/cy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KS50aGVuKGkpLmNhdGNoKGEpOmEoIlVSTCBOb3QgRm91bmQiKX0pfSl9fSx7a2V5OiJfYWxsb2NhdGVOZXdBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe3ZhciBzPXt0eXBlOiJjcmVhdGUiLGZyb206bi5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e3ZhbHVlOntudW1iZXI6cn19fTsiaHlwZXJ0eSIhPT10JiYocy5ib2R5LnNjaGVtZT10KSxkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtICIrdCsiXSAtIFJlcXVlc3QgbmV3IFVSTCIpLG4uX2J1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKDIwMD09PWUuYm9keS5jb2RlKXt2YXIgdD17bmV3QWRkcmVzczohMCxhZGRyZXNzOmUuYm9keS52YWx1ZS5hbGxvY2F0ZWR9O2kodCl9ZWxzZSBvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206ci5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e2NoaWxkcmVuUmVzb3VyY2VzOnR9fTtyLl9idXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9uKGUuYm9keS5jb2RlKTppKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJ1cmwiLC8qKgogICAgICogZ2V0IHRoZSBVUkwgdmFsdWUKICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHVybCB2YWx1ZTsKICAgICAqLwpnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dLFt7a2V5OiJpbnN0YW5jZSIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXApdGhyb3cgbmV3IEVycm9yKCJUaGUgYWRkcmVzcyBhbGxvY2F0aW9uIHdhcyBub3QgaW5zdGFudGlhdGVkIik7cmV0dXJuIHB9fV0pLEFkZHJlc3NBbGxvY2F0aW9ufSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDEwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9cig0OTApLHA9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChkKSx5PWYuZ2V0TG9nZ2VyKCJDcnlwdG9NYW5hZ2VyIiksaD1mdW5jdGlvbigpey8qKgogICogVGhpcyBpcyB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGlzZSB0aGUgQ3J5cHRvTWFuYWdlciwgaXQgZG9lcyBub3QgcmVxdWlyZSBhbnkgaW5wdXQuCiAgKiBUaGUgaW5pdCgpIG11c3QgY2FsbGVkIGluIG9yZGVyIHRvIHNldCBtYW5kYXRvcmllcyBhdHRyaWJ1dGVzCiAgKi8KZnVuY3Rpb24gQ3J5cHRvTWFuYWdlcihlKXsoMCxzLmRlZmF1bHQpKHRoaXMsQ3J5cHRvTWFuYWdlciksdGhpcy5zdG9yYWdlTWFuYWdlcj1lLHRoaXMudXNlckRlZmF1bHRLZXlSZWY9InVzZXJBc3ltbWV0cmljS2V5In1yZXR1cm4oMCx1LmRlZmF1bHQpKENyeXB0b01hbmFnZXIsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLHMsYSl7dmFyIHU9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoIltdIHJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighcil0aHJvdyBuZXcgRXJyb3IoInN0b3JhZ2VNYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVGYWN0b3J5IGlzIG1pc3NpbmciKTt1Ll9ydW50aW1lVVJMPWUsdS5fY3J5cHRvTWFuYWdlclVSTD11Ll9ydW50aW1lVVJMKyIvY3J5cHRvTWFuYWdlciIsCi8vX3RoaXMuX215VVJMID0gX3RoaXMuX3J1bnRpbWVVUkwgKyAnL2NyeXB0byc7CnUuc3RvcmFnZU1hbmFnZXI9cix1LmRhdGFPYmplY3RzU3RvcmFnZT1uLHUucnVudGltZUNhcGFiaWxpdGllcz10LHUuX3J1bnRpbWVGYWN0b3J5PWEsdS5fZG9tYWluPSgwLGwuZGl2aWRlVVJMKSh1Ll9ydW50aW1lVVJMKS5kb21haW4sdS5jcnlwdG89bmV3IHAuZGVmYXVsdCh1Ll9ydW50aW1lRmFjdG9yeSksCi8vIGhhc2hUYWJsZSB0byBzdG9yZSBhbGwgdGhlIGNyeXB0byBpbmZvcm1hdGlvbiBiZXR3ZWVuIHR3byBoeXBlcnRpZXMKdS5jaGF0S2V5cz17fSwKLy8gaGFzaFRhYmxlIHRvIHN0b3JlIHRoZSBzeW1tZXRyaWMga2V5cyB0byBiZSB1c2VkIGluIHRoZSBjaGF0IGdyb3VwCnUuZGF0YU9iamVjdFNlc3Npb25LZXlzPXt9LAovL2ZhaWxzYWZlIHRvIGVuYWJsZS9kaXNhYmxlIGFsbCB0aGUgY3JpcHRvZ3JhcGhpYyBmdW5jdGlvbnMKdS5pc1RvVXNlRW5jcnlwdGlvbj0hMCx1Ll9yZWdpc3RyeT1pLHUuX2NvcmVEaXNjb3Zlcnk9byx1Ll9pZG09c319LHtrZXk6ImxvYWRTZXNzaW9uS2V5cyIsCi8vIHRvIGJlIHVzZWQgdG8gaW5pdGlhbGlzZSBJRE0gd2l0aCBTZXNzaW9uS2V5cyB1c2VkIGluIHByZXZpb3VzIHNlc3Npb24KdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHIpe2UuZGF0YU9iamVjdFNlc3Npb25LZXlzPXJ8fHt9LHQoKX0pfSl9fSx7a2V5OiJfaXNGcm9tUmVtb3RlU00iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJydW50aW1lIj09PWUuc3BsaXQoIjovLyIpWzBdJiZlIT09dGhpcy5fcnVudGltZVVSTCsiL3NtIn19LHtrZXk6ImFkZENyeXB0b0dVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsKLy9UT0RPOiBDaGFuZ2UgdGhlIEdVSSBpbnZvY2F0aW9uIG9mIHRoaXMgbWV0aG9kCnZhciBlPXRoaXM7ZS5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihlLl9jcnlwdG9NYW5hZ2VyVVJMLGZ1bmN0aW9uKHQpewovL2xldCByZXR1cm5lZFZhbHVlOwppZigiZ2VuZXJhdGVSU0FLZXlQYWlyIj09PXQuYm9keS5tZXRob2QpcmV0dXJuIHZvaWQgZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe3kuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIGdlbmVyYXRlUlNBS2V5UGFpciBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9KX19LHtrZXk6Il9pc1RvRW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7eS5pbmZvKCJbQ3J5cHRvTWFuYWdlci5pc3RvQ2h5cGVyTW9kdWxlXSIsZSk7dmFyIHQ9ImNyZWF0ZSI9PT1lLnR5cGUscj1lLmZyb20uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxuPWUudG8uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxpPSgwLGwuaXNEYXRhT2JqZWN0VVJMKShlLnRvKSxvPSFlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpfHxlLmJvZHkubXV0dWFsOwovL2lmIGlzIG5vdCB0byBhcHBseSBlbmNyeXB0aW9uLCB0aGVuIHJldHVybnMgcmVzb2x2ZQpyZXR1cm4hIW8mJih0aGlzLmlzVG9Vc2VFbmNyeXB0aW9ufHwiaGFuZHNoYWtlIj09PWUudHlwZT8idXBkYXRlIj09PWUudHlwZT8oeS5pbmZvKCJ1cGRhdGU6ZW5jcnlwdGlvbiBkaXNhYmxlZCIpLCExKTohKDAsbC5pc0xlZ2FjeSkoZS50bykmJih0JiZyJiZufHx0JiZyJiZpJiZvfHwiaGFuZHNoYWtlIj09PWUudHlwZXx8InVwZGF0ZSI9PT1lLnR5cGUmJm8pOih5LmluZm8oIm5vdCBoYW5kc2hha2U6IGVuY3J5cHRpb24gZGlzYWJsZWQiKSwhMSkpfX0se2tleToiX2lzVG9EZWNyeXB0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7InN1YnNjcmliZSI9PT1lLnR5cGUmdC5faXNGcm9tUmVtb3RlU00oZS5mcm9tKT8oeS5sb2coIl9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UxIiksdC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMShlKS50aGVuKGZ1bmN0aW9uKCl7cighMSl9LGZ1bmN0aW9uKGUpe24oZSl9KSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJiJzdHJpbmciPT10eXBlb2YgZS5ib2R5LnZhbHVlPyh5LmxvZygiX2lzVG9EZWNyeXB0OnRydWUiKSxyKCEwKSk6KHkubG9nKCJfaXNUb0RlY3J5cHQ6ZmFsc2UiKSxyKCExKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbQ3J5cHRvTWFuYWdlci5faXNUb0RlY3J5cHRdIixlKX0pfX0se2tleToiZW5jcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpewovL2xvZy5pbmZvKCdlbmNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnZhciB0PXRoaXM7cmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2UgIiksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPSJoYW5kc2hha2UiPT09ZS50eXBlOwovL2lmIGlzIG5vdCB0byBhcHBseSBlbmNyeXB0aW9uLCB0aGVuIHJldHVybnMgcmVzb2x2ZQppZighdC5faXNUb0VuY3J5cHQoZSkpCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIHIoZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLHM9KDAsbC5pc0RhdGFPYmplY3RVUkwpKG8pLGE9KDAsbC5pc0xlZ2FjeSkoZS50byksdT0iaHlwZXJ0eSI9PT0oMCxsLmRpdmlkZVVSTCkoZS5mcm9tKS50eXBlLGM9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUudG8pLnR5cGU7aWYoInVwZGF0ZSI9PT1lLnR5cGUpcmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2U6IG1lc3NhZ2UgdHlwZSB1cGRhdGUiKSxyKGUpO2lmKGEpcihlKTtlbHNlIGlmKHUmJmMpe3ZhciBmPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO2lmKGYpewovLyBjaGVjayBpZiBleGlzdHMgYW55IGtleXMgYmV0d2VlbiB0d28gdXNlcnMKdmFyIGQ9dC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b107aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYpLAovL2xvZy5sb2coJ2NyZWF0ZUNoYXRLZXkgZW5jcnlwdCcsIG1lc3NhZ2UuZnJvbSArIG1lc3NhZ2UudG8pOwp0LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT1kLGUuYm9keS5oYW5kc2hha2VQaGFzZT0ic3RhcnRIYW5kU2hha2UiKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD10LmNyeXB0by5nZW5lcmF0ZUlWKCk7dC5jcnlwdG8uZW5jcnlwdEFFUyhkLmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpLHApLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpKygwLGwuc3RyaW5naWZ5KShwKSxkLmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTt0LmNyeXB0by5oYXNoSE1BQyhkLmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpLnRoZW4oZnVuY3Rpb24odCl7Ci8vbG9nLmxvZygncmVzdWx0IG9mIGhhc2ggJywgaGFzaCk7CnZhciBpPXtpdjooMCxsLmVuY29kZSkocCksdmFsdWU6KDAsbC5lbmNvZGUpKG4pLGhhc2g6KDAsbC5lbmNvZGUpKHQpfTtlLmJvZHkudmFsdWU9KDAsbC5lbmNvZGUpKGkpLHIoZSl9KX0pfWVsc2UgaT9yKGUpOnQuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpe3QuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpLG4oImVuY3J5cHQgaGFuZHNoYWtlIHByb3RvY29sIHBoYXNlICIpfSl9ZWxzZSBuKCJJbiBlbmNyeXB0TWVzc2FnZTogSHlwZXJ0eSBvd25lciBVUkwgd2FzIG5vdCBmb3VuZCIpfWVsc2UgdSYmcyYmCi8vbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBlbmNyeXB0OiAnLCBtZXNzYWdlLmJvZHkudmFsdWUpOwovL2xvZy5sb2coJ0lkZW50aXR5TW9kdWxlIC0gZW5jcnlwdCBmcm9tIGh5cGVydHkgdG8gZGF0YW9iamVjdCAnLCBtZXNzYWdlKTsKdC5zdG9yYWdlTWFuYWdlci5nZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIpLnRoZW4oZnVuY3Rpb24oaSl7aT0oMCxsLmNoYXRrZXlzVG9BcnJheUNsb25lcikoaXx8e30pO3ZhciBzPWk/aVtvXTpudWxsO3QuZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QobykudGhlbihmdW5jdGlvbihpKXsKLy9pZiBubyBrZXkgZXhpc3RzLCBjcmVhdGUgYSBuZXcgb25lIGlmIGlzIHRoZSByZXBvcnRlciBvZiBkYXRhT2JqZWN0CmlmKCFzJiZpLnJlcG9ydGVyJiZpLnJlcG9ydGVyPT09ZS5mcm9tKXt2YXIgYT10LmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3QuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dPXtzZXNzaW9uS2V5OmEsaXNUb0VuY3J5cHQ6ITB9O3ZhciB1PSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikodC5kYXRhT2JqZWN0U2Vzc2lvbktleXMpOwovL1RPRE86IGNoZWNrIGlmIHRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBzdG9yZWQKdC5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCx1KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBlbmNyeXB0TWVzc2FnZSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQgZXJyb3I6ICIrZSl9KSxzPXQuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dfQovL2NoZWNrIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBzZXNzaW9uIGtleSBmb3IgdGhlIGNoYXQgcm9vbQppZihzKQovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYocy5pc1RvRW5jcnlwdCl7dmFyIGM9dC5jcnlwdG8uZ2VuZXJhdGVJVigpLGY9KDAsbC5zdHJpbmdpZnkpKGMpLGQ9KDAsbC5zdHJpbmdpZnkpKGUuYm9keS52YWx1ZSk7dC5jcnlwdG8uZW5jcnlwdEFFUyhzLnNlc3Npb25LZXksZCxjKS50aGVuKGZ1bmN0aW9uKG4pe2RlbGV0ZSBlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLC8vVE9ETzogQ2hlY2sgd2h5IGFzc2VydGlvbiBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQpkZWxldGUgZS5ib2R5LmlkZW50aXR5LmV4cGlyZXM7Ly9UT0RPOiBDaGVjayB3aHkgZXhwaXJlcyBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQp2YXIgaT10Ll9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsZCtmKTt0LmNyeXB0by5oYXNoSE1BQyhzLnNlc3Npb25LZXksaSkudGhlbihmdW5jdGlvbih0KXsKLy8gbG9nLmxvZygnaGFzaCAnLCBoYXNoKTsKdmFyIGk9e3ZhbHVlOigwLGwuZW5jb2RlKShuKSxpdjooMCxsLmVuY29kZSkoYyksaGFzaDooMCxsLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxsLnN0cmluZ2lmeSkoaSkscihlKX0pfSl9ZWxzZSByKGUpO2Vsc2UgbigiRGF0YSBvYmplY3Qga2V5IGNvdWxkIG5vdCBiZSBkZWZpbmVkOiBGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlICIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2QgZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJlbmNyeXB0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7eS5pbmZvKCJkYXRhT2JqZWN0IHZhbHVlIHRvIGVuY3J5cHQ6ICIsZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpO3Iuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHQpe3Q9KDAsbC5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKHR8fHt9KTt2YXIgcz10P3Rbb106bnVsbDsKLy9jaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgc2Vzc2lvbiBrZXkgZm9yIHRoZSBjaGF0IHJvb20KaWYoIXMpcmV0dXJuIGkoIk5vIGRhdGFPYmplY3RLZXkgZm9yIHRoaXMgZGF0YU9iamVjdFVSTDoiLG8pOwovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYoIXMuaXNUb0VuY3J5cHQpcmV0dXJuIHkuaW5mbygiVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCIpLG4oZSk7dmFyIGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpO3IuY3J5cHRvLmVuY3J5cHRBRVMocy5zZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlKSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt2YWx1ZTooMCxsLmVuY29kZSkoZSksaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy9sb2cubG9nKCdlbmNyeXB0ZWQgZGF0YU9iamVjdCcsIG5ld1ZhbHVlKTsKcmV0dXJuIG4odCl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5nZXQgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZGVjcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Ci8vICBsb2cubG9nKCdkZWNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnJldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ImhhbmRzaGFrZSI9PT1lLnR5cGU7dC5faXNUb0RlY3J5cHQoZSkudGhlbihmdW5jdGlvbihvKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIW8pcmV0dXJuIHIoZSk7dmFyIHM9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLGE9KDAsbC5pc0RhdGFPYmplY3RVUkwpKHMpLHU9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGwuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiByKGUpOwovL2lzIGlzIGh5cGVydHkgdG8gaHlwZXJ0eSBjb21tdW5pY2F0aW9uCmlmKHUmJmMpewovLyBsb2cubG9nKCdkZWNyeXB0IGh5cGVydHkgdG8gaHlwZXJ0eScpOwp2YXIgZj10Ll9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS50byk7aWYoZil7dmFyIGQ9dC5jaGF0S2V5c1tlLnRvKyI8LT4iK2UuZnJvbV07aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYsImRlY3J5cHQiKSx0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1kKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD0oMCxsLmRlY29kZSkoZS5ib2R5LnZhbHVlKSxoPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLml2KSx2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLnZhbHVlKSxnPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLmhhc2gpO3QuY3J5cHRvLmRlY3J5cHRBRVMoZC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixoKS50aGVuKGZ1bmN0aW9uKG4pewovLyBsb2cubG9nKCdkZWNyeXB0ZWQgdmFsdWUgJywgZGVjcnlwdGVkRGF0YSk7CmUuYm9keS52YWx1ZT1uO3ZhciBpPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2gpO3QuY3J5cHRvLnZlcmlmeUhNQUMoZC5rZXlzLmh5cGVydHlUb0hhc2hLZXksaSxnKS50aGVuKGZ1bmN0aW9uKHQpewovL2xvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiEgJywgcmVzdWx0KTsKZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pfSl9ZWxzZSBpP3QuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpewovL2lmIGl0IHdhcyBzdGFydGVkIGJ5IGRvTXV0dWFsQXV0aGVudGljYXRpb24gdGhlbiBlbmRzIHRoZSBwcm90b2NvbAoiaGFuZFNoYWtlRW5kIj09PXJ8fCh0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1yLmNoYXRLZXlzLHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoci5tZXNzYWdlKSl9KTpuKCJ3cm9uZyBtZXNzYWdlIGRvIGRlY3J5cHQiKX1lbHNlIG4oImVycm9yIG9uIGRlY3J5cHQgbWVzc2FnZSIpfWVsc2UgdSYmYT8KLy8gbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBkZWNyeXB0OiAnLCBtZXNzYWdlLmJvZHkpOwp0LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihpKXtpPSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShpfHx7fSk7dmFyIG89aT9pW3NdOm51bGw7aWYobykKLy9jaGVjayBpZiBpcyB0byBhcHBseSBlbmNyeXB0aW9uCmlmKG8uaXNUb0VuY3J5cHQpe3ZhciBhPSgwLGwucGFyc2UpKGUuYm9keS52YWx1ZSksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5pdiksYz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS52YWx1ZSksZj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5oYXNoKTt0LmNyeXB0by5kZWNyeXB0QUVTKG8uc2Vzc2lvbktleSxjLHUpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHM9KDAsbC5wYXJzZSkoaSk7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZCBWYWx1ZSwnLCBwYXJzZWRWYWx1ZSk7CmUuYm9keS52YWx1ZT1zO3ZhciBhPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSwoMCxsLnN0cmluZ2lmeSkocykrKDAsbC5zdHJpbmdpZnkpKHUpKTt0LmNyeXB0by52ZXJpZnlITUFDKG8uc2Vzc2lvbktleSxhLGYpLnRoZW4oZnVuY3Rpb24odCl7eS5sb2coIlJlY2VpdmVkIG1lc3NhZ2UgSE1BQyByZXN1bHQiLHQpLGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJNZXNzYWdlIEhNQUMgaXMgaW52YWxpZDogIitlKX0pfSl9ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpO2Vsc2UgZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pOm4oIndyb25nIG1lc3NhZ2UgdG8gZGVjcnlwdCIpfSl9KX19LHtrZXk6ImRlY3J5cHREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIXIuaXNUb1VzZUVuY3J5cHRpb24pCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIG4oZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpOwovLyBsb2cubG9nKCdkYXRhT2JqZWN0IHZhbHVlIHRvIGRlY3J5cHQ6ICcsIGRhdGFPYmplY3QpOwpyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0KTt2YXIgcz10P3Rbb106bnVsbDtpZighcylyZXR1cm4gaSgiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsbyk7Ci8vY2hlY2sgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbgppZighcy5pc1RvRW5jcnlwdCkKLy8gbG9nLmxvZygnVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCcpOwpyZXR1cm4gbihlKTt2YXIgYT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5pdiksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS52YWx1ZSk7ci5jcnlwdG8uZGVjcnlwdEFFUyhzLnNlc3Npb25LZXksdSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwucGFyc2UpKGUpLHI9e3ZhbHVlOnQsaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy8gbG9nLmxvZygnZGVjcnlwdGVkIGRhdGFPYmplY3QsJywgbmV3VmFsdWUpOwpyZXR1cm4gbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGRlY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8uc3BsaXQoIi8iKTsKLy9sZXQgc3Vic0luZGV4ID0gdG8uaW5kZXhPZignc3Vic2NyaXB0aW9uJyk7Ci8vbGV0IGlzRGF0YU9iamVjdFN1YnNjcmlwdGlvbiA9IHN1YnNJbmRleCAhPT0gLTE7CmkucG9wKCk7dmFyIG89aVswXSsiLy8iK2lbMl0rIi8iK2lbM107dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMihvLGUuYm9keS5zdWJzY3JpYmVyKS50aGVuKGZ1bmN0aW9uKCl7dC5fcmVnaXN0cnkucmVnaXN0ZXJTdWJzY3JpYmVyKG8sZS5ib2R5LnN1YnNjcmliZXIpLHIoKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246c2VuZGVyICIsZSkseS5pbmZvKCJkb011dHVhbEF1dGhlbnRpY2F0aW9uOnJlY2VpdmVyICIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMCxzPXIuX3JlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtzJiYobz1lLGU9cyk7dmFyIGE9e3RvOnQsZnJvbTplLGNhbGxiYWNrOnZvaWQgMCxib2R5OntoYW5kc2hha2VQaGFzZToic3RhcnRIYW5kU2hha2UiLGlnbm9yZToiaWdub3JlTWVzc2FnZSJ9fTtpZighZXx8IXQpcmV0dXJuIGkoInNlbmRlciBvciByZWNlaXZlciBtaXNzaW5nIG9uIGRvTXV0dWFsQXV0aGVudGljYXRpb24iKTt2YXIgdT1yLmNoYXRLZXlzW2UrIjwtPiIrdF0sYz1yLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSk7aWYoYyl7aWYoIXUpewovLyBjYWxsYmFjayB0byByZXNvbHZlIHdoZW4gZmluaXNoIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24KdmFyIGY9ZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NhbGxiYWNrIHZhbHVlOicsIHZhbHVlKTsKbihlKX07YS5jYWxsYmFjaz1mLGEuZGF0YU9iamVjdFVSTD1vLHU9ci5fbmV3Q2hhdENyeXB0byhhLGMpLHIuY2hhdEtleXNbZSsiPC0+Iit0XT11fWlmKHUuYXV0aGVudGljYXRlZCl7dmFyIGw9e3RvOmUsZnJvbTp0fTt1LmRhdGFPYmplY3RVUkw9byxyLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGwsdSkudGhlbihmdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUubWVzc2FnZSksbigiZXhjaGFuZ2Ugb2YgY2hhdCBzZXNzaW9uS2V5IGluaXRpYXRlZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiBmcm9tIG1ldGhvZCBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pfWVsc2Ugci5fZG9IYW5kU2hha2VQaGFzZShhLHUpfWVsc2UgaSgiTXV0dWFsIGF1dGhlbnRpY2F0aW9uIGVycm9yOiBIeXBlcnR5IG93bmVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZCIpfSl9fSx7a2V5OiJfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXSxzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPXt9OwovL2lmIHRoZXJlIGlzIG5vdCB5ZXQgYSBzZXNzaW9uIEtleSwgZ2VuZXJhdGVzIGEgbmV3IG9uZQppZihvKXU9by5zZXNzaW9uS2V5O2Vsc2V7dT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpLHIuZGF0YU9iamVjdFNlc3Npb25LZXlzW3QuZGF0YU9iamVjdFVSTF09e3Nlc3Npb25LZXk6dSxpc1RvRW5jcnlwdDohMH07dmFyIGQ9KDAsbC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7ci5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCxkKS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQoZGF0YU9iamVjdFNlc3Npb25LZXlzLi4uKSBlcnJvcjogIitlKX0pfXRyeXthPSgwLGwuZW5jb2RlKSh7dmFsdWU6KDAsbC5lbmNvZGUpKHUpLGRhdGFPYmplY3RVUkw6dC5kYXRhT2JqZWN0VVJMfSl9Y2F0Y2goZSl7cmV0dXJuIGkoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldCBlcnJvciB2YWx1ZVRvRW5jcnlwdDogIitlKX1jPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSxmLml2PSgwLGwuZW5jb2RlKShjKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksYSxjKS50aGVuKGZ1bmN0aW9uKG4pe3M9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVwb3J0ZXJTZXNzaW9uS2V5Iix2YWx1ZTooMCxsLmVuY29kZSkobil9fTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHMsYStjLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgcj0oMCxsLmVuY29kZSkoe3ZhbHVlOnMuYm9keS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjpmLml2fSk7cy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gY2hhaW5lZCBwcm9taXNlcyBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9yZXNvbHZlRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iZG9tYWluLWlkcDovLyIrZToiZG9tYWluLWlkcDovL2dvb2dsZS5jb20ifX0se2tleToiX2RvSGFuZFNoYWtlUGhhc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Ci8vIGxvZygnX2RvSGFuZFNoYWtlUGhhc2U6ZGF0YU9iamVjdCcsIG1lc3NhZ2UpOwovLwlsb2coJ19kb0hhbmRTaGFrZVBoYXNlOmNoYXRLZXlzJywgY2hhdEtleXMpOwp2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ZS5ib2R5LmhhbmRzaGFrZVBoYXNlLHM9dm9pZCAwLGE9dm9pZCAwLHU9e30sYz12b2lkIDAsZj12b2lkIDA7c3dpdGNoKHkuaW5mbygiaGFuZHNoYWtlIHBoYXNlOiAiLG8pLG8pe2Nhc2Uic3RhcnRIYW5kU2hha2UiOnQua2V5cy5mcm9tUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIGQ9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS50byxmcm9tOmUuZnJvbSxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVySGVsbG8iLHZhbHVlOigwLGwuZW5jb2RlKSh0LmtleXMuZnJvbVJhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChkLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSwKLy8gY2hlY2sgaWYgd2FzIHRoZSBlbmNyeXB0IGZ1bmN0aW9uIG9yIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24gdGhhdCByZXF1ZXN0IHRoZQovLyBzdGFydCBvZiB0aGUgaGFuZFNoYWtlUGhhc2UuCnQuaW5pdGlhbE1lc3NhZ2U/bih7bWVzc2FnZTpkLGNoYXRLZXlzOnR9KTooci5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109dCxyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQpKTticmVhaztjYXNlInNlbmRlckhlbGxvIjp5LmxvZygic2VuZGVySGVsbG8iKSx0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSx0LmtleXMuZnJvbVJhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5ib2R5LnZhbHVlKSx0LmtleXMudG9SYW5kb209ci5jcnlwdG8uZ2VuZXJhdGVSYW5kb20oKTt2YXIgcD17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckhlbGxvIix2YWx1ZTooMCxsLmVuY29kZSkodC5rZXlzLnRvUmFuZG9tKX19O3QuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gocCx2b2lkIDAsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksbih7bWVzc2FnZTpwLGNoYXRLZXlzOnR9KTticmVhaztjYXNlInJlY2VpdmVySGVsbG8iOnkubG9nKCJyZWNlaXZlckhlbGxvIiksci5nZXRNeVByaXZhdGVLZXkoKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBmPW4sdC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSxyLl9pZG0udmFsaWRhdGVBc3NlcnRpb24oZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix2b2lkIDAsZS5ib2R5LmlkZW50aXR5LmlkcC5kb21haW4pfSkudGhlbihmdW5jdGlvbihuKXsKLy9UT0RPIHJlbW92ZSBsYXRlciB0aGlzIHZlcmlmaWNhdGlvbiBhcyBzb29uIGFzIGFsbCB0aGUgSWRQIHByb3h5IGFyZSB1cGRhdGVkIGluIHRoZSBleGFtcGxlCnZhciBpPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Usbz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShpKSxzPXIuY3J5cHRvLmdlbmVyYXRlUE1TKCksYT1lLmJvZHkudmFsdWU7dC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PW8sdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHQua2V5cy50b1JhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYSksdC5rZXlzLnByZW1hc3RlcktleT1zO3ZhciB1PXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKHMsdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQodSwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihuKXt0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShuWzBdKSx0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMV0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KG5bMl0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblszXSkscz1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxsLmVuY29kZSkocyk7dmFyIGk9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVyQ2VydGlmaWNhdGUifX07Ci8vIGhhc2ggdGhlIHZhbHVlIGFuZCB0aGUgaXYKcmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXsKLy9lbmNyeXB0IHRoZSBkYXRhCnJldHVybiB1Lmhhc2g9KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2siLHMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5zeW1ldHJpY0VuY3J5cHRpb249KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LHQua2V5cy5wcmVtYXN0ZXJLZXkpfSkudGhlbihmdW5jdGlvbihuKXt1LmFzc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGwuZW5jb2RlKShuKTt2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fSxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goaSx0LmtleXMucHJlbWFzdGVyS2V5LHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5zaWduUlNBKGYsKDAsbC5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsbC5lbmNvZGUpKG8pKX0pLnRoZW4oZnVuY3Rpb24oaSl7dS5zaWduYXR1cmU9KDAsbC5lbmNvZGUpKGkpO3ZhciBvPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckNlcnRpZmljYXRlIix2YWx1ZTooMCxsLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChvLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSxmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pO2JyZWFrO2Nhc2Uic2VuZGVyQ2VydGlmaWNhdGUiOnkubG9nKCJzZW5kZXJDZXJ0aWZpY2F0ZSIpO3ZhciBoPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpO3IuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZj10LHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmFzc3ltZXRyaWNFbmNyeXB0aW9uKSxvPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Uscz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShvKTtyZXR1cm4gdC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PXMsdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHIuY3J5cHRvLmRlY3J5cHRSU0EoZixpKX0sZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coZXJyb3IpOwppKCJFcnJvciBkdXJpbmcgYXV0aGVudGljYXRpb24gb2YgaWRlbnRpdHk6ICIsZS5tZXNzYWdlKX0pLnRoZW4oZnVuY3Rpb24obil7dC5rZXlzLnByZW1hc3RlcktleT1uZXcgVWludDhBcnJheShuKTt2YXIgaT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoaC5zaWduYXR1cmUpLG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLHQua2V5cy5wcmVtYXN0ZXJLZXkpO3JldHVybiByLmNyeXB0by52ZXJpZnlSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LCgwLGwuZW5jb2RlKSh0LmhhbmRzaGFrZUhpc3RvcnkpKygwLGwuZW5jb2RlKShvKSxpKX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vbG9nLmxvZygnU2VuZGVyQ2VydGlmaWNhdGUgLSBzaWduYXR1cmUgdmFsaWRhdGlvbiByZXN1bHQgJywgc2lnblZhbGlkYXRpb25SZXN1bHQpOwp2YXIgbj1yLmNyeXB0by5jb25jYXRQTVN3aXRoUmFuZG9tcyh0LmtleXMucHJlbWFzdGVyS2V5LHQua2V5cy50b1JhbmRvbSx0LmtleXMuZnJvbVJhbmRvbSk7cmV0dXJuIHIuY3J5cHRvLmdlbmVyYXRlTWFzdGVyU2VjcmV0KG4sIm1lc3NhZ2VIaXN0b3JpYyIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQua2V5cy5tYXN0ZXJLZXk9ZSxyLmNyeXB0by5nZW5lcmF0ZUtleXMoZSwia2V5IGV4cGFuc2lvbiIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzBdKSx0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzFdKSx0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbMl0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbM10pLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaXYpO3ZhciBuPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLnN5bWV0cmljRW5jcnlwdGlvbik7cmV0dXJuIHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksbixzKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZERhdGEnLCBkZWNyeXB0ZWREYXRhKTsKdC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckNlcnRpZmljYXRlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmhhc2gpO3JldHVybiBjPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpLHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksYyxpKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiAnLCB2ZXJpZmllZEhhc2gpOwp2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSJ9fTsKLy9sb2cubG9nKCdUSUFHTzogZG9IYW5kU2hha2VQaGFzZSB2ZXJpZmllZEhhc2gnKTsKcmV0dXJuIHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxjKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHUuaGFzaD0oMCxsLmVuY29kZSkoZSksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEiLHMpfSkudGhlbihmdW5jdGlvbihpKXt1LnZhbHVlPSgwLGwuZW5jb2RlKShpKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSIsdmFsdWU6KDAsbC5lbmNvZGUpKHUpfX07dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gobywib2shIitzLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHQuYXV0aGVudGljYXRlZD0hMCxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSBzZW5kZXJDZXJ0aWZpY2F0ZSBlcnJvcjogIitlKX0pO2JyZWFrO2Nhc2UicmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2UiOnQuYXV0aGVudGljYXRlZD0hMCx1PSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaXYpO3ZhciB2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1LnZhbHVlKTthPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1Lmhhc2gpLHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixzKS50aGVuKGZ1bmN0aW9uKG8pewovLyBsb2cubG9nKCdkZWNyeXB0ZWREYXRhJywgZGVjcnlwdGVkRGF0YSk7CnQuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckZpbmlzaGVkTWVzc2FnZT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTt2YXIgdT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTtyLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LHUsYSkudGhlbihmdW5jdGlvbihvKXsKLy8gY2hlY2sgaWYgdGhlcmUgd2FzIGFuIGluaXRpYWwgbWVzc2FnZSB0aGF0IHdhcyBibG9ja2VkIGFuZCBzZW5kIGl0CmlmKHQuaW5pdGlhbE1lc3NhZ2Upe3ZhciBzPXt0eXBlOiJjcmVhdGUiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7dmFsdWU6dC5pbml0aWFsTWVzc2FnZS5ib2R5LnZhbHVlfX07bih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX1lbHNlIHIuX3NlbmRSZXBvcnRlclNlc3Npb25LZXkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX0pO2JyZWFrO2Nhc2UicmVwb3J0ZXJTZXNzaW9uS2V5Ijp5LmxvZygicmVwb3J0ZXJTZXNzaW9uS2V5Iik7dmFyIGc9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSk7YT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy5oYXNoKSxzPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShnLml2KTt2YXIgYj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy52YWx1ZSksbT12b2lkIDAsXz12b2lkIDAsUj12b2lkIDAsdz12b2lkIDA7Ci8vbG9nLmxvZygnW0lkZW50aXR5TW9kdWxlIHJlcG9ydGVyU2Vzc2lvbktleV0gLSBkZWNyeXB0QUVTOiAnLCBjaGF0S2V5cy5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksIGVuY3J5cHRlZFZhbHVlLCBpdik7CnIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksYixzKS50aGVuKGZ1bmN0aW9uKG4pe209KDAsbC5kZWNvZGUpKG4pLF89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKG0udmFsdWUpLFI9bS5kYXRhT2JqZWN0VVJMO3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksYSl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoIHN1Y2Nlc3NmdWxseSB2YWxpZGF0ZWQgJywgaGFzaFJlc3VsdCk7CnIuZGF0YU9iamVjdFNlc3Npb25LZXlzW1JdPXtzZXNzaW9uS2V5Ol8saXNUb0VuY3J5cHQ6ITB9O3ZhciBuPSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikoci5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3JldHVybiByLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLG4pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pLHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2shISIscyl9KS50aGVuKGZ1bmN0aW9uKG4pe3c9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJBY2tub3dsZWRnZSJ9fSx1LnZhbHVlPSgwLGwuZW5jb2RlKShuKTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHcsIm9rISEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksaSl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGwuZW5jb2RlKSh7dmFsdWU6dS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjp1Lml2fSk7dy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTp3LGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckFja25vd2xlZGdlIjp5LmxvZygicmVjZWl2ZXJBY2tub3dsZWRnZSIpO3ZhciBTPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLFA9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMuaGFzaCk7cz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoUy5pdik7dmFyIE89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksTyxzKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksUCl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoUmVzdWx0ICcsIGhhc2hSZXN1bHQpOwp2YXIgcj10LmNhbGxiYWNrO3ImJnIoImhhbmRTaGFrZUVuZCIpLG4oImhhbmRTaGFrZUVuZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZWNlaXZlckFja25vd2xlZGdlIGVycm9yOiAiK2UpfSk7YnJlYWs7ZGVmYXVsdDppKGUpfX0pfX0se2tleToiX2ZpbHRlck1lc3NhZ2VUb0hhc2giLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdG86ZS50byxib2R5OntpZGVudGl0eTpyfHxlLmJvZHkuaWRlbnRpdHksdmFsdWU6dHx8ZS5ib2R5LnZhbHVlLGhhbmRzaGFrZVBoYXNlOmUuYm9keS5oYW5kc2hha2VQaGFzZX19fX0se2tleToiX25ld0NoYXRDcnlwdG8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9cj9lLnRvOmUuZnJvbSxvPXI/ZS5mcm9tOmUudG8scz1uLl9pZG0uZ2V0SWRlbnRpdHkodCk7cmV0dXJue2h5cGVydHlGcm9tOntoeXBlcnR5OmksdXNlcklEOnMudXNlclByb2ZpbGUudXNlclVSTCwKLy9wcml2YXRlS2V5OiAiZ2V0TXlQdWJsaWNLZXkiLAovL3B1YmxpY0tleTogImdldE15UHJpdmF0ZUtleSIsCmFzc2VydGlvbjpzLmFzc2VydGlvbixtZXNzYWdlSW5mbzpzfSxoeXBlcnR5VG86e2h5cGVydHk6byx1c2VySUQ6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDAsYXNzZXJ0aW9uOnZvaWQgMH0sa2V5czp7aHlwZXJ0eVRvU2Vzc2lvbktleTp2b2lkIDAsaHlwZXJ0eUZyb21TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5VG9IYXNoS2V5OnZvaWQgMCxoeXBlcnR5RnJvbUhhc2hLZXk6dm9pZCAwLHRvUmFuZG9tOnZvaWQgMCxmcm9tUmFuZG9tOnZvaWQgMCxwcmVtYXN0ZXJLZXk6dm9pZCAwLG1hc3RlcktleTp2b2lkIDB9LGhhbmRzaGFrZUhpc3Rvcnk6e3NlbmRlckhlbGxvOnZvaWQgMCxyZWNlaXZlckhlbGxvOnZvaWQgMCxzZW5kZXJDZXJ0aWZpY2F0ZTp2b2lkIDAscmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U6dm9pZCAwfSxpbml0aWFsTWVzc2FnZTplLmJvZHkuaWdub3JlP3ZvaWQgMDplLGNhbGxiYWNrOmUuY2FsbGJhY2ssYXV0aGVudGljYXRlZDohMSxkYXRhT2JqZWN0VVJMOmUuZGF0YU9iamVjdFVSTH19fSx7a2V5OiJnZXRNeVB1YmxpY0tleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wdWJsaWMpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHVibGljKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltnZXRNeVB1YmxpY0tleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6ImdldE15UHJpdmF0ZUtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wcml2YXRlKTt0Ll9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7cihlLnByaXZhdGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpzdG9yYWdlTWFuYWdlcjplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXZvaWQgMDtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuY3J5cHRvLmdlbmVyYXRlUlNBS2V5UGFpcigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHkubG9nKCJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTp1c2VyQXN5bW1ldHJpY0tleUdlbmVyYXRlZCIsbikscj1uLHQuc3RvcmFnZU1hbmFnZXIuc2V0KGUsMCxuKX0pLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5U3VjY2VzcyIsZSksbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksaShlKX0pfSl9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkQ3J5cHRvR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX1dKSxDcnlwdG9NYW5hZ2VyfSgpOy8qCmNvbnN0IG5vZGVKU0tleVBhaXJQb3B1bGF0ZSA9IHsgcHVibGljOiBbNDgsIDEzMCwgMSwgMzQsIDQ4LCAxMywgNiwgOSwgNDIsIDEzNCwgNzIsIDEzNCwgMjQ3LCAxMywgMSwgMSwgMSwgNSwgMCwgMywgMTMwLCAxLCAxNSwgMCwgNDgsIDEzMCwgMSwgMTAsIDIsIDEzMCwgMSwgMSwgMCwgMjI4LCA0MywgMTAxLCAxMiwgMTIxLCA3LCAxNTcsIDcxLCA4MSwgNTgsIDIxOSwgMzIsIDEwLCAxMDgsIDE5MywgMTc5LCAyMTIsIDExNiwgMjU1LCA1OSwgMjE3LCAzMiwgMTYxLCAyMDEsIDUzLCAxNzEsIDIyNiwgMTk5LCAxMzcsIDIwMiwgMTcxLCA2MCwgODIsIDUzLCAxMjUsIDYyLCAxNzcsIDEyNiwgMTY1LCAyNCwgMTQxLCAzMCwgMTUsIDIyNiwgNTksIDEwNywgMzQsIDcsIDEzLCAxNDksIDExMiwgMTI1LCAxMCwgMjMwLCAxOTEsIDE1NiwgMTY0LCAxNzcsIDEwLCAxODUsIDEzLCA2NiwgMywgMjE3LCAxNjYsIDI0NCwgOTAsIDExOSwgMTExLCAyNywgMTQ1LCAxMDQsIDcxLCAxODksIDE2NiwgMjI2LCAyNTUsIDEzMywgODMsIDE1MSwgMjMxLCAxMDEsIDE1MSwgODksIDIyLCAxOSwgNjUsIDE1NCwgMTAsIDUzLCAyMDgsIDIxOCwgMjUyLCAyMTksIDM3LCA1MCwgMjEyLCA4NiwgMTQ1LCAxMDcsIDEzMiwgOTAsIDIzMywgMjAyLCAyMjcsIDEwOCwgMTE0LCAxNDEsIDI5LCA3MywgMTg3LCAzMSwgMTMsIDIzNCwgMCwgMjMyLCAyNCwgMTkxLCAzNSwgMTQ5LCAxNzksIDEzOCwgMjE0LCAxNTksIDI0NSwgMTYyLCAxNDgsIDIyMSwgMTE4LCAxNywgMTA1LCA4OSwgMTUxLCAxNDYsIDIwOSwgNTUsIDIzNiwgNjEsIDE0MywgMjMzLCAyMjgsIDEwLCAxMTUsIDgsIDgxLCAxOTcsIDQ1LCAxMjMsIDE4NywgMjIzLCAxNzYsIDI1NCwgMTY1LCA2OSwgMTQzLCAyOSwgMTAwLCAxMTQsIDE3LCAxMzAsIDIyNiwgMjIzLCAzMywgMTEsIDI0MCwgODEsIDYxLCAxNzIsIDE5MSwgMTU3LCAyNDYsIDIwMiwgODcsIDEzMSwgMjIxLCA4OCwgNDgsIDEyNywgMTU5LCAxMTksIDE2MCwgMTUyLCAxMTcsIDYxLCAyNTMsIDE3NCwgNjUsIDIxNCwgMjAzLCAyMTgsIDYzLCA1MCwgNzgsIDE2MCwgMTgxLCAyMjEsIDIxMSwgMTI4LCA3MCwgMTc4LCAxOTEsIDE3MCwgMCwgMTMsIDEyMiwgMTczLCAxMiwgMjAzLCAyNTIsIDQsIDE4NCwgMjI1LCAyNTIsIDcsIDYyLCA5NiwgMTE2LCAxNSwgMjE2LCAxNTgsIDU1LCA4NSwgNDgsIDE2LCA5LCAyMDYsIDExOSwgNzQsIDExMiwgMjQzLCAxMzYsIDg0LCAxODQsIDIyMywgMjU0LCAxMDEsIDkxLCA2MSwgMTAsIDkxLCA4NSwgMTkyLCAxNDcsIDE0NCwgNTcsIDI5LCA2NiwgMjM4LCAxOTksIDI0NCwgMTkzLCAxOTQsIDE1MCwgMjMyLCAyMDAsIDEwNywgMiwgMywgMSwgMCwgMV0sCiAgcHJpdmF0ZTogWzQ4LCAxMzAsIDQsIDE5MSwgMiwgMSwgMCwgNDgsIDEzLCA2LCA5LCA0MiwgMTM0LCA3MiwgMTM0LCAyNDcsIDEzLCAxLCAxLCAxLCA1LCAwLCA0LCAxMzAsIDQsIDE2OSwgNDgsIDEzMCwgNCwgMTY1LCAyLCAxLCAwLCAyLCAxMzAsIDEsIDEsIDAsIDIyOCwgNDMsIDEwMSwgMTIsIDEyMSwgNywgMTU3LCA3MSwgODEsIDU4LCAyMTksIDMyLCAxMCwgMTA4LCAxOTMsIDE3OSwgMjEyLCAxMTYsIDI1NSwgNTksIDIxNywgMzIsIDE2MSwgMjAxLCA1MywgMTcxLCAyMjYsIDE5OSwgMTM3LCAyMDIsIDE3MSwgNjAsIDgyLCA1MywgMTI1LCA2MiwgMTc3LCAxMjYsIDE2NSwgMjQsIDE0MSwgMzAsIDE1LCAyMjYsIDU5LCAxMDcsIDM0LCA3LCAxMywgMTQ5LCAxMTIsIDEyNSwgMTAsIDIzMCwgMTkxLCAxNTYsIDE2NCwgMTc3LCAxMCwgMTg1LCAxMywgNjYsIDMsIDIxNywgMTY2LCAyNDQsIDkwLCAxMTksIDExMSwgMjcsIDE0NSwgMTA0LCA3MSwgMTg5LCAxNjYsIDIyNiwgMjU1LCAxMzMsIDgzLCAxNTEsIDIzMSwgMTAxLCAxNTEsIDg5LCAyMiwgMTksIDY1LCAxNTQsIDEwLCA1MywgMjA4LCAyMTgsIDI1MiwgMjE5LCAzNywgNTAsIDIxMiwgODYsIDE0NSwgMTA3LCAxMzIsIDkwLCAyMzMsIDIwMiwgMjI3LCAxMDgsIDExNCwgMTQxLCAyOSwgNzMsIDE4NywgMzEsIDEzLCAyMzQsIDAsIDIzMiwgMjQsIDE5MSwgMzUsIDE0OSwgMTc5LCAxMzgsIDIxNCwgMTU5LCAyNDUsIDE2MiwgMTQ4LCAyMjEsIDExOCwgMTcsIDEwNSwgODksIDE1MSwgMTQ2LCAyMDksIDU1LCAyMzYsIDYxLCAxNDMsIDIzMywgMjI4LCAxMCwgMTE1LCA4LCA4MSwgMTk3LCA0NSwgMTIzLCAxODcsIDIyMywgMTc2LCAyNTQsIDE2NSwgNjksIDE0MywgMjksIDEwMCwgMTE0LCAxNywgMTMwLCAyMjYsIDIyMywgMzMsIDExLCAyNDAsIDgxLCA2MSwgMTcyLCAxOTEsIDE1NywgMjQ2LCAyMDIsIDg3LCAxMzEsIDIyMSwgODgsIDQ4LCAxMjcsIDE1OSwgMTE5LCAxNjAsIDE1MiwgMTE3LCA2MSwgMjUzLCAxNzQsIDY1LCAyMTQsIDIwMywgMjE4LCA2MywgNTAsIDc4LCAxNjAsIDE4MSwgMjIxLCAyMTEsIDEyOCwgNzAsIDE3OCwgMTkxLCAxNzAsIDAsIDEzLCAxMjIsIDE3MywgMTIsIDIwMywgMjUyLCA0LCAxODQsIDIyNSwgMjUyLCA3LCA2MiwgOTYsIDExNiwgMTUsIDIxNiwgMTU4LCA1NSwgODUsIDQ4LCAxNiwgOSwgMjA2LCAxMTksIDc0LCAxMTIsIDI0MywgMTM2LCA4NCwgMTg0LCAyMjMsIDI1NCwgMTAxLCA5MSwgNjEsIDEwLCA5MSwgODUsIDE5MiwgMTQ3LCAxNDQsIDU3LCAyOSwgNjYsIDIzOCwgMTk5LCAyNDQsIDE5MywgMTk0LCAxNTAsIDIzMiwgMjAwLCAxMDcsIDIsIDMsIDEsIDAsIDEsIDIsIDEzMCwgMSwgMCwgMTAzLCAyNDQsIDEzNywgMTE4LCAxMTYsIDgyLCAxNCwgMjAzLCAxMDIsIDEwNywgMjUzLCA4OCwgMTIsIDE5OSwgMjIyLCA2MCwgMjQzLCAxMzYsIDg2LCAxNTcsIDc0LCAyMjQsIDE5MCwgNTMsIDExMywgNTcsIDE1NywgMjUwLCA0OSwgMTMwLCA5NiwgMzEsIDI1MiwgMTM2LCAxNTIsIDcwLCAxNDMsIDE3LCAyMTUsIDk2LCAxMDMsIDUxLCAxOCwgMzUsIDE0MSwgMjEyLCAyMTAsIDIwNSwgOSwgMjE2LCA4MywgNzAsIDI0NSwgNzEsIDEzOCwgMTE5LCAxMTIsIDIyOSwgMTY0LCAxNzYsIDksIDM3LCA4MSwgMTYxLCAxOTMsIDE1NCwgNjgsIDI0OSwgMTE1LCAxMDYsIDIwMSwgNiwgMTIsIDIyNSwgMTQ0LCAxMjYsIDE0MSwgMjEwLCAxNDEsIDI0MiwgMTI4LCAxNTksIDIyMSwgMTYzLCAyMjIsIDIxLCAyMzMsIDIzMCwgMTY3LCAyMDYsIDU5LCAyNCwgMjUwLCAyMzMsIDgxLCAxMjIsIDEwMiwgMjYsIDYsIDIzMywgNzIsIDEzMywgNDcsIDc3LCAxNTUsIDIzOCwgODYsIDYsIDEzOSwgMjQsIDEzMSwgMTYzLCAxNzksIDExMiwgNDgsIDI0NywgMTQyLCA2LCAyMDcsIDIwNCwgMTczLCAyMjMsIDE0MCwgMTk5LCAxNTAsIDk1LCAxMjMsIDE1MiwgMjAyLCAxNTUsIDEzMSwgMjM4LCA2MiwgOTYsIDEzMywgNCwgMjE3LCA1MSwgMTIxLCAzMCwgMzgsIDE3OCwgMTg5LCAyMTYsIDQ0LCAzNSwgMjQxLCA5MywgNywgNjIsIDkwLCAxMTEsIDIxNiwgNjYsIDIwOSwgMjQzLCAxMjgsIDIzNCwgMTQxLCA4NCwgMTM1LCAxODEsIDEzLCAzOCwgMjIwLCAxMTQsIDI0NSwgMjQwLCAxNzgsIDk1LCAyMjAsIDIwNiwgMTEsIDE4NiwgMjM0LCAyMTMsIDY2LCAxMjEsIDgzLCA2OCwgODksIDc1LCA0NiwgMTgzLCAxNDUsIDE4MywgMTQ3LCAxNjAsIDIxNSwgMTE4LCAxOTgsIDEyNSwgMTgxLCAxNDYsIDMwLCAyNTEsIDU4LCA4NywgNDcsIDIwOSwgMjM3LCA5NywgMjQsIDQ3LCAxNzksIDYsIDExMCwgMjQyLCA5OSwgMTUwLCAyMjYsIDE0OCwgMTk4LCAxNzQsIDE0NiwgMTAxLCAyMTMsIDg3LCAxNzgsIDEwLCAyMjMsIDEwNSwgMTgsIDU2LCA1MywgMjIsIDIxMiwgMTU4LCAxNzAsIDE3NiwgNTEsIDg2LCAxNDUsIDEyNSwgMTI0LCA0NCwgOSwgODUsIDE5LCAxNDQsIDI0NiwgMTcwLCA3OCwgMTI0LCAzMCwgMzIsIDEyLCAxNjYsIDE3NCwgMTM5LCA3NywgNjMsIDE3MywgODIsIDEwLCAxNTMsIDIsIDEyOSwgMTI5LCAwLCAyNDgsIDE4LCAxNDMsIDI0NiwgMTM3LCAxMzYsIDE0NSwgMjE5LCAxNzgsIDM5LCAyNywgOTQsIDY0LCA5MCwgNDcsIDE2MywgMTE0LCA2MCwgNjMsIDE4NywgMTMxLCAxNDMsIDI0NCwgMTYsIDQyLCAxMjgsIDIzMSwgMTE3LCA5MiwgOTgsIDIxOSwgMTU1LCA2MiwgMTA3LCAyNTIsIDE3LCAyNDUsIDQ1LCAxNjAsIDIyNSwgMTAzLCAxNDIsIDcyLCAzNiwgMTkzLCAxNTAsIDIzNSwgMjE0LCAxNzUsIDYyLCAyMTIsIDU2LCA0NSwgOSwgMCwgNjAsIDExNCwgMTA3LCAxMzQsIDIyOCwgMjA0LCAxMzEsIDEzMSwgMjE0LCA5NCwgMjAxLCAxNDgsIDE1OSwgOTksIDEzOSwgMTgxLCAxMywgMTE5LCAzOCwgMzAsIDEwNywgMTY2LCAxNjUsIDIwMywgNDMsIDM0LCAyMCwgMjA3LCAxNzEsIDMyLCA1OCwgMTY3LCA2MiwgMTk2LCAxNTMsIDEwMywgMjA0LCAyMTMsIDI0NywgNDgsIDExMSwgMjI3LCA1OSwgOTUsIDk3LCAxOTQsIDE4NywgNTMsIDEwLCAyNDcsIDEwOCwgNTgsIDg2LCAyOCwgMjksIDExMywgOCwgMTEwLCAxNzEsIDIyMCwgMjQ1LCAxMSwgODIsIDIzMywgMjIzLCA5MSwgNjgsIDE2NiwgMTE3LCAxNzQsIDE4NywgNjIsIDc3LCAyLCAxMjksIDEyOSwgMCwgMjM1LCAxMTgsIDIsIDEwNSwgMjM5LCAyMTIsIDMwLCAxMDQsIDE1NywgNDEsIDEwOSwgMTEsIDI0OCwgMTUyLCAyMiwgMjM2LCA5NywgNDAsIDE1MywgMTMxLCAyMjgsIDUsIDg2LCAxODcsIDExMywgMTI2LCAxNDQsIDc2LCAxNDEsIDc5LCAxMTAsIDI1MCwgMTQ2LCAxNTIsIDQ5LCA1OCwgMTU2LCAyMDEsIDE3NiwgOTIsIDE4OSwgMjA5LCAzMCwgMTEyLCAxMDgsIDE3NSwgMjA0LCAyMDQsIDI0NywgMTY0LCA0NiwgMTI5LCAyMzksIDk4LCAxMjcsIDQ5LCAxNDUsIDIxOCwgNjMsIDE5MywgMTI0LCAxNzQsIDE4LCA5OCwgMjAxLCA5OSwgMTU0LCAxNjIsIDEzOCwgNzgsIDE1OSwgMjUzLCAzLCAyNDgsIDMsIDIwOSwgMzYsIDIzOSwgMTkzLCAxNTUsIDE5MywgNSwgMTksIDIzNiwgMzcsIDc4LCAxMTgsIDEzNSwgMjUwLCAxOTksIDcsIDE0MSwgMjQ4LCAxMjAsIDM2LCAxMzYsIDkzLCA5OCwgMTc0LCA2MCwgMTgsIDIxNSwgOTMsIDE3NCwgMTA3LCAxNDEsIDExNiwgMTQ1LCAxNjcsIDIyMSwgMjEwLCAxNjksIDI0NywgNjcsIDI1NCwgMjIyLCAxNjEsIDEzNCwgNjMsIDIyMSwgOTAsIDg3LCA0MiwgOTksIDIyNywgODEsIDE3MywgMTUxLCAyLCAxMjksIDEyOSwgMCwgMTMzLCAyMywgMTY4LCAxMDMsIDgzLCAyMzIsIDE0NiwgMTYwLCAxODEsIDIzLCA0MCwgMzgsIDIwNCwgMTMsIDIxNCwgMjAzLCA0OSwgNDEsIDE5NSwgMjI3LCAxODksIDE4MSwgOCwgMjQzLCAxMTksIDEwNiwgNzUsIDY3LCAyNTAsIDI1MCwgMTAsIDIzNCwgOTgsIDExOCwgMjYsIDI1MCwgMzUsIDEyMSwgMTMyLCAxMjQsIDEwLCA3NiwgMjYsIDE5OCwgMTY1LCAxNTQsIDEwOCwgMTksIDExNywgODgsIDIzLCAxNywgMTkyLCAxNDMsIDE4NCwgMTc3LCAxODEsIDE0MSwgMTU3LCA0LCAxODUsIDI0OCwgMTkzLCA3NywgMjA0LCAyNDMsIDcsIDE3MCwgMjQwLCA0LCAxMTEsIDExMywgMTgzLCAwLCAyNywgMTM2LCAyMCwgMTksIDE0OSwgNzQsIDMzLCAyNDEsIDIxOCwgMTA4LCAyMzYsIDgwLCAxNzEsIDE0OCwgMTYsIDExNiwgOTcsIDEwOSwgODMsIDc0LCA4OCwgMTQ1LCA5NCwgMjM5LCAxMDIsIDE5MiwgMTksIDExNCwgMjA3LCA1LCAxMjgsIDUxLCAxMTEsIDE2NCwgMjM3LCA4NiwgMTU0LCA5OSwgNTIsIDE5NywgNjIsIDU3LCAxODIsIDYsIDE1MiwgMjQ1LCA2MSwgMTM3LCA1OCwgMTA1LCAxNTksIDIsIDg0LCAxMDksIDIsIDEyOSwgMTI5LCAwLCAyMjYsIDY3LCAxMTEsIDEzMiwgOTUsIDkxLCAxMDEsIDE3NywgNjMsIDE4OSwgNDQsIDUzLCAxOTMsIDE4NCwgOTIsIDIzMCwgMjIzLCA5OCwgMTMzLCA3NCwgMjA5LCA4NiwgNTIsIDcsIDY1LCAxOTUsIDIwNiwgMTAwLCA4MSwgMTc4LCAxNDQsIDY1LCAxNjcsIDE1MSwgNDIsIDc5LCA4OSwgMTQ5LCAxOCwgMTczLCAxODgsIDIxLCAyNDQsIDI1MSwgNDksIDIzMCwgNDEsIDE1MCwgMTUzLCA0NiwgMzUsIDM4LCAyMzEsIDk5LCAxNzQsIDU2LCAxMTUsIDMyLCAyMTUsIDI1MywgODUsIDE0NywgMTA4LCAxOTcsIDE0NywgMzQsIDIzNiwgMjE2LCAyMjIsIDE3NywgNTcsIDkwLCAxMzYsIDExNCwgMjA3LCA0OCwgNDYsIDMxLCA5MCwgMjIwLCAxOCwgNTgsIDE0MywgMjM5LCAxMTEsIDIxNCwgMjcsIDk1LCA2LCAzNiwgNTMsIDIyOSwgNjIsIDEwOCwgNDUsIDM5LCAxLCAzMCwgNDcsIDE3OCwgNTYsIDE2NCwgMjA2LCA1NiwgNDIsIDIwOCwgNDYsIDE5MywgNjEsIDMxLCAxNDcsIDQ1LCAxNDcsIDIzLCAxODcsIDIyLCA1MCwgMjU1LCAxMTEsIDIyOSwgMTMyLCAxOTksIDE1MiwgNzUsIDE0MiwgMTM2LCAyMDksIDE1MSwgMiwgMTI5LCAxMjksIDAsIDE2NSwgNTYsIDIzMiwgNzYsIDU1LCA1NywgMjQwLCAxNTksIDkyLCAyMDcsIDIyMCwgMTQzLCAxMzAsIDMwLCA1NywgMjM0LCAyNTEsIDE3MiwgMTcxLCAxODAsIDU0LCAxNTksIDIyOSwgOTYsIDI0NiwgNzMsIDExMiwgMTQ2LCA3NSwgMTU3LCAyNDIsIDIwMSwgMTYxLCAyMTgsIDM3LCAxNzYsIDM1LCAxNzAsIDUwLCA5MCwgMTQ4LCAxMDIsIDE5MSwgMTk5LCAyMzksIDE3NCwgNzgsIDcyLCA2NywgODUsIDE5OSwgNDUsIDE0OSwgMTQ1LCAxMzIsIDE2MSwgMjEyLCAzMywgMTU3LCA3NSwgMjE2LCA3OSwgMzksIDIzMywgMTgsIDIxMCwgMjU1LCAyNiwgNzIsIDIyOSwgMjM5LCA0NCwgMTIsIDE0NywgMTU4LCAxNzYsIDE5MiwgOTUsIDEyNiwgMzIsIDE3NSwgMjMsIDIyNiwgMTMxLCAxMzksIDE5NywgMTc1LCAxOTMsIDYyLCA4LCAxNTEsIDI1MiwgNjgsIDE1NCwgOTQsIDg5LCAxODksIDEyNSwgOTAsIDMwLCAzNiwgMTc1LCA3MywgMjMwLCAxOTQsIDEzLCAyMzMsIDI0NywgMTIzLCA2MCwgMjQxLCA0NywgMTcxLCA1MSwgMTg5LCAxMTIsIDExMSwgMjEzLCAxNDEsIDg5LCA3MCwgMjQ5LCAyMzYsIDYzLCAyMzYsIDExMCwgMTE1LCAyMDhdfTsKKi8KdC5kZWZhdWx0PW5ldyBoLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDEwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxpPXIoNCkuZG9jdW1lbnQsbz1uKGkpJiZuKGkuY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudChlKTp7fX19LC8qIDEwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMzApLG89cig0OSkscz1yKDE0OSksYT1yKDExKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDEwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3OCkoImtleXMiKSxpPXIoNDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aShlKSl9fSwvKiAxMDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5cwplLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sLyogMTA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLmRvY3VtZW50O2UuZXhwb3J0cz1uJiZuLmRvY3VtZW50RWxlbWVudH0sLyogMTA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuCi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovCnZhciBuPXIoNiksaT1yKDMpLG89ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/Ly8gZXNsaW50LWRpc2FibGUtbGluZQpmdW5jdGlvbihlLHQsbil7dHJ5e249cigyNykoRnVuY3Rpb24uY2FsbCxyKDI1KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sLyogMTA3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSJcdFxuXHZcZlxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXHUyMDI4XHUyMDI5XHVmZWZmIn0sLyogMTA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cigxMDYpLnNldDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvLHM9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gcyE9PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYobz1zLnByb3RvdHlwZSkhPT1yLnByb3RvdHlwZSYmbihvKSYmaSYmaShlLG8pLGV9fSwvKiAxMDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMzKSxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcoaSh0aGlzKSkscj0iIixvPW4oZSk7aWYobzwwfHxvPT0xLzApdGhyb3cgUmFuZ2VFcnJvcigiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmUiKTtmb3IoO28+MDsobz4+Pj0xKSYmKHQrPXQpKTEmbyYmKHIrPXQpO3JldHVybiByfX0sLyogMTEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeCkKZS5leHBvcnRzPU1hdGguc2lnbnx8ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIDA9PShlPStlKXx8ZSE9ZT9lOmU8MD8tMToxfX0sLyogMTExICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciByPU1hdGguZXhwbTE7ZS5leHBvcnRzPSFyfHxyKDEwKT4yMjAyNS40NjU3OTQ4MDY3MTh8fHIoMTApPDIyMDI1LjQ2NTc5NDgwNjcxOHx8LTJlLTE3IT1yKC0yZS0xNyk/ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlPStlKT9lOmU+LTFlLTYmJmU8MWUtNj9lK2UqZS8yOk1hdGguZXhwKGUpLTF9OnJ9LC8qIDExMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1yKDMyKTsKLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0Ci8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdAplLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG8scyxhPVN0cmluZyhpKHQpKSx1PW4ociksYz1hLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1jP2U/IiI6dm9pZCAwOihvPWEuY2hhckNvZGVBdCh1KSxvPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1jfHwocz1hLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdCh1KTpvOmU/YS5zbGljZSh1LHUrMik6cy01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2KX19fSwvKiAxMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ5KSxpPXIoMCksbz1yKDE5KSxzPXIoMTgpLGE9cigxNyksdT1yKDYzKSxjPXIoMTE0KSxmPXIoNjEpLGw9cigyNiksZD1yKDgpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcsYil7YyhyLHQsaCk7dmFyIG0sXyxSLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sUz10KyIgSXRlcmF0b3IiLFA9InZhbHVlcyI9PXYsTz0hMSxNPWUucHJvdG90eXBlLGs9TVtkXXx8TVsiQEBpdGVyYXRvciJdfHx2JiZNW3ZdLEw9IXAmJmt8fHcodikseD12P1A/dygiZW50cmllcyIpOkw6dm9pZCAwLEU9IkFycmF5Ij09dD9NLmVudHJpZXN8fGs6aztpZigKLy8gRml4IG5hdGl2ZQpFJiYoUj1sKEUuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJlIubmV4dCYmKAovLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCmYoUixTLCEwKSwKLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzCm58fGEoUixkKXx8cyhSLGQseSkpLAovLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGClAmJmsmJiJ2YWx1ZXMiIT09ay5uYW1lJiYoTz0hMCxMPWZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0pLAovLyBEZWZpbmUgaXRlcmF0b3IKbiYmIWJ8fCFwJiYhTyYmTVtkXXx8cyhNLGQsTCksCi8vIFBsdWcgZm9yIGxpYnJhcnkKdVt0XT1MLHVbU109eSx2KWlmKG09e3ZhbHVlczpQP0w6dygidmFsdWVzIiksa2V5czpnP0w6dygia2V5cyIpLGVudHJpZXM6eH0sYilmb3IoXyBpbiBtKV8gaW4gTXx8byhNLF8sbVtfXSk7ZWxzZSBpKGkuUCtpLkYqKHB8fE8pLHQsbSk7cmV0dXJuIG19fSwvKiAxMTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUyKSxpPXIoNDcpLG89cig2MSkscz17fTsKLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKCkKcigxOCkocyxyKDgpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDppKDEscil9KSxvKGUsdCsiIEl0ZXJhdG9yIil9fSwvKiAxMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfQp2YXIgbj1yKDgyKSxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobih0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZyMiK3IrIiBkb2Vzbid0IGFjY2VwdCByZWdleCEiKTtyZXR1cm4gU3RyaW5nKGkoZSkpfX0sLyogMTE2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5eyIvLi8iW2VdKHQpfWNhdGNoKHIpe3RyeXtyZXR1cm4gdFtuXT0hMSwhIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMH19LC8qIDExNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3IKdmFyIG49cig2MyksaT1yKDgpKCJpdGVyYXRvciIpLG89QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxvW2ldPT09ZSl9fSwvKiAxMTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDExKSxpPXIoNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsaSgwLHIpKTplW3RdPXJ9fSwvKiAxMTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzIpLGk9cig4KSgiaXRlcmF0b3IiKSxvPXIoNjMpO2UuZXhwb3J0cz1yKDMwKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbaV18fGVbIkBAaXRlcmF0b3IiXXx8b1tuKGUpXX19LC8qIDEyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDkuNC4yLjMgQXJyYXlTcGVjaWVzQ3JlYXRlKG9yaWdpbmFsQXJyYXksIGxlbmd0aCkKdmFyIG49cigzMDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobihlKSkodCl9fSwvKiAxMjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpCnZhciBuPXIoMTUpLGk9cig1MSksbz1yKDEyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW4odGhpcykscj1vKHQubGVuZ3RoKSxzPWFyZ3VtZW50cy5sZW5ndGgsYT1pKHM+MT9hcmd1bWVudHNbMV06dm9pZCAwLHIpLHU9cz4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYz12b2lkIDA9PT11P3I6aSh1LHIpO2M+YTspdFthKytdPWU7cmV0dXJuIHR9fSwvKiAxMjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQzKSxpPXIoMTY1KSxvPXIoNjMpLHM9cigyNCk7Ci8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKCkKLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKCkKLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKQovLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKCkKZS5leHBvcnRzPXIoMTEzKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLC8vIHRhcmdldAp0aGlzLl9pPTAsLy8gbmV4dCBpbmRleAp0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKToia2V5cyI9PXQ/aSgwLHIpOiJ2YWx1ZXMiPT10P2koMCxlW3JdKTppKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksCi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNykKby5Bcmd1bWVudHM9by5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSwvKiAxMjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbyxzPXIoMjcpLGE9cigxNTUpLHU9cigxMDUpLGM9cigxMDEpLGY9cig0KSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx5PWYuTWVzc2FnZUNoYW5uZWwsaD1mLkRpc3BhdGNoLHY9MCxnPXt9LGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpczsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwppZihnLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1nW2VdO2RlbGV0ZSBnW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9OwovLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6CmQmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBnWysrdl09ZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCmEoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwKLy8gTm9kZS5qcyAwLjgtCiJwcm9jZXNzIj09cigyOCkobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhzKGIsZSwxKSl9Onk/KGk9bmV3IHksbz1pLnBvcnQyLGkucG9ydDEub25tZXNzYWdlPW0sbj1zKG8ucG9zdE1lc3NhZ2UsbywxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSwvKiAxMjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1yKDEyMykuc2V0LG89bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYT1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoMjgpKHMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4saTtmb3IodSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7aT1lLmZuLGU9ZS5uZXh0O3RyeXtpKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTsKLy8gTm9kZS5qcwppZih1KXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFvfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihhJiZhLnJlc29sdmUpe3ZhciBmPWEucmVzb2x2ZSgpO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpewovLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpCmkuY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBvKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3CnI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PWkpLGV8fChlPWkscigpKSx0PWl9fX0sLyogMTI1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX0KLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQykKdmFyIG49cigxNik7ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShlKX19LC8qIDEyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NApmdW5jdGlvbiBwYWNrSUVFRTc1NChlLHQscil7dmFyIG4saSxvLHM9bmV3IEFycmF5KHIpLGE9OCpyLXQtMSx1PSgxPDxhKS0xLGM9dT4+MSxmPTIzPT09dD9rKDIsLTI0KS1rKDIsLTc3KTowLGw9MCxkPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NKGUpLAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmUhPWV8fGU9PT1QPygKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppPWUhPWU/MTowLG49dSk6KG49TCh4KGUpL0UpLGUqKG89aygyLC1uKSk8MSYmKG4tLSxvKj0yKSxlKz1uK2M+PTE/Zi9vOmYqaygyLDEtYyksZSpvPj0yJiYobisrLG8vPTIpLG4rYz49dT8oaT0wLG49dSk6bitjPj0xPyhpPShlKm8tMSkqaygyLHQpLG4rPWMpOihpPWUqaygyLGMtMSkqaygyLHQpLG49MCkpO3Q+PTg7c1tsKytdPTI1NSZpLGkvPTI1Nix0LT04KTtmb3Iobj1uPDx0fGksYSs9dDthPjA7c1tsKytdPTI1NSZuLG4vPTI1NixhLT04KTtyZXR1cm4gc1stLWxdfD0xMjgqZCxzfWZ1bmN0aW9uIHVucGFja0lFRUU3NTQoZSx0LHIpe3ZhciBuLGk9OCpyLXQtMSxvPSgxPDxpKS0xLHM9bz4+MSxhPWktNyx1PXItMSxjPWVbdS0tXSxmPTEyNyZjO2ZvcihjPj49NzthPjA7Zj0yNTYqZitlW3VdLHUtLSxhLT04KTtmb3Iobj1mJigxPDwtYSktMSxmPj49LWEsYSs9dDthPjA7bj0yNTYqbitlW3VdLHUtLSxhLT04KTtpZigwPT09ZilmPTEtcztlbHNle2lmKGY9PT1vKXJldHVybiBuP05hTjpjPy1QOlA7bis9aygyLHQpLGYtPXN9cmV0dXJuKGM/LTE6MSkqbiprKDIsZi10KX1mdW5jdGlvbiB1bnBhY2tJMzIoZSl7cmV0dXJuIGVbM108PDI0fGVbMl08PDE2fGVbMV08PDh8ZVswXX1mdW5jdGlvbiBwYWNrSTgoZSl7cmV0dXJuWzI1NSZlXX1mdW5jdGlvbiBwYWNrSTE2KGUpe3JldHVyblsyNTUmZSxlPj44JjI1NV19ZnVuY3Rpb24gcGFja0kzMihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV19ZnVuY3Rpb24gcGFja0Y2NChlKXtyZXR1cm4gcGFja0lFRUU3NTQoZSw1Miw4KX1mdW5jdGlvbiBwYWNrRjMyKGUpe3JldHVybiBwYWNrSUVFRTc1NChlLDIzLDQpfWZ1bmN0aW9uIGFkZEdldHRlcihlLHQscil7aChlW2JdLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdfX0pfWZ1bmN0aW9uIGdldChlLHQscixuKXt2YXIgaT0rcixvPXAoaSk7aWYobyt0PmVbVV0pdGhyb3cgUyhtKTt2YXIgcz1lW0FdLl9iLGE9bytlW0RdLHU9cy5zbGljZShhLGErdCk7cmV0dXJuIG4/dTp1LnJldmVyc2UoKX1mdW5jdGlvbiBzZXQoZSx0LHIsbixpLG8pe3ZhciBzPStyLGE9cChzKTtpZihhK3Q+ZVtVXSl0aHJvdyBTKG0pO2Zvcih2YXIgdT1lW0FdLl9iLGM9YStlW0RdLGY9bigraSksbD0wO2w8dDtsKyspdVtjK2xdPWZbbz9sOnQtbC0xXX12YXIgbj1yKDQpLGk9cigxMCksbz1yKDQ5KSxzPXIoODgpLGE9cigxOCksdT1yKDU3KSxjPXIoNSksZj1yKDU1KSxsPXIoMzMpLGQ9cigxMikscD1yKDE3NCkseT1yKDUzKS5mLGg9cigxMSkuZix2PXIoMTIxKSxnPXIoNjEpLGI9InByb3RvdHlwZSIsbT0iV3JvbmcgaW5kZXghIixfPW4uQXJyYXlCdWZmZXIsUj1uLkRhdGFWaWV3LHc9bi5NYXRoLFM9bi5SYW5nZUVycm9yLFA9bi5JbmZpbml0eSxPPV8sTT13LmFicyxrPXcucG93LEw9dy5mbG9vcix4PXcubG9nLEU9dy5MTjIsQT1pPyJfYiI6ImJ1ZmZlciIsVT1pPyJfbCI6ImJ5dGVMZW5ndGgiLEQ9aT8iX28iOiJieXRlT2Zmc2V0IjtpZihzLkFCVil7aWYoIWMoZnVuY3Rpb24oKXtfKDEpfSl8fCFjKGZ1bmN0aW9uKCl7bmV3IF8oLTEpfSl8fGMoZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpyZXR1cm4gbmV3IF8sbmV3IF8oMS41KSxuZXcgXyhOYU4pLCJBcnJheUJ1ZmZlciIhPV8ubmFtZX0pKXtfPWZ1bmN0aW9uKGUpe3JldHVybiBmKHRoaXMsXyksbmV3IE8ocChlKSl9O2Zvcih2YXIgSSxqPV9bYl09T1tiXSxUPXkoTyksQz0wO1QubGVuZ3RoPkM7KShJPVRbQysrXSlpbiBffHxhKF8sSSxPW0ldKTtvfHwoai5jb25zdHJ1Y3Rvcj1fKX0KLy8gaU9TIFNhZmFyaSA3LnggYnVnCnZhciBGPW5ldyBSKG5ldyBfKDIpKSxOPVJbYl0uc2V0SW50ODtGLnNldEludDgoMCwyMTQ3NDgzNjQ4KSxGLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhRi5nZXRJbnQ4KDApJiZGLmdldEludDgoMSl8fHUoUltiXSx7c2V0SW50ODpmdW5jdGlvbihlLHQpe04uY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX0sc2V0VWludDg6ZnVuY3Rpb24oZSx0KXtOLmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSwhMCl9ZWxzZSBfPWZ1bmN0aW9uKGUpe2YodGhpcyxfLCJBcnJheUJ1ZmZlciIpO3ZhciB0PXAoZSk7dGhpcy5fYj12LmNhbGwobmV3IEFycmF5KHQpLDApLHRoaXNbVV09dH0sUj1mdW5jdGlvbihlLHQscil7Zih0aGlzLFIsIkRhdGFWaWV3IiksZihlLF8sIkRhdGFWaWV3Iik7dmFyIG49ZVtVXSxpPWwodCk7aWYoaTwwfHxpPm4pdGhyb3cgUygiV3Jvbmcgb2Zmc2V0ISIpO2lmKHI9dm9pZCAwPT09cj9uLWk6ZChyKSxpK3I+bil0aHJvdyBTKCJXcm9uZyBsZW5ndGghIik7dGhpc1tBXT1lLHRoaXNbRF09aSx0aGlzW1VdPXJ9LGkmJihhZGRHZXR0ZXIoXywiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ1ZmZlciIsIl9iIiksYWRkR2V0dGVyKFIsImJ5dGVMZW5ndGgiLCJfbCIpLGFkZEdldHRlcihSLCJieXRlT2Zmc2V0IiwiX28iKSksdShSW2JdLHtnZXRJbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdPDwyND4+MjR9LGdldFVpbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4odFsxXTw8OHx0WzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0KHRoaXMsMixlLGFyZ3VtZW50c1sxXSk7cmV0dXJuIHRbMV08PDh8dFswXX0sZ2V0SW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0kzMihnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSl9LGdldFVpbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKT4+PjB9LGdldEZsb2F0MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSksMjMsNCl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsOCxlLGFyZ3VtZW50c1sxXSksNTIsOCl9LHNldEludDg6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywxLGUscGFja0k4LHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldEludDE2OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMixlLHBhY2tJMTYsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldEludDMyOmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsNCxlLHBhY2tJMzIsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0YzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0NjQ6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw4LGUscGFja0Y2NCx0LGFyZ3VtZW50c1syXSl9fSk7ZyhfLCJBcnJheUJ1ZmZlciIpLGcoUiwiRGF0YVZpZXciKSxhKFJbYl0scy5WSUVXLCEwKSx0LkFycmF5QnVmZmVyPV8sdC5EYXRhVmlldz1SfSwvKiAxMjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1uLm5hdmlnYXRvcjtlLmV4cG9ydHM9aSYmaS51c2VyQWdlbnR8fCIifSwvKiAxMjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQxNykoITApOwovLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCnIoMTgzKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sLyogMTI5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAxMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkKZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0sLyogMTMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM2KSxpPXIoMjIpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSwvKiAxMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSkKdmFyIG49cigzNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDEzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQp2YXIgbj1yKDQxKSxpPXIoNDE5KSxvPXIoMTM3KSxzPXIoMTM1KSgiSUVfUFJPVE8iKSxhPWZ1bmN0aW9uKCl7fSx1PWZ1bmN0aW9uKCl7Ci8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnCnZhciBlLHQ9cigxMzEpKCJpZnJhbWUiKSxuPW8ubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHIoMTg4KS5hcHBlbmRDaGlsZCh0KSx0LnNyYz0iamF2YXNjcmlwdDoiLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybAovLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0OwovLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7CmU9dC5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8XC9zY3JpcHQ+IiksZS5jbG9zZSgpLHU9ZS5GO24tLTspZGVsZXRlIHUucHJvdG90eXBlW29bbl1dO3JldHVybiB1KCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByOwovLyBhZGQgIl9fcHJvdG9fXyIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbApyZXR1cm4gbnVsbCE9PWU/KGEucHJvdG90eXBlPW4oZSkscj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOmkocix0KX19LC8qIDEzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xNSBUb0xlbmd0aAp2YXIgbj1yKDEyOSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LC8qIDEzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzYpKCJrZXlzIiksaT1yKDk0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkoZSkpfX0sLyogMTM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPW5bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwoblsiX19jb3JlLWpzX3NoYXJlZF9fIl09e30pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0sLyogMTM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXMKZS5leHBvcnRzPSJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YiLnNwbGl0KCIsIil9LC8qIDEzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyBUeXBlRXJyb3IoIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yIik7dD1lLHI9bn0pLHRoaXMucmVzb2x2ZT1uKHQpLHRoaXMucmVqZWN0PW4ocil9Ci8vIDI1LjQuMS41IE5ld1Byb21pc2VDYXBhYmlsaXR5KEMpCnZhciBuPXIoOTMpO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoZSl9fSwvKiAxMzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sLyogMTQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QucnVudGltZVV0aWxzPXtydW50aW1lRGVzY3JpcHRvcjp7fSxydW50aW1lQ2FwYWJpbGl0aWVzOntjb25zdHJhaW50czp7fX19fSwvKiAxNDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDIzKX0sLyogMTQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKSxpPXIoMTMpLG89cig5Mikscz1yKDE0MSksYT1yKDQwKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDE0MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3NyksaT1yKDczKSxvPXIoNDUpLHM9cigxMzIpLGE9cig1OSksdT1yKDE4NCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDQ0KT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAxNDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lQ29uZmlndXJhdGlvbj17Ci8vIFRPRE8gdGhpcyBzaG91bGQgYmUgY2hhbmdlZCB3aXRoIHRoZSBkZWZpbml0aW9uIHVzZWQgZm9yIGluZGV4ZWRkYgovLyBsb29rIGF0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSURCT2JqZWN0U3RvcmUKLy8gTm93IHdlIGFyZSB1c2luZyB0aGUgZGVmaW5pdGlvbiBmb3IgRGV4aWU7IChodHRwOi8vZGV4aWUub3JnL2RvY3MvVmVyc2lvbi9WZXJzaW9uLnN0b3JlcygpKQpzdG9yYWdlU2NoZW1hczp7Y2FwYWJpbGl0aWVzOntjYXBhYmlsaXRpZXM6ImtleSx2ZXJzaW9uLHZhbHVlIn0sc3Vic2NyaXB0aW9uczp7c3Vic2NyaXB0aW9uczoia2V5LHZlcnNpb24sdmFsdWUifSxydW50aW1lOnsicnVudGltZTpVUkwiOiJrZXksdmVyc2lvbix2YWx1ZSIsInAycEhhbmRsZXI6VVJMIjoia2V5LHZlcnNpb24sdmFsdWUifSxyZWdpc3RyeTp7InJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZWdpc3RyeTpIeXBlcnR5VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIn0sY3J5cHRvTWFuYWdlcjp7dXNlckFzeW1tZXRyaWNLZXk6ImtleSx2ZXJzaW9uLHZhbHVlIixkYXRhT2JqZWN0U2Vzc2lvbktleXM6ImtleSx2ZXJzaW9uLHZhbHVlIn0saWRlbnRpdHk6e2FjY2Vzc1Rva2Vuczoia2V5LHZlcnNpb24sdmFsdWUiLGlkZW50aXRpZXM6InVzZXJVUkwsIHVzZXJQcm9maWxlLmVtYWlsLCB1c2VyUHJvZmlsZS51c2VyVVJMLCB1c2VyUHJvZmlsZS5uYW1lIn0scnVudGltZUNhdGFsb2d1ZTp7cnVudGltZUNhdGFsb2d1ZToiJmNndWlkLCBhY2Nlc3NDb250cm9sUG9saWN5LCBjb25zdHJhaW50cywgZGF0YU9iamVjdHMsIGh5cGVydHlUeXBlLCBvYmplY3ROYW1lLCBzb3VyY2VQYWNrYWdlLCB2ZXJzaW9uIn0scG9saWN5OnsicmV0aGluazphY3RpdmVQb2xpY3kiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6Z3JvdXBzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOnVzZXJQb2xpY2llcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazpzcFBvbGljaWVzIjoia2V5LHZlcnNpb24sdmFsdWUifSxzeW5jaGVyTWFuYWdlcjp7InN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGh5cGVydHlSZXNvdXJjZXM6e2h5cGVydHlSZXNvdXJjZXM6IiZyZXNvdXJjZVVSTCwgbmFtZSwgY29udGVudFVybCwgY29udGVudCwgY3JlYXRlZCwgcmVwb3J0ZXIsIHJlc291cmNlVHlwZSJ9fSxydW50aW1lVVJMUzp7cmVnaXN0cnk6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6InJlZ2lzdHJ5In0saWRlbnRpdHlNb2R1bGU6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9pZG0ifSxydW50aW1lVUE6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii91YSJ9LGNhdGFsb2d1ZTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2NhdGFsb2d1ZSJ9LGdyYXBoQ29ubmVjdG9yOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvZ3JhcGgifSxzeW5jTWFuYWdlcjp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL3NtIn19LGNhdGFsb2d1ZVVSTHM6e3Byb3RvY29sc3R1Yjp7cHJlZml4OiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iLHN1ZmZpeDoiLy53ZWxsLWtub3duL3Byb3RvY29sc3R1Yi8iLGZhbGxiYWNrOiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4lZG9tYWluJS8ud2VsbC1rbm93bi9wcm90b2NvbHN0dWIvIn0saWRwUHJveHk6e3ByZWZpeDoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIixzdWZmaXg6Ii8ud2VsbC1rbm93bi9pZHAtcHJveHkvIixmYWxsYmFjazoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJWRvbWFpbiUvLndlbGwta25vd24vaWRwLXByb3h5LyJ9fSxtc2dOb2RlVVJMOntwcmVmaXg6ImRvbWFpbjovL21zZy1ub2RlLiIsc3VmZml4OiIiLGh5cGVydHlBZGRyZXNzQWxsb2NhdGlvbjoiL2h5cGVydHktYWRkcmVzcy1hbGxvY2F0aW9uIixvYmplY3RBZGRyZXNzQWxsb2NhdGlvbjoiL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24iLHN1YnNjcmlwdGlvbk1hbmFnZW1lbnQ6Ii9zbSJ9LGRvbWFpblJlZ2lzdHJ5VVJMOntwcmVmaXg6ImRvbWFpbjovL3JlZ2lzdHJ5LiIsc3VmZml4OiIifSxnbG9iYWxSZWdpc3RyeVVSTDoiZ2xvYmFsOi8vcmVnaXN0cnkuIn19LC8qIDE0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcGVyYXRvcnMoKXsoMCxpLmRlZmF1bHQpKHRoaXMsT3BlcmF0b3JzKX1yZXR1cm4oMCxzLmRlZmF1bHQpKE9wZXJhdG9ycyxbe2tleToiYW5kIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXX19LHtrZXk6ImJldHdlZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGVbMF1bMF0pLHI9cGFyc2VJbnQoZVswXVsxXSksbj1lWzFdO3JldHVybiByPHQmJihuPW48dD9uKz0yNDAwOm4scis9MjQwMCksbj50JiZuPHJ9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiIqIj09PVN0cmluZyhlWzBdKXx8U3RyaW5nKGVbMF0pPT09U3RyaW5nKGVbMV0pfX0se2tleToiZ3JlYXRlclRoYW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPmVbMF19fSx7a2V5OiJpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT4tMX19LHtrZXk6Imxlc3NUaGFuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXTxlWzBdfX0se2tleToibm90Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hZVswXX19LHtrZXk6Im9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXXx8ZVsxXX19XSksT3BlcmF0b3JzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDE0NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNDUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7LyoqCiAgKiBDcmVhdGVzIGEgbmV3IENvbmRpdGlvbi4KICAqIEBjbGFzcwogICogQHBhcmFtICB7c3RyaW5nfSAgYXR0cmlidXRlCiAgKiBAcGFyYW0gIHtzdHJpbmd9ICBvcGVyYXRvcgogICogQHBhcmFtICB7Kn0gICAgICAgcGFyYW1zCiAgKi8KZnVuY3Rpb24gQ29uZGl0aW9uKGUsdCxyKXsoMCxpLmRlZmF1bHQpKHRoaXMsQ29uZGl0aW9uKSx0aGlzLmF0dHJpYnV0ZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLnBhcmFtcz1yLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9LyoqCiAgKiBWZXJpZmllcyBpZiB0aGUgY29uZGl0aW9uIGlzIGFwcGxpY2FibGUgdG8gdGhlIG1lc3NhZ2UuIEZpcnN0LCB0aGUgc3lzdGVtIHZhbHVlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGF0dHJpYnV0ZSBpcyByZXRyaWV2ZWQ7IHRoZW4sIHRoYXQgdmFsdWUgaXMgY29tcGFyZWQgd2l0aCB0aGUgcGFyYW1ldGVyIHNwZWNpZmllZCBpbiB0aGUgY29uZGl0aW9uIGJ5IGV4ZWN1dGluZyB0aGUgb3BlcmF0b3IgaW1wbGVtZW50YXRpb24uIElmIHRoZSBvcGVyYXRvciBpcyAnaW4nIGFuZCB0aGUgbmFtZSBvZiBhIGdyb3VwIGlzIGdpdmVuLCB0aGVuIHRoZSBhcnJheSBob2xkaW5nIHRoZSBtZW1iZXJzIG9mIHRoZSBncm91cCBpcyByZXRyaWV2ZWQgYmVmb3JlIHRoZSBjb21wYXJpc29uLgogICogQHBhcmFtICB7T2JqZWN0fSAgICBjb250ZXh0ICAgZW52aXJvbm1lbnQgd2hlcmUgdGhlIFBvbGljeSBFbmdpbmUgaXMgYmVpbmcgdXNlZAogICogQHBhcmFtICB7T2JqZWN0fSAgICBtZXNzYWdlCiAgKi8KcmV0dXJuKDAscy5kZWZhdWx0KShDb25kaXRpb24sW3trZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlW3RoaXMuYXR0cmlidXRlXT17bWVzc2FnZTp0fTt2YXIgcj1lW3RoaXMuYXR0cmlidXRlXSxuPXZvaWQgMDtyZXR1cm4iaW4iIT09dGhpcy5vcGVyYXRvcnx8QXJyYXkuaXNBcnJheSh0aGlzLnBhcmFtcyk/dGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW3RoaXMucGFyYW1zLHJdKToobj1lLmdldEdyb3VwKHRoaXMucGFyYW1zLHQudG8pLHRoaXMub3BlcmF0b3JzW3RoaXMub3BlcmF0b3JdKFtuLHJdKSl9fV0pLENvbmRpdGlvbn0oKTsvKioKICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICoKICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgKgogICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAqCiAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAqKi8KdC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMTQ3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI7Ci8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlCnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7Ci8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKQpyPXJ8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fCgwLGV2YWwpKCJ0aGlzIil9Y2F0Y2goZSl7Ci8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlCiJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYocj13aW5kb3cpfQovLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uCi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzCi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn0KZS5leHBvcnRzPXJ9LC8qIDE0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDEwKSYmIXIoNSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTAxKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDE0OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dC5mPXIoOCl9LC8qIDE1MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNyksaT1yKDI0KSxvPXIoNzkpKCExKSxzPXIoMTAzKSgiSUVfUFJPVE8iKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPWkoZSksdT0wLGM9W107Zm9yKHIgaW4gYSlyIT1zJiZuKGEscikmJmMucHVzaChyKTsKLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5cwpmb3IoO3QubGVuZ3RoPnU7KW4oYSxyPXRbdSsrXSkmJih+byhjLHIpfHxjLnB1c2gocikpO3JldHVybiBjfX0sLyogMTUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExKSxpPXIoMyksbz1yKDUwKTtlLmV4cG9ydHM9cigxMCk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtpKGUpO2Zvcih2YXIgcixzPW8odCksYT1zLmxlbmd0aCx1PTA7YT51OyluLmYoZSxyPXNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LC8qIDE1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3cKdmFyIG49cigyNCksaT1yKDUzKS5mLG89e30udG9TdHJpbmcscz0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBpKGUpfWNhdGNoKGUpe3JldHVybiBzLnNsaWNlKCl9fTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gcyYmIltvYmplY3QgV2luZG93XSI9PW8uY2FsbChlKT9hKGUpOmkobihlKSl9fSwvKiAxNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKQp2YXIgbj1yKDUwKSxpPXIoODApLG89cig3MSkscz1yKDE1KSxhPXIoNzApLHU9T2JqZWN0LmFzc2lnbjsKLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCmUuZXhwb3J0cz0hdXx8cig1KShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXUoe30sZSlbcl18fE9iamVjdC5rZXlzKHUoe30sdCkpLmpvaW4oIiIpIT1ufSk/ZnVuY3Rpb24oZSx0KXtmb3IoLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwp2YXIgcj1zKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxjPTEsZj1pLmYsbD1vLmY7dT5jOylmb3IodmFyIGQscD1hKGFyZ3VtZW50c1tjKytdKSx5PWY/bihwKS5jb25jYXQoZihwKSk6bihwKSxoPXkubGVuZ3RoLHY9MDtoPnY7KWwuY2FsbChwLGQ9eVt2KytdKSYmKHJbZF09cFtkXSk7cmV0dXJuIHJ9OnV9LC8qIDE1NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTYpLGk9cig2KSxvPXIoMTU1KSxzPVtdLnNsaWNlLGE9e30sdT1mdW5jdGlvbihlLHQscil7aWYoISh0IGluIGEpKXtmb3IodmFyIG49W10saT0wO2k8dDtpKyspbltpXT0iYVsiK2krIl0iOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKYVt0XT1GdW5jdGlvbigiRixhIiwicmV0dXJuIG5ldyBGKCIrbi5qb2luKCIsIikrIikiKX1yZXR1cm4gYVt0XShlLHIpfTtlLmV4cG9ydHM9RnVuY3Rpb24uYmluZHx8ZnVuY3Rpb24oZSl7dmFyIHQ9bih0aGlzKSxyPXMuY2FsbChhcmd1bWVudHMsMSksYT1mdW5jdGlvbigpe3ZhciBuPXIuY29uY2F0KHMuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGE/dSh0LG4ubGVuZ3RoLG4pOm8odCxuLGUpfTtyZXR1cm4gaSh0LnByb3RvdHlwZSkmJihhLnByb3RvdHlwZT10LnByb3RvdHlwZSksYX19LC8qIDE1NSAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzUKZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LC8qIDE1NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KS5wYXJzZUludCxpPXIoNjIpLnRyaW0sbz1yKDEwNykscz0vXlstK10/MFt4WF0vO2UuZXhwb3J0cz04IT09bihvKyIwOCIpfHwyMiE9PW4obysiMHgxNiIpP2Z1bmN0aW9uKGUsdCl7dmFyIHI9aShTdHJpbmcoZSksMyk7cmV0dXJuIG4ocix0Pj4+MHx8KHMudGVzdChyKT8xNjoxMCkpfTpufSwvKiAxNTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCkucGFyc2VGbG9hdCxpPXIoNjIpLnRyaW07ZS5leHBvcnRzPTEvbihyKDEwNykrIi0wIikhPS0xLzA/ZnVuY3Rpb24oZSl7dmFyIHQ9aShTdHJpbmcoZSksMykscj1uKHQpO3JldHVybiAwPT09ciYmIi0iPT10LmNoYXJBdCgwKT8tMDpyfTpufSwvKiAxNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmIk51bWJlciIhPW4oZSkpdGhyb3cgVHlwZUVycm9yKHQpO3JldHVybitlfX0sLyogMTU5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoNiksaT1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hbihlKSYmaXNGaW5pdGUoZSkmJmkoZSk9PT1lfX0sLyogMTYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4yMCBNYXRoLmxvZzFwKHgpCmUuZXhwb3J0cz1NYXRoLmxvZzFwfHxmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSk+LTFlLTgmJmU8MWUtOD9lLWUqZS8yOk1hdGgubG9nKDErZSl9fSwvKiAxNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMTYgTWF0aC5mcm91bmQoeCkKdmFyIG49cigxMTApLGk9TWF0aC5wb3csbz1pKDIsLTUyKSxzPWkoMiwtMjMpLGE9aSgyLDEyNykqKDItcyksdT1pKDIsLTEyNiksYz1mdW5jdGlvbihlKXtyZXR1cm4gZSsxL28tMS9vfTtlLmV4cG9ydHM9TWF0aC5mcm91bmR8fGZ1bmN0aW9uKGUpe3ZhciB0LHIsaT1NYXRoLmFicyhlKSxmPW4oZSk7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGk8dT9mKmMoaS91L3MpKnUqczoodD0oMStzL28pKmkscj10LSh0LWkpLHI+YXx8ciE9cj9mKigxLzApOmYqcil9fSwvKiAxNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCnZhciBuPXIoMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgbz1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1vJiZuKG8uY2FsbChlKSksdH19fSwvKiAxNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTYpLGk9cigxNSksbz1yKDcwKSxzPXIoMTIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhLHUpe24odCk7dmFyIGM9aShlKSxmPW8oYyksbD1zKGMubGVuZ3RoKSxkPXU/bC0xOjAscD11Py0xOjE7aWYocjwyKWZvcig7Oyl7aWYoZCBpbiBmKXthPWZbZF0sZCs9cDticmVha31pZihkKz1wLHU/ZDwwOmw8PWQpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIil9Zm9yKDt1P2Q+PTA6bD5kO2QrPXApZCBpbiBmJiYoYT10KGEsZltkXSxkLGMpKTtyZXR1cm4gYX19LC8qIDE2NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuMyBBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbih0YXJnZXQsIHN0YXJ0LCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigxNSksaT1yKDUxKSxvPXIoMTIpO2UuZXhwb3J0cz1bXS5jb3B5V2l0aGlufHxmdW5jdGlvbihlLHQpe3ZhciByPW4odGhpcykscz1vKHIubGVuZ3RoKSxhPWkoZSxzKSx1PWkodCxzKSxjPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGY9TWF0aC5taW4oKHZvaWQgMD09PWM/czppKGMscykpLXUscy1hKSxsPTE7Zm9yKHU8YSYmYTx1K2YmJihsPS0xLHUrPWYtMSxhKz1mLTEpO2YtLSA+MDspdSBpbiByP3JbYV09clt1XTpkZWxldGUgclthXSxhKz1sLHUrPWw7cmV0dXJuIHJ9fSwvKiAxNjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSwvKiAxNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMS4yLjUuMyBnZXQgUmVnRXhwLnByb3RvdHlwZS5mbGFncygpCnIoMTApJiYiZyIhPS8uL2cuZmxhZ3MmJnIoMTEpLmYoUmVnRXhwLnByb3RvdHlwZSwiZmxhZ3MiLHtjb25maWd1cmFibGU6ITAsZ2V0OnIoODQpfSl9LC8qIDE2NyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2U6ITEsdjplKCl9fWNhdGNoKGUpe3JldHVybntlOiEwLHY6ZX19fX0sLyogMTY4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLGk9cig2KSxvPXIoMTI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLGkodCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPW8uZihlKTtyZXR1cm4oMCxyLnJlc29sdmUpKHQpLHIucHJvbWlzZX19LC8qIDE2OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcwKSxpPXIoNjQpOwovLyAyMy4xIE1hcCBPYmplY3RzCmUuZXhwb3J0cz1yKDg3KSgiTWFwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHsKLy8gMjMuMS4zLjYgTWFwLnByb3RvdHlwZS5nZXQoa2V5KQpnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRFbnRyeShpKHRoaXMsIk1hcCIpLGUpO3JldHVybiB0JiZ0LnZ9LAovLyAyMy4xLjMuOSBNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKQpzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5kZWYoaSh0aGlzLCJNYXAiKSwwPT09ZT8wOmUsdCl9fSxuLCEwKX0sLyogMTcwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMSkuZixpPXIoNTIpLG89cig1Nykscz1yKDI3KSxhPXIoNTUpLHU9cig1NiksYz1yKDExMyksZj1yKDE2NSksbD1yKDU0KSxkPXIoMTApLHA9cig0MikuZmFzdEtleSx5PXIoNjQpLGg9ZD8iX3MiOiJzaXplIix2PWZ1bmN0aW9uKGUsdCl7Ci8vIGZhc3QgY2FzZQp2YXIgcixuPXAodCk7aWYoIkYiIT09bilyZXR1cm4gZS5faVtuXTsKLy8gZnJvemVuIG9iamVjdCBjYXNlCmZvcihyPWUuX2Y7cjtyPXIubilpZihyLms9PXQpcmV0dXJuIHJ9O2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsYyl7dmFyIGY9ZShmdW5jdGlvbihlLG4pe2EoZSxmLHQsIl9pIiksZS5fdD10LC8vIGNvbGxlY3Rpb24gdHlwZQplLl9pPWkobnVsbCksLy8gaW5kZXgKZS5fZj12b2lkIDAsLy8gZmlyc3QgZW50cnkKZS5fbD12b2lkIDAsLy8gbGFzdCBlbnRyeQplW2hdPTAsLy8gc2l6ZQp2b2lkIDAhPW4mJnUobixyLGVbY10sZSl9KTtyZXR1cm4gbyhmLnByb3RvdHlwZSx7Ci8vIDIzLjEuMy4xIE1hcC5wcm90b3R5cGUuY2xlYXIoKQovLyAyMy4yLjMuMiBTZXQucHJvdG90eXBlLmNsZWFyKCkKY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9eSh0aGlzLHQpLHI9ZS5faSxuPWUuX2Y7bjtuPW4ubiluLnI9ITAsbi5wJiYobi5wPW4ucC5uPXZvaWQgMCksZGVsZXRlIHJbbi5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbaF09MH0sCi8vIDIzLjEuMy4zIE1hcC5wcm90b3R5cGUuZGVsZXRlKGtleSkKLy8gMjMuMi4zLjQgU2V0LnByb3RvdHlwZS5kZWxldGUodmFsdWUpCmRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgcj15KHRoaXMsdCksbj12KHIsZSk7aWYobil7dmFyIGk9bi5uLG89bi5wO2RlbGV0ZSByLl9pW24uaV0sbi5yPSEwLG8mJihvLm49aSksaSYmKGkucD1vKSxyLl9mPT1uJiYoci5fZj1pKSxyLl9sPT1uJiYoci5fbD1vKSxyW2hdLS19cmV0dXJuISFufSwKLy8gMjMuMi4zLjYgU2V0LnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpCi8vIDIzLjEuMy41IE1hcC5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKQpmb3JFYWNoOmZ1bmN0aW9uKGUpe3kodGhpcyx0KTtmb3IodmFyIHIsbj1zKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cj1yP3Iubjp0aGlzLl9mOykKLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5CmZvcihuKHIudixyLmssdGhpcyk7ciYmci5yOylyPXIucH0sCi8vIDIzLjEuMy43IE1hcC5wcm90b3R5cGUuaGFzKGtleSkKLy8gMjMuMi4zLjcgU2V0LnByb3RvdHlwZS5oYXModmFsdWUpCmhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXYoeSh0aGlzLHQpLGUpfX0pLGQmJm4oZi5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHQpW2hdfX0pLGZ9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvPXYoZSx0KTsKLy8gY2hhbmdlIGV4aXN0aW5nIGVudHJ5Ci8vIGFkZCB0byBpbmRleApyZXR1cm4gbz9vLnY9cjooZS5fbD1vPXtpOmk9cCh0LCEwKSwvLyA8LSBpbmRleAprOnQsLy8gPC0ga2V5CnY6ciwvLyA8LSB2YWx1ZQpwOm49ZS5fbCwvLyA8LSBwcmV2aW91cyBlbnRyeQpuOnZvaWQgMCwvLyA8LSBuZXh0IGVudHJ5CnI6ITF9LGUuX2Z8fChlLl9mPW8pLG4mJihuLm49byksZVtoXSsrLCJGIiE9PWkmJihlLl9pW2ldPW8pKSxlfSxnZXRFbnRyeTp2LHNldFN0cm9uZzpmdW5jdGlvbihlLHQscil7Ci8vIGFkZCAua2V5cywgLnZhbHVlcywgLmVudHJpZXMsIFtAQGl0ZXJhdG9yXQovLyAyMy4xLjMuNCwgMjMuMS4zLjgsIDIzLjEuMy4xMSwgMjMuMS4zLjEyLCAyMy4yLjMuNSwgMjMuMi4zLjgsIDIzLjIuMy4xMCwgMjMuMi4zLjExCmMoZSx0LGZ1bmN0aW9uKGUscil7dGhpcy5fdD15KGUsdCksLy8gdGFyZ2V0CnRoaXMuX2s9ciwvLyBraW5kCnRoaXMuX2w9dm9pZCAwfSxmdW5jdGlvbigpewovLyByZXZlcnQgdG8gdGhlIGxhc3QgZXhpc3RpbmcgZW50cnkKZm9yKHZhciBlPXRoaXMsdD1lLl9rLHI9ZS5fbDtyJiZyLnI7KXI9ci5wOwovLyBnZXQgbmV4dCBlbnRyeQovLyBnZXQgbmV4dCBlbnRyeQovLyByZXR1cm4gc3RlcCBieSBraW5kCi8vIG9yIGZpbmlzaCB0aGUgaXRlcmF0aW9uCnJldHVybiBlLl90JiYoZS5fbD1yPXI/ci5uOmUuX3QuX2YpPyJrZXlzIj09dD9mKDAsci5rKToidmFsdWVzIj09dD9mKDAsci52KTpmKDAsW3IuayxyLnZdKTooZS5fdD12b2lkIDAsZigxKSl9LHI/ImVudHJpZXMiOiJ2YWx1ZXMiLCFyLCEwKSwKLy8gYWRkIFtAQHNwZWNpZXNdLCAyMy4xLjIuMiwgMjMuMi4yLjIKbCh0KX19fSwvKiAxNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3MCksaT1yKDY0KTsKLy8gMjMuMiBTZXQgT2JqZWN0cwplLmV4cG9ydHM9cig4NykoIlNldCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Ci8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKQphZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKGkodGhpcywiU2V0IiksZT0wPT09ZT8wOmUsZSl9fSxuKX0sLyogMTcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4saT1yKDM1KSgwKSxvPXIoMTkpLHM9cig0MiksYT1yKDE1MyksdT1yKDE3MyksYz1yKDYpLGY9cig1KSxsPXIoNjQpLGQ9cy5nZXRXZWFrLHA9T2JqZWN0LmlzRXh0ZW5zaWJsZSx5PXUudWZzdG9yZSxoPXt9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSxnPXsKLy8gMjMuMy4zLjMgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSkKZ2V0OmZ1bmN0aW9uKGUpe2lmKGMoZSkpe3ZhciB0PWQoZSk7cmV0dXJuITA9PT10P3kobCh0aGlzLCJXZWFrTWFwIikpLmdldChlKTp0P3RbdGhpcy5faV06dm9pZCAwfX0sCi8vIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKQpzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5kZWYobCh0aGlzLCJXZWFrTWFwIiksZSx0KX19LGI9ZS5leHBvcnRzPXIoODcpKCJXZWFrTWFwIix2LGcsdSwhMCwhMCk7Ci8vIElFMTEgV2Vha01hcCBmcm96ZW4ga2V5cyBmaXgKZihmdW5jdGlvbigpe3JldHVybiA3IT0obmV3IGIpLnNldCgoT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KShoKSw3KS5nZXQoaCl9KSYmKG49dS5nZXRDb25zdHJ1Y3Rvcih2LCJXZWFrTWFwIiksYShuLnByb3RvdHlwZSxnKSxzLk5FRUQ9ITAsaShbImRlbGV0ZSIsImhhcyIsImdldCIsInNldCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWIucHJvdG90eXBlLHI9dFtlXTtvKHQsZSxmdW5jdGlvbih0LGkpewovLyBzdG9yZSBmcm96ZW4gb2JqZWN0cyBvbiBpbnRlcm5hbCB3ZWFrbWFwIHNoaW0KaWYoYyh0KSYmIXAodCkpe3RoaXMuX2Z8fCh0aGlzLl9mPW5ldyBuKTt2YXIgbz10aGlzLl9mW2VdKHQsaSk7cmV0dXJuInNldCI9PWU/dGhpczpvfXJldHVybiByLmNhbGwodGhpcyx0LGkpfSl9KSl9LC8qIDE3MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTcpLGk9cig0MikuZ2V0V2VhayxvPXIoMykscz1yKDYpLGE9cig1NSksdT1yKDU2KSxjPXIoMzUpLGY9cigxNyksbD1yKDY0KSxkPWMoNSkscD1jKDYpLHk9MCxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9sfHwoZS5fbD1uZXcgdil9LHY9ZnVuY3Rpb24oKXt0aGlzLmE9W119LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZChlLmEsZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSl9O3YucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zyh0aGlzLGUpO2lmKHQpcmV0dXJuIHRbMV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIWcodGhpcyxlKX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Zyh0aGlzLGUpO3I/clsxXT10OnRoaXMuYS5wdXNoKFtlLHRdKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXAodGhpcy5hLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPT09ZX0pO3JldHVybn50JiZ0aGlzLmEuc3BsaWNlKHQsMSksISF+dH19LGUuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGM9ZShmdW5jdGlvbihlLG4pe2EoZSxjLHQsIl9pIiksZS5fdD10LC8vIGNvbGxlY3Rpb24gdHlwZQplLl9pPXkrKywvLyBjb2xsZWN0aW9uIGlkCmUuX2w9dm9pZCAwLC8vIGxlYWsgc3RvcmUgZm9yIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RzCnZvaWQgMCE9biYmdShuLHIsZVtvXSxlKX0pO3JldHVybiBuKGMucHJvdG90eXBlLHsKLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSkKLy8gMjMuNC4zLjMgV2Vha1NldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKQpkZWxldGU6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9aShlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmRlbGV0ZShlKTpyJiZmKHIsdGhpcy5faSkmJmRlbGV0ZSByW3RoaXMuX2ldfSwKLy8gMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSkKLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKQpoYXM6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9aShlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmhhcyhlKTpyJiZmKHIsdGhpcy5faSl9fSksY30sZGVmOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pKG8odCksITApO3JldHVybiEwPT09bj9oKGUpLnNldCh0LHIpOm5bZS5faV09cixlfSx1ZnN0b3JlOmh9fSwvKiAxNzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2luZGV4CnZhciBuPXIoMzMpLGk9cigxMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIDA7dmFyIHQ9bihlKSxyPWkodCk7aWYodCE9PXIpdGhyb3cgUmFuZ2VFcnJvcigiV3JvbmcgbGVuZ3RoISIpO3JldHVybiByfX0sLyogMTc1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9scwp2YXIgbj1yKDUzKSxpPXIoODApLG89cigzKSxzPXIoNCkuUmVmbGVjdDtlLmV4cG9ydHM9cyYmcy5vd25LZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1uLmYobyhlKSkscj1pLmY7cmV0dXJuIHI/dC5jb25jYXQocihlKSk6dH19LC8qIDE3NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGZsYXR0ZW5JbnRvQXJyYXkoZSx0LHIsdSxjLGYsbCxkKXtmb3IodmFyIHAseSxoPWMsdj0wLGc9ISFsJiZzKGwsZCwzKTt2PHU7KXtpZih2IGluIHIpe2lmKHA9Zz9nKHJbdl0sdix0KTpyW3ZdLHk9ITEsaShwKSYmKHk9cFthXSx5PXZvaWQgMCE9PXk/ISF5Om4ocCkpLHkmJmY+MCloPWZsYXR0ZW5JbnRvQXJyYXkoZSx0LHAsbyhwLmxlbmd0aCksaCxmLTEpLTE7ZWxzZXtpZihoPj05MDA3MTk5MjU0NzQwOTkxKXRocm93IFR5cGVFcnJvcigpO2VbaF09cH1oKyt9disrfXJldHVybiBofQovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLWZsYXRNYXAvI3NlYy1GbGF0dGVuSW50b0FycmF5CnZhciBuPXIoODEpLGk9cig2KSxvPXIoMTIpLHM9cigyNyksYT1yKDgpKCJpc0NvbmNhdFNwcmVhZGFibGUiKTtlLmV4cG9ydHM9ZmxhdHRlbkludG9BcnJheX0sLyogMTc3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmQKdmFyIG49cigxMiksaT1yKDEwOSksbz1yKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIscyl7dmFyIGE9U3RyaW5nKG8oZSkpLHU9YS5sZW5ndGgsYz12b2lkIDA9PT1yPyIgIjpTdHJpbmcociksZj1uKHQpO2lmKGY8PXV8fCIiPT1jKXJldHVybiBhO3ZhciBsPWYtdSxkPWkuY2FsbChjLE1hdGguY2VpbChsL2MubGVuZ3RoKSk7cmV0dXJuIGQubGVuZ3RoPmwmJihkPWQuc2xpY2UoMCxsKSkscz9kK2E6YStkfX0sLyogMTc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUwKSxpPXIoMjQpLG89cig3MSkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixzPWkodCksYT1uKHMpLHU9YS5sZW5ndGgsYz0wLGY9W107dT5jOylvLmNhbGwocyxyPWFbYysrXSkmJmYucHVzaChlP1tyLHNbcl1dOnNbcl0pO3JldHVybiBmfX19LC8qIDE3OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXZpZEJydWFudC9NYXAtU2V0LnByb3RvdHlwZS50b0pTT04KdmFyIG49cig3MiksaT1yKDE4MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKG4odGhpcykhPWUpdGhyb3cgVHlwZUVycm9yKGUrIiN0b0pTT04gaXNuJ3QgZ2VuZXJpYyIpO3JldHVybiBpKHRoaXMpfX19LC8qIDE4MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIG4oZSwhMSxyLnB1c2gscix0KSxyfX0sLyogMTgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KZS5leHBvcnRzPU1hdGguc2NhbGV8fGZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxlIT1lfHx0IT10fHxyIT1yfHxuIT1ufHxpIT1pP05hTjplPT09MS8wfHxlPT09LTEvMD9lOihlLXQpKihpLW4pLyhyLXQpK259fSwvKiAxODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt9LC8qIDE4MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOTIpLGk9cigyMSksbz1yKDE4NSkscz1yKDU4KSxhPXIoNTkpLHU9cig3NCksYz1yKDQxOCksZj1yKDk1KSxsPXIoMTg5KSxkPXIoMjMpKCJpdGVyYXRvciIpLHA9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkseT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcsYil7YyhyLHQsaCk7dmFyIG0sXyxSLHc9ZnVuY3Rpb24oZSl7aWYoIXAmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sUz10KyIgSXRlcmF0b3IiLFA9InZhbHVlcyI9PXYsTz0hMSxNPWUucHJvdG90eXBlLGs9TVtkXXx8TVsiQEBpdGVyYXRvciJdfHx2JiZNW3ZdLEw9IXAmJmt8fHcodikseD12P1A/dygiZW50cmllcyIpOkw6dm9pZCAwLEU9IkFycmF5Ij09dD9NLmVudHJpZXN8fGs6aztpZigKLy8gRml4IG5hdGl2ZQpFJiYoUj1sKEUuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJlIubmV4dCYmKAovLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCmYoUixTLCEwKSwKLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzCm58fGEoUixkKXx8cyhSLGQseSkpLAovLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGClAmJmsmJiJ2YWx1ZXMiIT09ay5uYW1lJiYoTz0hMCxMPWZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0pLAovLyBEZWZpbmUgaXRlcmF0b3IKbiYmIWJ8fCFwJiYhTyYmTVtkXXx8cyhNLGQsTCksCi8vIFBsdWcgZm9yIGxpYnJhcnkKdVt0XT1MLHVbU109eSx2KWlmKG09e3ZhbHVlczpQP0w6dygidmFsdWVzIiksa2V5czpnP0w6dygia2V5cyIpLGVudHJpZXM6eH0sYilmb3IoXyBpbiBtKV8gaW4gTXx8byhNLF8sbVtfXSk7ZWxzZSBpKGkuUCtpLkYqKHB8fE8pLHQsbSk7cmV0dXJuIG19fSwvKiAxODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig0NCkmJiFyKDY2KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMzEpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogMTg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig1OCl9LC8qIDE4NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSksaT1yKDQ1KSxvPXIoNDIwKSghMSkscz1yKDEzNSkoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1pKGUpLHU9MCxjPVtdO2ZvcihyIGluIGEpciE9cyYmbihhLHIpJiZjLnB1c2gocik7Ci8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXMKZm9yKDt0Lmxlbmd0aD51OyluKGEscj10W3UrK10pJiYofm8oYyxyKXx8Yy5wdXNoKHIpKTtyZXR1cm4gY319LC8qIDE4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCnZhciBuPXIoNzUpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmUuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sLyogMTg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKS5kb2N1bWVudDtlLmV4cG9ydHM9biYmbi5kb2N1bWVudEVsZW1lbnR9LC8qIDE4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCnZhciBuPXIoNTkpLGk9cig3Niksbz1yKDEzNSkoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sLyogMTkwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQyMik7Zm9yKHZhciBuPXIoMjIpLGk9cig1OCksbz1yKDc0KSxzPXIoMjMpKCJ0b1N0cmluZ1RhZyIpLGE9IkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0Ii5zcGxpdCgiLCIpLHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGM9YVt1XSxmPW5bY10sbD1mJiZmLnByb3RvdHlwZTtsJiYhbFtzXSYmaShsLHMsYyksb1tjXT1vLkFycmF5fX0sLyogMTkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCkKdmFyIG49cig3NSksaT1yKDIzKSgidG9TdHJpbmdUYWciKSxvPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixhO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxpKSk/cjpvP24odCk6Ik9iamVjdCI9PShhPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6YX19LC8qIDE5MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3IKdmFyIG49cig0MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgbz1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1vJiZuKG8uY2FsbChlKSksdH19fSwvKiAxOTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yCnZhciBuPXIoNzQpLGk9cigyMykoIml0ZXJhdG9yIiksbz1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fG9baV09PT1lKX19LC8qIDE5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxOTEpLGk9cigyMykoIml0ZXJhdG9yIiksbz1yKDc0KTtlLmV4cG9ydHM9cigxMykuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW2ldfHxlWyJAQGl0ZXJhdG9yIl18fG9bbihlKV19fSwvKiAxOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcikKdmFyIG49cig0MSksaT1yKDkzKSxvPXIoMjMpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbb10pP3Q6aShyKX19LC8qIDE5NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvLHM9cig2NSksYT1yKDQyOCksdT1yKDE4OCksYz1yKDEzMSksZj1yKDIyKSxsPWYucHJvY2VzcyxkPWYuc2V0SW1tZWRpYXRlLHA9Zi5jbGVhckltbWVkaWF0ZSx5PWYuTWVzc2FnZUNoYW5uZWwsaD1mLkRpc3BhdGNoLHY9MCxnPXt9LGI9ZnVuY3Rpb24oKXt2YXIgZT0rdGhpczsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwppZihnLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1nW2VdO2RlbGV0ZSBnW2VdLHQoKX19LG09ZnVuY3Rpb24oZSl7Yi5jYWxsKGUuZGF0YSl9OwovLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6CmQmJnB8fChkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7YXJndW1lbnRzLmxlbmd0aD5yOyl0LnB1c2goYXJndW1lbnRzW3IrK10pO3JldHVybiBnWysrdl09ZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCmEoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwKLy8gTm9kZS5qcyAwLjgtCiJwcm9jZXNzIj09cig3NSkobCk/bj1mdW5jdGlvbihlKXtsLm5leHRUaWNrKHMoYixlLDEpKX06aCYmaC5ub3c/bj1mdW5jdGlvbihlKXtoLm5vdyhzKGIsZSwxKSl9Onk/KGk9bmV3IHksbz1pLnBvcnQyLGkucG9ydDEub25tZXNzYWdlPW0sbj1zKG8ucG9zdE1lc3NhZ2UsbywxKSk6Zi5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFmLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7Zi5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbSwhMSkpOm49Im9ucmVhZHlzdGF0ZWNoYW5nZSJpbiBjKCJzY3JpcHQiKT9mdW5jdGlvbihlKXt1LmFwcGVuZENoaWxkKGMoInNjcmlwdCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1LnJlbW92ZUNoaWxkKHRoaXMpLGIuY2FsbChlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQocyhiLGUsMSksMCl9KSxlLmV4cG9ydHM9e3NldDpkLGNsZWFyOnB9fSwvKiAxOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LC8qIDE5OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksaT1yKDM2KSxvPXIoMTM4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLGkodCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPW8uZihlKTtyZXR1cm4oMCxyLnJlc29sdmUpKHQpLHIucHJvbWlzZX19LC8qIDE5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigyMykoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIG89WzddW25dKCk7by5yZXR1cm49ZnVuY3Rpb24oKXtpPSEwfSwKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWwKQXJyYXkuZnJvbShvLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBvPVs3XSxzPW9bbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0sb1tuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKG8pfWNhdGNoKGUpe31yZXR1cm4gcn19LC8qIDIwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDM3KSxfX2VzTW9kdWxlOiEwfX0sLyogMjAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQubG9nPXZvaWQgMDt2YXIgbj1yKDcpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxvPWkuZGVmYXVsdC5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHM9aS5kZWZhdWx0LmdldExvZ2dlcigiQnVzIiksYT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJNZXNzYWdlQnVzIiksdT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJDb3JlRGlzY292ZXJ5IiksYz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJHcmFwaENvbm5lY3RvciIpLGY9aS5kZWZhdWx0LmdldExvZ2dlcigiSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UiKSxsPWkuZGVmYXVsdC5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksZD1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQRVAiKSxwPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIikseT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLGg9aS5kZWZhdWx0LmdldExvZ2dlcigiUnVudGltZVVBIiksdj1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJMb2FkZXIiKSxnPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIiksYj1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxtPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLF89aS5kZWZhdWx0LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uTWFuYWdlciIpLFI9aS5kZWZhdWx0LmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSx3PWkuZGVmYXVsdC5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTeW5TdWJzY3JpcHRpb24iKSxQPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksTz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJJZGVudGl0eU1hbmFnZXIiKSxNPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxrPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlBpcGVsaW5lIik7dC5sb2c9aS5kZWZhdWx0LC8qKgogIDAgYWN0dWFsIGxvZ2dpbmcgbWV0aG9kcywgb3JkZXJlZCBhbmQgYXZhaWxhYmxlIGFzOgoKICAgICAgMCAtIGxvZy50cmFjZShtc2cpCiAgICAgIDEgLSBsb2cuZGVidWcobXNnKQogICAgICAyIC0gbG9nLmluZm8obXNnKQogICAgICAzIC0gbG9nLndhcm4obXNnKQogICAgICA0IC0gbG9nLmVycm9yKG1zZykKCiAgbG9nLmxvZyhtc2cpIGlzIGFsc28gYXZhaWxhYmxlLCBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnKG1zZyksIHRvIGltcHJvdmUgY29tcGF0aWJpbGl0eSB3aXRoIGNvbnNvbGUsIGFuZCBtYWtlIG1pZ3JhdGlvbiBlYXNpZXIuCgogIEV4YWN0IG91dHB1dCBmb3JtYXR0aW5nIG9mIHRoZXNlIHdpbGwgZGVwZW5kIG9uIHRoZSBjb25zb2xlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBjb250ZXh0IG9mIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlLCBtYW55IGVudmlyb25tZW50cyB3aWxsIGluY2x1ZGUgYSBmdWxsIHN0YWNrIHRyYWNlIHdpdGggYWxsIHRyYWNlKCkgY2FsbHMsIGFuZCBpY29ucyBvciBzaW1pbGFyIHRvIGhpZ2hsaWdodCBvdGhlciBjYWxscy4KCiAgVGhlc2UgbWV0aG9kcyBzaG91bGQgbmV2ZXIgZmFpbCBpbiBhbnkgZW52aXJvbm1lbnQsIGV2ZW4gaWYgbm8gY29uc29sZSBvYmplY3QgaXMgY3VycmVudGx5IGF2YWlsYWJsZSwgYW5kIHNob3VsZCBhbHdheXMgZmFsbCBiYWNrIHRvIGFuIGF2YWlsYWJsZSBsb2cgbWV0aG9kIGV2ZW4gaWYgdGhlIHNwZWNpZmljIG1ldGhvZCBjYWxsZWQgKGUuZy4gd2FybikgaXNuJ3QgYXZhaWxhYmxlLgoKICBCZSBhd2FyZSB0aGF0IGFsbCB0aGlzIG1lYW5zIHRoYXQgdGhlc2UgbWV0aG9kIHdvbid0IG5lY2Vzc2FyaWx5IGFsd2F5cyBwcm9kdWNlIGV4YWN0bHkgdGhlIG91dHB1dCB5b3UgZXhwZWN0IGluIGV2ZXJ5IGVudmlyb25tZW50OyBsb2dsZXZlbCBvbmx5IGd1YXJhbnRlZXMgdGhhdCB0aGVzZSBtZXRob2RzIHdpbGwgbmV2ZXIgZXhwbG9kZSBvbiB5b3UsIGFuZCB0aGF0IGl0IHdpbGwgY2FsbCB0aGUgbW9zdCByZWxldmFudCBtZXRob2QgaXQgY2FuIGZpbmQsIHdpdGggeW91ciBhcmd1bWVudC4gRmlyZWZveCBpcyBhIG5vdGFibGUgZXhhbXBsZSBoZXJlOiBkdWUgdG8gYSBjdXJyZW50IEZpcmVmb3ggYnVnIGxvZy50cmFjZShtc2cpIGNhbGxzIGluIEZpcmVmb3ggd2lsbCBwcmludCBvbmx5IHRoZSBzdGFja3RyYWNlLCBhbmQgd29uJ3QgaW5jbHVkZSBhbnkgcGFzc2VkIG1lc3NhZ2UgYXJndW1lbnRzLgoKKi8KLy8gYWRkcmVzcy1hbGxvY2F0aW9uCm8uc2V0TGV2ZWwoMyksCi8vIEJ1cwpzLnNldExldmVsKDMpLAovLyBNZXNzYWdlQnVzCmEuc2V0TGV2ZWwoMCksCi8vIENvcmVEaXNjb3ZlcnkKdS5zZXRMZXZlbCg1KSwKLy8gR3JhcGhDb25uZWN0b3IKYy5zZXRMZXZlbCg1KSwKLy8gSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UKZi5zZXRMZXZlbCgzKSwKLy8gSWRlbnRpdHlNb2R1bGUKbC5zZXRMZXZlbCgwKSwKLy8gUEVQCmQuc2V0TGV2ZWwoMyksCi8vIFAyUENvbm5lY3Rpb25SZXNvbHZlCnAuc2V0TGV2ZWwoMyksCi8vIFJlZ2lzdHJ5Cnkuc2V0TGV2ZWwoMyksCi8vIFJ1bnRpbWVVQQpoLnNldExldmVsKDMpLAovLyBMb2FkZXIKdi5zZXRMZXZlbCgzKSwKLy8gRGVzY3JpcHRvcnMKZy5zZXRMZXZlbCgzKSwKLy8gRGF0YU9iamVjdHNTdG9yYWdlCmIuc2V0TGV2ZWwoMyksCi8vIFN1YnNjcmlwdGlvbgptLnNldExldmVsKDMpLAovLyBTdWJzY3JpcHRpb25NYW5hZ2VyCl8uc2V0TGV2ZWwoMyksCi8vIE9ic2VydmVyT2JqZWN0ClIuc2V0TGV2ZWwoMyksCi8vIFJlcG9ydGVyT2JqZWN0Cncuc2V0TGV2ZWwoMyksCi8vIFN5blN1YnNjcmlwdGlvbgpTLnNldExldmVsKDMpLAovLyBTeW5jaGVyTWFuYWdlcgpQLnNldExldmVsKDMpLAovLyBJZGVudGl0eU1hbmFnZXIKTy5zZXRMZXZlbCgzKSwKLy8gQ3J5cHRvTWFuYWdlcgpNLnNldExldmVsKDMpLAovLyBQaXBlbGluZQprLnNldExldmVsKDMpfSwvKiAyMDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCnZhciBuPXIoMTg2KSxpPXIoMTM3KS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxpKX19LC8qIDIwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDYwKSxfX2VzTW9kdWxlOiEwfX0sLyogMjA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIkJ1cyIpLGQ9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX21zZ0lkOiBudW1iZXI7CiAgX3N1YnNjcmlwdGlvbnM6IDx1cmw6IE1zZ0xpc3RlbmVyW10+CiAgIF9yZXNwb25zZVRpbWVPdXQ6IG51bWJlcgogIF9yZXNwb25zZUNhbGxiYWNrczogPHVybCtpZDogKG1zZykgPT4gdm9pZD4KICAgKi8KZnVuY3Rpb24gQnVzKCl7KDAscy5kZWZhdWx0KSh0aGlzLEJ1cyk7dmFyIGU9dGhpcztlLl9tc2dJZD0wLGUuX3N1YnNjcmlwdGlvbnM9e30sZS5fcmVzcG9uc2VUaW1lT3V0PTE1ZTMsLy9kZWZhdWx0IHRvIDNzCmUuX3Jlc3BvbnNlQ2FsbGJhY2tzPXt9LGUuX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lcigpfS8qKgogICogUmVnaXN0ZXIgbGlzdGVuZXIgdG8gcmVjZWl2ZSBtZXNzYWdlIHdoZW4gIm1zZy50byA9PT0gdXJsIi4KICAqIFNwZWNpYWwgdXJsICIqIiBmb3IgZGVmYXVsdCBsaXN0ZW5lciBpcyBhY2NlcHRlZCB0byBpbnRlcmNlcHQgYWxsIG1lc3NhZ2VzLgogICogQHBhcmFtIHtVUkx9IHVybCBBZGRyZXNzIHRvIGludGVyY2VwdCwgdGhhIGlzIGluIHRoZSBtZXNzYWdlICJ0byIKICAqIEBwYXJhbSB7TGlzdGVuZXJ9IGxpc3RlbmVyIGxpc3RlbmVyCiAgKiBAcmV0dXJuIHtNc2dMaXN0ZW5lcn0gaW5zdGFuY2Ugb2YgTXNnTGlzdGVuZXIKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKEJ1cyxbe2tleToiYWRkTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPW5ldyBwKHIuX3N1YnNjcmlwdGlvbnMsZSx0KSxpPXIuX3N1YnNjcmlwdGlvbnNbZV07cmV0dXJuIGl8fChpPVtdLHIuX3N1YnNjcmlwdGlvbnNbZV09aSksaS5wdXNoKG4pLG59fSx7a2V5OiJhZGRSZXNwb25zZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XT1yfX0se2tleToicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XX19LHtrZXk6InJlbW92ZUFsbExpc3RlbmVyc09mIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fc3Vic2NyaXB0aW9uc1tlXX19LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9dGhpcztyZXR1cm57dGhpc0xpc3RlbmVyOmkuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtyLnBvc3RNZXNzYWdlKGUpfSksdGFyZ2V0TGlzdGVuZXI6ci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2UoZSl9KSx1bmJpbmQ6ZnVuY3Rpb24oKXtuLnRoaXNMaXN0ZW5lci5yZW1vdmUoKSxuLnRhcmdldExpc3RlbmVyLnJlbW92ZSgpfX19fSx7a2V5OiJfcHVibGlzaE9uRGVmYXVsdCIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vaXMgdGhlcmUgYW55ICIqIiAoZGVmYXVsdCkgbGlzdGVuZXJzPwp2YXIgdD10aGlzLl9zdWJzY3JpcHRpb25zWyIqIl07dCYmdGhpcy5fcHVibGlzaE9uKHQsZSl9fSx7a2V5OiJfcHVibGlzaE9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9jYWxsYmFjayh0KX0pfX0se2tleToiX3Jlc3BvbnNlQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPXRoaXM7Ci8vYXV0b21hdGljIG1hbmFnZW1lbnQgb2YgcmVzcG9uc2UgaGFuZGxlcnMKaWYodCl7dmFyIGk9ZS5mcm9tK2UuaWQ7bi5fcmVzcG9uc2VDYWxsYmFja3NbaV09dCxyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bi5fcmVzcG9uc2VDYWxsYmFja3NbaV07aWYoZGVsZXRlIG4uX3Jlc3BvbnNlQ2FsbGJhY2tzW2ldLHQpe3Qoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDA4LGRlc2M6IlJlc3BvbnNlIHRpbWVvdXQhIix2YWx1ZTplfX0pfX0sbi5fcmVzcG9uc2VUaW1lT3V0KX19fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigicmVzcG9uc2UiPT09ZS50eXBlKXt2YXIgcj1lLnRvK2UuaWQsbj10Ll9yZXNwb25zZUNhbGxiYWNrc1tyXTtpZihlLmJvZHkuY29kZT49MjAwJiYKLy9pZiBpdCdzIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UsIGRvbid0IGRlbGV0ZSByZXNwb25zZSBsaXN0ZW5lcgpkZWxldGUgdC5fcmVzcG9uc2VDYWxsYmFja3Nbcl0sbilyZXR1cm4gbihlKSwhMH1yZXR1cm4hMX19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj90Ll9wdWJsaXNoT24ocixlKTp0Ll9wdWJsaXNoT25EZWZhdWx0KGUpfX19LHtrZXk6Il9nZW5JZCIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vVE9ETzogaG93IGRvIHdlIG1hbmFnZSBtZXNzYWdlIElEJ3M/IFNob3VsZCBpdCBiZSBhIGdsb2JhbCBydW50aW1lIGNvdW50ZXIsIG9yIHBlciBVUkwgYWRkcmVzcz8KLy9HbG9iYWwgY291bnRlciB3aWxsIG5vdCB3b3JrLCBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbXVsdGlwbGUgTWluaUJ1cyBpbnN0YW5jZXMhCi8vUGVyIFVSTCwgY2FuIGJlIGEgbG90IG9mIGRhdGEgdG8gbWFpbnRhaW4hCi8vTWF5YmUgYSBjb3VudGVyIHBlciBNaW5pQnVzIGluc3RhbmNlLiBUaGlzIGlzIHRoZSBhc3N1bWVkIHNvbHV0aW9uIGZvciBub3cuCmUuaWQmJjAhPT1lLmlkfHwodGhpcy5fbXNnSWQrKyxlLmlkPXRoaXMuX21zZ0lkKX19LHtrZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe319LHtrZXk6InBvc3RNZXNzYWdlV2l0aFJldHJpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89MCxzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCxpKXtuLnBvc3RNZXNzYWdlKGUsZnVuY3Rpb24obil7NDA4PT09bi5ib2R5LmNvZGV8fDUwMD09PW4uYm9keS5jb2RlP2koKToobC5pbmZvKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIG1zZyBkZWxpdmVyZWQ6ICIsZSkscihuKSx0KCkpfSl9KX07IWZ1bmN0aW9uIHRyeUFnYWluKCl7cygpLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7aWYobC53YXJuKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIE1lc3NhZ2UgQm91bmNlZCAocmV0cnkgIitvKyIpOiAnIixlKSwhKG8rKzx0KSl7dmFyIHI9IltFcnJvcl0gTWVzc2FnZSBCb3VuY2VkIChkZWxpdmVyeSBhdHRlbXB0cyAiK3QrIik6ICciO3Rocm93IG5ldyBFcnJvcihyK2UpfXRyeUFnYWluKCl9KX0oKX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJfcmVnaXN0ZXJFeHRlcm5hbExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbigpe319XSksQnVzfSgpLHA9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX3N1YnNjcmlwdGlvbnM6IDxzdHJpbmc6IE1zZ0xpc3RlbmVyW10+OwogIF91cmw6IHN0cmluZzsKICBfY2FsbGJhY2s6IChtc2cpID0+IHZvaWQ7CiAgKi8KZnVuY3Rpb24gTXNnTGlzdGVuZXIoZSx0LHIpeygwLHMuZGVmYXVsdCkodGhpcyxNc2dMaXN0ZW5lcik7dmFyIG49dGhpcztuLl9zdWJzY3JpcHRpb25zPWUsbi5fdXJsPXQsbi5fY2FsbGJhY2s9cn1yZXR1cm4oMCx1LmRlZmF1bHQpKE1zZ0xpc3RlbmVyLFt7a2V5OiJyZW1vdmUiLC8qKgogICAgICogUmVtb3ZlIHRoaXMgbGlzdGVuZXIgZnJvbSB0aGUgQnVzCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdO2lmKHQpe3ZhciByPXQuaW5kZXhPZihlKTt0LnNwbGljZShyLDEpLAovL2lmIHRoZXJlIGFyZSBubyBsaXN0ZW5lcnMsIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9uIGVudGlyZWx5LgowPT09dC5sZW5ndGgmJmRlbGV0ZSBlLl9zdWJzY3JpcHRpb25zW2UuX3VybF19fX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dKSxNc2dMaXN0ZW5lcn0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAyMDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyB2ZXJzaW9uOiAwLjguMAovLyBkYXRlOiBUdWUgSmFuIDA5IDIwMTggMTc6MDE6MzcgR01UKzAwMDAgKFdFVCkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwohZnVuY3Rpb24odCxyKXtlLmV4cG9ydHM9cigpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihyKXtpZih0W3JdKXJldHVybiB0W3JdLmV4cG9ydHM7dmFyIGk9dFtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sPSEwLGkuZXhwb3J0c312YXIgdD17fTtyZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCwiYSIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9IiIsbihuLnM9MTk2KX0oezA6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS4zIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LDE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LDEwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgpLGk9cigxNSk7ZS5leHBvcnRzPXIoMyk/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LGkoMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSwxMjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sMTIxOmZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSx0LHIsbixpLG8pe2Z1bmN0aW9uIHMoZSxuKXtpZihzLmRlbGF5PW4sIXMucGF1c2UmJnUuY2hhbmdlc2V0Lmxlbmd0aD4wKXtpZighZSl7dmFyIGk9dS5jaGFuZ2VzZXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFyfHxyLmluZGV4T2YoZS50eXBlKT49MH0pO2kubGVuZ3RoPjAmJnQoaSl9dS5jaGFuZ2VzZXQ9W119fXZhciBhLHU9dGhpcztyZXR1cm4gcy5wYXVzZT1pLHMuZGVsYXk9byx1LmdldD1mdW5jdGlvbihlLHQpe3JldHVybiJfX29ic2VydmVyX18iPT09dD91OiJ1bm9ic2VydmUiPT09dD9mdW5jdGlvbigpe3JldHVybiBPYmplY3QudW5vYnNlcnZlKGUpLGV9OiJkZWxpdmVyIj09PXQ/czplW3RdfSx1LnRhcmdldD1lLHUuY2hhbmdlc2V0PVtdLHUudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfX3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyQ2FsbGJhY2tzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSksdS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fLnB1c2godCksdS50YXJnZXQuX19vYnNlcnZlcnNfXy5wdXNoKHRoaXMpLGE9bmV3IFByb3h5KGUsdSkscyghMSxvKSxhfU9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgUHJveHl8fChlLnByb3RvdHlwZS5kZWxpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KG51bGwsImRlbGl2ZXIiKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lW3RdLGk9dm9pZCAwPT09bj8iYWRkIjoidXBkYXRlIjtpZihlW3RdPXIsZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJighdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZihpKT49MCkpe3ZhciBvPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZTppfSxzPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsYT10aGlzLmRlbGl2ZXIoKTsidXBkYXRlIj09PWkmJihvLm9sZFZhbHVlPW4pLHRoaXMuY2hhbmdlc2V0LnB1c2gobykscyYmYSghMSwibnVtYmVyIj09dHlwZW9mIGEuZGVsYXk/YS5kZWxheToxMCl9cmV0dXJuITB9LGUucHJvdG90eXBlLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtpZihkZWxldGUgZVt0XSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoImRlbGV0ZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6ImRlbGV0ZSIsb2xkVmFsdWU6cn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsciksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJyZWNvbmZpZ3VyZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6InJlY29uZmlndXJlIn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYoT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJzZXRQcm90b3R5cGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6Il9fcHJvdG9fXyIsdHlwZToic2V0UHJvdG90eXBlIixvbGRWYWx1ZTpyfSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfXJldHVybiEwfSxlLnByb3RvdHlwZS5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihlKXtpZihPYmplY3QucHJldmVudEV4dGVuc2lvbnMoZSksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJwcmV2ZW50RXh0ZW5zaW9ucyIpPj0wKXt2YXIgdD17b2JqZWN0OmUsdHlwZToicHJldmVudEV4dGVuc2lvbnMifSxyPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbj10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKHQpLHImJm4oITEsIm51bWJlciI9PXR5cGVvZiBuLmRlbGF5P24uZGVsYXk6MTApfXJldHVybiEwfSxPYmplY3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbixpLG8scyl7cmV0dXJuIG5ldyBlKHQscixuLGksbyxzKX0sT2JqZWN0LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fKXtpZighdClyZXR1cm4gZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKSx2b2lkIGUuX19vYnNlcnZlcnNfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dD09PXImJihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UobiwxKSxkZWxldGUgZS5fX29ic2VydmVyc19fW25dLmNhbGxiYWNrLGUuX19vYnNlcnZlcnNfXy5zcGxpY2UobiwxKSl9KX19LEFycmF5Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBBcnJheS5vYnNlcnZlciBpcyBub3QgYW4gQXJyYXkiKTtyPXJ8fFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwic3BsaWNlIl07dmFyIHM9bmV3IFByb3h5KGUse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiJ1bm9ic2VydmUiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gZT9PYmplY3QudW5vYnNlcnZlKHQsZSk6dC51bm9ic2VydmUoKX06InNwbGljZSI9PT1uP2Z1bmN0aW9uKG4saSl7aWYoIm51bWJlciIhPXR5cGVvZiBufHwibnVtYmVyIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgdHdvIGFyZ3VtZW50cyB0byBBcnJheSBzcGxpY2UgYXJlIG5vdCBudW1iZXIsIG51bWJlciIpO3ZhciBvPXRoaXMuc2xpY2UobixuK2kpLHM9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50cy5sZW5ndGgtMjowLHU9e29iamVjdDplLHR5cGU6InNwbGljZSIsaW5kZXg6bixyZW1vdmVkOm8sYWRkZWRDb3VudDpzfTtpZih0LnNwbGljZS5hcHBseSh0LGFyZ3VtZW50cyksci5pbmRleE9mKCJzcGxpY2UiKT49MCl7bj0wPT09YS5fX29ic2VydmVyX18uY2hhbmdlc2V0Lmxlbmd0aDt2YXIgYz1hLl9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7YS5fX29ic2VydmVyX18uY2hhbmdlc2V0LnB1c2godSksbiYmYyghMSwibnVtYmVyIj09dHlwZW9mIGMuZGVsYXk/Yy5kZWxheToxMCl9fToicHVzaCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aCwwLGUpfToicG9wIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKX06InVuc2hpZnQiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwwLGUpfToic2hpZnQiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSgwLDEpfTp0W25dfX0pLGE9T2JqZWN0Lm9ic2VydmUocyxmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ibGVuZ3RoIiE9PWUubmFtZSYmImFkZCIhPT1lLm5hbWUmJighcnx8ci5pbmRleE9mKGUudHlwZSk+PTApfSk7bi5sZW5ndGg+MCYmdChuKX0scixuLGksbyk7cmV0dXJuIGF9LEFycmF5LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVub2JzZXJ2ZSh0KX0pLE9iamVjdC5kZWVwT2JzZXJ2ZT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbyhlLHIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoKCJvYmplY3QiPT09bihlW2ldKXx8ImFycmF5Ij09PW4oZVtpXSkpJiYhZVtpXS5oYXNPd25Qcm9wZXJ0eSgiX19vYnNlcnZlcnNfXyIpKXt2YXIgbz1yLnNsaWNlKDApO28ucHVzaChpKSxlW2ldPU9iamVjdC5kZWVwT2JzZXJ2ZShlW2ldLHQsbyl9fSl9dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiBvKGUscj1yfHxbXSksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihuKXt2YXIgaT1bXTtuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KHIubGVuZ3RoPjA/ci5qb2luKCIuIikrIi4iOiIiKStlLm5hbWU7InVwZGF0ZSIhPT1lLnR5cGUmJiJhZGQiIT09ZS50eXBlfHxvKGUub2JqZWN0LHIpLGkucHVzaCh7bmFtZTplLm5hbWUsb2JqZWN0OmUub2JqZWN0LHR5cGU6ZS50eXBlLG9sZFZhbHVlOmUub2xkVmFsdWUsbmV3VmFsdWU6ZS5vYmplY3RbZS5uYW1lXSxrZXlwYXRoOnR9KSxmdW5jdGlvbiBlKHQscixuLG8scyl7byBpbnN0YW5jZW9mIE9iamVjdD9PYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKCFufHxuW2FdIT09b1thXSl7dmFyIHU9biYmdm9pZCAwIT09blthXT9uW2FdOnZvaWQgMCxjPXZvaWQgMD09PXU/ImFkZCI6InVwZGF0ZSIsZj1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6YyxvbGRWYWx1ZTp1LG5ld1ZhbHVlOm9bYV0sa2V5cGF0aDpmfSksZSh0LHIsdSxvW2FdLGYpfX0pOm4gaW5zdGFuY2VvZiBPYmplY3QmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHU9bnVsbD09PW8/InVwZGF0ZSI6ImRlbGV0ZSIsYz1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6dSxvbGRWYWx1ZTpuW2FdLG5ld1ZhbHVlOm8sa2V5cGF0aDpjfSksZSh0LHIsblthXSx2b2lkIDAsYyl9KX0oZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQoaSl9KX19KCl9LDE0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4saSl7cmV0dXJuIGUuY2FsbCh0LHIsbixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LDE1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sMTk2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuV2F0Y2hpbmdZb3U9dm9pZCAwO3ZhciBuLGk9cigxOTcpLG89KG49aSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59O3QuV2F0Y2hpbmdZb3U9by5kZWZhdWx0fSwxOTc6ZnVuY3Rpb24odCxyLG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89aShuKDQpKSxzPWkobig3KSk7bigxMjEpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeygwLG8uZGVmYXVsdCkodGhpcyxlKSx0aGlzLl93YXRjaGluZz17fSx0aGlzLl9vYnNlcnZlcnM9W119cmV0dXJuKDAscy5kZWZhdWx0KShlLFt7a2V5OiJ3YXRjaCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5fd2F0Y2hpbmdbZV09bj9PYmplY3QuZGVlcE9ic2VydmUodCxmdW5jdGlvbih0KXt0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3IuX2ZpcmVFdmVudChlLHQpfSl9KTpPYmplY3Qub2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pLHRoaXMuX3dhdGNoaW5nW2VdfX0se2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vYnNlcnZlcnMucHVzaCh7a2V5OmUsY2FsbGJhY2s6dH0pfX0se2tleToiX2ZpcmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vYnNlcnZlcnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2sodCl9KX19XSksZX0oKTtyLmRlZmF1bHQ9YSx0LmV4cG9ydHM9ci5kZWZhdWx0fSwyMjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sMjQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsaTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sMjY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksaT1yKDEpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSwzOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoMTIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sMzg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcigzKSYmIXIoMTIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyKDI2KSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDQ6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSw1OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEpLGk9cigwKSxvPXIoMTQpLHM9cigxMCksYT0icHJvdG90eXBlIix1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxmLGwsZD1lJnUuRixwPWUmdS5HLHk9ZSZ1LlMsaD1lJnUuUCx2PWUmdS5CLGc9ZSZ1LlcsYj1wP2k6aVt0XXx8KGlbdF09e30pLG09YlthXSxfPXA/bjp5P25bdF06KG5bdF18fHt9KVthXTtwJiYocj10KTtmb3IoYyBpbiByKShmPSFkJiZfJiZ2b2lkIDAhPT1fW2NdKSYmYyBpbiBifHwobD1mP19bY106cltjXSxiW2NdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106diYmZj9vKGwsbik6ZyYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFthXT1lW2FdLHR9KGwpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP28oRnVuY3Rpb24uY2FsbCxsKTpsLGgmJigoYi52aXJ0dWFsfHwoYi52aXJ0dWFsPXt9KSlbY109bCxlJnUuUiYmbSYmIW1bY10mJnMobSxjLGwpKSl9O3UuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LDU1OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig2MCksX19lc01vZHVsZTohMH19LDY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sNjA6ZnVuY3Rpb24oZSx0LHIpe3IoNjEpO3ZhciBuPXIoMCkuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0sNjE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNSk7bihuLlMrbi5GKiFyKDMpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDgpLmZ9KX0sNzpmdW5jdGlvbih0LHIsbil7InVzZSBzdHJpY3QiO3IuX19lc01vZHVsZT0hMDt2YXIgaSxvPW4oNTUpLHM9KGk9bykmJmkuX19lc01vZHVsZT9pOntkZWZhdWx0Oml9O3IuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLHMuZGVmYXVsdCkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LDg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksaT1yKDM4KSxvPXIoMjQpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yKDMpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSw5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fX0pfSl9LC8qIDIwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBbGxvd092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxBbGxvd092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShBbGxvd092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXphdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpemVzIGEgcG9zaXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoITApfHwtMT09PWUuaW5kZXhPZighMSkmJiJOb3QgQXBwbGljYWJsZSJ9fV0pLEFsbG93T3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCbG9ja092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxCbG9ja092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShCbG9ja092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXNhdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpc2VzIGEgbmVnYXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoITEpJiYoLTEhPT1lLmluZGV4T2YoITApfHwiTm90IEFwcGxpY2FibGUiKX19XSksQmxvY2tPdmVycmlkZXN9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMjA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZpcnN0QXBwbGljYWJsZSgpeygwLGkuZGVmYXVsdCkodGhpcyxGaXJzdEFwcGxpY2FibGUpfXJldHVybigwLHMuZGVmYXVsdCkoRmlyc3RBcHBsaWNhYmxlLFt7a2V5OiJjb21iaW5lIiwvKioKICAgICogR2l2ZW4gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbCBhdXRob3Jpc2F0aW9uIGRlY2lzaW9ucywgcmV0dXJucyB0aGUgZmlyc3Qgb25lIGRpZmZlcmVudCBmcm9tICdOb3QgQXBwbGljYWJsZScsIGVpdGhlciBwb3NpdGl2ZSBvciBuZWdhdGl2ZS4KICAgICogQHBhcmFtICAgIHtib29sZWFuW119ICAgICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoIk5vdCBBcHBsaWNhYmxlIiE9PWVbdF0pcmV0dXJuIGVbdF07cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn19XSksRmlyc3RBcHBsaWNhYmxlfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTAwKSxfX2VzTW9kdWxlOiEwfX0sLyogMjEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig1MDcpLF9fZXNNb2R1bGU6ITB9fSwvKiAyMTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlN5blN1YnNjcmlwdGlvbiIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIsbixvKXsoMCxpLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uKTt2YXIgcz10aGlzLGE9cisiL2NoaWxkcmVuLyIsdT1yKyIvY2hhbmdlcyI7Ci8vcHJvY2VzcyBkZWxldGUgbWVzc2FnZQpzLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pOwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gYWxsIHN1YnNjcmliZXJzCnZhciBpPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTsKLy9zZW5kIGRlbGV0ZSB0byBoeXBlcnR5CmUucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtjLmxvZygiU3Vic2NyaXB0aW9uLURFTEVURS1SRVBMWTogIixlKSwyMDA9PT1lLmJvZHkuY29kZSYmcy5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSksCi8vYWRkIGNoYW5nZSBwdWJsaXNoIGFkZHJlc3Mgb3IgZm9yd2FyZApzLl9jaGFuZ2VMaXN0ZW5lcj1vP2UuYWRkUHVibGlzaCh1KTplLmFkZEZvcndhcmQodSx0KSxzLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLmxvZygiW1N1YnNjcmlwdGlvbl0gLSBjaGlsZElEIixuKSxuLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49YStyO2MubG9nKCJbU3Vic2NyaXB0aW9uXSAtIGNoaWxkSUQiLGEsbixyKTsKLy9hZGQgY2hpbGRyZW4gcHVibGlzaCBhZGRyZXNzCnZhciBpPWUuYWRkUHVibGlzaChuKTsKLy9hZGQgc2VsZiBmb3J3YXJkIGlmIGFuIG9ic2VydmVyCmlmKHMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSksIW8pe3ZhciB1PWUuYWRkRm9yd2FyZChuLHQpO3MuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2godSl9fSl9cmV0dXJuKDAscy5kZWZhdWx0KShTdWJzY3JpcHRpb24sW3trZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fZGVsZXRlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAyMTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMjEzKSxlLmV4cG9ydHM9cig0MTUpfSwvKiAyMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGRlZmluZShlLHIsbil7ZVtyXXx8T2JqZWN0W3RdKGUscix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOm59KX1pZihyKDIxNCkscig0MTEpLHIoNDEyKSxlLl9iYWJlbFBvbHlmaWxsKXRocm93IG5ldyBFcnJvcigib25seSBvbmUgaW5zdGFuY2Ugb2YgYmFiZWwtcG9seWZpbGwgaXMgYWxsb3dlZCIpO2UuX2JhYmVsUG9seWZpbGw9ITA7dmFyIHQ9ImRlZmluZVByb3BlcnR5IjtkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwicGFkTGVmdCIsIiIucGFkU3RhcnQpLGRlZmluZShTdHJpbmcucHJvdG90eXBlLCJwYWRSaWdodCIsIiIucGFkRW5kKSwicG9wLHJldmVyc2Usc2hpZnQsa2V5cyx2YWx1ZXMsZW50cmllcyxpbmRleE9mLGV2ZXJ5LHNvbWUsZm9yRWFjaCxtYXAsZmlsdGVyLGZpbmQsZmluZEluZGV4LGluY2x1ZGVzLGpvaW4sc2xpY2UsY29uY2F0LHB1c2gsc3BsaWNlLHVuc2hpZnQsc29ydCxsYXN0SW5kZXhPZixyZWR1Y2UscmVkdWNlUmlnaHQsY29weVdpdGhpbixmaWxsIi5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7W11bZV0mJmRlZmluZShBcnJheSxlLEZ1bmN0aW9uLmNhbGwuYmluZChbXVtlXSkpfSl9KS5jYWxsKHQscigxNDcpKX0sLyogMjE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDIxNSkscigyMTcpLHIoMjE4KSxyKDIxOSkscigyMjApLHIoMjIxKSxyKDIyMikscigyMjMpLHIoMjI0KSxyKDIyNSkscigyMjYpLHIoMjI3KSxyKDIyOCkscigyMjkpLHIoMjMwKSxyKDIzMSkscigyMzMpLHIoMjM0KSxyKDIzNSkscigyMzYpLHIoMjM3KSxyKDIzOCkscigyMzkpLHIoMjQwKSxyKDI0MSkscigyNDIpLHIoMjQzKSxyKDI0NCkscigyNDUpLHIoMjQ2KSxyKDI0NykscigyNDgpLHIoMjQ5KSxyKDI1MCkscigyNTEpLHIoMjUyKSxyKDI1MykscigyNTQpLHIoMjU1KSxyKDI1NikscigyNTcpLHIoMjU4KSxyKDI1OSkscigyNjApLHIoMjYxKSxyKDI2MikscigyNjMpLHIoMjY0KSxyKDI2NSkscigyNjYpLHIoMjY3KSxyKDI2OCkscigyNjkpLHIoMjcwKSxyKDI3MSkscigyNzIpLHIoMjczKSxyKDI3NCkscigyNzUpLHIoMjc2KSxyKDI3NykscigyNzgpLHIoMjc5KSxyKDI4MCkscigyODEpLHIoMjgyKSxyKDI4MykscigyODQpLHIoMjg1KSxyKDI4NikscigyODcpLHIoMjg4KSxyKDI4OSkscigyOTApLHIoMjkxKSxyKDI5MikscigyOTMpLHIoMjk1KSxyKDI5NikscigyOTgpLHIoMjk5KSxyKDMwMCkscigzMDEpLHIoMzAyKSxyKDMwMykscigzMDQpLHIoMzA2KSxyKDMwNykscigzMDgpLHIoMzA5KSxyKDMxMCkscigzMTEpLHIoMzEyKSxyKDMxMykscigzMTQpLHIoMzE1KSxyKDMxNikscigzMTcpLHIoMzE4KSxyKDEyMikscigzMTkpLHIoMzIwKSxyKDE2NikscigzMjEpLHIoMzIyKSxyKDMyMykscigzMjQpLHIoMzI1KSxyKDE2OSkscigxNzEpLHIoMTcyKSxyKDMyNikscigzMjcpLHIoMzI4KSxyKDMyOSkscigzMzApLHIoMzMxKSxyKDMzMikscigzMzMpLHIoMzM0KSxyKDMzNSkscigzMzYpLHIoMzM3KSxyKDMzOCkscigzMzkpLHIoMzQwKSxyKDM0MSkscigzNDIpLHIoMzQzKSxyKDM0NCkscigzNDUpLHIoMzQ2KSxyKDM0NykscigzNDgpLHIoMzQ5KSxyKDM1MCkscigzNTEpLHIoMzUyKSxyKDM1MykscigzNTQpLHIoMzU1KSxyKDM1NikscigzNTcpLHIoMzU4KSxyKDM1OSkscigzNjApLHIoMzYxKSxyKDM2MikscigzNjMpLHIoMzY0KSxyKDM2NSkscigzNjYpLHIoMzY3KSxyKDM2OCkscigzNjkpLHIoMzcwKSxyKDM3MSkscigzNzIpLHIoMzczKSxyKDM3NCkscigzNzUpLHIoMzc2KSxyKDM3NykscigzNzgpLHIoMzc5KSxyKDM4MCkscigzODEpLHIoMzgyKSxyKDM4MykscigzODQpLHIoMzg1KSxyKDM4NikscigzODcpLHIoMzg4KSxyKDM4OSkscigzOTApLHIoMzkxKSxyKDM5MikscigzOTMpLHIoMzk0KSxyKDM5NSkscigzOTYpLHIoMzk3KSxyKDM5OCkscigzOTkpLHIoNDAwKSxyKDQwMSkscig0MDIpLHIoNDAzKSxyKDQwNCkscig0MDUpLHIoNDA2KSxyKDQwNykscig0MDgpLHIoNDA5KSxyKDQxMCksZS5leHBvcnRzPXIoMzApfSwvKiAyMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbQp2YXIgbj1yKDQpLGk9cigxNyksbz1yKDEwKSxzPXIoMCksYT1yKDE5KSx1PXIoNDIpLktFWSxjPXIoNSksZj1yKDc4KSxsPXIoNjEpLGQ9cig0OCkscD1yKDgpLHk9cigxNDkpLGg9cigxMDIpLHY9cigyMTYpLGc9cig4MSksYj1yKDMpLG09cig2KSxfPXIoMjQpLFI9cigzMSksdz1yKDQ3KSxTPXIoNTIpLFA9cigxNTIpLE89cigyNSksTT1yKDExKSxrPXIoNTApLEw9Ty5mLHg9TS5mLEU9UC5mLEE9bi5TeW1ib2wsVT1uLkpTT04sRD1VJiZVLnN0cmluZ2lmeSxJPXAoIl9oaWRkZW4iKSxqPXAoInRvUHJpbWl0aXZlIiksVD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxDPWYoInN5bWJvbC1yZWdpc3RyeSIpLEY9Zigic3ltYm9scyIpLE49Zigib3Atc3ltYm9scyIpLHE9T2JqZWN0LnByb3RvdHlwZSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBBLEI9bi5RT2JqZWN0LEs9IUJ8fCFCLnByb3RvdHlwZXx8IUIucHJvdG90eXBlLmZpbmRDaGlsZCxHPW8mJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9Uyh4KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHgodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUwocSx0KTtuJiZkZWxldGUgcVt0XSx4KGUsdCxyKSxuJiZlIT09cSYmeChxLHQsbil9OngsVj1mdW5jdGlvbihlKXt2YXIgdD1GW2VdPVMoQS5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sVz1IJiYic3ltYm9sIj09dHlwZW9mIEEuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEF9LFk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09cSYmWShOLHQsciksYihlKSx0PVIodCwhMCksYihyKSxpKEYsdCk/KHIuZW51bWVyYWJsZT8oaShlLEkpJiZlW0ldW3RdJiYoZVtJXVt0XT0hMSkscj1TKHIse2VudW1lcmFibGU6dygwLCExKX0pKTooaShlLEkpfHx4KGUsSSx3KDEse30pKSxlW0ldW3RdPSEwKSxHKGUsdCxyKSk6eChlLHQscil9LHo9ZnVuY3Rpb24oZSx0KXtiKGUpO2Zvcih2YXIgcixuPXYodD1fKHQpKSxpPTAsbz1uLmxlbmd0aDtvPmk7KVkoZSxyPW5baSsrXSx0W3JdKTtyZXR1cm4gZX0sSj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P1MoZSk6eihTKGUpLHQpfSwkPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGU9UihlLCEwKSk7cmV0dXJuISh0aGlzPT09cSYmaShGLGUpJiYhaShOLGUpKSYmKCEodHx8IWkodGhpcyxlKXx8IWkoRixlKXx8aSh0aGlzLEkpJiZ0aGlzW0ldW2VdKXx8dCl9LFE9ZnVuY3Rpb24oZSx0KXtpZihlPV8oZSksdD1SKHQsITApLGUhPT1xfHwhaShGLHQpfHxpKE4sdCkpe3ZhciByPUwoZSx0KTtyZXR1cm4hcnx8IWkoRix0KXx8aShlLEkpJiZlW0ldW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sWD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1FKF8oZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoRix0PXJbbysrXSl8fHQ9PUl8fHQ9PXV8fG4ucHVzaCh0KTtyZXR1cm4gbn0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09cSxuPUUocj9OOl8oZSkpLG89W10scz0wO24ubGVuZ3RoPnM7KSFpKEYsdD1uW3MrK10pfHxyJiYhaShxLHQpfHxvLnB1c2goRlt0XSk7cmV0dXJuIG99OwovLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSkKSHx8KEE9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgQSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1xJiZ0LmNhbGwoTixyKSxpKHRoaXMsSSkmJmkodGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEcodGhpcyxlLHcoMSxyKSl9O3JldHVybiBvJiZLJiZHKHEsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShBLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxNLmY9WSxyKDUzKS5mPVAuZj1YLHIoNzEpLmY9JCxyKDgwKS5mPVosbyYmIXIoNDkpJiZhKHEsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwkLCEwKSx5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFYocChlKSl9KSxzKHMuRytzLlcrcy5GKiFILHtTeW1ib2w6QX0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOylwKGVlW3RlKytdKTtmb3IodmFyIHJlPWsocC5zdG9yZSksbmU9MDtyZS5sZW5ndGg+bmU7KWgocmVbbmUrK10pO3Mocy5TK3MuRiohSCwiU3ltYm9sIix7Ci8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KQpmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoQyxlKz0iIik/Q1tlXTpDW2VdPUEoZSl9LAovLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSkKa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBDKWlmKENbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtLPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtLPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Ci8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKY3JlYXRlOkosCi8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpkZWZpbmVQcm9wZXJ0eTpZLAovLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpkZWZpbmVQcm9wZXJ0aWVzOnosCi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkKZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlEsCi8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCmdldE93blByb3BlcnR5TmFtZXM6WCwKLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKQpnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Wn0pLAovLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSkKVSYmcyhzLlMrcy5GKighSHx8YyhmdW5jdGlvbigpe3ZhciBlPUEoKTsKLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge30KLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsCi8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzCnJldHVybiJbbnVsbF0iIT1EKFtlXSl8fCJ7fSIhPUQoe2E6ZX0pfHwie30iIT1EKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bZV0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspbi5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPXQ9blsxXSwobSh0KXx8dm9pZCAwIT09ZSkmJiFXKGUpKS8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWQKcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LEQuYXBwbHkoVSxuKX19KSwKLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KQpBLnByb3RvdHlwZVtqXXx8cigxOCkoQS5wcm90b3R5cGUsaixBLnByb3RvdHlwZS52YWx1ZU9mKSwKLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXQpsKEEsIlN5bWJvbCIpLAovLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddCmwoTWF0aCwiTWF0aCIsITApLAovLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXQpsKG4uSlNPTiwiSlNPTiIsITApfSwvKiAyMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9scwp2YXIgbj1yKDUwKSxpPXIoODApLG89cig3MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1pLmY7aWYocilmb3IodmFyIHMsYT1yKGUpLHU9by5mLGM9MDthLmxlbmd0aD5jOyl1LmNhbGwoZSxzPWFbYysrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LC8qIDIxNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCm4obi5TLCJPYmplY3QiLHtjcmVhdGU6cig1Mil9KX0sLyogMjE4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApOwovLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpuKG4uUytuLkYqIXIoMTApLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDExKS5mfSl9LC8qIDIxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjMgLyAxNS4yLjMuNyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpuKG4uUytuLkYqIXIoMTApLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0aWVzOnIoMTUxKX0pfSwvKiAyMjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApCnZhciBuPXIoMjQpLGk9cigyNSkuZjtyKDM0KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKG4oZSksdCl9fSl9LC8qIDIyMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKQp2YXIgbj1yKDE1KSxpPXIoMjYpO3IoMzQpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkobihlKSl9fSl9LC8qIDIyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKQp2YXIgbj1yKDE1KSxpPXIoNTApO3IoMzQpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogMjIzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKcigzNCkoImdldE93blByb3BlcnR5TmFtZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIHIoMTUyKS5mfSl9LC8qIDIyNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi41IE9iamVjdC5mcmVlemUoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJmcmVlemUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNyBPYmplY3Quc2VhbChPKQp2YXIgbj1yKDYpLGk9cig0Mikub25GcmVlemU7cigzNCkoInNlYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJwcmV2ZW50RXh0ZW5zaW9ucyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2UoaSh0KSk6dH19KX0sLyogMjI3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0Zyb3plbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiFuKHQpfHwhIWUmJmUodCl9fSl9LC8qIDIyOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xMyBPYmplY3QuaXNTZWFsZWQoTykKdmFyIG49cig2KTtyKDM0KSgiaXNTZWFsZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSwvKiAyMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuMTEgT2JqZWN0LmlzRXh0ZW5zaWJsZShPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0V4dGVuc2libGUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIW4odCkmJighZXx8ZSh0KSl9fSl9LC8qIDIzMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpCnZhciBuPXIoMCk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigxNTMpfSl9LC8qIDIzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xMCBPYmplY3QuaXModmFsdWUxLCB2YWx1ZTIpCnZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse2lzOnIoMjMyKX0pfSwvKiAyMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjkgU2FtZVZhbHVlKHgsIHkpCmUuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT1lJiZ0IT10fX0sLyogMjMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bykKdmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cigxMDYpLnNldH0pfSwvKiAyMzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCnZhciBuPXIoNzIpLGk9e307aVtyKDgpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsaSsiIiE9IltvYmplY3Qgel0iJiZyKDE5KShPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK24odGhpcykrIl0ifSwhMCl9LC8qIDIzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjIuMy4yIC8gMTUuMy40LjUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQodGhpc0FyZywgYXJncy4uLikKdmFyIG49cigwKTtuKG4uUCwiRnVuY3Rpb24iLHtiaW5kOnIoMTU0KX0pfSwvKiAyMzYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLmYsaT1GdW5jdGlvbi5wcm90b3R5cGUsbz0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLzsKLy8gMTkuMi40LjIgbmFtZQoibmFtZSJpbiBpfHxyKDEwKSYmbihpLCJuYW1lIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4oIiIrdGhpcykubWF0Y2gobylbMV19Y2F0Y2goZSl7cmV0dXJuIiJ9fX0pfSwvKiAyMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYpLGk9cigyNiksbz1yKDgpKCJoYXNJbnN0YW5jZSIpLHM9RnVuY3Rpb24ucHJvdG90eXBlOwovLyAxOS4yLjMuNiBGdW5jdGlvbi5wcm90b3R5cGVbQEBoYXNJbnN0YW5jZV0oVikKbyBpbiBzfHxyKDExKS5mKHMsbyx7dmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXN8fCFuKGUpKXJldHVybiExO2lmKCFuKHRoaXMucHJvdG90eXBlKSlyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM7Ci8vIGZvciBlbnZpcm9ubWVudCB3L28gbmF0aXZlIGBAQGhhc0luc3RhbmNlYCBsb2dpYyBlbm91Z2ggYGluc3RhbmNlb2ZgLCBidXQgYWRkIHRoaXM6CmZvcig7ZT1pKGUpOylpZih0aGlzLnByb3RvdHlwZT09PWUpcmV0dXJuITA7cmV0dXJuITF9fSl9LC8qIDIzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMTguMi41IHBhcnNlSW50KHN0cmluZywgcmFkaXgpCm4obi5HK24uRioocGFyc2VJbnQhPWkpLHtwYXJzZUludDppfSl9LC8qIDIzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU3KTsKLy8gMTguMi40IHBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uRytuLkYqKHBhcnNlRmxvYXQhPWkpLHtwYXJzZUZsb2F0Oml9KX0sLyogMjQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0KSxpPXIoMTcpLG89cigyOCkscz1yKDEwOCksYT1yKDMxKSx1PXIoNSksYz1yKDUzKS5mLGY9cigyNSkuZixsPXIoMTEpLmYsZD1yKDYyKS50cmltLHA9bi5OdW1iZXIseT1wLGg9cC5wcm90b3R5cGUsdj0iTnVtYmVyIj09byhyKDUyKShoKSksZz0idHJpbSJpbiBTdHJpbmcucHJvdG90eXBlLGI9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLCExKTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQubGVuZ3RoPjIpe3Q9Zz90LnRyaW0oKTpkKHQsMyk7dmFyIHIsbixpLG89dC5jaGFyQ29kZUF0KDApO2lmKDQzPT09b3x8NDU9PT1vKXtpZig4OD09PShyPXQuY2hhckNvZGVBdCgyKSl8fDEyMD09PXIpcmV0dXJuIE5hTn1lbHNlIGlmKDQ4PT09byl7c3dpdGNoKHQuY2hhckNvZGVBdCgxKSl7Y2FzZSA2NjpjYXNlIDk4Om49MixpPTQ5O2JyZWFrOy8vIGZhc3QgZXF1YWwgL14wYlswMV0rJC9pCmNhc2UgNzk6Y2FzZSAxMTE6bj04LGk9NTU7YnJlYWs7Ly8gZmFzdCBlcXVhbCAvXjBvWzAtN10rJC9pCmRlZmF1bHQ6cmV0dXJuK3R9Zm9yKHZhciBzLHU9dC5zbGljZSgyKSxjPTAsZj11Lmxlbmd0aDtjPGY7YysrKQovLyBwYXJzZUludCBwYXJzZXMgYSBzdHJpbmcgdG8gYSBmaXJzdCB1bmF2YWlsYWJsZSBzeW1ib2wKLy8gYnV0IFRvTnVtYmVyIHNob3VsZCByZXR1cm4gTmFOIGlmIGEgc3RyaW5nIGNvbnRhaW5zIHVuYXZhaWxhYmxlIHN5bWJvbHMKaWYoKHM9dS5jaGFyQ29kZUF0KGMpKTw0OHx8cz5pKXJldHVybiBOYU47cmV0dXJuIHBhcnNlSW50KHUsbil9fXJldHVybit0fTtpZighcCgiIDBvMSIpfHwhcCgiMGIxIil8fHAoIisweDEiKSl7cD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPDE/MDplLHI9dGhpcztyZXR1cm4gciBpbnN0YW5jZW9mIHAmJih2P3UoZnVuY3Rpb24oKXtoLnZhbHVlT2YuY2FsbChyKX0pOiJOdW1iZXIiIT1vKHIpKT9zKG5ldyB5KGIodCkpLHIscCk6Yih0KX07Zm9yKHZhciBtLF89cigxMCk/Yyh5KToiTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIscGFyc2VGbG9hdCxwYXJzZUludCxpc0ludGVnZXIiLnNwbGl0KCIsIiksUj0wO18ubGVuZ3RoPlI7UisrKWkoeSxtPV9bUl0pJiYhaShwLG0pJiZsKHAsbSxmKHksbSkpO3AucHJvdG90eXBlPWgsaC5jb25zdHJ1Y3Rvcj1wLHIoMTkpKG4sIk51bWJlciIscCl9fSwvKiAyNDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzMyksbz1yKDE1OCkscz1yKDEwOSksYT0xLi50b0ZpeGVkLHU9TWF0aC5mbG9vcixjPVswLDAsMCwwLDAsMF0sZj0iTnVtYmVyLnRvRml4ZWQ6IGluY29ycmVjdCBpbnZvY2F0aW9uISIsbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPXQ7KytyPDY7KW4rPWUqY1tyXSxjW3JdPW4lMWU3LG49dShuLzFlNyl9LGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTYscj0wOy0tdD49MDspcis9Y1t0XSxjW3RdPXUoci9lKSxyPXIlZSoxZTd9LHA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Nix0PSIiOy0tZT49MDspaWYoIiIhPT10fHwwPT09ZXx8MCE9PWNbZV0pe3ZhciByPVN0cmluZyhjW2VdKTt0PSIiPT09dD9yOnQrcy5jYWxsKCIwIiw3LXIubGVuZ3RoKStyfXJldHVybiB0fSx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMD09PXQ/cjp0JTI9PTE/eShlLHQtMSxyKmUpOnkoZSplLHQvMixyKX0saD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPWU7cj49NDA5NjspdCs9MTIsci89NDA5Njtmb3IoO3I+PTI7KXQrPTEsci89MjtyZXR1cm4gdH07bihuLlArbi5GKighIWEmJigiMC4wMDAiIT09OGUtNS50b0ZpeGVkKDMpfHwiMSIhPT0uOS50b0ZpeGVkKDApfHwiMS4yNSIhPT0xLjI1NS50b0ZpeGVkKDIpfHwiMTAwMDAwMDAwMDAwMDAwMDEyOCIhPT0oMHhkZTBiNmIzYTc2NDAwODApLnRvRml4ZWQoMCkpfHwhcig1KShmdW5jdGlvbigpewovLyBWOCB+IEFuZHJvaWQgNC4zLQphLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b0ZpeGVkOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHU9byh0aGlzLGYpLGM9aShlKSx2PSIiLGc9IjAiO2lmKGM8MHx8Yz4yMCl0aHJvdyBSYW5nZUVycm9yKGYpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKHUhPXUpcmV0dXJuIk5hTiI7aWYodTw9LTFlMjF8fHU+PTFlMjEpcmV0dXJuIFN0cmluZyh1KTtpZih1PDAmJih2PSItIix1PS11KSx1PjFlLTIxKWlmKHQ9aCh1KnkoMiw2OSwxKSktNjkscj10PDA/dSp5KDIsLXQsMSk6dS95KDIsdCwxKSxyKj00NTAzNTk5NjI3MzcwNDk2LCh0PTUyLXQpPjApe2ZvcihsKDAsciksbj1jO24+PTc7KWwoMWU3LDApLG4tPTc7Zm9yKGwoeSgxMCxuLDEpLDApLG49dC0xO24+PTIzOylkKDE8PDIzKSxuLT0yMztkKDE8PG4pLGwoMSwxKSxkKDIpLGc9cCgpfWVsc2UgbCgwLHIpLGwoMTw8LXQsMCksZz1wKCkrcy5jYWxsKCIwIixjKTtyZXR1cm4gYz4wPyhhPWcubGVuZ3RoLGc9disoYTw9Yz8iMC4iK3MuY2FsbCgiMCIsYy1hKStnOmcuc2xpY2UoMCxhLWMpKyIuIitnLnNsaWNlKGEtYykpKTpnPXYrZyxnfX0pfSwvKiAyNDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cig1KSxvPXIoMTU4KSxzPTEuLnRvUHJlY2lzaW9uO24obi5QK24uRiooaShmdW5jdGlvbigpewovLyBJRTctCnJldHVybiIxIiE9PXMuY2FsbCgxLHZvaWQgMCl9KXx8IWkoZnVuY3Rpb24oKXsKLy8gVjggfiBBbmRyb2lkIDQuMy0Kcy5jYWxsKHt9KX0pKSwiTnVtYmVyIix7dG9QcmVjaXNpb246ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzLCJOdW1iZXIjdG9QcmVjaXNpb246IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiB2b2lkIDA9PT1lP3MuY2FsbCh0KTpzLmNhbGwodCxlKX19KX0sLyogMjQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEgTnVtYmVyLkVQU0lMT04KdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7RVBTSUxPTjpNYXRoLnBvdygyLC01Mil9KX0sLyogMjQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjIgTnVtYmVyLmlzRmluaXRlKG51bWJlcikKdmFyIG49cigwKSxpPXIoNCkuaXNGaW5pdGU7bihuLlMsIk51bWJlciIse2lzRmluaXRlOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmaShlKX19KX0sLyogMjQ1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDE1OSl9KX0sLyogMjQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjQgTnVtYmVyLmlzTmFOKG51bWJlcikKdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7aXNOYU46ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGUhPWV9fSl9LC8qIDI0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjEuMi41IE51bWJlci5pc1NhZmVJbnRlZ2VyKG51bWJlcikKdmFyIG49cigwKSxpPXIoMTU5KSxvPU1hdGguYWJzO24obi5TLCJOdW1iZXIiLHtpc1NhZmVJbnRlZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiZvKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pfSwvKiAyNDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4xLjIuNiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUgp2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtNQVhfU0FGRV9JTlRFR0VSOjkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjQ5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse01JTl9TQUZFX0lOVEVHRVI6LTkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxNTcpOwovLyAyMC4xLjIuMTIgTnVtYmVyLnBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUZsb2F0IT1pKSwiTnVtYmVyIix7cGFyc2VGbG9hdDppfSl9LC8qIDI1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMjAuMS4yLjEzIE51bWJlci5wYXJzZUludChzdHJpbmcsIHJhZGl4KQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUludCE9aSksIk51bWJlciIse3BhcnNlSW50Oml9KX0sLyogMjUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjMgTWF0aC5hY29zaCh4KQp2YXIgbj1yKDApLGk9cigxNjApLG89TWF0aC5zcXJ0LHM9TWF0aC5hY29zaDtuKG4uUytuLkYqIShzJiY3MTA9PU1hdGguZmxvb3IocyhOdW1iZXIuTUFYX1ZBTFVFKSkmJnMoMS8wKT09MS8wKSwiTWF0aCIse2Fjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihlPStlKTwxP05hTjplPjk0OTA2MjY1LjYyNDI1MTU2P01hdGgubG9nKGUpK01hdGguTE4yOmkoZS0xK28oZS0xKSpvKGUrMSkpfX0pfSwvKiAyNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGFzaW5oKGUpe3JldHVybiBpc0Zpbml0ZShlPStlKSYmMCE9ZT9lPDA/LWFzaW5oKC1lKTpNYXRoLmxvZyhlK01hdGguc3FydChlKmUrMSkpOmV9Ci8vIDIwLjIuMi41IE1hdGguYXNpbmgoeCkKdmFyIG49cigwKSxpPU1hdGguYXNpbmg7Ci8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hc2luaCgwKSAtPiAtMApuKG4uUytuLkYqIShpJiYxL2koMCk+MCksIk1hdGgiLHthc2luaDphc2luaH0pfSwvKiAyNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuNyBNYXRoLmF0YW5oKHgpCnZhciBuPXIoMCksaT1NYXRoLmF0YW5oOwovLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYXRhbmgoLTApIC0+IDAKbihuLlMrbi5GKiEoaSYmMS9pKC0wKTwwKSwiTWF0aCIse2F0YW5oOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSk/ZTpNYXRoLmxvZygoMStlKS8oMS1lKSkvMn19KX0sLyogMjU1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjkgTWF0aC5jYnJ0KHgpCnZhciBuPXIoMCksaT1yKDExMCk7bihuLlMsIk1hdGgiLHtjYnJ0OmZ1bmN0aW9uKGUpe3JldHVybiBpKGU9K2UpKk1hdGgucG93KE1hdGguYWJzKGUpLDEvMyl9fSl9LC8qIDI1NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xMSBNYXRoLmNsejMyKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbHozMjpmdW5jdGlvbihlKXtyZXR1cm4oZT4+Pj0wKT8zMS1NYXRoLmZsb29yKE1hdGgubG9nKGUrLjUpKk1hdGguTE9HMkUpOjMyfX0pfSwvKiAyNTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMTIgTWF0aC5jb3NoKHgpCnZhciBuPXIoMCksaT1NYXRoLmV4cDtuKG4uUywiTWF0aCIse2Nvc2g6ZnVuY3Rpb24oZSl7cmV0dXJuKGkoZT0rZSkraSgtZSkpLzJ9fSl9LC8qIDI1OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciBuPXIoMCksaT1yKDExMSk7bihuLlMrbi5GKihpIT1NYXRoLmV4cG0xKSwiTWF0aCIse2V4cG0xOml9KX0sLyogMjU5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE2IE1hdGguZnJvdW5kKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtmcm91bmQ6cigxNjEpfSl9LC8qIDI2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNyBNYXRoLmh5cG90KFt2YWx1ZTFbLCB2YWx1ZTJbLCDigKYgXV1dKQp2YXIgbj1yKDApLGk9TWF0aC5hYnM7bihuLlMsIk1hdGgiLHtoeXBvdDpmdW5jdGlvbihlLHQpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciByLG4sbz0wLHM9MCxhPWFyZ3VtZW50cy5sZW5ndGgsdT0wO3M8YTspcj1pKGFyZ3VtZW50c1tzKytdKSx1PHI/KG49dS9yLG89bypuKm4rMSx1PXIpOnI+MD8obj1yL3Usbys9bipuKTpvKz1yO3JldHVybiB1PT09MS8wPzEvMDp1Kk1hdGguc3FydChvKX19KX0sLyogMjYxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE4IE1hdGguaW11bCh4LCB5KQp2YXIgbj1yKDApLGk9TWF0aC5pbXVsOwovLyBzb21lIFdlYktpdCB2ZXJzaW9ucyBmYWlscyB3aXRoIGJpZyBudW1iZXJzLCBzb21lIGhhcyB3cm9uZyBhcml0eQpuKG4uUytuLkYqcig1KShmdW5jdGlvbigpe3JldHVybi01IT1pKDQyOTQ5NjcyOTUsNSl8fDIhPWkubGVuZ3RofSksIk1hdGgiLHtpbXVsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxpPTY1NTM1JnIsbz02NTUzNSZuO3JldHVybiAwfGkqbysoKDY1NTM1JnI+Pj4xNikqbytpKig2NTUzNSZuPj4+MTYpPDwxNj4+PjApfX0pfSwvKiAyNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMTA6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpKk1hdGguTE9HMTBFfX0pfSwvKiAyNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMXA6cigxNjApfSl9LC8qIDI2NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4yMiBNYXRoLmxvZzIoeCkKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2xvZzI6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfX0pfSwvKiAyNjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduOnIoMTEwKX0pfSwvKiAyNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzAgTWF0aC5zaW5oKHgpCnZhciBuPXIoMCksaT1yKDExMSksbz1NYXRoLmV4cDsKLy8gVjggbmVhciBDaHJvbWl1bSAzOCBoYXMgYSBwcm9ibGVtIHdpdGggdmVyeSBzbWFsbCBudW1iZXJzCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuLTJlLTE3IT0hTWF0aC5zaW5oKC0yZS0xNyl9KSwiTWF0aCIse3Npbmg6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU9K2UpPDE/KGkoZSktaSgtZSkpLzI6KG8oZS0xKS1vKC1lLTEpKSooTWF0aC5FLzIpfX0pfSwvKiAyNjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzMgTWF0aC50YW5oKHgpCnZhciBuPXIoMCksaT1yKDExMSksbz1NYXRoLmV4cDtuKG4uUywiTWF0aCIse3Rhbmg6ZnVuY3Rpb24oZSl7dmFyIHQ9aShlPStlKSxyPWkoLWUpO3JldHVybiB0PT0xLzA/MTpyPT0xLzA/LTE6KHQtcikvKG8oZSkrbygtZSkpfX0pfSwvKiAyNjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzQgTWF0aC50cnVuYyh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dHJ1bmM6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+MD9NYXRoLmZsb29yOk1hdGguY2VpbCkoZSl9fSl9LC8qIDI2OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoNTEpLG89U3RyaW5nLmZyb21DaGFyQ29kZSxzPVN0cmluZy5mcm9tQ29kZVBvaW50OwovLyBsZW5ndGggc2hvdWxkIGJlIDEsIG9sZCBGRiBwcm9ibGVtCm4obi5TK24uRiooISFzJiYxIT1zLmxlbmd0aCksIlN0cmluZyIsewovLyAyMS4xLjIuMiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKQpmcm9tQ29kZVBvaW50OmZ1bmN0aW9uKGUpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciB0LHI9W10sbj1hcmd1bWVudHMubGVuZ3RoLHM9MDtuPnM7KXtpZih0PSthcmd1bWVudHNbcysrXSxpKHQsMTExNDExMSkhPT10KXRocm93IFJhbmdlRXJyb3IodCsiIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQiKTtyLnB1c2godDw2NTUzNj9vKHQpOm8oNTUyOTYrKCh0LT02NTUzNik+PjEwKSx0JTEwMjQrNTYzMjApKX1yZXR1cm4gci5qb2luKCIiKX19KX0sLyogMjcwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigyNCksbz1yKDEyKTtuKG4uUywiU3RyaW5nIix7Ci8vIDIxLjEuMi40IFN0cmluZy5yYXcoY2FsbFNpdGUsIC4uLnN1YnN0aXR1dGlvbnMpCnJhdzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9aShlLnJhdykscj1vKHQubGVuZ3RoKSxuPWFyZ3VtZW50cy5sZW5ndGgscz1bXSxhPTA7cj5hOylzLnB1c2goU3RyaW5nKHRbYSsrXSkpLGE8biYmcy5wdXNoKFN0cmluZyhhcmd1bWVudHNbYV0pKTtyZXR1cm4gcy5qb2luKCIiKX19KX0sLyogMjcxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy4yNSBTdHJpbmcucHJvdG90eXBlLnRyaW0oKQpyKDYyKSgidHJpbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywzKX19KX0sLyogMjcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMTIpKCEwKTsKLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKQpyKDExMykoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLC8vIHRhcmdldAp0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LC8qIDI3MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExMikoITEpO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjMgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdChwb3MpCmNvZGVQb2ludEF0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSl9fSl9LC8qIDI3NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuNiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKHNlYXJjaFN0cmluZyBbLCBlbmRQb3NpdGlvbl0pCnZhciBuPXIoMCksaT1yKDEyKSxvPXIoMTE1KSxzPSIiLmVuZHNXaXRoO24obi5QK24uRipyKDExNikoImVuZHNXaXRoIiksIlN0cmluZyIse2VuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyxlLCJlbmRzV2l0aCIpLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1pKHQubGVuZ3RoKSxhPXZvaWQgMD09PXI/bjpNYXRoLm1pbihpKHIpLG4pLHU9U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LHUsYSk6dC5zbGljZShhLXUubGVuZ3RoLGEpPT09dX19KX0sLyogMjc1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy43IFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApCnZhciBuPXIoMCksaT1yKDExNSk7bihuLlArbi5GKnIoMTE2KSgiaW5jbHVkZXMiKSwiU3RyaW5nIix7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+aSh0aGlzLGUsImluY2x1ZGVzIikuaW5kZXhPZihlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sLyogMjc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KQpyZXBlYXQ6cigxMDkpfSl9LC8qIDI3NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuMTggU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdKQp2YXIgbj1yKDApLGk9cigxMiksbz1yKDExNSkscz0iIi5zdGFydHNXaXRoO24obi5QK24uRipyKDExNikoInN0YXJ0c1dpdGgiKSwiU3RyaW5nIix7c3RhcnRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMsZSwic3RhcnRzV2l0aCIpLHI9aShNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCx0Lmxlbmd0aCkpLG49U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LG4scik6dC5zbGljZShyLHIrbi5sZW5ndGgpPT09bn19KX0sLyogMjc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjIgU3RyaW5nLnByb3RvdHlwZS5hbmNob3IobmFtZSkKcigyMCkoImFuY2hvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImEiLCJuYW1lIix0KX19KX0sLyogMjc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjMgU3RyaW5nLnByb3RvdHlwZS5iaWcoKQpyKDIwKSgiYmlnIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiaWciLCIiLCIiKX19KX0sLyogMjgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjQgU3RyaW5nLnByb3RvdHlwZS5ibGluaygpCnIoMjApKCJibGluayIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywiYmxpbmsiLCIiLCIiKX19KX0sLyogMjgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjUgU3RyaW5nLnByb3RvdHlwZS5ib2xkKCkKcigyMCkoImJvbGQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImIiLCIiLCIiKX19KX0sLyogMjgyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjYgU3RyaW5nLnByb3RvdHlwZS5maXhlZCgpCnIoMjApKCJmaXhlZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywidHQiLCIiLCIiKX19KX0sLyogMjgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjcgU3RyaW5nLnByb3RvdHlwZS5mb250Y29sb3IoY29sb3IpCnIoMjApKCJmb250Y29sb3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJmb250IiwiY29sb3IiLHQpfX0pfSwvKiAyODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuOCBTdHJpbmcucHJvdG90eXBlLmZvbnRzaXplKHNpemUpCnIoMjApKCJmb250c2l6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJzaXplIix0KX19KX0sLyogMjg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjkgU3RyaW5nLnByb3RvdHlwZS5pdGFsaWNzKCkKcigyMCkoIml0YWxpY3MiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImkiLCIiLCIiKX19KX0sLyogMjg2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEwIFN0cmluZy5wcm90b3R5cGUubGluayh1cmwpCnIoMjApKCJsaW5rIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiYSIsImhyZWYiLHQpfX0pfSwvKiAyODcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTEgU3RyaW5nLnByb3RvdHlwZS5zbWFsbCgpCnIoMjApKCJzbWFsbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic21hbGwiLCIiLCIiKX19KX0sLyogMjg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEyIFN0cmluZy5wcm90b3R5cGUuc3RyaWtlKCkKcigyMCkoInN0cmlrZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic3RyaWtlIiwiIiwiIil9fSl9LC8qIDI4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBCLjIuMy4xMyBTdHJpbmcucHJvdG90eXBlLnN1YigpCnIoMjApKCJzdWIiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1YiIsIiIsIiIpfX0pfSwvKiAyOTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTQgU3RyaW5nLnByb3RvdHlwZS5zdXAoKQpyKDIwKSgic3VwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdXAiLCIiLCIiKX19KX0sLyogMjkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy4zLjEgLyAxNS45LjQuNCBEYXRlLm5vdygpCnZhciBuPXIoMCk7bihuLlMsIkRhdGUiLHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KX0sLyogMjkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigzMSk7bihuLlArbi5GKnIoNSkoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW5ldyBEYXRlKE5hTikudG9KU09OKCl8fDEhPT1EYXRlLnByb3RvdHlwZS50b0pTT04uY2FsbCh7dG9JU09TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMX19KX0pLCJEYXRlIix7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwp0b0pTT046ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPW8odCk7cmV0dXJuIm51bWJlciIhPXR5cGVvZiByfHxpc0Zpbml0ZShyKT90LnRvSVNPU3RyaW5nKCk6bnVsbH19KX0sLyogMjkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy40LjM2IC8gMTUuOS41LjQzIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKCkKdmFyIG49cigwKSxpPXIoMjk0KTsKLy8gUGhhbnRvbUpTIC8gb2xkIFdlYktpdCBoYXMgYSBicm9rZW4gaW1wbGVtZW50YXRpb25zCm4obi5QK24uRiooRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmchPT1pKSwiRGF0ZSIse3RvSVNPU3RyaW5nOml9KX0sLyogMjk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIwLjMuNC4zNiAvIDE1LjkuNS40MyBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZygpCnZhciBuPXIoNSksaT1EYXRlLnByb3RvdHlwZS5nZXRUaW1lLG89RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcscz1mdW5jdGlvbihlKXtyZXR1cm4gZT45P2U6IjAiK2V9OwovLyBQaGFudG9tSlMgLyBvbGQgV2ViS2l0IGhhcyBhIGJyb2tlbiBpbXBsZW1lbnRhdGlvbnMKZS5leHBvcnRzPW4oZnVuY3Rpb24oKXtyZXR1cm4iMDM4NS0wNy0yNVQwNzowNjozOS45OTlaIiE9by5jYWxsKG5ldyBEYXRlKC01ZTEzLTEpKX0pfHwhbihmdW5jdGlvbigpe28uY2FsbChuZXcgRGF0ZShOYU4pKX0pP2Z1bmN0aW9uKCl7aWYoIWlzRmluaXRlKGkuY2FsbCh0aGlzKSkpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCB0aW1lIHZhbHVlIik7dmFyIGU9dGhpcyx0PWUuZ2V0VVRDRnVsbFllYXIoKSxyPWUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksbj10PDA/Ii0iOnQ+OTk5OT8iKyI6IiI7cmV0dXJuIG4rKCIwMDAwMCIrTWF0aC5hYnModCkpLnNsaWNlKG4/LTY6LTQpKyItIitzKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIrcyhlLmdldFVUQ0RhdGUoKSkrIlQiK3MoZS5nZXRVVENIb3VycygpKSsiOiIrcyhlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK3MoZS5nZXRVVENTZWNvbmRzKCkpKyIuIisocj45OT9yOiIwIitzKHIpKSsiWiJ9Om99LC8qIDI5NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49RGF0ZS5wcm90b3R5cGUsaT1uLnRvU3RyaW5nLG89bi5nZXRUaW1lO25ldyBEYXRlKE5hTikrIiIhPSJJbnZhbGlkIERhdGUiJiZyKDE5KShuLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwodGhpcyk7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT1lP2kuY2FsbCh0aGlzKToiSW52YWxpZCBEYXRlIn0pfSwvKiAyOTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOCkoInRvUHJpbWl0aXZlIiksaT1EYXRlLnByb3RvdHlwZTtuIGluIGl8fHIoMTgpKGksbixyKDI5NykpfSwvKiAyOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMpLGk9cigzMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT09ZSYmIm51bWJlciIhPT1lJiYiZGVmYXVsdCIhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0IGhpbnQiKTtyZXR1cm4gaShuKHRoaXMpLCJudW1iZXIiIT1lKX19LC8qIDI5OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIyLjEuMi4yIC8gMTUuNC4zLjIgQXJyYXkuaXNBcnJheShhcmcpCnZhciBuPXIoMCk7bihuLlMsIkFycmF5Iix7aXNBcnJheTpyKDgxKX0pfSwvKiAyOTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI3KSxpPXIoMCksbz1yKDE1KSxzPXIoMTYyKSxhPXIoMTE3KSx1PXIoMTIpLGM9cigxMTgpLGY9cigxMTkpO2koaS5TK2kuRiohcig4MykoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIsewovLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCmZyb206ZnVuY3Rpb24oZSl7dmFyIHQscixpLGwsZD1vKGUpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx5PWFyZ3VtZW50cy5sZW5ndGgsaD15PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PWgsZz0wLGI9ZihkKTsKLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlCmlmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHxwPT1BcnJheSYmYShiKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IobD1iLmNhbGwoZCkscj1uZXcgcDshKGk9bC5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/cyhsLGgsW2kudmFsdWUsZ10sITApOmkudmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LC8qIDMwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExOCk7Ci8vIFdlYktpdCBBcnJheS5vZiBpc24ndCBnZW5lcmljCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKEFycmF5Lm9mLmNhbGwoRilpbnN0YW5jZW9mIEYpfSksIkFycmF5Iix7Ci8vIDIyLjEuMi4zIEFycmF5Lm9mKCAuLi5pdGVtcykKb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSkodCk7dD5lOylpKHIsZSxhcmd1bWVudHNbZSsrXSk7cmV0dXJuIHIubGVuZ3RoPXQscn19KX0sLyogMzAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUuam9pbihzZXBhcmF0b3IpCnZhciBuPXIoMCksaT1yKDI0KSxvPVtdLmpvaW47Ci8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBzdHJpbmdzCm4obi5QK24uRioocig3MCkhPU9iamVjdHx8IXIoMjkpKG8pKSwiQXJyYXkiLHtqb2luOmZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoaSh0aGlzKSx2b2lkIDA9PT1lPyIsIjplKX19KX0sLyogMzAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTA1KSxvPXIoMjgpLHM9cig1MSksYT1yKDEyKSx1PVtdLnNsaWNlOwovLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzCm4obi5QK24uRipyKDUpKGZ1bmN0aW9uKCl7aSYmdS5jYWxsKGkpfSksIkFycmF5Iix7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hKHRoaXMubGVuZ3RoKSxuPW8odGhpcyk7aWYodD12b2lkIDA9PT10P3I6dCwiQXJyYXkiPT1uKXJldHVybiB1LmNhbGwodGhpcyxlLHQpO2Zvcih2YXIgaT1zKGUsciksYz1zKHQsciksZj1hKGMtaSksbD1uZXcgQXJyYXkoZiksZD0wO2Q8ZjtkKyspbFtkXT0iU3RyaW5nIj09bj90aGlzLmNoYXJBdChpK2QpOnRoaXNbaStkXTtyZXR1cm4gbH19KX0sLyogMzAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYpLG89cigxNSkscz1yKDUpLGE9W10uc29ydCx1PVsxLDIsM107bihuLlArbi5GKihzKGZ1bmN0aW9uKCl7Ci8vIElFOC0KdS5zb3J0KHZvaWQgMCl9KXx8IXMoZnVuY3Rpb24oKXsKLy8gVjggYnVnCnUuc29ydChudWxsKX0pfHwhcigyOSkoYSkpLCJBcnJheSIsewovLyAyMi4xLjMuMjUgQXJyYXkucHJvdG90eXBlLnNvcnQoY29tcGFyZWZuKQpzb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2EuY2FsbChvKHRoaXMpKTphLmNhbGwobyh0aGlzKSxpKGUpKX19KX0sLyogMzA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMzUpKDApLG89cigyOSkoW10uZm9yRWFjaCwhMCk7bihuLlArbi5GKiFvLCJBcnJheSIsewovLyAyMi4xLjMuMTAgLyAxNS40LjQuMTggQXJyYXkucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sLyogMzA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cig4MSksbz1yKDgpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0OwovLyBjcm9zcy1yZWFsbSBmYWxsYmFjawpyZXR1cm4gaShlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2YgdHx8dCE9PUFycmF5JiYhaSh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksbih0KSYmbnVsbD09PSh0PXRbb10pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSwvKiAzMDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMSk7bihuLlArbi5GKiFyKDI5KShbXS5tYXAsITApLCJBcnJheSIsewovLyAyMi4xLjMuMTUgLyAxNS40LjQuMTkgQXJyYXkucHJvdG90eXBlLm1hcChjYWxsYmFja2ZuIFssIHRoaXNBcmddKQptYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSgyKTtuKG4uUCtuLkYqIXIoMjkpKFtdLmZpbHRlciwhMCksIkFycmF5Iix7Ci8vIDIyLjEuMy43IC8gMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIoY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMyk7bihuLlArbi5GKiFyKDI5KShbXS5zb21lLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjIzIC8gMTUuNC40LjE3IEFycmF5LnByb3RvdHlwZS5zb21lKGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCnNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSg0KTtuKG4uUCtuLkYqIXIoMjkpKFtdLmV2ZXJ5LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjUgLyAxNS40LjQuMTYgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCmV2ZXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNjMpO24obi5QK24uRiohcigyOSkoW10ucmVkdWNlLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE4IC8gMTUuNC40LjIxIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UoY2FsbGJhY2tmbiBbLCBpbml0aWFsVmFsdWVdKQpyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCExKX19KX0sLyogMzExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYzKTtuKG4uUCtuLkYqIXIoMjkpKFtdLnJlZHVjZVJpZ2h0LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE5IC8gMTUuNC40LjIyIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZV0pCnJlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50c1sxXSwhMCl9fSl9LC8qIDMxMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDc5KSghMSksbz1bXS5pbmRleE9mLHM9ISFvJiYxL1sxXS5pbmRleE9mKDEsLTApPDA7bihuLlArbi5GKihzfHwhcigyOSkobykpLCJBcnJheSIsewovLyAyMi4xLjMuMTEgLyAxNS40LjQuMTQgQXJyYXkucHJvdG90eXBlLmluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQppbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBzP28uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOmkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMxMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDI0KSxvPXIoMzMpLHM9cigxMiksYT1bXS5sYXN0SW5kZXhPZix1PSEhYSYmMS9bMV0ubGFzdEluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHV8fCFyKDI5KShhKSksIkFycmF5Iix7Ci8vIDIyLjEuMy4xNCAvIDE1LjQuNC4xNSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQpsYXN0SW5kZXhPZjpmdW5jdGlvbihlKXsKLy8gY29udmVydCAtMCB0byArMAppZih1KXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDt2YXIgdD1pKHRoaXMpLHI9cyh0Lmxlbmd0aCksbj1yLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TWF0aC5taW4obixvKGFyZ3VtZW50c1sxXSkpKSxuPDAmJihuPXIrbik7bj49MDtuLS0paWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbnx8MDtyZXR1cm4tMX19KX0sLyogMzE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjIuMS4zLjMgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCwgZW5kID0gdGhpcy5sZW5ndGgpCnZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7Y29weVdpdGhpbjpyKDE2NCl9KSxyKDQzKSgiY29weVdpdGhpbiIpfSwvKiAzMTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigwKTtuKG4uUCwiQXJyYXkiLHtmaWxsOnIoMTIxKX0pLHIoNDMpKCJmaWxsIil9LC8qIDMxNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuOCBBcnJheS5wcm90b3R5cGUuZmluZChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg1KSxvPSEwOwovLyBTaG91bGRuJ3Qgc2tpcCBob2xlcwoiZmluZCJpbltdJiZBcnJheSgxKS5maW5kKGZ1bmN0aW9uKCl7bz0hMX0pLG4obi5QK24uRipvLCJBcnJheSIse2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxyKDQzKSgiZmluZCIpfSwvKiAzMTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjIuMS4zLjkgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg2KSxvPSJmaW5kSW5kZXgiLHM9ITA7Ci8vIFNob3VsZG4ndCBza2lwIGhvbGVzCm8gaW5bXSYmQXJyYXkoMSlbb10oZnVuY3Rpb24oKXtzPSExfSksbihuLlArbi5GKnMsIkFycmF5Iix7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0Mykobyl9LC8qIDMxOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig1NCkoIkFycmF5Iil9LC8qIDMxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMTA4KSxvPXIoMTEpLmYscz1yKDUzKS5mLGE9cig4MiksdT1yKDg0KSxjPW4uUmVnRXhwLGY9YyxsPWMucHJvdG90eXBlLGQ9L2EvZyxwPS9hL2cseT1uZXcgYyhkKSE9PWQ7aWYocigxMCkmJigheXx8cig1KShmdW5jdGlvbigpewovLyBSZWdFeHAgY29uc3RydWN0b3IgY2FuIGFsdGVyIGZsYWdzIGFuZCBJc1JlZ0V4cCB3b3JrcyBjb3JyZWN0IHdpdGggQEBtYXRjaApyZXR1cm4gcFtyKDgpKCJtYXRjaCIpXT0hMSxjKGQpIT1kfHxjKHApPT1wfHwiL2EvaSIhPWMoZCwiaSIpfSkpKXtjPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyBpbnN0YW5jZW9mIGMsbj1hKGUpLG89dm9pZCAwPT09dDtyZXR1cm4hciYmbiYmZS5jb25zdHJ1Y3Rvcj09PWMmJm8/ZTppKHk/bmV3IGYobiYmIW8/ZS5zb3VyY2U6ZSx0KTpmKChuPWUgaW5zdGFuY2VvZiBjKT9lLnNvdXJjZTplLG4mJm8/dS5jYWxsKGUpOnQpLHI/dGhpczpsLGMpfTtmb3IodmFyIGg9cyhmKSx2PTA7aC5sZW5ndGg+djspIWZ1bmN0aW9uKGUpe2UgaW4gY3x8byhjLGUse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZltlXX0sc2V0OmZ1bmN0aW9uKHQpe2ZbZV09dH19KX0oaFt2KytdKTtsLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGU9bCxyKDE5KShuLCJSZWdFeHAiLGMpfXIoNTQpKCJSZWdFeHAiKX0sLyogMzIwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigxNjYpO3ZhciBuPXIoMyksaT1yKDg0KSxvPXIoMTApLHM9Ly4vLnRvU3RyaW5nLGE9ZnVuY3Rpb24oZSl7cigxOSkoUmVnRXhwLnByb3RvdHlwZSwidG9TdHJpbmciLGUsITApfTsKLy8gMjEuMi41LjE0IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcoKQpyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIi9hL2IiIT1zLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KT9hKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKTtyZXR1cm4iLyIuY29uY2F0KGUuc291cmNlLCIvIiwiZmxhZ3MiaW4gZT9lLmZsYWdzOiFvJiZlIGluc3RhbmNlb2YgUmVnRXhwP2kuY2FsbChlKTp2b2lkIDApfSk6InRvU3RyaW5nIiE9cy5uYW1lJiZhKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0pfSwvKiAzMjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBAQG1hdGNoIGxvZ2ljCnIoODUpKCJtYXRjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xMSBTdHJpbmcucHJvdG90eXBlLm1hdGNoKHJlZ2V4cCkKcmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLGk9dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1pP2kuY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sLyogMzIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEByZXBsYWNlIGxvZ2ljCnIoODUpKCJyZXBsYWNlIiwyLGZ1bmN0aW9uKGUsdCxyKXsKLy8gMjEuMS4zLjE0IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKQpyZXR1cm5bZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIG89ZSh0aGlzKSxzPXZvaWQgMD09bj92b2lkIDA6blt0XTtyZXR1cm4gdm9pZCAwIT09cz9zLmNhbGwobixvLGkpOnIuY2FsbChTdHJpbmcobyksbixpKX0scl19KX0sLyogMzIzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEBzZWFyY2ggbG9naWMKcig4NSkoInNlYXJjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xNSBTdHJpbmcucHJvdG90eXBlLnNlYXJjaChyZWdleHApCnJldHVybltmdW5jdGlvbihyKXsidXNlIHN0cmljdCI7dmFyIG49ZSh0aGlzKSxpPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09aT9pLmNhbGwocixuKTpuZXcgUmVnRXhwKHIpW3RdKFN0cmluZyhuKSl9LHJdfSl9LC8qIDMyNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIEBAc3BsaXQgbG9naWMKcig4NSkoInNwbGl0IiwyLGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9cig4Miksbz1uLHM9W10ucHVzaCxhPSJsZW5ndGgiO2lmKCJjIj09ImFiYmMiLnNwbGl0KC8oYikqLylbMV18fDQhPSJ0ZXN0Ii5zcGxpdCgvKD86KS8sLTEpW2FdfHwyIT0iYWIiLnNwbGl0KC8oPzphYikqLylbYV18fDQhPSIuIi5zcGxpdCgvKC4/KSguPykvKVthXXx8Ii4iLnNwbGl0KC8oKSgpLylbYV0+MXx8IiIuc3BsaXQoLy4/LylbYV0pe3ZhciB1PXZvaWQgMD09PS8oKT8/Ly5leGVjKCIiKVsxXTsvLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cAovLyBiYXNlZCBvbiBlczUtc2hpbSBpbXBsZW1lbnRhdGlvbiwgbmVlZCB0byByZXdvcmsgaXQKbj1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyh0aGlzKTtpZih2b2lkIDA9PT1lJiYwPT09dClyZXR1cm5bXTsKLy8gSWYgYHNlcGFyYXRvcmAgaXMgbm90IGEgcmVnZXgsIHVzZSBuYXRpdmUgc3BsaXQKaWYoIWkoZSkpcmV0dXJuIG8uY2FsbChyLGUsdCk7dmFyIG4sYyxmLGwsZCxwPVtdLHk9KGUuaWdub3JlQ2FzZT8iaSI6IiIpKyhlLm11bHRpbGluZT8ibSI6IiIpKyhlLnVuaWNvZGU/InUiOiIiKSsoZS5zdGlja3k/InkiOiIiKSxoPTAsdj12b2lkIDA9PT10PzQyOTQ5NjcyOTU6dD4+PjAsZz1uZXcgUmVnRXhwKGUuc291cmNlLHkrImciKTtmb3IoCi8vIERvZXNuJ3QgbmVlZCBmbGFncyBneSwgYnV0IHRoZXkgZG9uJ3QgaHVydAp1fHwobj1uZXcgUmVnRXhwKCJeIitnLnNvdXJjZSsiJCg/IVxccykiLHkpKTsoYz1nLmV4ZWMocikpJiYhKCgKLy8gYHNlcGFyYXRvckNvcHkubGFzdEluZGV4YCBpcyBub3QgcmVsaWFibGUgY3Jvc3MtYnJvd3NlcgpmPWMuaW5kZXgrY1swXVthXSk+aCYmKHAucHVzaChyLnNsaWNlKGgsYy5pbmRleCkpLAovLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYCBmb3IgTlBDRwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jCiF1JiZjW2FdPjEmJmNbMF0ucmVwbGFjZShuLGZ1bmN0aW9uKCl7Zm9yKGQ9MTtkPGFyZ3VtZW50c1thXS0yO2QrKyl2b2lkIDA9PT1hcmd1bWVudHNbZF0mJihjW2RdPXZvaWQgMCl9KSxjW2FdPjEmJmMuaW5kZXg8clthXSYmcy5hcHBseShwLGMuc2xpY2UoMSkpLGw9Y1swXVthXSxoPWYscFthXT49dikpOylnLmxhc3RJbmRleD09PWMuaW5kZXgmJmcubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1yW2FdPyFsJiZnLnRlc3QoIiIpfHxwLnB1c2goIiIpOnAucHVzaChyLnNsaWNlKGgpKSxwW2FdPnY/cC5zbGljZSgwLHYpOnB9fWVsc2UiMCIuc3BsaXQodm9pZCAwLDApW2FdJiYobj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYwPT09dD9bXTpvLmNhbGwodGhpcyxlLHQpfSk7Ci8vIDIxLjEuMy4xNyBTdHJpbmcucHJvdG90eXBlLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpCnJldHVybltmdW5jdGlvbihyLGkpe3ZhciBvPWUodGhpcykscz12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PXM/cy5jYWxsKHIsbyxpKTpuLmNhbGwoU3RyaW5nKG8pLHIsaSl9LG5dfSl9LC8qIDMyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGksbyxzLGE9cig0OSksdT1yKDQpLGM9cigyNyksZj1yKDcyKSxsPXIoMCksZD1yKDYpLHA9cigxNikseT1yKDU1KSxoPXIoNTYpLHY9cig4NiksZz1yKDEyMykuc2V0LGI9cigxMjQpKCksbT1yKDEyNSksXz1yKDE2NyksUj1yKDE2OCksdz11LlR5cGVFcnJvcixTPXUucHJvY2VzcyxQPXUuUHJvbWlzZSxPPSJwcm9jZXNzIj09ZihTKSxNPWZ1bmN0aW9uKCl7fSxrPWk9bS5mLEw9ISFmdW5jdGlvbigpe3RyeXsKLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0CnZhciBlPVAucmVzb2x2ZSgxKSx0PShlLmNvbnN0cnVjdG9yPXt9KVtyKDgpKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoTSxNKX07Ci8vIHVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3QKcmV0dXJuKE98fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oTSlpbnN0YW5jZW9mIHR9Y2F0Y2goZSl7fX0oKSx4PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxFPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3YsaT0xPT1lLl9zLG89MDtyLmxlbmd0aD5vOykhZnVuY3Rpb24odCl7dmFyIHIsbyxzPWk/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsdT10LnJlamVjdCxjPXQuZG9tYWluO3RyeXtzPyhpfHwoMj09ZS5faCYmRChlKSxlLl9oPTEpLCEwPT09cz9yPW46KGMmJmMuZW50ZXIoKSxyPXMobiksYyYmYy5leGl0KCkpLHI9PT10LnByb21pc2U/dSh3KCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihvPXgocikpP28uY2FsbChyLGEsdSk6YShyKSk6dShuKX1jYXRjaChlKXt1KGUpfX0ocltvKytdKTsvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaAplLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkEoZSl9KX19LEE9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4saT1lLl92LG89VShlKTtpZihvJiYodD1fKGZ1bmN0aW9uKCl7Tz9TLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsaSxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOml9KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLGkpfSksCi8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkCmUuX2g9T3x8VShlKT8yOjEpLGUuX2E9dm9pZCAwLG8mJnQuZSl0aHJvdyB0LnZ9KX0sVT1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxEPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7Tz9TLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sST1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCwvLyB1bndyYXAKdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEUodCwhMCkpfSxqPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7Ly8gdW53cmFwCnRyeXtpZihyPT09ZSl0aHJvdyB3KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PXgoZSkpP2IoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07Ly8gd3JhcAp0cnl7dC5jYWxsKGUsYyhqLG4sMSksYyhJLG4sMSkpfWNhdGNoKGUpe0kuY2FsbChuLGUpfX0pOihyLl92PWUsci5fcz0xLEUociwhMSkpfWNhdGNoKGUpe0kuY2FsbCh7X3c6cixfZDohMX0sZSl9fX07Ci8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsCkx8fCgKLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcikKUD1mdW5jdGlvbihlKXt5KHRoaXMsUCwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhqLHRoaXMsMSksYyhJLHRoaXMsMSkpfWNhdGNoKGUpe0kuY2FsbCh0aGlzLGUpfX0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwpuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zCnRoaXMuX2E9dm9pZCAwLC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zCnRoaXMuX3M9MCwvLyA8LSBzdGF0ZQp0aGlzLl9kPSExLC8vIDwtIGRvbmUKdGhpcy5fdj12b2lkIDAsLy8gPC0gdmFsdWUKdGhpcy5faD0wLC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkCnRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNTcpKFAucHJvdG90eXBlLHsKLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkKdGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPWsodih0aGlzLFApKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49Tz9TLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZFKHRoaXMsITEpLHIucHJvbWlzZX0sCi8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpCmNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLG89ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhqLGUsMSksdGhpcy5yZWplY3Q9YyhJLGUsMSl9LG0uZj1rPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09UHx8ZT09PXM/bmV3IG8oZSk6aShlKX0pLGwobC5HK2wuVytsLkYqIUwse1Byb21pc2U6UH0pLHIoNjEpKFAsIlByb21pc2UiKSxyKDU0KSgiUHJvbWlzZSIpLHM9cigzMCkuUHJvbWlzZSwKLy8gc3RhdGljcwpsKGwuUytsLkYqIUwsIlByb21pc2UiLHsKLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocikKcmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWsodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKGF8fCFMKSwiUHJvbWlzZSIsewovLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeCkKcmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gUihhJiZ0aGlzPT09cz9QOnRoaXMsZSl9fSksbChsLlMrbC5GKiEoTCYmcig4MykoZnVuY3Rpb24oZSl7UC5hbGwoZSkuY2F0Y2goTSl9KSksIlByb21pc2UiLHsKLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpCmFsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ayh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LG89XyhmdW5jdGlvbigpe3ZhciByPVtdLG89MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPW8rKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0saSl9KSwtLXN8fG4ocil9KTtyZXR1cm4gby5lJiZpKG8udiksci5wcm9taXNlfSwKLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKQpyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1rKHQpLG49ci5yZWplY3QsaT1fKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIGkuZSYmbihpLnYpLHIucHJvbWlzZX19KX0sLyogMzI2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzMpLGk9cig2NCk7Ci8vIDIzLjQgV2Vha1NldCBPYmplY3RzCnIoODcpKCJXZWFrU2V0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHsKLy8gMjMuNC4zLjEgV2Vha1NldC5wcm90b3R5cGUuYWRkKHZhbHVlKQphZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKGkodGhpcywiV2Vha1NldCIpLGUsITApfX0sbiwhMSwhMCl9LC8qIDMyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDg4KSxvPXIoMTI2KSxzPXIoMyksYT1yKDUxKSx1PXIoMTIpLGM9cig2KSxmPXIoNCkuQXJyYXlCdWZmZXIsbD1yKDg2KSxkPW8uQXJyYXlCdWZmZXIscD1vLkRhdGFWaWV3LHk9aS5BQlYmJmYuaXNWaWV3LGg9ZC5wcm90b3R5cGUuc2xpY2Usdj1pLlZJRVc7bihuLkcrbi5XK24uRiooZiE9PWQpLHtBcnJheUJ1ZmZlcjpkfSksbihuLlMrbi5GKiFpLkNPTlNUUiwiQXJyYXlCdWZmZXIiLHsKLy8gMjQuMS4zLjEgQXJyYXlCdWZmZXIuaXNWaWV3KGFyZykKaXNWaWV3OmZ1bmN0aW9uKGUpe3JldHVybiB5JiZ5KGUpfHxjKGUpJiZ2IGluIGV9fSksbihuLlArbi5VK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIW5ldyBkKDIpLnNsaWNlKDEsdm9pZCAwKS5ieXRlTGVuZ3RofSksIkFycmF5QnVmZmVyIix7Ci8vIDI0LjEuNC4zIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZShzdGFydCwgZW5kKQpzbGljZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWgmJnZvaWQgMD09PXQpcmV0dXJuIGguY2FsbChzKHRoaXMpLGUpO2ZvcigvLyBGRiBmaXgKdmFyIHI9cyh0aGlzKS5ieXRlTGVuZ3RoLG49YShlLHIpLGk9YSh2b2lkIDA9PT10P3I6dCxyKSxvPW5ldyhsKHRoaXMsZCkpKHUoaS1uKSksYz1uZXcgcCh0aGlzKSxmPW5ldyBwKG8pLHk9MDtuPGk7KWYuc2V0VWludDgoeSsrLGMuZ2V0VWludDgobisrKSk7cmV0dXJuIG99fSkscig1NCkoIkFycmF5QnVmZmVyIil9LC8qIDMyOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uRytuLlcrbi5GKiFyKDg4KS5BQlYse0RhdGFWaWV3OnIoMTI2KS5EYXRhVmlld30pfSwvKiAzMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJJbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSwhMCl9LC8qIDMzMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIkludDE2IiwyLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIlVpbnQxNiIsMixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJJbnQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJVaW50MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sLyogMzM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiRmxvYXQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJGbG9hdDY0Iiw4LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KQp2YXIgbj1yKDApLGk9cigxNiksbz1yKDMpLHM9KHIoNCkuUmVmbGVjdHx8e30pLmFwcGx5LGE9RnVuY3Rpb24uYXBwbHk7Ci8vIE1TIEVkZ2UgYXJndW1lbnRzTGlzdCBhcmd1bWVudCBpcyBvcHRpb25hbApuKG4uUytuLkYqIXIoNSkoZnVuY3Rpb24oKXtzKGZ1bmN0aW9uKCl7fSl9KSwiUmVmbGVjdCIse2FwcGx5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pKGUpLHU9byhyKTtyZXR1cm4gcz9zKG4sdCx1KTphLmNhbGwobix0LHUpfX0pfSwvKiAzMzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjIgUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmd1bWVudHNMaXN0IFssIG5ld1RhcmdldF0pCnZhciBuPXIoMCksaT1yKDUyKSxvPXIoMTYpLHM9cigzKSxhPXIoNiksdT1yKDUpLGM9cigxNTQpLGY9KHIoNCkuUmVmbGVjdHx8e30pLmNvbnN0cnVjdCxsPXUoZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiEoZihmdW5jdGlvbigpe30sW10sRilpbnN0YW5jZW9mIEYpfSksZD0hdShmdW5jdGlvbigpe2YoZnVuY3Rpb24oKXt9KX0pO24obi5TK24uRioobHx8ZCksIlJlZmxlY3QiLHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oZSx0KXtvKGUpLHModCk7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDwzP2U6byhhcmd1bWVudHNbMl0pO2lmKGQmJiFsKXJldHVybiBmKGUsdCxyKTtpZihlPT1yKXsKLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBvcHRpbWl6YXRpb24gZm9yIDAtNCBhcmd1bWVudHMKc3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodFswXSk7Y2FzZSAyOnJldHVybiBuZXcgZSh0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0sdFszXSl9Ci8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgbG90IG9mIGFyZ3VtZW50cyBjYXNlCnZhciBuPVtudWxsXTtyZXR1cm4gbi5wdXNoLmFwcGx5KG4sdCksbmV3KGMuYXBwbHkoZSxuKSl9Ci8vIHdpdGggYWx0ZXJlZCBuZXdUYXJnZXQsIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGNvbnN0cnVjdG9ycwp2YXIgdT1yLnByb3RvdHlwZSxwPWkoYSh1KT91Ok9iamVjdC5wcm90b3R5cGUpLHk9RnVuY3Rpb24uYXBwbHkuY2FsbChlLHAsdCk7cmV0dXJuIGEoeSk/eTpwfX0pfSwvKiAzNDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjMgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKQp2YXIgbj1yKDExKSxpPXIoMCksbz1yKDMpLHM9cigzMSk7Ci8vIE1TIEVkZ2UgaGFzIGJyb2tlbiBSZWZsZWN0LmRlZmluZVByb3BlcnR5IC0gdGhyb3dpbmcgaW5zdGVhZCBvZiByZXR1cm5pbmcgZmFsc2UKaShpLlMraS5GKnIoNSkoZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmClJlZmxlY3QuZGVmaW5lUHJvcGVydHkobi5mKHt9LDEse3ZhbHVlOjF9KSwxLHt2YWx1ZToyfSl9KSwiUmVmbGVjdCIse2RlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtvKGUpLHQ9cyh0LCEwKSxvKHIpO3RyeXtyZXR1cm4gbi5mKGUsdCxyKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LC8qIDM0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuNCBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXkpCnZhciBuPXIoMCksaT1yKDI1KS5mLG89cigzKTtuKG4uUywiUmVmbGVjdCIse2RlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9aShvKGUpLHQpO3JldHVybiEociYmIXIuY29uZmlndXJhYmxlKSYmZGVsZXRlIGVbdF19fSl9LC8qIDM0MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyNi4xLjUgUmVmbGVjdC5lbnVtZXJhdGUodGFyZ2V0KQp2YXIgbj1yKDApLGk9cigzKSxvPWZ1bmN0aW9uKGUpe3RoaXMuX3Q9aShlKSwvLyB0YXJnZXQKdGhpcy5faT0wOy8vIG5leHQgaW5kZXgKdmFyIHQscj10aGlzLl9rPVtdO2Zvcih0IGluIGUpci5wdXNoKHQpfTtyKDExNCkobywiT2JqZWN0IixmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXQuX2s7ZG97aWYodC5faT49ci5sZW5ndGgpcmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX13aGlsZSghKChlPXJbdC5faSsrXSlpbiB0Ll90KSk7cmV0dXJue3ZhbHVlOmUsZG9uZTohMX19KSxuKG4uUywiUmVmbGVjdCIse2VudW1lcmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8oZSl9fSl9LC8qIDM0MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gZ2V0KGUsdCl7dmFyIHIscyxjPWFyZ3VtZW50cy5sZW5ndGg8Mz9lOmFyZ3VtZW50c1syXTtyZXR1cm4gdShlKT09PWM/ZVt0XToocj1uLmYoZSx0KSk/byhyLCJ2YWx1ZSIpP3IudmFsdWU6dm9pZCAwIT09ci5nZXQ/ci5nZXQuY2FsbChjKTp2b2lkIDA6YShzPWkoZSkpP2dldChzLHQsYyk6dm9pZCAwfQovLyAyNi4xLjYgUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSBbLCByZWNlaXZlcl0pCnZhciBuPXIoMjUpLGk9cigyNiksbz1yKDE3KSxzPXIoMCksYT1yKDYpLHU9cigzKTtzKHMuUywiUmVmbGVjdCIse2dldDpnZXR9KX0sLyogMzQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjYuMS43IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpCnZhciBuPXIoMjUpLGk9cigwKSxvPXIoMyk7aShpLlMsIlJlZmxlY3QiLHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5mKG8oZSksdCl9fSl9LC8qIDM0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuOCBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkKdmFyIG49cigwKSxpPXIoMjYpLG89cigzKTtuKG4uUywiUmVmbGVjdCIse2dldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBpKG8oZSkpfX0pfSwvKiAzNDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjkgUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wZXJ0eUtleSkKdmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse2hhczpmdW5jdGlvbihlLHQpe3JldHVybiB0IGluIGV9fSl9LC8qIDM0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTAgUmVmbGVjdC5pc0V4dGVuc2libGUodGFyZ2V0KQp2YXIgbj1yKDApLGk9cigzKSxvPU9iamVjdC5pc0V4dGVuc2libGU7bihuLlMsIlJlZmxlY3QiLHtpc0V4dGVuc2libGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSksIW98fG8oZSl9fSl9LC8qIDM0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTEgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkKdmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse293bktleXM6cigxNzUpfSl9LC8qIDM0OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuMTIgUmVmbGVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpCnZhciBuPXIoMCksaT1yKDMpLG89T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO24obi5TLCJSZWZsZWN0Iix7cHJldmVudEV4dGVuc2lvbnM6ZnVuY3Rpb24oZSl7aShlKTt0cnl7cmV0dXJuIG8mJm8oZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSwvKiAzNTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHNldChlLHQscil7dmFyIGEsbCxkPWFyZ3VtZW50cy5sZW5ndGg8ND9lOmFyZ3VtZW50c1szXSxwPWkuZihjKGUpLHQpO2lmKCFwKXtpZihmKGw9byhlKSkpcmV0dXJuIHNldChsLHQscixkKTtwPXUoMCl9cmV0dXJuIHMocCwidmFsdWUiKT8hKCExPT09cC53cml0YWJsZXx8IWYoZCkpJiYoYT1pLmYoZCx0KXx8dSgwKSxhLnZhbHVlPXIsbi5mKGQsdCxhKSwhMCk6dm9pZCAwIT09cC5zZXQmJihwLnNldC5jYWxsKGQsciksITApfQovLyAyNi4xLjEzIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHlLZXksIFYgWywgcmVjZWl2ZXJdKQp2YXIgbj1yKDExKSxpPXIoMjUpLG89cigyNikscz1yKDE3KSxhPXIoMCksdT1yKDQ3KSxjPXIoMyksZj1yKDYpO2EoYS5TLCJSZWZsZWN0Iix7c2V0OnNldH0pfSwvKiAzNTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjE0IFJlZmxlY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90bykKdmFyIG49cigwKSxpPXIoMTA2KTtpJiZuKG4uUywiUmVmbGVjdCIse3NldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUsdCl7aS5jaGVjayhlLHQpO3RyeXtyZXR1cm4gaS5zZXQoZSx0KSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LC8qIDM1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXMKdmFyIG49cigwKSxpPXIoNzkpKCEwKTtuKG4uUCwiQXJyYXkiLHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDMpKCJpbmNsdWRlcyIpfSwvKiAzNTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXRNYXAKdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMiksYT1yKDE2KSx1PXIoMTIwKTtuKG4uUCwiQXJyYXkiLHtmbGF0TWFwOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1vKHRoaXMpO3JldHVybiBhKGUpLHQ9cyhuLmxlbmd0aCkscj11KG4sMCksaShyLG4sbix0LDAsMSxlLGFyZ3VtZW50c1sxXSkscn19KSxyKDQzKSgiZmxhdE1hcCIpfSwvKiAzNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXR0ZW4KdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMiksYT1yKDMzKSx1PXIoMTIwKTtuKG4uUCwiQXJyYXkiLHtmbGF0dGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdLHQ9byh0aGlzKSxyPXModC5sZW5ndGgpLG49dSh0LDApO3JldHVybiBpKG4sdCx0LHIsMCx2b2lkIDA9PT1lPzE6YShlKSksbn19KSxyKDQzKSgiZmxhdHRlbiIpfSwvKiAzNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdAp2YXIgbj1yKDApLGk9cigxMTIpKCEwKTtuKG4uUCwiU3RyaW5nIix7YXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlKX19KX0sLyogMzU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kCnZhciBuPXIoMCksaT1yKDE3Nyksbz1yKDEyNyk7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8yODAKbihuLlArbi5GKi9WZXJzaW9uXC8xMFwuXGQrKFwuXGQrKT8gU2FmYXJpXC8vLnRlc3QobyksIlN0cmluZyIse3BhZFN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwhMCl9fSl9LC8qIDM1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zdHJpbmctcGFkLXN0YXJ0LWVuZAp2YXIgbj1yKDApLGk9cigxNzcpLG89cigxMjcpOwovLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwCm4obi5QK24uRiovVmVyc2lvblwvMTBcLlxkKyhcLlxkKyk/IFNhZmFyaVwvLy50ZXN0KG8pLCJTdHJpbmciLHtwYWRFbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLCExKX19KX0sLyogMzU4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zZWJtYXJrYmFnZS9lY21hc2NyaXB0LXN0cmluZy1sZWZ0LXJpZ2h0LXRyaW0Kcig2MikoInRyaW1MZWZ0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDEpfX0sInRyaW1TdGFydCIpfSwvKiAzNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3NlYm1hcmtiYWdlL2VjbWFzY3JpcHQtc3RyaW5nLWxlZnQtcmlnaHQtdHJpbQpyKDYyKSgidHJpbVJpZ2h0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDIpfX0sInRyaW1FbmQiKX0sLyogMzYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vU3RyaW5nLnByb3RvdHlwZS5tYXRjaEFsbC8KdmFyIG49cigwKSxpPXIoMzIpLG89cigxMikscz1yKDgyKSxhPXIoODQpLHU9UmVnRXhwLnByb3RvdHlwZSxjPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcj1lLHRoaXMuX3M9dH07cigxMTQpKGMsIlJlZ0V4cCBTdHJpbmciLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fci5leGVjKHRoaXMuX3MpO3JldHVybnt2YWx1ZTplLGRvbmU6bnVsbD09PWV9fSksbihuLlAsIlN0cmluZyIse21hdGNoQWxsOmZ1bmN0aW9uKGUpe2lmKGkodGhpcyksIXMoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSByZWdleHAhIik7dmFyIHQ9U3RyaW5nKHRoaXMpLHI9ImZsYWdzImluIHU/U3RyaW5nKGUuZmxhZ3MpOmEuY2FsbChlKSxuPW5ldyBSZWdFeHAoZS5zb3VyY2UsfnIuaW5kZXhPZigiZyIpP3I6ImciK3IpO3JldHVybiBuLmxhc3RJbmRleD1vKGUubGFzdEluZGV4KSxuZXcgYyhuLHQpfX0pfSwvKiAzNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTAyKSgiYXN5bmNJdGVyYXRvciIpfSwvKiAzNjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTAyKSgib2JzZXJ2YWJsZSIpfSwvKiAzNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9ycwp2YXIgbj1yKDApLGk9cigxNzUpLG89cigyNCkscz1yKDI1KSxhPXIoMTE4KTtuKG4uUywiT2JqZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPW8oZSksdT1zLmYsYz1pKG4pLGY9e30sbD0wO2MubGVuZ3RoPmw7KXZvaWQgMCE9PShyPXUobix0PWNbbCsrXSkpJiZhKGYsdCxyKTtyZXR1cm4gZn19KX0sLyogMzY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LXZhbHVlcy1lbnRyaWVzCnZhciBuPXIoMCksaT1yKDE3OCkoITEpO24obi5TLCJPYmplY3QiLHt2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDM2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllcwp2YXIgbj1yKDApLGk9cigxNzgpKCEwKTtuKG4uUywiT2JqZWN0Iix7ZW50cmllczpmdW5jdGlvbihlKXtyZXR1cm4gaShlKX19KX0sLyogMzY2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigxNikscz1yKDExKTsKLy8gQi4yLjIuMiBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oUCwgZ2V0dGVyKQpyKDEwKSYmbihuLlArcig4OSksIk9iamVjdCIse19fZGVmaW5lR2V0dGVyX186ZnVuY3Rpb24oZSx0KXtzLmYoaSh0aGlzKSxlLHtnZXQ6byh0KSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSwvKiAzNjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNSksbz1yKDE2KSxzPXIoMTEpOwovLyBCLjIuMi4zIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXyhQLCBzZXR0ZXIpCnIoMTApJiZuKG4uUCtyKDg5KSwiT2JqZWN0Iix7X19kZWZpbmVTZXR0ZXJfXzpmdW5jdGlvbihlLHQpe3MuZihpKHRoaXMpLGUse3NldDpvKHQpLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fSl9LC8qIDM2OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDE1KSxvPXIoMzEpLHM9cigyNiksYT1yKDI1KS5mOwovLyBCLjIuMi40IE9iamVjdC5wcm90b3R5cGUuX19sb29rdXBHZXR0ZXJfXyhQKQpyKDEwKSYmbihuLlArcig4OSksIk9iamVjdCIse19fbG9va3VwR2V0dGVyX186ZnVuY3Rpb24oZSl7dmFyIHQscj1pKHRoaXMpLG49byhlLCEwKTtkb3tpZih0PWEocixuKSlyZXR1cm4gdC5nZXR9d2hpbGUocj1zKHIpKX19KX0sLyogMzY5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigzMSkscz1yKDI2KSxhPXIoMjUpLmY7Ci8vIEIuMi4yLjUgT2JqZWN0LnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKFApCnIoMTApJiZuKG4uUCtyKDg5KSwiT2JqZWN0Iix7X19sb29rdXBTZXR0ZXJfXzpmdW5jdGlvbihlKXt2YXIgdCxyPWkodGhpcyksbj1vKGUsITApO2Rve2lmKHQ9YShyLG4pKXJldHVybiB0LnNldH13aGlsZShyPXMocikpfX0pfSwvKiAzNzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vRGF2aWRCcnVhbnQvTWFwLVNldC5wcm90b3R5cGUudG9KU09OCnZhciBuPXIoMCk7bihuLlArbi5SLCJNYXAiLHt0b0pTT046cigxNzkpKCJNYXAiKX0pfSwvKiAzNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vRGF2aWRCcnVhbnQvTWFwLVNldC5wcm90b3R5cGUudG9KU09OCnZhciBuPXIoMCk7bihuLlArbi5SLCJTZXQiLHt0b0pTT046cigxNzkpKCJTZXQiKX0pfSwvKiAzNzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1tYXAub2YKcig5MCkoIk1hcCIpfSwvKiAzNzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1zZXQub2YKcig5MCkoIlNldCIpfSwvKiAzNzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrbWFwLm9mCnIoOTApKCJXZWFrTWFwIil9LC8qIDM3NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtc2V0bWFwLW9mZnJvbS8jc2VjLXdlYWtzZXQub2YKcig5MCkoIldlYWtTZXQiKX0sLyogMzc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtbWFwLmZyb20Kcig5MSkoIk1hcCIpfSwvKiAzNzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy1zZXQuZnJvbQpyKDkxKSgiU2V0Iil9LC8qIDM3OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtc2V0bWFwLW9mZnJvbS8jc2VjLXdlYWttYXAuZnJvbQpyKDkxKSgiV2Vha01hcCIpfSwvKiAzNzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrc2V0LmZyb20Kcig5MSkoIldlYWtTZXQiKX0sLyogMzgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsCnZhciBuPXIoMCk7bihuLkcse2dsb2JhbDpyKDQpfSl9LC8qIDM4MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWdsb2JhbAp2YXIgbj1yKDApO24obi5TLCJTeXN0ZW0iLHtnbG9iYWw6cig0KX0pfSwvKiAzODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL3Byb3Bvc2FsLWlzLWVycm9yCnZhciBuPXIoMCksaT1yKDI4KTtuKG4uUywiRXJyb3IiLHtpc0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJFcnJvciI9PT1pKGUpfX0pfSwvKiAzODMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbGFtcDpmdW5jdGlvbihlLHQscil7cmV0dXJuIE1hdGgubWluKHIsTWF0aC5tYXgodCxlKSl9fSl9LC8qIDM4NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KdmFyIG49cigwKTtuKG4uUywiTWF0aCIse0RFR19QRVJfUkFEOk1hdGguUEkvMTgwfSl9LC8qIDM4NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KdmFyIG49cigwKSxpPTE4MC9NYXRoLlBJO24obi5TLCJNYXRoIix7ZGVncmVlczpmdW5jdGlvbihlKXtyZXR1cm4gZSppfX0pfSwvKiAzODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCksaT1yKDE4MSksbz1yKDE2MSk7bihuLlMsIk1hdGgiLHtmc2NhbGU6ZnVuY3Rpb24oZSx0LHIsbixzKXtyZXR1cm4gbyhpKGUsdCxyLG4scykpfX0pfSwvKiAzODcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9CcmVuZGFuRWljaC80Mjk0ZDVjMjEyYTZkMjI1NDcwMwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7aWFkZGg6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZT4+PjAsbz10Pj4+MCxzPXI+Pj4wO3JldHVybiBvKyhuPj4+MCkrKChpJnN8KGl8cykmfihpK3M+Pj4wKSk+Pj4zMSl8MH19KX0sLyogMzg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDMKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2lzdWJoOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWU+Pj4wLG89dD4+PjAscz1yPj4+MDtyZXR1cm4gby0obj4+PjApLSgofmkmc3x+KGlecykmaS1zPj4+MCk+Pj4zMSl8MH19KX0sLyogMzg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDMKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2ltdWxoOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxpPTY1NTM1JnIsbz02NTUzNSZuLHM9cj4+MTYsYT1uPj4xNix1PShzKm8+Pj4wKSsoaSpvPj4+MTYpO3JldHVybiBzKmErKHU+PjE2KSsoKGkqYT4+PjApKyg2NTUzNSZ1KT4+MTYpfX0pfSwvKiAzOTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtSQURfUEVSX0RFRzoxODAvTWF0aC5QSX0pfSwvKiAzOTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCksaT1NYXRoLlBJLzE4MDtuKG4uUywiTWF0aCIse3JhZGlhbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqaX19KX0sLyogMzkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2NhbGU6cigxODEpfSl9LC8qIDM5MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyZW5kYW5FaWNoLzQyOTRkNWMyMTJhNmQyMjU0NzAzCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHt1bXVsaDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3QsaT02NTUzNSZyLG89NjU1MzUmbixzPXI+Pj4xNixhPW4+Pj4xNix1PShzKm8+Pj4wKSsoaSpvPj4+MTYpO3JldHVybiBzKmErKHU+Pj4xNikrKChpKmE+Pj4wKSsoNjU1MzUmdSk+Pj4xNil9fSl9LC8qIDM5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHA6Ly9qZmJhc3RpZW4uZ2l0aHViLmlvL3BhcGVycy9NYXRoLnNpZ25iaXQuaHRtbAp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2lnbmJpdDpmdW5jdGlvbihlKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQpyZXR1cm4oZT0rZSkhPWU/ZTowPT1lPzEvZT09MS8wOmU+MH19KX0sLyogMzk1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtZmluYWxseQp2YXIgbj1yKDApLGk9cigzMCksbz1yKDQpLHM9cig4NiksYT1yKDE2OCk7bihuLlArbi5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD1zKHRoaXMsaS5Qcm9taXNlfHxvLlByb21pc2UpLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGU7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcn0pfTplKX19KX0sLyogMzk2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5CnZhciBuPXIoMCksaT1yKDEyNSksbz1yKDE2Nyk7bihuLlMsIlByb21pc2UiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5mKHRoaXMpLHI9byhlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LC8qIDM5NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5rZXkscz1uLnNldDtuLmV4cCh7ZGVmaW5lTWV0YWRhdGE6ZnVuY3Rpb24oZSx0LHIsbil7cyhlLHQsaShyKSxvKG4pKX19KX0sLyogMzk4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1uLmtleSxzPW4ubWFwLGE9bi5zdG9yZTtuLmV4cCh7ZGVsZXRlTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOm8oYXJndW1lbnRzWzJdKSxuPXMoaSh0KSxyLCExKTtpZih2b2lkIDA9PT1ufHwhbi5kZWxldGUoZSkpcmV0dXJuITE7aWYobi5zaXplKXJldHVybiEwO3ZhciB1PWEuZ2V0KHQpO3JldHVybiB1LmRlbGV0ZShyKSwhIXUuc2l6ZXx8YS5kZWxldGUodCl9fSl9LC8qIDM5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89cigyNikscz1uLmhhcyxhPW4uZ2V0LHU9bi5rZXksYz1mdW5jdGlvbihlLHQscil7aWYocyhlLHQscikpcmV0dXJuIGEoZSx0LHIpO3ZhciBuPW8odCk7cmV0dXJuIG51bGwhPT1uP2MoZSxuLHIpOnZvaWQgMH07bi5leHAoe2dldE1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSxpKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6dShhcmd1bWVudHNbMl0pKX19KX0sLyogNDAwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3MSksaT1yKDE4MCksbz1yKDM5KSxzPXIoMyksYT1yKDI2KSx1PW8ua2V5cyxjPW8ua2V5LGY9ZnVuY3Rpb24oZSx0KXt2YXIgcj11KGUsdCksbz1hKGUpO2lmKG51bGw9PT1vKXJldHVybiByO3ZhciBzPWYobyx0KTtyZXR1cm4gcy5sZW5ndGg/ci5sZW5ndGg/aShuZXcgbihyLmNvbmNhdChzKSkpOnM6cn07by5leHAoe2dldE1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gZihzKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6Yyhhcmd1bWVudHNbMV0pKX19KX0sLyogNDAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1uLmdldCxzPW4ua2V5O24uZXhwKHtnZXRPd25NZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsaSh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnMoYXJndW1lbnRzWzJdKSl9fSl9LC8qIDQwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5rZXlzLHM9bi5rZXk7bi5leHAoe2dldE93bk1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gbyhpKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6cyhhcmd1bWVudHNbMV0pKX19KX0sLyogNDAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1yKDI2KSxzPW4uaGFzLGE9bi5rZXksdT1mdW5jdGlvbihlLHQscil7aWYocyhlLHQscikpcmV0dXJuITA7dmFyIG49byh0KTtyZXR1cm4gbnVsbCE9PW4mJnUoZSxuLHIpfTtuLmV4cCh7aGFzTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdShlLGkodCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDphKGFyZ3VtZW50c1syXSkpfX0pfSwvKiA0MDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLGk9cigzKSxvPW4uaGFzLHM9bi5rZXk7bi5leHAoe2hhc093bk1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSxpKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6cyhhcmd1bWVudHNbMl0pKX19KX0sLyogNDA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1yKDE2KSxzPW4ua2V5LGE9bi5zZXQ7bi5leHAoe21ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7YShlLHQsKHZvaWQgMCE9PW4/aTpvKShyKSxzKG4pKX19fSl9LC8qIDQwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yd2FsZHJvbi90YzM5LW5vdGVzL2Jsb2IvbWFzdGVyL2VzNi8yMDE0LTA5L3NlcHQtMjUubWQjNTEwLWdsb2JhbGFzYXAtZm9yLWVucXVldWluZy1hLW1pY3JvdGFzawp2YXIgbj1yKDApLGk9cigxMjQpKCksbz1yKDQpLnByb2Nlc3Mscz0icHJvY2VzcyI9PXIoMjgpKG8pO24obi5HLHthc2FwOmZ1bmN0aW9uKGUpe3ZhciB0PXMmJm8uZG9tYWluO2kodD90LmJpbmQoZSk6ZSl9fSl9LC8qIDQwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlCnZhciBuPXIoMCksaT1yKDQpLG89cigzMCkscz1yKDEyNCkoKSxhPXIoOCkoIm9ic2VydmFibGUiKSx1PXIoMTYpLGM9cigzKSxmPXIoNTUpLGw9cig1NyksZD1yKDE4KSxwPXIoNTYpLHk9cC5SRVRVUk4saD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6dShlKX0sdj1mdW5jdGlvbihlKXt2YXIgdD1lLl9jO3QmJihlLl9jPXZvaWQgMCx0KCkpfSxnPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lLl9vfSxiPWZ1bmN0aW9uKGUpe2coZSl8fChlLl9vPXZvaWQgMCx2KGUpKX0sbT1mdW5jdGlvbihlLHQpe2MoZSksdGhpcy5fYz12b2lkIDAsdGhpcy5fbz1lLGU9bmV3IF8odGhpcyk7dHJ5e3ZhciByPXQoZSksbj1yO251bGwhPXImJigiZnVuY3Rpb24iPT10eXBlb2Ygci51bnN1YnNjcmliZT9yPWZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZSgpfTp1KHIpLHRoaXMuX2M9cil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZS5lcnJvcih0KX1nKHRoaXMpJiZ2KHRoaXMpfTttLnByb3RvdHlwZT1sKHt9LHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe2IodGhpcyl9fSk7dmFyIF89ZnVuY3Rpb24oZSl7dGhpcy5fcz1lfTtfLnByb3RvdHlwZT1sKHt9LHtuZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoIWcodCkpe3ZhciByPXQuX287dHJ5e3ZhciBuPWgoci5uZXh0KTtpZihuKXJldHVybiBuLmNhbGwocixlKX1jYXRjaChlKXt0cnl7Yih0KX1maW5hbGx5e3Rocm93IGV9fX19LGVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoZyh0KSl0aHJvdyBlO3ZhciByPXQuX287dC5fbz12b2lkIDA7dHJ5e3ZhciBuPWgoci5lcnJvcik7aWYoIW4pdGhyb3cgZTtlPW4uY2FsbChyLGUpfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZighZyh0KSl7dmFyIHI9dC5fbzt0Ll9vPXZvaWQgMDt0cnl7dmFyIG49aChyLmNvbXBsZXRlKTtlPW4/bi5jYWxsKHIsZSk6dm9pZCAwfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX19fSk7dmFyIFI9ZnVuY3Rpb24oZSl7Zih0aGlzLFIsIk9ic2VydmFibGUiLCJfZiIpLl9mPXUoZSl9O2woUi5wcm90b3R5cGUse3N1YnNjcmliZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG0oZSx0aGlzLl9mKX0sZm9yRWFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcoby5Qcm9taXNlfHxpLlByb21pc2UpKGZ1bmN0aW9uKHIsbil7dShlKTt2YXIgaT10LnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goZSl7bihlKSxpLnVuc3Vic2NyaWJlKCl9fSxlcnJvcjpuLGNvbXBsZXRlOnJ9KX0pfX0pLGwoUix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOlIscj1oKGMoZSlbYV0pO2lmKHIpe3ZhciBuPWMoci5jYWxsKGUpKTtyZXR1cm4gbi5jb25zdHJ1Y3Rvcj09PXQ/bjpuZXcgdChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdWJzY3JpYmUoZSl9KX1yZXR1cm4gbmV3IHQoZnVuY3Rpb24odCl7dmFyIHI9ITE7cmV0dXJuIHMoZnVuY3Rpb24oKXtpZighcil7dHJ5e2lmKHAoZSwhMSxmdW5jdGlvbihlKXtpZih0Lm5leHQoZSkscilyZXR1cm4geX0pPT09eSlyZXR1cm59Y2F0Y2goZSl7aWYocil0aHJvdyBlO3JldHVybiB2b2lkIHQuZXJyb3IoZSl9dC5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7cj0hMH19KX0sb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCk7ZTx0OylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiBuZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpSKShmdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gcyhmdW5jdGlvbigpe2lmKCF0KXtmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbilpZihlLm5leHQocltuXSksdClyZXR1cm47ZS5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7dD0hMH19KX19KSxkKFIucHJvdG90eXBlLGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG4obi5HLHtPYnNlcnZhYmxlOlJ9KSxyKDU0KSgiT2JzZXJ2YWJsZSIpfSwvKiA0MDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBpZTktIHNldFRpbWVvdXQgJiBzZXRJbnRlcnZhbCBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgZml4CnZhciBuPXIoNCksaT1yKDApLG89cigxMjcpLHM9W10uc2xpY2UsYT0vTVNJRSAuXC4vLnRlc3QobyksdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjIsaT0hIW4mJnMuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGUobj9mdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCkpLmFwcGx5KHRoaXMsaSl9OnQscil9fTtpKGkuRytpLkIraS5GKmEse3NldFRpbWVvdXQ6dShuLnNldFRpbWVvdXQpLHNldEludGVydmFsOnUobi5zZXRJbnRlcnZhbCl9KX0sLyogNDA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxMjMpO24obi5HK24uQix7c2V0SW1tZWRpYXRlOmkuc2V0LGNsZWFySW1tZWRpYXRlOmkuY2xlYXJ9KX0sLyogNDEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cigxMjIpLGk9cig1MCksbz1yKDE5KSxzPXIoNCksYT1yKDE4KSx1PXIoNjMpLGM9cig4KSxmPWMoIml0ZXJhdG9yIiksbD1jKCJ0b1N0cmluZ1RhZyIpLGQ9dS5BcnJheSxwPXtDU1NSdWxlTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KQ1NTU3R5bGVEZWNsYXJhdGlvbjohMSxDU1NWYWx1ZUxpc3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsRE9NUmVjdExpc3Q6ITEsRE9NU3RyaW5nTGlzdDohMSxET01Ub2tlbkxpc3Q6ITAsRGF0YVRyYW5zZmVySXRlbUxpc3Q6ITEsRmlsZUxpc3Q6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTENvbGxlY3Rpb246ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLE1lZGlhTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KTWltZVR5cGVBcnJheTohMSxOYW1lZE5vZGVNYXA6ITEsTm9kZUxpc3Q6ITAsUGFpbnRSZXF1ZXN0TGlzdDohMSxQbHVnaW46ITEsUGx1Z2luQXJyYXk6ITEsU1ZHTGVuZ3RoTGlzdDohMSxTVkdOdW1iZXJMaXN0OiExLFNWR1BhdGhTZWdMaXN0OiExLFNWR1BvaW50TGlzdDohMSxTVkdTdHJpbmdMaXN0OiExLFNWR1RyYW5zZm9ybUxpc3Q6ITEsU291cmNlQnVmZmVyTGlzdDohMSxTdHlsZVNoZWV0TGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRvdWNoTGlzdDohMX0seT1pKHApLGg9MDtoPHkubGVuZ3RoO2grKyl7dmFyIHYsZz15W2hdLGI9cFtnXSxtPXNbZ10sXz1tJiZtLnByb3RvdHlwZTtpZihfJiYoX1tmXXx8YShfLGYsZCksX1tsXXx8YShfLGwsZyksdVtnXT1kLGIpKWZvcih2IGluIG4pX1t2XXx8byhfLHYsblt2XSwhMCl9fSwvKiA0MTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpey8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwooZnVuY3Rpb24odCl7LyoqCiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy4KICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW4KICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluCiAqIHRoZSBzYW1lIGRpcmVjdG9yeS4KICovCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gd3JhcChlLHQscixuKXsKLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuCnZhciBpPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yP3Q6R2VuZXJhdG9yLG89T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgQ29udGV4dChufHxbXSk7Ci8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLgpyZXR1cm4gby5faW52b2tlPW1ha2VJbnZva2VNZXRob2QoZSxyLHMpLG99Ci8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvbgovLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGQKLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlCi8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2UKLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZAovLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nCi8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlCi8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZQovLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoCi8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS4KZnVuY3Rpb24gdHJ5Q2F0Y2goZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX0KLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kCi8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvcgovLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91cgovLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLgpmdW5jdGlvbiBHZW5lcmF0b3IoKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKXt9Ci8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlCi8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuCmZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSl9ZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihlKXtmdW5jdGlvbiBpbnZva2UodCxyLG4sbyl7dmFyIHM9dHJ5Q2F0Y2goZVt0XSxlLHIpO2lmKCJ0aHJvdyIhPT1zLnR5cGUpe3ZhciBhPXMuYXJnLHU9YS52YWx1ZTtyZXR1cm4gdSYmIm9iamVjdCI9PXR5cGVvZiB1JiZpLmNhbGwodSwiX19hd2FpdCIpP1Byb21pc2UucmVzb2x2ZSh1Ll9fYXdhaXQpLnRoZW4oZnVuY3Rpb24oZSl7aW52b2tlKCJuZXh0IixlLG4sbyl9LGZ1bmN0aW9uKGUpe2ludm9rZSgidGhyb3ciLGUsbixvKX0pOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKGZ1bmN0aW9uKGUpewovLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lcwovLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGUKLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGUKLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWUKLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3QKLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZQovLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluCi8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdAovLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWQKLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2sKLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoCi8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGUKLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZQovLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmQKLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uCmEudmFsdWU9ZSxuKGEpfSxvKX1vKHMuYXJnKX1mdW5jdGlvbiBlbnF1ZXVlKGUsdCl7ZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtpbnZva2UoZSx0LHIsbil9KX0KLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbAovLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZgovLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0bwovLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG8KLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eQovLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwovLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseQovLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZQovLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQovLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuCi8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyCi8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci4KcmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl9Im9iamVjdCI9PXR5cGVvZiB0LnByb2Nlc3MmJnQucHJvY2Vzcy5kb21haW4mJihpbnZva2U9dC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSkpO3ZhciByOwovLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LAovLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS4KdGhpcy5faW52b2tlPWVucXVldWV9ZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLHQscil7dmFyIG49bDtyZXR1cm4gZnVuY3Rpb24oaSxvKXtpZihuPT09cCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihuPT09eSl7aWYoInRocm93Ij09PWkpdGhyb3cgbzsKLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzoKLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZQpyZXR1cm4gZG9uZVJlc3VsdCgpfWZvcihyLm1ldGhvZD1pLHIuYXJnPW87Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYT1tYXliZUludm9rZURlbGVnYXRlKHMscik7aWYoYSl7aWYoYT09PWgpY29udGludWU7cmV0dXJuIGF9fWlmKCJuZXh0Ij09PXIubWV0aG9kKQovLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4Kci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG49PT1sKXRocm93IG49eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO249cDt2YXIgdT10cnlDYXRjaChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKAovLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09Ci8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi4Kbj1yLmRvbmU/eTpkLHUuYXJnPT09aCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihuPXksCi8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGUKLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS4Kci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX0KLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlCi8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGUKLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsCi8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLgpmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYobj09PXIpe2lmKAovLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC4KdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT10Lm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJigKLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYQovLyBjaGFuY2UgdG8gY2xlYW4gdXAuCnQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPXIsbWF5YmVJbnZva2VEZWxlZ2F0ZShlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpCi8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tCi8vICJyZXR1cm4iIHRvICJ0aHJvdyIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuCnJldHVybiBoO3QubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZCIpfXJldHVybiBofXZhciBpPXRyeUNhdGNoKG4sZS5pdGVyYXRvcix0LmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gdC5tZXRob2Q9InRocm93Iix0LmFyZz1pLmFyZyx0LmRlbGVnYXRlPW51bGwsaDt2YXIgbz1pLmFyZzsKLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLgovLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgInRocm93IiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlCi8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKLy8gY29udGV4dC5tZXRob2Qgd2FzICJuZXh0IiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuCi8vICJjb25zdW1lZCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXMKLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCi8vIG91dGVyIGdlbmVyYXRvci4KLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGgKLy8gdGhlIG91dGVyIGdlbmVyYXRvci4KcmV0dXJuIG8/by5kb25lPyh0W2UucmVzdWx0TmFtZV09by52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9ciksdC5kZWxlZ2F0ZT1udWxsLGgpOm86KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIENvbnRleHQoZSl7Ci8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaAovLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tCi8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC4KdGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGUpe3ZhciB0PWVbc107aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsbz1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKGkuY2FsbChlLG4pKXJldHVybiBuZXh0LnZhbHVlPWVbbl0sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITAsbmV4dH07cmV0dXJuIG8ubmV4dD1vfX0KLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLgpyZXR1cm57bmV4dDpkb25lUmVzdWx0fX1mdW5jdGlvbiBkb25lUmVzdWx0KCl7cmV0dXJue3ZhbHVlOnIsZG9uZTohMH19dmFyIHIsbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHM9by5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9by5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PW8udG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixjPSJvYmplY3QiPT10eXBlb2YgZSxmPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGYpCi8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXMKLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LgovLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsCi8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuCnJldHVybiB2b2lkKGMmJihlLmV4cG9ydHM9ZikpOwovLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXIKLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LgpmPXQucmVnZW5lcmF0b3JSdW50aW1lPWM/ZS5leHBvcnRzOnt9LGYud3JhcD13cmFwO3ZhciBsPSJzdXNwZW5kZWRTdGFydCIsZD0ic3VzcGVuZGVkWWllbGQiLHA9ImV4ZWN1dGluZyIseT0iY29tcGxldGVkIixoPXt9LHY9e307dltzXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsYj1nJiZnKGcodmFsdWVzKFtdKSkpO2ImJmIhPT1uJiZpLmNhbGwoYixzKSYmKAovLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZAovLyBvZiB0aGUgcG9seWZpbGwuCnY9Yik7dmFyIG09R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlPUdlbmVyYXRvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2KTtHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGU9bS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvbixHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt1XT1HZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZT0iR2VuZXJhdG9yRnVuY3Rpb24iLGYuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjsKLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhbgovLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuCnJldHVybiEhdCYmKHQ9PT1HZW5lcmF0b3JGdW5jdGlvbnx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZi5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOihlLl9fcHJvdG9fXz1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSx1IGluIGV8fChlW3VdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG0pLGV9LAovLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3QKLy8gYGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXMKLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KZi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxmLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvciwKLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZgovLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuCmYuYXN5bmM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9bmV3IEFzeW5jSXRlcmF0b3Iod3JhcChlLHQscixuKSk7cmV0dXJuIGYuaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9pOmkubmV4dCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmkubmV4dCgpfSl9LAovLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQovLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuCmRlZmluZUl0ZXJhdG9yTWV0aG9kcyhtKSxtW3VdPSJHZW5lcmF0b3IiLAovLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZQovLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQovLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvcgovLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi4KLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCm1bc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxmLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpOwovLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAovLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLgpyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbmV4dCgpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbmV4dC52YWx1ZT1yLG5leHQuZG9uZT0hMSxuZXh0fQovLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWUKLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXMKLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uCnJldHVybiBuZXh0LmRvbmU9ITAsbmV4dH19LGYudmFsdWVzPXZhbHVlcyxDb250ZXh0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q29udGV4dCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCwKLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KdGhpcy5zZW50PXRoaXMuX3NlbnQ9cix0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1yLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCFlKWZvcih2YXIgdCBpbiB0aGlzKQovLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOgoidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPXIpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXSx0PWUuY29tcGxldGlvbjtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGhhbmRsZShuLGkpewovLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLAovLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LgpyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSx0Lm5leHQ9bixpJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLCEhaX1pZih0aGlzLmRvbmUpdGhyb3cgZTtmb3IodmFyIHQ9dGhpcyxuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dLHM9by5jb21wbGV0aW9uO2lmKCJyb290Ij09PW8udHJ5TG9jKQovLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQovLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG8KLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi4KcmV0dXJuIGhhbmRsZSgiZW5kIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIGE9aS5jYWxsKG8sImNhdGNoTG9jIiksdT1pLmNhbGwobywiZmluYWxseUxvYyIpO2lmKGEmJnUpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBoYW5kbGUoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gaGFuZGxlKG8uZmluYWxseUxvYyl9ZWxzZSBpZihhKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gaGFuZGxlKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbcl07aWYobi50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKG4sImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PG4uZmluYWxseUxvYyl7dmFyIG89bjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJigKLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYQovLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suCm89bnVsbCk7dmFyIHM9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIHMudHlwZT1lLHMuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MsaCk6dGhpcy5jb21wbGV0ZShzKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxofSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIuZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLHIuYWZ0ZXJMb2MpLHJlc2V0VHJ5RW50cnkociksaH19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgaT1uLmFyZztyZXNldFRyeUVudHJ5KHIpfXJldHVybiBpfX0KLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uCi8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay4KdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQsbil7Ci8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0Ci8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KcmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOnZhbHVlcyhlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXIpLGh9fX0oCi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwKLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90Ci8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuCiJvYmplY3QiPT10eXBlb2YgdD90OiJvYmplY3QiPT10eXBlb2Ygd2luZG93P3dpbmRvdzoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodCxyKDE0NykpfSwvKiA0MTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDEzKSxlLmV4cG9ydHM9cigzMCkuUmVnRXhwLmVzY2FwZX0sLyogNDEzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL2JlbmphbWluZ3IvUmV4RXhwLmVzY2FwZQp2YXIgbj1yKDApLGk9cig0MTQpKC9bXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpO24obi5TLCJSZWdFeHAiLHtlc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDQxNCAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXQ9PT1PYmplY3QodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19OnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShlLHIpfX19LC8qIDQxNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOTYpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIwMSksZD1yKDcpLHA9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShkKSx5PXIoNDM5KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDQ2OSksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLGI9cig0NzYpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxfPXIoNDc3KSxSPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksdz1yKDQ4OCksUz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHcpLFA9cigxNCksTz1yKDk5KSxNPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTyksaz1yKDEwMCksTD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGspLHg9cig0OTIpLEU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh4KSxBPXIoNDkzKSxVPXIoNDk0KSxEPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoVSksST1yKDE0NCksaj1yKDQ5NSksVD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGopLEM9cigxNDApLEY9cig0OTYpLE49X2ludGVyb3BSZXF1aXJlRGVmYXVsdChGKSxxPXIoNDk4KSxIPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocSksQj1yKDQ5OSksSz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEIpLEc9cig1MDMpLFY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChHKSxXPXIoNTA2KSxZPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoVyksej1yKDUxNyksSj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHopLCQ9cig1MTkpLFE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCgkKSxYPXAuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSxaPWZ1bmN0aW9uKCl7LyoqCiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIFJ1bnRpbWUgVXNlciBBZ2VudAogICAqIEBwYXJhbSB7ZGVzY3JpcHRvcn0gcnVudGltZURlc2NyaXB0b3IgLSBwYXNzIGFsbCB0aGUgaHlwZXJ0eSBydW50aW1lIGRlc2NyaXB0b3IKICAgKiBAcGFyYW0ge3J1bnRpbWVGYWN0b3J5fSBydW50aW1lRmFjdG9yeSAtIFNwZWNpZmljIGltcGxlbWVudGF0aW9uIGZvciB0aGUgZW52aXJvbm1lbnQgd2hlcmUgdGhlIGNvcmUgcnVudGltZSB3aWxsIHJ1bjsKICAgKiBAcGFyYW0ge2RvbWFpbn0gZG9tYWluVVJMIC0gc3BlY2lmeSB0aGUgZG9tYWluIGJhc2UgZm9yIHRoZSBydW50aW1lOwogICAqLwpmdW5jdGlvbiBSdW50aW1lVUEoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxSdW50aW1lVUEpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZGVzY3JpcHRvciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzYW5kYm94IGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0aGUgZG9tYWluIG9mIHJ1bnRpbWUiKTtpZigKLy8gQ29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiByZWxhdGVkIHdpdGggc2VydmVycwp0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPSgwLHMuZGVmYXVsdCkoe2RvbWFpbjpyfSxJLnJ1bnRpbWVDb25maWd1cmF0aW9uKSx0aGlzLnJ1bnRpbWVGYWN0b3J5PXQsdGhpcy5sb2c9WCx0aGlzLmxvZ0xldmVscz1sLmxvZyxlLnAycEhhbmRsZXJTdHViJiYic3RyaW5nIj09dHlwZW9mIGUucDJwSGFuZGxlclN0dWImJmUucDJwSGFuZGxlclN0dWIuaW5jbHVkZXMoIjovLyIpP3RoaXMucDJwPSEwOnRoaXMucDJwPSExLEMucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yPWUsdGhpcy5ydW50aW1lVXRpbHM9Qy5ydW50aW1lVXRpbHMsdGhpcy5zdG9yYWdlcz17fSwiZnVuY3Rpb24iIT10eXBlb2YgdC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXRhbG9ndWUgaW1wbGVtZW50YXRpb24iKTtpZih0aGlzLnJ1bnRpbWVDYXRhbG9ndWU9dC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQucGVyc2lzdGVuY2VNYW5hZ2VyKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUGVyc2lzdGVuY2UgTWFuYWdlciBpbXBsZW1lbnRhdGlvbiIpO2lmKHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyPXQucGVyc2lzdGVuY2VNYW5hZ2VyKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3RvcmFnZU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKCJDaGVjayB5b3VyIFJ1bnRpbWUgRmFjdG9yeSBiZWNhdXNlIGl0IG5lZWRzIHRoZSBTdG9yYWdlIE1hbmFnZXIgaW1wbGVtZW50YXRpb24iKTt0aGlzLnN0b3JhZ2VzPSgwLEEuc3RvcmFnZSkodCksImZ1bmN0aW9uIj09dHlwZW9mIHQucnVudGltZUNhcGFiaWxpdGllcz90aGlzLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dC5ydW50aW1lQ2FwYWJpbGl0aWVzKHRoaXMuc3RvcmFnZXMuY2FwYWJpbGl0aWVzKTpYLmluZm8oIkNoZWNrIHlvdXIgUnVudGltZUZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXBhYmlsaXRpZXMgaW1wbGVtZW50YXRpb24iKX0vKioKICAgKiBJbnRpYWxpemUgdGhlIGluc3RhbGxhdGlvbiBvZiBydW50aW1lCiAgICoKICAgKiBAYWNjZXNzIHB1YmxpYwogICAqIEByZXR1cm4ge1Byb21pc2U8Qm9vbGVhbiwgRXJyb3I+fSB0aGlzIGlzIFByb21pc2UgYW5kIGlmIHRoZSBpbnN0YWxsYXRpb24gcHJvY2VzcyBoYXBwZW5lZCB3aXRob3V0IGFueSBwcm9ibGVtcyByZXR1cm5zIHRydWUgb3RoZXJ3aXNlIHRoZSBlcnJvci4KICAgKgogICAqIEBtZW1iZXJPZiBSdW50aW1lVUEKICAgKi8KcmV0dXJuKDAsZi5kZWZhdWx0KShSdW50aW1lVUEsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuZG9tYWluPWUucnVudGltZUNvbmZpZ3VyYXRpb24uZG9tYWluO3RyeXt2YXIgbj1lLnJ1bnRpbWVDYXBhYmlsaXRpZXMuZ2V0UnVudGltZUNhcGFiaWxpdGllcygpLG89ZS5zdG9yYWdlcy5ydW50aW1lLmdldCgicnVudGltZTpVUkwiKSxhPWUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiksdT1lLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMuZ2V0KCksYz1lLnN0b3JhZ2VzLnJ1bnRpbWUuZ2V0KCJwMnBIYW5kbGVyOlVSTCIpO2kuZGVmYXVsdC5hbGwoW28sbixhLHUsY10pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucnVudGltZVVSTD10WzBdP3RbMF0ucnVudGltZVVSTDp0WzBdLGUucnVudGltZVVSTHx8KGUucnVudGltZVVSTD0icnVudGltZTovLyIrZS5kb21haW4rIi8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInJ1bnRpbWU6VVJMIiwxLHtydW50aW1lVVJMOmUucnVudGltZVVSTH0pKSxlLmNhcGFiaWxpdGllcz10WzFdLCgwLHMuZGVmYXVsdCkoQy5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllcy5jb25zdHJhaW50cyx0WzFdKSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2U9bmV3IEsuZGVmYXVsdChlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLHRbMl18fHt9KSxlLl9oeXBlcnR5UmVzb3VyY2VzPXRbM118fHt9LGUucDJwSGFuZGxlclVSTD10WzRdP3RbNF0ucDJwSGFuZGxlclVSTDp0WzRdLGUucDJwSGFuZGxlclVSTHx8KGUucDJwSGFuZGxlclVSTD1lLnJ1bnRpbWVVUkwrIi9wMnBoYW5kbGVyLyIrKDAsUC5nZW5lcmF0ZUdVSUQpKCksWC5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gUDJQSGFuZGxlclVSTDogIixlLnAycEhhbmRsZXJVUkwpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInAycEhhbmRsZXI6VVJMIiwxLHtwMnBIYW5kbGVyVVJMOmUucDJwSGFuZGxlclVSTH0pKSxlLl9sb2FkQ29tcG9uZW50cygpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5faHlwZXJ0eVJlc291cmNlc1N0b3JhZ2U9bmV3IFYuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcyxlLl9oeXBlcnR5UmVzb3VyY2VzKSxlLnAycD8oWC5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gbG9hZCBwMnBIYW5kbGVyOiAiLHQpLGUuX2xvYWRQMlBIYW5kbGVyKCkpOihYLmluZm8oIltSdW50aW1lVUEgLSBpbml0XSBQMlAgbm90IHN1cHBvcnRlZCIpLCJQMlAgTm90IFN1cHBvcnRlZCIpfSkudGhlbihmdW5jdGlvbihlKXtYLmluZm8oIltydW50aW1lIHVhIC0gaW5pdF0gLSBzdGF0dXM6ICIsZSksdCghMCl9LGZ1bmN0aW9uKGUpe1guZXJyb3IoIkVSUk9SOiAiLGUpLHQoITApfSl9Y2F0Y2goZSl7cihlKX19KX19LHtrZXk6Il9sb2FkUDJQSGFuZGxlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe3ZhciByPUMucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLG49ci5wMnBIYW5kbGVyU3R1YixpPXtpc0hhbmRsZXJTdHViOiEwLHJ1bnRpbWVVUkw6ZS5ydW50aW1lVVJMfTtYLmxvZygiW1J1bnRpbWVVQSBsb2FkUDJQSGFuZGxlcl0gUDJQU3R1YkhhbmRsZXI6ICIsbiksZS5sb2FkZXIubG9hZFN0dWIobixpKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPWUucnVudGltZVVSTCsiL3VhIixpPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206bix0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlLmRvbWFpbisiL3NtIixib2R5OntzdWJzY3JpYmU6W3IudXJsXSxzb3VyY2U6ZS5ydW50aW1lVVJMfX07ZS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24oZSl7WC5sb2coIltydW50aW1lIHVhIC0gbGlzdGVuZXJdIC0gcmVjZWl2ZSBtc2c6ICIsZSl9KSxlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtYLmxvZygiW3J1bnRpbWUgdWEgLSBwb3N0TWVzc2FnZV0gLSByZXBseTogIixlKX0pLFguaW5mbygiW3J1bnRpbWUgdWEgLSBwMnAgaW5zdGFsbGF0aW9uXSAtIHN1Y2Nlc3M6ICIsciksdCghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtYLmluZm8oIltydW50aW1lIHVhIC0gcDJwIGluc3RhbGxhdGlvbl0gLSBmYWlsOiAiLGUpLHQoITEpfSl9KX19LHtrZXk6Il9sb2FkQ29tcG9uZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dHJ5ewovLyBQcmVwYXJlIHRoZSBvbiBpbnN0YW5jZSB0byBoYW5kbGUgd2l0aCB0aGUgZmFsbGJhY2tzIGFuZCBydW50aW1lQ2F0YWxvZ3VlOwplLmRlc2NyaXB0b3JJbnN0YW5jZT1uZXcgRC5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5ydW50aW1lQ29uZmlndXJhdGlvbiksCi8vIFByZXBhcmUgdGhlIGxvYWRlciB0byBsb2FkIHRoZSBoeXBlcnRpZXMsIHByb3Rvc3R1YnMgYW5kIGlkcHByb3h5OwplLmxvYWRlcj1uZXcgRS5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDb25maWd1cmF0aW9uLGUuZGVzY3JpcHRvckluc3RhbmNlKSwKLy8gSW5zdGFudGlhdGUgdGhlIGlkZW50aXR5IE1vZHVsZQplLmlkZW50aXR5TW9kdWxlPW5ldyBnLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUucnVudGltZUNhcGFiaWxpdGllcyxlLnN0b3JhZ2VzLmlkZW50aXR5LGUuX2RhdGFPYmplY3RzU3RvcmFnZSxMLmRlZmF1bHQsZS5ydW50aW1lQ2F0YWxvZ3VlKTsKLy8gVXNlIHRoZSBzYW5kYm94IGZhY3RvcnkgdG8gY3JlYXRlIGFuIEFwcFNhbmRib3g7Ci8vIEluIHRoZSBmdXR1cmUgY2FuIGJlIGRlY2lkZWQgYnkgcG9saWN5RW5naW5lIGlmIHdlIG5lZWQKLy8gY3JlYXRlIGEgQXBwU2FuZGJveCBvciBub3Q7CnZhciBuPWUucnVudGltZUZhY3RvcnkuY3JlYXRlQXBwU2FuZGJveCgpOwovLyBJbnN0YW50aWF0ZSB0aGUgUmVnaXN0cnkgTW9kdWxlCmUucmVnaXN0cnk9bmV3IGguZGVmYXVsdChlLnJ1bnRpbWVVUkwsbixlLmlkZW50aXR5TW9kdWxlLGUucnVudGltZUNhdGFsb2d1ZSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5yZWdpc3RyeSxlLnAycEhhbmRsZXJVUkwpLAovLyBTZXQgdGhlIGxvYWRlciB0byBsb2FkIEh5cGVydGllcywgU3R1YnMgYW5kIElkcFByb3hpZXMKZS5yZWdpc3RyeS5sb2FkZXI9ZS5sb2FkZXIsCi8vIEluc3RhbnRpYXRlIHRoZSBNZXNzYWdlIEJ1cwplLm1lc3NhZ2VCdXM9bmV3IFMuZGVmYXVsdChlLnJlZ2lzdHJ5KSwKLy8gUHJlcGFyZSB0aGUgYWRkcmVzcyBhbGxvY2F0aW9uIGluc3RhbmNlOwplLmFkZHJlc3NBbGxvY2F0aW9uPW5ldyBNLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5KSwKLy8gSW5zdGFudGlhdGUgdGhlIFBvbGljeSBFbmdpbmUKZS5wb2xpY3lFbmdpbmU9bmV3IFIuZGVmYXVsdChuZXcgUS5kZWZhdWx0KGUucnVudGltZVVSTCxlLmlkZW50aXR5TW9kdWxlLGUucmVnaXN0cnksZS5zdG9yYWdlcy5wb2xpY3ksZS5ydW50aW1lQ2FwYWJpbGl0aWVzKSksCi8vIEluc3RhbnRpYXRlIERpc2NvdmVyeQplLmNvcmVEaXNjb3Zlcnk9bmV3IEguZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuZ3JhcGhDb25uZWN0b3IsZS5ydW50aW1lRmFjdG9yeSxlLnJlZ2lzdHJ5KSwKLy8gSW5zdGFudGlhdGUgdGhlIElkZW50aXR5TWFuYWdlcgplLmlkZW50aXR5TWFuYWdlcj1uZXcgbS5kZWZhdWx0KGUuaWRlbnRpdHlNb2R1bGUpLAovLyBpbml0aWFsaXNlIHRoZSBDcnlwdG9NYW5hZ2VyCkwuZGVmYXVsdC5pbml0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5jcnlwdG9NYW5hZ2VyLGUuX2RhdGFPYmplY3RzU3RvcmFnZSxlLnJlZ2lzdHJ5LGUuY29yZURpc2NvdmVyeSxlLmlkZW50aXR5TW9kdWxlLGUucnVudGltZUZhY3RvcnkpLAovLyBJbnN0YW50aWF0ZSB0aGUgR3JhcGggQ29ubmVjdG9yCmUuZ3JhcGhDb25uZWN0b3I9bmV3IE4uZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZU1hbmFnZXIpLGUuaGFuZGxlcnM9bmV3IFQuZGVmYXVsdChlLnBvbGljeUVuZ2luZSxlLmlkZW50aXR5TWFuYWdlcixMLmRlZmF1bHQpLGUubWVzc2FnZUJ1cy5waXBlbGluZU91dC5oYW5kbGVycz1bZS5oYW5kbGVycy5pZG1IYW5kbGVyLGUuaGFuZGxlcnMucGVwT3V0SGFuZGxlcixlLmhhbmRsZXJzLmVuY3J5cHRIYW5kbGVyXSxlLm1lc3NhZ2VCdXMucGlwZWxpbmVJbi5oYW5kbGVycz1bZS5oYW5kbGVycy5kZWNyeXB0SGFuZGxlcixlLmhhbmRsZXJzLnBlcEluSGFuZGxlcl0sCi8vIEFkZCB0byBBcHAgU2FuZGJveCB0aGUgbGlzdGVuZXI7Cm4uYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKHQpe2UubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0KX0pLEwuZGVmYXVsdC5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUmVnaXN0ZXIgbWVzc2FnZUJ1cyBvbiBSZWdpc3RyeQplLnJlZ2lzdHJ5Lm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLAovLyBQb2xpY3kgRW5naW5lCmUucG9saWN5RW5naW5lLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLAovLyBSZWdpc3RlciBtZXNzYWdlQnVzIG9uIElETQplLmlkZW50aXR5TW9kdWxlLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLAovLyBSZWdpc3RlciByZWdpc3RyeSBvbiBJZGVudGl0eU1vZHVsZQplLmlkZW50aXR5TW9kdWxlLnJlZ2lzdHJ5PWUucmVnaXN0cnksCi8vIFJlZ2lzdGVyIGNvcmVEaXNjb3Zlcnkgb24gSWRlbnRpdHlNb2R1bGUKZS5pZGVudGl0eU1vZHVsZS5jb3JlRGlzY292ZXJ5PWUuY29yZURpc2NvdmVyeSwKLy8gVXNlIHNhbmRib3ggZmFjdG9yeSB0byB1c2Ugc3BlY2lmaWMgbWV0aG9kcwovLyBhbmQgc2V0IHRoZSBtZXNzYWdlIGJ1cyB0byB0aGUgZmFjdG9yeQplLnJ1bnRpbWVGYWN0b3J5Lm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLAovLyBJbnN0YW5jaWF0ZSB0aGUgU3luY2hlck1hbmFnZXI7CmUuc3luY2hlck1hbmFnZXI9bmV3IFkuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUucmVnaXN0cnksZS5ydW50aW1lQ2F0YWxvZ3VlLGUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIsbnVsbCxlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsZS5pZGVudGl0eU1vZHVsZSksCi8vIFNldCBpbnRvIGxvYWRlciB0aGUgbmVlZGVkIGNvbXBvbmVudHM7CmUubG9hZGVyLnJ1bnRpbWVVUkw9ZS5ydW50aW1lVVJMLGUubG9hZGVyLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUubG9hZGVyLnJlZ2lzdHJ5PWUucmVnaXN0cnksZS5sb2FkZXIucnVudGltZUNhdGFsb2d1ZT1lLnJ1bnRpbWVDYXRhbG9ndWUsZS5sb2FkZXIucnVudGltZUZhY3Rvcnk9ZS5ydW50aW1lRmFjdG9yeSwKLy9JbnN0YW50aWF0ZSBEaXNjb3ZlcnkgTGliIGZvciBub3RpZmljYXRpb24gdGVzdGluZwovLyB0aGlzLmRpc2NvdmVyeSA9IG5ldyBEaXNjb3ZlcnkoImh5cGVydHk6Ly9sb2NhbGhvc3QvdGVzdCIsIHRoaXMucnVudGltZVVSTCwgdGhpcy5tZXNzYWdlQnVzKTsKLy8gdGhpcy5sb2FkU3R1YigibG9jYWxob3N0Iik7Ci8vIHNldFRpbWVvdXQoKCkgPT4gewovLyAgIHRoaXMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzRE8oInVzZXI6Ly9nb29nbGUuY29tL29wZW5pZHRlc3QyMEBnbWFpbC5jb20iKQovLyAgIC50aGVuKGh5cGVydGllcyA9PiB7Ci8vICAgICBoeXBlcnRpZXMuZm9yRWFjaChoeXBlcnR5ID0+ewovLyAgICAgICBoeXBlcnR5Lm9uTGl2ZSgoKSA9PiBsb2cubG9nKGBOb3RpZmljYXRpb24gZnJvbSAke2h5cGVydHkuZGF0YS5oeXBlcnR5SUR9IGNoYW5nZWQgdG8gbGl2ZWApKTsKLy8gICAgICAgaHlwZXJ0eS5vbkRpc2Nvbm5lY3RlZCgoKSA9PiBsb2cubG9nKGBOb3RpZmljYXRpb24gZnJvbSAke2h5cGVydHkuZGF0YS5oeXBlcnR5SUR9IGNoYW5nZWQgdG8gZGlzY29ubmVjdGVkYCkpOwovLyAgICAgfSk7Ci8vICAgfSk7Ci8vIH0sIDIwMDApOwovLyBJbnN0YW5jaWF0ZSB0aGUgU3Vic2NyaXB0aW9uTWFuYWdlcjsKZS5zdWJzY3JpcHRpb25NYW5hZ2VyPW5ldyBKLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnN0b3JhZ2VzLnN1YnNjcmlwdGlvbnMpOwovLyB0aGlzLnN1YnNjcmlwdGlvbk1hbmFnZXIuaW5pdCgpLnRoZW4oKCk9PnsKLy8gICByZXNvbHZlKHRydWUpOwovLyB9KTsKdmFyIG89W107by5wdXNoKGUuc3Vic2NyaXB0aW9uTWFuYWdlci5pbml0KCkpLG8ucHVzaChlLmlkZW50aXR5TW9kdWxlLmluaXQoKSksby5wdXNoKEwuZGVmYXVsdC5sb2FkU2Vzc2lvbktleXMoKSksaS5kZWZhdWx0LmFsbChvKS50aGVuKGZ1bmN0aW9uKGUpezM9PT1lLmxlbmd0aD90KCEwKTpyKCJbUnVudGltZVVBLl9sb2FkQ29tcG9uZW50c10gRXJyb3IgXSAiLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoZSl9KX1jYXRjaChlKXtyKGUpfX0pfX0se2tleToibG9hZEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJIeXBlcnR5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZEh5cGVydHkoZSx0LHIpfX0se2tleToibG9hZFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUHJvdG9TdHViIGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZFN0dWIoZSl9fSx7a2V5OiJsb2FkSWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFgubG9nKCJpcGRQcm94eUNhdGFsb2d1ZVVSTCIsZSksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgSURQIFByb3h5IFVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIsIGNvdWxkIGJlIGEgRE9NQUlOIG9yIGEgVVJMIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRJZHBQcm94eShlKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFguaW5mbygiVW5yZWdpc3RlciBhbGwgaHlwZXJ0aWVzIiksbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UucmVnaXN0cnkudW5yZWdpc3RlckFsbEh5cGVydGllcygpLnRoZW4oZnVuY3Rpb24oZSl7WC5pbmZvKCJBbGwgdGhlIGh5cGVydGllcyBhcmUgdW5yZWdpc3RlZCB3aXRoIFN1Y2Nlc3M6IixlKSx0KCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1guZXJyb3IoIkZhaWxlZCB0byB1bnJlZ2lzdGVyIHRoZSBoeXBlcnRpZXMiLGUpLHIoITEpfSl9KX19XSksUnVudGltZVVBfSgpO3QuZGVmYXVsdD1aLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQxNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigxODIpLHIoMTI4KSxyKDE5MCkscig0MjUpLHIoNDMyKSxyKDQzMyksZS5leHBvcnRzPXIoMTMpLlByb21pc2V9LC8qIDQxNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMjkpLGk9cigxMzApOwovLyB0cnVlICAtPiBTdHJpbmcjYXQKLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0CmUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbyxzLGE9U3RyaW5nKGkodCkpLHU9bihyKSxjPWEubGVuZ3RoO3JldHVybiB1PDB8fHU+PWM/ZT8iIjp2b2lkIDA6KG89YS5jaGFyQ29kZUF0KHUpLG88NTUyOTZ8fG8+NTYzMTl8fHUrMT09PWN8fChzPWEuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KHUpOm86ZT9hLnNsaWNlKHUsdSsyKTpzLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzYpfX19LC8qIDQxOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTMzKSxpPXIoNzMpLG89cig5NSkscz17fTsKLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKCkKcig1OCkocyxyKDIzKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6aSgxLHIpfSksbyhlLHQrIiBJdGVyYXRvciIpfX0sLyogNDE5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQwKSxpPXIoNDEpLG89cig2Nyk7ZS5leHBvcnRzPXIoNDQpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7aShlKTtmb3IodmFyIHIscz1vKHQpLGE9cy5sZW5ndGgsdT0wO2E+dTspbi5mKGUscj1zW3UrK10sdFtyXSk7cmV0dXJuIGV9fSwvKiA0MjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mCi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzCnZhciBuPXIoNDUpLGk9cigxMzQpLG89cig0MjEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLHMpe3ZhciBhLHU9bih0KSxjPWkodS5sZW5ndGgpLGY9byhzLGMpOwovLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKaWYoZSYmciE9cil7Zm9yKDtjPmY7KQovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKChhPXVbZisrXSkhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2M+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSwvKiA0MjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTI5KSxpPU1hdGgubWF4LG89TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSxlPDA/aShlK3QsMCk6byhlLHQpfX0sLyogNDIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MjMpLGk9cig0MjQpLG89cig3NCkscz1yKDQ1KTsKLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKQovLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKQovLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpCi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKQplLmV4cG9ydHM9cigxODMpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MCwvLyBuZXh0IGluZGV4CnRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGkoMSkpOiJrZXlzIj09dD9pKDAscik6InZhbHVlcyI9PXQ/aSgwLGVbcl0pOmkoMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSwKLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KQpvLkFyZ3VtZW50cz1vLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LC8qIDQyMyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe319LC8qIDQyNCAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LC8qIDQyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGksbyxzLGE9cig5MiksdT1yKDIyKSxjPXIoNjUpLGY9cigxOTEpLGw9cigyMSksZD1yKDM2KSxwPXIoOTMpLHk9cig0MjYpLGg9cig0MjcpLHY9cigxOTUpLGc9cigxOTYpLnNldCxiPXIoNDI5KSgpLG09cigxMzgpLF89cigxOTcpLFI9cigxOTgpLHc9dS5UeXBlRXJyb3IsUz11LnByb2Nlc3MsUD11LlByb21pc2UsTz0icHJvY2VzcyI9PWYoUyksTT1mdW5jdGlvbigpe30saz1pPW0uZixMPSEhZnVuY3Rpb24oKXt0cnl7Ci8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydAp2YXIgZT1QLnJlc29sdmUoMSksdD0oZS5jb25zdHJ1Y3Rvcj17fSlbcigyMykoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShNLE0pfTsKLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdApyZXR1cm4oT3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbihNKWluc3RhbmNlb2YgdH1jYXRjaChlKXt9fSgpLHg9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuISghZChlKXx8ImZ1bmN0aW9uIiE9dHlwZW9mKHQ9ZS50aGVuKSkmJnR9LEU9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO2IoZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixpPTE9PWUuX3Msbz0wO3IubGVuZ3RoPm87KSFmdW5jdGlvbih0KXt2YXIgcixvLHM9aT90Lm9rOnQuZmFpbCxhPXQucmVzb2x2ZSx1PXQucmVqZWN0LGM9dC5kb21haW47dHJ5e3M/KGl8fCgyPT1lLl9oJiZEKGUpLGUuX2g9MSksITA9PT1zP3I9bjooYyYmYy5lbnRlcigpLHI9cyhuKSxjJiZjLmV4aXQoKSkscj09PXQucHJvbWlzZT91KHcoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KG89eChyKSk/by5jYWxsKHIsYSx1KTphKHIpKTp1KG4pfWNhdGNoKGUpe3UoZSl9fShyW28rK10pOy8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoCmUuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmQShlKX0pfX0sQT1mdW5jdGlvbihlKXtnLmNhbGwodSxmdW5jdGlvbigpe3ZhciB0LHIsbixpPWUuX3Ysbz1VKGUpO2lmKG8mJih0PV8oZnVuY3Rpb24oKXtPP1MuZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixpLGUpOihyPXUub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246aX0pOihuPXUuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsaSl9KSwKLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGQKZS5faD1PfHxVKGUpPzI6MSksZS5fYT12b2lkIDAsbyYmdC5lKXRocm93IHQudn0pfSxVPWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5faCYmMD09PShlLl9hfHxlLl9jKS5sZW5ndGh9LEQ9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdDtPP1MuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9dS5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxJPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LC8vIHVud3JhcAp0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksRSh0LCEwKSl9LGo9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjsvLyB1bndyYXAKdHJ5e2lmKHI9PT1lKXRocm93IHcoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9eChlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTsvLyB3cmFwCnRyeXt0LmNhbGwoZSxjKGosbiwxKSxjKEksbiwxKSl9Y2F0Y2goZSl7SS5jYWxsKG4sZSl9fSk6KHIuX3Y9ZSxyLl9zPTEsRShyLCExKSl9Y2F0Y2goZSl7SS5jYWxsKHtfdzpyLF9kOiExfSxlKX19fTsKLy8gY29uc3RydWN0b3IgcG9seWZpbGwKTHx8KAovLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKQpQPWZ1bmN0aW9uKGUpe3kodGhpcyxQLCJQcm9taXNlIiwiX2giKSxwKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShjKGosdGhpcywxKSxjKEksdGhpcywxKSl9Y2F0Y2goZSl7SS5jYWxsKHRoaXMsZSl9fSwKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCm49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSwvLyA8LSBhd2FpdGluZyByZWFjdGlvbnMKdGhpcy5fYT12b2lkIDAsLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnMKdGhpcy5fcz0wLC8vIDwtIHN0YXRlCnRoaXMuX2Q9ITEsLy8gPC0gZG9uZQp0aGlzLl92PXZvaWQgMCwvLyA8LSB2YWx1ZQp0aGlzLl9oPTAsLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWQKdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9cig0MzApKFAucHJvdG90eXBlLHsKLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkKdGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPWsodih0aGlzLFApKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49Tz9TLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZFKHRoaXMsITEpLHIucHJvbWlzZX0sCi8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpCmNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLG89ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhqLGUsMSksdGhpcy5yZWplY3Q9YyhJLGUsMSl9LG0uZj1rPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09UHx8ZT09PXM/bmV3IG8oZSk6aShlKX0pLGwobC5HK2wuVytsLkYqIUwse1Byb21pc2U6UH0pLHIoOTUpKFAsIlByb21pc2UiKSxyKDQzMSkoIlByb21pc2UiKSxzPXIoMTMpLlByb21pc2UsCi8vIHN0YXRpY3MKbChsLlMrbC5GKiFMLCJQcm9taXNlIix7Ci8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpCnJlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1rKHRoaXMpO3JldHVybigwLHQucmVqZWN0KShlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKihhfHwhTCksIlByb21pc2UiLHsKLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpCnJlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIFIoYSYmdGhpcz09PXM/UDp0aGlzLGUpfX0pLGwobC5TK2wuRiohKEwmJnIoMTk5KShmdW5jdGlvbihlKXtQLmFsbChlKS5jYXRjaChNKX0pKSwiUHJvbWlzZSIsewovLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSkKYWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1rKHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qsbz1fKGZ1bmN0aW9uKCl7dmFyIHI9W10sbz0wLHM9MTtoKGUsITEsZnVuY3Rpb24oZSl7dmFyIGE9bysrLHU9ITE7ci5wdXNoKHZvaWQgMCkscysrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLHJbYV09ZSwtLXN8fG4ocikpfSxpKX0pLC0tc3x8bihyKX0pO3JldHVybiBvLmUmJmkoby52KSxyLnByb21pc2V9LAovLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpCnJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWsodCksbj1yLnJlamVjdCxpPV8oZnVuY3Rpb24oKXtoKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gaS5lJiZuKGkudiksci5wcm9taXNlfX0pfSwvKiA0MjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LC8qIDQyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2NSksaT1yKDE5Miksbz1yKDE5Mykscz1yKDQxKSxhPXIoMTM0KSx1PXIoMTk0KSxjPXt9LGY9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbCxkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxiPW4ocixsLHQ/MjoxKSxtPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7Ci8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvcgppZihvKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPm07bSsrKWlmKCh2PXQ/YihzKHk9ZVttXSlbMF0seVsxXSk6YihlW21dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PWkoaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSwvKiA0MjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81CmUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSwvKiA0MjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjIpLGk9cigxOTYpLnNldCxvPW4uTXV0YXRpb25PYnNlcnZlcnx8bi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHM9bi5wcm9jZXNzLGE9bi5Qcm9taXNlLHU9InByb2Nlc3MiPT1yKDc1KShzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsYz1mdW5jdGlvbigpe3ZhciBuLGk7Zm9yKHUmJihuPXMuZG9tYWluKSYmbi5leGl0KCk7ZTspe2k9ZS5mbixlPWUubmV4dDt0cnl7aSgpfWNhdGNoKG4pe3Rocm93IGU/cigpOnQ9dm9pZCAwLG59fXQ9dm9pZCAwLG4mJm4uZW50ZXIoKX07Ci8vIE5vZGUuanMKaWYodSlyPWZ1bmN0aW9uKCl7cy5uZXh0VGljayhjKX07ZWxzZSBpZighb3x8bi5uYXZpZ2F0b3ImJm4ubmF2aWdhdG9yLnN0YW5kYWxvbmUpaWYoYSYmYS5yZXNvbHZlKXt2YXIgZj1hLnJlc29sdmUoKTtyPWZ1bmN0aW9uKCl7Zi50aGVuKGMpfX1lbHNlIHI9ZnVuY3Rpb24oKXsKLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKQppLmNhbGwobixjKX07ZWxzZXt2YXIgbD0hMCxkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgbyhjKS5vYnNlcnZlKGQse2NoYXJhY3RlckRhdGE6ITB9KSwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpyPWZ1bmN0aW9uKCl7ZC5kYXRhPWw9IWx9fXJldHVybiBmdW5jdGlvbihuKXt2YXIgaT17Zm46bixuZXh0OnZvaWQgMH07dCYmKHQubmV4dD1pKSxlfHwoZT1pLHIoKSksdD1pfX19LC8qIDQzMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdClyJiZlW2ldP2VbaV09dFtpXTpuKGUsaSx0W2ldKTtyZXR1cm4gZX19LC8qIDQzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjIpLGk9cigxMyksbz1yKDQwKSxzPXIoNDQpLGE9cigyMykoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGlbZV0/aVtlXTpuW2VdO3MmJnQmJiF0W2FdJiZvLmYodCxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwvKiA0MzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5CnZhciBuPXIoMjEpLGk9cigxMyksbz1yKDIyKSxzPXIoMTk1KSxhPXIoMTk4KTtuKG4uUCtuLlIsIlByb21pc2UiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PXModGhpcyxpLlByb21pc2V8fG8uUHJvbWlzZSkscj0iZnVuY3Rpb24iPT10eXBlb2YgZTtyZXR1cm4gdGhpcy50aGVuKHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfTplLHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByfSl9OmUpfX0pfSwvKiA0MzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnkKdmFyIG49cigyMSksaT1yKDEzOCksbz1yKDE5Nyk7bihuLlMsIlByb21pc2UiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5mKHRoaXMpLHI9byhlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LC8qIDQzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0MzUpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QuYXNzaWdufSwvKiA0MzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKQp2YXIgbj1yKDIxKTtuKG4uUytuLkYsIk9iamVjdCIse2Fzc2lnbjpyKDQzNil9KX0sLyogNDM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLikKdmFyIG49cig2NyksaT1yKDEzOSksbz1yKDc3KSxzPXIoNzYpLGE9cigxODcpLHU9T2JqZWN0LmFzc2lnbjsKLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCmUuZXhwb3J0cz0hdXx8cig2NikoZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LHI9U3ltYm9sKCksbj0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiO3JldHVybiBlW3JdPTcsbi5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPWV9KSw3IT11KHt9LGUpW3JdfHxPYmplY3Qua2V5cyh1KHt9LHQpKS5qb2luKCIiKSE9bn0pP2Z1bmN0aW9uKGUsdCl7Zm9yKC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKdmFyIHI9cyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0xLGY9aS5mLGw9by5mO3U+YzspZm9yKHZhciBkLHA9YShhcmd1bWVudHNbYysrXSkseT1mP24ocCkuY29uY2F0KGYocCkpOm4ocCksaD15Lmxlbmd0aCx2PTA7aD52OylsLmNhbGwocCxkPXlbdisrXSkmJihyW2RdPXBbZF0pO3JldHVybiByfTp1fSwvKiA0MzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDM4KTt2YXIgbj1yKDEzKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eShlLHQscil9fSwvKiA0MzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpOwovLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpuKG4uUytuLkYqIXIoNDQpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDQwKS5mfSl9LC8qIDQzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQwKSx5PXIoNDQyKSxoPXIoOTkpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNDY1KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDQ2NyksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9cigxNCk7cig0NjgpO3ZhciB3PXIoMjA1KSxTPWQuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLFA9e0NSRUFURUQ6ImNyZWF0ZWQiLExJVkU6ImxpdmUiLERFUExPWUlORzoiZGVwbG95aW5nIixERVBMT1lFRDoiZGVwbG95ZWQiLFBST0dSRVNTOiJpbi1wcm9ncmVzcyIsRElTQ09OTkVDVEVEOiJkaXNjb25uZWN0ZWQiLEZBSUxFRDoiZGVwbG95bWVudC1mYWlsZWQiLERFQUQ6ImRlYWQifSxPPWZ1bmN0aW9uKCl7LyoqCiAgKiBUbyBpbml0aWFsaXNlIHRoZSBSdW50aW1lIFJlZ2lzdHJ5IHdpdGggdGhlIFJ1bnRpbWVVUkwgdGhhdCB3aWxsIGJlIHRoZSBiYXNpcyB0byBkZXJpdmUgdGhlIGludGVybmFsIHJ1bnRpbWUgYWRkcmVzc2VzIHdoZW4gYWxsb2NhdGluZyBhZGRyZXNzZXMgdG8gaW50ZXJuYWwgcnVudGltZSBjb21wb25lbnQuIEluIGFkZGl0aW9uLCB0aGUgUmVnaXN0cnkgZG9tYWluIGJhY2stZW5kIHRvIGJlIHVzZWQgdG8gcmVtb3RlbHkgcmVnaXN0ZXIgUnVudGltZSBjb21wb25lbnRzLCBpcyBhbHNvIHBhc3NlZCBhcyBpbnB1dCBwYXJhbWV0ZXIuCiAgKiBAcGFyYW0gIHtNZXNzYWdlQnVzfSAgICAgICAgICBtc2didXMgICAgICAgICAgICAgICAgbXNnYnVzCiAgKiBAcGFyYW0gIHtIeXBlcnR5UnVudGltZVVSTH0gICBydW50aW1lVVJMICAgICAgICAgICAgcnVudGltZVVSTAogICogQHBhcmFtICB7QXBwU2FuZGJveH0gICAgICAgICAgYXBwU2FuZGJveCAgICAgICAgICAgIGFwcFNhbmRib3gKICAqIEBwYXJhbSAge3J1bnRpbWVDYXRhbG9ndWV9ICAgIHJ1bnRpbWVDYXRhbG9ndWUgICAgICBydW50aW1lQ2F0YWxvZ3VlCiAgKiBAcGFyYW0gIHtEb21haW5VUkx9ICAgICAgICAgICByZW1vdGVSZWdpc3RyeSAgICAgICAgcmVtb3RlUmVnaXN0cnkKICAqIEBwYXJhbSAge3N0b3JhZ2VNYW5hZ2VyfSAgICAgIHN0b3JhZ2VNYW5hZ2VyCiAgKi8KZnVuY3Rpb24gUmVnaXN0cnkoZSx0LHIsbixpLG8scyxhKXsKLy8gaG93IHNvbWUgZnVuY3Rpb25zIHJlY2VpdmUgdGhlIHBhcmFtZXRlcnMgZm9yIGV4YW1wbGU6Ci8vIG5ldyBSZWdpc3RyeSgnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycsIGFwcFNhbmRib3gsIGlkTW9kdWxlLCByZW1vdGVSZWdpc3RyeSk7Ci8vIHJlZ2lzdHJ5LnJlZ2lzdGVyU3R1YihzYW5kYm94LCAnc3AxJyk7Ci8vIHJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eShzYW5kQm94LCAnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycpOwovLyByZWdpc3RyeS5yZXNvbHZlKCdoeXBlcnR5LXJ1bnRpbWU6Ly9zcDEvMTIzJyk7CmlmKCgwLHUuZGVmYXVsdCkodGhpcyxSZWdpc3RyeSksIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nLiIpOy8qaWYgKCFyZW1vdGVSZWdpc3RyeSkgdGhyb3cgbmV3IEVycm9yKCdyZW1vdGVSZWdpc3RyeSBpcyBtaXNzaW5nJyk7Ki8KdmFyIGM9dGhpcztjLnJlZ2lzdHJ5VVJMPWUrIi9yZWdpc3RyeS8iLGMuYXBwU2FuZGJveD10LGMucnVudGltZVVSTD1lLGMucDJwSGFuZGxlclVSTD1zLGMucnVudGltZUNhdGFsb2d1ZT1uLGMucmVtb3RlUmVnaXN0cnk9YSxjLmlkTW9kdWxlPXIsYy5zdG9yYWdlTWFuYWdlcj1vLGMucnVudGltZUNhcGFiaWxpdGllcz1pLGMuaWRlbnRpZmllcj0oMCxSLmdlbmVyYXRlR1VJRCkoKSxjLnJlZ2lzdHJhdGlvblJldHJpZXM9NSwvLyBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgSHlwZXJ0aWVzIGFuZCBEYXRhT2JqZWN0cyB3aGVuIGVycm9ycyBvY2N1cnMKLy8gdGhlIGV4cGlyZXMgaW4gMzYwMCwgcmVwcmVzZW50cyAxIGhvdXIKLy90aGUgZXhwaXJlcyBpcyBpbiBzZWNvbmRzLCB1bml0IG9mIG1lYXN1cmUgcmVjZWl2ZWQgYnkgdGhlIGRvbWFpbiByZWdpc3RyeQpjLmV4cGlyZXNUaW1lPTM2MDAsYy5oeXBlcnRpZXNMaXN0VG9SZW1vdmU9e30sYy5oeXBlcnRpZXNMaXN0PVtdLGMucmVtb3RlSHlwZXJ0eUxpc3Q9W10sYy5yZW1vdGVEYXRhT2JqZWN0TGlzdD1bXSxjLmlkcExlZ2FjeVByb3h5TGlzdD17fSxjLndhdGNoaW5nWW91PW5ldyB3LldhdGNoaW5nWW91LGMucDJwSGFuZGxlclN0dWI9e30sYy5wMnBSZXF1ZXN0ZXJTdHViPWMud2F0Y2hpbmdZb3Uud2F0Y2goInAycFJlcXVlc3RlclN0dWIiLHt9LCEwKSxjLnAycENvbm5lY3Rpb25MaXN0PWMud2F0Y2hpbmdZb3Uud2F0Y2goInAycENvbm5lY3Rpb25MaXN0Iix7fSwhMCksYy5wMnBIYW5kbGVyQXNzb2NpYXRpb249e30sYy5wcm90b3N0dWJzTGlzdD1jLndhdGNoaW5nWW91LndhdGNoKCJwcm90b3N0dWJzTGlzdCIse30sITApLGMuaWRwUHJveHlMaXN0PWMud2F0Y2hpbmdZb3Uud2F0Y2goImlkcFByb3h5TGlzdCIse30sITApLGMuZGF0YU9iamVjdExpc3Q9e30sYy5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3Q9e30sYy5zYW5kYm94ZXNMaXN0PXtzYW5kYm94Ont9LGFwcFNhbmRib3g6e319LGMucGVwTGlzdD17fSxjLnJlZ2lzdHJpZXM9e30sYy5fZG9tYWluPSgwLFIuZGl2aWRlVVJMKShjLnJlZ2lzdHJ5VVJMKS5kb21haW4sYy5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbZV09dDt2YXIgZj1uZXcgXy5kZWZhdWx0KGMpO2MuX3AycENvbm5lY3Rpb25SZXNvbHZlPWZ9cmV0dXJuKDAsZi5kZWZhdWx0KShSZWdpc3RyeSxbe2tleToiX2dldElkZW50aXR5QXNzb2NpYXRlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiByLmh5cGVydGllc0xpc3Qpe3ZhciBpPXIuaHlwZXJ0aWVzTGlzdFtuXTtpZihpLl9oeXBlcnR5VVJMPT09dClzd2l0Y2goZSl7Y2FzZSJ1c2VybmFtZSI6cmV0dXJuIGkuX3VzZXIudXNlcm5hbWU7Y2FzZSJjbiI6cmV0dXJuIGkuX3VzZXIuY247Y2FzZSJsb2NhbGUiOnJldHVybiBpLl91c2VyLmxvY2FsZTtjYXNlImF2YXRhciI6cmV0dXJuIGkuX3VzZXIuYXZhdGFyO2Nhc2UidXNlclVSTCI6cmV0dXJuIGkuX3VzZXIudXNlclVSTDtjYXNlIi4iOnJldHVybiBpLl91c2VyO2RlZmF1bHQ6cmV0dXJuIiJ9fXJldHVybiIifX0se2tleToiZ2V0QXBwU2FuZGJveCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBTYW5kYm94fX0se2tleToiZ2V0SHlwZXJ0eU93bmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dm9pZCAwO2Zvcih2YXIgbiBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBpPXQuaHlwZXJ0aWVzTGlzdFtuXTtpLmh5cGVydHlVUkw9PT1lJiYocj1pLnVzZXIudXNlclVSTCl9cmV0dXJuIHJ9fSx7a2V5OiJnZXRIeXBlcnR5TmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSJoeXBlcnR5Ij09PSgwLFIuZGl2aWRlVVJMKShlKS50eXBlLG49dm9pZCAwLGk9cj9lOnQuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKGUpO2Zvcih2YXIgbyBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBzPXQuaHlwZXJ0aWVzTGlzdFtvXTtpZihzLmh5cGVydHlVUkw9PT1pKXtuPXMub2JqZWN0TmFtZTticmVha319cmV0dXJuIG59fSx7a2V5OiJnZXRSZXBvcnRlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPXQuZGF0YU9iamVjdExpc3RbZV07aT9yKGkucmVwb3J0ZXIpOm4oIk5vIHJlcG9ydGVyIHdhcyBmb3VuZCIpfSl9fSx7a2V5OiJnZXRSZXBvcnRlclVSTFN5bmNob25vdXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdO3JldHVybiByP3IucmVwb3J0ZXI6dm9pZCAwfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV19fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZWREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dm9pZCAwPT09ci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV0mJihyLnN1YnNjcmliZWREYXRhT2JqZWN0TGlzdFtlXT10KX19LHtrZXk6ImdldFByZUF1dGhTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV0sbj1bXTtyZXR1cm4gciYmKG49ci5hdXRob3Jpc2UpLG59fSx7a2V5OiJ1bnJlZ2lzdGVyQWxsSHlwZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1bXTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2Zvcih2YXIgaSBpbiBlLmh5cGVydGllc0xpc3Qpe3ZhciBvPWUuaHlwZXJ0aWVzTGlzdFtpXSxhPWUudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZShvLmh5cGVydHlVUkwpO3QucHVzaChhKX1zLmRlZmF1bHQuYWxsKHQpLnRoZW4oZnVuY3Rpb24oKXtyKCJzdWNjZXNzZnVsbHkgdW5yZWdpc3RlcmVkIGFsbCBoeXBlcnRpZXMiKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVySHlwZXJ0eUluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXsKLy9UT0RPIHdvcmtpbmcgYnV0IHRoZSB1c2VyCnZhciB0PXRoaXMscj17dHlwZToiZXhlY3V0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOmUsYm9keTp7bWV0aG9kOiJjbG9zZSJ9fTsKLy8gU2VuZCBtZXNzYWdlIHRvIGh5cGVydHkgdG8gY2xvc2UKdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe1MubG9nKCJbUmVnaXN0cnkudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZV0gQ2xvc2UgUmVwbHkiLHIpO3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5LyIrZSx2YWx1ZToiZGlzY29ubmVjdGVkIixhdHRyaWJ1dGU6InN0YXR1cyJ9fTt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24oZSl7Uy5sb2coIltSZWdpc3RyeV0gdW5yZWdpc3RlciBoeXBlcnR5IFJlcGx5IixlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJ1cGRhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZSx2YWx1ZTp7c3RhdHVzOiJkaXNjb25uZWN0ZWQifX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtTLmxvZygiW1JlZ2lzdHJ5XSB1bnJlZ2lzdGVyIGRhdGFPYmplY3QgUmVwbHkiLGUpfSl9fSx7a2V5OiJkZWxldGVEYXRhT2JqZWN0SW5zdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToiZGVsZXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3ZhbHVlOntuYW1lOmV9fX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKGUpe1MubG9nKCJbUmVnaXN0cnldIHVucmVnaXN0ZXIgZGF0YU9iamVjdCBSZXBseSIsZSl9KX19LHtrZXk6InVwZGF0ZUh5cGVydHlJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6IlVQREFURSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5OntyZXNvdXJjZTplLHZhbHVlOnR9fTtyLl9tZXNzYWdlQnVzLnBvc3QucG9zdE1lc3NhZ2UobixmdW5jdGlvbihlKXt9KX19LHtrZXk6InJlZ2lzdGVyU3Vic2NyaWJlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5kYXRhT2JqZWN0TGlzdFtlXTtuJiYobi5zdWJzY3JpYmVyc3x8KG4uc3Vic2NyaWJlcnM9W10pLG4uc3Vic2NyaWJlcnMucHVzaCh0KSxyLmRhdGFPYmplY3RMaXN0W2VdPW4pfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtpZihyKXJldHVybiByLnN1YnNjcmliZXJzO3Rocm93Ik5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIn19LHtrZXk6InJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLFIuZGVlcENsb25lKShlKTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBzPVtdLGE9ci51cmwuc3BsaXQoIjoiKTtzLnB1c2goYVswXSksdC5zdG9yYWdlTWFuYWdlci5nZXQoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIikudGhlbihmdW5jdGlvbihhKXthfHwoYT17fSksCi8vdXBkYXRlIHRoZSBsaXN0IHdpdGggdGhlIG5ldyBlbGVtZW50cwphW2UubmFtZStlLnNjaGVtYStlLnJlc291cmNlcytlLnJlcG9ydGVyXT1lLnVybDt2YXIgdT12b2lkIDAsYz12b2lkIDA7MCE9PSgwLGkuZGVmYXVsdCkodC5wMnBIYW5kbGVyU3R1YikubGVuZ3RoJiYodT10LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF0udXJsLGM9cC5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3IucDJwUmVxdWVzdGVyU3R1Yiksci5zdGFydGluZ1RpbWU9ci5jcmVhdGVkLGRlbGV0ZSByLmF1dGhvcmlzZSxkZWxldGUgci5jcmVhdGVkLGRlbGV0ZSByLm11dHVhbCxkZWxldGUgci5yZXN1bWUsci5leHBpcmVzfHwoci5leHBpcmVzPXQuZXhwaXJlc1RpbWUpLHIuZGF0YVNjaGVtZXM9cyx1JiYoci5wMnBIYW5kbGVyPXUsci5wMnBSZXF1ZXN0ZXI9YyksdC5pc0ludGVyd29ya2luZ1Byb3RvU3R1YihyLnJlcG9ydGVyKSYmKHIuaW50ZXJ3b3JraW5nPSEwKSxyLnN0YXR1cz0ibGl2ZSI7dmFyIGY9dm9pZCAwO2UucmVzdW1lPyhTLmxvZygiW1JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdF0gcmVnaXN0ZXJpbmcgcHJldmlvdXNseSByZWdpc3RlcmVkIGRhdGEgb2JqZWN0IFVSTCIsciksZj17dHlwZToidXBkYXRlIix0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0LnJlZ2lzdHJ5RG9tYWluLGZyb206dC5yZWdpc3RyeVVSTCxib2R5OntyZXNvdXJjZTpyLnVybCx2YWx1ZTp7c3RhdHVzOiJsaXZlIn19fSk6KFMubG9nKCJbUmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0XSByZWdpc3RlcmluZyBuZXcgZGF0YSBvYmplY3QgVVJMIixyKSxmPXt0eXBlOiJjcmVhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0LnJlZ2lzdHJ5RG9tYWluLGJvZHk6e3ZhbHVlOnIscG9saWN5OiJwb2xpY3kifX0pLHQuZGF0YU9iamVjdExpc3Rbci51cmxdPWUsCi8vIHN0ZXAgdG8gb2J0YWluIHRoZSBsaXN0IG9mIGFsbCBVUkwgcmVnaXN0ZXJlZCB0byB1cGRhdGVkIHdpdGggdGhlIG5ldyBvbmUuCnQuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIsMCxhKS50aGVuKGZ1bmN0aW9uKCl7dHJ5e3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhmLHQuX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdID09PT4gcmVnaXN0ZXJEYXRhT2JqZWN0IFJlcGx5OiAnLCByZXBseSk7CjIwMD09PWUuYm9keS5jb2RlP24ocik6bygiZXJyb3Igb24gcmVnaXN0ZXIgRGF0YU9iamVjdCIpfSl9Y2F0Y2goZSl7Uy5lcnJvcihlKSxvKGUpfQovL3RpbWVyIHRvIGtlZXAgdGhlIHJlZ2lzdHJhdGlvbiBhbGl2ZQovLyB0aGUgdGltZSBpcyBkZWZpbmVkIGJ5IGEgbGl0dGxlIGxlc3MgdGhhbiBoYWxmIG9mIHRoZSBleHBpcmVzIHRpbWUgZGVmaW5lZApzZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOiJ1cGRhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0LnJlZ2lzdHJ5RG9tYWluLGJvZHk6e3Jlc291cmNlOnIudXJsLHZhbHVlOntzdGF0dXM6ImxpdmUifSxtZXRob2Q6InJlZnJlc2gifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlLGZ1bmN0aW9uKGUpe30pfSxyLmV4cGlyZXMvMS4xLzIqMWUzKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1MuZXJyb3IoIltSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIEVycm9yOiAiLGUpLG8oZSl9KX0pfSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQW5kU2NoZW1lcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj12b2lkIDA7Ci8vIGNoZWNrIGlmIHRoZSBoeXBlcnR5IHJlc291cmNlcyBpcyBhIHZlY3RvciBvciBhIHN0cmluZwovLyBUT0RPIGRlbGV0ZSBsYXRlciB3aGVuIGNhdGFsb2d1ZSBpcyBmaXhlZAoic3RyaW5nIj09dHlwZW9mIGUuaHlwZXJ0eVR5cGU/KG49W10sbi5wdXNoKGUuaHlwZXJ0eVR5cGUpKTpuPWUuaHlwZXJ0eVR5cGU7dmFyIGk9ZS5vYmplY3ROYW1lLG89ZS5kYXRhT2JqZWN0cyxhPVtdOwovL3RoaXMgd2lsbCBjcmVhdGUgYSBhcnJheSB3aXRoIGEgUHJvbWlzZSBpbiBlYWNoIHBvc2l0aW9uCmZvcih2YXIgdSBpbiBvKWEucHVzaCh0LnJ1bnRpbWVDYXRhbG9ndWUuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3Iob1t1XSkpOwovLyBhcyBzb29uIGFzIHRoZSBwcmV2aW91cyBhcnJheSBpcyBjb21wbGV0ZWQsIHRoaXMgd2lsbCB3YWl0IGZvciB0aGUgcmVzb2x2ZSBvZiBhbGwgcHJvbWlzZXMgaW4gdGhlIGFycmF5CnMuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG8gaW4gZSl7dmFyIHM9ZVtvXTt0LnB1c2gocy5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcy5zY2hlbWUuY29uc3RhbnQpfQovLyBsb2cubG9nKCdbUmVnaXN0cnldIEh5cGVydHkgU2NoZW1hcycsIGZpbHRlcmVkRGF0YVNjaGVtYXMpOwovLyBsb2cubG9nKCdbUmVnaXN0cnldIEh5cGVydHkgcmVzb3VyY2VzJywgcmVzb3VyY2VzKTsKcih7cmVzb3VyY2VzOm4sZGF0YVNjaGVtYTp0LG5hbWU6aX0pfSl9KX19LHtrZXk6ImNoZWNrUmVnaXN0ZXJlZFVSTHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgbz1lLnJlcG9ydGVyPyJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyI6InJlZ2lzdHJ5Okh5cGVydHlVUkxzIjsic3RyaW5nIj09dHlwZW9mIHQmJihvPXQmJiJoeXBlcnR5IiE9PSgwLFIuZGl2aWRlVVJMKSh0KS50eXBlPyJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyI6InJlZ2lzdHJ5Okh5cGVydHlVUkxzIiksci5zdG9yYWdlTWFuYWdlci5nZXQobykudGhlbihmdW5jdGlvbihzKXtpZihzfHwocz17fSksInN0cmluZyI9PXR5cGVvZiB0KXtTLmluZm8oIltSZWdpc3RyeSAtIGNoZWNrUmVnaXN0ZXJlZFVSTHNdIC0gbG9vayBmb3IgIit0KyIgb24gIixzKTt2YXIgYT0oMCxpLmRlZmF1bHQpKHMpLm1hcChmdW5jdGlvbihlKXt2YXIgcj1zW2VdLmluZGV4T2YodCk7cmV0dXJuIHNbZV1bcl19KTtyZXR1cm4gUy5pbmZvKCJbUmVnaXN0cnkgLSBjaGVja1JlZ2lzdGVyZWRVUkxzXSAtIGZvdW5kICIrYS5sZW5ndGgrIiByZXN1bHRzIG9uICIsYSksbigxPT09YS5sZW5ndGg/YTp2b2lkIDApfWlmKCJyZWdpc3RyeTpIeXBlcnR5VVJMcyIhPT1vKXt2YXIgdT1lLm5hbWUrZS5zY2hlbWErZS5yZXNvdXJjZXMrZS5yZXBvcnRlcjtyZXR1cm4gbihzW3VdP3NbdV06dm9pZCAwKX1yLl9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oc1tlLnJlc291cmNlcytlLmRhdGFTY2hlbWErZS5uYW1lXT9zW2UucmVzb3VyY2VzK2UuZGF0YVNjaGVtYStlLm5hbWVdOnZvaWQgMCl9KX0pfSl9fSx7a2V5OiJyZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGE9dGhpcyx1PXZvaWQgMDtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihzLGMpewovL2Fzc3VtaW5nIGRlc2NyaXB0b3IgY29tZSBpbiB0aGlzIGZvcm1hdCwgdGhlIHNlcnZpY2UtcHJvdmlkZXItZG9tYWluIHVybCBpcyByZXRyaWV2ZWQgYnkgYSBzcGxpdCBpbnN0cnVjdGlvbgovL2h5cGVydHktY2F0YWxvZ3VlOi8vPHNlcnZpY2UtcHJvdmlkZXItZG9tYWluPi88Y2F0YWxvZ3VlLW9iamVjdC1pZGVudGlmaWVyPgp2YXIgZj0oMCxSLmRpdmlkZVVSTCkodCkuZG9tYWluO2YuaW5jbHVkZXMoImNhdGFsb2d1ZSIpJiYoZj1mLnJlcGxhY2UoImNhdGFsb2d1ZS4iLCIiKSksYS5pZE1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbihvKS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBsPW8udXNlclByb2ZpbGUsZD1sLnVzZXJVUkw7dm9pZCAwPT09YS5fbWVzc2FnZUJ1cz9jKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBNZXNzYWdlQnVzIGlzIHVuZGVmaW5lZCIpOgovL2NhbGwgY2hlY2sgaWYgdGhlIHByb3Rvc3R1YiBleGlzdDogdG8gYmUgcmVtb3ZlZAovKiAgX3RoaXMucmVzb2x2ZShkb21haW5VcmwpLnRoZW4oZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgIC8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIHN0dWIgdG8gZG9tYWluIHJlZ2lzdHJ5LSAnLCBhKTsqLwphLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiKS50aGVuKGZ1bmN0aW9uKG8pewovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBzdG9yYWdlTWFuYWdlcl0gLSAnLCB1cmxzTGlzdCk7CmEuX2dldFJlc291cmNlc0FuZFNjaGVtZXMocikudGhlbihmdW5jdGlvbih5KXt1PXksb3x8KG89e30pLG9bdS5yZXNvdXJjZXMrdS5kYXRhU2NoZW1hK3UubmFtZV09bi5hZGRyZXNzLGEuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZWdpc3RyeTpIeXBlcnR5VVJMcyIsMCxvKS50aGVuKGZ1bmN0aW9uKCl7YS5yZWdpc3RyeURvbWFpbj1mLAovL2NoZWNrIHdoZXRoZXIgdGhlIHJlY2VpdmVkIHNhbmJveCBlIEFwcGxpY2F0aW9uU2FuZGJveCBvciBhIG5vcm1hbCBzYW5kYm94CiJhcHAiPT09ZS50eXBlP2Euc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W24uYWRkcmVzc1swXV09ZToibm9ybWFsIj09PWUudHlwZT9hLnNhbmRib3hlc0xpc3Quc2FuZGJveFtuLmFkZHJlc3NbMF1dPWU6YygiV3JvbmcgU2FuZGJveFR5cGUiKTt2YXIgbz12b2lkIDAseT12b2lkIDA7MCE9PSgwLGkuZGVmYXVsdCkoYS5wMnBIYW5kbGVyU3R1YikubGVuZ3RoJiYobz1hLnAycEhhbmRsZXJTdHViW2EucnVudGltZVVSTF0udXJsLHk9cC5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3IucDJwUmVxdWVzdGVyU3R1Yik7dmFyIGg9YS5ydW50aW1lVVJMLHY9bmV3IGIuZGVmYXVsdChhLmlkZW50aWZpZXIsYS5yZWdpc3RyeVVSTCx0LHIsbi5hZGRyZXNzWzBdLGwsImd1aWQiLGEucnVudGltZVVSTCwiY3R4IixvLHksdS5kYXRhU2NoZW1hLHUucmVzb3VyY2VzKTthLmh5cGVydGllc0xpc3QucHVzaCh2KTsKLy9tZXNzYWdlIHRvIHJlZ2lzdGVyIHRoZSBuZXcgaHlwZXJ0eSwgd2l0aGluIHRoZSBkb21haW4gcmVnaXN0cnkKdmFyIGc9dm9pZCAwLG09dm9pZCAwLF89YS5leHBpcmVzVGltZTsKLy8gc2V0IGEgZGlmZmVyZW50IGV4cGlyZXMgdmFsdWUgaWYgY29uZmlndXJlZCBpbiB0aGUgSHlwZXJ0eSBkZXNjcmlwdG9yCnIuY29uZmlndXJhdGlvbiYmci5jb25maWd1cmF0aW9uLmV4cGlyZXMmJihfPXIuY29uZmlndXJhdGlvbi5leHBpcmVzKSxuLm5ld0FkZHJlc3M/KAovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSByZWdpc3RlcmluZyBuZXcgSHlwZXJ0eSBVUkwnLCBhZGRyZXNzVVJMLmFkZHJlc3NbMF0pOwpnPXt1c2VyOmQsZGVzY3JpcHRvcjp0LHVybDpuLmFkZHJlc3NbMF0sZXhwaXJlczpfLHJlc291cmNlczp1LnJlc291cmNlcyxkYXRhU2NoZW1lczp1LmRhdGFTY2hlbWEscnVudGltZTpoLHN0YXR1czoibGl2ZSJ9LAovLyBzZXQgYSBkaWZmZXJlbnQgZXhwaXJlcyBpZiBkZWZpbmVkIGluIHRoZSBoeXBlcnR5IGNvbmZpZ3VyYXRpb24KbyYmKGcucDJwSGFuZGxlcj1vLGcucDJwUmVxdWVzdGVyPXkpLAovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSByZWdpc3RlcmluZyBuZXcgSHlwZXJ0eSBhdCBkb21haW4gcmVnaXN0cnkgJywgbWVzc2FnZVZhbHVlKTsKbT17dHlwZToiY3JlYXRlIixmcm9tOmEucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYS5yZWdpc3RyeURvbWFpbixib2R5Ont2YWx1ZTpnLHBvbGljeToicG9saWN5In19KTooCi8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIHJlZ2lzdGVyaW5nIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBIeXBlcnR5IFVSTCcsIGFkZHJlc3NVUkwuYWRkcmVzc1swXSk7Cm09e3R5cGU6InVwZGF0ZSIsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYS5yZWdpc3RyeURvbWFpbixmcm9tOmEucmVnaXN0cnlVUkwsYm9keTp7cmVzb3VyY2U6bi5hZGRyZXNzWzBdLHZhbHVlOntzdGF0dXM6ImxpdmUiLHVzZXI6ZH19fSxvJiYobS5ib2R5LnZhbHVlLnAycEhhbmRsZXI9byxtLmJvZHkudmFsdWUucDJwUmVxdWVzdGVyPXkpKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gSHlwZXJ0eSByZWdpc3RyYXRpb24gYXQgZG9tYWluIHJlZ2lzdHJ5ICAtICcsIG1lc3NhZ2UpOwp0cnl7YS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzKG0sYS5yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBIeXBlcnR5IHJlZ2lzdHJhdGlvbiByZXNwb25zZTogJywgcmVwbHkpOwppZigyMDA9PT1lLmJvZHkuY29kZSl7dmFyIHI9e3VybDpuLmFkZHJlc3NbMF19O28mJihyLnAycEhhbmRsZXI9byxyLnAycFJlcXVlc3Rlcj15KSxzKHIpfWVsc2V7aWYoNDA0IT09ZS5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eTogIixlKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gVGhlIHVwZGF0ZSB3YXMgbm90IHBvc3NpYmxlLiBSZWdpc3RlcmluZyBuZXcgSHlwZXJ0eSBhdCBkb21haW4gcmVnaXN0cnknKTsKZz17dXNlcjpkLGRlc2NyaXB0b3I6dCx1cmw6bi5hZGRyZXNzWzBdLGV4cGlyZXM6XyxyZXNvdXJjZXM6dS5yZXNvdXJjZXMsZGF0YVNjaGVtZXM6dS5kYXRhU2NoZW1hLHJ1bnRpbWU6aCxzdGF0dXM6ImxpdmUifSxvJiYoZy5wMnBIYW5kbGVyPW8sZy5wMnBSZXF1ZXN0ZXI9eSksbT17dHlwZToiY3JlYXRlIixmcm9tOmEucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYS5yZWdpc3RyeURvbWFpbixib2R5Ont2YWx1ZTpnLHBvbGljeToicG9saWN5In19O3RyeXthLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMobSxhLnJlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIEh5cGVydHkgcmVnaXN0cmF0aW9uIHVwZGF0ZSByZXNwb25zZTogJywgcmVwbHkpOwppZigyMDAhPT1lLmJvZHkuY29kZSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byByZWdpc3RlciBhbiBIeXBlcnR5OiAiK2UpO3ZhciB0PXt1cmw6bi5hZGRyZXNzWzBdfTtvJiYodC5wMnBIYW5kbGVyPW8sdC5wMnBSZXF1ZXN0ZXI9eSkscyh0KX0pfWNhdGNoKGUpe1MuZXJyb3IoZSksYyhlKX19fSl9Y2F0Y2goZSl7Uy5lcnJvcihlKSxjKGUpfQovL3RpbWVyIHRvIGtlZXAgdGhlIHJlZ2lzdHJhdGlvbiBhbGl2ZQovLyB0aGUgdGltZSBpcyBkZWZpbmVkIGJ5IGEgbGl0dGxlIGxlc3MgdGhhbiBoYWxmIG9mIHRoZSBleHBpcmVzIHRpbWUgZGVmaW5lZApzZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciBlPXt0eXBlOiJ1cGRhdGUiLGZyb206YS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIithLnJlZ2lzdHJ5RG9tYWluLGJvZHk6e3Jlc291cmNlOm4uYWRkcmVzc1swXSx2YWx1ZTp7c3RhdHVzOiJsaXZlIn0sbWV0aG9kOiJyZWZyZXNoIn19O2EuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSxmdW5jdGlvbihlKXt9KX0sXy8xLjEvMioxZTMpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIEVycm9yOiAnLCByZWFzb24pOwpjKGUpfSl9KX0pfSxmdW5jdGlvbihlKXtjKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSAiLGUpfSl9KX19LHtrZXk6InVucmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ITEsbz0wO2ZvcihvPTA7bzx0Lmh5cGVydGllc0xpc3QubGVuZ3RoO28rKyl7dmFyIHM9dC5oeXBlcnRpZXNMaXN0W29dO2lmKHZvaWQgMCE9PXMmJnMuaHlwZXJ0eVVSTD09PWUpe2k9ITA7YnJlYWt9fSExPT09aT9uKCJIeXBlcnR5IG5vdCBmb3VuZCIpOihkZWxldGUgdC5oeXBlcnRpZXNMaXN0W29dLHIoIkh5cGVydHkgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiKSl9KX19LHtrZXk6ImRpc2NvdmVyUHJvdG9zdHViIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLFIuZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkobikmJnQucHJvdG9zdHVic0xpc3Rbbl0uc3RhdHVzPT09UC5MSVZFKXJldHVybiB0LnByb3Rvc3R1YnNMaXN0W25dO3Rocm93IHQucHJvdG9zdHVic0xpc3Rbbl09e3N0YXR1czpQLkRFUExPWUlOR30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclByb3RvU3R1YiBdIE1lc3NhZ2UgTm9kZSBQcm90b3N0dWIgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX19LHtrZXk6ImRpc2NvdmVyUDJQU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihlKXtpZih0LnAycFJlcXVlc3RlclN0dWIuaGFzT3duUHJvcGVydHkoZSkmJnQucDJwUmVxdWVzdGVyU3R1YltlXS5zdGF0dXM9PT1QLkxJVkUpcmV0dXJuIHQucDJwUmVxdWVzdGVyU3R1YltlXTt0aHJvdyB0LnAycFJlcXVlc3RlclN0dWJbZV09e3N0YXR1czpQLkNSRUFURUR9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQMlBTdHViIF0gUDJQIFJlcXVlc3RlciBTdHViIE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9aWYodC5wMnBIYW5kbGVyU3R1Yi5oYXNPd25Qcm9wZXJ0eSh0LnJ1bnRpbWVVUkwpKXJldHVybiB0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF07dGhyb3cgdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdPXtzdGF0dXM6UC5DUkVBVEVEfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUDJQU3R1YiBdIFAyUCBIYW5kbGVyIFN0dWIgTm90IEZvdW5kLiIpfX0se2tleToicmVnaXN0ZXJTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPXRoaXMsYT1pO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGkscyl7dmFyIHU9dm9pZCAwOwovL2NoZWNrIGlmIG1lc3NhZ2VCdXMgaXMgcmVnaXN0ZXJlZCBpbiByZWdpc3RyeSBvciBub3QKdm9pZCAwPT09by5fbWVzc2FnZUJ1cyYmcygiTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gcmVnaXN0ZXJTdHViIiksUy5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWJdIC0gc3R1YklEICIsdCk7LyogaWYgKCFzdHViSUQuaW5kZXhPZignbXNnLW5vZGUuJykpIHsKICAgICAgICAgIHN0dWJJRCA9IHN0dWJJRC5zdWJzdHJpbmcoc3R1YklELmluZGV4T2YoJy4nKSArIDEpOwogICAgICAgIH0qLwp2YXIgYz12b2lkIDA7aWYocilpZihyLmhhc093blByb3BlcnR5KCJpc0hhbmRsZXJTdHViIikmJnIuaXNIYW5kbGVyU3R1Yil1PW8ucDJwSGFuZGxlclVSTCxvLnAycEhhbmRsZXJTdHViW3RdPXt1cmw6dSxzdGF0dXM6UC5DUkVBVEVEfSxvLnAycEhhbmRsZXJBc3NvY2lhdGlvbltvLnJ1bnRpbWVVUkxdPVtdLG8uc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdPWUsUy5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBQMlBIYW5kbGVyU3R1Yl0gLSAiLHQsIiAtICIsdSksaShvLnAycEhhbmRsZXJTdHViW3RdKTtlbHNle2M9ci5wMnBSZXF1ZXN0ZXJTdHViLHU9InJ1bnRpbWU6Ly8iKygwLFIuZGl2aWRlVVJMKShyLnJlbW90ZVJ1bnRpbWVVUkwpLmRvbWFpbisiL3AycHJlcXVlc3Rlci8iKygwLFIuZ2VuZXJhdGVHVUlEKSgpLFMuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViIC0gUDJQUmVxdWVzdGVyU3R1Yl0gLSAiLGMsIiAtICIsdSksCi8vIHRvIGJlIGNsYXJpZmllZCB3aGF0IGlzIHRoaXMgcDJwSGFuZGxlckFzc29jaWF0aW9uCm8ucDJwSGFuZGxlckFzc29jaWF0aW9uW28ucnVudGltZVVSTF0ucHVzaCh1KSxvLnAycFJlcXVlc3RlclN0dWJbdF09e3VybDp1LHN0YXR1czpQLkNSRUFURUR9LG8uc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdPWU7Ci8vU2V0dXAgUDJQIFJlcXVlc3RlciBwYXRoIGludG8gTU4KdmFyIGY9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpvLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK28uX2RvbWFpbisiL3NtIixib2R5OntzdWJzY3JpYmU6W3VdLHNvdXJjZTpvLnJlZ2lzdHJ5VVJMfX07by5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShmLGZ1bmN0aW9uKGUpe30pLGkoby5wMnBSZXF1ZXN0ZXJTdHViW3RdKX1lbHNlIHU9InJ1bnRpbWU6Ly8iK3QrIi9wcm90b3N0dWIvIisoMCxSLmdlbmVyYXRlR1VJRCkoKSxTLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIE5vcm1hbCBTdHViXSAtICIsdCksCi8vIFRPRE86IE9wdGltaXplIHRoaXMKby5wcm90b3N0dWJzTGlzdFt0XT17dXJsOnUsc3RhdHVzOlAuREVQTE9ZSU5HfSxuJiYoby5wcm90b3N0dWJzTGlzdFt0XS5kZXNjcmlwdG9yVVJMPW4pLGEmJmEuaW50ZXJ3b3JraW5nJiYoby5wcm90b3N0dWJzTGlzdFt0XS5pbnRlcndvcmtpbmc9YS5pbnRlcndvcmtpbmcpLG8uc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdPWUsaShvLnByb3Rvc3R1YnNMaXN0W3RdKTsKLy8gcmVzb2x2ZShydW50aW1lUHJvdG9TdHViVVJMKTsKby5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcih1KyIvc3RhdHVzIixmdW5jdGlvbihlKXtvLl9vblByb3Rvc3R1YlN0YXR1c0V2ZW50KGUpfSl9KX19LHtrZXk6Il9vblByb3Rvc3R1YlN0YXR1c0V2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tO2lmKCFlLnRvLmluY2x1ZGVzKCIvc3RhdHVzIikpcmV0dXJuIHZvaWQgUy5lcnJvcigiW1JlZ2lzdHJ5IG9uUHJvdG9zdHViU3RhdHVzRXZlbnRdIE5vdCBTdGF0dXMgRXZlbnQ6ICIsZSk7Ci8vIHByb2Nlc3Mgc3RhdHVzIGV2ZW50cyBmcm9tIG1lc3NhZ2Ugbm9kZSBwcm90b3N0dWJzCmlmKHIuaW5jbHVkZXMoIi9wcm90b3N0dWIvIikpCi8vIFRPRE86IHVuY29tbWVudCBiZWxvdyB3aGVuIHByb3Rvc3R1YnMgYXJlIHVwZGF0ZWQgd2l0aCBuZXcgc3RhdHVzIHZhbHVlICJsaXZlIgooMCxpLmRlZmF1bHQpKHQucHJvdG9zdHVic0xpc3QpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3N0dWJzTGlzdFtlXS51cmw9PT1yfSkubWFwKGZ1bmN0aW9uKHIpe3QucHJvdG9zdHVic0xpc3Rbcl0uc3RhdHVzPWUuYm9keS52YWx1ZX0pO2Vsc2UKLy8gcHJvY2VzcyBzdGF0dXMgZXZlbnRzIGZyb20gcDJwIGNvbm5lY3Rpb25zCmlmKGUuYm9keS5yZXNvdXJjZSl7dmFyIG49ZS5ib2R5LnJlc291cmNlO2lmKHQucDJwQ29ubmVjdGlvbkxpc3Rbbl0pdC5wMnBDb25uZWN0aW9uTGlzdFtuXS5zdGF0dXM9ZS5ib2R5LnZhbHVlLHQucDJwQ29ubmVjdGlvbkxpc3Rbbl0udXJsPXI7ZWxzZXt2YXIgbz17c3RhdHVzOmUuYm9keS52YWx1ZSx1cmw6cn07dC5wMnBDb25uZWN0aW9uTGlzdFtuXT1vfQovLyBsb2cubG9nKCdbUmVnaXN0cnkgLSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSAtIFAyUENvbm5lY3Rpb24gc3RhdHVzOiAnLCBfdGhpcy5wMnBDb25uZWN0aW9uTGlzdFtyZW1vdGVSdW50aW1lVVJMXSk7Ci8vIFVwZGF0ZSBQMlAgUmVxdWVzdGVyIHByb3Rvc3R1YiBpZiBpdCBpcyBjb21pbmcgZnJvbSB0aGVyZQpyLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpP3QucDJwUmVxdWVzdGVyU3R1YltuXS5zdGF0dXM9ZS5ib2R5LnZhbHVlOgovLyBpZiBmcm9tIFAyUEhhbmRsZXIgd2l0aCBzdGF0dXMgZGlzY29uZW5jdGVkLCBsZXRzIHJlbW92ZSBmcm9tIHAycENvbm5lY3Rpb25MaXN0CiJkaXNjb25uZWN0ZWQiPT09ZS5ib2R5LnZhbHVlJiZkZWxldGUgdC5wMnBDb25uZWN0aW9uTGlzdFtuXX1lbHNle2lmKHIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIikpCi8vIEl0IGlzIGFuIGV2ZW50IGZyb20gUDJQIFJlcXVlc3RlciB3aXRob3V0IG1hbmRhdG9yeSAicmVzb3VyY2UiIGZpZWxkCnJldHVybiB2b2lkIFMuZXJyb3IoIltSZWdpc3RyeSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSByZXNvdXJjZSBtaXNzaW5nOiAiLGUpOwovLyBJdCBpcyBhbiBldmVudCBmcm9tIFAyUCBIYW5kbGVyCnQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfX19LHtrZXk6InVucmVnaXN0ZXJTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5wcm90b3N0dWJzTGlzdC5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIHQucHJvdG9zdHVic0xpc3RbZV0scigiUHJvdG9zdHViVVJMIHJlbW92ZWQiKSk6bigiRXJyb3Igb24gdW5yZWdpc3RlclN0dWI6IEh5cGVydHkgbm90IGZvdW5kIil9KX19LHtrZXk6InJlZ2lzdGVySWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMDsKLy9jaGVjayBpZiBtZXNzYWdlQnVzIGlzIHJlZ2lzdGVyZWQgaW4gcmVnaXN0cnkgb3Igbm90CnZvaWQgMD09PXIuX21lc3NhZ2VCdXMmJmkoIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLG89ImRvbWFpbi1pZHA6Ly8iK3QrIi9zdHViLyIrKDAsUi5nZW5lcmF0ZUdVSUQpKCksCi8vIFRPRE86IE9wdGltaXplIHRoaXMKci5pZHBQcm94eUxpc3RbdF09e3VybDpvLHN0YXR1czpQLkRFUExPWUlOR30sci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbb109ZSwKLy8gc2FuZGJveC5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uKG1zZykgewovLyAgIF90aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7Ci8vIH0pOwpuKG8pLHIuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIobysiL3N0YXR1cyIsZnVuY3Rpb24oZSl7ci5fb25JZHBQcm94eVN0YXR1c0V2ZW50KGUpfSl9KX19LHtrZXk6Il9vbklkcFByb3h5U3RhdHVzRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb207aWYoIWUudG8uaW5jbHVkZXMoIi9zdGF0dXMiKSlyZXR1cm4gdm9pZCBTLmVycm9yKCJbUmVnaXN0cnkgb25JZHBQcm94eVN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpOygwLGkuZGVmYXVsdCkodC5pZHBQcm94eUxpc3QpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pZHBQcm94eUxpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LmlkcFByb3h5TGlzdFtyXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfSl9fSx7a2V5OiJkaXNjb3ZlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLFIuZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KG4pJiZ0LmlkcFByb3h5TGlzdFtuXS5zdGF0dXM9PT1QLkxJVkUpcmV0dXJuIHQuaWRwUHJveHlMaXN0W25dO3Rocm93IHQuaWRwUHJveHlMaXN0W25dPXtzdGF0dXM6UC5QUk9HUkVTU30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlcklkcFByb3h5IF0gSWRwIFByb3h5IE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9fSx7a2V5OiJyZWdpc3RlclBFUCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4pewovL1RPRE8gY2hlY2sgd2hhdCBwYXJhbWV0ZXIgaW4gdGhlIHBvc3RNZXNzYWdlIHRoZSBwZXAgaXMuCnIucGVwTGlzdFt0XT1lLG4oIlBFUCByZWdpc3RlcmVkIHdpdGggc3VjY2VzcyIpfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyUEVQIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dm9pZCAwPT09dC5wZXBMaXN0W2VdP24oIlBlcCBOb3QgZm91bmQuIik6cigiUEVQIHN1Y2Nlc3NmdWxseSByZW1vdmVkLiIpfSl9fSx7a2V5OiJnZXRTYW5kYm94Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IGdldFNhbmRib3hdIGdldFNhbmRib3ggZm9yOiAnLCB1cmwsICcgYW5kIGNhcGFiaWxpdGllczogJywgY29uc3RyYWludHMpOwp2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIHM9dm9pZCAwOwovL2lmIG5vIGFwcFNhbmRib3ggd2FzIGZvdW5kLCB0cnkgdG8gc2VhcmNoIGluIHRoZSBub3JtYWwgc2FuZGJveGVzIGxpc3QKaWYoISgKLy9maXJzdCB0cnkgdG8gZmluZCB0aGUgdXJsIGluIHRoZSBhcHBTYW5kYm94IGxpc3QKcz1yLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFtlXSkmJiEocz1yLnNhbmRib3hlc0xpc3Quc2FuZGJveFtlXSkpe3ZhciBhPXZvaWQgMDthPWUuaW5jbHVkZXMoIjovLyIpPygwLFIuZGl2aWRlVVJMKShlKS5kb21haW46ZTsKLy8gc2VhcmNoIGluIHRoZSBzYW5kYm94ZXMgbGlzdCBmb3IgYSBlbnRyeSBjb250YWluaW5nIHRoZSBkb21haW4gZ2l2ZW4KZm9yKHZhciB1IGluIHIuc2FuZGJveGVzTGlzdC5zYW5kYm94KQovL3RvZG86IHVuY29tbWVudCBzYW5kYm94IGNvbnN0cmFpbnRzIG1hdGNoIGNvbmRpdGlvbiB3aXRoIHJ1bnRpbWUgc2hhcmluZwppZih1LmluY2x1ZGVzKGEpJiZyLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XS5tYXRjaGVzKHQpKXt2YXIgYz1mdW5jdGlvbigpe3ZhciBlPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdO3JldHVybigwLGkuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiJicm93c2VyIj09PXQmJmUudHlwZT09PXkuU2FuZGJveFR5cGUuTk9STUFMfHwid2luZG93U2FuYm94Ij09PXQmJmUudHlwZT09PXkuU2FuZGJveFR5cGUuV0lORE9XfSkubGVuZ3RoPjAmJihzPWUpLCJicmVhayJ9KCk7aWYoImJyZWFrIj09PWMpYnJlYWt9fXM/bihzKTpvKCJubyBzYW5kYm94IGZvdW5kIGZvcjogIitlKX0pfX0se2tleToicmVzb2x2ZU5vcm1hbFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdyZXNvbHZlTm9ybWFsU3R1YiAnICsgdXJsKTsKdmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pewovL3NwbGl0IHRoZSB1cmwgdG8gZmluZCB0aGUgZG9tYWluVVJMLiBkZWFscyB3aXRoIHRoZSB1cmwgZm9yIGV4YW1wbGUgYXM6Ci8vImh5cGVydHktcnVudGltZTovL3NwMS9wcm90b3N0dWIvMTIzIiwKdmFyIGk9KDAsUi5kaXZpZGVVUkwpKGUpLG89aS5kb21haW4scz1pLnR5cGU7ZS5pbmNsdWRlcyh0LnJ1bnRpbWVVUkwpJiYoUy5lcnJvcigiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gVVJMIHRvIGJlIHJlc29sdmVkIHNob3VsZCBoYXZlIGxpc3RlbmVycyAiLGUpLG4oIltSZWdpc3RyeSAtIHJlc29sdmVdIFVSTCB0byBiZSByZXNvbHZlZCBzaG91bGQgaGF2ZSBsaXN0ZW5lcnMgIixlKSksCi8vIHJlc29sdmUgdGhlIGRvbWFpbiBwcm90b3N0dWIgaW4gY2FzZSBvZiBhIG1lc3NhZ2UgdG8gZ2xvYmFsIHJlZ2lzdHJ5CmUuaW5jbHVkZXMoImdsb2JhbDovL3JlZ2lzdHJ5Iik/bz10Ll9kb21haW46by5pbmRleE9mKCJtc2ctbm9kZS4iKSYmby5pbmRleE9mKCJyZWdpc3RyeS4iKXx8KG89by5zdWJzdHJpbmcoby5pbmRleE9mKCIuIikrMSkpLHQuaXNMZWdhY3koZSkudGhlbihmdW5jdGlvbihpKXsKLy8gaWYgbGVnYWN5IGl0IHNob3VsZCByZXNvbHZlIGZvciA8cHJvdG9jb2w+Ljxkb21haW4+CmkmJiJkb21haW4taWRwIiE9PXMmJihvPXMrIi4iKygwLFIuZ2V0VXNlcklkZW50aXR5RG9tYWluKShlKSksUy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gZG9tYWluVXJsOiIsbyk7dmFyIGE9dm9pZCAwO2E9ImRvbWFpbi1pZHAiPT09cz8hIXQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KG8pJiZ0LmlkcFByb3h5TGlzdFtvXTohIXQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkobykmJnQucHJvdG9zdHVic0xpc3Rbb10sUy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gcmVnaXN0cmVkOiIsYSksCi8vIFRPRE8gc2luY2UgdGhlIHByb3Rvc3R1YnMgaGF2ZSBvdGhlciBzdGF0ZXMgdGhpcyBzaG91bGQgYmUgcmV2aXNlZCwgYmVjYXVzZSB0aGUgc3RhdHVzIGNvdWxkIGNoYW5nZSBmcm9tIERFUExPWUVEIHRvIExJVkUKLy8gVE9ETyBhbmQgdGhpcyB2YWxpZGF0aW9uIHdpbGwgdHJpZ2dlciBhIG5ldyBsb2FkIG9mIElEUFByb3h5IG9yIFByb3Rvc3R1YjsKYSYmYS5oYXNPd25Qcm9wZXJ0eSgic3RhdHVzIikmJihhLnN0YXR1cz09PVAuREVQTE9ZRUR8fGEuc3RhdHVzPT09UC5DUkVBVEVEfHxhLnN0YXR1cz09PVAuTElWRXx8YS5zdGF0dXM9PT1QLkRJU0NPTk5FQ1RFRCk/KFMuaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVdIFJlc29sdmVkOiAiLGEudXJsLGEuc3RhdHVzKSxyKGEudXJsKSk6Ci8vdG9kbzogdXNlIHN3aXRjaC1jYXNlIHRvIHN1cHBvcnQgb3RoZXIgdHlwZXMgb2Ygc3R1YnMKImRvbWFpbi1pZHAiPT09cz8oCi8vIFRoZSBJZFAgUHJveHkgZG9lcyBub3QgZXhpc3QsIGxldCdzIHByZXBhcmUgaXRzIGRlcGxveW1lbnQgYnkgd2F0Y2hpbmcgaXRzIHN0YXR1cwp0LndhdGNoaW5nWW91Lm9ic2VydmUoImlkcFByb3h5TGlzdCIsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVOb3JtYWxTdHViXSBpZHBQcm94eUxpc3QgY2hhbmdlZCAnICsgX3RoaXMuaWRwUHJveHlMaXN0KTsKdmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PW8mJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09UC5DUkVBVEVEJiYKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZU5vcm1hbFN0dWJdIGlkcFByb3h5TGlzdCBpcyBsaXZlICcgKyBfdGhpcy5pZHBQcm94eUxpc3RbZG9tYWluVXJsXSk7CnIodC5pZHBQcm94eUxpc3Rbb10udXJsKX0pLGF8fCgKLy8gdGhpcyBwcm9jZXNzIHdpbGwgbG9hZCB0aGUgaWRwIHByb3h5LCBiZWNhdXNlIGlzIG5vdCB5ZXQgcmVnaXN0ZXJlZDsKUy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIGRlcGxveSBuZXcgSURQUHJveHk6ICIsbyksdC5sb2FkZXIubG9hZElkcFByb3h5KG8pLnRoZW4oZnVuY3Rpb24oKXtTLmluZm8oIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gSWRQIFByb3h5IGRlcGxveWVkOiAiLHQuaWRwUHJveHlMaXN0W29dKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe1MuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgTG9hZCBJRFBQcm94eTogIixlKSx0LmlkcFByb3h5TGlzdFtvXS5zdGF0dXM9ImRlcGxveW1lbnQtZmFpbGVkIixuKGUpfSkpKTooCi8vIFRoZSBwcm90b1N0dWIgZG9lcyBub3QgZXhpc3QsIGxldCdzIHByZXBhcmUgaXRzIGRlcGxveW1lbnQgYnkgd2F0Y2hpbmcgaXRzIHN0YXR1cwp0LndhdGNoaW5nWW91Lm9ic2VydmUoInByb3Rvc3R1YnNMaXN0IixmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZU5vcm1hbFN0dWJdIHByb3Rvc3R1YnNMaXN0IGNoYW5nZWQgJyArIF90aGlzLnByb3Rvc3R1YnNMaXN0KTsKdmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PW8mJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09UC5DUkVBVEVEJiYKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gcHJvdG9zdHViIGlzIGxpdmUgJyArIF90aGlzLnByb3Rvc3R1YnNMaXN0W2RvbWFpblVybF0pOwpyKHQucHJvdG9zdHVic0xpc3Rbb10udXJsKX0pLGF8fCgKLy8gbGV0cyBkZXBsb3kgdGhlIHByb3Rvc3R1YgpTLmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSB0cmlnZ2VyIG5ldyBQcm90b2NvbFN0dWI6ICIsbyksdC5sb2FkZXIubG9hZFN0dWIobykudGhlbihmdW5jdGlvbigpe30pLmNhdGNoKGZ1bmN0aW9uKGUpe1MuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gRXJyb3IgcmVzb2x2aW5nIExvYWQgUHJvdG9jb2xTdHViOiAiLGUpLG4oZSl9KSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Uy5lcnJvcigiW1JlZ2lzdHJ5LnJlc29sdmVdIEVycm9yIHJlc29sdmluZyBpc2xlZ2FjeTogIixlKSxuKGUpfSl9KX19LHtrZXk6InJlc29sdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe1MuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSAgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS50bz9lLnRvOmUsbz0hKCFlLmJvZHl8fCFlLmJvZHkucDJwKSYmZS5ib2R5LnAycDsKLy8gbG9nLmxvZygnUDJQOiAnLCBwMnAsIHVybCk7Ci8vIGxvZy5sb2coJ1AyUCAtIHAycEhhbmRsZXJTdHViOiAnLCAhX3RoaXMucDJwSGFuZGxlclN0dWJbX3RoaXMucnVudGltZVVSTF0sIF90aGlzLnAycEhhbmRsZXJTdHViLCBfdGhpcy5ydW50aW1lVVJMKTsKLy8gbG9nLmxvZygnUDJQIC0gaXNCYWNrZW5kU2VydmljZVVSTDogJywgaXNCYWNrZW5kU2VydmljZVVSTCh1cmwpLCBpc0JhY2tlbmRTZXJ2aWNlVVJMLCB1cmwpOwovLyBsb2cubG9nKCdQMlAgLSBpbmNsdWRlcyBydW50aW1lVVJMOiAnLCB1cmwuaW5jbHVkZXMoX3RoaXMucnVudGltZVVSTCkpOwovLyBsb2cubG9nKCdQMlAgLSBpbmNsdWRlcyBwMnBoYW5kbGVyOiAnLCB1cmwuaW5jbHVkZXMoJy9wMnBoYW5kbGVyLycpKTsKLy8gbG9nLmxvZygnUDJQIC0gaW5jbHVkZXMgcDJwcmVxdWVzdGVyOiAnLCB1cmwuaW5jbHVkZXMoJy9wMnByZXF1ZXN0ZXIvJykpOwovLyBTa2lwIHAycCBwcm9jZWR1cmUgd2hlbiBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBSdW50aW1lIG9yIGZvciBiYWNrZW5kIHNlcnZpY2VzCiF0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF18fCgwLFIuaXNCYWNrZW5kU2VydmljZVVSTCkoaSl8fGkuaW5jbHVkZXModC5ydW50aW1lVVJMKXx8aS5pbmNsdWRlcygiL3AycGhhbmRsZXIvIil8fGkuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIik/KFMuaW5mbygiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gLSBSZXNvbHZlIG5vcm1hbCBzdHViOiAiLHQucDJwSGFuZGxlclN0dWIsdC5ydW50aW1lVVJMLCgwLFIuaXNCYWNrZW5kU2VydmljZVVSTCkoaSksbyxpKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pKTooUy5pbmZvKCJbUmVnaXN0cnkgLSByZXNvbHZlXSAtIGNoZWNrUDJQOiAiLG8saSx0Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZSksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUuY2hlY2tQMlAoZSkudGhlbihmdW5jdGlvbihuKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gZm91bmQgcmVnaXN0ZXJlZCBQMlA6ICcsIHJlZ2lzdGVyZWRQMlApOwp2YXIgcz10LnAycENvbm5lY3Rpb25MaXN0W24ucnVudGltZV07c3dpdGNoKHN8fChzPW4sdC5wMnBDb25uZWN0aW9uTGlzdFtuLnJ1bnRpbWVdPXMpLHMuc3RhdHVzKXtjYXNlIFAuTElWRTplLmJvZHkucGVlcj1uLnJ1bnRpbWUscihzLnVybCxlKTticmVhaztjYXNlIFAuQ1JFQVRFRDovLyBwMnAgY29ubmVjdGlvbiBzZXR1cCBpcyBvbmdvaW5nLCB1c2UgTU4gU3R1YgpjYXNlIFAuUFJPR1JFU1M6dC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KTticmVhaztjYXNlIFAuRElTQ09OTkVDVEVEOgovLyBwMnAgY29ubmVjdGlvbiBzdHViIHdhcyBkaXNjb25uZWN0ZWQsIGxldCdzIGFzayB0byBjb25uZWN0IGFnYWluClMuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBwMnBDb25uZWN0aW9uIGlzIGRpc2Nvbm5lY3RlZCBsZXRzIHRyeSB0byByZWNvbm5lY3QiKSx0Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXIocykudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSB3YXMgcmVjb25uZWN0ZWQgd2l0aCBwMnBSZXF1ZXN0ZXJTdHVidDogJywgcmV0dXJuVVJMKTsKcihlKX0sZnVuY3Rpb24oZSl7Uy5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSk7YnJlYWs7ZGVmYXVsdDpTLmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUDJQOiAiLG8pLG8/dC5fc2V0dXBQMlBSZXF1ZXN0ZXIobikudGhlbihmdW5jdGlvbihlKXsKLy8gbm8gcDJwIGNvbm5lY3Rpb24gZXhpc3RzIGJ1dCB0aGUgbWVzc2FnZSBzZW5kZXIgaXMgYXNraW5nIG9uZS4gTGV0cyB0cnkgdG8gc2V0dXAgb25lCnIoZSl9LGZ1bmN0aW9uKGUpe1MuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pOgovLyBubyBwMnAgY29ubmVjdGlvbiBleGlzdHMgYW5kIHRoZSBtZXNzYWdlIHNlbmRlciBkb2VzIG5vdCBhc2sgb25lLiBMZXRzIHVzZSB0aGUgTU4gU3R1Ygp0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfX0sZnVuY3Rpb24oZSl7Uy5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSkpfSl9fSx7a2V5OiJfc2V0dXBQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFMubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gbG9hZFN0dWIgd2l0aCBwMnBSZXF1ZXN0ZXI6ICIsZSksbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUucnVudGltZSxvPXtyZW1vdGVSdW50aW1lVVJMOmkscDJwSGFuZGxlcjplLnAycEhhbmRsZXIscDJwUmVxdWVzdGVyU3R1YjohMH07Ci8vIGxldHMgcHJlcGFyZSB0aGUgcDJwUmVxdWVzdGVyU1R1YiBkZXBsb3ltZW50IGJ5IHNldHRpbmcgYW4gb2JzZXJ2ZXIgdG8gaXRzIHN0YXR1cyBjaGFuZ2VzCnQud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgicDJwUmVxdWVzdGVyU3R1YiIsZnVuY3Rpb24oZSl7Uy5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5wMnBSZXF1ZXN0ZXJTdHViKSxlLmtleXBhdGguc3BsaXQoIi4iKVswXT09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09UC5MSVZFJiYoUy5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgaXMgbGl2ZSAiK3QucDJwUmVxdWVzdGVyU3R1YltpXSkscih0LnAycFJlcXVlc3RlclN0dWJbaV0udXJsKSl9KSwKLy8gIHN0dWIgbG9hZAp0LmxvYWRlci5sb2FkU3R1YihlLnAycFJlcXVlc3RlcixvKS50aGVuKGZ1bmN0aW9uKCl7Uy5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgZGVwbG95ZWQ6ICIsdC5wMnBSZXF1ZXN0ZXJTdHViW2ldKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiaXNMZWdhY3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlPT09dC5fZG9tYWluKXJldHVybiByKCExKTtTLmxvZygiW1JlZ2lzdHJ5XSBbUmVnaXN0cnkuUmVnaXN0cnkuaXNMZWdhY3ldICIsZSk7Ci8vIFRPRE86IHRvIGJlIGRlZmluZWQgaW4gdGhlIHJ1bnRpbWUgY29uZmlndXJhdGlvbgp2YXIgaT1bImh5cGVydHktcnVudGltZSIsImRvbWFpbiIsImdsb2JhbCIsImh5cGVydHkiXSxvPSgwLFIuZGl2aWRlVVJMKShlKTtpZigtMSE9PWkuaW5kZXhPZihvLnR5cGUpfHxvLmRvbWFpbj09PXQuX2RvbWFpbilyZXR1cm4gcighMSk7Ci8vIHByb2Nlc3MgVXNlciBVUkxzCmlmKGUuc3BsaXQoIkAiKS5sZW5ndGg+MSl7dmFyIHM9by5kb21haW47Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeV0gW1JlZ2lzdHJ5LlJlZ2lzdHJ5LmlzTGVnYWN5XSBkb21haW46ICcsIGRvbWFpbik7CmlmKHQuaWRwTGVnYWN5UHJveHlMaXN0Lmhhc093blByb3BlcnR5KHMpKXt2YXIgYT10LmlkcExlZ2FjeVByb3h5TGlzdFtzXTtyZXR1cm4gcihhLmludGVyd29ya2luZz9hLmludGVyd29ya2luZzohMSl9dC5fbG9hZGVyLmRlc2NyaXB0b3JzLmdldElkcFByb3h5RGVzY3JpcHRvcihzKS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnldIFtSZWdpc3RyeS5SZWdpc3RyeS5pc0xlZ2FjeV0gTGVnYWN5IHN0dWIgZGVzY3JpcHRvcjogJywgcmVzdWx0KTsKZS5pbnRlcndvcmtpbmc/KHQuaWRwTGVnYWN5UHJveHlMaXN0W3NdPWUscihlLmludGVyd29ya2luZykpOnIoITEpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Uy53YXJuKCJwcm9ibGVtIGxvYWRpbmcgaWRwIHByb3h5IGRlc2NyaXB0b3IgZm9yIGRvbWFpbjoiLHMsIiBiZWNhdXNlICIsZSksbihlKX0pfWVsc2UKLy8gcHJvY2VzcyBwcm90b3N0dWIgVVJMcwpyKHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoZSkpfSl9fSx7a2V5OiJpc0xvY2FsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImh5cGVydHktcnVudGltZSIsInJ1bnRpbWUiXSxyPVsiaHlwZXJ0eSJdLG49ZS5zcGxpdCgiOi8vIilbMF07Ci8vIFByb2Nlc3MgUnVudGltZSBDb3JlIFVSTHMuCi8vIE1lc3NhZ2VzIG9yaWdpbmF0ZWQgZnJvbSBwcm90b3N0dWJzIHNob3VsZCBhbHNvIG5vdCBpbmNsdWRlIHRoZSBydW50aW1lVVJMIGluIGl0cyBVUkwuCmlmKC0xIT09dC5pbmRleE9mKG4pKXJldHVybiBlLmluY2x1ZGVzKHRoaXMucnVudGltZVVSTCk7Ci8vIFByb2Nlc3MgSHlwZXJ0eSBVUkxzCi8vIFRvZG86IGh5cGVydGllc0xpc3Qgc2hvdWxkIGJlIGFuIG9iamVjdCBub3QgYW4gYXJyYXkKaWYoLTEhPT1yLmluZGV4T2Yobikpe2Zvcih2YXIgaSBpbiB0aGlzLmh5cGVydGllc0xpc3Qpe2lmKHRoaXMuaHlwZXJ0aWVzTGlzdFtpXS5oeXBlcnR5VVJMPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0KLy8gUHJvY2VzcyBEYXRhIE9iamVjdCBVUkxzCmUuaW5jbHVkZXMoIi9zdWJzY3JpcHRpb24iKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIi9zdWJzY3JpcHRpb24iKSkpO3ZhciBvPXRoaXMuZGF0YU9iamVjdExpc3RbZV07cmV0dXJuISFvJiYoIW8uaW50ZXJ3b3JraW5nfHwhby5pbnRlcndvcmtpbmcpfX0se2tleToiaXNJbnRlcndvcmtpbmdQcm90b1N0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuISFlLmluY2x1ZGVzKCIvcHJvdG9zdHViLyIpJiYoMCxpLmRlZmF1bHQpKHQucHJvdG9zdHVic0xpc3QpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gdC5wcm90b3N0dWJzTGlzdFtyXS51cmw9PT1lfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiEhdC5wcm90b3N0dWJzTGlzdFtlXS5oYXNPd25Qcm9wZXJ0eSgiaW50ZXJ3b3JraW5nIikmJnQucHJvdG9zdHVic0xpc3RbZV0uaW50ZXJ3b3JraW5nfSlbMF19fSx7a2V5OiJsb2FkZXIiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9sb2FkZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlcn19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9tZXNzYWdlQnVzPWUsdC5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcih0LnJlZ2lzdHJ5VVJMLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkgbGlzdGVuZXJdICcsIG1zZyk7CigwLFIuaXNIeXBlcnR5VVJMKShlLmZyb20pLGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgiY3JpdGVyaWEiKTtlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc291cmNlIikmJiIuIiE9PWUuYm9keS5yZXNvdXJjZSYmKCgwLFIuaXNVUkwpKGUuYm9keS5yZXNvdXJjZSksKDAsUi5pc1VzZXJVUkwpKGUuYm9keS5yZXNvdXJjZSksKDAsUi5pc0h5cGVydHlVUkwpKGUuYm9keS5yZXNvdXJjZSkpO2UudHlwZTtpZihlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJihlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSxlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoInVzZXIiKSksInJlc3BvbnNlIj09PWUudHlwZSlyZXR1cm4gdm9pZCBTLmVycm9yKCJbUmVnaXN0ZXIgbGlzdGVuZXJdIHNraXBwaW5nICIsZSk7Ci8vIG1zZyBzZW50IGJ5IGlkZW50aXR5IG1hbmFnZXIgbGlicmFyeQp2YXIgcj10Ll9nZXRJZGVudGl0eUFzc29jaWF0ZWQoZS5ib2R5LnJlc291cmNlLGUuYm9keS5jcml0ZXJpYSksbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntyZXNvdXJjZTpyfX07bi5ib2R5LmNvZGU9cj8yMDA6NDA0LHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobil9KTsKLy8gSW5zdGFsbCBBZGRyZXNzQWxsb2NhdGlvbgp2YXIgcj12LmRlZmF1bHQuaW5zdGFuY2U7dC5hZGRyZXNzQWxsb2NhdGlvbj1yfX1dKSxSZWdpc3RyeX0oKTt0LmRlZmF1bHQ9TyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDQxKSxlLmV4cG9ydHM9cigxMykuT2JqZWN0LmtleXN9LC8qIDQ0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKQp2YXIgbj1yKDc2KSxpPXIoNjcpO3IoOTcpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogNDQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuU2FuZGJveFR5cGU9dm9pZCAwO3ZhciBuPXIoMzcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig2MCksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNjgpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNjkpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNDYyKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDQ2MyksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9KHQuU2FuZGJveFR5cGU9e0FQUDoiYXBwIixOT1JNQUw6Im5vcm1hbCIsV0lORE9XOiJ3aW5kb3cifSxmdW5jdGlvbihlKXtmdW5jdGlvbiBTYW5kYm94KGUpeygwLGYuZGVmYXVsdCkodGhpcyxTYW5kYm94KTt2YXIgdD0oMCx5LmRlZmF1bHQpKHRoaXMsKFNhbmRib3guX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKFNhbmRib3gpKS5jYWxsKHRoaXMpKSxyPXQ7cmV0dXJuIGUmJihyLmNhcGFiaWxpdGllcz1lKSx0fS8qKgogICAqIERlcGxveSBhbiBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IGludG8gdGhlIHNhbmRib3guCiAgICogQHBhcmFtICB7c3RyaW5nfSBjb21wb25lbnRTb3VyY2VDb2RlIENvbXBvbmVudCBzb3VyY2UgY29kZSAoSHlwZXJ0eSwgUHJvdG9TdHViLCBldGMpCiAgICogQHBhcmFtICB7VVJMfSBjb21wb25lbnRVUkwgSHlwZXJ0eSwgUHJvdG9TdHViLCBvciBhbnkgb3RoZXIgY29tcG9uZW50IGFkZHJlc3MuCiAgICogQHBhcmFtICB7Q29uZmlnfSBjb25maWd1cmF0aW9uIENvbmZpZyBwYXJhbWV0ZXJzIG9mIHRoZSBjb21wb25lbnQKICAgKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59IHJldHVybiBkZXBsb3llZCBpZiBzdWNjZXNzZnVsLCBvciBhbnkgb3RoZXIgc3RyaW5nIHdpdGggYW4gZXJyb3IKICAgKi8KcmV0dXJuKDAsdi5kZWZhdWx0KShTYW5kYm94LGUpLCgwLGQuZGVmYXVsdCkoU2FuZGJveCxbe2tleToiZGVwbG95Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpczsKLy8gbGV0IG1lc3NhZ2VGYWN0b3J5ID0gX3RoaXMubWVzc2FnZUZhY3Rvcnk7CnJldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7Ci8vRkxPVy1PVVQ6IGRlcGxveSBtZXNzYWdlIGZvciB0aGUgaW50ZXJuYWwgU2FuZGJveFJlZ2lzdHJ5IC0+IF9vbkRlcGxveQp2YXIgcz17dHlwZToiY3JlYXRlIixmcm9tOmIuZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Yi5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6dCxzb3VyY2VDb2RlOmUsY29uZmlnOnJ9fTsKLy9zZW5kIG1lc3NhZ2UgaW50byB0aGUgc2FuZGJveCBpbnRlcm5hbHMgYW5kIHdhaXQgZm9yIHJlcGx5Cm4ucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT8KLy9pcyB0aGlzIHJlc3BvbnNlIGNvbXBsYWludCB3aXRoIHRoZSBzcGVjPwppKCJkZXBsb3llZCIpOm8oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6InJlbW92ZUNvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pewovL0ZMT1ctT1VUOiB1bi1kZXBsb3kgbWVzc2FnZSBmb3IgdGhlIGludGVybmFsIFNhbmRib3hSZWdpc3RyeSAtPiBfb25SZW1vdmUKdmFyIGk9e3R5cGU6ImRlbGV0ZSIsZnJvbTpiLmRlZmF1bHQuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzLHRvOmIuZGVmYXVsdC5JbnRlcm5hbERlcGxveUFkZHJlc3MsYm9keTp7dXJsOmV9fTsKLy9zZW5kIG1lc3NhZ2UgaW50byB0aGUgc2FuZGJveCBpbnRlcm5hbHMgYW5kIHdhaXQgZm9yIHJlcGx5CnQucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT8KLy9pcyB0aGlzIHJlc3BvbnNlIGNvbXBsYWludCB3aXRoIHRoZSBzcGVjPwpyKCJ1bmRlcGxveWVkIik6bihlLmJvZHkuZGVzYyl9KX0pfX0se2tleToibWF0Y2hlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLGkuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiEodC5jYXBhYmlsaXRpZXNbcl0mJnQuY2FwYWJpbGl0aWVzW3JdPT09ZVtyXSl9KTtyZXR1cm4gMD09PXIubGVuZ3RofHwhZVtyXX19XSksU2FuZGJveH0oXy5kZWZhdWx0KSk7dC5kZWZhdWx0PVJ9LC8qIDQ0MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0NDQpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LC8qIDQ0NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKQp2YXIgbj1yKDc2KSxpPXIoMTg5KTtyKDk3KSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpKG4oZSkpfX0pfSwvKiA0NDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ0NiksX19lc01vZHVsZTohMH19LC8qIDQ0NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigxMjgpLHIoMTkwKSxlLmV4cG9ydHM9cigxNDEpLmYoIml0ZXJhdG9yIil9LC8qIDQ0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDQ4KSxfX2VzTW9kdWxlOiEwfX0sLyogNDQ4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ0OSkscigxODIpLHIoNDU0KSxyKDQ1NSksZS5leHBvcnRzPXIoMTMpLlN5bWJvbH0sLyogNDQ5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW0KdmFyIG49cigyMiksaT1yKDU5KSxvPXIoNDQpLHM9cigyMSksYT1yKDE4NSksdT1yKDQ1MCkuS0VZLGM9cig2NiksZj1yKDEzNiksbD1yKDk1KSxkPXIoOTQpLHA9cigyMykseT1yKDE0MSksaD1yKDE0Miksdj1yKDQ1MSksZz1yKDQ1MiksYj1yKDQxKSxtPXIoMzYpLF89cig0NSksUj1yKDEzMiksdz1yKDczKSxTPXIoMTMzKSxQPXIoNDUzKSxPPXIoMTQzKSxNPXIoNDApLGs9cig2NyksTD1PLmYseD1NLmYsRT1QLmYsQT1uLlN5bWJvbCxVPW4uSlNPTixEPVUmJlUuc3RyaW5naWZ5LEk9cCgiX2hpZGRlbiIpLGo9cCgidG9QcmltaXRpdmUiKSxUPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEM9Zigic3ltYm9sLXJlZ2lzdHJ5IiksRj1mKCJzeW1ib2xzIiksTj1mKCJvcC1zeW1ib2xzIikscT1PYmplY3QucHJvdG90eXBlLEg9ImZ1bmN0aW9uIj09dHlwZW9mIEEsQj1uLlFPYmplY3QsSz0hQnx8IUIucHJvdG90eXBlfHwhQi5wcm90b3R5cGUuZmluZENoaWxkLEc9byYmYyhmdW5jdGlvbigpe3JldHVybiA3IT1TKHgoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49TChxLHQpO24mJmRlbGV0ZSBxW3RdLHgoZSx0LHIpLG4mJmUhPT1xJiZ4KHEsdCxuKX06eCxWPWZ1bmN0aW9uKGUpe3ZhciB0PUZbZV09UyhBLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSx0fSxXPUgmJiJzeW1ib2wiPT10eXBlb2YgQS5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgQX0sWT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1xJiZZKE4sdCxyKSxiKGUpLHQ9Uih0LCEwKSxiKHIpLGkoRix0KT8oci5lbnVtZXJhYmxlPyhpKGUsSSkmJmVbSV1bdF0mJihlW0ldW3RdPSExKSxyPVMocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihpKGUsSSl8fHgoZSxJLHcoMSx7fSkpLGVbSV1bdF09ITApLEcoZSx0LHIpKTp4KGUsdCxyKX0sej1mdW5jdGlvbihlLHQpe2IoZSk7Zm9yKHZhciByLG49dih0PV8odCkpLGk9MCxvPW4ubGVuZ3RoO28+aTspWShlLHI9bltpKytdLHRbcl0pO3JldHVybiBlfSxKPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/UyhlKTp6KFMoZSksdCl9LCQ9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZT1SKGUsITApKTtyZXR1cm4hKHRoaXM9PT1xJiZpKEYsZSkmJiFpKE4sZSkpJiYoISh0fHwhaSh0aGlzLGUpfHwhaShGLGUpfHxpKHRoaXMsSSkmJnRoaXNbSV1bZV0pfHx0KX0sUT1mdW5jdGlvbihlLHQpe2lmKGU9XyhlKSx0PVIodCwhMCksZSE9PXF8fCFpKEYsdCl8fGkoTix0KSl7dmFyIHI9TChlLHQpO3JldHVybiFyfHwhaShGLHQpfHxpKGUsSSkmJmVbSV1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSxYPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPUUoXyhlKSksbj1bXSxvPTA7ci5sZW5ndGg+bzspaShGLHQ9cltvKytdKXx8dD09SXx8dD09dXx8bi5wdXNoKHQpO3JldHVybiBufSxaPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT1xLG49RShyP046XyhlKSksbz1bXSxzPTA7bi5sZW5ndGg+czspIWkoRix0PW5bcysrXSl8fHImJiFpKHEsdCl8fG8ucHVzaChGW3RdKTtyZXR1cm4gb307Ci8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKQpIfHwoQT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBBKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PXEmJnQuY2FsbChOLHIpLGkodGhpcyxJKSYmaSh0aGlzW0ldLGUpJiYodGhpc1tJXVtlXT0hMSksRyh0aGlzLGUsdygxLHIpKX07cmV0dXJuIG8mJksmJkcocSxlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxWKGUpfSxhKEEucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLE8uZj1RLE0uZj1ZLHIoMjAyKS5mPVAuZj1YLHIoNzcpLmY9JCxyKDEzOSkuZj1aLG8mJiFyKDkyKSYmYShxLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsJCwhMCkseS5mPWZ1bmN0aW9uKGUpe3JldHVybiBWKHAoZSkpfSkscyhzLkcrcy5XK3MuRiohSCx7U3ltYm9sOkF9KTtmb3IodmFyIGVlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSx0ZT0wO2VlLmxlbmd0aD50ZTspcChlZVt0ZSsrXSk7Zm9yKHZhciByZT1rKHAuc3RvcmUpLG5lPTA7cmUubGVuZ3RoPm5lOyloKHJlW25lKytdKTtzKHMuUytzLkYqIUgsIlN5bWJvbCIsewovLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSkKZm9yOmZ1bmN0aW9uKGUpe3JldHVybiBpKEMsZSs9IiIpP0NbZV06Q1tlXT1BKGUpfSwKLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pCmtleUZvcjpmdW5jdGlvbihlKXtpZighVyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKTtmb3IodmFyIHQgaW4gQylpZihDW3RdPT09ZSlyZXR1cm4gdH0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Sz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Sz0hMX19KSxzKHMuUytzLkYqIUgsIk9iamVjdCIsewovLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCmNyZWF0ZTpKLAovLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykKZGVmaW5lUHJvcGVydHk6WSwKLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykKZGVmaW5lUHJvcGVydGllczp6LAovLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApCmdldE93blByb3BlcnR5RGVzY3JpcHRvcjpRLAovLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKQpnZXRPd25Qcm9wZXJ0eU5hbWVzOlgsCi8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTykKZ2V0T3duUHJvcGVydHlTeW1ib2xzOlp9KSwKLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pClUmJnMocy5TK3MuRiooIUh8fGMoZnVuY3Rpb24oKXt2YXIgZT1BKCk7Ci8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9Ci8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbAovLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9scwpyZXR1cm4iW251bGxdIiE9RChbZV0pfHwie30iIT1EKHthOmV9KXx8Int9IiE9RChPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49W2VdLGk9MTthcmd1bWVudHMubGVuZ3RoPmk7KW4ucHVzaChhcmd1bWVudHNbaSsrXSk7aWYocj10PW5bMV0sKG0odCl8fHZvaWQgMCE9PWUpJiYhVyhlKSkvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkCnJldHVybiBnKHQpfHwodD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhVyh0KSlyZXR1cm4gdH0pLG5bMV09dCxELmFwcGx5KFUsbil9fSksCi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludCkKQS5wcm90b3R5cGVbal18fHIoNTgpKEEucHJvdG90eXBlLGosQS5wcm90b3R5cGUudmFsdWVPZiksCi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10KbChBLCJTeW1ib2wiKSwKLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXQpsKE1hdGgsIk1hdGgiLCEwKSwKLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ10KbChuLkpTT04sIkpTT04iLCEwKX0sLyogNDUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDk0KSgibWV0YSIpLGk9cigzNiksbz1yKDU5KSxzPXIoNDApLmYsYT0wLHU9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hcig2NikoZnVuY3Rpb24oKXtyZXR1cm4gdShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGY9ZnVuY3Rpb24oZSl7cyhlLG4se3ZhbHVlOntpOiJPIisgKythLC8vIG9iamVjdCBJRAp3Ont9fX0pfSxsPWZ1bmN0aW9uKGUsdCl7Ci8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXgKaWYoIWkoZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFvKGUsbikpewovLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdAppZighdShlKSlyZXR1cm4iRiI7Ci8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhCmlmKCF0KXJldHVybiJFIjsKLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGEKZihlKX1yZXR1cm4gZVtuXS5pfSxkPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSxuKSl7Ci8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0CmlmKCF1KGUpKXJldHVybiEwOwovLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YQppZighdClyZXR1cm4hMTsKLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGEKZihlKX1yZXR1cm4gZVtuXS53fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBjJiZ5Lk5FRUQmJnUoZSkmJiFvKGUsbikmJmYoZSksZX0seT1lLmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpsLGdldFdlYWs6ZCxvbkZyZWV6ZTpwfX0sLyogNDUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHMKdmFyIG49cig2NyksaT1yKDEzOSksbz1yKDc3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlKSxyPWkuZjtpZihyKWZvcih2YXIgcyxhPXIoZSksdT1vLmYsYz0wO2EubGVuZ3RoPmM7KXUuY2FsbChlLHM9YVtjKytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0sLyogNDUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudCkKdmFyIG49cig3NSk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSwvKiA0NTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93CnZhciBuPXIoNDUpLGk9cigyMDIpLmYsbz17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGkoZSl9Y2F0Y2goZSl7cmV0dXJuIHMuc2xpY2UoKX19O2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09by5jYWxsKGUpP2EoZSk6aShuKGUpKX19LC8qIDQ1NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigxNDIpKCJhc3luY0l0ZXJhdG9yIil9LC8qIDQ1NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigxNDIpKCJvYnNlcnZhYmxlIil9LC8qIDQ1NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDU3KSxfX2VzTW9kdWxlOiEwfX0sLyogNDU3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ1OCksZS5leHBvcnRzPXIoMTMpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0sLyogNDU4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bykKdmFyIG49cigyMSk7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOnIoNDU5KS5zZXR9KX0sLyogNDU5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuCi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovCnZhciBuPXIoMzYpLGk9cig0MSksbz1mdW5jdGlvbihlLHQpe2lmKGkoZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT8vLyBlc2xpbnQtZGlzYWJsZS1saW5lCmZ1bmN0aW9uKGUsdCxuKXt0cnl7bj1yKDY1KShGdW5jdGlvbi5jYWxsLHIoMTQzKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sLyogNDYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ2MSk7dmFyIG49cigxMykuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0sLyogNDYxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKTsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCm4obi5TLCJPYmplY3QiLHtjcmVhdGU6cigxMzMpfSl9LC8qIDQ2MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXsvKiBwcml2YXRlCiAgX2NvbXBvbmVudHM6IDx1cmw6IGluc3RhbmNlPgogICovCmZ1bmN0aW9uIFNhbmRib3hSZWdpc3RyeShlKXsoMCxpLmRlZmF1bHQpKHRoaXMsU2FuZGJveFJlZ2lzdHJ5KTt2YXIgdD10aGlzO3QuX2J1cz1lLHQuX2NvbXBvbmVudHM9e30sZS5hZGRMaXN0ZW5lcihTYW5kYm94UmVnaXN0cnkuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLGZ1bmN0aW9uKGUpewovL2NvbnNvbGUubG9nKCdTYW5kYm94UmVnaXN0cnktUkNWOiAnLCBtc2cpOwovLyBsZXQgcmVzcG9uc2VNc2cgPSB7Ci8vICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogU2FuZGJveFJlZ2lzdHJ5LkludGVybmFsRGVwbG95QWRkcmVzcywgdG86IFNhbmRib3hSZWdpc3RyeS5FeHRlcm5hbERlcGxveUFkZHJlc3MKLy8gfTsKc3dpdGNoKGUudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uRGVwbG95KGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjp0Ll9vblJlbW92ZShlKX19KX1yZXR1cm4oMCxzLmRlZmF1bHQpKFNhbmRib3hSZWdpc3RyeSxbe2tleToiX3Jlc3BvbnNlTXNnIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206U2FuZGJveFJlZ2lzdHJ5LkludGVybmFsRGVwbG95QWRkcmVzcyx0bzpTYW5kYm94UmVnaXN0cnkuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzfSxpPXt9OwovLyByZXR1cm4gbWVzc2FnZUZhY3RvcnkuY3JlYXRlUmVzcG9uc2UobXNnLCBjb2RlLCB2YWx1ZSk7CnJldHVybiB0JiYoaS5jb2RlPXQpLHImJihpLmRlc2M9ciksbi5ib2R5PWksbn19LHtrZXk6Il9vbkRlcGxveSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5jb25maWcsbj1lLmJvZHkudXJsLGk9ZS5ib2R5LnNvdXJjZUNvZGUsbz12b2lkIDAscz12b2lkIDA7aWYodC5fY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShuKSlvPTUwMCxzPSJJbnN0YW5jZSAiK24rIiBhbHJlYWR5IGV4aXN0ISI7ZWxzZSB0cnl7dC5fY29tcG9uZW50c1tuXT10Ll9jcmVhdGUobixpLHIpLG89MjAwfWNhdGNoKGUpe289NTAwLHM9ZX12YXIgYT10Ll9yZXNwb25zZU1zZyhlLG8scyk7dC5fYnVzLnBvc3RNZXNzYWdlKGEpfX0se2tleToiX29uUmVtb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnVybCxuPXZvaWQgMCxpPXZvaWQgMDt0Ll9jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpPygKLy9yZW1vdmUgY29tcG9uZW50IGZyb20gdGhlIHBvb2wgYW5kIGFsbCBsaXN0ZW5lcnMKZGVsZXRlIHQuX2NvbXBvbmVudHNbcl0sdC5fYnVzLnJlbW92ZUFsbExpc3RlbmVyc09mKHIpLG49MjAwKToobj01MDAsaT0iSW5zdGFuY2UgIityKyIgZG9lc24ndCBleGlzdCEiKTt2YXIgbz10Ll9yZXNwb25zZU1zZyhlLG4saSk7dC5fYnVzLnBvc3RNZXNzYWdlKG8pfX0se2tleToiX2NyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe319LHtrZXk6ImNvbXBvbmVudHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzfX1dKSxTYW5kYm94UmVnaXN0cnl9KCk7YS5FeHRlcm5hbERlcGxveUFkZHJlc3M9Imh5cGVydHktcnVudGltZTovL3NhbmRib3gvZXh0ZXJuYWwiLGEuSW50ZXJuYWxEZXBsb3lBZGRyZXNzPSJoeXBlcnR5LXJ1bnRpbWU6Ly9zYW5kYm94L2ludGVybmFsIix0LmRlZmF1bHQ9YSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2MCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNjgpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNjkpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoMjA0KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBNaW5pQnVzKCl7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLE1pbmlCdXMpLCgwLGYuZGVmYXVsdCkodGhpcywoTWluaUJ1cy5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoTWluaUJ1cykpLmNhbGwodGhpcykpfS8qKgogICAqIFBvc3QgYSBtZXNzYWdlIGZvciByb3V0aW5nLiBNZXNzYWdlIGlzIHJvdXRlZCBkaXJlY3RseSB0byB0aGUgZXh0ZXJuYWwgcm91dGluZyBfb25Qb3N0TWVzc2FnZS4KICAgKiBAcGFyYW0gIHtNZXNzYWdlfSBpbk1zZyAgICAgICAgICAgIEpTT04gd2l0aCBtYW5kYXRvcnkgTWVzc2FnZSBzdHJ1Y3R1cmUge2lkLCB0eXBlLCBmcm9tLCB0b30KICAgKiBAcGFyYW0gIHtDYWxsYmFja30gcmVzcG9uc2VDYWxsYmFjayBPcHRpb25hbCBjYWxsYmFjayBpZiBhIHJlc3BvbnNlIGlzIGV4cGVjdGVkIGZyb20gdGhlIHJlcXVlc3QuIEEgcmVzcG9uc2Ugd2lsbCBiZSBhbHdheXMgc2VudCwgZXZlbiBpZiBpdCBpcyBhICJUaW1lb3V0Ii4KICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgdGhlIE1lc3NhZ2UgaWQKICAgKi8KcmV0dXJuKDAsZC5kZWZhdWx0KShNaW5pQnVzLGUpLCgwLHUuZGVmYXVsdCkoTWluaUJ1cyxbe2tleToicG9zdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzOwovL2Fsd2F5cyBzZW5kIHRvIGV4dGVybmFsICh0byBjb3JlIE1lc3NhZ2VCdXMpCnJldHVybiBuLl9nZW5JZChlKSxuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSxuLl9vblBvc3RNZXNzYWdlKGUpLGUuaWR9fSx7a2V5OiJfb25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCF0Ll9vblJlc3BvbnNlKGUpKXt2YXIgcj10Ll9zdWJzY3JpcHRpb25zW2UudG9dO3I/KHQuX3B1Ymxpc2hPbihyLGUpLGUudG8uc3RhcnRzV2l0aCgiaHlwZXJ0eSIpfHx0Ll9wdWJsaXNoT25EZWZhdWx0KGUpKTp0Ll9wdWJsaXNoT25EZWZhdWx0KGUpfX19XSksTWluaUJ1c30oeS5kZWZhdWx0KTsvKioKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAqKi8KdC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxpPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIGkuc3RyaW5naWZ5LmFwcGx5KGksYXJndW1lbnRzKX19LC8qIDQ2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDYwKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig2OCksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig2OSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig0NjYpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIEh5cGVydHlJbnN0YW5jZShlLHQscixuLG8sYSx1LGMsbCxkLHAseSxoLHYsZyl7KDAscy5kZWZhdWx0KSh0aGlzLEh5cGVydHlJbnN0YW5jZSk7dmFyIGI9KDAsZi5kZWZhdWx0KSh0aGlzLChIeXBlcnR5SW5zdGFuY2UuX19wcm90b19ffHwoMCxpLmRlZmF1bHQpKEh5cGVydHlJbnN0YW5jZSkpLmNhbGwodGhpcyxlLHQscixwLHYsZykpLG09YjtyZXR1cm4gbS5fZGVzY3JpcHRvcj1uLG0uX2h5cGVydHlVUkw9byxtLl91c2VyPWEsbS5fZ3VpZD11LG0uX3J1bnRpbWU9YyxtLl9jb250ZXh0PWwsbS5fcDJwSGFuZGxlcj1kLG0uX2RhdGFTY2hlbWVzPXksbS5fcmVzb3VyY2VzPWgsYn1yZXR1cm4oMCxkLmRlZmF1bHQpKEh5cGVydHlJbnN0YW5jZSxlKSwoMCx1LmRlZmF1bHQpKEh5cGVydHlJbnN0YW5jZSxbe2tleToidXNlciIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMudXNlcj1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlcn19LHtrZXk6Imh5cGVydHlVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oeXBlcnR5VVJMfX0se2tleToiZGVzY3JpcHRvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3J9fSx7a2V5OiJvYmplY3ROYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvci5fb2JqZWN0TmFtZX19LHtrZXk6InAycEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wMnBIYW5kbGVyfX0se2tleToiZGF0YVNjaGVtZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhU2NoZW1lc319LHtrZXk6InJlc291cmNlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc291cmNlc319LHtrZXk6InJ1bnRpbWVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lfX1dKSxIeXBlcnR5SW5zdGFuY2V9KHkuZGVmYXVsdCk7LyoqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiovCnQuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ2NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZWdpc3RyeURhdGFNb2RlbChlLHQscixuLG8scyxhLHUsYyl7KDAsaS5kZWZhdWx0KSh0aGlzLFJlZ2lzdHJ5RGF0YU1vZGVsKTt2YXIgZj10aGlzO2YuX2lkPWUsZi5fdXJsPXQsZi5fZGVzY3JpcHRvclVSTD1yLGYuX3N0YXJ0aW5nVGltZT1vLGYuX2xhc3RNb2RpZmllZD1zLGYuX3N0YXR1cz1hLGYuX3N0dWJzPXUsZi5fc3R1YnNDb25maWd1cmF0aW9uPWMsZi5fcDJwUmVxdWVzdGVyPW59cmV0dXJuKDAscy5kZWZhdWx0KShSZWdpc3RyeURhdGFNb2RlbCxbe2tleToiaWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6ImRlc2NyaXB0b3IiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yVVJMfX0se2tleToicDJwUmVxdWVzdGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwUmVxdWVzdGVyfX0se2tleToibGFzdE1vZGlmaWVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdE1vZGlmaWVkfX1dKSxSZWdpc3RyeURhdGFNb2RlbH0oKTt0LmRlZmF1bHQ9YSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1mLmdldExvZ2dlcigiUDJQQ29ubmVjdGlvblJlc29sdmUiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUDJQQ29ubmVjdGlvblJlc29sdmUoZSl7KDAscy5kZWZhdWx0KSh0aGlzLFAyUENvbm5lY3Rpb25SZXNvbHZlKTt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5PWUsdC5fcmVtb3RlUDJQRW50aXRpZXM9e319LyoqCiAgKiBWZXJpZmllcyBpZiByZW1vdGUgRW50aXR5IGNhbiBiZSByZWFjaGVkIHdpdGggYSBQMlAgQ29ubmVjdGlvbi4KICAqIEBwYXJhbSAge1VSTC5VUkx9ICAgICAgICBpbmZvICAgICAgICAgICBvYmplY3QgVVJMCiAgKiBAcmV0dXJuIHtIeXBlcnR5RGF0YU9iamVjdEluc3RhbmNlfSAgYWRkcmVzc1VSTCAgICAgcmV0dXJuIHRoZSBEYXRhIE9iamVjdCBpbnN0YW5jZSByZWdpc3RlcmVkIFVSTCwgcmV0dXJuIHVuZGVmaW5lZCBvdGhlcndpc2UKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKFAyUENvbm5lY3Rpb25SZXNvbHZlLFt7a2V5OiJjaGVja1AyUCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUuaGFzT3duUHJvcGVydHkoInRvIikpCi8vIHRocm93IEVycm9yKCdUaGUgcDJwIHZlcmlmaWNhdGlvbiB3YXMgZmFpbGVkJyk7CnJldHVybiBpLmRlZmF1bHQucmVqZWN0KCJUaGUgcDJwIHZlcmlmaWNhdGlvbiB3YXMgZmFpbGVkIik7dmFyIHQ9ZS50by5zcGxpdCgiOi8vIilbMF0scj1lLnRvLnNwbGl0KCI6Ly8iKVsxXS5zcGxpdCgiLyIpWzJdLG49dm9pZCAwO249cj9lLnRvLnN1YnN0cmluZygwLGUudG8uaW5kZXhPZigiLyIrcikpOmUudG87dmFyIG89e307c3dpdGNoKGUuYm9keSYmZS5ib2R5LnAycCYmKG8ucDJwPWUuYm9keS5wMnApLGUuYm9keSYmZS5ib2R5LnAycEhhbmRsZXImJmUuYm9keS5wMnBSZXF1ZXN0ZXImJihvLnAycEhhbmRsZXI9ZS5ib2R5LnAycEhhbmRsZXIsby5wMnBSZXF1ZXN0ZXI9ZS5ib2R5LnAycFJlcXVlc3RlcixvLnJ1bnRpbWU9ZS5ib2R5LnAycEhhbmRsZXIuc3BsaXQoIi9wMnBoYW5kbGVyLyIpWzBdKSx0KXtjYXNlInJ1bnRpbWUiOnJldHVybiB0aGlzLmNoZWNrUDJQUnVudGltZShuLG8pO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2hlY2tQMlBFbnRpdHkobixvKX19fSx7a2V5OiJjaGVja1AyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ci5fcmVtb3RlUDJQRW50aXRpZXNbZV07aWYobyluKG8pO2Vsc2UgaWYodC5ydW50aW1lKW4odCk7ZWxzZSBpZih0LnAycCl7Ci8vIG90aGVyd2lzZSBsb29rIG9uIERvbWFpbiBSZWdpc3RyeQpsLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBFbnRpdHldIC0gc2VhcmNoIGluIERvbWFpbiBSZWdpc3RyeTogIixlKTt2YXIgcz17dHlwZToicmVhZCIsZnJvbTpyLl9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9yZWdpc3RyeS5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmV9fTtyLl9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKGwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEVudGl0eV0gRG9tYWluIFJlZ2lzdHJ5IHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXsKLy90b2RvOiBzdG9yZSByZXRyaWV2ZWQgZW50aXR5CnZhciB0PWUuYm9keS52YWx1ZTt0Lmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bih0KTppKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIEh5cGVydHkgd2l0aCBQMlBIYW5kbGVyIG5vdCBmb3VuZCIsZS5ib2R5LmNvZGUpfSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIE5vIFAyUCBDb25uZWN0aW9uIGF2YWlsYWJsZSBmb3IgIixlKX0pfX0se2tleToiY2hlY2tQMlBSdW50aW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17fTsKLy8gbG9vayBvbiBsb2NhbGx5IHN0b3JlZCBwMnAgY29ubmVjdGlvbnMKcmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtyLl9yZWdpc3RyeS5wMnBDb25uZWN0aW9uTGlzdFtlXT9pKHtydW50aW1lOmV9KTp0LnJ1bnRpbWU/KG49dCxpKG4pKTpvKCJbUmVnaXN0cnkuUDJQQ29ubmVjdGlvblJlc29sdmUuY2hlY2tQMlBSdW50aW1lXSBObyBQMlAgQ29ubmVjdGlvbiBmb3VuZCB0byAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMDsKLy8gbG9vayBvbiBsb2NhbGx5IHN0b3JlZCBoeXBlcnRpZXMKZm9yKHZhciBzIGluIHIuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0KQovLyB0b2RvOiBjaGFuZ2UgdG8gImh5cGVydHkudXJsIiB0byBiZSBhbGlnbmVkIHdpdGggaHlwZXJ0eSBpbnN0YW5jZSBkYXRhIG1vZGVsIHNwZWMKaWYobz1yLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdFtzXSxsLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSAtIGZvciBlYWNoIEh5cGVydHk6ICIsbyksby5oeXBlcnR5SUQ9PT1lKXJldHVybiB2b2lkKG8uaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKG8pOmkoIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLG8pKTtpZighbyYmdC5ydW50aW1lKW4odCk7ZWxzZSBpZighbyYmdC5wMnApewovLyBvdGhlcndpc2UgbG9vayBvbiBEb21haW4gUmVnaXN0cnkKbC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gLSBzZWFyY2ggaW4gRG9tYWluIFJlZ2lzdHJ5OiAiLG8pO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOnIuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX3JlZ2lzdHJ5Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZX19O3IuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24oZSl7aWYobC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gRG9tYWluIFJlZ2lzdHJ5IHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXsKLy90b2RvOiBzdG9yZSByZXRyaWV2ZWQgaHlwZXJ0eQp2YXIgdD1lLmJvZHkudmFsdWU7ci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3QucHVzaCh0KSx0Lmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bih0KTppKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gSHlwZXJ0eSB3aXRoIFAyUEhhbmRsZXIgbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIE5vIFAyUCBDb25uZWN0aW9uIGF2YWlsYWJsZSBmb3IgIixlKX0pfX0se2tleToiY2hlY2tQMlBEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy8gbG9vayBvbiBsb2NhbGx5IHN0b3JlZCBSZW1vdGUgRGF0YSBPYmplY3RzCnZhciBvPXIuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3RbdF0udXJsPT09ZX0pO2lmKDAhPT1vLmxlbmd0aCYmb1swXS5wMnBSZXF1ZXN0ZXIpbihvWzBdKTtlbHNlIGlmKDAhPT1vLmxlbmd0aClpKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBEYXRhIE9iamVjdCBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsb1swXSk7ZWxzZSBpZigwPT09by5sZW5ndGgmJnQucnVudGltZSluKHQpO2Vsc2UgaWYoby5sZW5ndGgmJnQucDJwKXsKLy8gb3RoZXJ3aXNlIGxvb2sgb24gRG9tYWluIFJlZ2lzdHJ5Ci8vIGxvb2sgb24gRG9tYWluIFJlZ2lzdHJ5CnZhciBzPXt0eXBlOiJyZWFkIixmcm9tOnIuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX3JlZ2lzdHJ5Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZX19O3IuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24oZSl7aWYobC5sb2coImRpc2NvdmVyIGRhdGEgb2JqZWN0IHBlciB1cmwgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpewovL3RvZG86IHN0b3JlIHJldHJpZXZlZCBoeXBlcnR5CnZhciB0PWUuYm9keS52YWx1ZTtyLl9yZWdpc3RyeS5yZW1vdGVEYXRhT2JqZWN0TGlzdC5wdXNoKHQpLHQucDJwUmVxdWVzdGVyP24odCk6aSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gRGF0YSBPYmplY3QgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBub3QgZm91bmQiLGUuYm9keS5jb2RlKX0pfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gbm8gUDJQIENvbm5lY3Rpb24gZm91bmQiKX0pfX0se2tleToiYWRkUmVtb3RlUDJQRW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3JlbW90ZVAyUEVudGl0aWVzW2VdPXR9fSx7a2V5OiJyZW1vdmVSZW1vdGVQMlBFbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9yZW1vdGVQMlBFbnRpdGllc1tlXX19LHtrZXk6InJlY29ubmVjdFAyUFJlcXVlc3RlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIGxldHMgdHJ5IHRvIHJlY29ubmVjdCBQMlAgUmVxdWVzdGVyIFN0dWI6ICIsZSksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUucnVudGltZSxvPXt0eXBlOiJleGVjdXRlIixmcm9tOnQuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOmUudXJsLGJvZHk6e21ldGhvZDoiY29ubmVjdCIscGFyYW1zOltlLnAycEhhbmRsZXJdfX07Ci8vIGxldHMgcHJlcGFyZSB0aGUgcDJwUmVxdWVzdGVyU1R1YiByZWNvbm5lY3QgYnkgc2V0dGluZyBhbiBvYnNlcnZlciB0byBpdHMgc3RhdHVzIGNoYW5nZXMKdC5fcmVnaXN0cnkud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgicDJwUmVxdWVzdGVyU3R1YiIsZnVuY3Rpb24oZSl7aWYobC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlclN0dWJzIGNoYW5nZWQgIit0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViKSxlLmtleXBhdGguc3BsaXQoIi4iKVswXT09PWkmJiJzdGF0dXMiPT09ZS5uYW1lKXN3aXRjaChlLm5ld1ZhbHVlKXtjYXNlImxpdmUiOmwubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXIgaXMgbGl2ZSAiK3QuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbaV0pLHIodC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltpXS51cmwpO2JyZWFrO2Nhc2UiZmFpbGVkIjpsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyIHJlY29ubmVjdCBmYWlsZWQgIit0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW2ldKSxuKCJQMlAgUmVxdWVzdGVyIHJlY29ubmVjdCBmYWlsZWQiKX19KSwKLy8gIHN0dWIgbG9hZAp0Ll9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKGUpe2wubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSByZWNvbm5lY3QgcmVxdWVzdCByZXBseSIsZSl9KX0pfX1dKSxQMlBDb25uZWN0aW9uUmVzb2x2ZX0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gICAgIHByb3h5LW9ic2VydmUgdjAuMC4xOAovLyAgICAgQ29weXJpZ2h0IChjKSAyMDE1LCAyMDE2IFNpbW9uIFkuIEJsYWNrd2VsbCwgQW55V2hpY2hXYXkKLy8gICAgIE1JVCBMaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocAohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gT2JzZXJ2ZXIoZSx0LHIsbixpLG8pe2Z1bmN0aW9uIGRlbGl2ZXIoZSxuKXtpZihkZWxpdmVyLmRlbGF5PW4sIWRlbGl2ZXIucGF1c2UmJmEuY2hhbmdlc2V0Lmxlbmd0aD4wKXtpZighZSl7dmFyIGk9YS5jaGFuZ2VzZXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFyfHxyLmluZGV4T2YoZS50eXBlKT49MH0pO2kubGVuZ3RoPjAmJnQoaSl9YS5jaGFuZ2VzZXQ9W119fXZhciBzLGE9dGhpczsKLy8gX19vYnNlcnZlckNhbGxiYWNrc19fIGlzIHVzZWQgYXMgYW4gaW5kZXggdG8gZ2V0IGF0IHRoZSBwcm94eSB3aGljaCBpcyB0aGUgb2JzZXJ2ZXIsIHNvIHdlIGNhbiB1bm9ic2VydmUKcmV0dXJuIGRlbGl2ZXIucGF1c2U9aSxkZWxpdmVyLmRlbGF5PW8sYS5nZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iX19vYnNlcnZlcl9fIj09PXQ/YToidW5vYnNlcnZlIj09PXQ/ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnVub2JzZXJ2ZShlKSxlfToiZGVsaXZlciI9PT10P2RlbGl2ZXI6ZVt0XX0sYS50YXJnZXQ9ZSxhLmNoYW5nZXNldD1bXSxhLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX198fChPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlckNhbGxiYWNrc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlcnNfXyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiExLHZhbHVlOltdfSkpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5wdXNoKHQpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJzX18ucHVzaCh0aGlzKSxzPW5ldyBQcm94eShlLGEpLGRlbGl2ZXIoITEsbyksc30KLy8gQ3JlYXRlcyBhbmQgcmV0dXJucyBhIFByb3h5IHdyYXBwaW5nIGEgdGFyZ2V0IHNvIHRoYXQgYWxsIGNoYW5nZXMgY2FuIGJlIHRyYXBwZWQgYW5kIGZvcndhcmRlZCB0bwovLyBhIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgdGFrZXMgYW4gYXJyYXkgb2YgY2hhbmdlcyBqdXN0IGxpa2UgdGhlIHRyYWRpdGlvbmFsIG9yaWdpbmFsIENocm9tZSBPYmplY3Qub2JzZXJ2ZQovLyB7b2JqZWN0OjxvYmplY3QgY2hhbmdlZD4sbmFtZTo8ZmllbGQgY2hhbmdlZD4sdHlwZTphZGR8dXBkYXRlfGRlbGV0ZXxyZWNvbmZpZ3VyZXxwcmV2ZW50RXh0ZW5zaW9uc3xzZXRQcm90b3R5cGUsb2xkVmFsdWU6PG9sZCB2YWx1ZSBpZiB1cGRhdGUgfCBkZWxldGU+fQovLyBUaGUgYWNjZXB0bGlzdCBjYW4gYmUgYWRkfHVwZGF0ZXxkZWxldGV8cmVjb25maWd1cmV8cHJldmVudEV4dGVuc2lvbnN8c2V0UHJvdG90eXBlLgovLyB2IDAuMC4xMCB0byBzdXBwb3J0IHBhdXNpbmcgYW5kIHJlc3RhcnRpbmcgb2JzZXJ2YXRpb24gdHdvIGFkZGl0aW9uYWwgY29uc3RydWN0b3IgYXJndW1lbnRzIGFyZSBhdmFpbGFibGUgdG8gT2JqZWN0Lm9ic2VydmU6Ci8vIHBhdXNhYmxlIC0gY3JlYXRlIHRoZSBPYnNlcnZlciBzbyBpdCBjYW4gYmUgcGF1c2VkCi8vIHBhdXNlIC0gY3JlYXRlIG9ic2VydmVyIGluIHBhdXNlZCBzdGF0ZQovLyBpZiBwYXVzYWJsZSBpcyB0cnVlIHRoZW4gYW4gYWRkaXRpb25hbCBtZXRob2QgZGVsaXZlcihpZ25vcmVQcmV2aW91cykgaXMgYXZhaWxhYmxlIHRvIHN0YXJ0IGRlbGl2ZXJ5Ci8vIHRvIHBhdXNlIGRlbGl2ZXJ5IHNldCBhIHByb3BlcnR5IGNhbGxlZCBwYXVzZSBvbiB0aGUgZnVuY3Rpb24gZGVsaXZlciB0byB0cnVlCi8vIHBhdXNhYmxlIGlzIG9wdGlvbmFsIHRvIHJlZHVjZSB0aGUgY2hhbmNlIG9mIHNoYWRvd2luZyBhIHByb3BlcnR5IG9yIG1ldGhvZCBvbiBhbnkgZXhpc3RpbmcgY29kZSBjYWxsZWQgZGVsaXZlcgpPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIFByb3h5fHwoT2JzZXJ2ZXIucHJvdG90eXBlLmRlbGl2ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQobnVsbCwiZGVsaXZlciIpfSxPYnNlcnZlci5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXsvLyAsIHJlY2VpdmVyCnZhciBuPWVbdF0saT12b2lkIDA9PT1uPyJhZGQiOiJ1cGRhdGUiO2lmKGVbdF09cixlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmKCF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKGkpPj0wKSl7dmFyIG89e29iamVjdDplLG5hbWU6dCx0eXBlOml9LHM9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxhPXRoaXMuZGVsaXZlcigpOyJ1cGRhdGUiPT09aSYmKG8ub2xkVmFsdWU9biksdGhpcy5jaGFuZ2VzZXQucHVzaChvKSxzJiZhKCExLCJudW1iZXIiPT10eXBlb2YgYS5kZWxheT9hLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtpZigKLy9pZih0eXBlb2Yob2xkdmFsdWUpIT09InVuZGVmaW5lZCIpIHsKZGVsZXRlIGVbdF0sZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJkZWxldGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJkZWxldGUiLG9sZFZhbHVlOnJ9LGk9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxvPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksaSYmbyghMSwibnVtYmVyIj09dHlwZW9mIG8uZGVsYXk/by5kZWxheToxMCl9Ci8vfQpyZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCxyKXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicmVjb25maWd1cmUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJyZWNvbmZpZ3VyZSJ9LGk9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxvPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksaSYmbyghMSwibnVtYmVyIj09dHlwZW9mIG8uZGVsYXk/by5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5zZXRQcm90b3R5cGVPZj1mdW5jdGlvbihlLHQpe3ZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpZihPYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInNldFByb3RvdHlwZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZToiX19wcm90b19fIix0eXBlOiJzZXRQcm90b3R5cGUiLG9sZFZhbHVlOnJ9LGk9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxvPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksaSYmbyghMSwibnVtYmVyIj09dHlwZW9mIG8uZGVsYXk/by5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihlKXtpZihPYmplY3QucHJldmVudEV4dGVuc2lvbnMoZSksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJwcmV2ZW50RXh0ZW5zaW9ucyIpPj0wKXt2YXIgdD17b2JqZWN0OmUsdHlwZToicHJldmVudEV4dGVuc2lvbnMifSxyPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbj10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKHQpLHImJm4oITEsIm51bWJlciI9PXR5cGVvZiBuLmRlbGF5P24uZGVsYXk6MTApfXJldHVybiEwfSxPYmplY3Qub2JzZXJ2ZT1mdW5jdGlvbihlLHQscixuLGksbyl7cmV0dXJuIG5ldyBPYnNlcnZlcihlLHQscixuLGksbyl9LE9iamVjdC51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXyl7aWYoIXQpcmV0dXJuIGUuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZSgwLGUuX19vYnNlcnZlckNhbGxiYWNrc19fLmxlbmd0aCksdm9pZCBlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyc19fLmxlbmd0aCk7ZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uZm9yRWFjaChmdW5jdGlvbihyLG4pe3Q9PT1yJiYoZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKG4sMSksZGVsZXRlIGUuX19vYnNlcnZlcnNfX1tuXS5jYWxsYmFjayxlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKG4sMSkpfSl9fSxBcnJheS5vYnNlcnZlPWZ1bmN0aW9uKGUsdCxyLG4saSxvKXtpZighKGUgaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShlKSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgdG8gQXJyYXkub2JzZXJ2ZXIgaXMgbm90IGFuIEFycmF5Iik7cj1yfHxbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInNwbGljZSJdO3ZhciBzPW5ldyBQcm94eShlLHtnZXQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4idW5vYnNlcnZlIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIGU/T2JqZWN0LnVub2JzZXJ2ZSh0LGUpOnQudW5vYnNlcnZlKCl9OiJzcGxpY2UiPT09bj9mdW5jdGlvbihuLGkpe2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiBpKXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IHR3byBhcmd1bWVudHMgdG8gQXJyYXkgc3BsaWNlIGFyZSBub3QgbnVtYmVyLCBudW1iZXIiKTt2YXIgbz10aGlzLnNsaWNlKG4sbitpKSxzPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHMubGVuZ3RoLTI6MCx1PXtvYmplY3Q6ZSx0eXBlOiJzcGxpY2UiLGluZGV4Om4scmVtb3ZlZDpvLGFkZGVkQ291bnQ6c307aWYodC5zcGxpY2UuYXBwbHkodCxhcmd1bWVudHMpLHIuaW5kZXhPZigic3BsaWNlIik+PTApe3ZhciBuPTA9PT1hLl9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQubGVuZ3RoLGM9YS5fX29ic2VydmVyX18uZGVsaXZlcigpO2EuX19vYnNlcnZlcl9fLmNoYW5nZXNldC5wdXNoKHUpLG4mJmMoITEsIm51bWJlciI9PXR5cGVvZiBjLmRlbGF5P2MuZGVsYXk6MTApfX06InB1c2giPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgsMCxlKX06InBvcCI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLTEsMSl9OiJ1bnNoaWZ0Ij09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxlKX06InNoaWZ0Ij09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwxKX06dFtuXX19KSxhPU9iamVjdC5vYnNlcnZlKHMsZnVuY3Rpb24oZSl7dmFyIG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImxlbmd0aCIhPT1lLm5hbWUmJiJhZGQiIT09ZS5uYW1lJiYoIXJ8fHIuaW5kZXhPZihlLnR5cGUpPj0wKX0pO24ubGVuZ3RoPjAmJnQobil9LHIsbixpLG8pO3JldHVybiBhfSxBcnJheS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51bm9ic2VydmUodCl9KSxPYmplY3QuZGVlcE9ic2VydmU9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHJlb2JzZXJ2ZShlLHIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoKCJvYmplY3QiPT09bihlW2ldKXx8ImFycmF5Ij09PW4oZVtpXSkpJiYhZVtpXS5oYXNPd25Qcm9wZXJ0eSgiX19vYnNlcnZlcnNfXyIpKXt2YXIgbz1yLnNsaWNlKDApO28ucHVzaChpKSxlW2ldPU9iamVjdC5kZWVwT2JzZXJ2ZShlW2ldLHQsbyl9fSl9cj1yfHxbXTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm57fS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9ccyhbYS16QS1aXSspLylbMV0udG9Mb3dlckNhc2UoKX07cmV0dXJuIHJlb2JzZXJ2ZShlLHIpLE9iamVjdC5vYnNlcnZlKGUsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcmVjdXJzZShlLHQscixpLG8pe2lmKGkgaW5zdGFuY2VvZiBPYmplY3Qpe09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24ocyl7aWYoIXJ8fHJbc10hPT1pW3NdKXt2YXIgYT1yJiZ2b2lkIDAhPT1yW3NdP3Jbc106dm9pZCAwLHU9dm9pZCAwPT09YT8iYWRkIjoidXBkYXRlIixjPW8rIi4iK3M7bi5wdXNoKHtuYW1lOmUsb2JqZWN0OnQsdHlwZTp1LG9sZFZhbHVlOmEsbmV3VmFsdWU6aVtzXSxrZXlwYXRoOmN9KSxyZWN1cnNlKGUsdCxhLGlbc10sYyl9fSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgcz1PYmplY3Qua2V5cyhyKTtzLmZvckVhY2goZnVuY3Rpb24ocyl7dmFyIGE9bnVsbD09PWk/InVwZGF0ZSI6ImRlbGV0ZSIsdT1vKyIuIitzO24ucHVzaCh7bmFtZTplLG9iamVjdDp0LHR5cGU6YSxvbGRWYWx1ZTpyW3NdLG5ld1ZhbHVlOmksa2V5cGF0aDp1fSkscmVjdXJzZShlLHQscltzXSx2b2lkIDAsdSl9KX19dmFyIG49W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PShyLmxlbmd0aD4wP3Iuam9pbigiLiIpKyIuIjoiIikrZS5uYW1lOyJ1cGRhdGUiIT09ZS50eXBlJiYiYWRkIiE9PWUudHlwZXx8cmVvYnNlcnZlKGUub2JqZWN0LHIpLG4ucHVzaCh7bmFtZTplLm5hbWUsb2JqZWN0OmUub2JqZWN0LHR5cGU6ZS50eXBlLG9sZFZhbHVlOmUub2xkVmFsdWUsbmV3VmFsdWU6ZS5vYmplY3RbZS5uYW1lXSxrZXlwYXRoOnR9KSxyZWN1cnNlKGUubmFtZSxlLm9iamVjdCxlLm9sZFZhbHVlLGUub2JqZWN0W2UubmFtZV0sdCl9KSx0KG4pfSl9fSgpfSwvKiA0NjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDE0KSxkPXIoMTQ0KSxwPXIoNDcwKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQ3NSksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9Zi5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksYj1mdW5jdGlvbigpey8qKgogICogVGhpcyBpcyB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGlzZSB0aGUgSWRlbnRpdHkgTW9kdWxlIGl0IGRvZXMgbm90IHJlcXVpcmUgYW55IGlucHV0LgogICovCmZ1bmN0aW9uIElkZW50aXR5TW9kdWxlKGUsdCxyLG4saSxvKXsoMCxzLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlNb2R1bGUpO3ZhciBhPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG9NYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVDYXRhbG9ndWUgaXMgbWlzc2luZyIpO2EuX3J1bnRpbWVVUkw9ZSxhLl9ydW50aW1lQ2F0YWxvZ3VlPW8sYS5kYXRhT2JqZWN0c1N0b3JhZ2U9bixhLl9pZG1VUkw9YS5fcnVudGltZVVSTCsiL2lkbSIsYS5fZ3VpVVJMPWEuX3J1bnRpbWVVUkwrIi9pZGVudGl0eS1ndWkiLGEucnVudGltZUNhcGFiaWxpdGllcz10LGEuX2RvbWFpbj0oMCxsLmRpdmlkZVVSTCkoYS5fcnVudGltZVVSTCkuZG9tYWluLAovL3RvIHN0b3JlIGl0ZW1zIHdpdGggdGhpcyBmb3JtYXQ6IHtpZGVudGl0eTogaWRlbnRpdHlVUkwsIHRva2VuOiB0b2tlbklEfQphLl9pZGVudGl0aWVzPW5ldyB5LmRlZmF1bHQoImh1bWFuIixyKSwKLy8gdG8gYmUgcmV2aWV3ZWQ6IHdhdGNoaW5nWW91IGlkZW50aXRpZXNMaXN0IG9yIGlkZW50aXRpZXM/Ci8vICAgIF90aGlzLmlkZW50aXRpZXNMaXN0ID0gX3RoaXMud2F0Y2hpbmdZb3Uud2F0Y2goJ2lkZW50aXRpZXNMaXN0Jywge30sIHRydWUpOwphLl9jcnlwdG89aSwvKiAgICBfdGhpcy5lbWFpbHNMaXN0ID0gW107CiAgICBsZXQgbmV3SWRlbnRpdHkgPSBuZXcgSWRlbnRpdHkoJ2d1aWQnLCAnSFVNQU4nKTsKICAgIF90aGlzLmlkZW50aXR5ID0gbmV3SWRlbnRpdHk7CiAgICBfdGhpcy5jdXJyZW50SWRlbnRpdHk7CiAgICBfdGhpcy5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eTsqLwovL3N0b3JlcyB0aGUgYXNzb2NpYXRpb24gb2YgdGhlIGRhdGFPYmplY3QgYW5kIHRoZSBIeXBlcnR5IHJlZ2lzdGVyZWQgd2l0aGluCmEuZGF0YU9iamVjdHNJZGVudGl0eT17fSwvLyBpcyB0aGlzIG5lZWRlZD8KYS5fbGlzdE9mSWRwcz1bXSwKLy8gdmFyaWFibGUgdG8ga25vdyBpZiB0aGUgR1VJIGlzIGRlcGxveWVkIHRvIGNob29zZSB0aGUgaWRlbnRpdHkuIGlmIHRoZSByZWFsIEdVSSBpcyBub3QgZGVwbG95ZWQsIGEgZmFrZSBndWkgaXMgZGVwbG95ZWQgaW5zdGVhZC4KYS5ndWlEZXBsb3llZD0hMX0KLy8qKioqKioqKioqKioqKioqKioqIEdFVCBBTkQgU0VUIE1FVEhPRFMgKioqKioqKioqKioqKioqKioqKgovKioKICAqIHJldHVybiB0aGUgbWVzc2FnZUJ1cyBpbiB0aGlzIFJlZ2lzdHJ5CiAgKiBAcGFyYW0ge01lc3NhZ2VCdXN9ICAgICAgICAgICBtZXNzYWdlQnVzCiAgKi8KcmV0dXJuKDAsdS5kZWZhdWx0KShJZGVudGl0eU1vZHVsZSxbe2tleToiZ2V0SWRlbnRpdHkiLAovLyoqKioqKioqKioqKioqKioqKiogSURFTlRJVFkgUkVMRUFURUQgTUVUSE9EUyAqKioqKioqKioqKioqKioqKioqCi8qKgogICAgKiBnZXRzIGFsbCB0aGUgaW5mb3JtYXRpb24gZnJvbSBhIGdpdmVuIHVzZXJVUkwKICAgICogQHBhcmFtICB7U3RyaW5nfSAgdXNlclVSTCAgICAgdXNlciB1cmwKICAgICogQHJldHVybiB7SlNPTn0gICAgaWRlbnRpdHkgICAgaWRlbnRpdHkgYnVuZGxlIGZyb20gdGhlIHVzZXJVUkwKICAgICovCnZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkoZSl9fSx7a2V5OiJnZXRJZGVudGl0aWVzVG9DaG9vc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczsKLy8gICAgbGV0IGlkZW50aXRpZXMgPSBfdGhpcy5pZGVudGl0aWVzLmlkZW50aWZpZXJzOwovLyBsZXQgaWRwcyA9IFsKLy8gICB7IGRvbWFpbjogJ2dvb2dsZS5jb20nLCB0eXBlOiAnaWRUb2tlbid9LAovLyAgIHsgZG9tYWluOiAnbWljcm9zb2Z0LmNvbScsIHR5cGU6ICdpZFRva2VuJ30sCi8vICAgeyBkb21haW46ICdvcmFuZ2UuZnInLCB0eXBlOiAnaWRUb2tlbid9LAovLyAgIHsgZG9tYWluOiAnc2xhY2suY29tJywgdHlwZTogJ0xlZ2FjeSd9Ci8vIF07Ci8vIHRvZG86IHJldHJpZXZlIGF2YWlsYWJsZSBpZHBzIGZyb20gcnVudGltZSBjYXRhbG9ndWUKLy8gdG9kbzogZW5hYmxlIG9hdXRoIGlkcHMKLy8gbGV0IGlkcHMgPSBbCi8vICAgeyBkb21haW46ICdnb29nbGUuY29tJywgdHlwZTogJ2lkVG9rZW4nIH0sCi8vICAgeyBkb21haW46ICdtaWNyb3NvZnQuY29tJywgdHlwZTogJ2lkVG9rZW4nIH0sCi8vICAgeyBkb21haW46ICdmYWNlYm9vay5jb20nLCB0eXBlOiAnaWRUb2tlbicgfSwKLy8gICB7IGRvbWFpbjogJ3NsYWNrLmNvbScsIHR5cGU6ICdpZFRva2VuJyB9Ci8vIF07CnJldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQpe3ZhciByPWQucnVudGltZUNvbmZpZ3VyYXRpb24uY2F0YWxvZ3VlVVJMcy5pZHBQcm94eS5wcmVmaXgrZS5fZG9tYWluK2QucnVudGltZUNvbmZpZ3VyYXRpb24uY2F0YWxvZ3VlVVJMcy5pZHBQcm94eS5zdWZmaXg7aS5kZWZhdWx0LmFsbChbZS5ydW50aW1lQ2FwYWJpbGl0aWVzLmlzQXZhaWxhYmxlKCJicm93c2VyIiksZS5ydW50aW1lQ2FwYWJpbGl0aWVzLmlzQXZhaWxhYmxlKCJub2RlIildKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPW5bMF0sbz1uWzFdLHM9e2NvbnN0cmFpbnRzOnt9fTtzLmNvbnN0cmFpbnRzLm5vZGU9byxzLmNvbnN0cmFpbnRzLmJyb3dzZXI9aSxlLl9ydW50aW1lQ2F0YWxvZ3VlLmdldFR5cGVMaXN0KHIscykudGhlbihmdW5jdGlvbihyKXt2YXIgbj1yLm1hcChmdW5jdGlvbihlKXtyZXR1cm57ZG9tYWluOmUsdHlwZToiaWRUb2tlbiJ9fSk7cmV0dXJuIGcuaW5mbygiW0lkZW50aXR5TW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uOmdldElkZW50aXRpZXNUb0Nob29zZV0iLHIsbiksZS5fbGlzdE9mSWRwcz1uLHQoe2RlZmF1bHRJZGVudGl0eTplLmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5LGlkZW50aXRpZXM6ZS5pZGVudGl0aWVzLmlkZW50aXRpZXMsaWRwczpufSl9KX0pfSl9fSx7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5faWRlbnRpdGllcy5sb2FkSWRlbnRpdGllcygpLnRoZW4oZnVuY3Rpb24oKXtlLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPSJ1c2VyLWd1aWQ6Ly8iKygwLGwuc3RyaW5naWZ5KShyKTtlLmlkZW50aXRpZXMuZ3VpZD1uLGUuX2lkZW50aXRpZXMubG9hZEFjY2Vzc1Rva2VucygpLnRoZW4oZnVuY3Rpb24oKXt0KCl9KX0pfSl9KX19LHtrZXk6ImdldElkZW50aXR5QXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uOmlkZW50aXR5QnVuZGxlXSIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pewovL0NIRUNLIHdoZXRoZXIgaXMgYnJvd3NlciBlbnZpcm9ubWVudCBvciBub2RlanMKLy9pZiBpdCBpcyBicm93c2VyLCB0aGVuIGNyZWF0ZSBhIGZha2UgaWRlbnRpdHkKdC5ydW50aW1lQ2FwYWJpbGl0aWVzLmlzQXZhaWxhYmxlKCJicm93c2VyIikudGhlbihmdW5jdGlvbihpKXtpZihnLmxvZygicnVudGltZSBicm93c2VyIGlkZW50aXR5IGFjcXVpc2l0aW9uIixpKSxpKQovL3RvZG86IG9ubHkgaWRwIHNob3VsZCBiZSBtYW5kYXRvcnkgd2hlbiBpZGVudGl0eUJ1bmRsZSBleGlzdHMKaWYoZSYmZS5oYXNPd25Qcm9wZXJ0eSgiaWRwIikpe3ZhciBvPWUuaWRwLHM9ZS5oYXNPd25Qcm9wZXJ0eSgib3JpZ2luIik/ZS5vcmlnaW46Im9yaWdpbiIsYT1lLmhhc093blByb3BlcnR5KCJpZEhpbnQiKT9lLmlkSGludDoiIjt0LnNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eShzLG8sYSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZV0gSWRlbnRpdHkgc2VsZWN0ZWQgYnkgaHlwZXJ0eS4iKSxyKGUpfSxmdW5jdGlvbihlKXsKLy8gaWYgaXQgZ290IGFuIGVycm9yIHRoZW4ganVzdCBzZWxlY3QgaWRlbnRpdHkgZnJvbSBHVUkKLy8gbG9nLmVycm9yKCdbSWRlbnRpdHlNb2R1bGVdIENvdWxkIG5vdCBzZWxlY3QgaWRlbnRpdHkgZnJvbSBoeXBlcnR5LicpOwp0LnNlbGVjdElkZW50aXR5RnJvbUdVSSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGVdIElkZW50aXR5IHNlbGVjdGVkIGJ5IGh5cGVydHkuIikscihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfWVsc2V7aWYodC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSYmdC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eS5leHBpcmVzPigwLGwuc2Vjb25kc1NpbmNlRXBvY2gpKCkpcmV0dXJuIHIodC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSk7dC5zZWxlY3RJZGVudGl0eUZyb21HVUkoKS50aGVuKGZ1bmN0aW9uKGUpey8qCiAgICAgICAgICAgICAgICAgIF90aGlzLmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5ID0gYXNzZXJ0aW9uLnVzZXJQcm9maWxlLnVzZXJVUkw7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGFzc2VydGlvbik7CiAgICAgICAgICAgICAgICB9Ki8KcmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGVdIElkZW50aXR5IHNlbGVjdGVkIGZyb20gR1VJLiIpLHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHk9ZS51c2VyUHJvZmlsZS51c2VyVVJMLHIoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9fSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGcuZXJyb3IoIkVycm9yIG9uIGlkZW50aXR5IGFjcXVpc2l0aW9uICIsZSksbihlKX0pLHQucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgibm9kZSIpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZy5sb2coIm5vZGUgaWRlbnRpdHkgYWNxdWlzaXRpb24iLGUpLGUpe2lmKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpCi8vVE9ETyB2ZXJpZnkgd2hldGhlciB0aGUgdG9rZW4gaXMgc3RpbGwgdmFsaWQgb3Igbm90LgovLyBzaG91bGQgYmUgbmVlZGVkIHRvIG1ha2UgZnVydGhlciByZXF1ZXN0cywgdG8gb2J0YWluIGEgdmFsaWQgdG9rZW4KcmV0dXJuIHIodC5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eSk7Zy5sb2coImdldElkZW50aXR5QXNzZXJ0aW9uIGZvciBub2RlanMiKTt2YXIgaT17dHlwZToiaWRwIix2YWx1ZToibm9kZWpzLWlkcCIsY29kZToyMDAsYXV0aDohMX07dC5jYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzKGkudmFsdWUsIm9yaWdpbiIpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIkVycm9yIG9uIGlkZW50aXR5IGFjcXVpc2l0aW9uICIsZSksbihlKX0pfSl9fSx7a2V5OiJnZXRVc2Vyc0lEcyIsdmFsdWU6ZnVuY3Rpb24oKXsvKiAgbG9nLmxvZygnW2dldFVzZXJzSURzOmVtYWlsRm9ybWF0XScsIGVtYWlsRm9ybWF0KTsKICAgICAgICBsb2cubG9nKCdnZXRVc2Vyc0lEczplbWFpbEZvcm1hdCcsIGVtYWlsRm9ybWF0KTsKICAgICAgICBsZXQgX3RoaXMgPSB0aGlzOwogICAgICAgIGxldCB1c2VycyA9IFtdOyovCi8vaWYgcmVxdWVzdCBjb21lcyB3aXRoIHRoZSBlbWFpbEZvcm1hdCBvcHRpb24sIHRoZW4gY29udmVydCB1cmwgdG8gZW1haWwgZm9ybWF0Ci8qICAgIGxldCBjb252ZXJ0ZXIgPSAoZW1haWxGb3JtYXQpID8gZ2V0VXNlckVtYWlsRnJvbVVSTCA6ICh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWU7IH07CiAgICAgICBmb3IgKGxldCBpbmRleCBpbiBfdGhpcy5pZGVudGl0aWVzKSB7CiAgICAgICAgbGV0IGlkZW50aXR5ID0gX3RoaXMuaWRlbnRpdGllc1tpbmRleF07CiAgICAgICAgdXNlcnMucHVzaChjb252ZXJ0ZXIoaWRlbnRpdHkuaWRlbnRpdHkpKTsKICAgICAgfSovCnJldHVybiB0aGlzLmlkZW50aXRpZXMuaWRlbnRpZmllcnN9fSx7a2V5OiJkZWxldGVJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaWRlbnRpdGllcy5yZW1vdmVJZGVudGl0eShlKX19LHtrZXk6InJlcXVlc3RJZGVudGl0eVRvR1VJIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUucmVxdWVzdElkZW50aXR5VG9HVUk6aWRlbnRpdGllc10iLGUpLGcubG9nKCJbSWRlbnRpdHlNb2R1bGUucmVxdWVzdElkZW50aXR5VG9HVUk6aWRwc10iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9jb25kaXRpb24gdG8gY2hlY2sgaWYgdGhlIHJlYWwgR1VJIGlzIGRlcGxveWVkLiBJZiBub3QsIGRlcGxveXMgYSBmYWtlIGd1aQppZighMT09PXIuZ3VpRGVwbG95ZWQpe3ZhciBvPXIuX2d1aVVSTCxzPW5ldyB2LmRlZmF1bHQobyxyLl9tZXNzYWdlQnVzKTtyLmd1aUZha2U9cyxyLmd1aURlcGxveWVkPSEwfXZhciBhPXt0eXBlOiJjcmVhdGUiLHRvOnIuX2d1aVVSTCxmcm9tOnIuX2lkbVVSTCxib2R5Ont2YWx1ZTp7aWRlbnRpdGllczplLGlkcHM6dH19fSx1PWZ1bmN0aW9uKGUpewovLyB0b2RvOiB0byByZXR1cm4gdGhlIHVzZXIgVVJMIGFuZCBub3QgdGhlIGVtYWlsIG9yIGlkZW50aWZpZXIKaWYoci5fbWVzc2FnZUJ1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX2lkbVVSTCxlLmlkKSwyMDA9PT1lLmJvZHkuY29kZSl7dmFyIHQ9ZS5ib2R5O2cubG9nKCJzZWxlY3RlZElkZW50aXR5OiAiLHQudmFsdWUpLG4odCl9ZWxzZSBpKCJlcnJvciBvbiByZXF1ZXN0aW5nIGFuIGlkZW50aXR5IHRvIHRoZSBHVUkiKX07Ci8vcG9zdE1lc3NhZ2Ugd2l0aCBjYWxsYmFjayBidXQgd2l0aG91dCB0aW1lb3V0CnRyeXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsdSwhMSl9Y2F0Y2goZSl7aSgiSW4gbWV0aG9kIGNhbGxJZGVudGl0eU1vZHVsZUZ1bmMgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kczppZHBdIixlKSxnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6b3JpZ2luXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpewovL2RlYnVnZ2VyOwp2YXIgbz12b2lkIDA7Ci8vbGV0IGtleVBhaXIgPSBub2RlSlNLZXlQYWlyUG9wdWxhdGU7Ci8vZ2VuZXJhdGVzIHRoZSBSU0Ega2V5IHBhaXIKci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOmtleV0iLG4pLG89KDAsbC5zdHJpbmdpZnkpKG4pLGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kc10gTk9fVVJMIiksci5nZW5lcmF0ZUFzc2VydGlvbihvLHQsInVybCIsZSl9KS50aGVuKGZ1bmN0aW9uKGUpe2U/bihlKTppKCJFcnJvciBvbiBvYnRhaW5pbmcgSWRlbnRpdHkiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cubG9nKGUpLGkoZSl9KX0pfX0se2tleToiY2FsbEdlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz12b2lkIDA7Ci8vZ2VuZXJhdGVzIHRoZSBSU0Ega2V5IHBhaXIKci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXsKLy8gICAgICAgIHVzZXJrZXlQYWlyID0ga2V5UGFpcjsKcmV0dXJuIGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kczprZXldIixuKSxvPSgwLGwuc3RyaW5naWZ5KShuKSxnLmxvZygiZ2VuZXJhdGVBc3NlcnRpb246bm9faGludCIpLHIuZ2VuZXJhdGVBc3NlcnRpb24obyx0LCIiLGUpfSkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gci5teUhpbnQ9bixnLmxvZygiZ2VuZXJhdGVBc3NlcnRpb246aGludCIpLHIuZ2VuZXJhdGVBc3NlcnRpb24obyx0LG4sZSl9KS50aGVuKGZ1bmN0aW9uKGUpe2U/bihlKTppKCJFcnJvciBvbiBvYnRhaW5pbmcgSWRlbnRpdHkiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoZSksaShlKX0pfSl9fSx7a2V5OiJsb2dpblNlbGVjdGVkSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2cubG9nKCJbbG9naW5TZWxlY3RlZElkZW50aXR5OnB1YmxpY0tleV0iLGUpLGcubG9nKCJbbG9naW5TZWxlY3RlZElkZW50aXR5Om9yaWdpbl0iLHQpLGcubG9nKCJbbG9naW5TZWxlY3RlZElkZW50aXR5OmlkcF0iLHIpLAovLyAgICBsb2cubG9nKCdbbG9naW5TZWxlY3RlZElkZW50aXR5OmtleVBhaXJdJywga2V5UGFpcik7CmcubG9nKCJbbG9naW5TZWxlY3RlZElkZW50aXR5OmxvZ2luVXJsXSIsbik7dmFyIG89dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLHMpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGVdIG9wZW5Qb3B1cCIpLG8uY2FsbElkZW50aXR5TW9kdWxlRnVuYygib3BlblBvcHVwIix7dXJscmVjZWl2ZWQ6bn0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGZ1bmN0aW9uKGUpe3JldHVybiBnLmVycm9yKCJFcnJvciB3aGlsZSBsb2dnaW5nIGluIGZvciB0aGUgc2VsZWN0ZWQgaWRlbnRpdHkuIikscyhlKX0pLnRoZW4oZnVuY3Rpb24obil7by5zZW5kR2VuZXJhdGVNZXNzYWdlKGUsdCxuLHIpLnRoZW4oZnVuY3Rpb24oZSl7aWYoIWUuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpKXJldHVybiBnLmVycm9yKCJFcnJvciB3aGlsZSBsb2dnaW5nIGluIGZvciB0aGUgc2VsZWN0ZWQgaWRlbnRpdHkuIikscygiQ291bGQgbm90IGdlbmVyYXRlIGEgdmFsaWQgYXNzZXJ0aW9uIGZvciBzZWxlY3RlZCBpZGVudGl0eS4iKTtvLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKGUpLnRoZW4oZnVuY3Rpb24oZSl7aSgiTG9naW4gd2FzIHN1Y2Nlc3NmdWxsIil9KS5jYXRjaChmdW5jdGlvbihlKXtzKCJMb2dpbiBoYXMgZmFpbGVkOiIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3MoIk9uIGxvZ2luU2VsZWN0ZWRJZGVudGl0eSBmcm9tIG1ldGhvZCBzZW5kR2VuZXJhdGVNZXNzYWdlIGVycm9yOiAgIitlKX0pfSl9KX19LHtrZXk6InNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2cubG9nKCJbc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5Om9yaWdpbl0iLGUpLGcubG9nKCJbc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5OmlkcF0iLHQpLGcubG9nKCJbc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5OmlkSGludF0iLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXsKLy9nZW5lcmF0ZXMgdGhlIFJTQSBrZXkgcGFpcgpuLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKHMpe3ZhciBhPSgwLGwuc3RyaW5naWZ5KShzKTtuLnNlbmRHZW5lcmF0ZU1lc3NhZ2UoYSxlLHIsdCkudGhlbihmdW5jdGlvbihyKXtyLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKT8KLy8gaWRlbnRpdHkgd2FzIGxvZ2dlZCBpbiwganVzdCBzYXZlIGl0Cm4uaWRlbnRpdGllcy5hZGRBc3NlcnRpb24ocikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaShyKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9KTpyLmhhc093blByb3BlcnR5KCJsb2dpblVybCIpPwovLyBpZGVudGl0eSB3YXMgbm90IGxvZ2dlZCBpbgpuLmxvZ2luU2VsZWN0ZWRJZGVudGl0eShhLGUsdCxyLmxvZ2luVXJsKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pOigKLy8geW91IHNob3VsZCBuZXZlciBnZXQgaGVyZSwgaWYgeW91IGRvIHRoZW4gdGhlIElkUCBQcm94eSBpcyBub3Qgd2VsbCBpbXBsZW1lbnRlZAovLyBsb2cuZXJyb3IoJ0dlbmVyYXRlQXNzZXJ0aW9uIHJldHVybmVkIGludmFsaWQgcmVzcG9uc2UuJyk7CmcubG9nKCJQcm9jZWVkaW5nIGJ5IGxvZ2dpbmcgaW4uIiksbi5jYWxsR2VuZXJhdGVNZXRob2RzKHQsZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9KSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBzZWxlY3RJZGVudGl0eUZvckh5cGVydHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIHNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eSBmcm9tIG1ldGhvZCBnZW5lcmF0ZVJTQUtleVBhaXIgZXJyb3I6ICAiK2UpfSl9KX19LHtrZXk6InNlbGVjdElkZW50aXR5RnJvbUdVSSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnLmxvZygiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSTpvcmlnaW5dIixlKTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dC5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlcXVlc3RJZGVudGl0eVRvR1VJKGUuaWRlbnRpdGllcyxlLmlkcHMpfSkudGhlbihmdW5jdGlvbih0KXtpZigiaWRlbnRpdHkiPT09dC50eXBlKQovLyAgbGV0IGNob3NlbklEID0gZ2V0VXNlclVSTEZyb21FbWFpbCh2YWx1ZS52YWx1ZSk7Ci8vIGhhY2sgd2hpbGUgdGhlIHVzZXIgdXJsIGlzIG5vdCByZXR1cm5lZCBmcm9tIHJlcXVlc3RJZGVudGl0eVRvR1VJOwovKiAgICAgICAgICBsZXQgY2hvc2VuSUQgPSAndXNlcjovLycgKyBfdGhpcy5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eS5pZHAuZG9tYWluICsgJy8nICsgdmFsdWUudmFsdWU7CiAgICAgICAgICAgICBfdGhpcy5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSA9IF90aGlzLmlkZW50aXRpZXMuY3VycmVudElkZW50aXR5OyovCi8vIHJldHVybnMgdGhlIGlkZW50aXR5IGluZm8gZnJvbSB0aGUgY2hvc2VuIGlkCi8vICAgICAgICAgIGlmIChfdGhpcy5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eSkgcmVzb2x2ZShfdGhpcy5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eS5hc3NlcnRpb24pOwpyLmlkZW50aXRpZXMuaWRlbnRpdGllc1t0LnZhbHVlXT9uKHIuaWRlbnRpdGllcy5pZGVudGl0aWVzW3QudmFsdWVdKTppKCJbSWRlbnRpdHlNb2R1bGUuc2VsZWN0SWRlbnRpdHlGcm9tR1VJXSBpZGVudGl0eSBub3QgZm91bmQ6ICIsdC52YWx1ZSk7ZWxzZXtpZigiaWRwIiE9PXQudHlwZSlyZXR1cm4gaSgiZXJyb3Igb24gR1VJIHJlY2VpdmVkIG1lc3NhZ2UuIik7ci5jYWxsR2VuZXJhdGVNZXRob2RzKHQudmFsdWUsZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KX19KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBzZWxlY3RJZGVudGl0eUZyb21HVUkgZnJvbSBtZXRob2QgcmVxdWVzdElkZW50aXR5VG9HVUkgZXJyb3I6ICAiK2UpfSl9KX19LHtrZXk6ImNhbGxJZGVudGl0eU1vZHVsZUZ1bmMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zy5sb2coIltjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm1ldGhvZE5hbWVdIixlKSxnLmxvZygiW2NhbGxJZGVudGl0eU1vZHVsZUZ1bmM6cGFyYW1ldGVyc10iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz17dHlwZToiZXhlY3V0ZSIsdG86ci5fZ3VpVVJMLGZyb206ci5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOmUscGFyYW1zOnR9fSxzPWZ1bmN0aW9uKGUpe3IuX21lc3NhZ2VCdXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyLl9pZG1VUkwsZS5pZCk7dmFyIHQ9ZS5ib2R5LnZhbHVlO24odCl9O3RyeXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8scywhMSl9Y2F0Y2goZSl7aSgiSW4gbWV0aG9kIGNhbGxJZGVudGl0eU1vZHVsZUZ1bmMgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJnZXRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPWUudG87cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzb3VyY2UiKSYmKHI9ZS5ib2R5LnNvdXJjZSksImZvcndhcmQiPT09ZS50eXBlJiYocj1lLmJvZHkuZnJvbSksZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmKHI9ZS5ib2R5LnN1YnNjcmliZXIpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldFRva2VuXSBmb3IgbXNnICIsZSksCi8vbG9nLmxvZygndG9VcmwnLCB0b1VybCk7CnQucmVnaXN0cnkuaXNMZWdhY3kobikudGhlbihmdW5jdGlvbihuKXsKLy8gbG9nLmxvZygnW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFRva2VuXSBpc0xFR0FDWTogJywgcmVzdWx0KTsKbj90Ll9nZXRBY2Nlc3NUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIGFjY2VzcyB0b2tlbiAiLGUpLGkoKDAsbC5kZWVwQ2xvbmUpKGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gQWNjZXNzIFRva2VuIGVycm9yICIrZSl9KTp0Ll9nZXRWYWxpZFRva2VuKHIpLnRoZW4oZnVuY3Rpb24oZSl7aShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGdldFRva2VuIGZyb20gbWV0aG9kIF9nZXRWYWxpZFRva2VuIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBnZXRUb2tlbiBmcm9tIG1ldGhvZCBpc0xlZ2FjeSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJnZXRJZFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtnLmluZm8oImdldElkVG9rZW46aHlwZXJ0eVVSTCAiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT1lLnNwbGl0KCI6Ly8iKSxvPXZvaWQgMDtpZigiaHlwZXJ0eSI9PT1pWzBdKXtpZihvPXQucmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUpKXt2YXIgcz10LmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkobyk7cmV0dXJuIHM/cihzKTpuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gSWRlbnRpdHkgbm90IGZvdW5kIGZvcjogIixvKX1yZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIFVzZXIgbm90IGZvdW5kIGZvciBoeXBlcnR5OiAiLG8pfQovLyBpdCBpcyBhIERhdGEgT2JqZWN0IFVSTAp0Ll9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3QoZSkudGhlbihmdW5jdGlvbihlKXtpZihvPXQucmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUpKXt2YXIgaT10LmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkobyk7cmV0dXJuIGk/cihpKTpuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gSWRlbnRpdHkgbm90IGZvdW5kIGZvcjogIixvKX1yZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIFVzZXIgbm90IGZvdW5kIGZvciBoeXBlcnR5OiAiLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIEVycm9yOiAiLGUpLG4oZSl9KX0pfX0se2tleToiX2dldEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS50byxvPXZvaWQgMDtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpKXJldHVybiBuKCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keTogIixlKTtpZighZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpKXJldHVybiBuKCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keSB2YWx1ZTogIixlKTtpZighZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZXMiKSlyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHkgdmFsdWUgcmVzb3VyY2VzOiAiLGUpO3ZhciBzPSgwLGwuZGl2aWRlVVJMKShpKS5kb21haW47aS5pbmNsdWRlcygicHJvdG9zdHViIikmJihzPXMucmVwbGFjZShzLnNwbGl0KCIuIilbMF0rIi4iLCIiKSk7dmFyIGE9ZS5ib2R5LnZhbHVlLnJlc291cmNlczt0cnl7bz10LmlkZW50aXRpZXMuZ2V0QWNjZXNzVG9rZW4ocyxhKX1jYXRjaChlKXtyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gQWNjZXNzIFRva2VuIGVycm9yICIrZXJyKX1pZihvKXtpZigiaW4tcHJvZ3Jlc3MiPT09by5zdGF0dXMpcmV0dXJuIHIodC5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuKHMsYSkpO3ZhciB1PSgwLGwuc2Vjb25kc1NpbmNlRXBvY2gpKCk7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0QWNjZXNzVG9rZW5dIGZvdW5kICBBY2Nlc3MgVG9rZW4gIixvKSxyKHU+PW8uZXhwaXJlcz90Ll9nZXROZXdBY2Nlc3NUb2tlbihzLGEpOm8pfXQuX2dldE5ld0FjY2Vzc1Rva2VuKHMsYSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRBY2Nlc3NUb2tlbl0gbmV3IEFjY2VzcyBUb2tlbiAiLGUpLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBvbiBnZXROZXdBY2Nlc3NUb2tlbiAiK2UpfSl9KX19LHtrZXk6Il9pblByb2dyZXNzQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmlkZW50aXRpZXMud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgiYWNjZXNzVG9rZW5zIixmdW5jdGlvbihuKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9pblByb2dyZXNzQWNjZXNzVG9rZW5dIGFjY2Vzc1Rva2VucyBjaGFuZ2VkICIrci5pZGVudGl0aWVzLmFjY2Vzc1Rva2Vucyk7dmFyIGk9bi5rZXlwYXRoO2lmKGkuaW5jbHVkZXMoInN0YXR1cyIpJiYoaT1pLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksaT09PWUmJiJzdGF0dXMiPT09bi5uYW1lJiYiY3JlYXRlZCI9PT1uLm5ld1ZhbHVlKQovLyBsb2cubG9nKCdbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIHRva2VuIGlzIGNyZWF0ZWQgJyArIF90aGlzLmlkZW50aXRpZXNMaXN0W2RvbWFpbl0pOwpyZXR1cm4gci5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKGUsdCl9KX19LHtrZXk6Il9nZXROZXdBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7ci5pZGVudGl0aWVzLnNldEFjY2Vzc1Rva2VuSW5Qcm9ncmVzcyhlKTt2YXIgbz17dHlwZToiZXhlY3V0ZSIsdG86ci5fcmVzb2x2ZURvbWFpbihlKSxmcm9tOnIuX2lkbVVSTCxib2R5OnttZXRob2Q6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IixwYXJhbXM6dH19OwovL2xldCdzIGZpcnN0IGdldCB0aGUgYXV0aG9yaXNhdGlvbiBVUkwgZnJvbSB0aGUgSWRwIFByb3h5CnIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIGkoIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTsKLy8gbGV0J3MgYXNrIHRoZSB1c2VyIGZvciBhdXRob3Jpc2F0aW9uCnIuY2FsbElkZW50aXR5TW9kdWxlRnVuYygib3BlblBvcHVwIix7dXJscmVjZWl2ZWQ6ZS5ib2R5LnZhbHVlfSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOmNhbGxJZGVudGl0eU1vZHVsZUZ1bmM6b3BlblBvcHVwXSBhdWh0b3Jpc2F0aW9uIHJlc3VsdDogIixlKSxvLmJvZHkubWV0aG9kPSJnZXRBY2Nlc3NUb2tlbiIsby5ib2R5LnBhcmFtcz17cmVzb3VyY2VzOnQsbG9naW46ZX0sCi8vd2lodG91dCBjYWxsYmFjayB0byBhdm9pZCB0aW1lb3V0IGVycm9ycz8KLy8gbGV0J3MgYXNrIEFjY2VzcyBUb2tlbiBmcm9tIHRoZSBJZHAgUHJveHkKci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKGUpe2lmKGUuYm9keS5jb2RlPjI5OSlyZXR1cm4gaSgiW0lkZW50aXR5TW9kdWxlLl9nZXROZXdBY2Nlc3NUb2tlbl0gRXJyb3Igb24gZ2V0QWNjZXNzVG9rZW4gZnJvbSBJZFAgUHJveHk6ICIsZS5ib2R5LmRlc2MpO3IuaWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbihlLmJvZHkudmFsdWUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGcuaW5mbygiW0lkZW50aXR5TW9kdWxlLl9nZXROZXdBY2Nlc3NUb2tlbl0gcmVzb2x2aW5nIHRva2VuOiAiLHQpLG4oZS5ib2R5LnZhbHVlKX0sZnVuY3Rpb24oZSl7aShlKX0pfSl9LGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJzZW5kUmVmcmVzaE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Ci8vICAgIGxldCBkb21haW4gPSBfdGhpcy5fcmVzb2x2ZURvbWFpbihvbGRJZGVudGl0eS5pZHApOwovLyAgICBsZXQgbWVzc2FnZTsKLy8gICAgbGV0IGFzc2VydGlvbiA9IF90aGlzLmdldElkZW50aXR5KG9sZElkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwpOwpyZXR1cm4gZy5sb2coInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPXQuX3Jlc29sdmVEb21haW4oZS5pZHApLG89dm9pZCAwLHM9dC5nZXRJZGVudGl0eShlLnVzZXJQcm9maWxlLnVzZXJVUkwpO2cuaW5mbygic2VuZFJlZnJlc2hNZXNzYWdlOm9sZElkZW50aXR5IixlKSxvPXt0eXBlOiJleGVjdXRlIix0bzppLGZyb206dC5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJyZWZyZXNoQXNzZXJ0aW9uIixwYXJhbXM6e2lkZW50aXR5OnN9fX07dHJ5e3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7cih0KX0pfWNhdGNoKGUpe24oIkluIHNlbmRSZWZyZXNoTWVzc2FnZSBvbiBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6InNlbmRHZW5lcmF0ZU1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2cubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTpjb250ZW50c10iLGUpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTpvcmlnaW5dIix0KSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6dXNlcm5hbWVIaW50XSIsciksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOmlkcERvbWFpbl0iLG4pLGcubG9nKCJzZW5kR2VuZXJhdGVNZXNzYWdlX2hpbnQiKTt2YXIgbz10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGkscyl7dmFyIGE9by5fcmVzb2x2ZURvbWFpbihuKSx1PXZvaWQgMDt1PXt0eXBlOiJleGVjdXRlIix0bzphLGZyb206by5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJnZW5lcmF0ZUFzc2VydGlvbiIscGFyYW1zOntjb250ZW50czplLG9yaWdpbjp0LHVzZXJuYW1lSGludDpyfX19O3RyeXtvLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO2kodCl9KX1jYXRjaChlKXtzKCJJbiBzZW5kUmVmcmVzaE1lc3NhZ2Ugb24gcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJnZW5lcmF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjpjb250ZW50c10iLGUpLGcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjp1c2VybmFtZUhpbnRdIixyKSwKLy8gICAgbG9nLmxvZygnW2dlbmVyYXRlQXNzZXJ0aW9uOmtleVBhaXJdJywga2V5UGFpcik7CmcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246aWRwRG9tYWluXSIsbik7dmFyIG89dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLHMpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6c2VuZEdlbmVyYXRlTWVzc2FnZTpzZW5kR2VuZXJhdGVNZXNzYWdlXSIsciksby5zZW5kR2VuZXJhdGVNZXNzYWdlKGUsdCxyLG4pLnRoZW4oZnVuY3Rpb24oZSl7ZS5sb2dpblVybD9vLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUubG9naW5Vcmx9KS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6Y2FsbElkZW50aXR5TW9kdWxlRnVuYzpvcGVuUG9wdXBdIixyKSxpKGUpfSxmdW5jdGlvbihlKXtzKGUpfSk6ZT9vLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKGUpLnRoZW4oZnVuY3Rpb24odCl7aShlKX0sZnVuY3Rpb24oZSl7cyhlKX0pOnMoImVycm9yIG9uIG9idGFpbmluZyBpZGVudGl0eSBpbmZvcm1hdGlvbiIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cygiT24gZ2VuZXJhdGVBc3NlcnRpb24gZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJ2YWxpZGF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2cubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246YXNzZXJ0aW9uXSIsZSksZy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjpvcmlnaW5dIix0KSxnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOmlkcERvbWFpbl0iLHIpO3ZhciBuPXRoaXMsbz1uLl9yZXNvbHZlRG9tYWluKHIpLHM9e3R5cGU6ImV4ZWN1dGUiLHRvOm8sZnJvbTpuLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6InZhbGlkYXRlQXNzZXJ0aW9uIixwYXJhbXM6e2Fzc2VydGlvbjplLG9yaWdpbjp0fX19O3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7dHJ5e24uX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXsyMDA9PT1yLmJvZHkuY29kZT9lKHIuYm9keS52YWx1ZSk6dCgiZXJyb3IiLHIuYm9keS5jb2RlKX0pfWNhdGNoKGUpe3QoIk9uIHZhbGlkYXRlQXNzZXJ0aW9uIGZyb20gbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiYWRkR1VJTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihlLl9pZG1VUkwsZnVuY3Rpb24odCl7dmFyIHI9dC5ib2R5Lm1ldGhvZDtnLmxvZygiW0lkZW50aXR5TW9kdWxlOmFkZEdVSUxpc3RlbmVyc10iLHQsdC5ib2R5LHIpO3ZhciBuPXZvaWQgMDtpZigiZGVwbG95R1VJIj09PXIpbj1lLmRlcGxveUdVSSgpO2Vsc2V7aWYoImdldElkZW50aXRpZXNUb0Nob29zZSI9PT1yKXJldHVybiB2b2lkIGUuZ2V0SWRlbnRpdGllc1RvQ2hvb3NlKCkudGhlbihmdW5jdGlvbihyKXsKLy8gaWYgdGhlIGZ1bmN0aW9uIHJlcXVlc3RlZCBpcyBub3QgYSBwcm9taXNlCnZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSk7aWYoInVucmVnaXN0ZXJJZGVudGl0eSI9PT1yKXt2YXIgaT10LmJvZHkucGFyYW1zLmVtYWlsO249ZS51bnJlZ2lzdGVySWRlbnRpdHkoaSl9ZWxzZXtpZigiZ2V0TXlQdWJsaWNLZXkiPT09cikKLy8gYmVjYXVzZSBnZW5lcmF0ZVJTQUtleVBhaXIgaXMgYSBwcm9taXNlCi8vIHdlIGhhdmUgdG8gc2VuZCB0aGUgbWVzc2FnZSBvbmx5IGFmdGVyIGdldHRpbmcgdGhlIGtleSBwYWlyCnJldHVybiB2b2lkIGUuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7cj0oMCxsLnN0cmluZ2lmeSkocik7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBnZW5lcmF0ZVJTQUtleVBhaXIgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pO2lmKCJzZW5kR2VuZXJhdGVNZXNzYWdlIj09PXIpe3ZhciBvPXQuYm9keS5wYXJhbXMuY29udGVudHMscz10LmJvZHkucGFyYW1zLm9yaWdpbixhPXQuYm9keS5wYXJhbXMudXNlcm5hbWVIaW50LHU9dC5ib2R5LnBhcmFtcy5pZHBEb21haW47cmV0dXJuIHZvaWQgZS5zZW5kR2VuZXJhdGVNZXNzYWdlKG8scyxhLHUpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzZW5kR2VuZXJhdGVNZXNzYWdlIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX1pZigiYWRkQXNzZXJ0aW9uIj09PXIpe3ZhciBjPXQuYm9keS5wYXJhbXM7Ci8vICAgICAgICBsZXQga2V5UGFpciA9IG1zZy5ib2R5LnBhcmFtcy5rZXlQYWlyOwpyZXR1cm4gdm9pZCBlLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKGMpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19fS8qZWxzZSBpZiAoZnVuY05hbWUgPT09ICdzZWxlY3RJZGVudGl0eUZvckh5cGVydHknKSB7CiAgICAgICAgICBsZXQgb3JpZ2luID0gbXNnLmJvZHkucGFyYW1zLm9yaWdpbjsKICAgICAgICAgIGxldCBpZHAgPSBtc2cuYm9keS5wYXJhbXMuaWRwOwogICAgICAgICAgbGV0IGlkSGludCA9IG1zZy5ib2R5LnBhcmFtcy5pZEhpbnQ7CiAgICAgICAgICBfdGhpcy5zZWxlY3RJZGVudGl0eUZvckh5cGVydHkob3JpZ2luLCBpZHAsIGlkSGludCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9Ki8KLy8gaWYgdGhlIGZ1bmN0aW9uIHJlcXVlc3RlZCBpcyBub3QgYSBwcm9taXNlCnZhciBmPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpuLGNvZGU6MjAwfSxkPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6Zn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZCl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJkZXBsb3lHVUkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ndWlEZXBsb3llZD0hMH19LHtrZXk6Il9nZXRWYWxpZFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9nZXRWYWxpZFRva2VuXTpoeXBlcnR5VVJMIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5nZXRJZFRva2VuKGUpLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0VmFsaWRUb2tlbl0gcmV0cmlldmVkIElkQXNzZXJ0aW9uIixlKTt2YXIgaT0oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpO2lmKCFlLmhhc093blByb3BlcnR5KCJleHBpcmVzIikpcmV0dXJuIHIoZSk7dmFyIG89ZS5leHBpcmVzOy8qIGlmIChjb21wbGV0ZUlkLmhhc093blByb3BlcnR5KCdpbmZvJykpIHsKICAgICAgICAgICAgaWYgKGNvbXBsZXRlSWQuaW5mby5oYXNPd25Qcm9wZXJ0eSgnZXhwaXJlcycpKSB7CiAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGUgPSBjb21wbGV0ZUlkLmluZm8uZXhwaXJlczsKICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wbGV0ZUlkLmluZm8uaGFzT3duUHJvcGVydHkoJ3Rva2VuSURKU09OJykpIHsKICAgICAgICAgICAgICBleHBpcmF0aW9uRGF0ZSA9IGNvbXBsZXRlSWQuaW5mby50b2tlbklESlNPTi5leHA7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gdGhyb3cgJ1RoZSBJRCBUb2tlbiBkb2VzIG5vdCBoYXZlIGFuIGV4cGlyYXRpb24gdGltZSc7CiAgICAgICAgICAgICAgbG9nLmluZm8oJ1RoZSBJRCBUb2tlbiBkb2VzIG5vdCBoYXZlIGFuIGV4cGlyYXRpb24gdGltZScpOwogICAgICAgICAgICAgIHJlc29sdmUoYXNzZXJ0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChjb21wbGV0ZUlkLmhhc093blByb3BlcnR5KCdpbmZvVG9rZW4nKSAmJiBjb21wbGV0ZUlkLmluZm9Ub2tlbi5oYXNPd25Qcm9wZXJ0eSgnZXhwJykpIHsKICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGUgPSBjb21wbGV0ZUlkLmluZm9Ub2tlbi5leHA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB0aHJvdyAnVGhlIElEIFRva2VuIGRvZXMgbm90IGhhdmUgYW4gZXhwaXJhdGlvbiB0aW1lJzsKICAgICAgICAgICAgbG9nLmluZm8oJ1RoZSBJRCBUb2tlbiBkb2VzIG5vdCBoYXZlIGFuIGV4cGlyYXRpb24gdGltZScpOwogICAgICAgICAgICByZXNvbHZlKGFzc2VydGlvbik7CiAgICAgICAgICB9Ki8KZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBUb2tlbiBleHBpcmVzIGluIixvKSxnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIHRpbWUgbm93OiIsaSksaT49bz9lLmhhc093blByb3BlcnR5KCJyZWZyZXNoIik/dC5zZW5kUmVmcmVzaE1lc3NhZ2UoZSkudGhlbihmdW5jdGlvbihlKXt0LmlkZW50aXRpZXMudXBkYXRlQXNzZXJ0aW9uKGUpLnRoZW4oZnVuY3Rpb24oKXtyKGUpfSxmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3IgdXBkYXRpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHJlZnJlc2hpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KToKLy8gbm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGUsIHVzZXIgaGFzIHRvIGF1dGhlbnRpY2F0ZSBhZ2FpbiB0byBnZXQgYSBuZXcgYXNzZXJ0aW9uCi8vIGdlbmVyYXRlIG5ldyBpZFRva2VuCnQuY2FsbEdlbmVyYXRlTWV0aG9kcyhlLmlkcC5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciB3aGVuIGdlbmVyYXRpbmcgYSBuZXcgYXNzZXJ0aW9uICIrZSl9KTpyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIG9uIGdldElkVG9rZW4iLGUpLG4oZSl9KX0pfX0se2tleToiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3RVUkwiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxsLmRpdmlkZVVSTCkoZSksbz1pLmRvbWFpbixzPSgwLGwucGFyc2VNZXNzYWdlVVJMKShlKSxhPXQucmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKHMpO2lmKGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpyZXBvcnRlclVSTCIsYSksYSlyKGEpO2Vsc2V7Ci8vIGNoZWNrIGlmIHRoZXJlIGlzIGFscmVhZHkgYW4gYXNzb2NpYXRpb24gZnJvbSBhbiBoeXBlcnR5VVJMIHRvIHRoZSBkYXRhT2JqZWN0CnZhciB1PXQuZGF0YU9iamVjdHNJZGVudGl0eVtzXTtpZihnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6c3RvcmVkUmVwb3J0ZXJVUkwiLHUpLHUpcih1KTtlbHNlewovLyBjaGVjayBpZiB0aGVyZSBpcyBhbnkgaHlwZXJ0eSB0aGF0IHN1YnNjcmliZWQgdGhlIGRhdGFPYmplY3RVUkwKdmFyIGM9dC5yZWdpc3RyeS5nZXREYXRhT2JqZWN0U3Vic2NyaWJlckh5cGVydHkoZSk7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN1YnNjcmliZXJIeXBlcnR5IixjKSxjP3IoYyk6Ci8vIHNlYXJjaCBpbiBkb21haW4gcmVnaXN0cnkgZm9yIHRoZSBoeXBlcnR5IGFzc29jaWF0ZWQgdG8gdGhlIGRhdGFPYmplY3QKLy8gc2VhcmNoIGluIGNhc2UgaXMgYSBzdWJzY3JpYmVyIHdobyB3YW50cyB0byBrbm93IHRoZSByZXBvcnRlcgovLyBUbyBiZSByZXZpZXdlZCBpbiBvcmRlciB0byBhdm9pZCB0aGUgZGlzY292ZXJ5IHRyYW5zYWN0aW9uCnQuX2NvcmVEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMKHMsbykudGhlbihmdW5jdGlvbihlKXtnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6ZGF0YU9iamVjdCIsZSksdC5kYXRhT2JqZWN0c0lkZW50aXR5W3NdPWUucmVwb3J0ZXIsZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3QucmVwb3J0ZXIiLGUucmVwb3J0ZXIpLHIoZS5yZXBvcnRlcil9LGZ1bmN0aW9uKGUpe24oZSl9KX19fSl9fSx7a2V5OiJfcmVzb2x2ZURvbWFpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ImRvbWFpbi1pZHA6Ly8iK2U6ImRvbWFpbi1pZHA6Ly9nb29nbGUuY29tIn19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9tZXNzYWdlQnVzPWUsdC5hZGRHVUlMaXN0ZW5lcnMoKX19LHtrZXk6ImNvcmVEaXNjb3ZlcnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlRGlzY292ZXJ5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29yZURpc2NvdmVyeT1lfX0se2tleToicmVnaXN0cnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWdpc3RyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWV9fSx7a2V5OiJpZGVudGl0aWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRlbnRpdGllc319LHtrZXk6ImlkcHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saXN0T2ZJZHBzfX1dKSxJZGVudGl0eU1vZHVsZX0oKTt0LmRlZmF1bHQ9YixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig0NzEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoOSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig5NiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigxKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNyksdj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpLGc9cigxNCksYj1yKDIwNSksbT12LmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdGllcyhlLHQpeygwLGQuZGVmYXVsdCkodGhpcyxJZGVudGl0aWVzKTt2YXIgcj10aGlzO3IuX3dhdGNoaW5nWW91PW5ldyBiLldhdGNoaW5nWW91LHIuX3N0b3JhZ2VNYW5hZ2VyPXQsci5fZ3VpZCxyLl90eXBlPWUsci5faWRlbnRpdGllcz17fSxyLl9hY2Nlc3NUb2tlbnM9ci53YXRjaGluZ1lvdS53YXRjaCgiYWNjZXNzVG9rZW5zIix7fSwhMCl9cmV0dXJuKDAseS5kZWZhdWx0KShJZGVudGl0aWVzLFt7a2V5OiJnZXRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKDAsZi5kZWZhdWx0KSh7fSx0aGlzLl9pZGVudGl0aWVzW2VdKX19LHtrZXk6ImxvYWRJZGVudGl0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KG51bGwsbnVsbCwiaWRlbnRpdGllcyIpLnRoZW4oZnVuY3Rpb24ocil7bS5pbmZvKCJbSWRlbnRpdGllcy5Mb2FkIElkZW50aXRpZXNdIGlkZW50aXRpZXM6ICIsciksciYmKGUuX2lkZW50aXRpZXM9ciwKLy8gbGV0J3Mgc2V0IGFzIGRlZmF1bHQgaWRlbnRpdHkgdGhlIG9uZSB0aGF0IGV4cGlyZXMgbGF0ZXIKZS5pZGVudGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPSgwLGcuc2Vjb25kc1NpbmNlRXBvY2gpKCksbj1lLl9pZGVudGl0aWVzW3RdLGk9bi5leHBpcmVzOwovLyAgICAgICAgICAgIGlmICghaWRlbnRpdHkuaGFzT3duUHJvcGVydHkoJ2ludGVyd29ya2luZycpCi8vICAgICAgICAgICAgfHwgIWlkZW50aXR5LmludGVyd29ya2luZykgewplLmRlZmF1bHRJZGVudGl0eT10LHBhcnNlSW50KGkpPnImJihlLmRlZmF1bHRJZGVudGl0eS5leHBpcmVzPXBhcnNlSW50KGkpLGUuY3VycmVudElkZW50aXR5PXQpfSkpLHQoKX0pfSl9fSx7a2V5OiJsb2FkQWNjZXNzVG9rZW5zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJhY2Nlc3NUb2tlbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3ImJihlLl9hY2Nlc3NUb2tlbnM9ciksdCgpfSl9KX19LHtrZXk6ImFkZElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLGkpe2lmKHIuX2lzVmFsaWQoZSkpe3ZhciBvPWUuaWRlbnRpZmllcnNbMF07KDAsZi5kZWZhdWx0KSh0Ll9pZGVudGl0aWVzW29dLGUpLHQuX3N0b3JlSWRlbnRpdHkoZSkudGhlbihmdW5jdGlvbigpe3QuX2lkZW50aXRpZXNbb10uc3RhdHVzPSJjcmVhdGVkIixuKCl9KX1lbHNlIGkoIltJZGVudGl0aWVzLmFkZElkZW50aXR5XSBpbnZhbGlkIElkQXNzZXJ0aW9uIil9KX19LHtrZXk6ImFkZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixpKXtpZihyLl9pc1ZhbGlkKGUpKXt2YXIgbz1lLnVzZXJQcm9maWxlLnVzZXJVUkw7ci5pZGVudGl0aWVzW29dP3IuaWRlbnRpdGllc1tvXT1lOnIuX2lkZW50aXRpZXNbb109ZSxyLl9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXt0Ll9pZGVudGl0aWVzW29dLnN0YXR1cz0iY3JlYXRlZCIsbihlKX0pfWVsc2UgaSgiW0lkZW50aXRpZXMuYWRkQXNzZXJ0aW9uXSBpbnZhbGlkIElkQXNzZXJ0aW9uOiAiLGUpfSl9fSx7a2V5OiJyZW1vdmVJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2RlbGV0ZSB0LmlkZW50aXRpZXNbZV0sdC5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6ImFkZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBtLmluZm8oIltJZGVudGl0aWVzLmFkZEFjY2Vzc1Rva2VuXSAiLGUpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9pc1ZhbGlkQWNjZXNzVG9rZW4oZSk/KAovLyAgICAgICAgbGV0IG5ld0FjY2Vzc1Rva2VuID0gZGVlcENsb25lKGFjY2Vzc1Rva2VuKTsKdC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXT1lLHQuX3N0b3JlQWNjZXNzVG9rZW5zKCkudGhlbihmdW5jdGlvbigpe3QuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl0uc3RhdHVzPSJjcmVhdGVkIixyKGUpfSkpOm4oIltJZGVudGl0aWVzLmFkZElkZW50aXR5XSBpbnZhbGlkIEFjY2Vzc1Rva2VuOiAiLGUpfSl9fSx7a2V5OiJzZXRBY2Nlc3NUb2tlbkluUHJvZ3Jlc3MiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2FjY2Vzc1Rva2Vuc1tlXT90aGlzLl9hY2Nlc3NUb2tlbnNbZV0uc3RhdHVzPSJpbi1wcm9ncmVzcyI6dGhpcy5fYWNjZXNzVG9rZW5zW2VdPXtzdGF0dXM6ImluLXByb2dyZXNzIn19fSx7a2V5OiJnZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9hY2Nlc3NUb2tlbnNbZV07cmV0dXJuIHI/dC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4tMSE9ci5yZXNvdXJjZXMuaW5kZXhPZihlKX0pP3RoaXMuX2FjY2Vzc1Rva2Vuc1tlXTpuZXcgRXJyb3IoIltJZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuXSBOb3QgZm91bmQgZm9yICIsZSk6dm9pZCAwfX0se2tleToidXBkYXRlQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIpe3ZhciBuPWUudXNlclByb2ZpbGUudXNlclVybDtpZighdC5pZGVudGl0aWVzW25dKXJldHVybiByZWplY3QoIltJZGVudGl0aWVzLnVwZGF0ZUFzc2VydGlvbl0gSWRlbnRpdHkgbm90IGZvdW5kIGZvciAiLG4pO3QuaWRlbnRpdGllc1tuXT1lLHQuX3N0b3JlKCkudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJhZGRJZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxvPW5ldyBSKHQscixuKTtpLmlkQXNzZXJ0aW9uTGlzdC5wdXNoKG8pfX0se2tleToiX2lzVmFsaWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSlyZXR1cm4hMTt2YXIgdD1lLmFzc2VydGlvbi5zcGxpdCgiLiIpOwovL3ZlcmlmeSBpZiB0aGUgdG9rZW4gY29udGFpbnMgdGhlIDMgY29tcG9uZW50cywgb3IganVzdCB0aGUgYXNzZXJ0aW9uCnRyeXt0WzFdPygwLGcuZGVjb2RlKSh0WzFdKTooMCxnLmRlY29kZSkoZS5hc3NlcnRpb24pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfX0se2tleToiX2lzVmFsaWRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLmhhc093blByb3BlcnR5KCJhY2Nlc3NUb2tlbiIpJiYoISFlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmKCEoIWUuaGFzT3duUHJvcGVydHkoInJlc291cmNlcyIpfHwhQXJyYXkuaXNBcnJheShlLnJlc291cmNlcykpJiYoISghZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpfHwhKDAscy5kZWZhdWx0KShlLmV4cGlyZXMpKSYmISFlLmhhc093blByb3BlcnR5KCJpbnB1dCIpKSkpfX0se2tleToiX3N0b3JlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89KDAsaS5kZWZhdWx0KShlLl9pZGVudGl0aWVzKS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHQuX3N0b3JhZ2VNYW5hZ2VyLnNldChyLDAsZS5faWRlbnRpdGllc1tyXSwiaWRlbnRpdGllcyIpfSk7dS5kZWZhdWx0LmFsbChvKS50aGVuKGZ1bmN0aW9uKCl7cigpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2Qgc3RvcmVJZGVudGl0eSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJfc3RvcmVBY2Nlc3NUb2tlbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPSgwLGcuZGVlcENsb25lKShlLl9hY2Nlc3NUb2tlbnMpO2UuX3N0b3JhZ2VNYW5hZ2VyLnNldCgiYWNjZXNzVG9rZW5zIiwwLG4pLnRoZW4oZnVuY3Rpb24oKXt0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtyKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yZUlkZW50aXR5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6ImlkZW50aXRpZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVudGl0aWVzfX0se2tleToiYWNjZXNzVG9rZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWNjZXNzVG9rZW5zfX0se2tleToid2F0Y2hpbmdZb3UiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93YXRjaGluZ1lvdX19LHtrZXk6Imd1aWQiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ndWlkPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlkfX0se2tleToiZGVmYXVsdElkZW50aXR5IixzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaWRlbnRpdGllc1tlXSl0aHJvdyBuZXcgRXJyb3IoIltJZGVudGl0aWVzLnNldCBkZWZhdWx0SWRlbnRpdHkgXSBFcnJvcjogaWRlbnRpdHkgZG9lcyBub3QgZXhpc3QgaGVyZTogIixlKTt0aGlzLl9kZWZhdWx0SWRlbnRpdHk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9kZWZhdWx0SWRlbnRpdHkmJigwLGYuZGVmYXVsdCkoe30sdGhpcy5pZGVudGl0aWVzW3RoaXMuX2RlZmF1bHRJZGVudGl0eV0pfX0se2tleToiY3VycmVudElkZW50aXR5IixzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaWRlbnRpdGllc1tlXSl0aHJvdyBlO3RoaXMuX2N1cnJlbnRJZGVudGl0eT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxmLmRlZmF1bHQpKHt9LHRoaXMuaWRlbnRpdGllc1t0aGlzLl9jdXJyZW50SWRlbnRpdHldKX19LHtrZXk6ImlkZW50aWZpZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxpLmRlZmF1bHQpKHRoaXMuX2lkZW50aXRpZXMpfX1dKSxJZGVudGl0aWVzfSgpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZEFzc2VydGlvbihlLHQscil7KDAsZC5kZWZhdWx0KSh0aGlzLElkQXNzZXJ0aW9uKTt2YXIgbj10aGlzO24uX2Fzc2VydGlvbj1lLG4uX2lkcD10LG4uX3VzZXJQcm9maWxlPXJ9cmV0dXJuKDAseS5kZWZhdWx0KShJZEFzc2VydGlvbixbe2tleToiYXNzZXJ0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzZXJ0aW9ufX0se2tleToiaWRwIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRwfX0se2tleToidXNlclByb2ZpbGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyUHJvZmlsZX19XSksSWRBc3NlcnRpb259KCk7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRWYWxpZGF0aW9uKGUsdCl7KDAsZC5kZWZhdWx0KSh0aGlzLElkVmFsaWRhdGlvbik7dmFyIHI9dGhpcztyLmlkZW50aXR5PWUsci5jb250ZW50cz10fSgwLHkuZGVmYXVsdCkoSWRWYWxpZGF0aW9uLFt7a2V5OiJ2YWxpZGF0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX1dKX0oKTt0LmRlZmF1bHQ9XyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ3MiksX19lc01vZHVsZTohMH19LC8qIDQ3MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0NzMpLGUuZXhwb3J0cz1yKDEzKS5OdW1iZXIuaXNJbnRlZ2VyfSwvKiA0NzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4xLjIuMyBOdW1iZXIuaXNJbnRlZ2VyKG51bWJlcikKdmFyIG49cigyMSk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDQ3NCl9KX0sLyogNDc0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMzYpLGk9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIW4oZSkmJmlzRmluaXRlKGUpJiZpKGUpPT09ZX19LC8qIDQ3NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxvPXIoNykscz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG8pLGE9cy5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksdT1mdW5jdGlvbiBHdWlGYWtlKGUsdCl7KDAsaS5kZWZhdWx0KSh0aGlzLEd1aUZha2UpLGEubG9nKCJGYWtlR1VJX2RlcGxveWVkIik7dmFyIHI9dGhpcztyLl91cmw9ZSxyLl93YWl0VGltZT0xZTQsci5fbWVzc2FnZUJ1cz10LHIuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoci5fdXJsLGZ1bmN0aW9uKGUpe2lmKGUuaGFzT3duUHJvcGVydHkoInR5cGUiKSYmImNyZWF0ZSI9PT1lLnR5cGUmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJpZGVudGl0aWVzIikmJmUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiaWRwcyIpKXt2YXIgdD1lLmJvZHkudmFsdWUuaWRlbnRpdGllcyxuPWUuYm9keS52YWx1ZS5pZHBzLGk9dm9pZCAwO2k9dm9pZCAwIT09dFswXT97dHlwZToiaWRlbnRpdHkiLHZhbHVlOnRbMF0sY29kZToyMDB9Ont0eXBlOiJpZHAiLHZhbHVlOm5bMV0uZG9tYWluLGNvZGU6MjAwfTt2YXIgbz17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5Oml9OwovLyB0byB0ZXN0IG9uIHRoZSBpZGVudGl0eSBzaWRlIHRoZSBsaXN0ZW5lciB3aXRob3V0IHRoZSB0aW1lb3V0Ci8vIGNhbiByZXByZXNlbnQgdGhlIHRpbWUgdGhlIHVzZXIgdGFrZXMgdG8gY2hvb3NlIGFuZCBpZGVudGl0eQoid2FpdCI9PT1lLmJvZHkudmFsdWU/c2V0VGltZW91dChmdW5jdGlvbigpe3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9LHIuX3dhaXRUaW1lKTpyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWVsc2UgYS5sb2coIklnbm9yaW5nIG1lc3NhZ2VzIG5vdCBpbnRlbmRlZCB0byBGYWtlR1VJLiIsZSl9KX07dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIklkZW50aXR5TWFuYWdlciIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZGVudGl0eU1hbmFnZXIoZSl7KDAscy5kZWZhdWx0KSh0aGlzLElkZW50aXR5TWFuYWdlciksdGhpcy5faWRtPWV9cmV0dXJuKDAsdS5kZWZhdWx0KShJZGVudGl0eU1hbmFnZXIsW3trZXk6Il9pc1RvU2V0SUQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iXSxyPWUuZnJvbTsKLy8gU2lnbmFsbGluZyBNZXNzYWdlcyBiZXR3ZWVuIFAyUCBTdHVicyBkb24ndCBoYXZlIElkZW50aXRpZXMuIEZGUwppZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSxyLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpfHxyLmluY2x1ZGVzKCIvcDJwaGFuZGxlci8iKSlyZXR1cm4hMTt2YXIgbj1yLnNwbGl0KCI6Ly8iKSxpPW5bMF07cmV0dXJuLTE9PT10LmluZGV4T2YoaSl9fSx7a2V5OiJwcm9jZXNzTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbC5sb2coIltJZGVudGl0eU1hbmFnZXIucHJvY2Vzc01lc3NhZ2VdICIsZSksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pewovLyBza2lwIG1lc3NhZ2VzIHRoYXQgZG9uJ3QgbmVlZCBpZGVudGl0eSB0b2tlbnMgaW4gdGhlIGJvZHkKaWYoIXQuX2lzVG9TZXRJRChlKSlyZXR1cm4gcihlKTsvKiAgICAgIGxldCBmcm9tID0gbWVzc2FnZS5mcm9tOwogICAgICAgICAgICAgIGxldCBzb3VyY2VVUkwgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgaWYgKCBtZXNzYWdlLmhhc093blByb3BlcnR5KCdib2R5JykgJiYgbWVzc2FnZS5ib2R5Lmhhc093blByb3BlcnR5KCdzb3VyY2UnKSkgewogICAgICAgICAgICAgICAgZnJvbSA9IG1lc3NhZ2UuYm9keS5zb3VyY2U7CiAgICAgICAgICAgICAgfQogICAgICAgIAogICAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdmb3J3YXJkJykgewogICAgICAgICAgICAgICAgZnJvbSA9IG1lc3NhZ2UuYm9keS5mcm9tOwogICAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgICBpZiAobWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnYm9keScpICYmIG1lc3NhZ2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgnc3Vic2NyaWJlcicpKSB7CiAgICAgICAgICAgICAgICBmcm9tID0gbWVzc2FnZS5ib2R5LnN1YnNjcmliZXI7CiAgICAgICAgICAgICAgfSovCnQuX2lkbS5nZXRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8KGUuYm9keT17fSksZS5ib2R5LmlkZW50aXR5PXQscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2wuZXJyb3IoZSksbihlKX0pfSl9fV0pLElkZW50aXR5TWFuYWdlcn0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDQ3OCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig0NzkpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDgwKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz0ocigxNCksZi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKCl7LyoqCiAgKiBDcmVhdGVzIGEgUG9saWN5IEVuZm9yY2VtZW50IFBvaW50IChQRVApIGluc3RhbmNlCiAgKiBAcGFyYW0gICAge09iamVjdH0gICAgY29udGV4dAogICovCmZ1bmN0aW9uIFBFUChlKXsoMCxzLmRlZmF1bHQpKHRoaXMsUEVQKTt2YXIgdD10aGlzO3QucGRwPW5ldyB5LmRlZmF1bHQoZSksdC5hY3Rpb25zU2VydmljZT1uZXcgZC5kZWZhdWx0KGUpLHQuY29udGV4dD1lLGUucGVwPXQsCi8vVE9ETyBzaG91bGQgYmUgYWRkZWQgYSB0cmlnZ2VyIHRvIHZlcmlmeSB3aGVuIHRoZSBsb2FkQ29uZmlndXJhdGlvbnMgaXMgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZAplLmxvYWRDb25maWd1cmF0aW9ucygpfS8qKgogICogcmV0dXJuIHRoZSBtZXNzYWdlQnVzIGluIHRoaXMgUmVnaXN0cnkKICAqIEBwYXJhbSB7TWVzc2FnZUJ1c30gICAgICAgICAgIG1lc3NhZ2VCdXMKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKFBFUCxbe2tleToiYWRkR1VJTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jb250ZXh0Lm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5jb250ZXh0LnBlcFVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kLG49dm9pZCAwO2lmKCJhZGRUb0dyb3VwIj09PXIpe3ZhciBpPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLG89dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQuYWRkVG9Hcm91cChpLG8pfWVsc2UgaWYoImNyZWF0ZUdyb3VwIj09PXIpe3ZhciBzPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmNyZWF0ZUdyb3VwKHMpfWVsc2UgaWYoImFkZFBvbGljeSI9PT1yKXt2YXIgYT10LmJvZHkucGFyYW1zLnNvdXJjZSx1PXQuYm9keS5wYXJhbXMua2V5LGM9dC5ib2R5LnBhcmFtcy5wb2xpY3ksZj10LmJvZHkucGFyYW1zLmNvbWJpbmluZ0FsZ29yaXRobTtuPWUuYWRkUG9saWN5KGEsdSxjLGYpfWVsc2UgaWYoImRlbGV0ZUdyb3VwIj09PXIpe3ZhciBsPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmRlbGV0ZUdyb3VwKGwpfWVsc2UgaWYoInJlbW92ZVBvbGljeSI9PT1yKXt2YXIgZD10LmJvZHkucGFyYW1zLnNvdXJjZSxwPXQuYm9keS5wYXJhbXMua2V5O249ZS5yZW1vdmVQb2xpY3koZCxwKX1lbHNlIGlmKCJzYXZlUG9saWNpZXMiPT09cil7dmFyIHk9dC5ib2R5LnBhcmFtcy5zb3VyY2U7bj1lLmNvbnRleHQuc2F2ZVBvbGljaWVzKHkpfWVsc2UgaWYoInVzZXJQb2xpY2llcyI9PT1yKW49ZS5jb250ZXh0LnVzZXJQb2xpY2llcztlbHNlIGlmKCJhY3RpdmVVc2VyUG9saWN5Ij09PXIpe3ZhciBoPXQuYm9keS5wYXJhbXMudXNlclBvbGljeTtoJiYoZS5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9aCksbj1lLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeX1lbHNlIGlmKCJ1c2VyUG9saWN5Ij09PXIpe3ZhciB2PXQuYm9keS5wYXJhbXMua2V5O249ZS5jb250ZXh0LnVzZXJQb2xpY2llc1t2XX1lbHNlInNhdmVBY3RpdmVQb2xpY3kiPT09cj9uPWUuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk6ImdldE15RW1haWxzIj09PXI/bj1lLmNvbnRleHQuZ2V0TXlFbWFpbHMoKToiZ2V0TXlIeXBlcnRpZXMiPT09cj9uPWUuY29udGV4dC5nZXRNeUh5cGVydGllcygpOiJncm91cHMiPT09cj9uPWUuY29udGV4dC5ncm91cHM6ImdldEdyb3Vwc05hbWVzIj09PXImJihuPWUuY29udGV4dC5nZXRHcm91cHNOYW1lcygpKTtpZigicmVtb3ZlRnJvbUdyb3VwIj09PXIpe3ZhciBnPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLGI9dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQucmVtb3ZlRnJvbUdyb3VwKGcsYil9dmFyIG09e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOm4sY29kZToyMDB9LF89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTptfTtlLmNvbnRleHQubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShfKX0pfX0se2tleToiYWRkUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKHZvaWQgMD09PXI/cj1uZXcgdi5kZWZhdWx0KHQsW10sW10sbik6ciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmtleSxyLnJ1bGVzLHIuYWN0aW9ucyxyLmNvbWJpbmluZ0FsZ29yaXRobSkpLGUpe2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlLHIsdCk7YnJlYWs7Y2FzZSJVU0VSIjp0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdPXIsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToiYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Ci8vIGxvZy5sb2coJ1tQb2xpY3kuUEVQIEF1dGhvcmlzZV0gJywgbWVzc2FnZSk7Ci8vIGxvZy5sb2cobWVzc2FnZSk7CmlmKCFlKXRocm93IG5ldyBFcnJvcigibWVzc2FnZSBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLmZyb20pdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLmZyb20gaXMgbm90IGRlZmluZWQiKTtpZighZS50byl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UudG8gaXMgbm90IGRlZmluZWQiKTtpZighZS50eXBlKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS50eXBlIGlzIG5vdCBkZWZpbmVkIik7cmV0dXJuIGUuYm9keT1lLmJvZHl8fHt9LG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXtlLmJvZHk9ZS5ib2R5fHx7fTt2YXIgbz1yLHM9by5wZHAuZXZhbHVhdGVQb2xpY2llcyhlLHQpOyJOb3QgQXBwbGljYWJsZSI9PT1zJiYocz1vLmNvbnRleHQuZGVmYXVsdEJlaGF2aW91cixlLmJvZHkuYXV0aD0hMSksby5hY3Rpb25zU2VydmljZS5lbmZvcmNlUG9saWNpZXMoZSx0KS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgciBpbiB0KWlmKGU9dFtyXSxzKWUuYm9keS5hdXRoPXZvaWQgMD09PWUuYm9keS5hdXRofHxlLmJvZHkuYXV0aCxuKGUpO2Vsc2V7dmFyIG89e2JvZHk6e2NvZGU6NDAzLGRlc2NyaXB0aW9uOiJCbG9ja2VkIGJ5IHBvbGljeSJ9LGZyb206ZS50byx0bzplLmZyb20sdHlwZToicmVzcG9uc2UifTtpKG8pfX0sZnVuY3Rpb24oZSl7aShlKX0pfSl9fSx7a2V5OiJyZW1vdmVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgaXMgbm90IGRlZmluZWQiKTtpZigiKiIhPT1lJiYhdCl0aHJvdyBuZXcgRXJyb3IoImtleSBpcyBub3QgZGVmaW5lZCIpO3N3aXRjaChlKXtjYXNlIioiOnRoaXMuY29udGV4dC5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9e30sdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llcz17fSx0aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiVVNFUiIpLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlNFUlZJQ0VfUFJPVklERVIiKSx0aGlzLmNvbnRleHQuc2F2ZUFjdGl2ZVBvbGljeSgpO2JyZWFrO2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6ZGVsZXRlIHRoaXMuY29udGV4dC5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbdF0sdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygpO2JyZWFrO2Nhc2UiVVNFUiI6ZGVsZXRlIHRoaXMuY29udGV4dC51c2VyUG9saWNpZXNbdF0sdD09PXRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5JiYodGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9dm9pZCAwLHRoaXMuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCkpLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlVTRVIiKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvbnRleHQubWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fV0pLFBFUH0oKSk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWN0aW9uc1NlcnZpY2UoZSl7KDAscy5kZWZhdWx0KSh0aGlzLEFjdGlvbnNTZXJ2aWNlKSx0aGlzLmNvbnRleHQ9ZX1yZXR1cm4oMCx1LmRlZmF1bHQpKEFjdGlvbnNTZXJ2aWNlLFt7a2V5OiJlbmZvcmNlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXIuY29udGV4dC5nZXRQb2xpY2llcyhlLHQpO3ZvaWQgMCE9PW8/dm9pZCAwIT09by5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k/by5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pOnZvaWQgMCE9PW8udXNlclBvbGljeT9vLnVzZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pOm4oW2VdKTpuKFtlXSl9KX19LHtrZXk6ImZvcndhcmRUb0lEIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkpdGhyb3cgbmV3IEVycm9yKCJmb3J3YXJkIG1lc3NhZ2UgdG8gZ2l2ZW4gSUQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCIpO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT9yLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodCkudGhlbihmdW5jdGlvbih0KXtlLnRvPXQuaHlwZXJ0eVVSTCxlLmJvZHkudmlhPXZvaWQgMCxuKGUpLHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9LGZ1bmN0aW9uKGUpe2koZSl9KTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToiZm9yd2FyZFRvSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuKXtpZihyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Lmh5cGVydGllc0xpc3RbMF0uaHlwZXJ0eVVSTD09PWUudG8peyJydW50aW1lIiE9PWUudG8uc3BsaXQoIjovLyIpWzBdPyhlLnRvPXQsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpKTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToic2VuZEF1dG9tYXRpY01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgaT17ZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ont2YWx1ZTp0fSx0eXBlOmUudHlwZX07bihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfSl9fV0pLEFjdGlvbnNTZXJ2aWNlfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ3OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNDUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUERQKGUpeygwLGkuZGVmYXVsdCkodGhpcyxQRFApLHRoaXMuY29udGV4dD1lLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9cmV0dXJuKDAscy5kZWZhdWx0KShQRFAsW3trZXk6ImV2YWx1YXRlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb250ZXh0LmdldFBvbGljaWVzKGUsdCksbj0iTm90IEFwcGxpY2FibGUiO2lmKHZvaWQgMCE9PXImJigobj10aGlzLmV2YWx1YXRlUG9saWN5KGUsci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3ksdCkpfHwiTm90IEFwcGxpY2FibGUiPT09bikpe3ZhciBpPXRoaXMuZXZhbHVhdGVQb2xpY3koZSxyLnVzZXJQb2xpY3ksdCk7Ik5vdCBBcHBsaWNhYmxlIiE9PWkmJihuPWkpfXJldHVybiBufX0se2tleToiZXZhbHVhdGVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0iTm90IEFwcGxpY2FibGUiO3JldHVybiB0JiYobj10LmV2YWx1YXRlUnVsZXModGhpcy5jb250ZXh0LGUscikpLG59fV0pLFBEUH0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0ODAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyMDYpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMjA3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIwOCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig0ODEpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9saWN5KGUsdCxyLG4pe2lmKCgwLHMuZGVmYXVsdCkodGhpcyxQb2xpY3kpLCFlKXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJhY3Rpb25zIGFyZSBub3QgZGVmaW5lZCIpO3RoaXMuYWN0aW9ucz1yLHRoaXMua2V5PWUsdGhpcy5fc2V0UnVsZXModCksdGhpcy5fc2V0Q29tYmluaW5nQWxnb3JpdGhtKG4pfXJldHVybigwLHUuZGVmYXVsdCkoUG9saWN5LFt7a2V5OiJhZGRBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5hY3Rpb25zLnB1c2goe21ldGhvZDplLHBhcmFtOnR9KX19LHtrZXk6ImNyZWF0ZVJ1bGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSl7dm9pZCAwPT09aSYmKGk9dGhpcy5nZXRMYXN0UHJpb3JpdHkoKSsxKTt2YXIgbz1uZXcgdi5kZWZhdWx0KGUsdCxyLG4saSk7dGhpcy5ydWxlcy5wdXNoKG8pfX0se2tleToiZGVsZXRlUnVsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlcy5pbmRleE9mKGUpO3RoaXMucnVsZXMuc3BsaWNlKHQsMSl9fSx7a2V5OiJlbmZvcmNlQWN0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIHM9W107aWYoMCE9PXIuYWN0aW9ucy5sZW5ndGgpe2Zvcih2YXIgYSBpbiByLmFjdGlvbnMpe3ZhciB1PWUucGVwLmFjdGlvbnNTZXJ2aWNlW3IuYWN0aW9uc1thXS5tZXRob2RdKHQsci5hY3Rpb25zW2FdLnBhcmFtKTtzLnB1c2godSl9aS5kZWZhdWx0LmFsbChzKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KX1lbHNlIG4oW3RdKX0pfX0se2tleToiZXZhbHVhdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiB0aGlzLnJ1bGVzKW4ucHVzaCh0aGlzLnJ1bGVzW2ldLmV2YWx1YXRlKGUsdCxyKSk7cmV0dXJuIHRoaXMuY29tYmluaW5nQWxnb3JpdGhtLmNvbWJpbmUobil9fSx7a2V5OiJnZXRMYXN0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107aWYoMCE9PXRoaXMucnVsZXMubGVuZ3RoKXtmb3IodmFyIHQgaW4gdGhpcy5ydWxlcyllLnB1c2godGhpcy5ydWxlc1t0XS5wcmlvcml0eSk7cmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZSl9cmV0dXJuLTF9fSx7a2V5OiJnZXRSdWxlQnlQcmlvcml0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMucnVsZXMpaWYoU3RyaW5nKHRoaXMucnVsZXNbdF0ucHJpb3JpdHkpPT09U3RyaW5nKGUpKXJldHVybiB0aGlzLnJ1bGVzW3RdO3Rocm93IEVycm9yKCJSdWxlIHdpdGggcHJpb3JpdHkgIitlKyIgZG9lcyBub3QgZXhpc3QhIil9fSx7a2V5OiJfc2V0Q29tYmluaW5nQWxnb3JpdGhtIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2goZXx8KGU9ImJsb2NrT3ZlcnJpZGVzIiksZSl7Y2FzZSJibG9ja092ZXJyaWRlcyI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IGQuZGVmYXVsdDticmVhaztjYXNlImFsbG93T3ZlcnJpZGVzIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgZi5kZWZhdWx0O2JyZWFrO2Nhc2UiZmlyc3RBcHBsaWNhYmxlIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgeS5kZWZhdWx0O2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gYWxnb3JpdGhtOiAiK2UpfX19LHtrZXk6Il9zZXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5ydWxlcz1bXTtmb3IodmFyIHQgaW4gZSl7dmFyIHI9ZVt0XTt2b2lkIDA9PT1yLnByaW9yaXR5JiYoci5wcmlvcml0eT10aGlzLmdldExhc3RQcmlvcml0eSgpKzEpLHIgaW5zdGFuY2VvZiB2LmRlZmF1bHR8fChyPW5ldyB2LmRlZmF1bHQoci5kZWNpc2lvbixyLmNvbmRpdGlvbixyLnNjb3BlLHIudGFyZ2V0LHIucHJpb3JpdHkpKSx0aGlzLnJ1bGVzLnB1c2gocil9fX0se2tleToic29ydFJ1bGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnNvcnQoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnByaW9yaXR5LG49dC5wcmlvcml0eTtyZXR1cm4gcjxuPy0xOnI+bj8xOjB9KX19XSksUG9saWN5fSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig0ODIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMTQ2KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDE0KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVsZShlLHQscixuLG8peygwLGkuZGVmYXVsdCkodGhpcyxSdWxlKSx0aGlzLmRlY2lzaW9uPWUsdGhpcy5zZXRDb25kaXRpb24odCksdGhpcy5wcmlvcml0eT1vLHRoaXMuc2NvcGU9cix0aGlzLnRhcmdldD1ufXJldHVybigwLHMuZGVmYXVsdCkoUnVsZSxbe2tleToic2V0Q29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZi5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0KXRoaXMuY29uZGl0aW9uPWU7ZWxzZXtzd2l0Y2goZS5hdHRyaWJ1dGUpe2Nhc2Uic3Vic2NyaXB0aW9uIjp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpO2JyZWFrO2Nhc2Ugdm9pZCAwOnRoaXMuY29uZGl0aW9uPW5ldyB1LmRlZmF1bHQoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNvbmRpdGlvbj1uZXcgZi5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpfX19fSx7a2V5OiJldmFsdWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/dC50bzp0LmZyb20saT12b2lkIDA7c3dpdGNoKHRoaXMuc2NvcGUpe2Nhc2UiZ2xvYmFsIjpicmVhaztjYXNlImh5cGVydHkiOmlmKCgwLGwuaXNEYXRhT2JqZWN0VVJMKShuKSl7dmFyIG89ZS5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKCgwLGwucmVtb3ZlUGF0aEZyb21VUkwpKG4pKTt2b2lkIDAhPT1vJiYoaT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShvKSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYoaT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZSgoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSkpO2lmKGk9PT10aGlzLnRhcmdldClicmVhaztyZXR1cm4iTm90IEFwcGxpY2FibGUiO2Nhc2UiaWRlbnRpdHkiOnZhciBzPXZvaWQgMDtpZigoMCxsLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBhPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7cz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoYSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYocz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoKDAsbC5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZih2b2lkIDAhPT1zJiYocz0oMCxsLmdldFVzZXJFbWFpbEZyb21VUkwpKHMpKSxzPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn1yZXR1cm4gdGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGUsdCx0aGlzLnNjb3BlLHRoaXMudGFyZ2V0KT90aGlzLmRlY2lzaW9uOiJOb3QgQXBwbGljYWJsZSJ9fV0pLFJ1bGV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDgyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDE0NiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxNDUpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDgzKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIEFkdmFuY2VkQ29uZGl0aW9uKGUpeygwLGkuZGVmYXVsdCkodGhpcyxBZHZhbmNlZENvbmRpdGlvbiksdGhpcy5vcGVyYXRvcnM9bmV3IGYuZGVmYXVsdCx2b2lkIDAhPT1lLm9wZXJhdG9ycyYmKGU9ZS5jb25kaXRpb24pLGU9dGhpcy5idWlsZENvbmRpdGlvbihlKSx0aGlzLmNvbmRpdGlvbj1lfXJldHVybigwLHMuZGVmYXVsdCkoQWR2YW5jZWRDb25kaXRpb24sW3trZXk6ImJ1aWxkQ29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlWzFdKT9lWzFdPXRoaXMuYnVpbGRDb25kaXRpb24oZVsxXSk6InN1YnNjcmlwdGlvbiI9PT1lWzFdLmF0dHJpYnV0ZT9lWzFdPW5ldyBkLmRlZmF1bHQoZVsxXS5hdHRyaWJ1dGUsZVsxXS5vcGVyYXRvcixlWzFdLnBhcmFtcyk6ZVsxXT1uZXcgdS5kZWZhdWx0KGVbMV0uYXR0cmlidXRlLGVbMV0ub3BlcmF0b3IsZVsxXS5wYXJhbXMpLHZvaWQgMCE9PWVbMl0mJihBcnJheS5pc0FycmF5KGVbMl0pP2VbMl09dGhpcy5idWlsZENvbmRpdGlvbihlWzJdKToic3Vic2NyaXB0aW9uIj09PWVbMl0uYXR0cmlidXRlP2VbMl09bmV3IGQuZGVmYXVsdChlWzJdLmF0dHJpYnV0ZSxlWzJdLm9wZXJhdG9yLGVbMl0ucGFyYW1zKTplWzJdPW5ldyB1LmRlZmF1bHQoZVsyXS5hdHRyaWJ1dGUsZVsyXS5vcGVyYXRvcixlWzJdLnBhcmFtcykpLGV9fSx7a2V5OiJpc0FwcGxpY2FibGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLHMpe2ZvcihpfHwoaT10aGlzLmNvbmRpdGlvblswXSxvPXRoaXMuY29uZGl0aW9uWzFdLHM9dGhpcy5jb25kaXRpb25bMl0pOyEobyBpbnN0YW5jZW9mIHUuZGVmYXVsdCkmIShvIGluc3RhbmNlb2YgZC5kZWZhdWx0KSYiYm9vbGVhbiIhPXR5cGVvZiBvOylvPXRoaXMuaXNBcHBsaWNhYmxlKGUsdCxyLG4sb1swXSxvWzFdLG9bMl0pO2lmKHZvaWQgMCE9PXMpZm9yKDshKHMgaW5zdGFuY2VvZiB1LmRlZmF1bHQpJiEocyBpbnN0YW5jZW9mIGQuZGVmYXVsdCkmImJvb2xlYW4iIT10eXBlb2Ygczspcz10aGlzLmlzQXBwbGljYWJsZShlLHQscixuLHNbMF0sc1sxXSxzWzJdKTt2YXIgYT0iYm9vbGVhbiI9PXR5cGVvZiBvP286by5pc0FwcGxpY2FibGUoZSx0LHIsbiksYz12b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXMmJihjPSJib29sZWFuIj09dHlwZW9mIHM/czpzLmlzQXBwbGljYWJsZShlLHQscixuKSksdGhpcy5vcGVyYXRvcnNbaV0oW2EsY10pfX1dKSxBZHZhbmNlZENvbmRpdGlvbn0oKTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0ODMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2MCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNjgpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDg0KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE0Niksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9ZnVuY3Rpb24oZSl7LyoqCiAgKiBDcmVhdGVzIGEgbmV3IFN1YnNjcmlwdGlvbkNvbmRpdGlvbi4KICAqIEBjbGFzcwogICogQHBhcmFtICB7c3RyaW5nfSAgYXR0cmlidXRlCiAgKiBAcGFyYW0gIHtzdHJpbmd9ICBvcGVyYXRvcgogICogQHBhcmFtICB7Kn0gICAgICAgcGFyYW1zCiAgKi8KZnVuY3Rpb24gU3Vic2NyaXB0aW9uQ29uZGl0aW9uKGUsdCxyKXtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uQ29uZGl0aW9uKSwoMCxmLmRlZmF1bHQpKHRoaXMsKFN1YnNjcmlwdGlvbkNvbmRpdGlvbi5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uKSkuY2FsbCh0aGlzLGUsdCxyKSl9LyoqCiAgKiBWZXJpZmllcyBpZiB0aGUgc3Vic2NyaXB0aW9uIGNvbmRpdGlvbiBpcyBhcHBsaWNhYmxlIHRvIHRoZSBtZXNzYWdlLiBGaXJzdCwgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgb2YgdGhlIHN1YnNjcmlwdGlvbiB0eXBlOyBzZWNvbmQsIHZlcmlmaWVzIGlmIHRoZSBtZXNzYWdlIGlzIGZyb20gYSByZW1vdGUgcnVudGltZSB0byBndWFyYW50ZWUgdGhhdCB0aGUgc3Vic2NyaXB0aW9uIGlzIGJlaW5nIHZhbGlkYXRlZCBpbiB0aGUgZGVzdGluYXRpb24gcnVudGltZTsgdGhpcmQsIHZlcmlmaWVzIGlmIHRoZSBzdWJzY3JpcHRpb24gcHJlZmVyZW5jZSBpcyBtZXQuCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIGNvbnRleHQgICBlbnZpcm9ubWVudCB3aGVyZSB0aGUgUG9saWN5IEVuZ2luZSBpcyBiZWluZyB1c2VkCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIG1lc3NhZ2UKICAqLwpyZXR1cm4oMCx5LmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbixlKSwoMCx1LmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbixbe2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhKCJzdWJzY3JpYmUiPT09dC50eXBlJmUuaXNGcm9tUmVtb3RlU00odC5mcm9tKSkmJigwLGQuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLnByb3RvdHlwZS5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLnByb3RvdHlwZSksImlzQXBwbGljYWJsZSIsdGhpcykuY2FsbCh0aGlzLGUsdCl9fV0pLFN1YnNjcmlwdGlvbkNvbmRpdGlvbn0odi5kZWZhdWx0KTsvKioKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAqKi8KdC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDg0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNjApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNDg1KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyk7dC5kZWZhdWx0PWZ1bmN0aW9uIGdldChlLHQscil7bnVsbD09PWUmJihlPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG49KDAscy5kZWZhdWx0KShlLHQpO2lmKHZvaWQgMD09PW4pe3ZhciBvPSgwLGkuZGVmYXVsdCkoZSk7cmV0dXJuIG51bGw9PT1vP3ZvaWQgMDpnZXQobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBhPW4uZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChyKX19LC8qIDQ4NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDg2KSxfX2VzTW9kdWxlOiEwfX0sLyogNDg2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ4Nyk7dmFyIG49cigxMykuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0sLyogNDg3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKQp2YXIgbj1yKDQ1KSxpPXIoMTQzKS5mO3IoOTcpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkobihlKSx0KX19KX0sLyogNDg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNjApLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjA0KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDQ4OSksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9di5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSx3PWZ1bmN0aW9uKGUpey8qIHByaXZhdGUKICBfcmVnaXN0cnk6IFJlZ2lzdHJ5CiAgX2ZvcndhcmRzOiB7IDxmcm9tLXVybD46IHsgZmw6IE1zZ0xpc3RlbmVyLCBzYW5kYm94VG9VcmxzOiBNYXAoU2FuZGJveCwgW3RvLXVybF0pLCB1cmxUb1NhbmRib3g6IHsgdG8tdXJsOiBTYW5kYm94IH0gfSB9CiAgIF9waXBlbGluZTogUGlwZWxpbmUKICAqLwovL1RPRE86IGZ1dHVyZSBvcHRpbWl6YXRpb24KLy8xLiBtZXNzYWdlIGJhdGNoIHByb2Nlc3Npbmcgd2l0aCBzZXRJbnRlcnZhbAovLzIuIHJlc29sdmUgZGVmYXVsdCBnYXRld2F5L3Byb3Rvc3R1YiB3aXRoIHJlZ2lzdGVyLnJlc29sdmUKZnVuY3Rpb24gTWVzc2FnZUJ1cyhlKXsoMCx1LmRlZmF1bHQpKHRoaXMsTWVzc2FnZUJ1cyk7dmFyIHQ9KDAsZC5kZWZhdWx0KSh0aGlzLChNZXNzYWdlQnVzLl9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KShNZXNzYWdlQnVzKSkuY2FsbCh0aGlzKSk7cmV0dXJuIHQuX3JlZ2lzdHJ5PWUsdC5fZm9yd2FyZHM9e30sdC5fcGlwZWxpbmVJbj1uZXcgXy5kZWZhdWx0KGZ1bmN0aW9uKGUpe1IuZXJyb3IoIlBJUEVMSU5FLUVSUk9SOiAiLCgwLGkuZGVmYXVsdCkoZSkpfSksdC5fcGlwZWxpbmVPdXQ9bmV3IF8uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxpLmRlZmF1bHQpKGUpKX0pLHR9cmV0dXJuKDAseS5kZWZhdWx0KShNZXNzYWdlQnVzLGUpLCgwLGYuZGVmYXVsdCkoTWVzc2FnZUJ1cyxbe2tleToicG9zdE1lc3NhZ2UiLC8qKgogICAgICogUG9zdCBhIG1lc3NhZ2UgZm9yIHJvdXRpbmcuIEl0IHdpbGwgZmlyc3Qgc2VhcmNoIGZvciBhIGxpc3RlbmVyLCBpZiB0aGVyZSBpcyBubyBvbmUsIGl0IHNlbmRzIHRvIGEgZXh0ZXJuYWwgcm91dGluZyB1c2luZyB0aGUgX29uUG9zdE1lc3NhZ2UuCiAgICAgKiBFeHRlcm5hbCByb3V0aW5nIHVzZSB0aGUgcmVnaXN0cnkucmVzb2x2ZSguLikgbWV0aG9kIHRvIGRlY2lkZSB0aGUgZGVzdGluYXRpb24gc2FuZGJveC4KICAgICAqIEBwYXJhbSAge01lc3NhZ2V9IGluTXNnICAgICAgICAgICAgSlNPTiB3aXRoIG1hbmRhdG9yeSBNZXNzYWdlIHN0cnVjdHVyZSB7aWQsIHR5cGUsIGZyb20sIHRvfQogICAgICogQHBhcmFtICB7Q2FsbGJhY2t9IHJlc3BvbnNlQ2FsbGJhY2sgT3B0aW9uYWwgY2FsbGJhY2sgaWYgYSByZXNwb25zZSBpcyBleHBlY3RlZCBmcm9tIHRoZSByZXF1ZXN0LiBBIHJlc3BvbnNlIHdpbGwgYmUgYWx3YXlzIHNlbnQsIGV2ZW4gaWYgaXQgaXMgYSAiVGltZW91dCIuCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgdGhlIE1lc3NhZ2UgaWQKICAgICAqLwp2YWx1ZTpmdW5jdGlvbihlLHQscil7Ui5pbmZvKCJvblBPU1RNZXNzYWdlOiAiLGUpO3ZhciBuPXRoaXMsaT1mdW5jdGlvbihpKXtpZihuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSwhbi5fb25SZXNwb25zZShpKSl7dmFyIG89bi5fc3Vic2NyaXB0aW9uc1tpLnRvXTtvPwovL2RvIG5vdCBwdWJsaXNoIG9uIGRlZmF1bHQgYWRkcmVzcywgYmVjYXVzZSBvZiBsb29wYmFjayBjeWNsZQpuLl9wdWJsaXNoT24obyxpKToKLy9pZiB0aGVyZSBpcyBubyBsaXN0ZW5lciwgc2VuZCB0byBleHRlcm5hbCBpbnRlcmZhY2UKbi5fb25Qb3N0TWVzc2FnZShpKX19O2lmKG4uX2dlbklkKGUpLG4uX2lzVG9Qcm9jZXNzKGUpKXtuLl9pc0luY29taW5nTWVzc2FnZShlKT9uLl9waXBlbGluZUluLnByb2Nlc3MoZSxpKTpuLl9waXBlbGluZU91dC5wcm9jZXNzKGUsaSl9ZWxzZSBpKGUpO3JldHVybiBlLmlkfX0se2tleToiX2lzVG9Qcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImRvbWFpbiIsImRvbWFpbi1pZHAiLCJnbG9iYWwiLCJoeXBlcnR5LXJ1bnRpbWUiLCJydW50aW1lIl0scj1lLmZyb20uc3BsaXQoIjovLyIpLG49clswXSxpPWUudG8uc3BsaXQoIjovLyIpLG89aVswXSxzPWUuZnJvbSxhPWUudG87Ci8vIFNpZ25hbGxpbmcgbWVzc2FnZXMgYmV0d2VlbiBQMlAgU3R1YnMgZG9uJ3QgaGF2ZSB0byBiZSB2ZXJpZmllZC4gRkZTCnJldHVybiBlLmJvZHkmJmUuYm9keS5zb3VyY2UmJihzPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5LnN1YnNjcmliZXImJihzPWUuYm9keS5zdWJzY3JpYmVyKSwtMT09PXMuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09cy5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYtMT09PWEuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09YS5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYoKCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHMpfHwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChlLnRvKSkmJighKGUuZnJvbT09PW58fGUudG89PT1vfHwicmVhZCI9PT1lLnR5cGV8fCJyZXNwb25zZSI9PT1lLnR5cGV8fGUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpJiYiZGVsZXRlIj09PWUudHlwZSkmJigtMT09PXQuaW5kZXhPZihuKXx8LTE9PT10LmluZGV4T2YobykpKSl9fSx7a2V5OiJfaXNJbmNvbWluZ01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDsKLy9UT0RPOiB0aGlzIHN1YnNjcmliZXIgdmFsaWRhdGlvbiBzaG91bGQgbm90IGV4aXN0LCBiZWNhdXNlIGlzIG91dGRhdGVkCi8vVE9ETzogdGhlIHN5bmNoZXIgYW5kIHN5bmNoZXIgbWFuYWdlciBub3QgZm9sbG93aW5nIHRoZSBjb3JyZWN0IHNwZWM7Ci8vVE9ETzogdGhpcyBzdWJzY3JpYmVyIHZhbGlkYXRpb24gc2hvdWxkIG5vdCBleGlzdCwgYmVjYXVzZSBpcyBvdXRkYXRlZAovL1RPRE86IHRoZSBzeW5jaGVyIGFuZCBzeW5jaGVyIG1hbmFnZXIgbm90IGZvbGxvd2luZyB0aGUgY29ycmVjdCBzcGVjOwpyZXR1cm4iZm9yd2FyZCI9PT1lLnR5cGU/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLnR5cGU6ICIsZS50eXBlKSx0PWUuYm9keS5mcm9tKTplLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJmUuYm9keS5zb3VyY2U/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc291cmNlOiAiLGUuYm9keS5zb3VyY2UpLHQ9ZS5ib2R5LnNvdXJjZSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmZS5ib2R5LnN1YnNjcmliZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc3Vic2NyaWJlcjogIixlLmJvZHkuc3Vic2NyaWJlciksdD1lLmJvZHkuc3Vic2NyaWJlcik6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikmJmUuYm9keS5yZXBvcnRlcj8oUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuYm9keS5yZXBvcnRlcjogIixlLmJvZHkucmVwb3J0ZXIpLHQ9ZS5ib2R5LnJlcG9ydGVyKTooUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuZnJvbSAiLGUuZnJvbSksdD1lLmZyb20pLFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBjaGVjayBpZiBpc0xvY2FsOiAiLHQpLCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHQpfX0se2tleToiYWRkUHVibGlzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1yLl9mb3J3YXJkc1tlXTtpZighbil7bj17Y291bnRlcjowLGZsOnIuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbih0KXtSLmluZm8oIk1CLVBVQkxJU0g6ICggIitlKyIgKSIpLHIuX29uUG9zdE1lc3NhZ2UodCl9KSxyZW1vdmU6ZnVuY3Rpb24oKXswPT09LS10LmNvdW50ZXImJih0LmZsLnJlbW92ZSgpLGRlbGV0ZSByLl9mb3J3YXJkc1tlXSl9fSxyLl9mb3J3YXJkc1tlXT1ufXJldHVybiBuLmNvdW50ZXIrKyxufX0se2tleToiYWRkRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiByLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24obil7Ui5pbmZvKCJNQi1GT1JXQVJEOiAoICIrZSsiIHRvICIrdCsiICkiKSxyLmZvcndhcmQodCxuKX0pfX0se2tleToiZm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5fc3Vic2NyaXB0aW9uc1tlXTtuJiZyLl9wdWJsaXNoT24obix0KX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOwovL3Jlc29sdmUgZXh0ZXJuYWwgcHJvdG9zdHViLi4uCnQuX3JlZ2lzdHJ5LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihyLG4pe24/dC5mb3J3YXJkKHIsbik6dC5mb3J3YXJkKHIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtSLmVycm9yKCJSRVNPTFZFLUVSUk9SOiAiLGUpfSl9fSx7a2V5OiJwaXBlbGluZUluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVJbn19LHtrZXk6InBpcGVsaW5lT3V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVPdXR9fV0pLE1lc3NhZ2VCdXN9KGIuZGVmYXVsdCk7dC5kZWZhdWx0PXcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDcpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShhKSxjPShyKDE0KSx1LmdldExvZ2dlcigiUGlwZWxpbmUiKSxmdW5jdGlvbigpey8qIHB1YmxpYwogICAgaGFuZGxlcnM6ICgoUGlwZUNvbnRleHQpID0+IHZvaWQpW10KICAgIG9uRmFpbDogKGVycm9yKSA9PiB2b2lkCiAgKi8KZnVuY3Rpb24gUGlwZWxpbmUoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLFBpcGVsaW5lKTt2YXIgdD10aGlzO3QuaGFuZGxlcnM9W10sdC5vbkZhaWw9ZX0vKioKICAgKiBJbnNlcnQgYSBtZXNzYWdlIGluIHRoZSBwaXBlbGluZSBxdWV1ZS4gQWxsIG1lc3NhZ2VzIGFyZSB3cmFwcGVkIHdpdGggYSBQaXBlQ29udGV4dC4KICAgKiBAcGFyYW0gIHtNZXNzYWdlfSBtc2cgICAgICAgTWVzc2FnZSBmb3IgdGhlIHF1ZXVlCiAgICogQHBhcmFtICB7Q2FsbGJhY2t9IG9uRGVsaXZlciBXaGVuIG1lc3NhZ2UgaXMgZmluaXNoZWQgcHJvY2Vzc2luZyBmcm9tIGFsbCBoYW5kbGVycywgaXQgd2lsbCBiZSBkZWxpdmVyZWQgaW4gdGhpcyBjYWxsYmFjay4KICAgKi8KcmV0dXJuKDAscy5kZWZhdWx0KShQaXBlbGluZSxbe2tleToicHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuaGFuZGxlcnMubGVuZ3RoPjApe3ZhciBuPW5ldyBsKHIuaGFuZGxlcnMpO24ubmV4dChuZXcgZihyLG4sZSx0KSl9ZWxzZSB0KGUpfX1dKSxQaXBlbGluZX0oKSksZj1mdW5jdGlvbigpey8qIHByaXZhdGUKICAgIF9pblN0b3A6IGJvb2xlYW4KICAgICBfcGlwZWxpbmU6IFBpcGVsaW5lCiAgICBfaXRlcjogSXRlcmF0b3IKICAgIF9tc2c6IE1lc3NhZ2UKICAqLwpmdW5jdGlvbiBQaXBlQ29udGV4dChlLHQscixuKXsoMCxpLmRlZmF1bHQpKHRoaXMsUGlwZUNvbnRleHQpO3ZhciBvPXRoaXM7by5faW5TdG9wPSExLG8uX3BpcGVsaW5lPWUsby5faXRlcj10LG8uX21zZz1yLG8uX29uRGVsaXZlcj1ufXJldHVybigwLHMuZGVmYXVsdCkoUGlwZUNvbnRleHQsW3trZXk6Im5leHQiLC8qKgogICAgICogUHJvY2VlZCB0byB0aGUgbmV4dCBpbnRlcmNlcHRvciBoYW5kbGVyLCB1bmxlc3MgdGhlcmUgd2FzIGFuIGVycm9yLiBJZiBpdCdzIHRoZSBsYXN0IG9uZSwgcHJvY2VlZCB0byBvbkRlbGl2ZXIgaGFuZGxlci4KICAgICAqLwp2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faXRlci5oYXNOZXh0P2UuX2l0ZXIubmV4dChlKTplLl9vbkRlbGl2ZXIoZS5fbXNnKSl9fSx7a2V5OiJkZWxpdmVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faW5TdG9wPSEwLGUuX29uRGVsaXZlcihlLl9tc2cpKX19LHtrZXk6ImZhaWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5faW5TdG9wfHwodC5faW5TdG9wPSEwLHQuX3BpcGVsaW5lLm9uRmFpbCYmdC5fcGlwZWxpbmUub25GYWlsKGUpKX19LHtrZXk6InBpcGVsaW5lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmV9fSx7a2V5OiJtc2ciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tc2d9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tc2c9ZX19XSksUGlwZUNvbnRleHR9KCksbD1mdW5jdGlvbigpey8qIHByaXZhdGUKICAgIF9pbmRleDogbnVtYmVyCiAgICBfYXJyYXk6IFtdCiAgKi8KZnVuY3Rpb24gSXRlcmF0b3IoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLEl0ZXJhdG9yKSx0aGlzLl9pbmRleD0tMSx0aGlzLl9hcnJheT1lfXJldHVybigwLHMuZGVmYXVsdCkoSXRlcmF0b3IsW3trZXk6Imhhc05leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleDx0aGlzLl9hcnJheS5sZW5ndGgtMX19LHtrZXk6Im5leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleCsrLHRoaXMuX2FycmF5W3RoaXMuX2luZGV4XX19XSksSXRlcmF0b3J9KCk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDkwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDkxKSxkPXIoNykscD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGQpLHk9cC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxoPWZ1bmN0aW9uKCl7LyoqCiAgKiBSdW50aW1lZmFjdG9yeSBpcyBwYXNzZWQgaW4gdGhlIGNvc3RydWN0b3IsIGJlY2F1c2UgdGhlIG5vZGVKUyBoYXMgYSBkaWZmZXJlbnQgY3J5cHRvIG1vZHVsZQogICogZnJvbSB0aGUgYnJvd3Nlci4gUnVudGltZUZhY3RvcnkgcHJvdmlkZXMgYSB3cmFwcGVyIGZvciB0aGUgZnVjdGlvbnMgb2Ygbm9kZUpTLCBzbyB0aGV5IGNhbiBiZQogICogaW52b2tlZCBicm93c2VyIGxpa2UuCiAgKi8KZnVuY3Rpb24gQ3J5cHRvKGUpeygwLHUuZGVmYXVsdCkodGhpcyxDcnlwdG8pO3ZhciB0PXRoaXM7ImZ1bmN0aW9uIj09dHlwZW9mIGUuY3JlYXRlV2ViY3J5cHRvP3QuX2NyeXB0bz1lLmNyZWF0ZVdlYmNyeXB0bygpOnQuX2NyeXB0bz1jcnlwdG99LyoqCiAgKiBQZXJmb3JtcyBhIFJTQSBlbmNyeXB0aW9uCiAgKiBAcGFyYW0gICB7QXJyYXlCdWZmZXJ9ICAgIHZhbHVlICAgIHRoZSBwdWJsaWMga2V5CiAgKiBAcGFyYW0gICB7QnVmZmVyU291cmNlfSAgICB2YWx1ZSAgICBkYXRhIHRvIGJlIGVuY3J5cGVkCiAgKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNyeXB0ZWQgZGF0YQogICovCnJldHVybigwLGYuZGVmYXVsdCkoQ3J5cHRvLFt7a2V5OiJlbmNyeXB0UlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJlbmNyeXB0UlNBOnB1YktleSIsZSkseS5sb2coImVuY3J5cHRSU0E6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3IuX2ltcG9ydFJTQWVuY3J5cHRLZXkobmV3IFVpbnQ4QXJyYXkoZSkpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOiJSU0EtT0FFUCJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQp0KS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgZW5jcnlwdGVkIGRhdGEKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRSU0EnLCBuZXcgVWludDhBcnJheShlbmNyeXB0ZWQpKTsKbihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRSU0EnLCBlcnIpOwppKGUpfSl9KX0pfX0se2tleToiZGVjcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZGVjcnlwdFJTQTpwcml2S2V5IixlKSx5LmxvZygiZGVjcnlwdFJTQTpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7ci5faW1wb3J0UlNBZGVjcnlwdEtleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKdCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShlKTsKLy8gbG9nLmxvZygnY3J5cHRvLWRlY3J5cHRSU0EnLCBkZWNyeXB0ZWREYXRhKTsKbih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZGVjcnlwdFJTQScsIGVycik7CmkoZSl9KX0pfSl9fSx7a2V5OiJzaWduUlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXtyLl9pbXBvcnRSU0FzaWduS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5zaWduKHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQooMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgc2lnbmF0dXJlCi8vIGxvZy5sb2coJ2NyeXB0by1zaWduUlNBJywgbmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKSk7Cm4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1zaWduUlNBJywgZXJyKTsKaShlKX0pfSl9KX19LHtrZXk6InZlcmlmeVJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLl9pbXBvcnRSU0F2ZXJpZnlLZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLnZlcmlmeSh7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKciwvL0FycmF5QnVmZmVyIG9mIHRoZSBzaWduYXR1cmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgYm9vbGVhbiBvbiB3aGV0aGVyIHRoZSBzaWduYXR1cmUgaXMgdHJ1ZSBvciBub3QKLy8gbG9nLmxvZygnY3J5cHRvLXZlcmlmeVJTQScsIGlzdmFsaWQpOwppKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by12ZXJpZnlSU0EnLCBlcnIpOwpvKGUpfSl9KX0pfX0se2tleToiZW5jcnlwdEFFUyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3kubG9nKCJlbmNyeXB0QUVTOmtleSIsZSkseS5sb2coImVuY3J5cHRBRVM6ZGF0YSIsdCkseS5sb2coImVuY3J5cHRBRVM6aXYiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLl9pbXBvcnRBRVNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6IkFFUy1DQkMiLAovL0Rvbid0IHJlLXVzZSBpbml0aWFsaXphdGlvbiB2ZWN0b3JzIQovL0Fsd2F5cyBnZW5lcmF0ZSBhIG5ldyBpdiBldmVyeSB0aW1lIHlvdXIgZW5jcnlwdCEKaXY6cn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCigwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBlbmNyeXB0ZWQgZGF0YQovLyBsb2cubG9nKCdjcnlwdG8tZW5jcnlwdEFFUycsIG5ldyBVaW50OEFycmF5KGVuY3J5cHRlZCkpOwppKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZW5jcnlwdEFFUycsIGVycik7Cm8oZSl9KX0pfSl9fSx7a2V5OiJkZWNyeXB0QUVTIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coImRlY3J5cHRBRVM6a2V5IixlKSx5LmxvZygiZGVjcnlwdEFFUzpkYXRhIix0KSx5LmxvZygiZGVjcnlwdEFFUzppdiIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uX2ltcG9ydEFFU2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiQUVTLUNCQyIsaXY6cn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCnQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9KDAsbC5kZWNvZGVVVEY4KShuZXcgVWludDhBcnJheShlKSk7eS5sb2coImNyeXB0by1kZWNyeXB0QUVTIix0KSxpKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1kZWNyeXB0QUVTJywgZXJyKTsKbyhlKX0pfSl9KX19LHtrZXk6Imhhc2hITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJoYXNoSE1BQzprZXkiLGUpLHkubG9nKCJoYXNoSE1BQzpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxpLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIGhhc2hITUFDIGlucHVyZWQgREFUQSIpLHkubG9nKCJISGFzaEhNQUM6Iix0KSksci5faW1wb3J0SE1BQ2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiSE1BQyJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQooMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpe3kubG9nKCJIYXNoSE1BQyBzaWduYXR1cmU6IixuZXcgVWludDhBcnJheShlKSksCi8vIGxvZy5sb2coJ2NyeXB0by1oYXNoSE1BQycsIHNpZ25hdHVyZSk7Ci8vcmV0dXJucyBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBzaWduYXR1cmUKbihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWhhc2hITUFDJywgZXJyKTsKbyhlKX0pfSl9KX19LHtrZXk6InZlcmlmeUhNQUMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygidmVyaWZ5SE1BQzprZXkiLGUpLHkubG9nKCJ2ZXJpZnlITUFDOmRhdGEiLHQpLHkubG9nKCJ2ZXJpZnlITUFDOnNpZ25hdHVyZSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihvLHMpe24uX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXsic3RyaW5nIiE9dHlwZW9mIHQmJih0PSgwLGkuZGVmYXVsdCkodCkseS5sb2coIkNvbnZlcnRpbmcgdmVyaWZ5SE1BQyBpbnB1dGVkIERBVEE6Iix0KSksbi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IkhNQUMifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKciwvL0FycmF5QnVmZmVyIG9mIHRoZSBzaWduYXR1cmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgYm9vbGVhbiBvbiB3aGV0aGVyIHRoZSBzaWduYXR1cmUgaXMgdHJ1ZSBvciBub3QKLy8gbG9nLmxvZygnY3J5cHRvLXZlcmlmeUhNQUMnLCBpc3ZhbGlkKTsKeS5sb2coInZlcmlmeUhNQUMgcmVzdWx0IixlKSxlP28oZSk6cyhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by12ZXJpZnlITUFDIixlKSxzKGUpfSl9KX0pfX0se2tleToiZ2VuZXJhdGVSU0FLZXlQYWlyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX2NyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoe25hbWU6IlJTQS1QU1MiLG1vZHVsdXNMZW5ndGg6MjA0OCwvL2NhbiBiZSAxMDI0LCAyMDQ4LCBvciA0MDk2CnB1YmxpY0V4cG9uZW50Om5ldyBVaW50OEFycmF5KFsxLDAsMV0pLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbInNpZ24iLCJ2ZXJpZnkiXSkudGhlbihmdW5jdGlvbihpKXsKLy9yZXR1cm5zIGEga2V5cGFpciBvYmplY3QKLy8gbG9nLmxvZyhrZXkpOwplLl9jcnlwdG8uc3VidGxlLmV4cG9ydEtleSgic3BraSIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKaS5wdWJsaWNLZXkpLnRoZW4oZnVuY3Rpb24ocil7Ci8vcmV0dXJucyB0aGUgZXhwb3J0ZWQga2V5IGRhdGEKLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKcmV0dXJuIHQucHVibGljPW5ldyBVaW50OEFycmF5KHIpLGUuX2NyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCJwa2NzOCIsaS5wcml2YXRlS2V5KX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5wcml2YXRlPW5ldyBVaW50OEFycmF5KGUpLAovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVSU0FLZXlQYWlyJywga2V5UGFpcik7CnIodCl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoZSksbihlKX0pfSl9fSx7a2V5OiJnZW5lcmF0ZUlWIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgxNik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6ImdlbmVyYXRlUmFuZG9tIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7ZS5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KTsKLy8gYWRkIGluIHRoZSBmaXJzdCA0IGJ5dGVzIG9mIHRoZSBhcnJheSB0aGUgYnl0ZXMgZXh0cmFjdGVkIHByZXZpb3VzbHk7CmZvcih2YXIgcj1EYXRlLm5vdygpLG49KDAsbC5lbmNvZGVVVEY4KShyLnRvU3RyaW5nKCkpLGk9bi5zbGljZShuLmxlbmd0aC00LG4ubGVuZ3RoKSxvPTA7bzw0O28rKyl0W29dPWlbb107cmV0dXJuIHR9fSx7a2V5OiJnZW5lcmF0ZVBNUyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoNDgpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZU1hc3RlclNlY3JldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89bmV3IFVpbnQ4QXJyYXkoNDgpLHM9dDtyLl9kaWdlc3QoZSkudGhlbihmdW5jdGlvbihlKXtyLmhhc2hITUFDKGUscykudGhlbihmdW5jdGlvbih0KXsKLy9jb3B5IHRoZSBmaXJzdCAzMiBieXRlcyBpbnRvIHRoZSBrZXkKZm9yKHZhciBuPTA7bjwzMjtuKyspb1tuXT10W25dO3JldHVybiByLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vY29weSB0aGUgZmlyc3QgMTYgYnl0ZXMgdG8gdGhlIGtleSByZW1haW5pbmcgMTYgYnl0ZXMKZm9yKHZhciB0PTA7dDwxNjt0Kyspb1t0KzMyXT1lW3RdOwovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVNYXN0ZXJTZWNyZXQnLCBrZXkpOwpuKG8pfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1nZW5lcmF0ZU1hc3RlclNlY3JldCcsIGVycik7CmkoZSl9KX0pfSl9fSx7a2V5OiJnZW5lcmF0ZUtleXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPVtdLHM9dDsKLy8gaXRlcmF0ZSA0IHRpbWVzIHRvIG9idGFpbiBhIDEwMjQga2V5IHNpemUKci5oYXNoSE1BQyhlLHMpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24oZSl7by5wdXNoKGUpLAovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVLZXlzJywga2V5KTsKbihvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVLZXlzJywgZXJyKTsKaShlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBc2lnbktleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKZSx7Ly90aGVzZSBhcmUgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IlJTQVNTQS1QS0NTMS12MV81IixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJzaWduIl0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQXNpZ25LZXknLCBwcml2YXRlS2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBc2lnbktleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBdmVyaWZ5S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLC8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCmUsey8vdGhlc2UgYXJlIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQXZlcmlmeUtleScsIHB1YmxpY0tleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQXZlcmlmeUtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZW5jcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJzcGtpIiwvL2NhbiBiZSAnandrJyAocHVibGljIG9yIHByaXZhdGUpLCAnc3BraScgKHB1YmxpYyBvbmx5KSwgb3IgJ3BrY3M4JyAocHJpdmF0ZSBvbmx5KQplLHsvL3RoZXNlIGFyZSB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiUlNBLU9BRVAiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbImVuY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgcHVibGljS2V5IChvciBwcml2YXRlS2V5IGlmIHlvdSBhcmUgaW1wb3J0aW5nIGEgcHJpdmF0ZSBrZXkpCi8vIGxvZy5sb2coJ2NyeXB0by1faW1wb3J0UlNBZW5jcnlwdEtleScsIHB1YmxpY0tleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWVuY3J5cHRLZXkiLGUubmFtZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZGVjcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKZSx7Ly90aGVzZSBhcmUgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJkZWNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQWRlY3J5cHRLZXknLCBwcml2YXRlS2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBZGVjcnlwdEtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJjb25jYXRQTVN3aXRoUmFuZG9tcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpewovLyBhZGQgUHJlbWFzdGVyS2V5CmZvcih2YXIgbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCtyLmxlbmd0aCksaT0wO2k8ZS5sZW5ndGg7aSsrKW5baV09ZVtpXTsKLy9hZGQgdG8gcmFuZG9tCmZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKW5bbytlLmxlbmd0aF09ZVtvXTsKLy9hZGQgZnJvbSByYW5kb20KZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspbltzK2UubGVuZ3RoK3QubGVuZ3RoXT1lW3NdO3JldHVybiBufX0se2tleToiX2dlbmVyYXRlMjU2Yml0S2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6Il9pbXBvcnRITUFDa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fZGlnZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsLy9jYW4gYmUgJ2p3aycgb3IgJ3JhdycKZSx7Ly90aGlzIGlzIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJITUFDIixoYXNoOntuYW1lOiJTSEEtMjU2In0sLy9jYW4gYmUgJ1NIQS0xJywgJ1NIQS0yNTYnLCAnU0hBLTM4NCcsIG9yICdTSEEtNTEyJwpsZW5ndGg6MjU2fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsic2lnbiIsInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIHN5bW1ldHJpYyBrZXkKLy8gbG9nLmxvZygnY3J5cHRvLV9pbXBvcnRITUFDa2V5Jywga2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfSl9fSx7a2V5OiJfZGlnZXN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5kaWdlc3Qoe25hbWU6IlNIQS0yNTYifSxlKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIGhhc2ggYXMgYW4gQXJyYXlCdWZmZXIKLy8gbG9nLmxvZygnY3J5cHRvLWRpZ2VzdCcsIG5ldyBVaW50OEFycmF5KGhhc2gpKTsKcihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydEFFU2tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLC8vY2FuIGJlICdqd2snIG9yICdyYXcnCmUsey8vdGhpcyBpcyB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiQUVTLUNCQyJ9LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJlbmNyeXB0IiwiZGVjcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIHN5bW1ldHJpYyBrZXkKLy8gbG9nLmxvZygnY3J5cHRvLWltcG9ydEFFU2tleScsIGtleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8taW1wb3J0QUVTa2V5IixlKSxuKGUpfSl9KX19XSksQ3J5cHRvfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBNYXJzaGFscyBhIHN0cmluZyB0byBVaW50OEFycmF5LgpmdW5jdGlvbiBlbmNvZGVVVEY4KGUpe2Zvcih2YXIgdD0wLHI9bmV3IFVpbnQ4QXJyYXkoNCplLmxlbmd0aCksbj0wO24hPWUubGVuZ3RoO24rKyl7dHJ5e2UuY2hhckNvZGVBdChuKX1jYXRjaChlKXtyZXR1cm59dmFyIGk9ZS5jaGFyQ29kZUF0KG4pO2lmKGk8MTI4KXJbdCsrXT1pO2Vsc2V7aWYoaTwyMDQ4KXJbdCsrXT1pPj42fDE5MjtlbHNle2lmKGk+NTUyOTUmJmk8NTYzMjApe2lmKCsrbj09ZS5sZW5ndGgpdGhyb3ciVVRGLTggZW5jb2RlOiBpbmNvbXBsZXRlIHN1cnJvZ2F0ZSBwYWlyIjt2YXIgbz1lLmNoYXJDb2RlQXQobik7aWYobzw1NjMyMHx8bz41NzM0Myl0aHJvdyJVVEYtOCBlbmNvZGU6IHNlY29uZCBjaGFyIGNvZGUgMHgiK28udG9TdHJpbmcoMTYpKyIgYXQgaW5kZXggIituKyIgaW4gc3Vycm9nYXRlIHBhaXIgb3V0IG9mIHJhbmdlIjtpPTY1NTM2KygoMTAyMyZpKTw8MTApKygxMDIzJm8pLHJbdCsrXT1pPj4xOHwyNDAsclt0KytdPWk+PjEyJjYzfDEyOH1lbHNlCi8vIGMgPD0gMHhmZmZmCnJbdCsrXT1pPj4xMnwyMjQ7clt0KytdPWk+PjYmNjN8MTI4fXJbdCsrXT02MyZpfDEyOH19cmV0dXJuIHIuc3ViYXJyYXkoMCx0KX0KLy8gVW5tYXJzaGFscyBhbiBVaW50OEFycmF5IHRvIHN0cmluZy4KZnVuY3Rpb24gZGVjb2RlVVRGOChlKXtmb3IodmFyIHQ9IiIscj0wO3I8ZS5sZW5ndGg7KXt2YXIgbj1lW3IrK107aWYobj4xMjcpe2lmKG4+MTkxJiZuPDIyNCl7aWYocj49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDItYnl0ZSBzZXF1ZW5jZSI7bj0oMzEmbik8PDZ8NjMmZVtyXX1lbHNlIGlmKG4+MjIzJiZuPDI0MCl7aWYocisxPj1lLmxlbmd0aCl0aHJvdyJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgMy1ieXRlIHNlcXVlbmNlIjtuPSgxNSZuKTw8MTJ8KDYzJmVbcl0pPDw2fDYzJmVbKytyXX1lbHNle2lmKCEobj4yMzkmJm48MjQ4KSl0aHJvdyJVVEYtOCBkZWNvZGU6IHVua25vd24gbXVsdGlieXRlIHN0YXJ0IDB4IituLnRvU3RyaW5nKDE2KSsiIGF0IGluZGV4ICIrKHItMSk7aWYocisyPj1lLmxlbmd0aCl0aHJvdyJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgNC1ieXRlIHNlcXVlbmNlIjtuPSg3Jm4pPDwxOHwoNjMmZVtyXSk8PDEyfCg2MyZlWysrcl0pPDw2fDYzJmVbKytyXX0rK3J9aWYobjw9NjU1MzUpdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuKTtlbHNle2lmKCEobjw9MTExNDExMSkpdGhyb3ciVVRGLTggZGVjb2RlOiBjb2RlIHBvaW50IDB4IituLnRvU3RyaW5nKDE2KSsiIGV4Y2VlZHMgVVRGLTE2IHJlYWNoIjtuLT02NTUzNix0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4+PjEwfDU1Mjk2KSx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEwMjMmbnw1NjMyMCl9fXJldHVybiB0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmVuY29kZVVURjg9ZW5jb2RlVVRGOCx0LmRlY29kZVVURjg9ZGVjb2RlVVRGOH0sLyogNDkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOTYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9cigxNCkseT1yKDk5KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1kLmdldExvZ2dlcigibG9hZGVyIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIExvYWRlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLExvYWRlciksIXQpdGhyb3cgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTtpZighcil0aHJvdyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgRGVzY3JpcHRvciBpbnN0YW5jZSIpO3RoaXMubG9nPXYsdGhpcy5ydW50aW1lQ29uZmlndXJhdGlvbj10LHRoaXMuZGVzY3JpcHRvcnM9cn0vKioKICAgKiBTZXQgcnVudGltZSB1cmwKICAgKiBAcGFyYW0gIHtzdHJpbmd9IHZhbHVlIHJ1bnRpbWVVUkwKICAgKi8KcmV0dXJuKDAsZi5kZWZhdWx0KShMb2FkZXIsW3trZXk6ImxvYWRIeXBlcnR5IiwvKioKICAgICAqIERlcGxveSBIeXBlcnR5IGZyb20gQ2F0YWxvZ3VlIFVSTAogICAgICoKICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9zcGVjcy90cmVlL21hc3Rlci9kYXRhbW9kZWwvY29yZS9hZGRyZXNzCiAgICAgKgogICAgICogQHBhcmFtIHtVUkwuSHlwZXJ0eUNhdGFsb2d1ZVVSTH0gaHlwZXJ0eUNhdGFsb2d1ZVVSTCAtIFRoZSBDYXRhbG9ndWUgVVJMIHVzZWQgdG8gaWRlbnRpZnkgZGVzY3JpcHRvcnMgaW4gdGhlIENhdGFsb2d1ZS4KICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxVUkwuSHlwZXJ0eVVSTH0gW3JldXNlVVJMPWZhbHNlXSByZXVzZVVSTCAtIHJldXNlVVJMIGlzIHVzZWQgdG8gcmV1c2UgdGhlIGh5cGVydHlVUkwgcHJldmlvdXNseSByZWdpc3RyZWQsIGJ5IGRlZmF1bHQgdGhlIHJldXNlIGlzIGRpc2FibGVkOwogICAgICogQHBhcmFtIHtVUkx9IGFwcFVSTCAtIHRoZSBhcHAgdXJsIG9yaWdpbiBhZGRyZXNzOwogICAgICogQHBhcmFtIHtvYmplY3R9IElkcENvbnN0cmFpbnQgLSBjb25zdHJhaW50cyB0byBiZSB1c2VkIHdoZW4gc2VsZWN0aW5nIHRoZSBpZGVudGl0eSB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIEh5cGVydHkgaW5jbHVkaW5nIG9yaWdpbiwgaWRwLCBhbmQgaWRIaW50LgogICAgICogQHJldHVybnMge1Byb21pc2U8Qm9vbGVhbiwgRXJyb3I+fSB0aGlzIGlzIFByb21pc2UgYW5kIHJldHVybnMgdHJ1ZSBpZiBhbGwgY29tcG9uZW50cyBhcmUgbG9hZGVkIHdpdGggc3VjY2VzcyBvciBhbiBlcnJvciBpZiBzb21lb25lIGZhaWxzLgogICAgICoKICAgICAqIEBtZW1iZXJPZiBMb2FkZXIKICAgICAqLwp2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHI9dGhpcyxuPWFyZ3VtZW50c1syXTthcmd1bWVudHNbM107aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gSHlwZXJ0eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obyxzKXt2YXIgYT12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsZj12b2lkIDAsbD0hMSxkPWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBTb21ldGhpbmcgZmFpbGVkIG9uIHRoZSBkZXBsb3kgaHlwZXJ0eTogIixlKSxzKGUpfSx5PWZ1bmN0aW9uKGUpe2w9ITAscyhlKX07Ci8vIEdldCBIeXBlcnR5IGRlc2NyaXB0b3IKLy8gVE9ETzogdGhlIHJlcXVlc3QgTW9kdWxlIHNob3VsZCBiZSBjaGFuZ2VkLAovLyBiZWNhdXNlIGF0IHRoaXMgbW9tZW50IGl0IGlzIGluY29tcGF0aWJsZSB3aXRoIG5vZGVqczsKLy8gUHJvYmFibHkgd2UgbmVlZCB0byBwYXNzIGEgZmFjdG9yeSBsaWtlIHdlIGRvIGZvciBzYW5kYm94ZXM7CnJldHVybiB2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tIEh5cGVydHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEdldCBoeXBlcnR5IGRlc2NyaXB0b3IgZm9yIDoiLGUpLHIuZGVzY3JpcHRvcnMuZ2V0SHlwZXJ0eURlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXsKLy8gYXQgdGhpcyBwb2ludCwgd2UgaGF2ZSBjb21wbGV0ZWQgInN0ZXAgMiBhbmQgMyIgYXMgc2hvd24gaW4gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZAp2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMTogcmV0dXJuIGh5cGVydHkgZGVzY3JpcHRvciIpLAovLyBoeXBlcnR5IGNvbnRhaW5zIHRoZSBmdWxsIHBhdGggb2YgdGhlIGNhdGFsb2d1ZSBVUkwsIGUuZy4KLy8gY2F0YWxvZ3VlLnJldGhpbmsuZXUvLndlbGwta25vd24vLi4uLi4uLi4uLgpjPWU7dmFyIHQ9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT10P2Uuc291cmNlUGFja2FnZTpyLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwodCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMjogcmV0dXJuIGh5cGVydHkgc291cmNlIGNvZGUiKSwKLy8gYXQgdGhpcyBwb2ludCwgd2UgaGF2ZSBjb21wbGV0ZWQgInN0ZXAgNCBhbmQgNSIgYXMgc2hvd24gaW4gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZApmPWU7cmV0dXJuITB9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMzogcmV0dXJuIHBvbGljeSBlbmdpbmUgcmVzdWx0IitlKTsKLy8gdGhpcyB3aWxsIHJldHVybiB0aGUgc2FuZGJveCBvciBvbmUgcHJvbWlzZSB0byBnZXRTYW5kYm94OwpyZXR1cm4gci5yZWdpc3RyeS5nZXRBcHBTYW5kYm94KCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNDogcmV0dXJuIHRoZSBzYW5kYm94IixlKSxlKX0sZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4xOiBUcnkgdG8gcmVnaXN0ZXIgYSBuZXcgc2FuZGJveCIpOwovLyBjaGVjayBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlZCBmb3IgdGhpcyBoeXBlcnR5IGRlc2NyaXB0b3IgdXJsOwovLyBNYWtlIFN0ZXBzIHh4eCAtLS0geHh4Ci8vIEluc3RhbnRpYXRlIHRoZSBTYW5kYm94CnZhciB0PXt9O3JldHVybiBjJiZjLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKHQ9Yy5zdHViQ2FwYWJpbGl0aWVzKSxyLl9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA1OiByZXR1cm4gc2FuZGJveCBhbmQgcmVnaXN0ZXIiKSx1PWU7cmV0dXJuIHIuX2FkZHJlc3NBbGxvY2F0aW9uLmNyZWF0ZShyLl9yZWdpc3RyeS5fZG9tYWluLDEsYywiaHlwZXJ0eSIsdCl9LHkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNjogcmV0dXJuIHRoZSBhZGRyZXNzZXMgZm9yIHRoZSBoeXBlcnR5Iix0KSxyLnJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eSh1LGUsYyx0LG4pKX0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3OiByZWdpc3RyYXRpb24gcmVzdWx0IixlKSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAxNiBvZiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1oeXBlcnR5Lm1kIHJpZ2h0IG5vdy4KYT1lLnVybDsKLy8gRXh0ZW5kIG9yaWdpbmFsIGh5cGVydHkgY29uZmlndXJhdGlvbjsKdmFyIHQ9e307aWYoISgwLHAuZW1wdHlPYmplY3QpKGMuY29uZmlndXJhdGlvbikpdHJ5e3Q9KDAsaS5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKGMuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe3Q9Yy5jb25maWd1cmF0aW9ufXQucnVudGltZVVSTD1yLl9ydW50aW1lVVJMLGUucDJwSGFuZGxlciYmKHQucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIsdC5wMnBSZXF1ZXN0ZXI9ZS5wMnBSZXF1ZXN0ZXIpOwovLyBXZSB3aWxsIGRlcGxveSB0aGUgY29tcG9uZW50IC0gc3RlcCAxNyBvZiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1oeXBlcnR5Lm1kIHJpZ2h0IG5vdy4KdHJ5e3JldHVybiB1LmRlcGxveUNvbXBvbmVudChmLnNvdXJjZUNvZGUsYSx0KX1jYXRjaChlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gRXJyb3Igb24gZGVwbG95IGNvbXBvbmVudDoiLGUpLHMoZSl9fSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDg6IERlcGxveSBjb21wb25lbnQgc3RhdHVzIGZvciBoeXBlcnR5OiAiLGUpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDE5IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93LgovLyBBZGQgdGhlIG1lc3NhZ2UgYnVzIGxpc3RlbmVyIHRvIHRoZSBhcHBTYW5kYm94IG9yIGh5cGVydFNhbmRib3g7CnIubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihhLGZ1bmN0aW9uKGUpe3UucG9zdE1lc3NhZ2UoZSl9KTsKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAyMCBvZiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1oeXBlcnR5Lm1kIHJpZ2h0IG5vdy4KdmFyIHQ9e3J1bnRpbWVIeXBlcnR5VVJMOmEsc3RhdHVzOmV9O3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBIeXBlcnR5OiAiLHQpLG8odCksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMjEgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAtLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpfSx5KS5jYXRjaChkKX0pfX0se2tleToibG9hZFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXVByb3RvU3R1YiBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixvKXsKLy8gdG8gYW5hbHlzZSBpZiBkb21haW4gZm9yIHAycEhhbmRsZXJzIHNob3VsZCBiZSBzb21ldGhpbmcgZWxzZSBhbmQgbm90IHRoZSBkZWZhdWx0IGRvbWFpbiBpdHNlbGYKdmFyIHM9KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbjtzfHwocz1lKTt2YXIgYT12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsZj12b2lkIDAsbD0hMSxkPXZvaWQgMCx5PWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXVNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBwcm90b2NvbHN0dWI6ICIsZSksbyhlKX0saD1mdW5jdGlvbihlKXtsPSEwLG8oZSl9LGc9dm9pZCAwLGI9e307di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIHN0YXJ0aW5nIGxvYWRpbmcgZm9yICIsZSwiIHdpdGggcDJwY29uZmlnICIsdCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IFByb3RvU3R1YiBmb3IgZG9tYWluOiAiLHMpOwovLyBzdGVwIDIgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnRyeXtpZih0KWlmKHQuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmdC5pc0hhbmRsZXJTdHViKQovLyBzdGVwIDYgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCiEwLGQ9ci5ydW50aW1lVVJMLGc9ci5yZWdpc3RyeS5kaXNjb3ZlclAyUFN0dWIoKTtlbHNleyEwO3ZhciBtPXQucmVtb3RlUnVudGltZVVSTDtkPW0sCi8vIHN0ZXAgNCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gc3RlcCA1IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApnPXIucmVnaXN0cnkuZGlzY292ZXJQMlBTdHViKG0pfWVsc2UKLy8gc3RlcCAzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApkPXMsZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUHJvdG9zdHViKHMpOwovLyBJcyByZWdpc3RlZD8Kdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMS4gUHJvdG8gU3R1YiBEaXNjb3ZlcmVkIGZvciAiLGUsIjogIixnKSwKLy8gc3RlcCAyMyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKbihnKSx2LmluZm8oIiBbUnVudGltZS5Mb2FkZXJdLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX1jYXRjaChnKXsKLy8gaXMgbm90IHJlZ2lzdGVkPwp2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0xLiBQcm90byBTdHViIG5vdCBmb3VuZCAiK2cpLAovLyBzdGVwIDggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnIuZGVzY3JpcHRvcnMuZ2V0U3R1YkRlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTIuIHJldHVybiB0aGUgUHJvdG9TdHViIGRlc2NyaXB0b3IiKSwKLy8gc3RlcCA5IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp1PWU7dmFyIHQ9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT10P2Uuc291cmNlUGFja2FnZTpyLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwodCl9LGgpLmNhdGNoKHkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIEFjY29yZGluZyB0byBkZWJ1ZywgaXQgc2VlbXMgUnVudGltZUNhdGFsb2d1ZSBkb2VzIG5vdCBzdXBwb3J0IHlldCBjb25zdHJhaW50cy4gSXQgYXBwZWFycyBlbXB0eSEhISEKLy8gc3RlcCAxMSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKcmV0dXJuIWwmJih1JiZ1LmNvbnN0cmFpbnRzJiYoYj11LmNvbnN0cmFpbnRzKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0zLiByZXR1cm4gdGhlIFByb3RvU3R1YiBTb3VyY2UgQ29kZSIpLGY9ZSxyLnJlZ2lzdHJ5LmdldFNhbmRib3gocyxiKSl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBzdGVwIDE1IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTQuIGlmIHRoZSBzYW5kYm94IGlzIHJlZ2lzdGVyZWQgdGhlbiByZXR1cm4gdGhlIHNhbmRib3ggIixlKSxhPWUsZSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gc3RlcCAxMyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKcmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl01LiBTYW5kYm94IHdhcyBub3QgZm91bmQsIGNyZWF0aW5nIGEgbmV3IG9uZSAiLGUpLHIuX3J1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3goYikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRMaXN0ZW5lcigiKiIsZnVuY3Rpb24oZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSksZX0pKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIHN0ZXAgMTYgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnJldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNi4gcmV0dXJuIHRoZSBzYW5kYm94IGluc3RhbmNlIGFuZCByZWdpc3RlciIsbiwidG8gZG9tYWluICIscyksYT1uLHIucmVnaXN0cnkucmVnaXN0ZXJTdHViKGEsZCx0LGUsdSkpfSxoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7Ci8vIHN0ZXAgMjMgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSA3LiByZXR1cm4gdGhlIHJ1bnRpbWUgcHJvdG9zdHViIHVybDogIixlKSxjPWUudXJsOwovLyBFeHRlbmQgb3JpZ2luYWwgaHlwZXJ0eSBjb25maWd1cmF0aW9uOwp2YXIgbj17fTtpZighKDAscC5lbXB0eU9iamVjdCkodS5jb25maWd1cmF0aW9uKSl0cnl7bj0oMCxpLmRlZmF1bHQpKHt9LEpTT04ucGFyc2UodS5jb25maWd1cmF0aW9uKSl9Y2F0Y2goZSl7bj11LmNvbmZpZ3VyYXRpb259aWYodCl0cnl7bj0oMCxpLmRlZmF1bHQpKG4sSlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7bj0oMCxpLmRlZmF1bHQpKG4sdCl9Ci8vIHJlcXVpcmVkIGZvciBwcm90b3N0dWIgc2Vzc2lvbgpuLnJ1bnRpbWVVUkw9ci5fcnVudGltZVVSTDsKLy8gc3RlcCAyNCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdHJ5ewovLyBzdGVwIDI2IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyBzdGVwIDI3IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyBBZGQgdGhlIG1lc3NhZ2UgYnVzIGxpc3RlbmVyCnJldHVybiB2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gODogYWRkaW5nIHNhbmRib3ggbGlzdGVuZXIgdG8gcHJvdG9zdHViVVJMIDogIixjKSxyLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYyxmdW5jdGlvbihlKXthLnBvc3RNZXNzYWdlKGUpfSksYS5kZXBsb3lDb21wb25lbnQoZi5zb3VyY2VDb2RlLGMsbil9Y2F0Y2goZSl7di5lcnJvcigiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksbyhlKX19LGgpLnRoZW4oZnVuY3Rpb24oKXtpZihsKXJldHVybiExOwovLyBzdGVwIDI4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp2YXIgZT12b2lkIDA7dD8odi5sb2coIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gcDJwQ29uZmlnOiAiLHQpLHQuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmKGU9ci5yZWdpc3RyeS5wMnBIYW5kbGVyU3R1YltyLl9ydW50aW1lVVJMXSksdC5oYXNPd25Qcm9wZXJ0eSgicDJwUmVxdWVzdGVyU3R1YiIpJiYoZT1yLnJlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbdC5yZW1vdGVSdW50aW1lVVJMXSkpOmU9ci5yZWdpc3RyeS5wcm90b3N0dWJzTGlzdFtzXSx2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBTdHViOiAiLGUpLG4oZSksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX0saCkuY2F0Y2goeSl9fSl9fSx7a2V5OiJsb2FkSWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gSWRwUHJveHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbjtvfHwobz1lKTt2YXIgcz12b2lkIDAsYT12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsZj0hMSxsPWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBTb21ldGhpbmcgZmFpbGVkIG9uIHRoZSBkZXBsb3kgb2YgSWRwUHJveHk6ICIsZSksbihlKX0sZD1mdW5jdGlvbihlKXtmPSEwLG4oZSl9OwovLyBEaXNjb3ZlciBJRFBQcm94eQp2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLSBJRFAgUHJveHkgRGVwbG95IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIiksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIERpc2NvdmVyIG9yIENyZWF0ZSBhIG5ldyBJZHBQcm94eSBmb3IgZG9tYWluL1VSTDogIixvKTt0cnl7dmFyIHk9dC5yZWdpc3RyeS5kaXNjb3ZlcklkcFByb3h5KG8pOwovLyBJcyByZWdpc3RlZD8Kdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDEuIElEUFByb3h5IERpc2NvdmVyZWQ6ICIseSk7Ci8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdmFyIGg9dC5yZWdpc3RyeS5pZHBQcm94eUxpc3Rbb107di5sb2coIkRlcGxveWVkOiAiLGgpLHIoaCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9Y2F0Y2goeSl7Ci8vIGlzIG5vdCByZWdpc3RlZD8Kdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDEuIElkcFByb3h5IG5vdCBmb3VuZDoiLHkpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDMgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIHdlIG5lZWQgdG8gZ2V0IFByb3RvU3R1YiBkZXNjcmlwdG9yIHN0ZXAgNCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdC5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMi4gUmV0dXJuIHRoZSBJRFBQcm94eSBkZXNjcmlwdG9yIiksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgNSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKYT1lO3ZhciByPWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09cj9lLnNvdXJjZVBhY2thZ2U6dC5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHIpfSxkKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDMuIHJldHVybiB0aGUgSURQUHJveHkgc291cmNlIHBhY2thZ2UiKSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCA3IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApjPWU7cmV0dXJuITB9LGQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJnQucmVnaXN0cnkuZ2V0U2FuZGJveChvKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCIsZSkscz1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNS4gU2FuZGJveCB3YXMgbm90IGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUiLGUpO3ZhciByPXt9O3JldHVybiBhJiZhLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKGE9YS5zdHViQ2FwYWJpbGl0aWVzKSx0Ll9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3QubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNi4gcmV0dXJuIHRoZSBzYW5kYm94IGluc3RhbmNlIGFuZCByZWdpc3RlciIsZSwidG8gZG9tYWluICIsbykscz1lLHQucmVnaXN0cnkucmVnaXN0ZXJJZHBQcm94eShlLG8pKX0sZCkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3LiBSZXR1cm4gdGhlIHJ1bnRpbWUgSWRwIFByb3h5IFVSTDogIixlKSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCB4eHggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnU9ZTsKLy8gRXh0ZW5kIG9yaWdpbmFsIGh5cGVydHkgY29uZmlndXJhdGlvbjsKdmFyIHI9e307aWYoISgwLHAuZW1wdHlPYmplY3QpKGEuY29uZmlndXJhdGlvbikpdHJ5e3I9KDAsaS5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKGEuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe3I9YS5jb25maWd1cmF0aW9ufXIucnVudGltZVVSTD10Ll9ydW50aW1lVVJMOwovLyBEZXBsb3kgQ29tcG9uZW50IHN0ZXAgeHh4CnRyeXsKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCB4eHggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIEFkZCB0aGUgbWVzc2FnZSBidXMgbGlzdGVuZXIKcmV0dXJuIHQubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcih1LGZ1bmN0aW9uKGUpe3MucG9zdE1lc3NhZ2UoZSl9KSxzLmRlcGxveUNvbXBvbmVudChjLnNvdXJjZUNvZGUsZSxyKX1jYXRjaChlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gRXJyb3Igb24gZGVwbG95IGNvbXBvbmVudDoiLGUpLG4oZSl9fSxkKS50aGVuKGZ1bmN0aW9uKCl7aWYoZilyZXR1cm4hMTsKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCB4eHggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIExvYWQgU3R1YiBmdW5jdGlvbiByZXNvbHZlZCB3aXRoIHN1Y2Nlc3M7Ci8vIGxldCBpZHBQcm94eSA9IHsKLy8gICBydW50aW1lSWRwUHJveHlVUkw6IF9ydW50aW1lSWRwUHJveHlVUkwsCi8vICAgc3RhdHVzOiBkZXBsb3lDb21wb25lbnRTdGF0dXMKLy8gfTsKLy90aGlzLnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtkb21haW5dLnN0YXR1cyA9ICdkZXBsb3llZCc7CnZhciBlPXQucmVnaXN0cnkuaWRwUHJveHlMaXN0W29dO3YubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZElkcFByb3h5XSA4OiBsb2FkZWQ6ICIsZSkscihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkSWRwUHJveHldIC0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9LGQpLmNhdGNoKGwpfX0pfX0se2tleToiX3JlYWR5VG9Vc2UiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3J1bnRpbWVVUkwpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSB1cmwgYWRkcmVzcyIpO2lmKCF0aGlzLl9tZXNzYWdlc0J1cyl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSBtZXNzYWdlQnVzIGNvbXBvbmVudCIpO2lmKCF0aGlzLl9yZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSByZWdpc3RyeSBjb21wb25lbnQiKTtpZighdGhpcy5fcnVudGltZUZhY3RvcnkpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSBmYWN0b3J5IGNvbXBvbmVudCIpO3JldHVybiEwfX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVVUkw9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fSx7a2V5OiJyZWdpc3RyeSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWU7Ci8vIEluc3RhbGwgQWRkcmVzc0FsbG9jYXRpb24KdmFyIHQ9aC5kZWZhdWx0Lmluc3RhbmNlO3RoaXMuX2FkZHJlc3NBbGxvY2F0aW9uPXQsdi5sb2coIltMb2FkZXIgLSBBZGRyZXNzQWxsb2NhdGlvbl0gLSAiLHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9fSx7a2V5OiJtZXNzYWdlQnVzIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZXNCdXM9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VzQnVzfX0se2tleToicnVudGltZUZhY3RvcnkiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ydW50aW1lRmFjdG9yeT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZUZhY3Rvcnl9fV0pLExvYWRlcn0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBzdG9yYWdlKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtyZXR1cm4oMCxpLmRlZmF1bHQpKG8ucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXMpLmZvckVhY2goZnVuY3Rpb24odCl7cy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHNbdF09ZS5zdG9yYWdlTWFuYWdlcih0LG8ucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXNbdF0pKX0pLHN9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzcpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LnN0b3JhZ2U9c3RvcmFnZTt2YXIgbz1yKDE0NCkscz17fX0sLyogNDk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMTQpLGY9cigxNDApLGw9cig3KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obCkscD1kLmdldExvZ2dlcigiRGVzY3JpcHRvcnMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGVzY3JpcHRvcnMoZSx0LHIpe2lmKCgwLHMuZGVmYXVsdCkodGhpcyxEZXNjcmlwdG9ycyksIWUpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSB1cmwgdG8gYmUgdXNlZCIpO2lmKCF0KXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkcyB0aGUgY2F0YWxvZ3VlIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWRzIHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTt0aGlzLmxvZz1wLHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249cix0aGlzLnJ1bnRpbWVVUkw9ZSx0aGlzLmNhdGFsb2d1ZT10LHRoaXMuY29uc3RyYWludHM9Zi5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllc31yZXR1cm4oMCx1LmRlZmF1bHQpKERlc2NyaXB0b3JzLFt7a2V5OiJnZXRIeXBlcnR5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2F0YWxvZ3VlLmdldEh5cGVydHlEZXNjcmlwdG9yKGUsITAsdGhpcy5jb25zdHJhaW50cyl9fSx7a2V5OiJnZXRTdHViRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPXZvaWQgMCxvPXZvaWQgMCxzPXZvaWQgMCxhPSgwLGMuZGl2aWRlVVJMKSh0LnJ1bnRpbWVVUkwpLHU9YS5kb21haW47aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciBmPSgwLGMuZGl2aWRlVVJMKShlKTtpPWYuZG9tYWluO3ZhciBsPWYuaWRlbnRpdHk7bz1sP2wuc3Vic3RyaW5nKGwubGFzdEluZGV4T2YoIi8iKSsxKToiZGVmYXVsdCJ9ZWxzZSBvPSJkZWZhdWx0IixpPWU7aWYocz0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIixvKSxpIT09dC5ydW50aW1lQ29uZmlndXJhdGlvbi5kb21haW4paWYoZS5pbmRleE9mKCJodHRwcyIpJiZlLmluZGV4T2YoImh5cGVydHktY2F0YWxvZ3VlIikpewovLyBUT0RPOiBjaGVjayBob3cgdG8gbG9hZCBmb3JtIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGRvbWFpbgp2YXIgZD0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiKTtzPWQucHJlZml4K2krZC5zdWZmaXgrb31lbHNlIHM9ZTtyZXR1cm4gcC5sb2coIkxvYWQgUHJvdG9jb2xTdHViIGZvciBkb21haW4sICIraSsiIDogIixzKSx0LmNhdGFsb2d1ZS5nZXRTdHViRGVzY3JpcHRvcihzLCEwLHQuY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdFcnJvcjogJywgZXJyb3IpOwpvPWksaT11O3ZhciByPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIpOwovLyBsb2cubG9nKCdGYWxsYmFjayAtPiBMb2FkIFByb3RvY29sc3R1YiBmb3IgZG9tYWluLCAnICsgZG9tYWluICsgJyA6ICcsIHByb3Rvc3R1Yik7CnJldHVybiBzPXIucHJlZml4K2krci5zdWZmaXgrbyx0LmNhdGFsb2d1ZS5nZXRTdHViRGVzY3JpcHRvcihzLCEwLHQuY29uc3RyYWludHMpfSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJnZXRJZHBQcm94eURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT12b2lkIDAsbz12b2lkIDAscz0oMCxjLmRpdmlkZVVSTCkodC5ydW50aW1lVVJMKSxhPXMuZG9tYWluLHU9dC5jb25zdHJhaW50cztpZih1Lm9ubHlBY2Nlc3NUb2tlbj0hMCx1Lm9ubHlJZEFzc2VydGlvblZhbGlkYXRpb249ITAsZS5pbmNsdWRlcygiOi8vIikpe3ZhciBmPSgwLGMuZGl2aWRlVVJMKShlKTtpPWYuZG9tYWluO3ZhciBsPWYuaWRlbnRpdHk7bz1sP2wuc3Vic3RyaW5nKGwubGFzdEluZGV4T2YoIi8iKSsxKToiZGVmYXVsdCJ9ZWxzZSBvPSJkZWZhdWx0IixpPWU7dmFyIGQ9KDAsYy5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwiaWRwUHJveHkiKTsKLy8gbG9nLmxvZygnTG9hZCBJZHAgUHJveHkgZm9yIGRvbWFpbiwgJyArIGRvbWFpbiArICcgOiAnLCBpZHBQcm94eVVSTCk7CnJldHVybiBlPWQucHJlZml4K2krZC5zdWZmaXgrbyx0LmNhdGFsb2d1ZS5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSwhMCx1KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbigpewovLyBsb2cubG9nKCdMb2FkIElkcCBQcm94eSBmb3IgZG9tYWluLCAnICsgZG9tYWluICsgJyA6ICcsIGlkcFByb3h5VVJMKTsKcmV0dXJuIG89aSxpPWEsZT0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwiaWRwUHJveHkiLG8pLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpfSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fV0pLERlc2NyaXB0b3JzfSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9KHIoMjAxKSxyKDcpKSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSksYz11LmdldExvZ2dlcigiUnVudGltZVVBIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIE1zZ0J1c0hhbmRsZXJzKGUsdCxyKXtpZigoMCxpLmRlZmF1bHQpKHRoaXMsTXNnQnVzSGFuZGxlcnMpLCFlKXRocm93IEVycm9yKCJbTXNnQnVzSGFuZGxlcnNdIHBlcCBpbnB1dCBwYXJhbWVudGVyIGlzIG1hbmRhdG9yeSIpO2lmKCF0KXRocm93IEVycm9yKCJbTXNnQnVzSGFuZGxlcnNdIGlkbSBpbnB1dCBwYXJhbWVudGUgaXMgbWFuZGF0b3J5Iik7aWYoIXIpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gY3J5cHRvIGlucHV0IHBhcmFtZW50ZSBpcyBtYW5kYXRvcnkiKTt0aGlzLnBvbGljeUVuZ2luZT1lLHRoaXMuaWRlbnRpdHlNYW5hZ2VyPXQsdGhpcy5jcnlwdG9NYW5hZ2VyPXJ9Ci8vIFBvbGljeSBiYXNlZCBhY2Nlc3MgY29udHJvbCBmb3IgaW5jb21pbmcgbWVzc2FnZXMKcmV0dXJuKDAscy5kZWZhdWx0KShNc2dCdXNIYW5kbGVycyxbe2tleToicGVwSW5IYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UodC5tc2csITApLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToicGVwT3V0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5wb2xpY3lFbmdpbmUuYXV0aG9yaXNlKHQubXNnLCExKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6ImlkbUhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuaWRlbnRpdHlNYW5hZ2VyLnByb2Nlc3NNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6ImVuY3J5cHRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLmNyeXB0b01hbmFnZXIuZW5jcnlwdE1lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiZGVjcnlwdEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuY3J5cHRvTWFuYWdlci5kZWNyeXB0TWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy53YXJuKGUpLHQuZmFpbChlKX0pfX19XSksTXNnQnVzSGFuZGxlcnN9KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDk2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDk3KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWkuZGVmYXVsdCwvLyBsZXQgR3JhcGhDb25uZWN0b3I7Ci8vIGlmIChwcm9jZXNzLmVudi5NT0RFICE9PSAnbGlnaHQnKSB7Ci8vICAgR3JhcGhDb25uZWN0b3IgPSByZXF1aXJlKCcuL0dyYXBoQ29ubmVjdG9yQmFzZScpOwovLyAgIGlmIChHcmFwaENvbm5lY3RvciAmJiBHcmFwaENvbm5lY3Rvci5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpKSBHcmFwaENvbm5lY3RvciA9IEdyYXBoQ29ubmVjdG9yLmRlZmF1bHQ7Ci8vIH0gZWxzZSB7Ci8vICAgR3JhcGhDb25uZWN0b3IgPSByZXF1aXJlKCcuL0dyYXBoQ29ubmVjdG9yTGlnaHQnKTsKLy8gICBpZiAoR3JhcGhDb25uZWN0b3IgJiYgIEdyYXBoQ29ubmVjdG9yLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykpIEdyYXBoQ29ubmVjdG9yID0gR3JhcGhDb25uZWN0b3IuZGVmYXVsdDsKLy8gfQovKioKICogVGhlIEdyYXBoQ29ubmVjdG9yQmFzZSBoYXZlIHNvbWUgcHJvYmxlbXMgd2l0aCB0aGUgc2l6ZTsKICogQGRlcHJlY2F0ZWQgRHVlIHRvIHNvbWUgcHJvYmxlbXMgaW5jcmVhc2UgYSBsb3QgdGhlIGZpbGUgc2l6ZQogKi8KLy8gaW1wb3J0IEdyYXBoQ29ubmVjdG9yIGZyb20gJy4vR3JhcGhDb25uZWN0b3JCYXNlJzsKLyoqCiAqCiAqIEBleHBlcmltZW50YWwgdXNlZCBpbnN0ZWFkIG9mIEdyYXBoQ29ubmVjdG9yQmFzZTsKICovCmUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxvPWZ1bmN0aW9uIEdyYXBoQ29ubmVjdG9yKGUsdCxyKXsoMCxpLmRlZmF1bHQpKHRoaXMsR3JhcGhDb25uZWN0b3IpfTt0LmRlZmF1bHQ9byxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDE0KSxkPWYuZ2V0TG9nZ2VyKCJDb3JlRGlzY292ZXJ5IikscD1mdW5jdGlvbigpey8qKgogICogVG8gaW5pdGlhbGlzZSB0aGUgRGlzY292ZXJ5LCB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHN1cHBvcnQgZm9yIGh5cGVydGllcyB0bwogICogcXVlcnkgdXNlcnMgcmVnaXN0ZXJlZCBpbiBvdXRzaWRlIHRoZSBpbnRlcm5hbCBjb3JlLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1cwogICogQHBhcmFtICB7UnVudGltZVVSTH0gICAgICAgICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkwKICAqIEBwYXJhbSAge2dyYXBoQ29ubmVjdG9yfSAgICBncmFwaENvbm5lY3RvcgogICovCmZ1bmN0aW9uIENvcmVEaXNjb3ZlcnkoZSx0LHIsbixpKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsQ29yZURpc2NvdmVyeSksIW4pdGhyb3cgRXJyb3IoIlRoZSBjYXRhbG9ndWUgbmVlZHMgdGhlIHJ1bnRpbWVGYWN0b3J5Iik7dmFyIG89dGhpczt0aGlzLl9tZXNzYWdlQnVzPXQsby5ncmFwaENvbm5lY3Rvcj1yLG8uaHR0cFJlcXVlc3Q9bi5jcmVhdGVIdHRwUmVxdWVzdCgpLG8uZG9tYWluPSgwLGwuZGl2aWRlVVJMKShlKS5kb21haW4sby5kaXNjb3ZlcnlVUkw9ZSsiL2Rpc2NvdmVyeS8iLG8ucmVnaXN0cnk9aSxvLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoby5kaXNjb3ZlcnlVUkwsZnVuY3Rpb24oZSl7by5kaXNjb3ZlcnlNYW5hZ2VyKGUpLnRoZW4oZnVuY3Rpb24odCl7Ci8vRkxPVy1PVVQ6IG1lc3NhZ2UgcmVzcG9uc2UKby5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOnR9fSl9KS5jYXRjaChmdW5jdGlvbih0KXt2YXIgcj12b2lkIDAsbj12b2lkIDA7IkdyYXBoQ29ubmVjdG9yIj09PXQ/KHI9IlRoaXMgc2VhcmNoIGlzIG5vdCBhdmFpbGFibGUgYXQgdGhlIG1vbWVudC4gVHJ5IGxhdGVyLiIsbj01MDApOihyPSJOb3QgRm91bmQiLG49NDA0KSwKLy9GTE9XLU9VVDogZXJyb3IgbWVzc2FnZSByZXNwb25zZQpvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpuLGRlc2NyaXB0aW9uOnJ9fSl9KX0pfS8qKgogICAqIFJldHVybnMgdGhlIE1lc3NhZ2VCdXMuCiAgICovCnJldHVybigwLHUuZGVmYXVsdCkoQ29yZURpc2NvdmVyeSxbe2tleToiZGlzY292ZXJ5TWFuYWdlciIsLyogZnVuY3Rpb24gdG8gZGVjaWRlIHdoYXQgZGlzY292ZXJ5IG1ldGhvZCB0byBjYWxsIGFuZCBsYXRlciByZXR1cm4gdGhlIHJlc3BvbnNlIG1zZyAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgoMCxsLmRpdmlkZVVSTCkoZS5mcm9tKS5kb21haW4sZS5ib2R5LnJlc291cmNlLnNwbGl0KCIvIikuZmlsdGVyKEJvb2xlYW4pKSxuPVtdLG89W107c3dpdGNoKGQubG9nKCJbQ29yZURpc2NvdmVyeS5kaXNjb3ZlcnlNYW5hZ2VyXSByZWNlaXZlZDogIixlKSxlLmJvZHkuY3JpdGVyaWEmJihlLmJvZHkuY3JpdGVyaWEucmVzb3VyY2VzJiYobj1lLmJvZHkuY3JpdGVyaWEucmVzb3VyY2VzKSxlLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXMmJihvPWUuYm9keS5jcml0ZXJpYS5kYXRhU2NoZW1lcykpLHJbMV0pe2Nhc2UidXNlciI6cmV0dXJuImh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXMoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VyLyIpWzFdLG8sbixlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTp0LmRpc2NvdmVyRGF0YU9iamVjdHMoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VyLyIpWzFdLG8sbixlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlInVybCI6cmV0dXJuImh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnR5UGVyVVJMKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXJsLyIpWzFdLGUuYm9keS5jcml0ZXJpYS5kb21haW4pOnQuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXJsLyIpWzFdLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UibmFtZSI6cmV0dXJuIHQuZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJuYW1lLyIpWzFdLG8sbixlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlInJlcG9ydGVyIjpyZXR1cm4gdC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJyZXBvcnRlci8iKVsxXSxvLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJndWlkIjpyZXR1cm4gdm9pZCAwIT09dC5ncmFwaENvbm5lY3RvciYmbnVsbCE9PXQuZ3JhcGhDb25uZWN0b3I/Imh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci1ndWlkOi8vIilbMV0sbyxuKTp0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci1ndWlkOi8vIilbMV0sbyxuKTppLmRlZmF1bHQucmVqZWN0KCJHcmFwaENvbm5lY3RvciIpO2Nhc2UidXNlcnByb2ZpbGUiOnJldHVybiB2b2lkIDAhPT10LmdyYXBoQ29ubmVjdG9yJiZudWxsIT09dC5ncmFwaENvbm5lY3Rvcj8iaHlwZXJ0eSI9PXJbMF0/dC5kaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXJwcm9maWxlLyIpWzFdLG8sbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVXNlclByb2ZpbGVEYXRhKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlcnByb2ZpbGUvIilbMV0sbyxuKTppLmRlZmF1bHQucmVqZWN0KCJHcmFwaENvbm5lY3RvciIpfX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihvLHMpewovL3RyYW5zbGF0ZSB1c2VyIGlkZW50aWZpZXIgKGUuZy4gZW1haWwsIG5hbWUuLi4pIGludG8gdGhlIGFzc29jaWF0ZWQgR1VJRHMKbi5kaXNjb3ZlckdVSURQZXJVc2VySWRlbnRpZmllcihlKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBhPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5kaXNjb3Zlckh5cGVydGllc1BlckdVSUQoZSx0LHIpLnRoZW4oZnVuY3Rpb24oZSl7aShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koW10pfSl9KX0pO2kuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBzKCJObyBoeXBlcnRpZXMgd2VyZSBmb3VuZCIpO28odCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7Ci8vdHJhbnNsYXRlIHVzZXIgaWRlbnRpZmllciAoZS5nLiBlbWFpbCwgbmFtZS4uLikgaW50byB0aGUgYXNzb2NpYXRlZCBHVUlEcwpuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKFtdKX0pfSl9KTtpLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpO28odCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obyxzKXsKLy90cmFuc2xhdGUgR1VJRCBpbnRvIHRoZSB1c2VyIElEcyB0byBxdWVyeSB0aGUgZG9tYWluIHJlZ2lzdHJ5Cm4uZGlzY292ZXJVc2VySWRzUGVyR1VJRChlKS50aGVuKGZ1bmN0aW9uKGUpewovL3RyYW5zbGF0ZSB1c2VyIElEcyBpbnRvIHRoZSBhc3NvY2lhdGVkIGh5cGVydGllcyByZWdpc3RlcmVkIGluIHNvbWUgZG9tYWluCnZhciBhPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7bi5kaXNjb3Zlckh5cGVydGllcyhlLnVJRCx0LHIsZS5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7aShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koW10pfSl9KX0pO2kuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBzKCJObyBoeXBlcnRpZXMgd2VyZSBmb3VuZCIpOwovLyBsb2cubG9nKCdIeXBlcnRpZXMgOiAnLCBoeXBlcnRpZXMpOwpvKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obyxzKXsKLy90cmFuc2xhdGUgR1VJRCBpbnRvIHRoZSB1c2VyIElEcyB0byBxdWVyeSB0aGUgZG9tYWluIHJlZ2lzdHJ5Cm4uZGlzY292ZXJVc2VySWRzUGVyR1VJRChlKS50aGVuKGZ1bmN0aW9uKGUpewovL3RyYW5zbGF0ZSB1c2VyIElEcyBpbnRvIHRoZSBhc3NvY2lhdGVkIGRhdGFPYmplY3RzIHJlZ2lzdGVyZWQgaW4gc29tZSBkb21haW4KdmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLmRpc2NvdmVyRGF0YU9iamVjdHMoZS51SUQsdCxyLGUuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKFtdKX0pfSl9KTtpLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpOwovLyBsb2cubG9nKCdEYXRhT2JqZWN0cyA6ICcsIGRhdGFPYmplY3RzKTsKbyh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDA7cz1ufHxvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzLGJvZHk6e319O3JldHVybiBlLmluZGV4T2YoInVzZXI6Ly8iKT4tMT9hLmJvZHkucmVzb3VyY2U9ZTphLmJvZHkucmVzb3VyY2U9Ii9oeXBlcnR5L2lkcC1pZGVudGlmaWVyLyIrZSx0Lmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7Ci8vIGxvZy5sb2coIltDb3JlRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSBzZW5kaW5nIG1zZyAiLCBtc2cpOwpvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihyKXsKLy8gbG9nLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIHJjdmVkIHJlcGx5ICIsIHJlcGx5KTsKaWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZSxpPVtdO2Zvcih2YXIgbyBpbiBuKWkucHVzaChuW29dKTtpZighKGkubGVuZ3RoPjApKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpOwovLyBsb2cubG9nKCJbQ29yZURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc10gSHlwZXJ0aWVzIEZvdW5kOiAiLCBmaW5hbEh5cGVydGllcyk7CmUoaSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMCxhPVtdO3JldHVybiBzPW58fG8uZG9tYWluLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obix1KXsKLy90cmFuc2xhdGUgdXNlciBpZGVudGlmaWVyIChlLmcuIGVtYWlsLCBuYW1lLi4uKSBpbnRvIHRoZSBhc3NvY2lhdGVkIGh5cGVydGllcwpvLmRpc2NvdmVySHlwZXJ0aWVzKGUsW10sW10scykudGhlbihmdW5jdGlvbihlKXt2YXIgYz1bXTtmb3IodmFyIGYgaW4gZSljLnB1c2goZVtmXSk7Ly90cmFuc2xhdGUgaHlwZXJ0aWVzIFVSTHMgaW50byB0aGUgYXNzb2NpYXRlZCBkYXRhT2JqZWN0cyByZWdpc3RlcmVkIGluIHNvbWUgZG9tYWluCnZhciBsPWMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7by5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIoZS5oeXBlcnR5SUQsdCxyLHMpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oW10pfSl9KX0pO2kuZGVmYXVsdC5hbGwobCkudGhlbihmdW5jdGlvbihlKXtbXS5jb25jYXQuYXBwbHkoW10sZSkuZm9yRWFjaChmdW5jdGlvbihlKXthLnB1c2goZSl9KTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gYSl0LnB1c2goYVtyXSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiB1KCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7Ci8vIGxvZy5sb2coJ0RhdGFPYmplY3RzIEZvdW5kOiAnLCBmaW5hbERhdGFPYmplY3RzKTsKbih0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10fHxyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe2lmKDIwMCE9PXIuYm9keS5jb2RlJiY1MDAhPT1yLmJvZHkuY29kZSlyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTt2YXIgbj1yLmJvZHkudmFsdWU7aWYoIW4pcmV0dXJuIHQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik7Ci8vIGxvZy5sb2coJ0h5cGVydHkgZm91bmQ6ICcsIGh5cGVydHkpOwplKG4pfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIG89e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7aWYoIW4pcmV0dXJuIHQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIik7Ci8vIGxvZy5sb2coJ0RhdGFPYmplY3QgZm91bmQ6ICcsIGRhdGFPYmplY3QpOwplKG4pfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bnx8by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcyxib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIHQubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWF8fChhLmJvZHkuY3JpdGVyaWE9e30pLGEuYm9keS5jcml0ZXJpYS5kYXRhU2NoZW1lcz10KSxyLmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEucmVzb3VyY2VzPXIpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUsaT1bXTtmb3IodmFyIG8gaW4gbilpLnB1c2gobltvXSk7aWYoIShpLmxlbmd0aD4wKSlyZXR1cm4gdCgiTm8gRGF0YU9iamVjdCB3YXMgZm91bmQiKTsKLy8gbG9nLmxvZygiRGF0YU9iamVjdHMgRm91bmQ6ICIsIGZpbmFsRGF0YU9iamVjdHMpOwplKGkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMDtzPW58fG8uZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MsYm9keTp7cmVzb3VyY2U6Ii9jb21tIixjcml0ZXJpYTp7cmVwb3J0ZXI6ZX19fTtyZXR1cm4gdC5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYS5kYXRhU2NoZW1lcz10KSxyLmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7by5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLGk9W107Zm9yKHZhciBvIGluIG4paS5wdXNoKG5bb10pO2lmKCEoaS5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIik7Ci8vIGxvZy5sb2coIkRhdGFPYmplY3RzIEZvdW5kOiAiLCBmaW5hbERhdGFPYmplY3RzKTsKZShpKX0pfSl9fSx7a2V5OiJkaXNjb3ZlclVzZXJJZHNQZXJHVUlEIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7Ci8vIGxvZy5sb2coIkdPIGdyYXBoQ29ubmVjdG9yOiIsIGd1aWQpOwp0LmdyYXBoQ29ubmVjdG9yLnF1ZXJ5R2xvYmFsUmVnaXN0cnkoZSkudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnSW5mb3JtYXRpb24gcmV0dXJuZWQgZnJvbSBHbG9iYWwgUmVnaXN0cnk6ICcsIGdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEpOwppZigic3RyaW5nIj09dHlwZW9mIGV8fCFlKXJldHVybiBuKCJVbnN1Y2Nlc3NmdWwgZGlzY292ZXIgdXNlcklEcyBieSBHVUlEIik7dmFyIHQ9ZS51c2VySURzO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gbigiVXNlcklEcyBub3QgYXZhaWxhYmxlIik7cih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5odHRwUmVxdWVzdC5nZXQoImh0dHBzOi8vcmV0aGluay50bGFic2Nsb3VkLmNvbS9kaXNjb3ZlcnkvcmVzdC9kaXNjb3Zlci9sb29rdXA/c2VhcmNocXVlcnk9IitlKS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdkaXNjb3ZlciBHVUlEIGJ5IHVzZXIgaWRlbnRpZmllcicsIGpzb24pOwp2YXIgdD1KU09OLnBhcnNlKGUpLGk9dC5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lLnJldGhpbmtJRH0pO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4gbigiVW5zdWNjZXNzZnVsIGRpc2NvdmVyIEdVSUQgYnkgdXNlciBpZGVudGlmaWVyIik7dmFyIG89aS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV0aGlua0lEfSk7cmV0dXJuIHIobyl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygiSFRUUCBSZXF1ZXN0IGVycm9yOiAiLCBlcnIpOwpyZXR1cm4gbihlKX0pfSl9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VCdXM9ZX19XSksQ29yZURpc2NvdmVyeX0oKTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMzcpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoOSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig5OCksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig5NiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigxKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNyksYj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGcpLG09cigxNCksXz1iLmdldExvZ2dlcigiRGF0YU9iamVjdHNTdG9yYWdlIiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGFPYmplY3RzU3RvcmFnZShlLHQpe2lmKCgwLHkuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0c1N0b3JhZ2UpLCFlKXRocm93IG5ldyBFcnJvcigiW1N0b3JlIERhdGEgT2JqZWN0c10gLSBOZWVkcyB0aGUgc3RvcmFnZU1hbmFnZXIgY29tcG9uZW50Iik7dGhpcy5fc3RvcmFnZU1hbmFnZXI9ZSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9dCx0aGlzLl9jYWNoZT17fX0vKioKICAgKiBAZGVzY3JpcHRpb24gc2hvdWxkIHNldCB0aGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgZGF0YU9iamVjdFVSTCB0byBiZSByZXN1bWVkIGlmIG5lY2Vzc2FyeTsKICAgKgogICAqIEBwYXJhbSB7RGF0YU9iamVjdFVSTH0gdXJsIC0gZGF0YU9iamVjdFVSTCB0byBiZSBzYXZlZDsKICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzUmVwb3J0ZXIgLSB0aGUgb2JqZWN0IHRvIGJlIHNhdmVkIGlzIGEgcmVwb3J0ZXIKICAgKiBAcGFyYW0ge1NjaGVtYVVSTH0gc2NoZW1hIC0gdGhlIHNjaGVtYSB1cmwKICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdHVzIC0gdGhlIHN0YXR1cyBvZiBjdXJyZW50IGRhdGFPYmplY3QKICAgKiBAcGFyYW0ge0h5cGVydHlVUkx9IHJlcG9ydGVyIC0gdGhlIFJlcG9ydGVyIGh5cGVydHlVUkwKICAgKiBAcGFyYW0ge0FycmF5PEh5cGVydHlVUkw+fSBzdWJzY3JpcHRpb24gLSBsaXN0IG9mIHN1YnNjcmlwdGlvbnMKICAgKiBAcGFyYW0ge0FycmF5PERhdGFPYmplY3RDaGlsZD59IGNoaWxkcmVuIC0gbGlzdCBvZiBjaGlsZHMgb2YgZGF0YU9iamVjdFVSTAogICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gY2hpbGRyZW5zIC0gbGlzdCBvZiBjaGlsZHJlbnMsIGxpa2UsICdjaGF0bWVzc2FnZSc7CiAgICogQHBhcmFtIHtBcnJheTxVc2VyVVJMfSBzdWJzY3JpYmVyVXNlciAtIGxpc3Qgb2Ygc3Vic2NyaWJlZCB1c2VyczsKICAgKi8KcmV0dXJuKDAsdi5kZWZhdWx0KShEYXRhT2JqZWN0c1N0b3JhZ2UsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LHI9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUuaXNSZXBvcnRlcik7Ly8gVE9ETzpkbyB3ZSBuZWVkIHRoaXM/Ci8vIFRPRE86ZG8gd2UgbmVlZCB0aGlzPwovKmlmIChzY2hlbWEpIHN0b3JlRGF0YU9iamVjdFt0eXBlXVttZXRhZGF0YS51cmxdLnNjaGVtYSA9IHNjaGVtYTsKICAgICAgaWYgKHN0YXR1cykgc3RvcmVEYXRhT2JqZWN0W3R5cGVdW21ldGFkYXRhLnVybF0uc3RhdHVzID0gc3RhdHVzOwogICAgICBpZiAoY2hpbGRyZW5SZXNvdXJjZXMpIHN0b3JlRGF0YU9iamVjdFt0eXBlXVttZXRhZGF0YS51cmxdLmNoaWxkcmVuUmVzb3VyY2VzID0gY2hpbGRyZW5SZXNvdXJjZXM7Ki8KLy8gVE9ETzogZG8gd2UgbmVlZCB0aGlzPwovL3N0b3JlRGF0YU9iamVjdFt0eXBlXVttZXRhZGF0YS51cmxdLm93bmVyID0gb3duZXI7CnJldHVybiB0Lmhhc093blByb3BlcnR5KHIpfHwodFtyXT17fSksdFtyXS5oYXNPd25Qcm9wZXJ0eShlLnVybCl8fCh0W3JdW2UudXJsXT17fSx0W3JdW2UudXJsXS5zdWJzY3JpcHRpb25zPVtdLHRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2Vycz1bXSx0W3JdW2UudXJsXS5jaGlsZHJlbk9iamVjdHM9e30sdFtyXVtlLnVybF0uZGF0YT17fSksKDAsZC5kZWZhdWx0KSh0W3JdW2UudXJsXSxlKSxkZWxldGUgdFtyXVtlLnVybF0uc3Vic2NyaWJlclVzZXIsZGVsZXRlIHRbcl1bZS51cmxdLnN1YnNjcmliZXJIeXBlcnR5LGUuc3Vic2NyaWJlckh5cGVydHkmJiFlLmlzUmVwb3J0ZXImJnRoaXMuX3VwZGF0ZVRvQXJyYXkodFtyXSxlLnVybCwic3Vic2NyaXB0aW9ucyIsZS5zdWJzY3JpYmVySHlwZXJ0eSksZS5zdWJzY3JpYmVyVXNlciYmdFtyXVtlLnVybF0uc3Vic2NyaWJlclVzZXJzLmluZGV4T2YoZS5zdWJzY3JpYmVyVXNlcikmJnRoaXMuX3VwZGF0ZVRvQXJyYXkodFtyXSxlLnVybCwic3Vic2NyaWJlclVzZXJzIixlLnN1YnNjcmliZXJVc2VyKSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9dCx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsdCksdFtyXVtlLnVybF19fSx7a2V5OiJzYXZlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LG89dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFpfHwhaVtvXXx8IWlbb11bdF0pcmV0dXJuIHZvaWQgXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZSBkYXRhXSAtIG5vdCBzYXZlZCIpO2lmKF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmVEYXRhXSAtICIsZSxvLHQscixuKSxpW29dW3RdLmhhc093blByb3BlcnR5KCJkYXRhIil8fChpW29dW3RdLmRhdGE9e30pLHIpe3ZhciBzPXZvaWQgMDtzPSJvYmplY3QiPT09KHZvaWQgMD09PW4/InVuZGVmaW5lZCI6KDAsZi5kZWZhdWx0KShuKSk/KDAsbS5kZWVwQ2xvbmUpKG4pOm4sKDAsbS5hc3NpZ24pKGlbb11bdF0uZGF0YSxyLHMpfWVsc2UgaVtvXVt0XS5kYXRhPSgwLG0uZGVlcENsb25lKShuKXx8e307cmV0dXJuIHRoaXMuX3N0b3JlRGF0YU9iamVjdD1pLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSxpW29dW3RdfX0se2tleToic2F2ZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LG89dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO3JldHVybiBpJiZpW29dJiZpW29dW3RdPyhpW29dW3RdLmhhc093blByb3BlcnR5KCJjaGlsZHJlbnMiKXx8KGlbb11bdF0uY2hpbGRyZW5PYmplY3RzPXt9KSxyPygwLG0uYXNzaWduKShpW29dW3RdLmNoaWxkcmVuT2JqZWN0cyxyLCgwLG0uZGVlcENsb25lKShuKSk6aVtvXVt0XS5jaGlsZHJlbk9iamVjdHM9KDAsbS5kZWVwQ2xvbmUpKG4pfHx7fSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9aSx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksaVtvXVt0XSk6dm9pZCBfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBzYXZlIGNoaWxkcmVuc10gLSBub3Qgc2F2ZWQiKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LG89dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFpfHwhaVtvXXx8IWlbb11bdF0pcmV0dXJuIHZvaWQgXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gdXBkYXRlXSAtIG5vdCBzYXZlZCIpO2lmKF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHVwZGF0ZV0gLSAiLGUsbyx0LHIsbiksaVtvXSYmaVtvXVt0XSYmdCYmciYmbil7aWYoInN1YnNjcmlwdGlvbnMiPT09cnx8InN1YnNjcmliZXJVc2VycyI9PT1yKXt2YXIgcz0hMDsic3Vic2NyaXB0aW9ucyI9PT1yJiYocz0hdGhpcy5faXNPd25lcihpW29dW3RdLG4pKSxzJiZ0aGlzLl91cGRhdGVUb0FycmF5KGlbb10sdCxyLG4pfWVsc2UgaVtvXVt0XVtyXT1uO3JldHVybiB0aGlzLl9zdG9yZURhdGFPYmplY3Q9aSx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksaVtvXVt0XX19fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxvPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtyZXR1cm4gaSYmaVtvXSYmaVtvXVt0XT9pW29dJiZpW29dW3RdJiZ0JiZyJiZuPygic3Vic2NyaXB0aW9ucyI9PT1yfHwic3Vic2NyaWJlclVzZXJzIj09PXI/dGhpcy5fcmVtb3ZlRnJvbUFycmF5KGlbb10sdCxyLG4pOmRlbGV0ZSBpW29dW3RdW3JdLHRoaXMuX3N0b3JlRGF0YU9iamVjdD1pLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSxpW29dW3RdKTp2b2lkIDA6dm9pZCBfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBkZWxldGVdIC0gbm90IHNhdmVkIil9fSx7a2V5OiJkZWxldGVSZXNvdXJjZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGUpcmV0dXJuIHQuZ2V0QWxsKCkudGhlbihmdW5jdGlvbihuKXt2YXIgaT0oMCxkLmRlZmF1bHQpKG4sdC5fc3RvcmVEYXRhT2JqZWN0fHx7fSk7cmV0dXJuIGkuaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpJiZpLm9ic2VydmVycy5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIGkub2JzZXJ2ZXJzW2VdLHQuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSx0Ll9zdG9yZURhdGFPYmplY3Q9aSxyKGkub2JzZXJ2ZXJzW2VdKSk6aS5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIikmJmkucmVwb3J0ZXJzLmhhc093blByb3BlcnR5KGUpPyhkZWxldGUgaS5yZXBvcnRlcnNbZV0sdC5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLHQuX3N0b3JlRGF0YU9iamVjdD1pLHIoaS5yZXBvcnRlcnNbZV0pKTp2b2lkIHIoIlRoZSAiK2UrIiBkb3Nlblx0IGV4aXN0cywgbm90aGluZyB3YXMgZGVsZXRlZCIpfSk7bihuZXcgRXJyb3IoIltTdG9yZURhdGFPYmplY3RzXSAtIENhbid0IGRlbGV0ZSB0aGlzICIrZSkpfSl9fSx7a2V5OiJnZXRBbGwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLmdldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIpfX0se2tleToiZ2V0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX3N0b3JhZ2VNYW5hZ2VyLmdldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9dC5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIik/dC5vYnNlcnZlcnM6e30sbz10Lmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKT90LnJlcG9ydGVyczp7fSxhPSgwLHMuZGVmYXVsdCkobykuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSx1PSgwLHMuZGVmYXVsdCkoaSkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSxjPXZvaWQgMDtyZXR1cm4gdSYmKGM9dC5vYnNlcnZlcnNbdV0pLGEmJihjPXQucmVwb3J0ZXJzW2FdKSxfLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSBmb3Igb2JzZXJ2ZXI6ICIsdSksXy5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gZm9yIHJlcG9ydGVyczogIixhKSxfLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSByZXNvbHZlOiAiLGMpLGM/cihjKTpuKCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9KX19LHtrZXk6ImdldFJlc291cmNlc0J5Q3JpdGVyaWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgaT1yLl9nZXRUeXBlT2ZPYmplY3QodCk7ci5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBfLmxvZygiW0RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhXSBkb24ndCBoYXZlIHN0b3JlZCBkYXRhIG9iamVjdHMiKSxuKG51bGwpO2lmKGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWUpcmV0dXJuIG4obnVsbCk7Ci8vIGNoZWNrIGlmIHRoZSBtZXNzYWdlIGhhdmUgb3RoZXIgY3JpdGVyaWEKLy8gaWYgbm90IHNlYXJjaCBmb3Igb24gdGhlICdmcm9tJyBvZiB0aGUgbWVzc2FnZS4KdmFyIG89W10scz1yLl9oYXNTdWJzY3JpcHRpb24odFtpXSxlLmZyb20pLGE9ci5fc2VhcmNoT3duZXIodFtpXSxlLmZyb20pO2lmKF8ubG9nKCJbU3RvcmVkRGF0YU9iamVjdHMgLSBnZXRSZXNvdXJjZXNCeUNyaXRlcmlhXToiLHQsZSxzLGEpLCEoZS5oYXNPd25Qcm9wZXJ0eSgiZnJvbSIpJiZzfHxhKSlyZXR1cm4gbihudWxsKTt2YXIgdT12b2lkIDA7dT1hP3IuX2dldFJlc291cmNlc0J5T3duZXIodFtpXSxlLmZyb20pOnIuX2dldFJlc291cmNlc0J5U3Vic2NyaXB0aW9uKHRbaV0sZS5mcm9tKTt2YXIgYz1bXTtlLmJvZHkmJmUuYm9keS5pZGVudGl0eSYmKGM9ci5fZ2V0UmVzb3VyY2VzQnlJZGVudGl0eSh0W2ldLGUuYm9keS5pZGVudGl0eSkpOwovL1RPRE86IHJlbW92ZSBzY2hlbWEgc2luY2UgbWV0YWRhdGEgYWxyZWFkeSBpbmNsdWRlcyB0aGUgc2NoZW1hPwp2YXIgZj1bXTtlLmJvZHkmJmUuYm9keS5zY2hlbWEmJihmPXIuX2dldFJlc291cmNlc0J5U2NoZW1hKHRbaV0sZS5ib2R5LnNjaGVtYSkpO3ZhciBsPVtdO2lmKGUuYm9keSYmZS5ib2R5LnZhbHVlKXt2YXIgZD1lLmJvZHkudmFsdWU7ZGVsZXRlIGQuZGF0YSxsPXIuX2dldFJlc291cmNlc0J5TWV0YWRhdGEodFtpXSxkKX12YXIgcD1bXTtlLmJvZHkmJmUuYm9keS52YWx1ZSYmZS5ib2R5LnZhbHVlLmRhdGEmJihwPXIuX2dldFJlc291cmNlc0J5RGF0YSh0W2ldLGUuYm9keS52YWx1ZS5kYXRhKSksCi8vIHlvdSBjYW4gcGFzcyBhcyBhcnJheXMgYXMgeW91IHdhbnQuLiBpdCB3aWxsIGJlIG1lcmdlZCBpbiBvbiBwbGFjZQovLyByZW1vdmVkIGR1cGxpY2F0ZXM7Cm89ci5faW50ZXJzZWN0aW9uKHUsYyxmLHAsbCk7dmFyIHk9e307by5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXRbaV1bZV07cmV0dXJuIHlbZV09cix5fSksXy5sb2coIltTdG9yZSBEYXRhIE9iamVjdHNdIC0gIix5KSxuKHkpfSl9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeUlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmliZXJVc2Vycy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5yZXBvcnRlcj09PXR9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeVNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdO3JldHVybigwLHMuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJzY2hlbWEiPT09ZSYmbltlXT09PXR9KS5sZW5ndGh9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeU1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0PygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7Ci8vIHNlYXJjaCBvbiBzdG9yZURhdGFPYmplY3RzIGZvciBzcGVjaWZpYyBrZXkgcHJvdmlkZWQgZnJvbSBkYXRhOwpyZXR1cm4oMCxzLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZT09PXImJm5bZV09PT10W3JdfSkubGVuZ3RofSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0PygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl0uaGFzT3duUHJvcGVydHkoImRhdGEiKT9lW3JdLmRhdGE6e307cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7Ci8vIHNlYXJjaCBvbiBzdG9yZURhdGFPYmplY3RzIGZvciBzcGVjaWZpYyBrZXkgcHJvdmlkZWQgZnJvbSBkYXRhOwpyZXR1cm4oMCxzLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZT09PXImJm5bZV09PT10W3JdfSkubGVuZ3RofSkubGVuZ3RofSk6W119fSx7a2V5OiJfaGFzU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmKDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaXB0aW9ucy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSkubGVuZ3RoPjB9fSx7a2V5OiJfc2VhcmNoT3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiYoMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5yZXBvcnRlcj09PXR9KS5sZW5ndGg+MH19LHtrZXk6Il9pc093bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmZS5yZXBvcnRlcj09PXR9fSx7a2V5OiJfaW50ZXJzZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSgwLGkuZGVmYXVsdCkoYXJndW1lbnRzKSx0PWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSkuZmlsdGVyKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pO3JldHVybiBfLmxvZygiRGF0YU9iamVjdHNTdG9yYWdlLl9pbnRlcnNlY3Rpb25dIFJlc3VsdCBhbiB1bmlxdWUgYXJyYXkgb2Ygc3RyaW5nczogIix0KSx0fX0se2tleToiX3VwZGF0ZVRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe18ubG9nKCJbRGF0YU9iamVjdHNTdG9yYWdlXSAtIF91cGRhdGVUb0FycmF5OiAiLGUsdCxyLG4pLC0xPT09ZVt0XVtyXS5pbmRleE9mKG4pJiZlW3RdW3JdLnB1c2gobil9fSx7a2V5OiJfcmVtb3ZlRnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1lW3RdW3JdLmluZGV4T2Yobik7LTE9PT1pJiZlW3RdW3JdLnNwbGljZShpLDEpfX0se2tleToiX2hhc1ZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkodCkmJmVbdF09PT1yfX0se2tleToiX2dldFR5cGVPZk9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InJlcG9ydGVycyI6Im9ic2VydmVycyJ9fV0pLERhdGFPYmplY3RzU3RvcmFnZX0oKTt0LmRlZmF1bHQ9UixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMTI4KSxyKDUwMSksZS5leHBvcnRzPXIoMTMpLkFycmF5LmZyb219LC8qIDUwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNjUpLGk9cigyMSksbz1yKDc2KSxzPXIoMTkyKSxhPXIoMTkzKSx1PXIoMTM0KSxjPXIoNTAyKSxmPXIoMTk0KTtpKGkuUytpLkYqIXIoMTk5KShmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSksIkFycmF5Iix7Ci8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCkKZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLGksbCxkPW8oZSkscD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHk9YXJndW1lbnRzLmxlbmd0aCxoPXk+MT9hcmd1bWVudHNbMV06dm9pZCAwLHY9dm9pZCAwIT09aCxnPTAsYj1mKGQpOwovLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2UKaWYodiYmKGg9bihoLHk+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSx2b2lkIDA9PWJ8fHA9PUFycmF5JiZhKGIpKWZvcih0PXUoZC5sZW5ndGgpLHI9bmV3IHAodCk7dD5nO2crKyljKHIsZyx2P2goZFtnXSxnKTpkW2ddKTtlbHNlIGZvcihsPWIuY2FsbChkKSxyPW5ldyBwOyEoaT1sLm5leHQoKSkuZG9uZTtnKyspYyhyLGcsdj9zKGwsaCxbaS52YWx1ZSxnXSwhMCk6aS52YWx1ZSk7cmV0dXJuIHIubGVuZ3RoPWcscn19KX0sLyogNTAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MCksaT1yKDczKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3QgaW4gZT9uLmYoZSx0LGkoMCxyKSk6ZVt0XT1yfX0sLyogNTAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9cigxNCkseT1yKDUwNCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIkh5cGVydHlSZXNvdXJjZXNTdG9yYWdlIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlKGUsdCxyLG4pe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSksIXIpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UgY29uc3RydWN0b3JdIG1hbmRhdG9yeSBzdG9yYWdlTWFuYWdlciBwYXJhbWV0ZXIgbWlzc2luZyIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgcnVudGltZVVSTCBwYXJhbWV0ZXIgbWlzc2luZyIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgYnVzIHBhcmFtZXRlciBtaXNzaW5nIik7dmFyIGk9dGhpcztpLl9idXM9dCxpLl9zdG9yYWdlTGltaXQ9LjksLy8gdGhlIHNhdmUgc3RvcmFnZUxpbWl0OwppLl91cmw9ZSsiL3N0b3JhZ2UiLGkuX3N0b3JhZ2VNYW5hZ2VyPXIsaS5wcm9taXNlUXVldWU9bmV3IGguZGVmYXVsdCxpLl9oeXBlcnR5UmVzb3VyY2VzPW4sdC5hZGRMaXN0ZW5lcihpLl91cmwsZnVuY3Rpb24oZSl7c3dpdGNoKHYuaW5mbygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlXSBNZXNzYWdlIFJDVjogIixlKSxlLnR5cGUpe2Nhc2UiY3JlYXRlIjppLl9vbkNyZWF0ZShlKTticmVhaztjYXNlInJlYWQiOmkuX29uUmVhZChlKTticmVhaztjYXNlImRlbGV0ZSI6aS5fb25EZWxldGUoZSl9fSl9LyoqCiAgICogY2hlY2sgdGhlIGF2YWlsYWJsZSBzdG9yYWdlIHF1b3RhCiAgICoKICAgKiBAbWVtYmVyb2YgSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UKICAgKi8KcmV0dXJuKDAsZi5kZWZhdWx0KShIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSxbe2tleToiY2hlY2tTdG9yYWdlUXVvdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbih0LHIpe2lmKGUuX2F2YWlsYWJsZVF1b3RhJiZlLl91c2FnZSlyZXR1cm4gdCgoMCxwLmF2YWlsYWJsZVNwYWNlKShlLl91c2FnZSxlLl9hdmFpbGFibGVRdW90YSkpO25hdmlnYXRvciYmbmF2aWdhdG9yLnN0b3JhZ2UuZXN0aW1hdGUoKS50aGVuKGZ1bmN0aW9uKHIpe2UuX2F2YWlsYWJsZVF1b3RhPXIucXVvdGEsZS5fdXNhZ2U9ci51c2FnZSx0KCgwLHAuYXZhaWxhYmxlU3BhY2UpKGUuX3VzYWdlLGUuX2F2YWlsYWJsZVF1b3RhKSl9KS5jYXRjaChmdW5jdGlvbihlKXt2LmVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2VdIENoZWNrU3RvcmFnZVF1b3RhIGVycm9yOiAiLGUpLHIoZSl9KX0pfX0se2tleToiX29uQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHl8fCFlLmJvZHkudmFsdWUpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uQ3JlYXRlXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IHZhbHVlIG1pc3Npbmc6ICIsZSk7dmFyIHI9ZS5ib2R5LnZhbHVlLG49ci5jb250ZW50VVJMLGk9IiI7aWYobil7dmFyIG89blswXSxzPW8uc3Vic3RyKG8ubGFzdEluZGV4T2YoIi8iKSsxKTtpPXQuX3VybCsiLyIrc31lbHNlIG49W10saT10Ll91cmwrIi8iKygwLHAuZ2VuZXJhdGVHVUlEKSgpO3QuX2h5cGVydHlSZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoaSl8fChuLnB1c2goaSksci5jb250ZW50VVJMPW4pLHRoaXMuX2h5cGVydHlSZXNvdXJjZXNbaV09cix0aGlzLnByb21pc2VRdWV1ZS5hZGQodGhpcy5fdG9TYXZlKGksZSxyKSl9fSx7a2V5OiJfdG9TYXZlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLG8pe3ZhciBzPWZ1bmN0aW9uKHIpe3ZhciBpPXtmcm9tOnQudG8sdG86dC5mcm9tLGlkOnQuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e3ZhbHVlOmUsY29kZTo1MDAsZGVzY3JpcHRpb246cn19O3JldHVybiBuLl9idXMucG9zdE1lc3NhZ2UoaSksbyhyKX07bi5jaGVja1N0b3JhZ2VRdW90YSgpLnRoZW4oZnVuY3Rpb24oZSl7aWYoci5zaXplPmUucXVvdGEpe3ZhciB0PSJUaGUgc3RvcmFnZSBkbyBub3QgaGF2ZSBzcGFjZSB0byBzdG9yZSB0aGF0IHJlc291cmNlIjt0aHJvdyBzKHQpLEVycm9yKHQpfXZhciBpPWUucXVvdGEsbz1lLnVzYWdlK3Iuc2l6ZTtyZXR1cm4hKGUucGVyY2VudD49bi5fc3RvcmFnZUxpbWl0fHxvPmkpfHxuLl9nZXRPbGRlclJlc291cmNlcyhyLnNpemUpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBuLl9zdG9yYWdlTWFuYWdlci5zZXQoZSwxLHIpfSkudGhlbihmdW5jdGlvbigpe3ZhciByPXtmcm9tOnQudG8sdG86dC5mcm9tLGlkOnQuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e3ZhbHVlOmUsY29kZToyMDB9fTtyZXR1cm4gbi5fYnVzLnBvc3RNZXNzYWdlKHIpLHYubG9nKCJTdWNjZXNzIiksaSgpfSkuY2F0Y2gocyl9KX19LHtrZXk6Il9nZXRPbGRlclJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX3N0b3JhZ2VNYW5hZ2VyLmdldCgpLnRoZW4oZnVuY3Rpb24obyl7dmFyIGE9KDAsaS5kZWZhdWx0KShvKSx1PTAsYz1hLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gb1tlXS5jcmVhdGVkPG9bdF0uY3JlYXRlZH0pLnJlZHVjZShmdW5jdGlvbihyLG4pe3ZhciBpPXQuX2h5cGVydHlSZXNvdXJjZXNbbl07cmV0dXJuIHYubG9nKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2VdIF9nZXRPbGRlclJlc291cmNlczogIix1LGUsbix0Ll9hdmFpbGFibGVRdW90YSksdTw9ZSYmKHUrPWkuc2l6ZSxyLnB1c2gobikpLHJ9LFtdKSxmPWMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9zdG9yYWdlTWFuYWdlci5kZWxldGUoZSl9KTtzLmRlZmF1bHQuYWxsKGYpLnRoZW4oZnVuY3Rpb24oKXtyKCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHl8fCFlLmJvZHkucmVzb3VyY2UpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uUmVhZF0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSByZXNvdXJjZSBtaXNzaW5nOiAiLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSxuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e319OwovLyBsZXQgY29udGVudCA9IF90aGlzLl9oeXBlcnR5UmVzb3VyY2VzW2NvbnRlbnRVcmxdOwp2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBnZXQgcmVzb3VyY2VVUkw6IixyKSx0aGlzLl9zdG9yYWdlTWFuYWdlci5nZXQoInJlc291cmNlVVJMIixyKS50aGVuKGZ1bmN0aW9uKGUpe3YuaW5mbygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vblJlYWRdIGZvdW5kIGNvbnRlbnQ6IixlKSxlPyJmaWxlIj09PWUucmVzb3VyY2VUeXBlP3QuX29uUmVhZEZpbGUobixlKToobi5ib2R5LmNvZGU9MjAwLG4uYm9keS5wMnA9ITAsbi5ib2R5LnZhbHVlPWUsdC5fYnVzLnBvc3RNZXNzYWdlKG4pKToobi5ib2R5LmNvZGU9NDA0LG4uYm9keS5kZXNjPSJDb250ZW50IE5vdCBGb3VuZCBmb3IgIityLHQuX2J1cy5wb3N0TWVzc2FnZShuKSl9KX19LHtrZXk6Il9vblJlYWRGaWxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1uZXcgRmlsZVJlYWRlcjtpZihuLm9ubG9hZD1mdW5jdGlvbihuKXt2LmluZm8oIltGaWxlSHlwZXJ0eVJlc291cmNlLmluaXRdIGZpbGUgbG9hZGVkICIsbiksZS5ib2R5LmNvZGU9MjAwLGUuYm9keS5wMnA9ITAsZS5ib2R5LnZhbHVlPSgwLHAuZGVlcENsb25lKSh0KSxlLmJvZHkudmFsdWUuY29udGVudD1uLnRhcmdldC5yZXN1bHQsci5fYnVzLnBvc3RNZXNzYWdlKGUpfSx0Lm1pbWV0eXBlLmluY2x1ZGVzKCJ0ZXh0LyIpKW4ucmVhZEFzVGV4dCh0LmNvbnRlbnQpO2Vsc2V7dmFyIGk9dC5jb250ZW50LG89dm9pZCAwO289QXJyYXkuaXNBcnJheShpKT9uZXcgQmxvYihpLHt0eXBlOnQubWltZXR5cGV9KTpuZXcgQmxvYihbaV0se3R5cGU6dC5taW1ldHlwZX0pLG4ucmVhZEFzQXJyYXlCdWZmZXIobyl9fX0se2tleToiX29uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHkpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uRGVsZXRlXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IG1pc3Npbmc6ICIsZSk7aWYoZS5ib2R5LnJlc291cmNlKWRlbGV0ZSB0Ll9oeXBlcnR5UmVzb3VyY2VzW2UuYm9keS5yZXNvdXJjZV07ZWxzZXtpZighZS5ib2R5LnJlc291cmNlcyl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25EZWxldGVdIG1hbmRhdG9yeSByZXNvdXJjZSBtaXNzaW5nOiAiLGUpO2UuYm9keS5yZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgdC5faHlwZXJ0eVJlc291cmNlc1tlXX0pfXQuX3N0b3JhZ2VNYW5hZ2VyLmRlbGV0ZSgicmVzb3VyY2VVUkwiLGUuYm9keS5yZXNvdXJjZSkudGhlbihmdW5jdGlvbigpe3ZhciByPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6MjAwfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfSkuY2F0Y2goZnVuY3Rpb24ocil7dmFyIG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7Y29kZTo0MDAsZGVzY3JpcHRpb246cn19O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfX1dKSxIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZX0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1MDUpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPWZ1bmN0aW9uKCl7Ci8vIFRPRE86IEltcHJvdmUgdGhpcyBRdWV1aW5nCmZ1bmN0aW9uIFByb21pc2VRdWV1ZShlKXsoMCx1LmRlZmF1bHQpKHRoaXMsUHJvbWlzZVF1ZXVlKSx0aGlzLmZsdXNoaW5nPSExLHRoaXMuUHJvbWlzZT1zLmRlZmF1bHQsdGhpcy5jb25jdXJyZW5jeT0ibnVtYmVyIiE9dHlwZW9mIGU/MTplLHRoaXMucHJvbWlzZXM9W10sdGhpcy5xdWV1ZT1bXSx0aGlzLmlzUHJvY2Vzc2luZz0hMX1yZXR1cm4oMCxmLmRlZmF1bHQpKFByb21pc2VRdWV1ZSxbe2tleToiZG9uZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsYmFjaz1lfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMucXVldWUucHVzaChlKSwhdGhpcy5pc1Byb2Nlc3NpbmcpcmV0dXJuIHRoaXMucXVldWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdCgoMCxpLmRlZmF1bHQpKGUpLFt0XSl9KX0pfSxzLmRlZmF1bHQucmVzb2x2ZShbXSkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIERvIHNvbWV0aGluZyB3aXRoIGFsbCByZXN1bHRzCnQuaXNQcm9jZXNzaW5nPSExfSl9fV0pLFByb21pc2VRdWV1ZX0oKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyMDkpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAscj1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspclt0XT1lW3RdO3JldHVybiByfXJldHVybigwLGkuZGVmYXVsdCkoZSl9fSwvKiA1MDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjEwKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMzcpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDcpLHk9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocCksaD1yKDE0KSx2PXIoNTEwKSxnPXIoOTkpLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChnKSxtPXIoNTE1KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobSksUj1yKDUxNiksdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFIpLFM9cigxMDApLFA9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoUyksTz15LmdldExvZ2dlcigiU3luY2hlck1hbmFnZXIiKSxNPWZ1bmN0aW9uKCl7LyogcHJpdmF0ZQogIF91cmw6IFVSTAogIF9idXM6IE1pbmlCdXMKICBfcmVnaXN0cnk6IFJlZ2lzdHJ5CiAgX2FsbG9jYXRvcjogQWRkcmVzc0FsbG9jYXRpb24KICAgX3JlcG9ydGVyczogeyBPYmplY3RVUkw6IFJlcG9ydGVyT2JqZWN0IH0KICBfb2JzZXJ2ZXJzOiB7IE9iamVjdFVSTDogT2JzZXJ2ZXJPYmplY3QgfQogICovCmZ1bmN0aW9uIFN5bmNoZXJNYW5hZ2VyKGUsdCxyLG4saSxvLHMsYSl7aWYoKDAsZi5kZWZhdWx0KSh0aGlzLFN5bmNoZXJNYW5hZ2VyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBNZXNzYWdlQnVzIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBSZWdpc3RyeSBpbnN0YW5jZSIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgUnVudGltZUNhdGFsb2d1ZSBpbnN0YW5jZSIpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkIHRoZSBzdG9yYWdlTWFuYWdlciBpbnN0YW5jZSIpO3ZhciB1PXRoaXM7dS5fYnVzPXQsdS5fcmVnaXN0cnk9cix1Ll9jYXRhbG9nPW4sdS5fc3RvcmFnZU1hbmFnZXI9aSx1Ll9pZGVudGl0eU1vZHVsZT1hLAovL1RPRE86IHRoZXNlIHNob3VsZCBiZSBzYXZlZCBpbiBwZXJzaXN0ZW5jZSBlbmdpbmU/CnUucnVudGltZVVSTD1lLHUuX3VybD1lKyIvc20iLHUuX29iamVjdFVSTD1lKyIvb2JqZWN0LWFsbG9jYXRpb24iLHUuX3JlcG9ydGVycz17fSx1Ll9vYnNlcnZlcnM9e30sdS5fZGF0YU9iamVjdHNTdG9yYWdlPXMsCi8vVE9ETzogdGhpcyBzaG91bGQgbm90IGJlIGhhcmRjb2RlZCEKdS5fZG9tYWluPSgwLGguZGl2aWRlVVJMKShlKS5kb21haW4sdS5fYWxsb2NhdG9yPW98fGIuZGVmYXVsdC5pbnN0YW5jZSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gQWRkcmVzc0FsbG9jYXRpb25dIC0gIix1Ll9hbGxvY2F0b3IpLHQuYWRkTGlzdGVuZXIodS5fdXJsLGZ1bmN0aW9uKGUpe3N3aXRjaChPLmluZm8oIltTeW5jaGVyTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOnUuX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjp1Ll9vbkRlbGV0ZShlKTticmVhaztjYXNlInN1YnNjcmliZSI6dS5fb25Mb2NhbFN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp1Ll9vbkxvY2FsVW5TdWJzY3JpYmUoZSl9fSl9cmV0dXJuKDAsZC5kZWZhdWx0KShTeW5jaGVyTWFuYWdlcixbe2tleToiX29uQ3JlYXRlIiwKLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gU3luY2hlciAtPiBjcmVhdGUKdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPWUudG87Ci8vIGNoZWNrIGlmIG1lc3NhZ2UgaXMgdG8gc2F2ZSBuZXcgY2hpbGRyZW5PYmplY3RzIGluIHRoZSBsb2NhbCBzdG9yYWdlCi8vIFRPRE86IGNoZWNrIGlmIG1lc3NhZ2UgaXMgdG8gc3RvcmUgbmV3IGNoaWxkIGluIHRoZSBsb2NhbCBzdG9yYWdlIGFuZCBjYWxsIHN0b3JlQ2hpbGQuIEhvdyB0byBkaXN0aW5ndWlzaCBmcm9tIG90aGVycz8KZS5ib2R5LmF0dHJpYnV0ZT90aGlzLl9zdG9yZUNoaWxkcmVucyhlKTohZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKXx8ZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWU/Ci8vIGNoZWNrIGlmIHRoaXMgaXMgYW4gaW52aXRhdGlvbiBtZXNzYWdlCmUuYm9keS5hdXRob3Jpc2U/KHRoaXMuX2F1dGhvcmlzZShlKSxPLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkNyZWF0ZSAtIGludml0ZSBvYnNlcnZlcnNdIixlKSk6KAovLyB0aGlzIGlzIHRvIGNyZWF0ZSBhIG5ldyBkYXRhIG9iamVjdApPLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkNyZWF0ZSAtIENyZWF0ZSBOZXcgT2JqZWN0XSIsZSksdGhpcy5fbmV3Q3JlYXRlKGUpKToKLy8gSWYgZnJvbSB0aGUgaHlwZXJ0eSBzaWRlLCBjYWxsIHRoZSByZXN1bWVSZXBvcnRlciB3ZSB3aWxsIGhhdmUgcmVzdW1lID0gdHJ1ZScKLy8gc28gd2Ugd2lsbCBjcmVhdGUgYW4gcmVzdW1lZCBvYmplY3QgYW5kIHdpbGwgdHJ5IHRvIHJlc3VtZSB0aGUgb2JqZWN0IHByZXZpb3VzbHkgc2F2ZWQ7CnRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITApLnRoZW4oZnVuY3Rpb24obyl7aWYoTy5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0gLSBSZXNvdXJjZXNCeUNyaXRlcmlhIHwgTWVzc2FnZTogIixlLCIgcmVzdWx0OiAiLG8pLG8mJigwLHUuZGVmYXVsdCkobykubGVuZ3RoPjApe3ZhciBhPVtdOygwLHUuZGVmYXVsdCkobykuZm9yRWFjaChmdW5jdGlvbihyKXthLnB1c2godC5fcmVzdW1lQ3JlYXRlKGUsb1tyXSkpfSkscy5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKG8pe08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0iLG8pOwovLyBUT0RPOiBzaG91ZCBzZW5kIHRoZSBpbmZvcm1hdGlvbiBpZiBzb21lIG9iamVjdCB3YXMgZmFpbDsKdmFyIHM9KDAsaS5kZWZhdWx0KShvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7Ty5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGVdIHJldHVybmluZyByZXN1bWVkIG9iamVjdHMgOiAiLHMpLAovL0ZMT1ctT1VUOiBtZXNzYWdlIHJlc3BvbnNlIHRvIFN5bmNoZXIgLT4gY3JlYXRlIHJlc3VtZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206bix0bzpyLGJvZHk6e2NvZGU6MjAwLHZhbHVlOnN9fSl9KX1lbHNlewovL2ZvcndhcmQgdG8gaHlwZXJ0eToKdmFyIGM9e307Yy5pZD1lLmlkLGMuZnJvbT1lLnRvLGMudG89ZS5mcm9tLGMudHlwZT0icmVzcG9uc2UiLGMuYm9keT17Y29kZTo0MDQsZGVzYzoiTm8gZGF0YSBvYmplY3RzIHJlcG9ydGVycyB0byBiZSByZXN1bWVkIn0sdC5fYnVzLnBvc3RNZXNzYWdlKGMpfX0pfX0se2tleToiX3N0b3JlQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49ZS5ib2R5LmF0dHJpYnV0ZTsiY2hpbGRyZW5PYmplY3RzIj09PW4/dC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEscix2b2lkIDAsZS5ib2R5LnZhbHVlKTp0Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxyLG4sZS5ib2R5LnZhbHVlKX19LHtrZXk6Il9uZXdDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLG49ZS5mcm9tLGk9KDAsaC5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluOwovLyBpZiByZXBvcnRlciBpcyBpbiBhIEludGVyd29ya2luZyBQcm90b3N0dWIgdGhlIHJ1bnRpbWUgZG9tYWluIGJhY2tlbmQgc2VydmljZXMgd2lsbCBiZSB1c2VkCnIuX3JlZ2lzdHJ5LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKGUuZnJvbSkmJihpPSgwLGguZGl2aWRlVVJMKShyLnJ1bnRpbWVVUkwpLmRvbWFpbiksCi8vIFByb2Nlc3MgaW52aXRhdGlvbiBtZXNzYWdlIHRvIG9ic2VydmVycwovKmlmIChtc2cuYm9keS5hdXRob3Jpc2UpIHsKICAgICAgICBfdGhpcy5fYXV0aG9yaXNlKG1zZyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9Ki8KLy9nZXQgc2NoZW1hIGZyb20gY2F0YWxvZ3VlIGFuZCBwYXJzZSAtPiAoc2NoZW1lLCBjaGlsZHJlbikKci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBzPW8uc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsYT1zLnNjaGVtZT9zLnNjaGVtZS5jb25zdGFudDoicmVzb3VyY2UiLHU9cy5jaGlsZHJlbj9zLmNoaWxkcmVuLmNvbnN0YW50OltdOwovLyBEbyBzY2hlbWEgdmFsaWRhdGlvbgovLyBUT0RPOiBjaGVjayBpZiBpcyBuZWVkIHRvIGhhbmRsZSB3aXRoIHRoZSByZXN1bHQgb2YgdmFsaWRhdGlvbgooMCx2LnNjaGVtYVZhbGlkYXRpb24pKGEsbyxlLmJvZHkudmFsdWUpO3ZhciBjPXtuYW1lOmUuYm9keS52YWx1ZS5uYW1lLHNjaGVtYTplLmJvZHkudmFsdWUuc2NoZW1hLHJlcG9ydGVyOmUuYm9keS52YWx1ZS5yZXBvcnRlcixyZXNvdXJjZXM6ZS5ib2R5LnZhbHVlLnJlc291cmNlc30sZj1lLmJvZHkudmFsdWUucmVzb3VyY2U7Ci8vcmVxdWVzdCBhZGRyZXNzIGFsbG9jYXRpb24gb2YgYSBuZXcgb2JqZWN0IGZyb20gdGhlIG1zZy1ub2RlCnIuX2FsbG9jYXRvci5jcmVhdGUoaSwxLGMsYSxmKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBvPSgwLGguZGVlcENsb25lKShlLmJvZHkudmFsdWUpO28udXJsPWkuYWRkcmVzc1swXSxvLmF1dGhvcmlzZT1lLmJvZHkuYXV0aG9yaXNlLG8uY2hpbGRyZW5zPXUsCi8vb2JqZWN0UmVnaXN0cmF0aW9uLmV4cGlyZXMgPSAzMDsvL1RPRE86IGdldCBpdCBmcm9tIGRhdGEgb2JqZWN0IGNvbmZpZ3VyYXRpb24gZGVzY3JpcHRpb24gd2hlbiBwcmVzZW50CmRlbGV0ZSBvLmRhdGEsTy5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBBTExPQ0FUT1IgQ1JFQVRFOiIsaSk7dmFyIHM9by51cmwrIi9zdWJzY3JpcHRpb24iO08ubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gU3Vic2NyaXB0aW9uIFVSTCIscyksCi8vVG8gcmVnaXN0ZXIgdGhlIGRhdGFPYmplY3QgaW4gdGhlIHJ1bnRpbWVSZWdpc3RyeQpPLmluZm8oIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBSZWdpc3RlciBPYmplY3Q6ICIsbyksCi8vX3RoaXMuX3JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdChtc2cuYm9keS52YWx1ZS5uYW1lLCBtc2cuYm9keS52YWx1ZS5zY2hlbWEsIG9ialVSTCwgbXNnLmJvZHkudmFsdWUucmVwb3J0ZXIsIG1zZy5ib2R5LnZhbHVlLnJlc291cmNlcywgYWxsb2NhdGVkLCBtc2cuYm9keS5hdXRob3Jpc2UpLnRoZW4oKHJlc29sdmUpID0+IHsKci5fcmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0KG8pLnRoZW4oZnVuY3Rpb24oaSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBEYXRhT2JqZWN0IHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIixpKTsKLy9hbGwgT0sgLT4gY3JlYXRlIHJlcG9ydGVyIGFuZCByZWdpc3RlciBsaXN0ZW5lcnMKdmFyIGE9dm9pZCAwO2E9dC5fcmVwb3J0ZXJzW28udXJsXT90Ll9yZXBvcnRlcnNbby51cmxdOm5ldyBfLmRlZmF1bHQocixuLG8udXJsKSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gbmV3IENyZWF0ZV0gLSAiLGUpOwovLyBTdG9yZSBmb3IgZWFjaCByZXBvcnRlciBoeXBlcnR5IHRoZSBkYXRhT2JqZWN0CnZhciBjPXZvaWQgMCxmPSExO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTD8oYz1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCxjLmluY2x1ZGVzKCJ1c2VyOi8vIil8fChmPSEwKSk6KGM9ci5fcmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUuZnJvbSkpfHwoZj0hMCk7Ci8vIHNob3VsZCB3ZSB1c2UgdGhlIG1zZy5ib2R5LnZhbHVlIGluc3RlYWQ/CnZhciBsPSgwLGguZGVlcENsb25lKShvKTtsLnN1YnNjcmliZXJVc2VyPWMsbC5pc1JlcG9ydGVyPSEwLAovLyBTdG9yZSB0aGUgZGF0YU9iamVjdCBpbmZvcm1hdGlvbgpmfHwoci5fZGF0YU9iamVjdHNTdG9yYWdlLnNldChsKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoInN0b3JlIikmJmUuYm9keS5zdG9yZSYmKGEuaXNUb1NhdmVEYXRhPSEwLHIuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsby51cmwsImlzVG9TYXZlRGF0YSIsITApLGUuYm9keS52YWx1ZS5kYXRhJiZyLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITAsby51cmwsbnVsbCxlLmJvZHkudmFsdWUuZGF0YSkpKSwKLy8gYWRkaW5nIGxpc3RlbmVycyB0byBmb3J3YXJkIHRvIHJlcG9ydGVyCmEuZm9yd2FyZFN1YnNjcmliZShbby51cmwsc10pLnRoZW4oZnVuY3Rpb24oKXthLmFkZENoaWxkcmVucyh1KS50aGVuKGZ1bmN0aW9uKCl7ci5fcmVwb3J0ZXJzW28udXJsXT1hO3ZhciB0PXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86bixib2R5Ontjb2RlOjIwMCxyZXNvdXJjZTpvLnVybCxjaGlsZHJlblJlc291cmNlczp1fX07Ci8vRkxPVy1PVVQ6IG1lc3NhZ2UgcmVzcG9uc2UgdG8gU3luY2hlciAtPiBjcmVhdGUKci5fYnVzLnBvc3RNZXNzYWdlKHQpfSl9KX0sZnVuY3Rpb24oZSl7Ty5lcnJvcihlKX0pfSl9KS5jYXRjaChmdW5jdGlvbih0KXsKLy9GTE9XLU9VVDogZXJyb3IgbWVzc2FnZSByZXNwb25zZSB0byBTeW5jaGVyIC0+IGNyZWF0ZQp2YXIgaT17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOm4sYm9keTp7Y29kZTo1MDAsZGVzYzp0fX07ci5fYnVzLnBvc3RNZXNzYWdlKGkpfSl9fSx7a2V5OiJfcmVzdW1lQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGkpe3ZhciBvPWUuZnJvbSxzPXQuc2NoZW1hLGE9dC51cmwsdT10LmRhdGE7Ty5sb2coIltTeW5jaGVyTWFuYWdlcl0gLSByZXN1bWUgY3JlYXRlIixlLHQpLAovL2dldCBzY2hlbWEgZnJvbSBjYXRhbG9ndWUgYW5kIHBhcnNlIC0+IChzY2hlbWUsIGNoaWxkcmVuKQpuLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKHMpLnRoZW4oZnVuY3Rpb24ocyl7dmFyIGM9cy5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxmPWMuc2NoZW1lP2Muc2NoZW1lLmNvbnN0YW50OiJyZXNvdXJjZSIsbD1jLmNoaWxkcmVuP2MuY2hpbGRyZW4uY29uc3RhbnQ6W107Ty5sb2coIltTeW5jaGVyTWFuYWdlcl0gLSBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixzLGwpLAovLyBEbyBzY2hlbWEgdmFsaWRhdGlvbgovLyBUT0RPOiBjaGVjayBpZiBpcyBuZWVkIHRvIGhhbmRsZSB3aXRoIHRoZSByZXN1bHQgb2YgdmFsaWRhdGlvbgooMCx2LnNjaGVtYVZhbGlkYXRpb24pKGYscyx1KTt2YXIgZD0oMCxoLmRlZXBDbG9uZSkoZS5ib2R5LnZhbHVlKTtkLnVybD10LnVybCxkLmV4cGlyZXM9dC5leHBpcmVzLGRlbGV0ZSBkLmRhdGE7Ci8vYWxsIE9LIC0+IGNyZWF0ZSByZXBvcnRlciBhbmQgcmVnaXN0ZXIgbGlzdGVuZXJzCnZhciBwPXZvaWQgMDtwPXIuX3JlcG9ydGVyc1thXT9yLl9yZXBvcnRlcnNbYV06bmV3IF8uZGVmYXVsdChuLG8sYSkscC5pc1RvU2F2ZURhdGE9dC5pc1RvU2F2ZURhdGEscC5mb3J3YXJkU3Vic2NyaWJlKFt0LnVybF0pLnRoZW4oZnVuY3Rpb24oKXtwLmFkZENoaWxkcmVucyhsKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHAucmVzdW1lU3Vic2NyaXB0aW9ucyh0LnN1YnNjcmlwdGlvbnMpLG4uX3JlcG9ydGVyc1thXT1wLE8uaW5mbygiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSByZXNvbHZlZCByZXN1bWVkOiAiLHQpLG4uX2RlY3J5cHRDaGlsZHJlbnModCxsKX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ3Jlc3VsdCBvZiBwcmV2aW91cyBwcm9taXNlJyk7CmkoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtPLmVycm9yKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgY3JlYXRlXSAtIGZhaWwgb24gYWRkQ2hpbGRyZW5zOiAiLGUpLGkoITEpfSl9KSxPLmluZm8oIltTeW5jaGVyTWFuYWdlci5fcmVzdW1lQ3JlYXRlXSBSZWdpc3RlciBPYmplY3Q6ICIsZCksbi5fcmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0KGQpLnRoZW4oZnVuY3Rpb24oZSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fcmVzdW1lQ3JlYXRlXSBEYXRhT2JqZWN0IHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsbHkgdXBkYXRlZCIsZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08uZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gZmFpbCBvbiBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixlKSxpKCExKX0pfSl9fSx7a2V5OiJfZGVjcnlwdENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyKXtpZih0KXswPT09KDAsdS5kZWZhdWx0KShlLmNoaWxkcmVuT2JqZWN0cykubGVuZ3RoJiZyKGUpLHQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLmNoaWxkcmVuT2JqZWN0c1t0XTtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBkYXRhT2JqZWN0Q2hpbGRzIHRvIGRlY3J5cHQgIixuKTt2YXIgaT1bXTsoMCx1LmRlZmF1bHQpKG4pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9blt0XSxvPXQuc3BsaXQoIiMiKVswXTtpZigic3RyaW5nIj09dHlwZW9mIHIudmFsdWUpe08ubG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGNyZWF0ZWRCeSAiLG8sIiBvYmplY3Q6ICIsci52YWx1ZSk7dmFyIHM9UC5kZWZhdWx0LmRlY3J5cHREYXRhT2JqZWN0KEpTT04ucGFyc2Uoci52YWx1ZSksZS51cmwpO2kucHVzaChzKX19KSxzLmRlZmF1bHQuYWxsKGkpLnRoZW4oZnVuY3Rpb24obil7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gcmV0dXJuaW5nIGRlY3J5cHRlZCAiLG4pLG4uZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1yLnZhbHVlLnVybDtlLmNoaWxkcmVuT2JqZWN0c1t0XVtuXS52YWx1ZT1yLnZhbHVlfSksTy5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gc3RvcmVkT2JqZWN0ICIsZSkscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08ud2FybigiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBmYWlsZWQgOiAiLGUpfSl9KX1lbHNlIHIoZSl9KX19LHtrZXk6Il9hdXRob3Jpc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keS5yZXNvdXJjZSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyTWFuYWdlci5fYXV0aG9yaXNlXSBpbnZpdGF0aW9uIHJlcXVlc3Qgd2l0aG91dCBkYXRhIG9iamVjdCB1cmw6IixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2UrIi9zdWJzY3JpcHRpb24iLG49ISFlLmJvZHkucDJwJiZlLmJvZHkucDJwO08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSAgYXV0aG9yaXNlXSAtICIsZSksZS5ib2R5LmF1dGhvcmlzZSYmZS5ib2R5LmF1dGhvcmlzZS5mb3JFYWNoKGZ1bmN0aW9uKGkpewovL0ZMT1ctT1VUOiBzZW5kIGludml0ZXMgdG8gbGlzdCBvZiByZW1vdGUgU3luY2hlciAtPiBfb25SZW1vdGVDcmVhdGUgLT4gb25Ob3RpZmljYXRpb24KdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJjcmVhdGUiLGZyb206cix0bzppLGJvZHk6e3AycDpuLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxzb3VyY2U6ZS5mcm9tLHZhbHVlOmUuYm9keS52YWx1ZSxzY2hlbWE6ZS5ib2R5LnNjaGVtYX19LGZ1bmN0aW9uKHIpewovLyBsZXRzIGZvcndhcmQgdGhlIGludml0YXRpb24gcmVzcG9uc2UKdmFyIG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOnIudHlwZSxib2R5OnIuYm9keX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSl9KX19LHtrZXk6Il9vbkRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX3JlcG9ydGVyc1tyXTtuJiYoCi8vVE9ETzogaXMgdGhlcmUgYW55IHBvbGljeSB2ZXJpZmljYXRpb24gYmVmb3JlIGRlbGV0ZT8Kbi5kZWxldGUoKSx0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZGVsZXRlUmVzb3VyY2UocikudGhlbihmdW5jdGlvbihuKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gb25EZWxldGVdIC0gZGVsZXRlUmVzb3VyY2U6ICIsbiksdC5fcmVnaXN0cnkudW5yZWdpc3RlckRhdGFPYmplY3QociksCi8vVE9ETzogdW5yZWdpc3RlciBvYmplY3Q/CnQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KX0pKX19LHtrZXk6Il9vbkxvY2FsU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITEpLnRoZW4oZnVuY3Rpb24ocil7aWYoTy5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBTdWJzY3JpYmVdIC0gUmVzb3VyY2VzQnlDcml0ZXJpYSB8IE1lc3NhZ2U6ICIsZSwiIHJlc3VsdDogIixyKSxyJiYoMCx1LmRlZmF1bHQpKHIpLmxlbmd0aD4wKXt2YXIgbj1bXTsKLy8gVE9ETzogc2hvdWxkIHJldXNlIHRoZSBzdG9yYWdlZCBpbmZvcm1hdGlvbgooMCx1LmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24oaSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBTdWJzY3JpYmVdIC0gcmV1c2UgY3VycmVudCBvYmplY3QgdXJsOiAiLHJbaV0pLG4ucHVzaCh0Ll9yZXN1bWVTdWJzY3JpcHRpb24oZSxyW2ldKSl9KSxzLmRlZmF1bHQuYWxsKG4pLnRoZW4oZnVuY3Rpb24ocil7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIE9ic2VydmVycyBSZXN1bWVkXSIscik7Ci8vIFRPRE86IHNob3VkIHNlbmQgdGhlIGluZm9ybWF0aW9uIGlmIHNvbWUgb2JqZWN0IHdhcyBmYWlsOwp2YXIgbj0oMCxpLmRlZmF1bHQpKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWV9KTsKLy9GTE9XLU9VVDogbWVzc2FnZSByZXNwb25zZSB0byBTeW5jaGVyIC0+IGNyZWF0ZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6bn19KX0pfWVsc2UgaWYoZS5ib2R5LnNjaGVtYSYmZS5ib2R5LnJlc291cmNlKU8ubG9nKCJbU3luY2hlck1hbmFnZXIub25Mb2NhbFN1YnNjcmliZSAtIG5ldyBTdWJzY3JpYmVdIC0gIixlLmJvZHkuc2NoZW1hLGUuYm9keS5yZXNvdXJjZSksdC5fbmV3U3Vic2NyaXB0aW9uKGUpO2Vsc2V7Ci8vZm9yd2FyZCB0byBoeXBlcnR5Ogp2YXIgbz17fTtvLmlkPWUuaWQsby5mcm9tPWUudG8sby50bz1lLmZyb20sby50eXBlPSJyZXNwb25zZSIsby5ib2R5PXtjb2RlOjQwNCxkZXNjOiJObyBkYXRhIG9iamVjdHMgb2JzZXJ2ZXJzIHRvIGJlIHJlc3VtZWQifSx0Ll9idXMucG9zdE1lc3NhZ2Uobyl9fSl9fSx7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcyxuPWUuYm9keS5yZXNvdXJjZSxpPWUuZnJvbSxvPSgwLGguZGl2aWRlVVJMKShuKS5kb21haW4scz1uKyIvc3Vic2NyaXB0aW9uIixhPW4rIi9jaGlsZHJlbi8iOwovL2dldCBzY2hlbWEgZnJvbSBjYXRhbG9ndWUgYW5kIHBhcnNlIC0+IChjaGlsZHJlbikKci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKHUpe3ZhciBjPXUuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsZj1jLmNoaWxkcmVuP2MuY2hpbGRyZW4uY29uc3RhbnQ6W10sbD1bXTtsLnB1c2gobisiL2NoYW5nZXMiKSxmLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGwucHVzaChhK2UpfSk7Ci8vY2hpbGRyZW4gYWRkcmVzc2VzCi8vRkxPVy1PVVQ6IHN1YnNjcmliZSBtZXNzYWdlIHRvIHRoZSBtc2ctbm9kZSwgcmVnaXN0ZXJpbmcgbGlzdGVuZXJzIG9uIHRoZSBicm9rZXIKdmFyIGQ9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrbysiL3NtIixib2R5OntpZGVudGl0eTplLmJvZHkuaWRlbnRpdHkscmVzb3VyY2VzOmwsc291cmNlOml9fTsKLy9zdWJzY3JpYmUgaW4gbXNnLW5vZGUKci5fYnVzLnBvc3RNZXNzYWdlKGQsZnVuY3Rpb24obyl7aWYoTy5sb2coIm5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlKG9ic2VydmVyKTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7Ci8vRkxPVy1PVVQ6IHJlcGx5IHdpdGggcHJvdmlzaW9uYWwgcmVzcG9uc2UKci5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86aSxib2R5Ontjb2RlOjEwMCxjaGlsZHJlblJlc291cmNlczpmLHNjaGVtYTplLmJvZHkuc2NoZW1hLHJlc291cmNlOmUuYm9keS5yZXNvdXJjZX19KTsKLy9GTE9XLU9VVDogc3Vic2NyaWJlIG1lc3NhZ2UgdG8gcmVtb3RlIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZQp2YXIgYT17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX3VybCx0bzpzLGJvZHk6e2lkZW50aXR5OmQuYm9keS5pZGVudGl0eSxzdWJzY3JpYmVyOml9fTsKLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeQplLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYoYS5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsKSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIixhLGUpLAovL3N1YnNjcmliZSB0byByZXBvcnRlciBTTQpyLl9idXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihvKXtpZihPLmxvZygicmVwb3J0ZXItc3Vic2NyaWJlLXJlc3BvbnNlLW5ldzogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSAtIG9ic2VydmVyczogIixyLl9vYnNlcnZlcnMsbixyLl9vYnNlcnZlcnNbbl0pO3ZhciBzPXIuX29ic2VydmVyc1tuXTtzfHwocz1uZXcgdy5kZWZhdWx0KHIsbixmKSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIC0gb2JzZXJ2ZXJzOiBjcmVhdGUgbmV3IE9ic2VydmVyT2JqZWN0OiAiLHMpLHIuX29ic2VydmVyc1tuXT1zLAovLyByZWdpc3RlciBuZXcgaHlwZXJ0eSBzdWJzY3JpcHRpb24Kcy5hZGRTdWJzY3JpcHRpb24oaSksCi8vIGFkZCBjaGlsZHJlbnMgYW5kIGxpc3RlbmVycyB0byBzYXZlIGRhdGEgaWYgbmVjZXNzYXJ5CnMuYWRkQ2hpbGRyZW5zKGYpKTt2YXIgYT0hMSx1PXZvaWQgMDtlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5IikmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw/KHU9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdS5pbmNsdWRlcygidXNlcjovLyIpfHwoYT0hMCkpOih1PXIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pKXx8KGE9ITApO3ZhciBjPSgwLGguZGVlcENsb25lKShvLmJvZHkudmFsdWUpOwovLyBsZXQgY2hpbGRyZW5PYmplY3RzID0gbWV0YWRhdGEuY2hpbGRyZW5PYmplY3RzIHx8IHt9OwpkZWxldGUgYy5kYXRhLGRlbGV0ZSBjLmNoaWxkcmVuT2JqZWN0cyxjLmNoaWxkcmVucz1mLGMuc3Vic2NyaWJlclVzZXI9dSxjLmlzUmVwb3J0ZXI9ITEsYy5zdWJzY3JpYmVySHlwZXJ0eT1pLGF8fCgKLy9fdGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLnNldChvYmpVUkwsIGZhbHNlLCBtc2cuYm9keS5zY2hlbWEsICdvbicsIHJlcGx5LmJvZHkub3duZXIsIGh5cGVydHlVUkwsIGNoaWxkcmVucywgdXNlclVSTCk7CnIuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQoYyksKGMuaGFzT3duUHJvcGVydHkoInN0b3JlIikmJmMuc3RvcmV8fGMuaGFzT3duUHJvcGVydHkoImlzVG9TYXZlRGF0YSIpJiZjLmlzVG9TYXZlRGF0YSkmJihzLmlzVG9TYXZlRGF0YT0hMCxyLl9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLG4sImlzVG9TYXZlRGF0YSIsITApLHIuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMSxuLG51bGwsby5ib2R5LnZhbHVlLmRhdGEpKSksCi8vZm9yd2FyZCB0byBoeXBlcnR5OgpvLmlkPWUuaWQsby5mcm9tPXIuX3VybCxvLnRvPWksby5ib2R5LnNjaGVtYT1lLmJvZHkuc2NoZW1hLG8uYm9keS5yZXNvdXJjZT1lLmJvZHkucmVzb3VyY2UsCi8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHkKZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKG8uYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksTy5sb2coIltzdWJzY3JpYmVdIC0gbmV3IHN1YnNjcmlwdGlvbjogIixlLG8scyksdC5fYnVzLnBvc3RNZXNzYWdlKG8pfX0pfWVsc2UKLy9saXN0ZW5lciByZWplY3RlZApyLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzppLGJvZHk6by5ib2R5fSl9KX0pfX0se2tleToiX3Jlc3VtZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4pe3ZhciBpPXQudXJsLG89dC5zY2hlbWEscz1lLmZyb20sYT1pKyIvY2hpbGRyZW4vIjtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gUmV1c2VTdWJzY3JpcHRpb25dIC0gb2JqVVJMOiAiLGksIiAtIHNjaGVtYToiLG8pLAovL2dldCBzY2hlbWEgZnJvbSBjYXRhbG9ndWUgYW5kIHBhcnNlIC0+IChjaGlsZHJlbikKLy8gVE9ETzogcmVtb3ZlIHRoaXMgc2luY2UgY2hpbGRyZW4gcmVzb3VyY2VzIHNob3VsZCBiZSBhdmFpbGFibGUgaW4gdGhlIERhdGFPYmplY3RzU3RvcmFnZQpyLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKG8pLnRoZW4oZnVuY3Rpb24obil7dmFyIHU9bi5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxjPXUuY2hpbGRyZW4/dS5jaGlsZHJlbi5jb25zdGFudDpbXSxmPVtdO2YucHVzaChpKyIvY2hhbmdlcyIpLGMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZi5wdXNoKGErZSl9KSwKLy9GTE9XLU9VVDogcmVwbHkgd2l0aCBwcm92aXNpb25hbCByZXNwb25zZQpyLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpzLGJvZHk6e2NvZGU6MTAwLGNoaWxkcmVuUmVzb3VyY2VzOmMsc2NoZW1hOm8scmVzb3VyY2U6aX19KTsKLy9GTE9XLU9VVDogc3Vic2NyaWJlIG1lc3NhZ2UgdG8gcmVtb3RlIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZQovKmxldCBvYmpTdWJzY3JpYmVNc2cgPSB7CiAgICAgICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLCBmcm9tOiB0aGlzLl91cmwsIHRvOiBvYmpVUkxTdWJzY3JpcHRpb24sCiAgICAgICAgICAgIGJvZHk6IHsgc3Vic2NyaWJlcjogaHlwZXJ0eVVSTCwgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5IH0KICAgICAgICAgIH07CiAgICAgICAgICAgLy9zdWJzY3JpYmUgdG8gcmVwb3J0ZXIgU00KICAgICAgICAgIHRoaXMuX2J1cy5wb3N0TWVzc2FnZShvYmpTdWJzY3JpYmVNc2csIChyZXBseSkgPT4geyovCnZhciBsPXIuX29ic2VydmVyc1tpXTsKLy8gT2JqZWN0LmFzc2lnbihzdG9yZWRPYmplY3QuZGF0YSwgcmVwbHkuYm9keS52YWx1ZS5kYXRhKTsKLy8gT2JqZWN0LmFzc2lnbihzdG9yZWRPYmplY3QuY2hpbGRyZW5zLCByZXBseS5ib2R5LnZhbHVlLmNoaWxkcmVucyk7Ci8vbG9nLmxvZygnW3N1YnNjcmliZV0gLSByZXN1bWUgc3Vic2NyaXB0aW9uOiAnLCBtc2csIHJlcGx5LCBzdG9yZWRPYmplY3QsIG9ic2VydmVyKTsKLy9yZWdpc3RlciBuZXcgaHlwZXJ0eSBzdWJzY3JpcHRpb24KcmV0dXJuIGx8fChsPW5ldyB3LmRlZmF1bHQocixpLGMpLGwuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHIuX29ic2VydmVyc1tpXT1sKSxsLmFkZFN1YnNjcmlwdGlvbihzKSxsLmFkZENoaWxkcmVucyhjKSxyLl9kZWNyeXB0Q2hpbGRyZW5zKHQsYyl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdyZXN1bHQgb2YgcHJldmlvdXMgcHJvbWlzZScpOwpuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIHN1YnNjcmlwdGlvbl0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLG4oITEpfSl9KX19LHtrZXk6Il9vbkxvY2FsVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oZS5mcm9tLGUuYm9keS5yZXNvdXJjZSksbj10Ll9vYnNlcnZlcnNbcl07biYmKAovL1RPRE86IGlzIHRoZXJlIGFueSBwb2xpY3kgdmVyaWZpY2F0aW9uIGJlZm9yZSBkZWxldGU/Cm4ucmVtb3ZlU3Vic2NyaXB0aW9uKGUpLAovL1RPRE86IGRlc3Ryb3kgb2JqZWN0IGluIHRoZSByZWdpc3RyeT8KdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pLHRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5kZWxldGVSZXNvdXJjZShyKSwKLy9UT0RPOiByZW1vdmUgT2JqZWN0IGlmIG5vIG1vcmUgc3Vic2NyaXB0aW9uPwpkZWxldGUgdC5fb2JzZXJ2ZXJzW3JdKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksU3luY2hlck1hbmFnZXJ9KCk7dC5kZWZhdWx0PU0sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTA3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDUwOCksZS5leHBvcnRzPXIoMTMpLk9iamVjdC52YWx1ZXN9LC8qIDUwOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllcwp2YXIgbj1yKDIxKSxpPXIoNTA5KSghMSk7bihuLlMsIk9iamVjdCIse3ZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gaShlKX19KX0sLyogNTA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY3KSxpPXIoNDUpLG89cig3NykuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixzPWkodCksYT1uKHMpLHU9YS5sZW5ndGgsYz0wLGY9W107dT5jOylvLmNhbGwocyxyPWFbYysrXSkmJmYucHVzaChlP1tyLHNbcl1dOnNbcl0pO3JldHVybiBmfX19LC8qIDUxMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHNjaGVtYVZhbGlkYXRpb24oZSx0LHIpe3RyeXt2YXIgbj1yLGk9dC5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGU7Ci8vIGFkZCBzdXBwb3J0IGZvciBzY2hlbWEgcmVmZXJlbmNpbmcgaXRzZWxmCm8uZGVmYXVsdC5hZGRTY2hlbWEoaS5pZCxpKTsKLy8gdmFsaWRhdGUKdmFyIHM9by5kZWZhdWx0LnZhbGlkYXRlTXVsdGlwbGUobixpKTsKLy8gZGVsZXRlIGVycm9yIHN0YWNrcyB0byBpbXByb3ZlIGxvZ2dpbmcKcy5lcnJvcnMuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgZS5zdGFja30pLCFzLnZhbGlkfHxzLm1pc3NpbmcubGVuZ3RofWNhdGNoKGUpe319T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpO19pbnRlcm9wUmVxdWlyZURlZmF1bHQobik7dC5zY2hlbWFWYWxpZGF0aW9uPXNjaGVtYVZhbGlkYXRpb247dmFyIGk9cig1MTEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKX0sLyogNTExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbm90UmVhbGx5UGVyY2VudEVuY29kZShlKXtyZXR1cm4gZW5jb2RlVVJJKGUpLnJlcGxhY2UoLyUyNVswLTldWzAtOV0vZyxmdW5jdGlvbihlKXtyZXR1cm4iJSIrZS5zdWJzdHJpbmcoMyl9KX1mdW5jdGlvbiB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihlKXt2YXIgdD0iIjtoW2UuY2hhckF0KDApXSYmKHQ9ZS5jaGFyQXQoMCksZT1lLnN1YnN0cmluZygxKSk7dmFyIHI9IiIsbj0iIixpPSEwLG89ITEscz0hMTsiKyI9PT10P2k9ITE6Ii4iPT09dD8obj0iLiIscj0iLiIpOiIvIj09PXQ/KG49Ii8iLHI9Ii8iKToiIyI9PT10PyhuPSIjIixpPSExKToiOyI9PT10PyhuPSI7IixyPSI7IixvPSEwLHM9ITApOiI/Ij09PXQ/KG49Ij8iLHI9IiYiLG89ITApOiImIj09PXQmJihuPSImIixyPSImIixvPSEwKTtmb3IodmFyIGE9W10sdT1lLnNwbGl0KCIsIiksYz1bXSxmPXt9LGw9MDtsPHUubGVuZ3RoO2wrKyl7dmFyIHA9dVtsXSxnPW51bGw7aWYoLTEhPT1wLmluZGV4T2YoIjoiKSl7dmFyIGI9cC5zcGxpdCgiOiIpO3A9YlswXSxnPXBhcnNlSW50KGJbMV0sMTApfWZvcih2YXIgbT17fTt2W3AuY2hhckF0KHAubGVuZ3RoLTEpXTspbVtwLmNoYXJBdChwLmxlbmd0aC0xKV09ITAscD1wLnN1YnN0cmluZygwLHAubGVuZ3RoLTEpO3ZhciBfPXt0cnVuY2F0ZTpnLG5hbWU6cCxzdWZmaWNlczptfTtjLnB1c2goXyksZltwXT1fLGEucHVzaChwKX12YXIgUj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIsYT0wLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGY9Y1t1XSxsPWUoZi5uYW1lKTtpZihudWxsPT09bHx8dm9pZCAwPT09bHx8QXJyYXkuaXNBcnJheShsKSYmMD09PWwubGVuZ3RofHwib2JqZWN0Ij09PSh2b2lkIDA9PT1sPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkobCkpJiYwPT09KDAseS5kZWZhdWx0KShsKS5sZW5ndGgpYSsrO2Vsc2UgaWYodCs9dT09PWE/bjpyfHwiLCIsQXJyYXkuaXNBcnJheShsKSl7byYmKHQrPWYubmFtZSsiPSIpO2Zvcih2YXIgcD0wO3A8bC5sZW5ndGg7cCsrKXA+MCYmKHQrPWYuc3VmZmljZXNbIioiXT9yfHwiLCI6IiwiLGYuc3VmZmljZXNbIioiXSYmbyYmKHQrPWYubmFtZSsiPSIpKSx0Kz1pP2VuY29kZVVSSUNvbXBvbmVudChsW3BdKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobFtwXSl9ZWxzZSBpZigib2JqZWN0Ij09PSh2b2lkIDA9PT1sPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkobCkpKXtvJiYhZi5zdWZmaWNlc1siKiJdJiYodCs9Zi5uYW1lKyI9Iik7dmFyIGg9ITA7Zm9yKHZhciB2IGluIGwpaHx8KHQrPWYuc3VmZmljZXNbIioiXT9yfHwiLCI6IiwiKSxoPSExLHQrPWk/ZW5jb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZSh2KSx0Kz1mLnN1ZmZpY2VzWyIqIl0/Ij0iOiIsIix0Kz1pP2VuY29kZVVSSUNvbXBvbmVudChsW3ZdKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobFt2XSl9ZWxzZSBvJiYodCs9Zi5uYW1lLHMmJiIiPT09bHx8KHQrPSI9IikpLG51bGwhPWYudHJ1bmNhdGUmJihsPWwuc3Vic3RyaW5nKDAsZi50cnVuY2F0ZSkpLHQrPWk/ZW5jb2RlVVJJQ29tcG9uZW50KGwpLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZShsKX1yZXR1cm4gdH07cmV0dXJuIFIudmFyTmFtZXM9YSx7cHJlZml4Om4sc3Vic3RpdHV0aW9uOlJ9fWZ1bmN0aW9uIFVyaVRlbXBsYXRlKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFVyaVRlbXBsYXRlKSlyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKGUpO2Zvcih2YXIgdD1lLnNwbGl0KCJ7Iikscj1bdC5zaGlmdCgpXSxuPVtdLGk9W10sbz1bXTt0Lmxlbmd0aD4wOyl7dmFyIHM9dC5zaGlmdCgpLGE9cy5zcGxpdCgifSIpWzBdLHU9cy5zdWJzdHJpbmcoYS5sZW5ndGgrMSksYz11cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihhKTtpLnB1c2goYy5zdWJzdGl0dXRpb24pLG4ucHVzaChjLnByZWZpeCksci5wdXNoKHUpLG89by5jb25jYXQoYy5zdWJzdGl0dXRpb24udmFyTmFtZXMpfXRoaXMuZmlsbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9clswXSxuPTA7bjxpLmxlbmd0aDtuKyspe3QrPSgwLGlbbl0pKGUpLHQrPXJbbisxXX1yZXR1cm4gdH0sdGhpcy52YXJOYW1lcz1vLHRoaXMudGVtcGxhdGU9ZX1mdW5jdGlvbiByZWN1cnNpdmVDb21wYXJlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoZSYmdCYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSYmIm9iamVjdCI9PT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKHQpKSl7aWYoQXJyYXkuaXNBcnJheShlKSE9PUFycmF5LmlzQXJyYXkodCkpcmV0dXJuITE7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZighcmVjdXJzaXZlQ29tcGFyZShlW3JdLHRbcl0pKXJldHVybiExfWVsc2V7dmFyIG47Zm9yKG4gaW4gZSlpZih2b2lkIDA9PT10W25dJiZ2b2lkIDAhPT1lW25dKXJldHVybiExO2ZvcihuIGluIHQpaWYodm9pZCAwPT09ZVtuXSYmdm9pZCAwIT09dFtuXSlyZXR1cm4hMTtmb3IobiBpbiBlKWlmKCFyZWN1cnNpdmVDb21wYXJlKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9Ci8vIHBhcnNlVVJJKCkgYW5kIHJlc29sdmVVcmwoKSBhcmUgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDg4ODUwCi8vICAgLSAgcmVsZWFzZWQgYXMgcHVibGljIGRvbWFpbiBieSBhdXRob3IgKCJZYWZmbGUiKSAtIHNlZSBjb21tZW50cyBvbiBnaXN0CmZ1bmN0aW9uIHBhcnNlVVJJKGUpe3ZhciB0PVN0cmluZyhlKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikubWF0Y2goL14oW146XC8/I10rOik/KFwvXC8oPzpbXjpAXSooPzo6W146QF0qKT9AKT8oKFteOlwvPyNdKikoPzo6KFxkKikpPykpPyhbXj8jXSopKFw/W14jXSopPygjW1xzXFNdKik/Lyk7Ci8vIGF1dGhvcml0eSA9ICcvLycgKyB1c2VyICsgJzonICsgcGFzcyAnQCcgKyBob3N0bmFtZSArICc6JyBwb3J0CnJldHVybiB0P3tocmVmOnRbMF18fCIiLHByb3RvY29sOnRbMV18fCIiLGF1dGhvcml0eTp0WzJdfHwiIixob3N0OnRbM118fCIiLGhvc3RuYW1lOnRbNF18fCIiLHBvcnQ6dFs1XXx8IiIscGF0aG5hbWU6dFs2XXx8IiIsc2VhcmNoOnRbN118fCIiLGhhc2g6dFs4XXx8IiJ9Om51bGx9ZnVuY3Rpb24gcmVzb2x2ZVVybChlLHQpewovLyBSRkMgMzk4NgpyZXR1cm4gdD1wYXJzZVVSSSh0fHwiIiksZT1wYXJzZVVSSShlfHwiIiksdCYmZT8odC5wcm90b2NvbHx8ZS5wcm90b2NvbCkrKHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5P3QuYXV0aG9yaXR5OmUuYXV0aG9yaXR5KStmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5yZXBsYWNlKC9eKFwuXC4/KFwvfCQpKSsvLCIiKS5yZXBsYWNlKC9cLyhcLihcL3wkKSkrL2csIi8iKS5yZXBsYWNlKC9cL1wuXC4kLywiLy4uLyIpLnJlcGxhY2UoL1wvP1teXC9dKi9nLGZ1bmN0aW9uKGUpeyIvLi4iPT09ZT90LnBvcCgpOnQucHVzaChlKX0pLHQuam9pbigiIikucmVwbGFjZSgvXlwvLywiLyI9PT1lLmNoYXJBdCgwKT8iLyI6IiIpfSh0LnByb3RvY29sfHx0LmF1dGhvcml0eXx8Ii8iPT09dC5wYXRobmFtZS5jaGFyQXQoMCk/dC5wYXRobmFtZTp0LnBhdGhuYW1lPyhlLmF1dGhvcml0eSYmIWUucGF0aG5hbWU/Ii8iOiIiKStlLnBhdGhuYW1lLnNsaWNlKDAsZS5wYXRobmFtZS5sYXN0SW5kZXhPZigiLyIpKzEpK3QucGF0aG5hbWU6ZS5wYXRobmFtZSkrKHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5fHx0LnBhdGhuYW1lP3Quc2VhcmNoOnQuc2VhcmNofHxlLnNlYXJjaCkrdC5oYXNoOm51bGx9ZnVuY3Rpb24gZ2V0RG9jdW1lbnRVcmkoZSl7cmV0dXJuIGUuc3BsaXQoIiMiKVswXX1mdW5jdGlvbiBub3JtU2NoZW1hKGUsdCl7aWYoZSYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSlpZih2b2lkIDA9PT10P3Q9ZS5pZDoic3RyaW5nIj09dHlwZW9mIGUuaWQmJih0PXJlc29sdmVVcmwodCxlLmlkKSxlLmlkPXQpLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspbm9ybVNjaGVtYShlW3JdLHQpO2Vsc2V7InN0cmluZyI9PXR5cGVvZiBlLiRyZWYmJihlLiRyZWY9cmVzb2x2ZVVybCh0LGUuJHJlZikpO2Zvcih2YXIgbiBpbiBlKSJlbnVtIiE9PW4mJm5vcm1TY2hlbWEoZVtuXSx0KX19ZnVuY3Rpb24gZGVmYXVsdEVycm9yUmVwb3J0ZXIoZSl7ZT1lfHwiZW4iO3ZhciB0PVBbZV07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPXRbZS5jb2RlXXx8U1tlLmNvZGVdO2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4iVW5rbm93biBlcnJvciBjb2RlICIrZS5jb2RlKyI6ICIrKDAsaS5kZWZhdWx0KShlLm1lc3NhZ2VQYXJhbXMpO3ZhciBuPWUucGFyYW1zOwovLyBBZGFwdGVkIGZyb20gQ3JvY2tmb3JkJ3Mgc3VwcGxhbnQoKQpyZXR1cm4gci5yZXBsYWNlKC9ceyhbXnt9XSopXH0vZyxmdW5jdGlvbihlLHQpe3ZhciByPW5bdF07cmV0dXJuInN0cmluZyI9PXR5cGVvZiByfHwibnVtYmVyIj09dHlwZW9mIHI/cjplfSl9fWZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihlLHQscixuLGkpe2lmKEVycm9yLmNhbGwodGhpcyksdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vIGVycm9yIGNvZGUgc3VwcGxpZWQ6ICIrbik7dGhpcy5tZXNzYWdlPSIiLHRoaXMucGFyYW1zPXQsdGhpcy5jb2RlPWUsdGhpcy5kYXRhUGF0aD1yfHwiIix0aGlzLnNjaGVtYVBhdGg9bnx8IiIsdGhpcy5zdWJFcnJvcnM9aXx8bnVsbDt2YXIgbz1uZXcgRXJyb3IodGhpcy5tZXNzYWdlKTtpZih0aGlzLnN0YWNrPW8uc3RhY2t8fG8uc3RhY2t0cmFjZSwhdGhpcy5zdGFjayl0cnl7dGhyb3cgb31jYXRjaChvKXt0aGlzLnN0YWNrPW8uc3RhY2t8fG8uc3RhY2t0cmFjZX19ZnVuY3Rpb24gaXNUcnVzdGVkVXJsKGUsdCl7aWYodC5zdWJzdHJpbmcoMCxlLmxlbmd0aCk9PT1lKXt2YXIgcj10LnN1YnN0cmluZyhlLmxlbmd0aCk7aWYodC5sZW5ndGg+MCYmIi8iPT09dC5jaGFyQXQoZS5sZW5ndGgtMSl8fCIjIj09PXIuY2hhckF0KDApfHwiPyI9PT1yLmNoYXJBdCgwKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVBcGkoZSl7dmFyIHQscixuPW5ldyBnLGk9e3NldEVycm9yUmVwb3J0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3RoaXMubGFuZ3VhZ2UoZSk6KHI9ZSwhMCl9LGFkZEZvcm1hdDpmdW5jdGlvbigpe24uYWRkRm9ybWF0LmFwcGx5KG4sYXJndW1lbnRzKX0sbGFuZ3VhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KFBbZV18fChlPWUuc3BsaXQoIi0iKVswXSksISFQW2VdJiYodD1lLGUpKTp0fSxhZGRMYW5ndWFnZTpmdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyIGluIF8pdFtyXSYmIXRbX1tyXV0mJih0W19bcl1dPXRbcl0pO3ZhciBuPWUuc3BsaXQoIi0iKVswXTtpZihQW25dKXtQW2VdPSgwLGYuZGVmYXVsdCkoUFtuXSk7Zm9yKHIgaW4gdCl2b2lkIDA9PT1QW25dW3JdJiYoUFtuXVtyXT10W3JdKSxQW2VdW3JdPXRbcl19ZWxzZQovLyB1c2UgZm9yIGJhc2UgbGFuZ3VhZ2UgaWYgbm90IHlldCBkZWZpbmVkClBbZV09dCxQW25dPXQ7cmV0dXJuIHRoaXN9LGZyZXNoQXBpOmZ1bmN0aW9uKGUpe3ZhciB0PWNyZWF0ZUFwaSgpO3JldHVybiBlJiZ0Lmxhbmd1YWdlKGUpLHR9LHZhbGlkYXRlOmZ1bmN0aW9uKGUsaSxvLHMpe3ZhciBhPWRlZmF1bHRFcnJvclJlcG9ydGVyKHQpLHU9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxhKGUsdCxuKX06YSxjPW5ldyBnKG4sITEsdSxvLHMpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9eyRyZWY6aX0pLGMuYWRkU2NoZW1hKCIiLGkpO3ZhciBmPWMudmFsaWRhdGVBbGwoZSxpLG51bGwsbnVsbCwiIik7cmV0dXJuIWYmJnMmJihmPWMuYmFuVW5rbm93blByb3BlcnRpZXMoZSxpKSksdGhpcy5lcnJvcj1mLHRoaXMubWlzc2luZz1jLm1pc3NpbmcsdGhpcy52YWxpZD1udWxsPT09Zix0aGlzLnZhbGlkfSx2YWxpZGF0ZVJlc3VsdDpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLnZhbGlkYXRlLmFwcGx5KGUsYXJndW1lbnRzKSxlfSx2YWxpZGF0ZU11bHRpcGxlOmZ1bmN0aW9uKGUsaSxvLHMpe3ZhciBhPWRlZmF1bHRFcnJvclJlcG9ydGVyKHQpLHU9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxhKGUsdCxuKX06YSxjPW5ldyBnKG4sITAsdSxvLHMpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9eyRyZWY6aX0pLGMuYWRkU2NoZW1hKCIiLGkpLGMudmFsaWRhdGVBbGwoZSxpLG51bGwsbnVsbCwiIikscyYmYy5iYW5Vbmtub3duUHJvcGVydGllcyhlLGkpO3ZhciBmPXt9O3JldHVybiBmLmVycm9ycz1jLmVycm9ycyxmLm1pc3Npbmc9Yy5taXNzaW5nLGYudmFsaWQ9MD09PWYuZXJyb3JzLmxlbmd0aCxmfSxhZGRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hZGRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWFNYXAuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2NoZW1hVXJpcy5hcHBseShuLGFyZ3VtZW50cyl9LGdldE1pc3NpbmdVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0TWlzc2luZ1VyaXMuYXBwbHkobixhcmd1bWVudHMpfSxkcm9wU2NoZW1hczpmdW5jdGlvbigpe24uZHJvcFNjaGVtYXMuYXBwbHkobixhcmd1bWVudHMpfSxkZWZpbmVLZXl3b3JkOmZ1bmN0aW9uKCl7bi5kZWZpbmVLZXl3b3JkLmFwcGx5KG4sYXJndW1lbnRzKX0sZGVmaW5lRXJyb3I6ZnVuY3Rpb24oZSx0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMiKTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fHQlMSE9MHx8dDwxZTQpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCIpO2lmKHZvaWQgMCE9PV9bZV0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICIrZSsiIGFzICIrX1tlXSk7aWYodm9pZCAwIT09Ult0XSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAiK1JbdF0rIiBhcyAiK3QpO19bZV09dCxSW3RdPWUsU1tlXT1TW3RdPXI7Zm9yKHZhciBuIGluIFApe3ZhciBpPVBbbl07aVtlXSYmKGlbdF09aVt0XXx8aVtlXSl9fSxyZXNldDpmdW5jdGlvbigpe24ucmVzZXQoKSx0aGlzLmVycm9yPW51bGwsdGhpcy5taXNzaW5nPVtdLHRoaXMudmFsaWQ9ITB9LG1pc3Npbmc6W10sZXJyb3I6bnVsbCx2YWxpZDohMCxub3JtU2NoZW1hOm5vcm1TY2hlbWEscmVzb2x2ZVVybDpyZXNvbHZlVXJsLGdldERvY3VtZW50VXJpOmdldERvY3VtZW50VXJpLGVycm9yQ29kZXM6X307cmV0dXJuIGkubGFuZ3VhZ2UoZXx8ImVuIiksaX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0NiksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyMDApLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNTEyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIwMyksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig5OCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigzNykseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApOy8qCiBBdXRob3I6IEdlcmFpbnQgTHVmZiBhbmQgb3RoZXJzCiBZZWFyOiAyMDEzCgogVGhpcyBjb2RlIGlzIHJlbGVhc2VkIGludG8gdGhlICJwdWJsaWMgZG9tYWluIiBieSBpdHMgYXV0aG9yKHMpLiAgQW55Ym9keSBtYXkgdXNlLCBhbHRlciBhbmQgZGlzdHJpYnV0ZSB0aGUgY29kZSB3aXRob3V0IHJlc3RyaWN0aW9uLiAgVGhlIGF1dGhvciBtYWtlcyBubyBndWFyYW50ZWVzLCBhbmQgdGFrZXMgbm8gbGlhYmlsaXR5IG9mIGFueSBraW5kIGZvciB1c2Ugb2YgdGhpcyBjb2RlLgoKIElmIHlvdSBmaW5kIGEgYnVnIG9yIG1ha2UgYW4gaW1wcm92ZW1lbnQsIGl0IHdvdWxkIGJlIGNvdXJ0ZW91cyB0byBsZXQgdGhlIGF1dGhvciBrbm93LCBidXQgaXQgaXMgbm90IGNvbXB1bHNvcnkuCiAqLwovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qva2V5cz9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGT2JqZWN0JTJGa2V5cwp5LmRlZmF1bHR8fChPYmplY3Qua2V5cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCJ0b1N0cmluZyIpLHI9WyJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc3RydWN0b3IiXSxuPXIubGVuZ3RoO3JldHVybiBmdW5jdGlvbihpKXtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1pPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoaSkpJiYiZnVuY3Rpb24iIT10eXBlb2YgaXx8bnVsbD09PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QiKTt2YXIgbz1bXTtmb3IodmFyIHMgaW4gaSllLmNhbGwoaSxzKSYmby5wdXNoKHMpO2lmKHQpZm9yKHZhciBhPTA7YTxuO2ErKyllLmNhbGwoaSxyW2FdKSYmby5wdXNoKHJbYV0pO3JldHVybiBvfX0oKSksCi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUKZi5kZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4iKTtyZXR1cm4gRi5wcm90b3R5cGU9ZSxuZXcgRn19KCkpLAovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5P3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmlzQXJyYXkKQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pLAovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmluZGV4T2YKQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlKXtpZihudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciB0PU9iamVjdCh0aGlzKSxyPXQubGVuZ3RoPj4+MDtpZigwPT09cilyZXR1cm4tMTt2YXIgbj0wO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TnVtYmVyKGFyZ3VtZW50c1sxXSksbiE9PW4/Ci8vIHNob3J0Y3V0IGZvciB2ZXJpZnlpbmcgaWYgaXQncyBOYU4Kbj0wOjAhPT1uJiZuIT09MS8wJiZuIT09LTEvMCYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSksbj49cilyZXR1cm4tMTtmb3IodmFyIGk9bj49MD9uOk1hdGgubWF4KHItTWF0aC5hYnMobiksMCk7aTxyO2krKylpZihpIGluIHQmJnRbaV09PT1lKXJldHVybiBpO3JldHVybi0xfSksCi8vIEdydW5nZXkgT2JqZWN0LmlzRnJvemVuIGhhY2sKdS5kZWZhdWx0fHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0idHY0X3Rlc3RfZnJvemVuX2tleSI7ZS5oYXNPd25Qcm9wZXJ0eSh0KTspdCs9TWF0aC5yYW5kb20oKTt0cnl7cmV0dXJuIGVbdF09ITAsZGVsZXRlIGVbdF0sITF9Y2F0Y2goZSl7cmV0dXJuITB9fSk7Ci8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ2VyYWludGx1ZmYvdXJpLXRlbXBsYXRlcywgYnV0IHdpdGggYWxsIHRoZSBkZS1zdWJzdGl0dXRpb24gc3R1ZmYgcmVtb3ZlZAp2YXIgaD17IisiOiEwLCIjIjohMCwiLiI6ITAsIi8iOiEwLCI7IjohMCwiPyI6ITAsIiYiOiEwfSx2PXsiKiI6ITB9O1VyaVRlbXBsYXRlLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZX0sZmlsbEZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlsbChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pfX07dmFyIGc9ZnVuY3Rpb24oZSx0LHIsbixpKXtpZih0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZm9ybWF0VmFsaWRhdG9ycz1lPygwLGYuZGVmYXVsdCkoZS5mb3JtYXRWYWxpZGF0b3JzKTp7fSx0aGlzLnNjaGVtYXM9ZT8oMCxmLmRlZmF1bHQpKGUuc2NoZW1hcyk6e30sdGhpcy5jb2xsZWN0TXVsdGlwbGU9dCx0aGlzLmVycm9ycz1bXSx0aGlzLmhhbmRsZUVycm9yPXQ/dGhpcy5jb2xsZWN0RXJyb3I6dGhpcy5yZXR1cm5FcnJvcixuJiYodGhpcy5jaGVja1JlY3Vyc2l2ZT0hMCx0aGlzLnNjYW5uZWQ9W10sdGhpcy5zY2FubmVkRnJvemVuPVtdLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXM9W10sdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycz1bXSx0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXk9InR2NF92YWxpZGF0aW9uX2lkIix0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXk9InR2NF92YWxpZGF0aW9uX2Vycm9yc19pZCIpLGkmJih0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXM9ITAsdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSksdGhpcy5lcnJvclJlcG9ydGVyPXJ8fGRlZmF1bHRFcnJvclJlcG9ydGVyKCJlbiIpLCJzdHJpbmciPT10eXBlb2YgdGhpcy5lcnJvclJlcG9ydGVyKXRocm93IG5ldyBFcnJvcigiZGVidWciKTtpZih0aGlzLmRlZmluZWRLZXl3b3Jkcz17fSxlKWZvcih2YXIgbyBpbiBlLmRlZmluZWRLZXl3b3Jkcyl0aGlzLmRlZmluZWRLZXl3b3Jkc1tvXT1lLmRlZmluZWRLZXl3b3Jkc1tvXS5zbGljZSgwKX07Zy5wcm90b3R5cGUuZGVmaW5lS2V5d29yZD1mdW5jdGlvbihlLHQpe3RoaXMuZGVmaW5lZEtleXdvcmRzW2VdPXRoaXMuZGVmaW5lZEtleXdvcmRzW2VdfHxbXSx0aGlzLmRlZmluZWRLZXl3b3Jkc1tlXS5wdXNoKHQpfSxnLnByb3RvdHlwZS5jcmVhdGVFcnJvcj1mdW5jdGlvbihlLHQscixuLGksbyxzKXt2YXIgYT1uZXcgVmFsaWRhdGlvbkVycm9yKGUsdCxyLG4saSk7cmV0dXJuIGEubWVzc2FnZT10aGlzLmVycm9yUmVwb3J0ZXIoYSxvLHMpLGF9LGcucHJvdG90eXBlLnJldHVybkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxnLnByb3RvdHlwZS5jb2xsZWN0RXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuZXJyb3JzLnB1c2goZSksbnVsbH0sZy5wcm90b3R5cGUucHJlZml4RXJyb3JzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZTtuPHRoaXMuZXJyb3JzLmxlbmd0aDtuKyspdGhpcy5lcnJvcnNbbl09dGhpcy5lcnJvcnNbbl0ucHJlZml4V2l0aCh0LHIpO3JldHVybiB0aGlzfSxnLnByb3RvdHlwZS5iYW5Vbmtub3duUHJvcGVydGllcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKXt2YXIgbj10aGlzLmNyZWF0ZUVycm9yKF8uVU5LTk9XTl9QUk9QRVJUWSx7cGF0aDpyfSxyLCIiLG51bGwsZSx0KSxpPXRoaXMuaGFuZGxlRXJyb3Iobik7aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUuYWRkRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSl7Zm9yKHZhciByIGluIGUpdGhpcy5hZGRGb3JtYXQocixlW3JdKTtyZXR1cm4gdGhpc310aGlzLmZvcm1hdFZhbGlkYXRvcnNbZV09dH0sZy5wcm90b3R5cGUucmVzb2x2ZVJlZnM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1lLiRyZWYpe2lmKHQ9dHx8e30sdFtlLiRyZWZdKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uQ0lSQ1VMQVJfUkVGRVJFTkNFLHt1cmxzOigwLHkuZGVmYXVsdCkodCkuam9pbigiLCAiKX0sIiIsIiIsbnVsbCx2b2lkIDAsZSk7dFtlLiRyZWZdPSEwLGU9dGhpcy5nZXRTY2hlbWEoZS4kcmVmLHQpfXJldHVybiBlfSxnLnByb3RvdHlwZS5nZXRTY2hlbWE9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDAhPT10aGlzLnNjaGVtYXNbZV0pcmV0dXJuIHI9dGhpcy5zY2hlbWFzW2VdLHRoaXMucmVzb2x2ZVJlZnMocix0KTt2YXIgbj1lLGk9IiI7aWYoLTEhPT1lLmluZGV4T2YoIiMiKSYmKGk9ZS5zdWJzdHJpbmcoZS5pbmRleE9mKCIjIikrMSksbj1lLnN1YnN0cmluZygwLGUuaW5kZXhPZigiIyIpKSksIm9iamVjdCI9PT0oMCxkLmRlZmF1bHQpKHRoaXMuc2NoZW1hc1tuXSkpe3I9dGhpcy5zY2hlbWFzW25dO3ZhciBvPWRlY29kZVVSSUNvbXBvbmVudChpKTtpZigiIj09PW8pcmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMocix0KTtpZigiLyIhPT1vLmNoYXJBdCgwKSlyZXR1cm47Zm9yKHZhciBzPW8uc3BsaXQoIi8iKS5zbGljZSgxKSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciB1PXNbYV0ucmVwbGFjZSgvfjEvZywiLyIpLnJlcGxhY2UoL34wL2csIn4iKTtpZih2b2lkIDA9PT1yW3VdKXtyPXZvaWQgMDticmVha31yPXJbdV19aWYodm9pZCAwIT09cilyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhyLHQpfXZvaWQgMD09PXRoaXMubWlzc2luZ1tuXSYmKHRoaXMubWlzc2luZy5wdXNoKG4pLHRoaXMubWlzc2luZ1tuXT1uLHRoaXMubWlzc2luZ01hcFtuXT1uKX0sZy5wcm90b3R5cGUuc2VhcmNoU2NoZW1hcz1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5zZWFyY2hTY2hlbWFzKGVbcl0sdCk7ZWxzZSBpZihlJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpKXsic3RyaW5nIj09dHlwZW9mIGUuaWQmJmlzVHJ1c3RlZFVybCh0LGUuaWQpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbZS5pZF0mJih0aGlzLnNjaGVtYXNbZS5pZF09ZSk7Zm9yKHZhciBuIGluIGUpaWYoImVudW0iIT09bilpZigib2JqZWN0Ij09PSgwLGQuZGVmYXVsdCkoZVtuXSkpdGhpcy5zZWFyY2hTY2hlbWFzKGVbbl0sdCk7ZWxzZSBpZigiJHJlZiI9PT1uKXt2YXIgaT1nZXREb2N1bWVudFVyaShlW25dKTtpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbaV0mJnZvaWQgMD09PXRoaXMubWlzc2luZ01hcFtpXSYmKHRoaXMubWlzc2luZ01hcFtpXT1pKX19fSxnLnByb3RvdHlwZS5hZGRTY2hlbWE9ZnVuY3Rpb24oZSx0KXsKLy9vdmVybG9hZAppZigic3RyaW5nIiE9dHlwZW9mIGV8fHZvaWQgMD09PXQpe2lmKCJvYmplY3QiIT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSl8fCJzdHJpbmciIT10eXBlb2YgZS5pZClyZXR1cm47dD1lLGU9dC5pZH1lPT09Z2V0RG9jdW1lbnRVcmkoZSkrIiMiJiYoCi8vIFJlbW92ZSBlbXB0eSBmcmFnbWVudAplPWdldERvY3VtZW50VXJpKGUpKSx0aGlzLnNjaGVtYXNbZV09dCxkZWxldGUgdGhpcy5taXNzaW5nTWFwW2VdLG5vcm1TY2hlbWEodCxlKSx0aGlzLnNlYXJjaFNjaGVtYXModCxlKX0sZy5wcm90b3R5cGUuZ2V0U2NoZW1hTWFwPWZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIHRoaXMuc2NoZW1hcyllW3RdPXRoaXMuc2NoZW1hc1t0XTtyZXR1cm4gZX0sZy5wcm90b3R5cGUuZ2V0U2NoZW1hVXJpcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gdGhpcy5zY2hlbWFzKWUmJiFlLnRlc3Qocil8fHQucHVzaChyKTtyZXR1cm4gdH0sZy5wcm90b3R5cGUuZ2V0TWlzc2luZ1VyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMubWlzc2luZ01hcCllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LGcucHJvdG90eXBlLmRyb3BTY2hlbWFzPWZ1bmN0aW9uKCl7dGhpcy5zY2hlbWFzPXt9LHRoaXMucmVzZXQoKX0sZy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZXJyb3JzPVtdfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFsbD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvO2lmKCEodD10aGlzLnJlc29sdmVSZWZzKHQpKSlyZXR1cm4gbnVsbDtpZih0IGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKXJldHVybiB0aGlzLmVycm9ycy5wdXNoKHQpLHQ7dmFyIGEsYz10aGlzLmVycm9ycy5sZW5ndGgsZj1udWxsLGw9bnVsbDtpZih0aGlzLmNoZWNrUmVjdXJzaXZlJiZlJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpKXtpZihvPSF0aGlzLnNjYW5uZWQubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl7dmFyIHA9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2YodCk7aWYoLTEhPT1wKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3BdKSxudWxsfWlmKCgwLHUuZGVmYXVsdCkoZSkmJi0xIT09KGE9dGhpcy5zY2FubmVkRnJvemVuLmluZGV4T2YoZSkpKXt2YXIgeT10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdLmluZGV4T2YodCk7aWYoLTEhPT15KXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQodGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt5XSksbnVsbH1pZih0aGlzLnNjYW5uZWQucHVzaChlKSwoMCx1LmRlZmF1bHQpKGUpKS0xPT09YSYmKGE9dGhpcy5zY2FubmVkRnJvemVuLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW4ucHVzaChlKSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzLnB1c2goW10pKSxmPXRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV0ubGVuZ3RoLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV1bZl09dCx0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2ZdPVtdO2Vsc2V7aWYoIWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl0cnl7KDAscy5kZWZhdWx0KShlLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSksKDAscy5kZWZhdWx0KShlLHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2godCl7Ci8vSUUgNy84IHdvcmthcm91bmQKZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldPVtdLGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XT1bXX1sPWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5sZW5ndGgsZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldW2xdPXQsZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdPVtdfX12YXIgaD10aGlzLmVycm9ycy5sZW5ndGgsdj10aGlzLnZhbGlkYXRlQmFzaWMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlTnVtZXJpYyhlLHQsaSl8fHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LGkpfHx0aGlzLnZhbGlkYXRlQXJyYXkoZSx0LGkpfHx0aGlzLnZhbGlkYXRlT2JqZWN0KGUsdCxpKXx8dGhpcy52YWxpZGF0ZUNvbWJpbmF0aW9ucyhlLHQsaSl8fHRoaXMudmFsaWRhdGVIeXBlcm1lZGlhKGUsdCxpKXx8dGhpcy52YWxpZGF0ZUZvcm1hdChlLHQsaSl8fHRoaXMudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMoZSx0LGkpfHxudWxsO2lmKG8pe2Zvcig7dGhpcy5zY2FubmVkLmxlbmd0aDspe2RlbGV0ZSB0aGlzLnNjYW5uZWQucG9wKClbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XX10aGlzLnNjYW5uZWRGcm96ZW49W10sdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcz1bXX1pZih2fHxoIT09dGhpcy5lcnJvcnMubGVuZ3RoKWZvcig7ciYmci5sZW5ndGh8fG4mJm4ubGVuZ3RoOyl7dmFyIGc9ciYmci5sZW5ndGg/IiIrci5wb3AoKTpudWxsLGI9biYmbi5sZW5ndGg/IiIrbi5wb3AoKTpudWxsO3YmJih2PXYucHJlZml4V2l0aChnLGIpKSx0aGlzLnByZWZpeEVycm9ycyhoLGcsYil9cmV0dXJuIG51bGwhPT1mP3RoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbYV1bZl09dGhpcy5lcnJvcnMuc2xpY2UoYyk6bnVsbCE9PWwmJihlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bbF09dGhpcy5lcnJvcnMuc2xpY2UoYykpLHRoaXMuaGFuZGxlRXJyb3Iodil9LGcucHJvdG90eXBlLnZhbGlkYXRlRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiB0LmZvcm1hdHx8IXRoaXMuZm9ybWF0VmFsaWRhdG9yc1t0LmZvcm1hdF0pcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XS5jYWxsKG51bGwsZSx0KTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHJ8fCJudW1iZXIiPT10eXBlb2Ygcj90aGlzLmNyZWF0ZUVycm9yKF8uRk9STUFUX0NVU1RPTSx7bWVzc2FnZTpyfSwiIiwiL2Zvcm1hdCIsbnVsbCxlLHQpOnImJiJvYmplY3QiPT09KHZvaWQgMD09PXI/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShyKSk/dGhpcy5jcmVhdGVFcnJvcihfLkZPUk1BVF9DVVNUT00se21lc3NhZ2U6ci5tZXNzYWdlfHwiPyJ9LHIuZGF0YVBhdGh8fCIiLHIuc2NoZW1hUGF0aHx8Ii9mb3JtYXQiLG51bGwsZSx0KTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZURlZmluZWRLZXl3b3Jkcz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHRoaXMuZGVmaW5lZEtleXdvcmRzKWlmKHZvaWQgMCE9PXRbbl0pZm9yKHZhciBpPXRoaXMuZGVmaW5lZEtleXdvcmRzW25dLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXSxhPXMoZSx0W25dLHQscik7aWYoInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5LRVlXT1JEX0NVU1RPTSx7a2V5Om4sbWVzc2FnZTphfSwiIiwiIixudWxsLGUsdCkucHJlZml4V2l0aChudWxsLG4pO2lmKGEmJiJvYmplY3QiPT09KHZvaWQgMD09PWE/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShhKSkpe3ZhciB1PWEuY29kZTtpZigic3RyaW5nIj09dHlwZW9mIHUpe2lmKCFfW3VdKXRocm93IG5ldyBFcnJvcigiVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICIrdSk7dT1fW3VdfWVsc2UibnVtYmVyIiE9dHlwZW9mIHUmJih1PV8uS0VZV09SRF9DVVNUT00pO3ZhciBjPSJvYmplY3QiPT09KDAsZC5kZWZhdWx0KShhLm1lc3NhZ2UpP2EubWVzc2FnZTp7a2V5Om4sbWVzc2FnZTphLm1lc3NhZ2V8fCI/In0sZj1hLnNjaGVtYVBhdGh8fCIvIituLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpO3JldHVybiB0aGlzLmNyZWF0ZUVycm9yKHUsYyxhLmRhdGFQYXRofHxudWxsLGYsbnVsbCxlLHQpfX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVCYXNpYz1mdW5jdGlvbihlLHQscil7dmFyIG47cmV0dXJuKG49dGhpcy52YWxpZGF0ZVR5cGUoZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOihuPXRoaXMudmFsaWRhdGVFbnVtKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZVR5cGU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LnR5cGUpcmV0dXJuIG51bGw7dmFyIHI9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpO251bGw9PT1lP3I9Im51bGwiOkFycmF5LmlzQXJyYXkoZSkmJihyPSJhcnJheSIpO3ZhciBuPXQudHlwZTtBcnJheS5pc0FycmF5KG4pfHwobj1bbl0pO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldO2lmKG89PT1yfHwiaW50ZWdlciI9PT1vJiYibnVtYmVyIj09PXImJmUlMT09MClyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLklOVkFMSURfVFlQRSx7dHlwZTpyLGV4cGVjdGVkOm4uam9pbigiLyIpfSwiIiwiIixudWxsLGUsdCl9LGcucHJvdG90eXBlLnZhbGlkYXRlRW51bT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQuZW51bSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHQuZW51bS5sZW5ndGg7cisrKXtpZihyZWN1cnNpdmVDb21wYXJlKGUsdC5lbnVtW3JdKSlyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLkVOVU1fTUlTTUFUQ0gse3ZhbHVlOiJ1bmRlZmluZWQiIT10eXBlb2YgSlNPTj8oMCxpLmRlZmF1bHQpKGUpOmV9LCIiLCIiLG51bGwsZSx0KX0sZy5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTWluTWF4KGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5hTihlLHQscil8fG51bGx9O3ZhciBiPU1hdGgucG93KDIsLTUxKSxtPTEtYjtnLnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm11bHRpcGxlT2Z8fHQuZGl2aXNpYmxlQnk7aWYodm9pZCAwPT09cilyZXR1cm4gbnVsbDtpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBuPWUvciUxO2lmKG4+PWImJm48bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NVUxUSVBMRV9PRix7dmFsdWU6ZSxtdWx0aXBsZU9mOnJ9LCIiLCIiLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXg9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYodm9pZCAwIT09dC5taW5pbXVtKXtpZihlPHQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NSU5JTVVNLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL21pbmltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1pbmltdW0mJmU9PT10Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvZXhjbHVzaXZlTWluaW11bSIsbnVsbCxlLHQpfWlmKHZvaWQgMCE9PXQubWF4aW11bSl7aWYoZT50Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUFYSU1VTSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9tYXhpbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNYXhpbXVtJiZlPT09dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL2V4Y2x1c2l2ZU1heGltdW0iLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVOYU49ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGU/bnVsbDohMD09PWlzTmFOKGUpfHxlPT09MS8wfHxlPT09LTEvMD90aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX05PVF9BX05VTUJFUix7dmFsdWU6ZX0sIiIsIi90eXBlIixudWxsLGUsdCk6bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGUsdCxyKXx8dGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZSx0LHIpfHxudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aD1mdW5jdGlvbihlLHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9udWxsOnZvaWQgMCE9PXQubWluTGVuZ3RoJiZlLmxlbmd0aDx0Lm1pbkxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uU1RSSU5HX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5MZW5ndGh9LCIiLCIvbWluTGVuZ3RoIixudWxsLGUsdCk6dm9pZCAwIT09dC5tYXhMZW5ndGgmJmUubGVuZ3RoPnQubWF4TGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IoXy5TVFJJTkdfTEVOR1RIX0xPTkcse2xlbmd0aDplLmxlbmd0aCxtYXhpbXVtOnQubWF4TGVuZ3RofSwiIiwiL21heExlbmd0aCIsbnVsbCxlLHQpOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8InN0cmluZyIhPXR5cGVvZiB0LnBhdHRlcm4mJiEodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSlyZXR1cm4gbnVsbDt2YXIgcjtpZih0LnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApcj10LnBhdHRlcm47ZWxzZXt2YXIgbixpPSIiLG89dC5wYXR0ZXJuLm1hdGNoKC9eXC8oLispXC8oW2ltZ10qKSQvKTtvPyhuPW9bMV0saT1vWzJdKTpuPXQucGF0dGVybixyPW5ldyBSZWdFeHAobixpKX1yZXR1cm4gci50ZXN0KGUpP251bGw6dGhpcy5jcmVhdGVFcnJvcihfLlNUUklOR19QQVRURVJOLHtwYXR0ZXJuOnQucGF0dGVybn0sIiIsIi9wYXR0ZXJuIixudWxsLGUsdCl9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3RoaXMudmFsaWRhdGVBcnJheUxlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZSx0LHIpfHxudWxsOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdm9pZCAwIT09dC5taW5JdGVtcyYmZS5sZW5ndGg8dC5taW5JdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5JdGVtc30sIiIsIi9taW5JdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhJdGVtcyYmZS5sZW5ndGg+dC5tYXhJdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heEl0ZW1zfSwiIiwiL21heEl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXM9ZnVuY3Rpb24oZSx0KXtpZih0LnVuaXF1ZUl0ZW1zKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1yKzE7bjxlLmxlbmd0aDtuKyspaWYocmVjdXJzaXZlQ29tcGFyZShlW3JdLGVbbl0pKXt2YXIgaT10aGlzLmNyZWF0ZUVycm9yKF8uQVJSQVlfVU5JUVVFLHttYXRjaDE6cixtYXRjaDI6bn0sIiIsIi91bmlxdWVJdGVtcyIsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IoaSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5pdGVtcylyZXR1cm4gbnVsbDt2YXIgbixpO2lmKEFycmF5LmlzQXJyYXkodC5pdGVtcykpe2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspaWYoaTx0Lml0ZW1zLmxlbmd0aCl7aWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5pdGVtc1tpXSxbaV0sWyJpdGVtcyIsaV0scisiLyIraSkpcmV0dXJuIG59ZWxzZSBpZih2b2lkIDAhPT10LmFkZGl0aW9uYWxJdGVtcylpZigiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxJdGVtcyl7aWYoIXQuYWRkaXRpb25hbEl0ZW1zJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uQVJSQVlfQURESVRJT05BTF9JVEVNUyx7fSwiLyIraSwiL2FkZGl0aW9uYWxJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5hZGRpdGlvbmFsSXRlbXMsW2ldLFsiYWRkaXRpb25hbEl0ZW1zIl0scisiLyIraSkpcmV0dXJuIG59ZWxzZSBmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQuaXRlbXMsW2ldLFsiaXRlbXMiXSxyKyIvIitpKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJvYmplY3QiIT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSl8fG51bGw9PT1lfHxBcnJheS5pc0FycmF5KGUpP251bGw6dGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGUsdCxyKXx8bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj0oMCx5LmRlZmF1bHQpKGUpO3JldHVybiB2b2lkIDAhPT10Lm1pblByb3BlcnRpZXMmJm4ubGVuZ3RoPHQubWluUHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWluaW11bTp0Lm1pblByb3BlcnRpZXN9LCIiLCIvbWluUHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhQcm9wZXJ0aWVzJiZuLmxlbmd0aD50Lm1heFByb3BlcnRpZXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLHtwcm9wZXJ0eUNvdW50Om4ubGVuZ3RoLG1heGltdW06dC5tYXhQcm9wZXJ0aWVzfSwiIiwiL21heFByb3BlcnRpZXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5yZXF1aXJlZClmb3IodmFyIHI9MDtyPHQucmVxdWlyZWQubGVuZ3RoO3IrKyl7dmFyIG49dC5yZXF1aXJlZFtyXTtpZih2b2lkIDA9PT1lW25dKXt2YXIgaT10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX1JFUVVJUkVELHtrZXk6bn0sIiIsIi9yZXF1aXJlZC8iK3IsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IoaSkpcmV0dXJuIGl9fXJldHVybiBudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2Zvcih2YXIgaSBpbiBlKXt2YXIgbz1yKyIvIitpLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHM9ITE7aWYodm9pZCAwIT09dC5wcm9wZXJ0aWVzJiZ2b2lkIDAhPT10LnByb3BlcnRpZXNbaV0mJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQucHJvcGVydGllc1tpXSxbaV0sWyJwcm9wZXJ0aWVzIixpXSxvKSkpcmV0dXJuIG47aWYodm9pZCAwIT09dC5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIGEgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIHU9bmV3IFJlZ0V4cChhKTtpZih1LnRlc3QoaSkmJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQucGF0dGVyblByb3BlcnRpZXNbYV0sW2ldLFsicGF0dGVyblByb3BlcnRpZXMiLGFdLG8pKSlyZXR1cm4gbn1pZihzKXRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dKTtlbHNlIGlmKHZvaWQgMCE9PXQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dKSwiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXtpZighdC5hZGRpdGlvbmFsUHJvcGVydGllcyYmKG49dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMse2tleTppfSwiIiwiL2FkZGl0aW9uYWxQcm9wZXJ0aWVzIixudWxsLGUsdCkucHJlZml4V2l0aChpLG51bGwpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5hZGRpdGlvbmFsUHJvcGVydGllcyxbaV0sWyJhZGRpdGlvbmFsUHJvcGVydGllcyJdLG8pKXJldHVybiBufWVsc2UgdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYhdGhpcy5rbm93blByb3BlcnR5UGF0aHNbb10mJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwKX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKHZvaWQgMCE9PXQuZGVwZW5kZW5jaWVzKWZvcih2YXIgaSBpbiB0LmRlcGVuZGVuY2llcylpZih2b2lkIDAhPT1lW2ldKXt2YXIgbz10LmRlcGVuZGVuY2llc1tpXTtpZigic3RyaW5nIj09dHlwZW9mIG8pe2lmKHZvaWQgMD09PWVbb10mJihuPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTppLG1pc3Npbmc6b30sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxpKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYoQXJyYXkuaXNBcnJheShvKSlmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIGE9b1tzXTtpZih2b2lkIDA9PT1lW2FdJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX0RFUEVOREVOQ1lfS0VZLHtrZXk6aSxtaXNzaW5nOmF9LCIiLCIvIitzLG51bGwsZSx0KS5wcmVmaXhXaXRoKG51bGwsaSkucHJlZml4V2l0aChudWxsLCJkZXBlbmRlbmNpZXMiKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlLG8sW10sWyJkZXBlbmRlbmNpZXMiLGldLHIpKXJldHVybiBufXJldHVybiBudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihlLHQscil8fHRoaXMudmFsaWRhdGVBbnlPZihlLHQscil8fHRoaXMudmFsaWRhdGVPbmVPZihlLHQscil8fHRoaXMudmFsaWRhdGVOb3QoZSx0LHIpfHxudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFsbE9mKXJldHVybiBudWxsO2Zvcih2YXIgbixpPTA7aTx0LmFsbE9mLmxlbmd0aDtpKyspe3ZhciBvPXQuYWxsT2ZbaV07aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsbyxbXSxbImFsbE9mIixpXSxyKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVBbnlPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5hbnlPZilyZXR1cm4gbnVsbDt2YXIgbixpLG89W10scz10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLGk9dGhpcy5rbm93blByb3BlcnR5UGF0aHMpO2Zvcih2YXIgYT0hMCx1PTA7dTx0LmFueU9mLmxlbmd0aDt1Kyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBjPXQuYW55T2ZbdV0sZj10aGlzLmVycm9ycy5sZW5ndGgsbD10aGlzLnZhbGlkYXRlQWxsKGUsYyxbXSxbImFueU9mIix1XSxyKTtpZihudWxsPT09bCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgZCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylpW2RdPSEwLGRlbGV0ZSBuW2RdO2Zvcih2YXIgcCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKWlbcF18fChuW3BdPSEwKTsKLy8gV2UgbmVlZCB0byBjb250aW51ZSBsb29waW5nIHNvIHdlIGNhdGNoIGFsbCB0aGUgcHJvcGVydHkgZGVmaW5pdGlvbnMsIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhbiBlcnJvcgphPSExO2NvbnRpbnVlfXJldHVybiBudWxsfWwmJm8ucHVzaChsLnByZWZpeFdpdGgobnVsbCwiIit1KS5wcmVmaXhXaXRoKG51bGwsImFueU9mIikpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksYT8obz1vLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKF8uQU5ZX09GX01JU1NJTkcse30sIiIsIi9hbnlPZiIsbyxlLHQpKTp2b2lkIDB9LGcucHJvdG90eXBlLnZhbGlkYXRlT25lT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQub25lT2YpcmV0dXJuIG51bGw7dmFyIG4saSxvPW51bGwscz1bXSxhPXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsaT10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciB1PTA7dTx0Lm9uZU9mLmxlbmd0aDt1Kyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBjPXQub25lT2ZbdV0sZj10aGlzLmVycm9ycy5sZW5ndGgsbD10aGlzLnZhbGlkYXRlQWxsKGUsYyxbXSxbIm9uZU9mIix1XSxyKTtpZihudWxsPT09bCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYobnVsbCE9PW8pcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksdGhpcy5jcmVhdGVFcnJvcihfLk9ORV9PRl9NVUxUSVBMRSx7aW5kZXgxOm8saW5kZXgyOnV9LCIiLCIvb25lT2YiLG51bGwsZSx0KTtpZihvPXUsdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKXtmb3IodmFyIGQgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpaVtkXT0hMCxkZWxldGUgbltkXTtmb3IodmFyIHAgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocylpW3BdfHwobltwXT0hMCl9fWVsc2UgbCYmcy5wdXNoKGwpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksbnVsbD09PW8/KHM9cy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2UoYSkpLHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksdGhpcy5jcmVhdGVFcnJvcihfLk9ORV9PRl9NSVNTSU5HLHt9LCIiLCIvb25lT2YiLHMsZSx0KSk6KHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksbnVsbCl9LGcucHJvdG90eXBlLnZhbGlkYXRlTm90PWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lm5vdClyZXR1cm4gbnVsbDt2YXIgbixpLG89dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxpPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzLHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBzPXRoaXMudmFsaWRhdGVBbGwoZSx0Lm5vdCxudWxsLG51bGwsciksYT10aGlzLmVycm9ycy5zbGljZShvKTtyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxvKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksbnVsbD09PXMmJjA9PT1hLmxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uTk9UX1BBU1NFRCx7fSwiIiwiL25vdCIsbnVsbCxlLHQpOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYT1mdW5jdGlvbihlLHQscil7aWYoIXQubGlua3MpcmV0dXJuIG51bGw7Zm9yKHZhciBuLGk9MDtpPHQubGlua3MubGVuZ3RoO2krKyl7dmFyIG89dC5saW5rc1tpXTtpZigiZGVzY3JpYmVkYnkiPT09by5yZWwpe2Zvcih2YXIgcz1uZXcgVXJpVGVtcGxhdGUoby5ocmVmKSxhPSEwLHU9MDt1PHMudmFyTmFtZXMubGVuZ3RoO3UrKylpZighKHMudmFyTmFtZXNbdV1pbiBlKSl7YT0hMTticmVha31pZihhKXt2YXIgYz1zLmZpbGxGcm9tT2JqZWN0KGUpLGY9eyRyZWY6Y307aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsZixbXSxbImxpbmtzIixpXSxyKSlyZXR1cm4gbn19fX07dmFyIF89e0lOVkFMSURfVFlQRTowLEVOVU1fTUlTTUFUQ0g6MSxBTllfT0ZfTUlTU0lORzoxMCxPTkVfT0ZfTUlTU0lORzoxMSxPTkVfT0ZfTVVMVElQTEU6MTIsTk9UX1BBU1NFRDoxMywKLy8gTnVtZXJpYyBlcnJvcnMKTlVNQkVSX01VTFRJUExFX09GOjEwMCxOVU1CRVJfTUlOSU1VTToxMDEsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOjEwMixOVU1CRVJfTUFYSU1VTToxMDMsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOjEwNCxOVU1CRVJfTk9UX0FfTlVNQkVSOjEwNSwKLy8gU3RyaW5nIGVycm9ycwpTVFJJTkdfTEVOR1RIX1NIT1JUOjIwMCxTVFJJTkdfTEVOR1RIX0xPTkc6MjAxLFNUUklOR19QQVRURVJOOjIwMiwKLy8gT2JqZWN0IGVycm9ycwpPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOjMwMCxPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOjMwMSxPQkpFQ1RfUkVRVUlSRUQ6MzAyLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6MzAzLE9CSkVDVF9ERVBFTkRFTkNZX0tFWTozMDQsCi8vIEFycmF5IGVycm9ycwpBUlJBWV9MRU5HVEhfU0hPUlQ6NDAwLEFSUkFZX0xFTkdUSF9MT05HOjQwMSxBUlJBWV9VTklRVUU6NDAyLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6NDAzLAovLyBDdXN0b20vdXNlci1kZWZpbmVkIGVycm9ycwpGT1JNQVRfQ1VTVE9NOjUwMCxLRVlXT1JEX0NVU1RPTTo1MDEsCi8vIFNjaGVtYSBzdHJ1Y3R1cmUKQ0lSQ1VMQVJfUkVGRVJFTkNFOjYwMCwKLy8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9ucwpVTktOT1dOX1BST1BFUlRZOjFlM30sUj17fTtmb3IodmFyIHcgaW4gXylSW19bd11dPXc7dmFyIFM9e0lOVkFMSURfVFlQRToiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pIixFTlVNX01JU01BVENIOiJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfSIsQU5ZX09GX01JU1NJTkc6J0RhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAiYW55T2YiJyxPTkVfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJvbmVPZiInLE9ORV9PRl9NVUxUSVBMRTonRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gIm9uZU9mIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn0nLE5PVF9QQVNTRUQ6J0RhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSAibm90IicsCi8vIE51bWVyaWMgZXJyb3JzCk5VTUJFUl9NVUxUSVBMRV9PRjoiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSBtdWx0aXBsZSBvZiB7bXVsdGlwbGVPZn0iLE5VTUJFUl9NSU5JTVVNOiJWYWx1ZSB7dmFsdWV9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHttaW5pbXVtfSIsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtaW5pbXVtIHttaW5pbXVtfSIsTlVNQkVSX01BWElNVU06IlZhbHVlIHt2YWx1ZX0gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0ge21heGltdW19IixOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1heGltdW0ge21heGltdW19IixOVU1CRVJfTk9UX0FfTlVNQkVSOiJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciIsCi8vIFN0cmluZyBlcnJvcnMKU1RSSU5HX0xFTkdUSF9TSE9SVDoiU3RyaW5nIGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0gY2hhcnMpLCBtaW5pbXVtIHttaW5pbXVtfSIsU1RSSU5HX0xFTkdUSF9MT05HOiJTdHJpbmcgaXMgdG9vIGxvbmcgKHtsZW5ndGh9IGNoYXJzKSwgbWF4aW11bSB7bWF4aW11bX0iLFNUUklOR19QQVRURVJOOiJTdHJpbmcgZG9lcyBub3QgbWF0Y2ggcGF0dGVybjoge3BhdHRlcm59IiwKLy8gT2JqZWN0IGVycm9ycwpPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiJUb28gZmV3IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWluaW11bSB7bWluaW11bX0iLE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IlRvbyBtYW55IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWF4aW11bSB7bWF4aW11bX0iLE9CSkVDVF9SRVFVSVJFRDoiTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eToge2tleX0iLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IkFkZGl0aW9uYWwgcHJvcGVydGllcyBub3QgYWxsb3dlZCIsT0JKRUNUX0RFUEVOREVOQ1lfS0VZOiJEZXBlbmRlbmN5IGZhaWxlZCAtIGtleSBtdXN0IGV4aXN0OiB7bWlzc2luZ30gKGR1ZSB0byBrZXk6IHtrZXl9KSIsCi8vIEFycmF5IGVycm9ycwpBUlJBWV9MRU5HVEhfU0hPUlQ6IkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsQVJSQVlfTEVOR1RIX0xPTkc6IkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19IixBUlJBWV9VTklRVUU6IkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSkiLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWQiLAovLyBGb3JtYXQgZXJyb3JzCkZPUk1BVF9DVVNUT006IkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KSIsS0VZV09SRF9DVVNUT006IktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KSIsCi8vIFNjaGVtYSBzdHJ1Y3R1cmUKQ0lSQ1VMQVJfUkVGRVJFTkNFOiJDaXJjdWxhciAkcmVmczoge3VybHN9IiwKLy8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9ucwpVTktOT1dOX1BST1BFUlRZOiJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKSJ9O1ZhbGlkYXRpb25FcnJvci5wcm90b3R5cGU9KDAsZi5kZWZhdWx0KShFcnJvci5wcm90b3R5cGUpLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3I9VmFsaWRhdGlvbkVycm9yLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUubmFtZT0iVmFsaWRhdGlvbkVycm9yIixWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnByZWZpeFdpdGg9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT09ZSYmKGU9ZS5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKSx0aGlzLmRhdGFQYXRoPSIvIitlK3RoaXMuZGF0YVBhdGgpLG51bGwhPT10JiYodD10LnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuc2NoZW1hUGF0aD0iLyIrdCt0aGlzLnNjaGVtYVBhdGgpLG51bGwhPT10aGlzLnN1YkVycm9ycylmb3IodmFyIHI9MDtyPHRoaXMuc3ViRXJyb3JzLmxlbmd0aDtyKyspdGhpcy5zdWJFcnJvcnNbcl0ucHJlZml4V2l0aChlLHQpO3JldHVybiB0aGlzfTt2YXIgUD17fSxPPWNyZWF0ZUFwaSgpO08uYWRkTGFuZ3VhZ2UoImVuLWdiIixTKSwKLy9sZWdhY3kgcHJvcGVydHkKTy50djQ9TywKLy9yZXR1cm4gdHY0Owp0LmRlZmF1bHQ9TywKLy99CmUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUxMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTEzKSxfX2VzTW9kdWxlOiEwfX0sLyogNTEzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDUxNCksZS5leHBvcnRzPXIoMTMpLk9iamVjdC5pc0Zyb3plbn0sLyogNTE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKQp2YXIgbj1yKDM2KTtyKDk3KSgiaXNGcm96ZW4iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSwvKiA1MTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigzNyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoMTQpLHY9cigyMTEpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoMTAwKSxtPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGIpLF89eS5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlcG9ydGVyT2JqZWN0KGUsdCxyKXsoMCxmLmRlZmF1bHQpKHRoaXMsUmVwb3J0ZXJPYmplY3QpO3ZhciBuPXRoaXM7bi5fcGFyZW50PWUsbi5fb3duZXI9dCxuLl91cmw9cixuLl9idXM9ZS5fYnVzLG4uX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkocikuZG9tYWluLG4uX29ialN1YnNjcmlwdG9yVVJMPW4uX3VybCsiL3N1YnNjcmlwdGlvbiIsbi5fc3Vic2NyaXB0aW9ucz17fSxuLl9jaGlsZHJlbnM9W10sbi5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sbi5fZm9yd2FyZHM9e30sbi5faXNUb1NhdmVEYXRhPSExLG4uX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsZC5kZWZhdWx0KShSZXBvcnRlck9iamVjdCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzOwovL2FkZCBzdWJzY3JpcHRpb24gbGlzdGVuZXIuLi4KdC5fc3Vic2NyaXB0aW9uTGlzdGVuZXI9dC5fYnVzLmFkZExpc3RlbmVyKHQuX29ialN1YnNjcmlwdG9yVVJMLGZ1bmN0aW9uKGUpe3N3aXRjaChfLmluZm8oIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCByZWNlaXZlZCBdIixlKSxlLnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblJlbW90ZVN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblJlbW90ZVVuU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UicmVzcG9uc2UiOnQuX29uUmVtb3RlUmVzcG9uc2UoZSl9fSk7dmFyIHI9dC5fdXJsKyIvY2hhbmdlcyI7dC5fY2hhbmdlTGlzdGVuZXI9dC5fYnVzLmFkZExpc3RlbmVyKHIsZnVuY3Rpb24obil7Xy5pbmZvKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlci0iK3IrIi1SQ1Y6ICIsbiksCi8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hhbmdlcz8KZS5faXNUb1NhdmVEYXRhJiZuLmJvZHkuYXR0cmlidXRlJiYoXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyIC0gc2F2ZSBkYXRhOiAiLG4pLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsInZlcnNpb24iLG4uYm9keS52ZXJzaW9uKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJsYXN0TW9kaWZpZWQiLG4uYm9keS5sYXN0TW9kaWZpZWQpLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCEwLHQuX3VybCxuLmJvZHkuYXR0cmlidXRlLG4uYm9keS52YWx1ZSkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3N1YnNjcmlwdGlvbkxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLHUuZGVmYXVsdCkoZS5fZm9yd2FyZHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5mb3J3YXJkVW5TdWJzY3JpYmUodCl9KSwKLy9yZW1vdmUgYWxsIHN1YnNjcmlwdGlvbnMKKDAsdS5kZWZhdWx0KShlLl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX3N1YnNjcmlwdGlvbnNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicmVzdW1lU3Vic2NyaXB0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYoMCx1LmRlZmF1bHQpKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSAtIHJlc3VtZSBzdWJzY3JpcHRpb25zIix0LG4sdC5fY2hpbGRyZW5zKSx0Ll9zdWJzY3JpcHRpb25zW25dfHwodC5fc3Vic2NyaXB0aW9uc1tuXT1uZXcgZy5kZWZhdWx0KHQuX2J1cyx0Ll9vd25lcix0Ll91cmwsdC5fY2hpbGRyZW5zLCEwKSl9KX19LHtrZXk6ImZvcndhcmRTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6ZSxzb3VyY2U6dC5fb3duZXJ9fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe2lmKF8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtc3Vic2NyaWJlLXJlc3BvbnNlKHJlcG9ydGVyKTogIixyKSwyMDA9PT1yLmJvZHkuY29kZSl7dmFyIG89dC5fYnVzLmFkZEZvcndhcmQodC5fdXJsLHQuX293bmVyKTt0Ll9mb3J3YXJkc1tlWzBdXT1vLG4oKX1lbHNlIGkoIkVycm9yIG9uIG1zZy1ub2RlIHN1YnNjcmlwdGlvbjogIityLmJvZHkuZGVzYyl9KX0pfX0se2tleToiZm9yd2FyZFVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2ZvcndhcmRzW2VdLnJlbW92ZSgpLGRlbGV0ZSB0Ll9mb3J3YXJkc1tlXTsKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIHRoZSBtc2ctbm9kZSBTdWJzY3JpcHRpb25NYW5hZ2VyIGNvbXBvbmVudAp2YXIgcj17dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdC5fZG9tYWluKyIvc20iLGJvZHk6e3Jlc291cmNlczpbZV0sc291cmNlOnQuX293bmVyfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiYWRkQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCBuKCk7dmFyIHM9ci5fdXJsKyIvY2hpbGRyZW4vIjtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLHMpLGUuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9jaGlsZHJlbnMucHVzaChlKX0pOy8qCiAgICAgICAgX3RoaXMuX2NoaWxkcmVucy5mb3JFYWNoKChjaGlsZCkgPT4gewogICAgICAgICAgbGV0IGNoaWxkSWQgPSBjaGlsZEJhc2VVUkwgKyBjaGlsZDsKICAgICAgICAgICBsZXQgc2VsZkZvcndhcmQgPSBfdGhpcy5fYnVzLmFkZEZvcndhcmQoY2hpbGRJZCwgb3duZXIpOwogICAgICAgICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goc2VsZkZvcndhcmQpOwogICAgICAgIH0pOyovCnZhciBhPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gYS5wdXNoKHMrZSl9KTsKLy9fdGhpcy5fc3RvcmFnZVN1YnNjcmlwdGlvbnNbX3RoaXMuX29ialN1YnNjcmlwdG9yVVJMXSA9IHt1cmw6IF90aGlzLl91cmwsIG93bmVyOiBfdGhpcy5fb3duZXIsIGNoaWxkcmVuczogX3RoaXMuX2NoaWxkcmVuc307Ci8vRkxPVy1PVVQ6IG1lc3NhZ2Ugc2VudCB0byB0aGUgbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdmFyIHU9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIityLl9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOmEsc291cmNlOnIuX293bmVyfX07ci5fYnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2UocmVwb3J0ZXIpOiIsZSksMjAwPT09ZS5ib2R5LmNvZGU/KAovL2FkZCBjaGlsZHJlbiBsaXN0ZW5lcnMgb24gbG9jYWwgLi4uCmEuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtpZigKLy9UT0RPOiB3aGF0IHRvZG8gaGVyZT8gU2F2ZSBjaGlsZHJlbnM/Cl8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWRdIixlKSwiY3JlYXRlIj09PWUudHlwZSYmZS50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmdC5faXNUb1NhdmVEYXRhKXsKLy8gaWYgdGhlIHZhbHVlIGlzIG5vdCBlbmNyeXB0ZWQgbGV0cyBlbmNyeXB0IGl0Ci8vIHRvZG86IHNob3VsZCBiZSBzdWJqZWN0IHRvIHNvbWUgcG9saWN5CnZhciBuPSgwLGguc3BsaXRPYmplY3RVUkwpKGUudG8pLG89bi51cmw7Ci8vcmVtb3ZlIGZhbHNlIHdoZW4gbXV0dWFsQXV0aGVudGljYXRpb24gaXMgZW5hYmxlZAoic3RyaW5nIiE9dHlwZW9mIGUuYm9keS52YWx1ZT8oXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGluZyByZWNlaXZlZCBkYXRhICIsZS5ib2R5LnZhbHVlKSxtLmRlZmF1bHQuZW5jcnlwdERhdGFPYmplY3QoZS5ib2R5LnZhbHVlLG8pLnRoZW4oZnVuY3Rpb24odCl7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGVkIGRhdGEgIix0KSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsKDAsaS5kZWZhdWx0KSh0KSl9KS5jYXRjaChmdW5jdGlvbih0KXtfLndhcm4oIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZmFpbGVkIDogIix0LCIgU3RvcmluZyB1bmVuY3J5cHRlZCIpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfX0pO3IuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2gobik7dmFyIG89ci5fYnVzLmFkZEZvcndhcmQoZSxyLl9vd25lcik7ci5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChvKX0pLG4oKSk6bygiRXJyb3Igb24gbXNnLW5vZGUgc3Vic2NyaXB0aW9uOiAiK2UuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJfc3RvcmVDaGlsZE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49KDAsaC5zcGxpdE9iamVjdFVSTCkoZS50byksaT1uLnVybCxvPW4ucmVzb3VyY2Uscz17aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR9LGE9ZS5ib2R5LnJlc291cmNlLHU9bzthJiYodSs9Ii4iK2EpLAovLyB0aGlzIGlkZW50aXR5IGRhdGEgaXMgbm90IG5lZWRlZCB0byBiZSBzdG9yZWQKZGVsZXRlIHMuaWRlbnRpdHkuYXNzZXJ0aW9uLGRlbGV0ZSBzLmlkZW50aXR5LmV4cGlyZXMsci5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxpLHUscyl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSgwLGguZGl2aWRlVVJMKShlLl9vd25lcikuZG9tYWluOwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgZGlyZWN0bHkgdG8gYWxsIHN1YnNjcmliZXJzIG9mIHRoZSByZXBvcnRlcgplLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vYmpTdWJzY3JpcHRvclVSTCx0bzplLl91cmwrIi9jaGFuZ2VzIn0pLAovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gdGhlIG1zZy1ub2RlIE9iamVjdEFsbG9jYXRpb25NYW5hZ2VyIGNvbXBvbmVudAplLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIit0KyIvb2JqZWN0LWFkZHJlc3MtYWxsb2NhdGlvbiIsYm9keTp7cmVzb3VyY2U6ZS5fdXJsLGNoaWxkcmVuUmVzb3VyY2VzOmUuX2NoaWxkcmVuc319KSxlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3BhcmVudC5fcmVwb3J0ZXJzW2UuX3VybF19fSx7a2V5OiJfb25SZW1vdGVSZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzp0Ll91cmwsYm9keTp7Y29kZTplLmJvZHkuY29kZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksc291cmNlOmUuZnJvbX19KX19LHtrZXk6Il9vblJlbW90ZVN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5zdWJzY3JpYmVyOwovL3ZhbGlkYXRlIGlmIHN1YnNjcmlwdGlvbiBhbHJlYWR5IGV4aXN0cz8KdC5fc3Vic2NyaXB0aW9uc1tyXSYmCi8vIGxldCBlcnJvck1zZyA9IHsKLy8gICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBoeXBlcnR5VVJMLAovLyAgIGJvZHk6IHsgY29kZTogNTAwLCBkZXNjOiAnU3Vic2NyaXB0aW9uIGZvciAoJyArIF90aGlzLl91cmwgKyAnIDogJyArICBoeXBlcnR5VVJMICsgJykgYWxyZWFkeSBleGlzdHMhJyB9Ci8vIH07Ci8vCi8vIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZXJyb3JNc2cpOwovLyByZXR1cm47Ci8vIG5ldyB2ZXJzaW9uIGJlY2F1c2Ugb2YgcmV1c2FnZQp0Ll9zdWJzY3JpcHRpb25zW3JdLl9yZWxlYXNlTGlzdGVuZXJzKCk7Ci8vYXNrIHRvIHN1YnNjcmliZSB0byBTeW5jaGVyPyAoZGVwZW5kcyBvbiB0aGUgb3BlcmF0aW9uIG1vZGUpCi8vVE9ETzogZ2V0IG1vZGUgZnJvbSBvYmplY3QhCnZhciBuPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19OwovL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5CmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihuLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLHQuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe18ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtcmVwbHk6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUmJih0Ll9zdWJzY3JpcHRpb25zW3JdfHwoXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSBfb25SZW1vdGVTdWJzY3JpYmU6Iix0Ll9jaGlsZHJlbnMpLHQuX3N1YnNjcmlwdGlvbnNbcl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLHQuX2NoaWxkcmVucywhMCkpKTsKLy9UT0RPOiBhdHVhbGl6YXIgbXV0dWFsIG5vIHN0b3JhZ2UgZSB0YiBuYSBzZXNzaW9uS2V5cwovLyBTdG9yZSBmb3IgZWFjaCByZXBvcnRlciBoeXBlcnR5IHRoZSBkYXRhT2JqZWN0CnZhciBpPXZvaWQgMDtlLmJvZHkuaWRlbnRpdHkmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMJiYoaT1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpYmVyVXNlcnMiLGkpKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYKLy8gICAgICAgICAgX3RoaXMuX3BhcmVudC5faWRlbnRpdHlNb2R1bGUudXBkYXRlSXNUb0VuY3J5cHRGb3JEYXRhT2JqZWN0U2Vzc2lvbktleShfdGhpcy5fdXJsLCBtc2cuYm9keS5tdXR1YWwpLnRoZW4oKCk9PnsKdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwibXV0dWFsIixlLmJvZHkubXV0dWFsKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpcHRpb25zIixyKSxuLmJvZHkub3duZXI9dC5fb3duZXIsCi8vRkxPVy1PVVQ6IHN1YnNjcmlwdGlvbiByZXNwb25zZSBzZW50IChmb3J3YXJkIGZyb20gaW50ZXJuYWwgSHlwZXJ0eSkKdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6bi5ib2R5fSl9KX19LHtrZXk6Il9vblJlbW90ZVVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnNvdXJjZSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07aWYobil7bi5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBpPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O3QuX2J1cy5wb3N0TWVzc2FnZShpKX19fSx7a2V5OiJpc1RvU2F2ZURhdGEiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc1RvU2F2ZURhdGE9ZX19XSksUmVwb3J0ZXJPYmplY3R9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTE2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQobCkscD1yKDE0KSx5PXIoMjExKSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDEwMCksZz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZCh2KSxiPWQuZ2V0TG9nZ2VyKCJPYnNlcnZlck9iamVjdCIpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBPYnNlcnZlck9iamVjdChlLHQscil7dmFyIG49dGhpczsoMCx1LmRlZmF1bHQpKHRoaXMsT2JzZXJ2ZXJPYmplY3QpO3ZhciBpPXRoaXM7aS5fcGFyZW50PWUsaS5fdXJsPXQsaS5fY2hpbGRyZW5zPXIsaS5fYnVzPWUuX2J1cyxpLl9zdWJzY3JpcHRpb25zPXt9LGkuX3N0b3JhZ2VTdWJzY3JpcHRpb25zPXt9LGkuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLHRoaXMuX2lzVG9TYXZlRGF0YT0hMTt2YXIgbz1pLl91cmwrIi9jaGFuZ2VzIjtpLl9jaGFuZ2VMaXN0ZW5lcj1pLl9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihlKXtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXItIitvKyItUkNWOiAiLGUpLAovL1RPRE86IHdoYXQgdG9kbyBoZXJlPyBTYXZlIGNoYW5nZXM/Cm4uX2lzVG9TYXZlRGF0YSYmZS5ib2R5LmF0dHJpYnV0ZSYmKGIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlciAtIHNhdmUgZGF0YTogIixlKSxpLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITEsaS5fdXJsLCJ2ZXJzaW9uIixlLmJvZHkudmVyc2lvbiksaS5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLGkuX3VybCwibGFzdE1vZGlmaWVkIixlLmJvZHkubGFzdE1vZGlmaWVkKSxpLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMSxpLl91cmwsZS5ib2R5LmF0dHJpYnV0ZSxlLmJvZHkudmFsdWUpKX0pfXJldHVybigwLGYuZGVmYXVsdCkoT2JzZXJ2ZXJPYmplY3QsW3trZXk6Il9uZXdTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9zdWJzY3JpcHRpb25zW2VdO2IubG9nKCJbT2JzZXJ2ZXIgT2JqZWN0IC0gbmV3IHN1YnNjcmlwdGlvbl0gLSAiLHQuX3N1YnNjcmlwdGlvbnMsZSx0Ll9zdWJzY3JpcHRpb25zLmhhc093blByb3BlcnR5KGUpKSxyfHwodC5fc3Vic2NyaXB0aW9uc1tlXT1uZXcgaC5kZWZhdWx0KHQuX2J1cyxlLHQuX3VybCx0Ll9jaGlsZHJlbnMsITEpKX19LHtrZXk6ImFkZFN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmV3U3Vic2NyaXB0aW9uKGUpfX0se2tleToiYWRkQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG4oKTt2YXIgbz1yLl91cmwrIi9jaGlsZHJlbi8iO2IubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgLSBhZGRDaGlsZHJlbnNdIC0gY2hpbGRyZW5zOiAiLGUsbyksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXIuX2J1cy5hZGRMaXN0ZW5lcihvK2UsZnVuY3Rpb24oZSl7aWYoCi8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hpbGRyZW5zPwpiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IHJlY2VpdmVkXSIsZSksImNyZWF0ZSI9PT1lLnR5cGUmJmUudG8uaW5jbHVkZXMoImNoaWxkcmVuIikmJnQuX2lzVG9TYXZlRGF0YSl7dmFyIG89KDAscC5zcGxpdE9iamVjdFVSTCkoZS50bykscz1vLnVybDsKLy9yZW1vdmUgZmFsc2Ugd2hlbiBtdXR1YWxBdXRoZW50aWNhdGlvbiBpcyBlbmFibGVkCiJzdHJpbmciIT10eXBlb2YgZS5ib2R5LnZhbHVlPyhiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixlLmJvZHkudmFsdWUpLGcuZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChlLmJvZHkudmFsdWUscykudGhlbihmdW5jdGlvbih0KXtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSwoMCxpLmRlZmF1bHQpKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2Iud2FybigiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9lbmNyeXB0Q2hpbGRdIGZhaWxlZCwgc3RvcmluZyB1bmVuY3J5cHRlZCAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfWIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgY2hpbGRyZW4gTGlzdGVuZXJzXSIsci5fY2hpbGRyZW5MaXN0ZW5lcnMsbiksLTE9PT1yLl9jaGlsZHJlbkxpc3RlbmVycy5pbmRleE9mKG4pJiZyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG4pfSl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLHAuc3BsaXRPYmplY3RVUkwpKGUudG8pLGk9bi51cmwsbz1uLnJlc291cmNlLHM9e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fTsKLy8gdGhpcyBpZGVudGl0eSBkYXRhIGlzIG5vdCBuZWVkZWQgdG8gYmUgc3RvcmVkCmRlbGV0ZSBzLmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgcy5pZGVudGl0eS5leHBpcmVzO3ZhciBhPWUuYm9keS5yZXNvdXJjZSx1PW87YSYmKHUrPSIuIithKSxiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9zdG9yZUNoaWxkT2JqZWN0XSA6ICIsaSx1LHMpLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEsaSx1LHMpfX0se2tleToicmVtb3ZlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49KDAscC5kaXZpZGVVUkwpKHIpLmRvbWFpbixpPXQuX3VybCsiL3N1YnNjcmlwdGlvbiIsbz10Ll9zdWJzY3JpcHRpb25zW3JdO28mJigKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIHJlbW90ZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVVblN1YnNjcmliZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOmksYm9keTp7c291cmNlOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fX0pLAovL1RPRE86IHNob3VsZCBJIHdhaXQgZm9yIHJlc3BvbnNlIGJlZm9yZSB1bnN1YnNjcmliZSBvbiBtc2ctbm9kZQovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIituKyIvc20iLGJvZHk6e3Jlc291cmNlOnQuX3VybCxjaGlsZHJlblJlc291cmNlczp0Ll9jaGlsZHJlbnN9fSksby5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdKX19LHtrZXk6ImlzVG9TYXZlRGF0YSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzVG9TYXZlRGF0YT1lfX1dKSxPYnNlcnZlck9iamVjdH0oKTt0LmRlZmF1bHQ9bSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9cigxNCkseT1yKDUxOCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbk1hbmFnZXIiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWFuYWdlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbk1hbmFnZXIpLCFlKXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO3ZhciBuPXRoaXM7bi5fYnVzPXQsbi5fc3RvcmFnZT1yLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9e30sCi8vVE9ETzogdGhlc2Ugc2hvdWxkIGJlIHNhdmVkIGluIHBlcnNpc3RlbmNlIGVuZ2luZT8Kbi5ydW50aW1lVVJMPWUsbi5fdXJsPWUrIi9zdWJzY3JpcHRpb25zIiwKLy9UT0RPOiB0aGlzIHNob3VsZCBub3QgYmUgaGFyZGNvZGVkIQpuLl9kb21haW49KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbix0LmFkZExpc3RlbmVyKG4uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOm4uX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOm4uX29uVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZWFkIjpuLl9vblJlYWQoZSl9fSl9cmV0dXJuKDAsZi5kZWZhdWx0KShTdWJzY3JpcHRpb25NYW5hZ2VyLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlci5pbml0XSByZXN1bWUgc3Vic2NyaXB0aW9uczogIixyKSxyJiYoZS5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9ciwoMCxpLmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY3JlYXRlU3Vic2NyaXB0aW9uKHQuZG9tYWluLHQucmVzb3VyY2VzLHQuc3Vic2NyaWJlcix0LmlkZW50aXR5KX0pKSx0KCl9KX0pfX0se2tleToiX29uU3Vic2NyaWJlIiwKLy9tZXNzYWdlIHJlY2VpdmVkIHRvIHNldCBhIHJvdXRpbmcgcGF0aAp2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlcyxuPWUuZnJvbSxpPSgwLHAuZGl2aWRlVVJMKShyWzBdKS5kb21haW4sbz1lLmJvZHkuaWRlbnRpdHk7dC5fY3JlYXRlU3Vic2NyaXB0aW9uKGkscixuLG8pLnRoZW4oZnVuY3Rpb24ocyl7Ci8vZm9yd2FyZCB0byBoeXBlcnR5OgpzLmlkPWUuaWQscy5mcm9tPXQuX3VybCxzLnRvPW4scy5ib2R5PWUuYm9keSxzLmJvZHkuY29kZT0yMDAsdi5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIGNyYWV0ZVN1YnNjcmlwdGlvbjogIixlLHMsbiksdC5fYnVzLnBvc3RNZXNzYWdlKHMpLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dP3IuZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXS5yZXNvdXJjZXMuaW5jbHVkZXMoZSl8fHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dLnJlc291cmNlcy5wdXNoKGUpfSk6dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl09e2RvbWFpbjppLHJlc291cmNlczpyLHN1YnNjcmliZXI6bixpZGVudGl0eTpvfSx0Ll9zdG9yYWdlLnNldCgic3Vic2NyaXB0aW9ucyIsMSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZSl9KX19LHtrZXk6Il9jcmVhdGVTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obyl7Ci8vRkxPVy1PVVQ6IHN1YnNjcmliZSBtZXNzYWdlIHRvIHRoZSBtc2ctbm9kZSwgcmVnaXN0ZXJpbmcgbGlzdGVuZXJzIG9uIHRoZSBicm9rZXIKdmFyIHM9e3R5cGU6InN1YnNjcmliZSIsZnJvbTppLl91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrZSsiL3NtIixib2R5OntpZGVudGl0eTpuLHJlc291cmNlczp0LHNvdXJjZTpyfX07Ci8vc3Vic2NyaWJlIGluIG1zZy1ub2RlCmkuX2J1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2U6ICIsZSk7Ci8vaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7Ly9UT0RPOiB1bmNvbW1lbnQgd2hlbiAgTU4gcmVwbGllcyB3aXRoIGNvcnJlY3QgcmVzcG9uc2UgYm9keSBjb2RlCi8vVE9ETzogc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXMgZm9yIG11bHRpcGxlIHJlc291cmNlcwp2YXIgbj1pLl9zdWJzY3JpcHRpb25zW3JdO3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSAiLGkuX3N1YnNjcmlwdGlvbnMsdCxpLl9zdWJzY3JpcHRpb25zLmhhc093blByb3BlcnR5KHIpKSxufHwoaS5fc3Vic2NyaXB0aW9uc1tyXT17fSksdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuX3N1YnNjcmlwdGlvbnNbcl1bZV09bmV3IGguZGVmYXVsdChpLl9idXMscixlKX0pLG8oZSl9KX0pfX0se2tleToiX29uVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLmJvZHkucmVzb3VyY2U7aWYodC5fc3Vic2NyaXB0aW9uc1tyXSYmdC5fc3Vic2NyaXB0aW9uc1tyXVtuXSl7dmFyIGk9KDAscC5kaXZpZGVVUkwpKG4pLmRvbWFpbixvPXQuX3N1YnNjcmlwdGlvbnNbcl1bbl07aWYoCi8vRkxPVy1PVVQ6IG1lc3NhZ2Ugc2VudCB0byBtc2ctbm9kZSBTdWJzY3JpcHRpb25NYW5hZ2VyIGNvbXBvbmVudAp0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitpKyIvc20iLGJvZHk6e3Jlc291cmNlczpbbl0sc291cmNlOnJ9fSksby5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdW25dLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdKXt2YXIgcz10Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXS5yZXNvdXJjZXMuaW5kZXhPZihuKTstMSE9cyYmdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0ucmVzb3VyY2VzLnNwbGljZShzLDEpLHQuX3N0b3JhZ2Uuc2V0KCJzdWJzY3JpcHRpb25zIiwxLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlKX19dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXZvaWQgMDt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gcmVxdWVzdCB0byByZWFkIFN1YnNjcmlwdGlvbnM6ICIsZSksdC5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkmJmlbcl0pe3ZhciBvPWlbcl0ucmVzb3VyY2VzO249e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6b319fWVsc2Ugbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxkZXNjcmlwdGlvbjoiTm90IEZvdW5kIn19O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dKSxTdWJzY3JpcHRpb25NYW5hZ2VyfSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUxOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig3KSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSksYz11LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbihlLHQscil7KDAsaS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbik7dmFyIG49dGhpcztuLl9zdWJzY3JpYmVyPXQsbi5yZXNvdXJjZT1yLGMubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlci5TdWJzY3JpcHRpb25dIG5ldzogIix0LHIpLAovL2FkZCBmb3J3YXJkCm4uX2xpc3RlbmVyPWUuYWRkRm9yd2FyZChyLHQpfXJldHVybigwLHMuZGVmYXVsdCkoU3Vic2NyaXB0aW9uLFt7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9saXN0ZW5lci5yZW1vdmUoKX19XSksU3Vic2NyaXB0aW9ufSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNjApLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDY5KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDcpLGI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxtPXIoMjA2KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobSksUj1yKDIwNyksdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFIpLFM9cigxNCksUD1yKDIwOCksTz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFApLE09cig1MjApLGs9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChNKSxMPShiLmdldExvZ2dlcigiUEVQIiksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gUnVudGltZUNvcmVDdHgoZSx0LHIsbixpKXsoMCxmLmRlZmF1bHQpKHRoaXMsUnVudGltZUNvcmVDdHgpO3ZhciBvPSgwLHkuZGVmYXVsdCkodGhpcywoUnVudGltZUNvcmVDdHguX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4KSkuY2FsbCh0aGlzKSk7cmV0dXJuIG8uX3J1bnRpbWVVUkw9ZSxvLl9wZXBVUkw9by5fcnVudGltZVVSTCsiL3BlcCIsby5fZ3VpVVJMPW8uX3J1bnRpbWVVUkwrIi9wb2xpY3ktZ3VpIixvLmlkTW9kdWxlPXQsby5ydW50aW1lUmVnaXN0cnk9cixvLmFjdGl2ZVVzZXJQb2xpY3k9dm9pZCAwLG8uc2VydmljZVByb3ZpZGVyUG9saWN5PXt9LG8udXNlclBvbGljaWVzPXt9LG8uc3RvcmFnZU1hbmFnZXI9bixvLnJ1bnRpbWVDYXBhYmlsaXRpZXM9aSxvfXJldHVybigwLHYuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgsZSksKDAsZC5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCxbe2tleToibG9hZENvbmZpZ3VyYXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtlLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazphY3RpdmVQb2xpY3kiKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFjdGl2ZVVzZXJQb2xpY3k9dCxlLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazpncm91cHMiKX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9dDtyZXR1cm4gZS5ncm91cHM9dm9pZCAwPT09cj97fTpyLGUuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOnNwUG9saWNpZXMiKX0pLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49cjtlLnNlcnZpY2VQcm92aWRlclBvbGljeT12b2lkIDA9PT1uP3t9Om4sZS5fbG9hZFVzZXJQb2xpY2llcygpLnRoZW4oZnVuY3Rpb24oKXt0KCl9KX0pfSl9fSx7a2V5OiJnZXRQb2xpY2llcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyZXR1cm4gdm9pZCAwIT09dGhpcy5hY3RpdmVVc2VyUG9saWN5JiYoci51c2VyUG9saWN5PXRoaXMudXNlclBvbGljaWVzW3RoaXMuYWN0aXZlVXNlclBvbGljeV0pLHIuc2VydmljZVByb3ZpZGVyUG9saWN5PXRoaXMuZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5KGUsdCkscn19LHtrZXk6Il9pc1ZhbGlkVXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5mcm9tLnNwbGl0KCI6Ly8iKS5sZW5ndGg+MT90LmlkTW9kdWxlLl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3QoZS5mcm9tKS50aGVuKGZ1bmN0aW9uKHQpe3Q9PT1lLmJvZHkuc291cmNlP3IoZSk6bigiVGhlIHNvdXJjZSBvZiB0aGUgbWVzc2FnZSBpcyBub3QgdmFsaWQuIil9LGZ1bmN0aW9uKGUpe24oZSl9KTpyKGUpfSl9fSx7a2V5OiJnZXRNeUVtYWlscyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlkTW9kdWxlLmdldElkZW50aXRpZXMoKSx0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaCgoMCxTLmdldFVzZXJFbWFpbEZyb21VUkwpKGVbcl0uaWRlbnRpdHkpKTtyZXR1cm4gdH19LHtrZXk6ImdldE15SHlwZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucnVudGltZVJlZ2lzdHJ5Lmh5cGVydGllc0xpc3QsdD1bXTtmb3IodmFyIHIgaW4gZSl7dmFyIG49ZVtyXS5vYmplY3ROYW1lOy0xPT09dC5pbmRleE9mKG4pJiZ0LnB1c2gobil9cmV0dXJuIHR9fSx7a2V5OiJnZXRTZXJ2aWNlUHJvdmlkZXJQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwO2lmKHQpe3ZhciBuPXRoaXMucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlOYW1lKGUudG8pO3I9dGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbbl19ZWxzZXt2YXIgaT10aGlzLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShlLmZyb20pO3I9dGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbaV19cmV0dXJuIHJ9fSx7a2V5OiJnZXRVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFswXSsiLy8iK3RbMl0rIi8iK3RbM119fSx7a2V5OiJfbG9hZFVzZXJQb2xpY2llcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOnVzZXJQb2xpY2llcyIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG49dDtpZih2b2lkIDAhPT1uKWZvcih2YXIgaSBpbiBuKWUucGVwLmFkZFBvbGljeSgiVVNFUiIsaSxuW2ldKTtyKCl9KX0pfX0se2tleToiX2dldExhc3RDb21wb25lbnRPZlVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0W3QubGVuZ3RoLTFdfX0se2tleToiX2dldFBvbGljaWVzSlNPTiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpe3ZhciByPWVbdF0uY29tYmluaW5nQWxnb3JpdGhtO3IgaW5zdGFuY2VvZiB3LmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImJsb2NrT3ZlcnJpZGVzIjpyIGluc3RhbmNlb2YgXy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJhbGxvd092ZXJyaWRlcyI6ciBpbnN0YW5jZW9mIE8uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iZmlyc3RBcHBsaWNhYmxlIjplW3RdLmNvbWJpbmluZ0FsZ29yaXRobT12b2lkIDB9cmV0dXJuIGV9fSx7a2V5OiJzYXZlQWN0aXZlUG9saWN5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5zdG9yYWdlTWFuYWdlci5zZXQoInJldGhpbms6YWN0aXZlUG9saWN5IiwwLGUuYWN0aXZlVXNlclBvbGljeSkudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJzYXZlR3JvdXBzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5zdG9yYWdlTWFuYWdlci5zZXQoInJldGhpbms6Z3JvdXBzIiwwLGUuZ3JvdXBzKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6InNhdmVQb2xpY2llcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMDtzd2l0Y2goZSl7Y2FzZSJVU0VSIjpuPSgwLGkuZGVmYXVsdCkodGhpcy51c2VyUG9saWNpZXMpLG49dGhpcy5fZ2V0UG9saWNpZXNKU09OKEpTT04ucGFyc2UobikpLHRoaXMuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOnVzZXJQb2xpY2llcyIsMCxuKTticmVhaztjYXNlIlNFUlZJQ0VfUFJPVklERVIiOnZvaWQgMCE9PXQmdm9pZCAwIT09ciYmKHRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W3JdPXQpLG49KDAsaS5kZWZhdWx0KSh0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeSksbj10aGlzLl9nZXRQb2xpY2llc0pTT04oSlNPTi5wYXJzZShuKSksdGhpcy5zdG9yYWdlTWFuYWdlci5zZXQoInJldGhpbms6c3BQb2xpY2llcyIsMCxuKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToiZ2V0R3JvdXBzTmFtZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ncm91cHMsdD1bXTtpZih2b2lkIDAhPT1lKWZvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdH19LHtrZXk6ImdldEdyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKCJwcmVhdXRob3Jpc2VkIj09PWUpe3ZhciBuPXQuc3BsaXQoIi8iKTtuLnBvcCgpLG49blswXSsiLy8iK25bMl0scj10aGlzLnJ1bnRpbWVSZWdpc3RyeS5nZXRQcmVBdXRoU3Vic2NyaWJlcnMobil9ZWxzZSB2b2lkIDAhPT10aGlzLmdyb3Vwc1tlXSYmKHI9dGhpcy5ncm91cHNbZV0pO3JldHVybiByfX0se2tleToiY3JlYXRlR3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZ3JvdXBzW2VdPVtdLHRoaXMuc2F2ZUdyb3VwcygpfX0se2tleToiZGVsZXRlR3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLmdyb3Vwc1tlXSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6ImFkZFRvR3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5ncm91cHM7aWYodm9pZCAwPT09cltlXSl0aHJvdyBFcnJvcignR3JvdXAgIicrZSsnIiBkb2VzIG5vdCBleGlzdCEnKTstMT09PXJbZV0uaW5kZXhPZih0KSYmKHJbZV0ucHVzaCh0KSx0aGlzLnNhdmVHcm91cHMoKSl9fSx7a2V5OiJyZW1vdmVGcm9tR3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5ncm91cHNbZV07ci5zcGxpY2Uoci5pbmRleE9mKHQpLDEpLHRoaXMuc2F2ZUdyb3VwcygpfX0se2tleToicGVwVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVwVVJMfX0se2tleToiZ3VpVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3VpVVJMfX0se2tleToicnVudGltZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VCdXM9ZX19LHtrZXk6InN1YnNjcmlwdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3N1YnNjcmlwdGlvbj1lLm1lc3NhZ2UuYm9keS5zdWJzY3JpYmVyfX1dKSxSdW50aW1lQ29yZUN0eH0oay5kZWZhdWx0KSk7dC5kZWZhdWx0PUwsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTIwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDE0KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVUaGlua0N0eCgpeygwLGkuZGVmYXVsdCkodGhpcyxSZVRoaW5rQ3R4KSx0aGlzLmRlZmF1bHRCZWhhdmlvdXI9ITAsdGhpcy5ncm91cHM9e319cmV0dXJuKDAscy5kZWZhdWx0KShSZVRoaW5rQ3R4LFt7a2V5OiJzY2hlbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2UuZnJvbTsoMCxhLmlzRGF0YU9iamVjdFVSTCkodCk/dGhpcy5fc2NoZW1lPSgwLGEuZGl2aWRlVVJMKSh0KS50eXBlOnRoaXMuX3NjaGVtZT12b2lkIDB9fSx7a2V5OiJkYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlLHI9U3RyaW5nKHQuZ2V0RGF0ZSgpKTsxPT09ci5sZW5ndGgmJihyPSIwIityKTt2YXIgbj1TdHJpbmcodC5nZXRNb250aCgpKzEpOzE9PT1uLmxlbmd0aCYmKG49IjAiK24pLHRoaXMuX2RhdGU9cisiLyIrbisiLyIrdC5nZXRGdWxsWWVhcigpfX0se2tleToiZG9tYWluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tYWlufSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9kb21haW49KDAsYS5kaXZpZGVFbWFpbCkoZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpLmRvbWFpbil9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWVzc2FnZTt2b2lkIDAhPT10LmJvZHkudmFsdWUmJih0aGlzLl90eXBlPXQuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGUpfX0se2tleToic291cmNlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9zb3VyY2U9ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpfX0se2tleToidGltZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LHNldDpmdW5jdGlvbihlKXtlPW5ldyBEYXRlO3ZhciB0PVN0cmluZyhlLmdldE1pbnV0ZXMoKSk7MT09PXQubGVuZ3RoJiYodD0iMCIrdCksdGhpcy5fdGltZT1wYXJzZUludChTdHJpbmcoZS5nZXRIb3VycygpKSt0KX19LHtrZXk6IndlZWtkYXkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWVrZGF5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd2Vla2RheT1TdHJpbmcoKG5ldyBEYXRlKS5nZXREYXkoKSl9fV0pLFJlVGhpbmtDdHh9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH1dKX0pOw==",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "1.60",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "hyperty-catalogue://catalogue.localhost/.well-known/protocolstub/P2PHandlerProtoStub",
    "p2pRequesterStub": "hyperty-catalogue://catalogue.localhost/.well-known/protocolstub/P2PRequesterProtoStub",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}