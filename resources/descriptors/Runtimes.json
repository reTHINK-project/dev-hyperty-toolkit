{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xNC4wCi8vIGRhdGU6IFdlZCBPY3QgMjQgMjAxOCAxNjozNjoxNyBHTVQrMDEwMCAoV2VzdGVybiBFdXJvcGVhbiBTdW1tZXIgVGltZSkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKCi8vIHZlcnNpb246IDAuMTQuMAovLyBkYXRlOiBXZWQgT2N0IDI0IDIwMTggMTY6MzY6MTcgR01UKzAxMDAgKFdlc3Rlcm4gRXVyb3BlYW4gU3VtbWVyIFRpbWUpCi8vIGxpY2VuY2U6IAovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCgovLyB2ZXJzaW9uOiAwLjE0LjAKLy8gZGF0ZTogV2VkIE9jdCAyNCAyMDE4IDE2OjM0OjQ1IEdNVCswMTAwIChXZXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgoKLy8gdmVyc2lvbjogMC4xNC4wCi8vIGRhdGU6IFdlZCBPY3QgMjQgMjAxOCAxNjozNDo0NSBHTVQrMDEwMCAoV2VzdGVybiBFdXJvcGVhbiBTdW1tZXIgVGltZSkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKCi8vIHZlcnNpb246IDAuMTQuMAovLyBkYXRlOiBXZWQgT2N0IDI0IDIwMTggMTY6MzQ6MTUgR01UKzAxMDAgKFdlc3Rlcm4gRXVyb3BlYW4gU3VtbWVyIFRpbWUpCi8vIGxpY2VuY2U6IAovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiUnVudGltZSIsW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUnVudGltZT10KCk6ZS5SdW50aW1lPXQoKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbj10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxuLmw9ITAsbi5leHBvcnRzfXZhciB0PXt9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09ZSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9dCxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LHIpe19fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZCh0LCJhIix0KSx0fSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LF9fd2VicGFja19yZXF1aXJlX18ucD0iIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0yMjIpfShbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNyksbz1yKDMxKSxpPXIoMjMpLGE9cigyNCkscz1yKDMyKSx1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxsLGYsZCxwPWUmdS5GLHk9ZSZ1LkcsaD1lJnUuUyx2PWUmdS5QLGc9ZSZ1LkIsYj15P246aD9uW3RdfHwoblt0XT17fSk6KG5bdF18fHt9KS5wcm90b3R5cGUsXz15P286b1t0XXx8KG9bdF09e30pLG09Xy5wcm90b3R5cGV8fChfLnByb3RvdHlwZT17fSk7eSYmKHI9dCk7Zm9yKGMgaW4gcilsPSFwJiZiJiZ2b2lkIDAhPT1iW2NdLGY9KGw/YjpyKVtjXSxkPWcmJmw/cyhmLG4pOnYmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP3MoRnVuY3Rpb24uY2FsbCxmKTpmLGImJmEoYixjLGYsZSZ1LlUpLF9bY10hPWYmJmkoXyxjLGQpLHYmJm1bY10hPWYmJihtW2NdPWYpfTtuLmNvcmU9byx1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LGUuZXhwb3J0cz11fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMjA0KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsby5kZWZhdWx0KShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZkZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJmRlZmluZVByb3BlcnRpZXMoZSxyKSxlfX0oKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQzMCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvOyFmdW5jdGlvbihpLGEpeyJ1c2Ugc3RyaWN0IjtuPWEsdm9pZCAwIT09KG89ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5jYWxsKHQscix0LGUpOm4pJiYoZS5leHBvcnRzPW8pfSgwLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGJpbmRNZXRob2QoZSx0KXt2YXIgcj1lW3RdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByLmJpbmQpcmV0dXJuIHIuYmluZChlKTt0cnl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwocixlKX1jYXRjaCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KHIsW2UsYXJndW1lbnRzXSl9fX1mdW5jdGlvbiByZWFsTWV0aG9kKHIpe3JldHVybiJkZWJ1ZyI9PT1yJiYocj0ibG9nIiksdHlwZW9mIGNvbnNvbGUhPT10JiYodm9pZCAwIT09Y29uc29sZVtyXT9iaW5kTWV0aG9kKGNvbnNvbGUscik6dm9pZCAwIT09Y29uc29sZS5sb2c/YmluZE1ldGhvZChjb25zb2xlLCJsb2ciKTplKX1mdW5jdGlvbiByZXBsYWNlTG9nZ2luZ01ldGhvZHModCxuKXtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTt0aGlzW2ldPW88dD9lOnRoaXMubWV0aG9kRmFjdG9yeShpLHQsbil9dGhpcy5sb2c9dGhpcy5kZWJ1Z31mdW5jdGlvbiBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzKGUscixuKXtyZXR1cm4gZnVuY3Rpb24oKXt0eXBlb2YgY29uc29sZSE9PXQmJihyZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbCh0aGlzLHIsbiksdGhpc1tlXS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShlLHQscil7cmV0dXJuIHJlYWxNZXRob2QoZSl8fGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIExvZ2dlcihlLG4sbyl7ZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShlKXt2YXIgbj0ocltlXXx8InNpbGVudCIpLnRvVXBwZXJDYXNlKCk7aWYodHlwZW9mIHdpbmRvdyE9PXQpe3RyeXtyZXR1cm4gdm9pZCh3aW5kb3cubG9jYWxTdG9yYWdlW3NdPW4pfWNhdGNoKGUpe310cnl7d2luZG93LmRvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQocykrIj0iK24rIjsifWNhdGNoKGUpe319fWZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCl7dmFyIGU7aWYodHlwZW9mIHdpbmRvdyE9PXQpe3RyeXtlPXdpbmRvdy5sb2NhbFN0b3JhZ2Vbc119Y2F0Y2goZSl7fWlmKHR5cGVvZiBlPT09dCl0cnl7dmFyIHI9d2luZG93LmRvY3VtZW50LmNvb2tpZSxuPXIuaW5kZXhPZihlbmNvZGVVUklDb21wb25lbnQocykrIj0iKTstMSE9PW4mJihlPS9eKFteO10rKS8uZXhlYyhyLnNsaWNlKG4pKVsxXSl9Y2F0Y2goZSl7fXJldHVybiB2b2lkIDA9PT1hLmxldmVsc1tlXSYmKGU9dm9pZCAwKSxlfX12YXIgaSxhPXRoaXMscz0ibG9nbGV2ZWwiO2UmJihzKz0iOiIrZSksYS5uYW1lPWUsYS5sZXZlbHM9e1RSQUNFOjAsREVCVUc6MSxJTkZPOjIsV0FSTjozLEVSUk9SOjQsU0lMRU5UOjV9LGEubWV0aG9kRmFjdG9yeT1vfHxkZWZhdWx0TWV0aG9kRmFjdG9yeSxhLmdldExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LGEuc2V0TGV2ZWw9ZnVuY3Rpb24ocixuKXtpZigic3RyaW5nIj09dHlwZW9mIHImJnZvaWQgMCE9PWEubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0mJihyPWEubGV2ZWxzW3IudG9VcHBlckNhc2UoKV0pLCEoIm51bWJlciI9PXR5cGVvZiByJiZyPj0wJiZyPD1hLmxldmVscy5TSUxFTlQpKXRocm93ImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6ICIrcjtpZihpPXIsITEhPT1uJiZwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKHIpLHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKGEscixlKSx0eXBlb2YgY29uc29sZT09PXQmJnI8YS5sZXZlbHMuU0lMRU5UKXJldHVybiJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZyJ9LGEuc2V0RGVmYXVsdExldmVsPWZ1bmN0aW9uKGUpe2dldFBlcnNpc3RlZExldmVsKCl8fGEuc2V0TGV2ZWwoZSwhMSl9LGEuZW5hYmxlQWxsPWZ1bmN0aW9uKGUpe2Euc2V0TGV2ZWwoYS5sZXZlbHMuVFJBQ0UsZSl9LGEuZGlzYWJsZUFsbD1mdW5jdGlvbihlKXthLnNldExldmVsKGEubGV2ZWxzLlNJTEVOVCxlKX07dmFyIHU9Z2V0UGVyc2lzdGVkTGV2ZWwoKTtudWxsPT11JiYodT1udWxsPT1uPyJXQVJOIjpuKSxhLnNldExldmVsKHUsITEpfXZhciBlPWZ1bmN0aW9uKCl7fSx0PSJ1bmRlZmluZWQiLHI9WyJ0cmFjZSIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJlcnJvciJdLG49bmV3IExvZ2dlcixvPXt9O24uZ2V0TG9nZ2VyPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IiI9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci4iKTt2YXIgdD1vW2VdO3JldHVybiB0fHwodD1vW2VdPW5ldyBMb2dnZXIoZSxuLmdldExldmVsKCksbi5tZXRob2RGYWN0b3J5KSksdH07dmFyIGk9dHlwZW9mIHdpbmRvdyE9PXQ/d2luZG93LmxvZzp2b2lkIDA7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0eXBlb2Ygd2luZG93IT09dCYmd2luZG93LmxvZz09PW4mJih3aW5kb3cubG9nPWkpLG59LG4uZ2V0TG9nZ2Vycz1mdW5jdGlvbigpe3JldHVybiBvfSxufSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGRpdmlkZVVSTChlKXtmdW5jdGlvbiByZWN1cnNlKGUpe3ZhciB0PS8oW2EtekEtWi1dKikoOlwvXC8oPzpcLik/fDopKFstYS16QS1aMC05QDolLl8rfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl8rfiM9XC9dKikvZ2k7cmV0dXJuIGUucmVwbGFjZSh0LCIkMSwkMywkNCIpLnNwbGl0KCIsIil9dmFyIHQ9cmVjdXJzZShlKTtpZih0WzBdPT09ZSYmIXRbMF0uaW5jbHVkZXMoIkAiKSl7cmV0dXJue3R5cGU6IiIsZG9tYWluOmUsaWRlbnRpdHk6IiJ9fWlmKHRbMF09PT1lJiZ0WzBdLmluY2x1ZGVzKCJAIikpe3Q9cmVjdXJzZSgodFswXT09PWU/InNtdHAiOnRbMF0pKyI6Ly8iK3RbMF0pfXJldHVybiB0WzFdLmluY2x1ZGVzKCJAIikmJih0WzJdPXRbMF0rIjovLyIrdFsxXSx0WzFdPXRbMV0uc3Vic3RyKHRbMV0uaW5kZXhPZigiQCIpKzEpKSx7dHlwZTp0WzBdLGRvbWFpbjp0WzFdLGlkZW50aXR5OnRbMl19fWZ1bmN0aW9uIGVtcHR5T2JqZWN0KGUpe3JldHVybiEoKDAsYS5kZWZhdWx0KShlKS5sZW5ndGg+MCl9ZnVuY3Rpb24gc2Vjb25kc1NpbmNlRXBvY2goKXtyZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9ZnVuY3Rpb24gZGVlcENsb25lKGUpe2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoKDAsby5kZWZhdWx0KShlKSl9ZnVuY3Rpb24gcmVtb3ZlUGF0aEZyb21VUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX1mdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybiJ1c2VyOi8vIitlLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLHQpfWZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpO3JldHVybiB0LmlkZW50aXR5LnJlcGxhY2UoIi8iLCIiKSsiQCIrdC5kb21haW59ZnVuY3Rpb24gY29udmVydFRvVXNlclVSTChlKXtpZigidXNlcjovLyI9PT1lLnN1YnN0cmluZygwLDcpKXt2YXIgdD1kaXZpZGVVUkwoZSk7aWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGdldFVzZXJVUkxGcm9tRW1haWwoZSl9ZnVuY3Rpb24gaXNEYXRhT2JqZWN0VVJMKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iLCJoeXBlcnR5Il0scj1lLnNwbGl0KCI6Ly8iKSxuPXJbMF07cmV0dXJuLTE9PT10LmluZGV4T2Yobil9ZnVuY3Rpb24gaXNMZWdhY3koZSl7cmV0dXJuIGUuc3BsaXQoIkAiKS5sZW5ndGg+MX1mdW5jdGlvbiBpc1VSTChlKXtyZXR1cm4gZS5zcGxpdCgiLyIpLmxlbmd0aD49M31mdW5jdGlvbiBpc1VzZXJVUkwoZSl7cmV0dXJuInVzZXIiPT09ZGl2aWRlVVJMKGUpLnR5cGV9ZnVuY3Rpb24gaXNIeXBlcnR5VVJMKGUpe3JldHVybiJoeXBlcnR5Ij09PWRpdmlkZVVSTChlKS50eXBlfWZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMoZSx0LHIpe3JldHVybiBlW3RdW3JdfWZ1bmN0aW9uIGJ1aWxkVVJMKGUsdCxyLG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYT1lW3RdLHM9dm9pZCAwO2lmKCFhLmhhc093blByb3BlcnR5KHIpKXRocm93IEVycm9yKCJUaGUgY29uZmlndXJhdGlvbiAiKygwLG8uZGVmYXVsdCkoYSwiIiwyKSsiIGRvbid0IGhhdmUgdGhlICIrcisiIHJlc291cmNlIHlvdSBhcmUgbG9va2luZyBmb3IiKTt2YXIgdT1hW3JdO3JldHVybiBuPyhzPXUucHJlZml4K2UuZG9tYWluK3Uuc3VmZml4K24sdS5oYXNPd25Qcm9wZXJ0eSgiZmFsbGJhY2siKSYmaSYmKHM9dS5mYWxsYmFjay5pbmRleE9mKCIlZG9tYWluJSIpP3UuZmFsbGJhY2sucmVwbGFjZSgvKCVkb21haW4lKS9nLGUuZG9tYWluKStuOnUuZmFsbGJhY2srbikpOnM9dS5wcmVmaXgrZS5kb21haW4rdS5zdWZmaXgsc31mdW5jdGlvbiBnZW5lcmF0ZUdVSUQoKXtmdW5jdGlvbiBzNCgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBzNCgpK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrczQoKStzNCgpfWZ1bmN0aW9uIGdldFVzZXJJZGVudGl0eURvbWFpbihlKXt2YXIgdD1kaXZpZGVVUkwoZSkscj10LmRvbWFpbi5zcGxpdCgiLiIpLG49ci5sZW5ndGg7cmV0dXJuIDE9PW4/cltuLTFdOnJbbi0yXSsiLiIrcltuLTFdfWZ1bmN0aW9uIGlzQmFja2VuZFNlcnZpY2VVUkwoZSl7dmFyIHQ9ZGl2aWRlVVJMKGUpLHI9dC5kb21haW4uc3BsaXQoIi4iKSxuPVsiZG9tYWluIiwiZ2xvYmFsIiwiZG9tYWluLWlkcCJdLG89WyJyZWdpc3RyeSIsIm1zZy1ub2RlIl0saT12b2lkIDA7cmV0dXJuIHIubGVuZ3RoPjEmJihpPXIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09by5pbmRleE9mKGUpfSlbMF0pLCEoIWl8fC0xPT09by5pbmRleE9mKGkpKXx8ISF0LnR5cGUmJi0xIT09bi5pbmRleE9mKHQudHlwZSl9ZnVuY3Rpb24gZGl2aWRlRW1haWwoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJue3VzZXJuYW1lOmUuc3Vic3RyaW5nKDAsdCksZG9tYWluOmUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCl9fWZ1bmN0aW9uIGFzc2lnbihlLHQscil7ZXx8KGU9e30pLCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9cGFyc2VBdHRyaWJ1dGVzKHQpKTtmb3IodmFyIG49dC5sZW5ndGgtMSxvPTA7bzxuOysrbyl7dmFyIGk9dFtvXTtpIGluIGV8fChlW2ldPXt9KSxlPWVbaV19ZVt0W25dXT1yfWZ1bmN0aW9uIHNwbGl0T2JqZWN0VVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKSxyPXRbMF0rIi8vIit0WzJdKyIvIit0WzNdLG49dFs1XSxvPXt1cmw6cixyZXNvdXJjZTpufTtyZXR1cm4gb31mdW5jdGlvbiBjaGVja0F0dHJpYnV0ZShlKXt2YXIgdD0vKCgoW2EtekEtWl0rKTpcL1wvKFswLTlhLXpBLVpdWy1cd10qWzAtOWEtekEtWl1cLikrW2EtekEtWl17Miw5fSlcL1thLXpBLVowLTkuXStAW2EtekEtWjAtOV0rKC0pP1thLXpBLVowLTldKyhcLik/W2EtekEtWjAtOV17MiwxMH0/XC5bYS16QS1aXXsyLDEwfSkoLisoPz0uaWRlbnRpdHkpKT8vZ20scj1bXSxuPVtdO2lmKG51bGw9PWUubWF0Y2godCkpbj1lLnNwbGl0KCIuIik7ZWxzZXtmb3IodmFyIG89dm9pZCAwO251bGwhPT0obz10LmV4ZWMoZSkpOylvLmluZGV4PT09dC5sYXN0SW5kZXgmJnQubGFzdEluZGV4Kyssby5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7MD09PXQmJnIucHVzaChlKX0pO3ZhciBpPXZvaWQgMDtyLmZvckVhY2goZnVuY3Rpb24odCl7aT1lLnJlcGxhY2UodCwiKi0qIiksbj1pLnNwbGl0KCIuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIqLSoiPT09ZT90OmV9KX0pfXJldHVybiBufWZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlcyhlKXt2YXIgdD0vKFswLTlhLXpBLVpdWy1cd10qKTpcL1wvL2c7aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciByPWUuc3BsaXQodClbMF0sbj1yLnNwbGl0KCIuIiksbz1lLnJlcGxhY2UociwiIik7aWYoZS5pbmNsdWRlcygiaWRlbnRpdHkiKSl7dmFyIGk9by5zcGxpdCgiaWRlbnRpdHkuIik7bz1pWzBdLnNsaWNlKCIuIiwtMSksaT1pWzFdLnNwbGl0KCIuIiksbi5wdXNoKG8sImlkZW50aXR5Iiksbj1uLmNvbmNhdChpKX1lbHNlIG4ucHVzaChvKTtyZXR1cm4gbi5maWx0ZXIoQm9vbGVhbil9cmV0dXJuIGUuc3BsaXQoIi4iKX1mdW5jdGlvbiBpc0VtcHR5KGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuITE7cmV0dXJuKDAsby5kZWZhdWx0KShlKT09PSgwLG8uZGVmYXVsdCkoe30pfWZ1bmN0aW9uIGNoYXRrZXlzVG9TdHJpbmdDbG9uZXIoZSl7dmFyIHQ9e30scj0oMCxhLmRlZmF1bHQpKGUpO2lmKHIpdHJ5e2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dO3Rbb109e30sdFtvXS5zZXNzaW9uS2V5PWVbb10uc2Vzc2lvbktleS50b1N0cmluZygpLHRbb10uaXNUb0VuY3J5cHQ9ZVtvXS5pc1RvRW5jcnlwdH19Y2F0Y2goZSl7fXJldHVybiB0fWZ1bmN0aW9uIGNoYXRrZXlzVG9BcnJheUNsb25lcihlKXt2YXIgdD17fSxyPSgwLGEuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07dFtvXT17fTt2YXIgaT1KU09OLnBhcnNlKCJbIitlW29dLnNlc3Npb25LZXkrIl0iKTt0W29dLnNlc3Npb25LZXk9bmV3IFVpbnQ4QXJyYXkoaSksdFtvXS5pc1RvRW5jcnlwdD1lW29dLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gcGFyc2VNZXNzYWdlVVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdC5sZW5ndGg8PTY/dFswXSsiLy8iK3RbMl0rIi8iK3RbM106dFswXSsiLy8iK3RbMl0rIi8iK3RbM10rIi8iK3RbNF19ZnVuY3Rpb24gYXZhaWxhYmxlU3BhY2UoZSx0KXt2YXIgcj0oZS90KS50b0ZpeGVkKDIpO3JldHVybntxdW90YTp0LHVzYWdlOmUscGVyY2VudDpOdW1iZXIocil9fWZ1bmN0aW9uIGVuY29kZShlKXt0cnl7dmFyIHQ9c3RyaW5naWZ5KGUpO3JldHVybiBidG9hKHQpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIGRlY29kZShlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYXRvYihlKSl9Y2F0Y2goZSl7dGhyb3cgZX19ZnVuY3Rpb24gZGVjb2RlVG9VaW50OEFycmF5KGUpe3RyeXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGVjb2RlKGUpKX1jYXRjaChlKXt0aHJvdyBlfX1mdW5jdGlvbiBzdHJpbmdpZnkoZSl7dHJ5e3JldHVybiBlLmNvbnN0cnVjdG9yPT09VWludDhBcnJheT8iWyIrZS50b1N0cmluZygpKyJdIjooMCxvLmRlZmF1bHQpKGUpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIHBhcnNlKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXt0aHJvdyBlfX1mdW5jdGlvbiBwYXJzZVRvVWludDhBcnJheShlKXt0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHBhcnNlKGUpKX1jYXRjaChlKXt0aHJvdyBlfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpO3QuZGl2aWRlVVJMPWRpdmlkZVVSTCx0LmVtcHR5T2JqZWN0PWVtcHR5T2JqZWN0LHQuc2Vjb25kc1NpbmNlRXBvY2g9c2Vjb25kc1NpbmNlRXBvY2gsdC5kZWVwQ2xvbmU9ZGVlcENsb25lLHQucmVtb3ZlUGF0aEZyb21VUkw9cmVtb3ZlUGF0aEZyb21VUkwsdC5nZXRVc2VyVVJMRnJvbUVtYWlsPWdldFVzZXJVUkxGcm9tRW1haWwsdC5nZXRVc2VyRW1haWxGcm9tVVJMPWdldFVzZXJFbWFpbEZyb21VUkwsdC5jb252ZXJ0VG9Vc2VyVVJMPWNvbnZlcnRUb1VzZXJVUkwsdC5pc0RhdGFPYmplY3RVUkw9aXNEYXRhT2JqZWN0VVJMLHQuaXNMZWdhY3k9aXNMZWdhY3ksdC5pc1VSTD1pc1VSTCx0LmlzVXNlclVSTD1pc1VzZXJVUkwsdC5pc0h5cGVydHlVUkw9aXNIeXBlcnR5VVJMLHQuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcz1nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzLHQuYnVpbGRVUkw9YnVpbGRVUkwsdC5nZW5lcmF0ZUdVSUQ9Z2VuZXJhdGVHVUlELHQuZ2V0VXNlcklkZW50aXR5RG9tYWluPWdldFVzZXJJZGVudGl0eURvbWFpbix0LmlzQmFja2VuZFNlcnZpY2VVUkw9aXNCYWNrZW5kU2VydmljZVVSTCx0LmRpdmlkZUVtYWlsPWRpdmlkZUVtYWlsLHQuYXNzaWduPWFzc2lnbix0LnNwbGl0T2JqZWN0VVJMPXNwbGl0T2JqZWN0VVJMLHQuY2hlY2tBdHRyaWJ1dGU9Y2hlY2tBdHRyaWJ1dGUsdC5wYXJzZUF0dHJpYnV0ZXM9cGFyc2VBdHRyaWJ1dGVzLHQuaXNFbXB0eT1pc0VtcHR5LHQuY2hhdGtleXNUb1N0cmluZ0Nsb25lcj1jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyLHQuY2hhdGtleXNUb0FycmF5Q2xvbmVyPWNoYXRrZXlzVG9BcnJheUNsb25lcix0LnBhcnNlTWVzc2FnZVVSTD1wYXJzZU1lc3NhZ2VVUkwsdC5hdmFpbGFibGVTcGFjZT1hdmFpbGFibGVTcGFjZSx0LmVuY29kZT1lbmNvZGUsdC5kZWNvZGU9ZGVjb2RlLHQuZGVjb2RlVG9VaW50OEFycmF5PWRlY29kZVRvVWludDhBcnJheSx0LnN0cmluZ2lmeT1zdHJpbmdpZnksdC5wYXJzZT1wYXJzZSx0LnBhcnNlVG9VaW50OEFycmF5PXBhcnNlVG9VaW50OEFycmF5fSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgzKSgid2tzIiksbz1yKDUzKSxpPXIoNykuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIGk7KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YSYmaVtlXXx8KGE/aTpvKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9bn0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoOCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1KSxvPXIoMTU1KSxpPXIoMzYpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yKDEyKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1pKHQsITApLG4ociksbyl0cnl7cmV0dXJuIGEoZSx0LHIpfWNhdGNoKGUpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/byhuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDY2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQyNiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoODIpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgbj1yKDQ2OCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NzIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoODIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKyh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkodCkpKTtlLnByb3RvdHlwZT0oMCxhLmRlZmF1bHQpKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoby5kZWZhdWx0PygwLG8uZGVmYXVsdCkoZSx0KTplLl9fcHJvdG9fXz10KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM2KSgid2tzIiksbz1yKDk4KSxpPXIoMjEpLlN5bWJvbCxhPSJmdW5jdGlvbiI9PXR5cGVvZiBpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWEmJmlbZV18fChhP2k6bykoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPW59LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxvPXIoNTIpO2UuZXhwb3J0cz1yKDEyKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcpLG89cigyMyksaT1yKDI3KSxhPXIoNTMpKCJzcmMiKSxzPUZ1bmN0aW9uLnRvU3RyaW5nLHU9KCIiK3MpLnNwbGl0KCJ0b1N0cmluZyIpO3IoMzEpLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuY2FsbChlKX0sKGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixzKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcjtjJiYoaShyLCJuYW1lIil8fG8ociwibmFtZSIsdCkpLGVbdF0hPT1yJiYoYyYmKGkocixhKXx8byhyLGEsZVt0XT8iIitlW3RdOnUuam9pbihTdHJpbmcodCkpKSksZT09PW4/ZVt0XT1yOnM/ZVt0XT9lW3RdPXI6byhlLHQscik6KGRlbGV0ZSBlW3RdLG8oZSx0LHIpKSl9KShGdW5jdGlvbi5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZ0aGlzW2FdfHxzLmNhbGwodGhpcyl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDgpLGk9cigzNyksYT0vIi9nLHM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89U3RyaW5nKGkoZSkpLHM9IjwiK3Q7cmV0dXJuIiIhPT1yJiYocys9IiAiK3IrJz0iJytTdHJpbmcobikucmVwbGFjZShhLCImcXVvdDsiKSsnIicpLHMrIj4iK28rIjwvIit0KyI+In07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cltlXT10KHMpLG4obi5QK24uRipvKGZ1bmN0aW9uKCl7dmFyIHQ9IiJbZV0oJyInKTtyZXR1cm4gdCE9PXQudG9Mb3dlckNhc2UoKXx8dC5zcGxpdCgnIicpLmxlbmd0aD4zfSksIlN0cmluZyIscil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSksbz1yKDExKSxpPXIoNjkpLGE9cig2Mykscz1yKDYyKSx1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxsLGYsZD1lJnUuRixwPWUmdS5HLHk9ZSZ1LlMsaD1lJnUuUCx2PWUmdS5CLGc9ZSZ1LlcsYj1wP286b1t0XXx8KG9bdF09e30pLF89Yi5wcm90b3R5cGUsbT1wP246eT9uW3RdOihuW3RdfHx7fSkucHJvdG90eXBlO3AmJihyPXQpO2ZvcihjIGluIHIpKGw9IWQmJm0mJnZvaWQgMCE9PW1bY10pJiZzKGIsYyl8fChmPWw/bVtjXTpyW2NdLGJbY109cCYmImZ1bmN0aW9uIiE9dHlwZW9mIG1bY10/cltjXTp2JiZsP2koZixuKTpnJiZtW2NdPT1mP2Z1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQscil9cmV0dXJuIG5ldyBlKHQscixuKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fShmKTpoJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixoJiYoKGIudmlydHVhbHx8KGIudmlydHVhbD17fSkpW2NdPWYsZSZ1LlImJl8mJiFfW2NdJiZhKF8sYyxmKSkpfTt1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LGUuZXhwb3J0cz11fSxmdW5jdGlvbihlLHQpe3ZhciByPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiByLmNhbGwoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDczKSxvPXIoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc0KSxvPXIoNTIpLGk9cigyOCksYT1yKDM2KSxzPXIoMjcpLHU9cigxNTUpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cigxMik/YzpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PWEodCwhMCksdSl0cnl7cmV0dXJuIGMoZSx0KX1jYXRjaChlKXt9aWYocyhlLHQpKXJldHVybiBvKCFuLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjcpLG89cigxOSksaT1yKDEwOCkoIklFX1BST1RPIiksYT1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW8oZSksbihlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/YTpudWxsfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiZuKGZ1bmN0aW9uKCl7dD9lLmNhbGwobnVsbCxmdW5jdGlvbigpe30sMSk6ZS5jYWxsKG51bGwpfSl9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDc4KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpyKShlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigzMSksaT1yKDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0sYT17fTthW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIsYSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMiksbz1yKDczKSxpPXIoMTkpLGE9cigxNCkscz1yKDEyNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsYz0zPT1lLGw9ND09ZSxmPTY9PWUsZD01PT1lfHxmLHA9dHx8cztyZXR1cm4gZnVuY3Rpb24odCxzLHkpe2Zvcih2YXIgaCx2LGc9aSh0KSxiPW8oZyksXz1uKHMseSwzKSxtPWEoYi5sZW5ndGgpLFI9MCxPPXI/cCh0LG0pOnU/cCh0LDApOnZvaWQgMDttPlI7UisrKWlmKChkfHxSIGluIGIpJiYoaD1iW1JdLHY9XyhoLFIsZyksZSkpaWYocilPW1JdPXY7ZWxzZSBpZih2KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gUjtjYXNlIDI6Ty5wdXNoKGgpfWVsc2UgaWYobClyZXR1cm4hMTtyZXR1cm4gZj8tMTpjfHxsP2w6T319fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7aWYocigxMikpe3ZhciBuPXIoNDgpLG89cig3KSxpPXIoOCksYT1yKDApLHM9cig5NCksdT1yKDEzMSksYz1yKDMyKSxsPXIoNTkpLGY9cig1MiksZD1yKDIzKSxwPXIoNjEpLHk9cigzOCksaD1yKDE0KSx2PXIoMTgxKSxnPXIoNTUpLGI9cigzNiksXz1yKDI3KSxtPXIoNzUpLFI9cig5KSxPPXIoMTkpLHc9cigxMjIpLGs9cig1NiksUz1yKDMwKSxQPXIoNTcpLmYsRD1yKDEyNCksTT1yKDUzKSxMPXIoMTApLGo9cig0MCksVT1yKDg0KSxFPXIoOTEpLHg9cigxMjcpLEE9cig2NiksST1yKDg4KSxDPXIoNTgpLFQ9cigxMjYpLHE9cigxNzEpLEg9cigxMyksTj1yKDI5KSxGPUguZixCPU4uZixHPW8uUmFuZ2VFcnJvcixLPW8uVHlwZUVycm9yLFY9by5VaW50OEFycmF5LFc9QXJyYXkucHJvdG90eXBlLFk9dS5BcnJheUJ1ZmZlcixKPXUuRGF0YVZpZXcsej1qKDApLFg9aigyKSwkPWooMyksUT1qKDQpLFo9aig1KSxlZT1qKDYpLHRlPVUoITApLHJlPVUoITEpLG5lPXgudmFsdWVzLG9lPXgua2V5cyxpZT14LmVudHJpZXMsYWU9Vy5sYXN0SW5kZXhPZixzZT1XLnJlZHVjZSx1ZT1XLnJlZHVjZVJpZ2h0LGNlPVcuam9pbixsZT1XLnNvcnQsZmU9Vy5zbGljZSxkZT1XLnRvU3RyaW5nLHBlPVcudG9Mb2NhbGVTdHJpbmcseWU9TCgiaXRlcmF0b3IiKSxoZT1MKCJ0b1N0cmluZ1RhZyIpLHZlPU0oInR5cGVkX2NvbnN0cnVjdG9yIiksZ2U9TSgiZGVmX2NvbnN0cnVjdG9yIiksYmU9cy5DT05TVFIsX2U9cy5UWVBFRCxtZT1zLlZJRVcsUmU9aigxLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFBlKEUoZSxlW2dlXSksdCl9KSxPZT1pKGZ1bmN0aW9uKCl7cmV0dXJuIDE9PT1uZXcgVihuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdfSksd2U9ISFWJiYhIVYucHJvdG90eXBlLnNldCYmaShmdW5jdGlvbigpe25ldyBWKDEpLnNldCh7fSl9KSxrZT1mdW5jdGlvbihlLHQpe3ZhciByPXkoZSk7aWYocjwwfHxyJXQpdGhyb3cgRygiV3Jvbmcgb2Zmc2V0ISIpO3JldHVybiByfSxTZT1mdW5jdGlvbihlKXtpZihSKGUpJiZfZSBpbiBlKXJldHVybiBlO3Rocm93IEsoZSsiIGlzIG5vdCBhIHR5cGVkIGFycmF5ISIpfSxQZT1mdW5jdGlvbihlLHQpe2lmKCEoUihlKSYmdmUgaW4gZSkpdGhyb3cgSygiSXQgaXMgbm90IGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IhIik7cmV0dXJuIG5ldyBlKHQpfSxEZT1mdW5jdGlvbihlLHQpe3JldHVybiBNZShFKGUsZVtnZV0pLHQpfSxNZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49dC5sZW5ndGgsbz1QZShlLG4pO24+cjspb1tyXT10W3IrK107cmV0dXJuIG99LExlPWZ1bmN0aW9uKGUsdCxyKXtGKGUsdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rbcl19fSl9LGplPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixvLGksYSxzPU8oZSksdT1hcmd1bWVudHMubGVuZ3RoLGw9dT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsZj12b2lkIDAhPT1sLGQ9RChzKTtpZih2b2lkIDAhPWQmJiF3KGQpKXtmb3IoYT1kLmNhbGwocyksbj1bXSx0PTA7IShpPWEubmV4dCgpKS5kb25lO3QrKyluLnB1c2goaS52YWx1ZSk7cz1ufWZvcihmJiZ1PjImJihsPWMobCxhcmd1bWVudHNbMl0sMikpLHQ9MCxyPWgocy5sZW5ndGgpLG89UGUodGhpcyxyKTtyPnQ7dCsrKW9bdF09Zj9sKHNbdF0sdCk6c1t0XTtyZXR1cm4gb30sVWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1QZSh0aGlzLHQpO3Q+ZTspcltlXT1hcmd1bWVudHNbZSsrXTtyZXR1cm4gcn0sRWU9ISFWJiZpKGZ1bmN0aW9uKCl7cGUuY2FsbChuZXcgVigxKSl9KSx4ZT1mdW5jdGlvbigpe3JldHVybiBwZS5hcHBseShFZT9mZS5jYWxsKFNlKHRoaXMpKTpTZSh0aGlzKSxhcmd1bWVudHMpfSxBZT17Y29weVdpdGhpbjpmdW5jdGlvbihlLHQpe3JldHVybiBxLmNhbGwoU2UodGhpcyksZSx0LGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sZXZlcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIFEoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGZpbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFQuYXBwbHkoU2UodGhpcyksYXJndW1lbnRzKX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBEZSh0aGlzLFgoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCkpfSxmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBaKFNlKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVlKFNlKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe3ooU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGluZGV4T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHJlKFNlKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gdGUoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGpvaW46ZnVuY3Rpb24oZSl7cmV0dXJuIGNlLmFwcGx5KFNlKHRoaXMpLGFyZ3VtZW50cyl9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBhZS5hcHBseShTZSh0aGlzKSxhcmd1bWVudHMpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIFJlKFNlKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHNlLmFwcGx5KFNlKHRoaXMpLGFyZ3VtZW50cyl9LHJlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiB1ZS5hcHBseShTZSh0aGlzKSxhcmd1bWVudHMpfSxyZXZlcnNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcyxyPVNlKHQpLmxlbmd0aCxuPU1hdGguZmxvb3Ioci8yKSxvPTA7bzxuOyllPXRbb10sdFtvKytdPXRbLS1yXSx0W3JdPWU7cmV0dXJuIHR9LHNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuICQoU2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGxlLmNhbGwoU2UodGhpcyksZSl9LHN1YmFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9U2UodGhpcyksbj1yLmxlbmd0aCxvPWcoZSxuKTtyZXR1cm4gbmV3KEUocixyW2dlXSkpKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCtvKnIuQllURVNfUEVSX0VMRU1FTlQsaCgodm9pZCAwPT09dD9uOmcodCxuKSktbykpfX0sSWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRGUodGhpcyxmZS5jYWxsKFNlKHRoaXMpLGUsdCkpfSxDZT1mdW5jdGlvbihlKXtTZSh0aGlzKTt2YXIgdD1rZShhcmd1bWVudHNbMV0sMSkscj10aGlzLmxlbmd0aCxuPU8oZSksbz1oKG4ubGVuZ3RoKSxpPTA7aWYobyt0PnIpdGhyb3cgRygiV3JvbmcgbGVuZ3RoISIpO2Zvcig7aTxvOyl0aGlzW3QraV09bltpKytdfSxUZT17ZW50cmllczpmdW5jdGlvbigpe3JldHVybiBpZS5jYWxsKFNlKHRoaXMpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBvZS5jYWxsKFNlKHRoaXMpKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhbGwoU2UodGhpcykpfX0scWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUihlKSYmZVtfZV0mJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LEhlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFlKGUsdD1iKHQsITApKT9mKDIsZVt0XSk6QihlLHQpfSxOZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIShxZShlLHQ9Yih0LCEwKSkmJlIocikmJl8ociwidmFsdWUiKSl8fF8ociwiZ2V0Iil8fF8ociwic2V0Iil8fHIuY29uZmlndXJhYmxlfHxfKHIsIndyaXRhYmxlIikmJiFyLndyaXRhYmxlfHxfKHIsImVudW1lcmFibGUiKSYmIXIuZW51bWVyYWJsZT9GKGUsdCxyKTooZVt0XT1yLnZhbHVlLGUpfTtiZXx8KE4uZj1IZSxILmY9TmUpLGEoYS5TK2EuRiohYmUsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpIZSxkZWZpbmVQcm9wZXJ0eTpOZX0pLGkoZnVuY3Rpb24oKXtkZS5jYWxsKHt9KX0pJiYoZGU9cGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2FsbCh0aGlzKX0pO3ZhciBGZT1wKHt9LEFlKTtwKEZlLFRlKSxkKEZlLHllLFRlLnZhbHVlcykscChGZSx7c2xpY2U6SWUsc2V0OkNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7fSx0b1N0cmluZzpkZSx0b0xvY2FsZVN0cmluZzp4ZX0pLExlKEZlLCJidWZmZXIiLCJiIiksTGUoRmUsImJ5dGVPZmZzZXQiLCJvIiksTGUoRmUsImJ5dGVMZW5ndGgiLCJsIiksTGUoRmUsImxlbmd0aCIsImUiKSxGKEZlLGhlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfZV19fSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3U9ISF1O3ZhciBjPWUrKHU/IkNsYW1wZWQiOiIiKSsiQXJyYXkiLGY9ImdldCIrZSxwPSJzZXQiK2UseT1vW2NdLGc9eXx8e30sYj15JiZTKHkpLF89IXl8fCFzLkFCVixPPXt9LHc9eSYmeS5wcm90b3R5cGUsRD1mdW5jdGlvbihlLHIpe3ZhciBuPWUuX2Q7cmV0dXJuIG4udltmXShyKnQrbi5vLE9lKX0sTT1mdW5jdGlvbihlLHIsbil7dmFyIG89ZS5fZDt1JiYobj0obj1NYXRoLnJvdW5kKG4pKTwwPzA6bj4yNTU/MjU1OjI1NSZuKSxvLnZbcF0ocip0K28ubyxuLE9lKX0sTD1mdW5jdGlvbihlLHQpe0YoZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRCh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE0odGhpcyx0LGUpfSxlbnVtZXJhYmxlOiEwfSl9O18/KHk9cihmdW5jdGlvbihlLHIsbixvKXtsKGUseSxjLCJfZCIpO3ZhciBpLGEscyx1LGY9MCxwPTA7aWYoUihyKSl7aWYoIShyIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KHU9bShyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PXUpKXJldHVybiBfZSBpbiByP01lKHkscik6amUuY2FsbCh5LHIpO2k9cixwPWtlKG4sdCk7dmFyIGc9ci5ieXRlTGVuZ3RoO2lmKHZvaWQgMD09PW8pe2lmKGcldCl0aHJvdyBHKCJXcm9uZyBsZW5ndGghIik7aWYoKGE9Zy1wKTwwKXRocm93IEcoIldyb25nIGxlbmd0aCEiKX1lbHNlIGlmKChhPWgobykqdCkrcD5nKXRocm93IEcoIldyb25nIGxlbmd0aCEiKTtzPWEvdH1lbHNlIHM9dihyKSxhPXMqdCxpPW5ldyBZKGEpO2ZvcihkKGUsIl9kIix7YjppLG86cCxsOmEsZTpzLHY6bmV3IEooaSl9KTtmPHM7KUwoZSxmKyspfSksdz15LnByb3RvdHlwZT1rKEZlKSxkKHcsImNvbnN0cnVjdG9yIix5KSk6aShmdW5jdGlvbigpe3koMSl9KSYmaShmdW5jdGlvbigpe25ldyB5KC0xKX0pJiZJKGZ1bmN0aW9uKGUpe25ldyB5LG5ldyB5KG51bGwpLG5ldyB5KDEuNSksbmV3IHkoZSl9LCEwKXx8KHk9cihmdW5jdGlvbihlLHIsbixvKXtsKGUseSxjKTt2YXIgaTtyZXR1cm4gUihyKT9yIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KGk9bShyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PWk/dm9pZCAwIT09bz9uZXcgZyhyLGtlKG4sdCksbyk6dm9pZCAwIT09bj9uZXcgZyhyLGtlKG4sdCkpOm5ldyBnKHIpOl9lIGluIHI/TWUoeSxyKTpqZS5jYWxsKHkscik6bmV3IGcodihyKSl9KSx6KGIhPT1GdW5jdGlvbi5wcm90b3R5cGU/UChnKS5jb25jYXQoUChiKSk6UChnKSxmdW5jdGlvbihlKXtlIGluIHl8fGQoeSxlLGdbZV0pfSkseS5wcm90b3R5cGU9dyxufHwody5jb25zdHJ1Y3Rvcj15KSk7dmFyIGo9d1t5ZV0sVT0hIWomJigidmFsdWVzIj09ai5uYW1lfHx2b2lkIDA9PWoubmFtZSksRT1UZS52YWx1ZXM7ZCh5LHZlLCEwKSxkKHcsX2UsYyksZCh3LG1lLCEwKSxkKHcsZ2UseSksKHU/bmV3IHkoMSlbaGVdPT1jOmhlIGluIHcpfHxGKHcsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0pLE9bY109eSxhKGEuRythLlcrYS5GKih5IT1nKSxPKSxhKGEuUyxjLHtCWVRFU19QRVJfRUxFTUVOVDp0fSksYShhLlMrYS5GKmkoZnVuY3Rpb24oKXtnLm9mLmNhbGwoeSwxKX0pLGMse2Zyb206amUsb2Y6VWV9KSwiQllURVNfUEVSX0VMRU1FTlQiaW4gd3x8ZCh3LCJCWVRFU19QRVJfRUxFTUVOVCIsdCksYShhLlAsYyxBZSksQyhjKSxhKGEuUCthLkYqd2UsYyx7c2V0OkNlfSksYShhLlArYS5GKiFVLGMsVGUpLG58fHcudG9TdHJpbmc9PWRlfHwody50b1N0cmluZz1kZSksYShhLlArYS5GKmkoZnVuY3Rpb24oKXtuZXcgeSgxKS5zbGljZSgpfSksYyx7c2xpY2U6SWV9KSxhKGEuUCthLkYqKGkoZnVuY3Rpb24oKXtyZXR1cm5bMSwyXS50b0xvY2FsZVN0cmluZygpIT1uZXcgeShbMSwyXSkudG9Mb2NhbGVTdHJpbmcoKX0pfHwhaShmdW5jdGlvbigpe3cudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSksYyx7dG9Mb2NhbGVTdHJpbmc6eGV9KSxBW2NdPVU/ajpFLG58fFV8fGQodyx5ZSxFKX19ZWxzZSBlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNzYpLG89cigwKSxpPXIoODMpKCJtZXRhZGF0YSIpLGE9aS5zdG9yZXx8KGkuc3RvcmU9bmV3KHIoMTc5KSkpLHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPWEuZ2V0KGUpO2lmKCFvKXtpZighcilyZXR1cm47YS5zZXQoZSxvPW5ldyBuKX12YXIgaT1vLmdldCh0KTtpZighaSl7aWYoIXIpcmV0dXJuO28uc2V0KHQsaT1uZXcgbil9cmV0dXJuIGl9LHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXModCxyLCExKTtyZXR1cm4gdm9pZCAwIT09biYmbi5oYXMoZSl9LGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXModCxyLCExKTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6bi5nZXQoZSl9LGw9ZnVuY3Rpb24oZSx0LHIsbil7cyhyLG4sITApLnNldChlLHQpfSxmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9cyhlLHQsITEpLG49W107cmV0dXJuIHImJnIuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLG59LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV8fCJzeW1ib2wiPT10eXBlb2YgZT9lOlN0cmluZyhlKX0scD1mdW5jdGlvbihlKXtvKG8uUywiUmVmbGVjdCIsZSl9O2UuZXhwb3J0cz17c3RvcmU6YSxtYXA6cyxoYXM6dSxnZXQ6YyxzZXQ6bCxrZXlzOmYsa2V5OmQsZXhwOnB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksbz1yKDE5MSksaT1yKDE0MCksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNTEpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PWkodCwhMCksbihyKSxvKXRyeXtyZXR1cm4gYShlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDQ3KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTMpKCJtZXRhIiksbz1yKDkpLGk9cigyNyksYT1yKDEzKS5mLHM9MCx1PU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGM9IXIoOCkoZnVuY3Rpb24oKXtyZXR1cm4gdShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7YShlLG4se3ZhbHVlOntpOiJPIisgKytzLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxuKSl7aWYoIXUoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW25dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW25dLnd9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGMmJnkuTkVFRCYmdShlKSYmIWkoZSxuKSYmbChlKSxlfSx5PWUuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpkLG9uRnJlZXplOnB9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTApKCJ1bnNjb3BhYmxlcyIpLG89QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09b1tuXSYmcigyMykobyxuLHt9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7b1tuXVtlXT0hMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE5MCksbz1yKDEzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig3MCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTU3KSxvPXIoMTA5KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOCksbz1NYXRoLm1heCxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP28oZSt0LDApOmkoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUpLG89cigxNTgpLGk9cigxMDkpLGE9cigxMDgpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LHU9ZnVuY3Rpb24oKXt2YXIgZSx0PXIoMTA2KSgiaWZyYW1lIiksbj1pLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDExMCkuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IixlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtpW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KHMucHJvdG90eXBlPW4oZSkscj1uZXcgcyxzLnByb3RvdHlwZT1udWxsLHJbYV09ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1Nyksbz1yKDEwOSkuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNyksbz1yKDEzKSxpPXIoMTIpLGE9cigxMCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpJiZ0JiYhdFthXSYmby5mKHQsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMyKSxvPXIoMTY5KSxpPXIoMTIyKSxhPXIoNSkscz1yKDE0KSx1PXIoMTI0KSxjPXt9LGw9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsZixkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxiPW4ocixmLHQ/MjoxKSxfPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7aWYoaShnKSl7Zm9yKHA9cyhlLmxlbmd0aCk7cD5fO18rKylpZigodj10P2IoYSh5PWVbX10pWzBdLHlbMV0pOmIoZVtfXSkpPT09Y3x8dj09PWwpcmV0dXJuIHZ9ZWxzZSBmb3IoaD1nLmNhbGwoZSk7ISh5PWgubmV4dCgpKS5kb25lOylpZigodj1vKGgsYix5LnZhbHVlLHQpKT09PWN8fHY9PT1sKXJldHVybiB2fTt0LkJSRUFLPWMsdC5SRVRVUk49bH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpbihlLG8sdFtvXSxyKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDQpLG89cig3OSk7ZS5leHBvcnRzPXIoNTEpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTMpLmYsbz1yKDI3KSxpPXIoMTApKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIW8oZT1yP2U6ZS5wcm90b3R5cGUsaSkmJm4oZSxpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDM3KSxpPXIoOCksYT1yKDExMikscz0iWyIrYSsiXSIsdT0i4oCLwoUiLGM9UmVnRXhwKCJeIitzK3MrIioiKSxsPVJlZ0V4cChzK3MrIiokIiksZj1mdW5jdGlvbihlLHQscil7dmFyIG89e30scz1pKGZ1bmN0aW9uKCl7cmV0dXJuISFhW2VdKCl8fHVbZV0oKSE9dX0pLGM9b1tlXT1zP3QoZCk6YVtlXTtyJiYob1tyXT1jKSxuKG4uUCtuLkYqcywiU3RyaW5nIixvKX0sZD1mLnRyaW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1TdHJpbmcobyhlKSksMSZ0JiYoZT1lLnJlcGxhY2UoYywiIikpLDImdCYmKGU9ZS5yZXBsYWNlKGwsIiIpKSxlfTtlLmV4cG9ydHM9Zn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpfHxlLl90IT09dCl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIit0KyIgcmVxdWlyZWQhIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxODkpLG89cigxMzcpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDk5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5EYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2U9dC5DYXRhbG9ndWVPYmplY3RUeXBlPXZvaWQgMDt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxOCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig1NTcpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIENhdGFsb2d1ZURhdGFPYmplY3QoZSx0LHIsbixpLHMsdSl7KDAsYS5kZWZhdWx0KSh0aGlzLENhdGFsb2d1ZURhdGFPYmplY3QpO3ZhciBjPSgwLGwuZGVmYXVsdCkodGhpcywoQ2F0YWxvZ3VlRGF0YU9iamVjdC5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoQ2F0YWxvZ3VlRGF0YU9iamVjdCkpLmNhbGwodGhpcykpO3JldHVybiBjLl9ndWlkPWUsYy5fdHlwZT10LGMuX3ZlcnNpb249cixjLl9vYmplY3ROYW1lPW4sYy5fZGVzY3JpcHRpb249aSxjLl9sYW5ndWFnZT1zLGMuX3NvdXJjZVBhY2thZ2VVUkw9dSxjLl9zaWduYXR1cmU9bnVsbCxjLl9zb3VyY2VQYWNrYWdlPW51bGwsY31yZXR1cm4oMCxkLmRlZmF1bHQpKENhdGFsb2d1ZURhdGFPYmplY3QsZSksKDAsdS5kZWZhdWx0KShDYXRhbG9ndWVEYXRhT2JqZWN0LFt7a2V5OiJndWlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3VpZH0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9ndWlkPWUpfX0se2tleToidHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fdHlwZT1lKX19LHtrZXk6InZlcnNpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92ZXJzaW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3ZlcnNpb249ZSl9fSx7a2V5OiJvYmplY3ROYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JqZWN0TmFtZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9vYmplY3ROYW1lPWUpfX0se2tleToiZGVzY3JpcHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9kZXNjcmlwdGlvbj1lKX19LHtrZXk6Imxhbmd1YWdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbGFuZ3VhZ2U9ZSl9fSx7a2V5OiJzaWduYXR1cmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc2lnbmF0dXJlPWUpfX0se2tleToic291cmNlUGFja2FnZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVBhY2thZ2V9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlUGFja2FnZT1lKX19LHtrZXk6InNvdXJjZVBhY2thZ2VVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VQYWNrYWdlVVJMfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3NvdXJjZVBhY2thZ2VVUkw9ZSl9fV0pLENhdGFsb2d1ZURhdGFPYmplY3R9KHkuZGVmYXVsdCk7dC5DYXRhbG9ndWVPYmplY3RUeXBlPXtIWVBFUlRZOiJoeXBlcnR5IixQUk9UT1NUVUI6InByb3Rvc3R1YiIsSFlQRVJUWV9SVU5USU1FOiJoeXBlcnR5X3J1bnRpbWUiLEhZUEVSVFlfSU5URVJDRVBUT1I6Imh5cGVydHlfaW5zcGVjdG9yIixIWVBFUlRZX0RBVEFfT0JKRUNUOiJoeXBlcnR5X2RhdGFfb2JqZWN0In0sdC5EYXRhT2JqZWN0U291cmNlTGFuZ3VhZ2U9e0pBVkFTQ1JJUFRfRUNNQTY6ImphdmFzY3JpcHRfZWNtYTYiLEpBVkFTQ1JJUFRfRUNNQTU6ImphdmFzY3JpcHRfZWNtYTUiLEpTT05fU0NIRU1BX1Y0OiJqc29uX3NjaGVtYV92NCIsUFlUSE9OOiJweXRob24iLFRZUEVTQ1JJUFQ6InR5cGVzY3JpcHQifTt0LmRlZmF1bHQ9aH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzMpO2UuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMzKSxvPXIoMTApKCJ0b1N0cmluZ1RhZyIpLGk9IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxhPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319O2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHM7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1hKHQ9T2JqZWN0KGUpLG8pKT9yOmk/bih0KToiT2JqZWN0Ij09KHM9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpzfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDMxKSghMCk7cigxOTMpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LGZ1bmN0aW9uKGUsdCl7dC5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgbj1yKDQ1NCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NTYpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBhLmRlZmF1bHQmJiJzeW1ib2wiPT10eXBlb2Ygby5kZWZhdWx0P2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1hLmRlZmF1bHQmJmUhPT1hLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGEuZGVmYXVsdCYmInN5bWJvbCI9PT1zKG8uZGVmYXVsdCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/InVuZGVmaW5lZCI6cyhlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1hLmRlZmF1bHQmJmUhPT1hLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnZvaWQgMD09PWU/InVuZGVmaW5lZCI6cyhlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMxKSxvPXIoNyksaT1vWyJfX2NvcmUtanNfc2hhcmVkX18iXXx8KG9bIl9fY29yZS1qc19zaGFyZWRfXyJdPXt9KTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlbZV18fChpW2VdPXZvaWQgMCE9PXQ/dDp7fSl9KSgidmVyc2lvbnMiLFtdKS5wdXNoKHt2ZXJzaW9uOm4udmVyc2lvbixtb2RlOnIoNDgpPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMTggRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI4KSxvPXIoMTQpLGk9cig1NSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsYSl7dmFyIHMsdT1uKHQpLGM9byh1Lmxlbmd0aCksbD1pKGEsYyk7aWYoZSYmciE9cil7Zm9yKDtjPmw7KWlmKChzPXVbbCsrXSkhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2M+bDtsKyspaWYoKGV8fGwgaW4gdSkmJnVbbF09PT1yKXJldHVybiBlfHxsfHwwO3JldHVybiFlJiYtMX19fSxmdW5jdGlvbihlLHQpe3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoMzMpLGk9cigxMCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuKGUpJiYodm9pZCAwIT09KHQ9ZVtpXSk/ISF0OiJSZWdFeHAiPT1vKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEwKSgiaXRlcmF0b3IiKSxvPSExO3RyeXt2YXIgaT1bN11bbl0oKTtpLnJldHVybj1mdW5jdGlvbigpe289ITB9LEFycmF5LmZyb20oaSxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFvKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgaT1bN10sYT1pW25dKCk7YS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LGlbbl09ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZShpKX1jYXRjaChlKXt9cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKSx0PSIiO3JldHVybiBlLmdsb2JhbCYmKHQrPSJnIiksZS5pZ25vcmVDYXNlJiYodCs9ImkiKSxlLm11bHRpbGluZSYmKHQrPSJtIiksZS51bmljb2RlJiYodCs9InUiKSxlLnN0aWNreSYmKHQrPSJ5IiksdH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMyksbz1yKDI0KSxpPXIoOCksYT1yKDM3KSxzPXIoMTApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIHU9cyhlKSxjPXIoYSx1LCIiW2VdKSxsPWNbMF0sZj1jWzFdO2koZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdFt1XT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT0iIltlXSh0KX0pJiYobyhTdHJpbmcucHJvdG90eXBlLGUsbCksbihSZWdFeHAucHJvdG90eXBlLHUsMj09dD9mdW5jdGlvbihlLHQpe3JldHVybiBmLmNhbGwoZSx0aGlzLHQpfTpmdW5jdGlvbihlKXtyZXR1cm4gZi5jYWxsKGUsdGhpcyl9KSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1KSxvPXIoMjApLGk9cigxMCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09KHI9bihhKVtpXSk/dDpvKHIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNyksbz1uLm5hdmlnYXRvcjtlLmV4cG9ydHM9byYmby51c2VyQWdlbnR8fCIifSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNyksbz1yKDApLGk9cigyNCksYT1yKDYxKSxzPXIoNDcpLHU9cig2MCksYz1yKDU5KSxsPXIoOSksZj1yKDgpLGQ9cig4OCkscD1yKDY0KSx5PXIoMTEzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcpe3ZhciBiPW5bZV0sXz1iLG09dj8ic2V0IjoiYWRkIixSPV8mJl8ucHJvdG90eXBlLE89e30sdz1mdW5jdGlvbihlKXt2YXIgdD1SW2VdO2koUixlLCJkZWxldGUiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiEoZyYmIWwoZSkpJiZ0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiaGFzIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4hKGcmJiFsKGUpKSYmdC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImdldCI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIGcmJiFsKGUpP3ZvaWQgMDp0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiYWRkIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gdC5jYWxsKHRoaXMsMD09PWU/MDplKSx0aGlzfTpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwodGhpcywwPT09ZT8wOmUsciksdGhpc30pfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgXyYmKGd8fFIuZm9yRWFjaCYmIWYoZnVuY3Rpb24oKXsobmV3IF8pLmVudHJpZXMoKS5uZXh0KCl9KSkpe3ZhciBrPW5ldyBfLFM9a1ttXShnP3t9Oi0wLDEpIT1rLFA9ZihmdW5jdGlvbigpe2suaGFzKDEpfSksRD1kKGZ1bmN0aW9uKGUpe25ldyBfKGUpfSksTT0hZyYmZihmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgXyx0PTU7dC0tOyllW21dKHQsdCk7cmV0dXJuIWUuaGFzKC0wKX0pO0R8fChfPXQoZnVuY3Rpb24odCxyKXtjKHQsXyxlKTt2YXIgbj15KG5ldyBiLHQsXyk7cmV0dXJuIHZvaWQgMCE9ciYmdShyLHYsblttXSxuKSxufSksXy5wcm90b3R5cGU9UixSLmNvbnN0cnVjdG9yPV8pLChQfHxNKSYmKHcoImRlbGV0ZSIpLHcoImhhcyIpLHYmJncoImdldCIpKSwoTXx8UykmJncobSksZyYmUi5jbGVhciYmZGVsZXRlIFIuY2xlYXJ9ZWxzZSBfPWguZ2V0Q29uc3RydWN0b3IodCxlLHYsbSksYShfLnByb3RvdHlwZSxyKSxzLk5FRUQ9ITA7cmV0dXJuIHAoXyxlKSxPW2VdPV8sbyhvLkcrby5XK28uRiooXyE9YiksTyksZ3x8aC5zZXRTdHJvbmcoXyxlLHYpLF99fSxmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuLG89cig3KSxpPXIoMjMpLGE9cig1Mykscz1hKCJ0eXBlZF9hcnJheSIpLHU9YSgidmlldyIpLGM9ISghby5BcnJheUJ1ZmZlcnx8IW8uRGF0YVZpZXcpLGw9YyxmPTAsZD0iSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXkiLnNwbGl0KCIsIik7Zjw5Oykobj1vW2RbZisrXV0pPyhpKG4ucHJvdG90eXBlLHMsITApLGkobi5wcm90b3R5cGUsdSwhMCkpOmw9ITE7ZS5leHBvcnRzPXtBQlY6YyxDT05TVFI6bCxUWVBFRDpzLFZJRVc6dX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXIoNDgpfHwhcig4KShmdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCk7X19kZWZpbmVTZXR0ZXJfXy5jYWxsKG51bGwsZSxmdW5jdGlvbigpe30pLGRlbGV0ZSByKDcpW2VdfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMjApLGk9cigzMiksYT1yKDYwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG4scyx1PWFyZ3VtZW50c1sxXTtyZXR1cm4gbyh0aGlzKSx0PXZvaWQgMCE9PXUsdCYmbyh1KSx2b2lkIDA9PWU/bmV3IHRoaXM6KHI9W10sdD8obj0wLHM9aSh1LGFyZ3VtZW50c1syXSwyKSxhKGUsITEsZnVuY3Rpb24oZSl7ci5wdXNoKHMoZSxuKyspKX0pKTphKGUsITEsci5wdXNoLHIpLG5ldyB0aGlzKHIpKX19KX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ0KS5mLG89cig2MiksaT1yKDIyKSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LGZ1bmN0aW9uKGUsdCxyKXtyKDQzNCk7Zm9yKHZhciBuPXIoMjEpLG89cig2MyksaT1yKDcxKSxhPXIoMjIpKCJ0b1N0cmluZ1RhZyIpLHM9IkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0Ii5zcGxpdCgiLCIpLHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGM9c1t1XSxsPW5bY10sZj1sJiZsLnByb3RvdHlwZTtmJiYhZlthXSYmbyhmLGEsYyksaVtjXT1pLkFycmF5fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lVXRpbHM9e3J1bnRpbWVEZXNjcmlwdG9yOnt9LHJ1bnRpbWVDYXBhYmlsaXRpZXM6e2NvbnN0cmFpbnRzOnt9fX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNDgwKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7dC5kZWZhdWx0PWZ1bmN0aW9uIGdldChlLHQscil7bnVsbD09PWUmJihlPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG49KDAsYS5kZWZhdWx0KShlLHQpO2lmKHZvaWQgMD09PW4pe3ZhciBpPSgwLG8uZGVmYXVsdCkoZSk7cmV0dXJuIG51bGw9PT1pP3ZvaWQgMDpnZXQoaSx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBzPW4uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9cig2KSxkPWwuZ2V0TG9nZ2VyKCJhZGRyZXNzLWFsbG9jYXRpb24iKSxwPXZvaWQgMCx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWRkcmVzc0FsbG9jYXRpb24oZSx0LHIsbil7aWYoKDAsYS5kZWZhdWx0KSh0aGlzLEFkZHJlc3NBbGxvY2F0aW9uKSxwKXJldHVybiBwO3RoaXMuX3VybD1lKyIvYWRkcmVzcy1hbGxvY2F0aW9uIix0aGlzLl9idXM9dCx0aGlzLl9yZWdpc3RyeT1yLHRoaXMuX3N1YnNjcmlwdGlvbk1hbmFnZXI9bixwPXRoaXN9cmV0dXJuKDAsdS5kZWZhdWx0KShBZGRyZXNzQWxsb2NhdGlvbixbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3JldHVybiBpPyJib29sZWFuIj09dHlwZW9mIGk/aT90aGlzLl9yZXVzZUFsbG9jYXRlZEFkZHJlc3MoZSx0LHIsbixpKTp0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQscik6InN0cmluZyI9PXR5cGVvZiBpJiYoMCxmLmlzVVJMKShpKT9uZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoe25ld0FkZHJlc3M6ITEsYWRkcmVzczpbaV19KX0pOnZvaWQgMDooZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb25dIC0gbmV3IGFkZHJlc3Mgd2lsbCBiZSBhbGxvY2F0ZWQiKSx0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQscikpfX0se2tleToiX3JldXNlQWxsb2NhdGVkQWRkcmVzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgYT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7YS5fcmVnaXN0cnkuY2hlY2tSZWdpc3RlcmVkVVJMcyhyLGkpLnRoZW4oZnVuY3Rpb24odSl7aWYodSl7ZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb24gLSAiK24rIl0gLSBSZXVzZSBVUkwiKTtvKHtuZXdBZGRyZXNzOiExLGFkZHJlc3M6dX0pfWVsc2Uic3RyaW5nIj09dHlwZW9mIGk/KGQuaW5mbygiW0FkZHJlc3NBbGxvY2F0aW9uIC0gcmV1c2VVUkxdIC0gT2JqZWN0ICIraSsiIG5vdCBmb3VuZCIpLHMoIlVSTCBOb3QgRm91bmQiKSk6ImJvb2xlYW4iPT10eXBlb2YgaT9hLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQscikudGhlbihvKS5jYXRjaChzKTpzKCJVUkwgTm90IEZvdW5kIil9KX0pfX0se2tleToiX2FsbG9jYXRlTmV3QWRkcmVzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGEpe3ZhciBzLHU9W107Zm9yKHM9MDtzPHI7cysrKXUucHVzaCh0KyI6Ly8iK2UrIi8iKygwLGYuZ2VuZXJhdGVHVUlEKSgpKTt2YXIgYz17bmV3QWRkcmVzczohMCxhZGRyZXNzOnV9O2lmKCJoeXBlcnR5Ij09PXQpaWYobi5oYXNPd25Qcm9wZXJ0eSgiX2NvbmZpZ3VyYXRpb24iKSl7dmFyIGw9IW4uX2NvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkoImRvbWFpbl9yb3V0aW5nIil8fG4uY29uZmlndXJhdGlvbi5kb21haW5fcm91dGluZztsP2kuX3N1YnNjcmlwdGlvbk1hbmFnZXIuY3JlYXRlU3Vic2NyaXB0aW9uKGUsdSxpLl91cmwpLnRoZW4oZnVuY3Rpb24oKXtvKGMpfSk6byhjKX1lbHNlIG8oYyk7ZWxzZSBvKGMpfSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtlKDIwMCl9KX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSxbe2tleToiaW5zdGFuY2UiLGdldDpmdW5jdGlvbigpe2lmKCFwKXRocm93IG5ldyBFcnJvcigiVGhlIGFkZHJlc3MgYWxsb2NhdGlvbiB3YXMgbm90IGluc3RhbnRpYXRlZCIpO3JldHVybiBwfX1dKSxBZGRyZXNzQWxsb2NhdGlvbn0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNiksZD1yKDUyNSkscD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGQpLHk9bC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ3J5cHRvTWFuYWdlcihlKXsoMCxhLmRlZmF1bHQpKHRoaXMsQ3J5cHRvTWFuYWdlciksdGhpcy5zdG9yYWdlTWFuYWdlcj1lLHRoaXMudXNlckRlZmF1bHRLZXlSZWY9InVzZXJBc3ltbWV0cmljS2V5In1yZXR1cm4oMCx1LmRlZmF1bHQpKENyeXB0b01hbmFnZXIsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEscyl7dmFyIHU9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoIltdIHJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighcil0aHJvdyBuZXcgRXJyb3IoInN0b3JhZ2VNYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVGYWN0b3J5IGlzIG1pc3NpbmciKTt1Ll9ydW50aW1lVVJMPWUsdS5fY3J5cHRvTWFuYWdlclVSTD11Ll9ydW50aW1lVVJMKyIvY3J5cHRvTWFuYWdlciIsdS5zdG9yYWdlTWFuYWdlcj1yLHUuZGF0YU9iamVjdHNTdG9yYWdlPW4sdS5ydW50aW1lQ2FwYWJpbGl0aWVzPXQsdS5fcnVudGltZUZhY3Rvcnk9cyx1Ll9kb21haW49KDAsZi5kaXZpZGVVUkwpKHUuX3J1bnRpbWVVUkwpLmRvbWFpbix1LmNyeXB0bz1uZXcgcC5kZWZhdWx0KHUuX3J1bnRpbWVGYWN0b3J5KSx1LmNoYXRLZXlzPXt9LHUuZGF0YU9iamVjdFNlc3Npb25LZXlzPXt9LHUuaXNUb1VzZUVuY3J5cHRpb249ITAsdS5fcmVnaXN0cnk9byx1Ll9jb3JlRGlzY292ZXJ5PWksdS5faWRtPWF9fSx7a2V5OiJsb2FkU2Vzc2lvbktleXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0KXtlLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihyKXtlLmRhdGFPYmplY3RTZXNzaW9uS2V5cz1yfHx7fSx0KCl9KX0pfX0se2tleToiX2lzRnJvbVJlbW90ZVNNIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4icnVudGltZSI9PT1lLnNwbGl0KCI6Ly8iKVswXSYmZSE9PXRoaXMuX3J1bnRpbWVVUkwrIi9zbSJ9fSx7a2V5OiJhZGRDcnlwdG9HVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUuX2NyeXB0b01hbmFnZXJVUkwsZnVuY3Rpb24odCl7aWYoImdlbmVyYXRlUlNBS2V5UGFpciI9PT10LmJvZHkubWV0aG9kKXJldHVybiB2b2lkIGUuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXt5LmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBnZW5lcmF0ZVJTQUtleVBhaXIgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfSl9fSx7a2V5OiJfaXNUb0VuY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7eS5pbmZvKCJbQ3J5cHRvTWFuYWdlci5pc3RvQ2h5cGVyTW9kdWxlXSIsZSk7dmFyIHI9ImNyZWF0ZSI9PT1lLnR5cGUsbj1lLmZyb20uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxvPWUudG8uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxpPSgwLGYuaXNEYXRhT2JqZWN0VVJMKShlLnRvKSxhPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFJlcG9ydGVyKGUudG8pLHM9IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIil8fGUuYm9keS5tdXR1YWw7cmV0dXJuISFzJiYoKG51bGw9PT1hfHwhKDAsZi5pc0xlZ2FjeSkoYSkpJiYodGhpcy5pc1RvVXNlRW5jcnlwdGlvbnx8ImhhbmRzaGFrZSI9PT1lLnR5cGU/InVwZGF0ZSI9PT1lLnR5cGU/KHkuaW5mbygidXBkYXRlOmVuY3J5cHRpb24gZGlzYWJsZWQiKSwhMSk6ISgwLGYuaXNMZWdhY3kpKGUudG8pJiYociYmbiYmb3x8ciYmbiYmaSYmc3x8ImhhbmRzaGFrZSI9PT1lLnR5cGV8fCJ1cGRhdGUiPT09ZS50eXBlJiZzKTooeS5pbmZvKCJub3QgaGFuZHNoYWtlOiBlbmNyeXB0aW9uIGRpc2FibGVkIiksITEpKSl9fSx7a2V5OiJfaXNUb0RlY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZigic3Vic2NyaWJlIj09PWUudHlwZSZ0Ll9pc0Zyb21SZW1vdGVTTShlLmZyb20pKXt5LmxvZygiX2RvTXV0dWFsQXV0aGVudGljYXRpb25QaGFzZTEiKTt2YXIgbz10LnJlZ2lzdHJ5LmdldERhdGFPYmplY3RSZXBvcnRlcihlLnRvKTtpZihudWxsIT09byYmKDAsZi5pc0xlZ2FjeSkobykpcmV0dXJuIHIoITEpO3QuX2RvTXV0dWFsQXV0aGVudGljYXRpb25QaGFzZTEoZSkudGhlbihmdW5jdGlvbigpe3IoITEpfSxmdW5jdGlvbihlKXtuKGUpfSl9ZWxzZSBlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmInN0cmluZyI9PXR5cGVvZiBlLmJvZHkudmFsdWU/KHkubG9nKCJfaXNUb0RlY3J5cHQ6dHJ1ZSIpLHIoITApKTooeS5sb2coIl9pc1RvRGVjcnlwdDpmYWxzZSIpLHIoITEpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltDcnlwdG9NYW5hZ2VyLl9pc1RvRGVjcnlwdF0iLGUpfSl9fSx7a2V5OiJlbmNyeXB0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4geS5sb2coImVuY3J5cHQgbWVzc2FnZSAiKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ImhhbmRzaGFrZSI9PT1lLnR5cGU7aWYoIXQuX2lzVG9FbmNyeXB0KGUpKXJldHVybiByKGUpO3ZhciBpPSgwLGYucGFyc2VNZXNzYWdlVVJMKShlLnRvKSxhPSgwLGYuaXNEYXRhT2JqZWN0VVJMKShpKSxzPSgwLGYuaXNMZWdhY3kpKGUudG8pLHU9Imh5cGVydHkiPT09KDAsZi5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGYuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiB5LmxvZygiZW5jcnlwdCBtZXNzYWdlOiBtZXNzYWdlIHR5cGUgdXBkYXRlIikscihlKTtpZihzKXIoZSk7ZWxzZSBpZih1JiZjKXt2YXIgbD10Ll9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS5mcm9tKTtpZihsKXt2YXIgZD10LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXTtpZihkfHwoZD10Ll9uZXdDaGF0Q3J5cHRvKGUsbCksdC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109ZCxlLmJvZHkuaGFuZHNoYWtlUGhhc2U9InN0YXJ0SGFuZFNoYWtlIiksZC5hdXRoZW50aWNhdGVkJiYhbyl7dmFyIHA9dC5jcnlwdG8uZ2VuZXJhdGVJVigpO3QuY3J5cHRvLmVuY3J5cHRBRVMoZC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwoMCxmLnN0cmluZ2lmeSkoZS5ib2R5LnZhbHVlKSxwKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBvPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSwoMCxmLnN0cmluZ2lmeSkoZS5ib2R5LnZhbHVlKSsoMCxmLnN0cmluZ2lmeSkocCksZC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7dC5jcnlwdG8uaGFzaEhNQUMoZC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxvKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXtpdjooMCxmLmVuY29kZSkocCksdmFsdWU6KDAsZi5lbmNvZGUpKG4pLGhhc2g6KDAsZi5lbmNvZGUpKHQpfTtlLmJvZHkudmFsdWU9KDAsZi5lbmNvZGUpKG8pLHIoZSl9KX0pfWVsc2Ugbz9yKGUpOnQuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpe3QuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpLG4oImVuY3J5cHQgaGFuZHNoYWtlIHByb3RvY29sIHBoYXNlICIpfSl9ZWxzZSBuKCJJbiBlbmNyeXB0TWVzc2FnZTogSHlwZXJ0eSBvd25lciBVUkwgd2FzIG5vdCBmb3VuZCIpfWVsc2UgdSYmYSYmdC5zdG9yYWdlTWFuYWdlci5nZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIpLnRoZW4oZnVuY3Rpb24obyl7bz0oMCxmLmNoYXRrZXlzVG9BcnJheUNsb25lcikob3x8e30pO3ZhciBhPW8/b1tpXTpudWxsO3QuZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QoaSkudGhlbihmdW5jdGlvbihvKXtpZighYSYmby5yZXBvcnRlciYmby5yZXBvcnRlcj09PWUuZnJvbSl7dmFyIHM9dC5jcnlwdG8uZ2VuZXJhdGVSYW5kb20oKTt0LmRhdGFPYmplY3RTZXNzaW9uS2V5c1tpXT17c2Vzc2lvbktleTpzLGlzVG9FbmNyeXB0OiEwfTt2YXIgdT0oMCxmLmNoYXRrZXlzVG9TdHJpbmdDbG9uZXIpKHQuZGF0YU9iamVjdFNlc3Npb25LZXlzKTt0LnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLHUpLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldCBlcnJvcjogIitlKX0pLGE9dC5kYXRhT2JqZWN0U2Vzc2lvbktleXNbaV19aWYoYSlpZihhLmlzVG9FbmNyeXB0KXt2YXIgYz10LmNyeXB0by5nZW5lcmF0ZUlWKCksbD0oMCxmLnN0cmluZ2lmeSkoYyksZD0oMCxmLnN0cmluZ2lmeSkoZS5ib2R5LnZhbHVlKTt0LmNyeXB0by5lbmNyeXB0QUVTKGEuc2Vzc2lvbktleSxkLGMpLnRoZW4oZnVuY3Rpb24obil7ZGVsZXRlIGUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sZGVsZXRlIGUuYm9keS5pZGVudGl0eS5leHBpcmVzO3ZhciBvPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxkK2wpO3QuY3J5cHRvLmhhc2hITUFDKGEuc2Vzc2lvbktleSxvKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXt2YWx1ZTooMCxmLmVuY29kZSkobiksaXY6KDAsZi5lbmNvZGUpKGMpLGhhc2g6KDAsZi5lbmNvZGUpKHQpfTtlLmJvZHkudmFsdWU9KDAsZi5zdHJpbmdpZnkpKG8pLHIoZSl9KX0pfWVsc2UgcihlKTtlbHNlIG4oIkRhdGEgb2JqZWN0IGtleSBjb3VsZCBub3QgYmUgZGVmaW5lZDogRmFpbGVkIHRvIGRlY3J5cHQgbWVzc2FnZSAiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIGRhdGFPYmplY3RzU3RvcmFnZS5nZXREYXRhT2JqZWN0IGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBlbmNyeXB0TWVzc2FnZSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5nZXQgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZW5jcnlwdERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3kuaW5mbygiZGF0YU9iamVjdCB2YWx1ZSB0byBlbmNyeXB0OiAiLGUpO3ZhciBpPSgwLGYucGFyc2VNZXNzYWdlVVJMKSh0KTtyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGYuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0fHx7fSk7dmFyIGE9dD90W2ldOm51bGw7aWYoIWEpcmV0dXJuIG8oIk5vIGRhdGFPYmplY3RLZXkgZm9yIHRoaXMgZGF0YU9iamVjdFVSTDoiLGkpO2lmKCFhLmlzVG9FbmNyeXB0KXJldHVybiB5LmluZm8oIlRoZSBkYXRhT2JqZWN0IGlzIG5vdCBlbmNyeXB0ZWQiKSxuKGUpO3ZhciBzPXIuY3J5cHRvLmdlbmVyYXRlSVYoKTtyLmNyeXB0by5lbmNyeXB0QUVTKGEuc2Vzc2lvbktleSwoMCxmLnN0cmluZ2lmeSkoZSkscykudGhlbihmdW5jdGlvbihlKXt2YXIgdD17dmFsdWU6KDAsZi5lbmNvZGUpKGUpLGl2OigwLGYuZW5jb2RlKShzKX07cmV0dXJuIG4odCl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5nZXQgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZGVjcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0iaGFuZHNoYWtlIj09PWUudHlwZTt0Ll9pc1RvRGVjcnlwdChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKCFpKXJldHVybiByKGUpO3ZhciBhPSgwLGYucGFyc2VNZXNzYWdlVVJMKShlLnRvKSxzPSgwLGYuaXNEYXRhT2JqZWN0VVJMKShhKSx1PSJoeXBlcnR5Ij09PSgwLGYuZGl2aWRlVVJMKShlLmZyb20pLnR5cGUsYz0iaHlwZXJ0eSI9PT0oMCxmLmRpdmlkZVVSTCkoZS50bykudHlwZTtpZigidXBkYXRlIj09PWUudHlwZSlyZXR1cm4gcihlKTtpZih1JiZjKXt2YXIgbD10Ll9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS50byk7aWYobCl7dmFyIGQ9dC5jaGF0S2V5c1tlLnRvKyI8LT4iK2UuZnJvbV07aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGwsImRlY3J5cHQiKSx0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1kKSxkLmF1dGhlbnRpY2F0ZWQmJiFvKXt2YXIgcD0oMCxmLmRlY29kZSkoZS5ib2R5LnZhbHVlKSxoPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShwLml2KSx2PSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShwLnZhbHVlKSxnPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShwLmhhc2gpO3QuY3J5cHRvLmRlY3J5cHRBRVMoZC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixoKS50aGVuKGZ1bmN0aW9uKG4pe2UuYm9keS52YWx1ZT1uO3ZhciBvPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2gpO3QuY3J5cHRvLnZlcmlmeUhNQUMoZC5rZXlzLmh5cGVydHlUb0hhc2hLZXksbyxnKS50aGVuKGZ1bmN0aW9uKHQpe2UuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSl9KX0pfWVsc2Ugbz90Ll9kb0hhbmRTaGFrZVBoYXNlKGUsZCkudGhlbihmdW5jdGlvbihyKXsiaGFuZFNoYWtlRW5kIj09PXJ8fCh0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1yLmNoYXRLZXlzLHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoci5tZXNzYWdlKSl9KTpuKCJ3cm9uZyBtZXNzYWdlIGRvIGRlY3J5cHQiKX1lbHNlIG4oImVycm9yIG9uIGRlY3J5cHQgbWVzc2FnZSIpfWVsc2UgdSYmcz90LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihvKXtvPSgwLGYuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShvfHx7fSk7dmFyIGk9bz9vW2FdOm51bGw7aWYoaSlpZihpLmlzVG9FbmNyeXB0KXt2YXIgcz0oMCxmLnBhcnNlKShlLmJvZHkudmFsdWUpLHU9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHMuaXYpLGM9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHMudmFsdWUpLGw9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHMuaGFzaCk7dC5jcnlwdG8uZGVjcnlwdEFFUyhpLnNlc3Npb25LZXksYyx1KS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBhPSgwLGYucGFyc2UpKG8pO2UuYm9keS52YWx1ZT1hO3ZhciBzPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSwoMCxmLnN0cmluZ2lmeSkoYSkrKDAsZi5zdHJpbmdpZnkpKHUpKTt0LmNyeXB0by52ZXJpZnlITUFDKGkuc2Vzc2lvbktleSxzLGwpLnRoZW4oZnVuY3Rpb24odCl7eS5sb2coIlJlY2VpdmVkIG1lc3NhZ2UgSE1BQyByZXN1bHQiLHQpLGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJNZXNzYWdlIEhNQUMgaXMgaW52YWxpZDogIitlKX0pfSl9ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpO2Vsc2UgZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pOm4oIndyb25nIG1lc3NhZ2UgdG8gZGVjcnlwdCIpfSl9KX19LHtrZXk6ImRlY3J5cHREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpZighci5pc1RvVXNlRW5jcnlwdGlvbilyZXR1cm4gbihlKTt2YXIgaT0oMCxmLnBhcnNlTWVzc2FnZVVSTCkodCk7ci5zdG9yYWdlTWFuYWdlci5nZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIpLnRoZW4oZnVuY3Rpb24odCl7dD0oMCxmLmNoYXRrZXlzVG9BcnJheUNsb25lcikodCk7dmFyIGE9dD90W2ldOm51bGw7aWYoIWEpcmV0dXJuIG8oIk5vIGRhdGFPYmplY3RLZXkgZm9yIHRoaXMgZGF0YU9iamVjdFVSTDoiLGkpO2lmKCFhLmlzVG9FbmNyeXB0KXJldHVybiBuKGUpO3ZhciBzPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShlLml2KSx1PSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShlLnZhbHVlKTtyLmNyeXB0by5kZWNyeXB0QUVTKGEuc2Vzc2lvbktleSx1LHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9KDAsZi5wYXJzZSkoZSkscj17dmFsdWU6dCxpdjooMCxmLmVuY29kZSkocyl9O3JldHVybiBuKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gZGVjcnlwdERhdGFPYmplY3QgZnJvbSBtZXRob2QgZW5jcnlwdEFFUyBlcnJvcjogIitlKX0pfSl9KX19LHtrZXk6Il9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UxIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ZS50by5zcGxpdCgiLyIpO28ucG9wKCk7dmFyIGk9b1swXSsiLy8iK29bMl0rIi8iK29bM107dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMihpLGUuYm9keS5zdWJzY3JpYmVyKS50aGVuKGZ1bmN0aW9uKCl7dC5fcmVnaXN0cnkucmVnaXN0ZXJTdWJzY3JpYmVyKGksZS5ib2R5LnN1YnNjcmliZXIpLHIoKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246c2VuZGVyICIsZSkseS5pbmZvKCJkb011dHVhbEF1dGhlbnRpY2F0aW9uOnJlY2VpdmVyICIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXZvaWQgMCxhPXIuX3JlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTthJiYoaT1lLGU9YSk7dmFyIHM9e3RvOnQsZnJvbTplLGNhbGxiYWNrOnZvaWQgMCxib2R5OntoYW5kc2hha2VQaGFzZToic3RhcnRIYW5kU2hha2UiLGlnbm9yZToiaWdub3JlTWVzc2FnZSJ9fTtpZighZXx8IXQpcmV0dXJuIG8oInNlbmRlciBvciByZWNlaXZlciBtaXNzaW5nIG9uIGRvTXV0dWFsQXV0aGVudGljYXRpb24iKTt2YXIgdT1yLmNoYXRLZXlzW2UrIjwtPiIrdF0sYz1yLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSk7aWYoYyl7aWYoIXUpe3ZhciBsPWZ1bmN0aW9uKGUpe24oZSl9O3MuY2FsbGJhY2s9bCxzLmRhdGFPYmplY3RVUkw9aSx1PXIuX25ld0NoYXRDcnlwdG8ocyxjKSxyLmNoYXRLZXlzW2UrIjwtPiIrdF09dX1pZih1LmF1dGhlbnRpY2F0ZWQpe3ZhciBmPXt0bzplLGZyb206dH07dS5kYXRhT2JqZWN0VVJMPWksci5fc2VuZFJlcG9ydGVyU2Vzc2lvbktleShmLHUpLnRoZW4oZnVuY3Rpb24oZSl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlLm1lc3NhZ2UpLG4oImV4Y2hhbmdlIG9mIGNoYXQgc2Vzc2lvbktleSBpbml0aWF0ZWQiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGRvTXV0dWFsQXV0aGVudGljYXRpb24gZnJvbSBtZXRob2QgX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZXJyb3I6ICIrZSl9KX1lbHNlIHIuX2RvSGFuZFNoYWtlUGhhc2Uocyx1KX1lbHNlIG8oIk11dHVhbCBhdXRoZW50aWNhdGlvbiBlcnJvcjogSHlwZXJ0eSBvd25lciBjb3VsZCBub3QgYmUgcmVzb2x2ZWQiKX0pfX0se2tleToiX3NlbmRSZXBvcnRlclNlc3Npb25LZXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuZGF0YU9iamVjdFNlc3Npb25LZXlzW3QuZGF0YU9iamVjdFVSTF0sYT12b2lkIDAscz12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsbD17fTtpZihpKXU9aS5zZXNzaW9uS2V5O2Vsc2V7dT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpLHIuZGF0YU9iamVjdFNlc3Npb25LZXlzW3QuZGF0YU9iamVjdFVSTF09e3Nlc3Npb25LZXk6dSxpc1RvRW5jcnlwdDohMH07dmFyIGQ9KDAsZi5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7ci5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCxkKS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQoZGF0YU9iamVjdFNlc3Npb25LZXlzLi4uKSBlcnJvcjogIitlKX0pfXRyeXtzPSgwLGYuZW5jb2RlKSh7dmFsdWU6KDAsZi5lbmNvZGUpKHUpLGRhdGFPYmplY3RVUkw6dC5kYXRhT2JqZWN0VVJMfSl9Y2F0Y2goZSl7cmV0dXJuIG8oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldCBlcnJvciB2YWx1ZVRvRW5jcnlwdDogIitlKX1jPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSxsLml2PSgwLGYuZW5jb2RlKShjKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXkscyxjKS50aGVuKGZ1bmN0aW9uKG4pe2E9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVwb3J0ZXJTZXNzaW9uS2V5Iix2YWx1ZTooMCxmLmVuY29kZSkobil9fTt2YXIgbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGEscytjLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LG8pfSkudGhlbihmdW5jdGlvbihlKXt2YXIgcj0oMCxmLmVuY29kZSkoe3ZhbHVlOmEuYm9keS52YWx1ZSxoYXNoOigwLGYuZW5jb2RlKShlKSxpdjpsLml2fSk7YS5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTphLGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gY2hhaW5lZCBwcm9taXNlcyBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9yZXNvbHZlRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iZG9tYWluLWlkcDovLyIrZToiZG9tYWluLWlkcDovL2dvb2dsZS5jb20ifX0se2tleToiX2RvSGFuZFNoYWtlUGhhc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPWUuYm9keS5oYW5kc2hha2VQaGFzZSxhPXZvaWQgMCxzPXZvaWQgMCx1PXt9LGM9dm9pZCAwLGw9dm9pZCAwO3N3aXRjaCh5LmluZm8oImhhbmRzaGFrZSBwaGFzZTogIixpKSxpKXtjYXNlInN0YXJ0SGFuZFNoYWtlIjp0LmtleXMuZnJvbVJhbmRvbT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3ZhciBkPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUudG8sZnJvbTplLmZyb20sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckhlbGxvIix2YWx1ZTooMCxmLmVuY29kZSkodC5rZXlzLmZyb21SYW5kb20pfX07dC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZCx2b2lkIDAsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksdC5pbml0aWFsTWVzc2FnZT9uKHttZXNzYWdlOmQsY2hhdEtleXM6dH0pOihyLmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT10LHIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZCkpO2JyZWFrO2Nhc2Uic2VuZGVySGVsbG8iOnkubG9nKCJzZW5kZXJIZWxsbyIpLHQuaGFuZHNoYWtlSGlzdG9yeS5zZW5kZXJIZWxsbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUpLHQua2V5cy5mcm9tUmFuZG9tPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShlLmJvZHkudmFsdWUpLHQua2V5cy50b1JhbmRvbT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3ZhciBwPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InJlY2VpdmVySGVsbG8iLHZhbHVlOigwLGYuZW5jb2RlKSh0LmtleXMudG9SYW5kb20pfX07dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChwLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOnAsY2hhdEtleXM6dH0pO2JyZWFrO2Nhc2UicmVjZWl2ZXJIZWxsbyI6eS5sb2coInJlY2VpdmVySGVsbG8iKSxyLmdldE15UHJpdmF0ZUtleSgpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIGw9bix0LmhhbmRzaGFrZUhpc3RvcnkucmVjZWl2ZXJIZWxsbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUpLHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBvPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2UsaT0oMCxmLnBhcnNlVG9VaW50OEFycmF5KShvKSxhPXIuY3J5cHRvLmdlbmVyYXRlUE1TKCkscz1lLmJvZHkudmFsdWU7dC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PWksdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHQua2V5cy50b1JhbmRvbT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkocyksdC5rZXlzLnByZW1hc3RlcktleT1hO3ZhciB1PXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKGEsdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQodSwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihuKXt0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShuWzBdKSx0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMV0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KG5bMl0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblszXSksYT1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxmLmVuY29kZSkoYSk7dmFyIG89e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVyQ2VydGlmaWNhdGUifX07cmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChvLCJvayIrYSx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5oYXNoPSgwLGYuZW5jb2RlKShlKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksIm9rIixhKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHUuc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGYuZW5jb2RlKShlKSxyLmNyeXB0by5lbmNyeXB0UlNBKHQuaHlwZXJ0eVRvLnB1YmxpY0tleSx0LmtleXMucHJlbWFzdGVyS2V5KX0pLnRoZW4oZnVuY3Rpb24obil7dS5hc3N5bWV0cmljRW5jcnlwdGlvbj0oMCxmLmVuY29kZSkobik7dmFyIG89e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVyQ2VydGlmaWNhdGUifX0saT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKG8sdC5rZXlzLnByZW1hc3RlcktleSx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTtyZXR1cm4gci5jcnlwdG8uc2lnblJTQShsLCgwLGYuZW5jb2RlKSh0LmhhbmRzaGFrZUhpc3RvcnkpKygwLGYuZW5jb2RlKShpKSl9KS50aGVuKGZ1bmN0aW9uKG8pe3Uuc2lnbmF0dXJlPSgwLGYuZW5jb2RlKShvKTt2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSIsdmFsdWU6KDAsZi5lbmNvZGUpKHUpfX07dC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckNlcnRpZmljYXRlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goaSwib2siK2EsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksbih7bWVzc2FnZTppLGNoYXRLZXlzOnR9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9KTticmVhaztjYXNlInNlbmRlckNlcnRpZmljYXRlIjp5LmxvZygic2VuZGVyQ2VydGlmaWNhdGUiKTt2YXIgaD0oMCxmLmRlY29kZSkoZS5ib2R5LnZhbHVlKTtyLmdldE15UHJpdmF0ZUtleSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGw9dCxyLl9pZG0udmFsaWRhdGVBc3NlcnRpb24oZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix2b2lkIDAsZS5ib2R5LmlkZW50aXR5LmlkcC5kb21haW4pfSkudGhlbihmdW5jdGlvbihuKXt2YXIgbz0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoaC5hc3N5bWV0cmljRW5jcnlwdGlvbiksaT0ic3RyaW5nIj09dHlwZW9mIG4uY29udGVudHM/bi5jb250ZW50czpuLmNvbnRlbnRzLm5vbmNlLGE9KDAsZi5wYXJzZVRvVWludDhBcnJheSkoaSk7cmV0dXJuIHQuaHlwZXJ0eVRvLmFzc2VydGlvbj1lLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHQuaHlwZXJ0eVRvLnB1YmxpY0tleT1hLHQuaHlwZXJ0eVRvLnVzZXJJRD1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCxyLmNyeXB0by5kZWNyeXB0UlNBKGwsbyl9LGZ1bmN0aW9uKGUpe28oIkVycm9yIGR1cmluZyBhdXRoZW50aWNhdGlvbiBvZiBpZGVudGl0eTogIixlLm1lc3NhZ2UpfSkudGhlbihmdW5jdGlvbihuKXt0LmtleXMucHJlbWFzdGVyS2V5PW5ldyBVaW50OEFycmF5KG4pO3ZhciBvPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShoLnNpZ25hdHVyZSksaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsdC5rZXlzLnByZW1hc3RlcktleSk7cmV0dXJuIHIuY3J5cHRvLnZlcmlmeVJTQSh0Lmh5cGVydHlUby5wdWJsaWNLZXksKDAsZi5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsZi5lbmNvZGUpKGkpLG8pfSkudGhlbihmdW5jdGlvbihlKXt2YXIgbj1yLmNyeXB0by5jb25jYXRQTVN3aXRoUmFuZG9tcyh0LmtleXMucHJlbWFzdGVyS2V5LHQua2V5cy50b1JhbmRvbSx0LmtleXMuZnJvbVJhbmRvbSk7cmV0dXJuIHIuY3J5cHRvLmdlbmVyYXRlTWFzdGVyU2VjcmV0KG4sIm1lc3NhZ2VIaXN0b3JpYyIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQua2V5cy5tYXN0ZXJLZXk9ZSxyLmNyeXB0by5nZW5lcmF0ZUtleXMoZSwia2V5IGV4cGFuc2lvbiIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzBdKSx0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzFdKSx0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbMl0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbM10pLGE9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaXYpO3ZhciBuPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShoLnN5bWV0cmljRW5jcnlwdGlvbik7cmV0dXJuIHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksbixhKX0pLnRoZW4oZnVuY3Rpb24obil7dC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckNlcnRpZmljYXRlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2EpO3ZhciBvPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KShoLmhhc2gpO3JldHVybiBjPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2EpLHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksYyxvKX0pLnRoZW4oZnVuY3Rpb24obil7dmFyIG89e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2UifX07cmV0dXJuIGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsZi5lbmNvZGUpKGEpLGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChvLCJvayEiK2EsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxjKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHUuaGFzaD0oMCxmLmVuY29kZSkoZSksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEiLGEpfSkudGhlbihmdW5jdGlvbihvKXt1LnZhbHVlPSgwLGYuZW5jb2RlKShvKTt2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSIsdmFsdWU6KDAsZi5lbmNvZGUpKHUpfX07dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goaSwib2shIithLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHQuYXV0aGVudGljYXRlZD0hMCxuKHttZXNzYWdlOmksY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSBzZW5kZXJDZXJ0aWZpY2F0ZSBlcnJvcjogIitlKX0pO2JyZWFrO2Nhc2UicmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2UiOnQuYXV0aGVudGljYXRlZD0hMCx1PSgwLGYuZGVjb2RlKShlLmJvZHkudmFsdWUpLGE9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaXYpO3ZhciB2PSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KSh1LnZhbHVlKTtzPSgwLGYuZGVjb2RlVG9VaW50OEFycmF5KSh1Lmhhc2gpLHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixhKS50aGVuKGZ1bmN0aW9uKGkpe3QuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckZpbmlzaGVkTWVzc2FnZT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsaSthKTt2YXIgdT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsaSthKTtyLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LHUscykudGhlbihmdW5jdGlvbihpKXtpZih0LmluaXRpYWxNZXNzYWdlKXt2YXIgYT17dHlwZToiY3JlYXRlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e3ZhbHVlOnQuaW5pdGlhbE1lc3NhZ2UuYm9keS52YWx1ZX19O24oe21lc3NhZ2U6YSxjaGF0S2V5czp0fSl9ZWxzZSByLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGUsdCkudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZWNlaXZlckZpbmlzaGVkTWVzc2FnZSBlcnJvcjogIitlKX0pfSl9KTticmVhaztjYXNlInJlcG9ydGVyU2Vzc2lvbktleSI6eS5sb2coInJlcG9ydGVyU2Vzc2lvbktleSIpO3ZhciBnPSgwLGYuZGVjb2RlKShlLmJvZHkudmFsdWUpO3M9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGcuaGFzaCksYT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkoZy5pdik7dmFyIGI9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKGcudmFsdWUpLF89dm9pZCAwLG09dm9pZCAwLFI9dm9pZCAwLE89dm9pZCAwO3IuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksYixhKS50aGVuKGZ1bmN0aW9uKG4pe189KDAsZi5kZWNvZGUpKG4pLG09KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKF8udmFsdWUpLFI9Xy5kYXRhT2JqZWN0VVJMO3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2EpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LG8scyl9KS50aGVuKGZ1bmN0aW9uKGUpe3IuZGF0YU9iamVjdFNlc3Npb25LZXlzW1JdPXtzZXNzaW9uS2V5Om0saXNUb0VuY3J5cHQ6ITB9O3ZhciBuPSgwLGYuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikoci5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3JldHVybiByLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLG4pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pLGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsZi5lbmNvZGUpKGEpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2shISIsYSl9KS50aGVuKGZ1bmN0aW9uKG4pe089e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJBY2tub3dsZWRnZSJ9fSx1LnZhbHVlPSgwLGYuZW5jb2RlKShuKTt2YXIgbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKE8sIm9rISEiK2EsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksbyl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGYuZW5jb2RlKSh7dmFsdWU6dS52YWx1ZSxoYXNoOigwLGYuZW5jb2RlKShlKSxpdjp1Lml2fSk7Ty5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTpPLGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckFja25vd2xlZGdlIjp5LmxvZygicmVjZWl2ZXJBY2tub3dsZWRnZSIpO3ZhciB3PSgwLGYuZGVjb2RlKShlLmJvZHkudmFsdWUpLGs9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHcuaGFzaCk7YT0oMCxmLmRlY29kZVRvVWludDhBcnJheSkody5pdik7dmFyIFM9KDAsZi5kZWNvZGVUb1VpbnQ4QXJyYXkpKHcudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksUyxhKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2EpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LG8sayl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPXQuY2FsbGJhY2s7ciYmcigiaGFuZFNoYWtlRW5kIiksbigiaGFuZFNoYWtlRW5kIil9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyQWNrbm93bGVkZ2UgZXJyb3I6ICIrZSl9KTticmVhaztkZWZhdWx0Om8oZSl9fSl9fSx7a2V5OiJfZmlsdGVyTWVzc2FnZVRvSGFzaCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybnt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx0bzplLnRvLGJvZHk6e2lkZW50aXR5OnJ8fGUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fHxlLmJvZHkudmFsdWUsaGFuZHNoYWtlUGhhc2U6ZS5ib2R5LmhhbmRzaGFrZVBoYXNlfX19fSx7a2V5OiJfbmV3Q2hhdENyeXB0byIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz1yP2UudG86ZS5mcm9tLGk9cj9lLmZyb206ZS50byxhPW4uX2lkbS5nZXRJZGVudGl0eSh0KTtyZXR1cm57aHlwZXJ0eUZyb206e2h5cGVydHk6byx1c2VySUQ6YS51c2VyUHJvZmlsZS51c2VyVVJMLGFzc2VydGlvbjphLmFzc2VydGlvbixtZXNzYWdlSW5mbzphfSxoeXBlcnR5VG86e2h5cGVydHk6aSx1c2VySUQ6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDAsYXNzZXJ0aW9uOnZvaWQgMH0sa2V5czp7aHlwZXJ0eVRvU2Vzc2lvbktleTp2b2lkIDAsaHlwZXJ0eUZyb21TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5VG9IYXNoS2V5OnZvaWQgMCxoeXBlcnR5RnJvbUhhc2hLZXk6dm9pZCAwLHRvUmFuZG9tOnZvaWQgMCxmcm9tUmFuZG9tOnZvaWQgMCxwcmVtYXN0ZXJLZXk6dm9pZCAwLG1hc3RlcktleTp2b2lkIDB9LGhhbmRzaGFrZUhpc3Rvcnk6e3NlbmRlckhlbGxvOnZvaWQgMCxyZWNlaXZlckhlbGxvOnZvaWQgMCxzZW5kZXJDZXJ0aWZpY2F0ZTp2b2lkIDAscmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U6dm9pZCAwfSxpbml0aWFsTWVzc2FnZTplLmJvZHkuaWdub3JlP3ZvaWQgMDplLGNhbGxiYWNrOmUuY2FsbGJhY2ssYXV0aGVudGljYXRlZDohMSxkYXRhT2JqZWN0VVJMOmUuZGF0YU9iamVjdFVSTH19fSx7a2V5OiJnZXRNeVB1YmxpY0tleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKG8pe2lmKG8pcmV0dXJuIHIoby5wdWJsaWMpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHVibGljKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltnZXRNeVB1YmxpY0tleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6ImdldE15UHJpdmF0ZUtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKG8pe2lmKG8pcmV0dXJuIHIoby5wcml2YXRlKTt0Ll9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7cihlLnByaXZhdGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpzdG9yYWdlTWFuYWdlcjplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXZvaWQgMDtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3QuY3J5cHRvLmdlbmVyYXRlUlNBS2V5UGFpcigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHkubG9nKCJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTp1c2VyQXN5bW1ldHJpY0tleUdlbmVyYXRlZCIsbikscj1uLHQuc3RvcmFnZU1hbmFnZXIuc2V0KGUsMCxuKX0pLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5U3VjY2VzcyIsZSksbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbyhlKX0pfSl9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkQ3J5cHRvR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX1dKSxDcnlwdG9NYW5hZ2VyfSgpO3QuZGVmYXVsdD1uZXcgaCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoNykuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcpLG89cigzMSksaT1yKDQ4KSxhPXIoMTU2KSxzPXIoMTMpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8cyh0LGUse3ZhbHVlOmEuZihlKX0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODMpKCJrZXlzIiksbz1yKDUzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPW8oZSkpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNykuZG9jdW1lbnQ7ZS5leHBvcnRzPW4mJm4uZG9jdW1lbnRFbGVtZW50fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoNSksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHQsbil7dHJ5e249cigzMikoRnVuY3Rpb24uY2FsbCxyKDI5KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIGkoZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9Ilx0XG5cdlxmXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcdTIwMjhcdTIwMjlcdWZlZmYifSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoMTExKS5zZXQ7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxhPXQuY29uc3RydWN0b3I7cmV0dXJuIGEhPT1yJiYiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGk9YS5wcm90b3R5cGUpIT09ci5wcm90b3R5cGUmJm4oaSkmJm8mJm8oZSxpKSxlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDM4KSxvPXIoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcobyh0aGlzKSkscj0iIixpPW4oZSk7aWYoaTwwfHxpPT0xLzApdGhyb3cgUmFuZ2VFcnJvcigiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmUiKTtmb3IoO2k+MDsoaT4+Pj0xKSYmKHQrPXQpKTEmaSYmKHIrPXQpO3JldHVybiByfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9TWF0aC5zaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9K2UpfHxlIT1lP2U6ZTwwPy0xOjF9fSxmdW5jdGlvbihlLHQpe3ZhciByPU1hdGguZXhwbTE7ZS5leHBvcnRzPSFyfHxyKDEwKT4yMjAyNS40NjU3OTQ4MDY3MTh8fHIoMTApPDIyMDI1LjQ2NTc5NDgwNjcxOHx8LTJlLTE3IT1yKC0yZS0xNyk/ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlPStlKT9lOmU+LTFlLTYmJmU8MWUtNj9lK2UqZS8yOk1hdGguZXhwKGUpLTF9OnJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM4KSxvPXIoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxhLHM9U3RyaW5nKG8odCkpLHU9bihyKSxjPXMubGVuZ3RoO3JldHVybiB1PDB8fHU+PWM/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLGk8NTUyOTZ8fGk+NTYzMTl8fHUrMT09PWN8fChhPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhpLTU1Mjk2PDwxMCkrNjU1MzYpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0OCksbz1yKDApLGk9cigyNCksYT1yKDIzKSxzPXIoNjYpLHU9cigxMTkpLGM9cig2NCksbD1yKDMwKSxmPXIoMTApKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIseSxoLHYsZyl7dShyLHQseSk7dmFyIGIsXyxtLFI9ZnVuY3Rpb24oZSl7aWYoIWQmJmUgaW4gUylyZXR1cm4gU1tlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sTz10KyIgSXRlcmF0b3IiLHc9InZhbHVlcyI9PWgsaz0hMSxTPWUucHJvdG90eXBlLFA9U1tmXXx8U1siQEBpdGVyYXRvciJdfHxoJiZTW2hdLEQ9UHx8UihoKSxNPWg/dz9SKCJlbnRyaWVzIik6RDp2b2lkIDAsTD0iQXJyYXkiPT10P1MuZW50cmllc3x8UDpQO2lmKEwmJihtPWwoTC5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmbS5uZXh0JiYoYyhtLE8sITApLG58fCJmdW5jdGlvbiI9PXR5cGVvZiBtW2ZdfHxhKG0sZixwKSksdyYmUCYmInZhbHVlcyIhPT1QLm5hbWUmJihrPSEwLEQ9ZnVuY3Rpb24oKXtyZXR1cm4gUC5jYWxsKHRoaXMpfSksbiYmIWd8fCFkJiYhayYmU1tmXXx8YShTLGYsRCksc1t0XT1ELHNbT109cCxoKWlmKGI9e3ZhbHVlczp3P0Q6UigidmFsdWVzIiksa2V5czp2P0Q6Uigia2V5cyIpLGVudHJpZXM6TX0sZylmb3IoXyBpbiBiKV8gaW4gU3x8aShTLF8sYltfXSk7ZWxzZSBvKG8uUCtvLkYqKGR8fGspLHQsYik7cmV0dXJuIGJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTYpLG89cig1MiksaT1yKDY0KSxhPXt9O3IoMjMpKGEscigxMCkoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihhLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDg3KSxvPXIoMzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobih0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZyMiK3IrIiBkb2Vzbid0IGFjY2VwdCByZWdleCEiKTtyZXR1cm4gU3RyaW5nKG8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTApKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5eyIvLi8iW2VdKHQpfWNhdGNoKHIpe3RyeXtyZXR1cm4gdFtuXT0hMSwhIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY2KSxvPXIoMTApKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTMpLG89cig1Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt0IGluIGU/bi5mKGUsdCxvKDAscikpOmVbdF09cn19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc1KSxvPXIoMTApKCJpdGVyYXRvciIpLGk9cig2Nik7ZS5leHBvcnRzPXIoMzEpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzE1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KG4oZSkpKHQpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE5KSxvPXIoNTUpLGk9cigxNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uKHRoaXMpLHI9aSh0Lmxlbmd0aCksYT1hcmd1bWVudHMubGVuZ3RoLHM9byhhPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyKSx1PWE+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGM9dm9pZCAwPT09dT9yOm8odSxyKTtjPnM7KXRbcysrXT1lO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ5KSxvPXIoMTcyKSxpPXIoNjYpLGE9cigyOCk7ZS5leHBvcnRzPXIoMTE4KShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1hKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSxmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLGE9cigzMikscz1yKDE2MiksdT1yKDExMCksYz1yKDEwNiksbD1yKDcpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLHk9bC5NZXNzYWdlQ2hhbm5lbCxoPWwuRGlzcGF0Y2gsdj0wLGc9e30sYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGcuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWdbZV07ZGVsZXRlIGdbZV0sdCgpfX0sXz1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGdbKyt2XT1mdW5jdGlvbigpe3MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwicHJvY2VzcyI9PXIoMzMpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhhKGIsZSwxKSl9OmgmJmgubm93P249ZnVuY3Rpb24oZSl7aC5ub3coYShiLGUsMSkpfTp5PyhvPW5ldyB5LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1fLG49YShpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLF8sITEpKTpuPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGEoYixlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNyksbz1yKDEyOCkuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoMzMpKGEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49YS5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFpfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGMpfTtlbHNle3ZhciBmPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtkLmRhdGE9Zj0hZn19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQcm9taXNlQ2FwYWJpbGl0eShlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bih0KSx0aGlzLnJlamVjdD1uKHIpfXZhciBuPXIoMjApO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHBhY2tJRUVFNzU0KGUsdCxyKXt2YXIgbixvLGksYT1uZXcgQXJyYXkocikscz04KnItdC0xLHU9KDE8PHMpLTEsYz11Pj4xLGw9MjM9PT10P0QoMiwtMjQpLUQoMiwtNzcpOjAsZj0wLGQ9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPVAoZSksZSE9ZXx8ZT09PWs/KG89ZSE9ZT8xOjAsbj11KToobj1NKEwoZSkvaiksZSooaT1EKDIsLW4pKTwxJiYobi0tLGkqPTIpLGUrPW4rYz49MT9sL2k6bCpEKDIsMS1jKSxlKmk+PTImJihuKyssaS89MiksbitjPj11PyhvPTAsbj11KTpuK2M+PTE/KG89KGUqaS0xKSpEKDIsdCksbis9Yyk6KG89ZSpEKDIsYy0xKSpEKDIsdCksbj0wKSk7dD49ODthW2YrK109MjU1Jm8sby89MjU2LHQtPTgpO2ZvcihuPW48PHR8byxzKz10O3M+MDthW2YrK109MjU1Jm4sbi89MjU2LHMtPTgpO3JldHVybiBhWy0tZl18PTEyOCpkLGF9ZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChlLHQscil7dmFyIG4sbz04KnItdC0xLGk9KDE8PG8pLTEsYT1pPj4xLHM9by03LHU9ci0xLGM9ZVt1LS1dLGw9MTI3JmM7Zm9yKGM+Pj03O3M+MDtsPTI1NipsK2VbdV0sdS0tLHMtPTgpO2ZvcihuPWwmKDE8PC1zKS0xLGw+Pj0tcyxzKz10O3M+MDtuPTI1NipuK2VbdV0sdS0tLHMtPTgpO2lmKDA9PT1sKWw9MS1hO2Vsc2V7aWYobD09PWkpcmV0dXJuIG4/TmFOOmM/LWs6aztuKz1EKDIsdCksbC09YX1yZXR1cm4oYz8tMToxKSpuKkQoMixsLXQpfWZ1bmN0aW9uIHVucGFja0kzMihlKXtyZXR1cm4gZVszXTw8MjR8ZVsyXTw8MTZ8ZVsxXTw8OHxlWzBdfWZ1bmN0aW9uIHBhY2tJOChlKXtyZXR1cm5bMjU1JmVdfWZ1bmN0aW9uIHBhY2tJMTYoZSl7cmV0dXJuWzI1NSZlLGU+PjgmMjU1XX1mdW5jdGlvbiBwYWNrSTMyKGUpe3JldHVyblsyNTUmZSxlPj44JjI1NSxlPj4xNiYyNTUsZT4+MjQmMjU1XX1mdW5jdGlvbiBwYWNrRjY0KGUpe3JldHVybiBwYWNrSUVFRTc1NChlLDUyLDgpfWZ1bmN0aW9uIHBhY2tGMzIoZSl7cmV0dXJuIHBhY2tJRUVFNzU0KGUsMjMsNCl9ZnVuY3Rpb24gYWRkR2V0dGVyKGUsdCxyKXtoKGVbYl0sdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcl19fSl9ZnVuY3Rpb24gZ2V0KGUsdCxyLG4pe3ZhciBvPStyLGk9cChvKTtpZihpK3Q+ZVtFXSl0aHJvdyB3KF8pO3ZhciBhPWVbVV0uX2Iscz1pK2VbeF0sdT1hLnNsaWNlKHMscyt0KTtyZXR1cm4gbj91OnUucmV2ZXJzZSgpfWZ1bmN0aW9uIHNldChlLHQscixuLG8saSl7dmFyIGE9K3Iscz1wKGEpO2lmKHMrdD5lW0VdKXRocm93IHcoXyk7Zm9yKHZhciB1PWVbVV0uX2IsYz1zK2VbeF0sbD1uKCtvKSxmPTA7Zjx0O2YrKyl1W2MrZl09bFtpP2Y6dC1mLTFdfXZhciBuPXIoNyksbz1yKDEyKSxpPXIoNDgpLGE9cig5NCkscz1yKDIzKSx1PXIoNjEpLGM9cig4KSxsPXIoNTkpLGY9cigzOCksZD1yKDE0KSxwPXIoMTgxKSx5PXIoNTcpLmYsaD1yKDEzKS5mLHY9cigxMjYpLGc9cig2NCksYj0icHJvdG90eXBlIixfPSJXcm9uZyBpbmRleCEiLG09bi5BcnJheUJ1ZmZlcixSPW4uRGF0YVZpZXcsTz1uLk1hdGgsdz1uLlJhbmdlRXJyb3Isaz1uLkluZmluaXR5LFM9bSxQPU8uYWJzLEQ9Ty5wb3csTT1PLmZsb29yLEw9Ty5sb2csaj1PLkxOMixVPW8/Il9iIjoiYnVmZmVyIixFPW8/Il9sIjoiYnl0ZUxlbmd0aCIseD1vPyJfbyI6ImJ5dGVPZmZzZXQiO2lmKGEuQUJWKXtpZighYyhmdW5jdGlvbigpe20oMSl9KXx8IWMoZnVuY3Rpb24oKXtuZXcgbSgtMSl9KXx8YyhmdW5jdGlvbigpe3JldHVybiBuZXcgbSxuZXcgbSgxLjUpLG5ldyBtKE5hTiksIkFycmF5QnVmZmVyIiE9bS5uYW1lfSkpe209ZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyxtKSxuZXcgUyhwKGUpKX07Zm9yKHZhciBBLEk9bVtiXT1TW2JdLEM9eShTKSxUPTA7Qy5sZW5ndGg+VDspKEE9Q1tUKytdKWluIG18fHMobSxBLFNbQV0pO2l8fChJLmNvbnN0cnVjdG9yPW0pfXZhciBxPW5ldyBSKG5ldyBtKDIpKSxIPVJbYl0uc2V0SW50ODtxLnNldEludDgoMCwyMTQ3NDgzNjQ4KSxxLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhcS5nZXRJbnQ4KDApJiZxLmdldEludDgoMSl8fHUoUltiXSx7c2V0SW50ODpmdW5jdGlvbihlLHQpe0guY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX0sc2V0VWludDg6ZnVuY3Rpb24oZSx0KXtILmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSwhMCl9ZWxzZSBtPWZ1bmN0aW9uKGUpe2wodGhpcyxtLCJBcnJheUJ1ZmZlciIpO3ZhciB0PXAoZSk7dGhpcy5fYj12LmNhbGwobmV3IEFycmF5KHQpLDApLHRoaXNbRV09dH0sUj1mdW5jdGlvbihlLHQscil7bCh0aGlzLFIsIkRhdGFWaWV3IiksbChlLG0sIkRhdGFWaWV3Iik7dmFyIG49ZVtFXSxvPWYodCk7aWYobzwwfHxvPm4pdGhyb3cgdygiV3Jvbmcgb2Zmc2V0ISIpO2lmKHI9dm9pZCAwPT09cj9uLW86ZChyKSxvK3I+bil0aHJvdyB3KCJXcm9uZyBsZW5ndGghIik7dGhpc1tVXT1lLHRoaXNbeF09byx0aGlzW0VdPXJ9LG8mJihhZGRHZXR0ZXIobSwiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ1ZmZlciIsIl9iIiksYWRkR2V0dGVyKFIsImJ5dGVMZW5ndGgiLCJfbCIpLGFkZEdldHRlcihSLCJieXRlT2Zmc2V0IiwiX28iKSksdShSW2JdLHtnZXRJbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdPDwyND4+MjR9LGdldFVpbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4odFsxXTw8OHx0WzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0KHRoaXMsMixlLGFyZ3VtZW50c1sxXSk7cmV0dXJuIHRbMV08PDh8dFswXX0sZ2V0SW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0kzMihnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSl9LGdldFVpbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKT4+PjB9LGdldEZsb2F0MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSksMjMsNCl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsOCxlLGFyZ3VtZW50c1sxXSksNTIsOCl9LHNldEludDg6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywxLGUscGFja0k4LHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldEludDE2OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMixlLHBhY2tJMTYsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldEludDMyOmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsNCxlLHBhY2tJMzIsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0YzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0NjQ6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw4LGUscGFja0Y2NCx0LGFyZ3VtZW50c1syXSl9fSk7ZyhtLCJBcnJheUJ1ZmZlciIpLGcoUiwiRGF0YVZpZXciKSxzKFJbYl0sYS5WSUVXLCEwKSx0LkFycmF5QnVmZmVyPW0sdC5EYXRhVmlldz1SfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzNCksbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5jZWlsLG49TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOnIpKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTM2KSgia2V5cyIpLG89cig5OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExKSxvPXIoMjEpLGk9b1siX19jb3JlLWpzX3NoYXJlZF9fIl18fChvWyJfX2NvcmUtanNfc2hhcmVkX18iXT17fSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjpuLnZlcnNpb24sbW9kZTpyKDc4KT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNiksbz1yKDExKSxpPXIoNzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0sYT17fTthW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIsYSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSksbz1yKDIxKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKSxvPXIoNDMzKSxpPXIoMTM3KSxhPXIoMTM1KSgiSUVfUFJPVE8iKSxzPWZ1bmN0aW9uKCl7fSx1PWZ1bmN0aW9uKCl7dmFyIGUsdD1yKDEzOSkoImlmcmFtZSIpLG49aS5sZW5ndGg7Zm9yKHQuc3R5bGUuZGlzcGxheT0ibm9uZSIscigxOTUpLmFwcGVuZENoaWxkKHQpLHQuc3JjPSJqYXZhc2NyaXB0OiIsZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsZS5vcGVuKCksZS53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcL3NjcmlwdD4iKSxlLmNsb3NlKCksdT1lLkY7bi0tOylkZWxldGUgdS5wcm90b3R5cGVbaVtuXV07cmV0dXJuIHUoKX07ZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhzLnByb3RvdHlwZT1uKGUpLHI9bmV3IHMscy5wcm90b3R5cGU9bnVsbCxyW2FdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjpvKHIsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Nyksbz1yKDIyKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9YSh0PU9iamVjdChlKSxvKSk/cjppP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE0Miksbz1yKDIyKSgiaXRlcmF0b3IiKSxpPXIoNzEpO2UuZXhwb3J0cz1yKDExKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZih2b2lkIDAhPWUpcmV0dXJuIGVbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtuKGUpXX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX12YXIgbj1yKDk5KTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KGUpfX0sZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDIyKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLG89cigxMSksaT1yKDc4KSxhPXIoMTQ2KSxzPXIoNDQpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8cyh0LGUse3ZhbHVlOmEuZihlKX0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoODEpLG89cig3OSksaT1yKDUwKSxhPXIoMTQwKSxzPXIoNjIpLHU9cigxOTEpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cig1MSk/YzpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PWEodCwhMCksdSl0cnl7cmV0dXJuIGMoZSx0KX1jYXRjaChlKXt9aWYocyhlLHQpKXJldHVybiBvKCFuLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gT2JzZXJ2ZXIoZSx0LHIsbixvLGkpe2Z1bmN0aW9uIGRlbGl2ZXIoZSxuKXtpZihkZWxpdmVyLmRlbGF5PW4sIWRlbGl2ZXIucGF1c2UmJnMuY2hhbmdlc2V0Lmxlbmd0aD4wKXtpZighZSl7dmFyIG89cy5jaGFuZ2VzZXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFyfHxyLmluZGV4T2YoZS50eXBlKT49MH0pO28ubGVuZ3RoPjAmJnQobyl9cy5jaGFuZ2VzZXQ9W119fXZhciBhLHM9dGhpcztyZXR1cm4gZGVsaXZlci5wYXVzZT1vLGRlbGl2ZXIuZGVsYXk9aSxzLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiJfX29ic2VydmVyX18iPT09dD9zOiJ1bm9ic2VydmUiPT09dD9mdW5jdGlvbigpe3JldHVybiBPYmplY3QudW5vYnNlcnZlKGUpLGV9OiJkZWxpdmVyIj09PXQ/ZGVsaXZlcjplW3RdfSxzLnRhcmdldD1lLHMuY2hhbmdlc2V0PVtdLHMudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfX3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyQ2FsbGJhY2tzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSkscy50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fLnB1c2godCkscy50YXJnZXQuX19vYnNlcnZlcnNfXy5wdXNoKHRoaXMpLGE9bmV3IFByb3h5KGUscyksZGVsaXZlcighMSxpKSxhfU9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgUHJveHl8fChPYnNlcnZlci5wcm90b3R5cGUuZGVsaXZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChudWxsLCJkZWxpdmVyIil9LE9ic2VydmVyLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWVbdF0sbz12b2lkIDA9PT1uPyJhZGQiOiJ1cGRhdGUiO2lmKGVbdF09cixlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmKCF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKG8pPj0wKSl7dmFyIGk9e29iamVjdDplLG5hbWU6dCx0eXBlOm99LGE9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxzPXRoaXMuZGVsaXZlcigpOyJ1cGRhdGUiPT09byYmKGkub2xkVmFsdWU9biksdGhpcy5jaGFuZ2VzZXQucHVzaChpKSxhJiZzKCExLCJudW1iZXIiPT10eXBlb2Ygcy5kZWxheT9zLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtpZihkZWxldGUgZVt0XSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoImRlbGV0ZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6ImRlbGV0ZSIsb2xkVmFsdWU6cn0sbz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGk9dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxvJiZpKCExLCJudW1iZXIiPT10eXBlb2YgaS5kZWxheT9pLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCxyKXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicmVjb25maWd1cmUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJyZWNvbmZpZ3VyZSJ9LG89MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxpPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksbyYmaSghMSwibnVtYmVyIj09dHlwZW9mIGkuZGVsYXk/aS5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5zZXRQcm90b3R5cGVPZj1mdW5jdGlvbihlLHQpe3ZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpZihPYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInNldFByb3RvdHlwZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZToiX19wcm90b19fIix0eXBlOiJzZXRQcm90b3R5cGUiLG9sZFZhbHVlOnJ9LG89MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxpPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksbyYmaSghMSwibnVtYmVyIj09dHlwZW9mIGkuZGVsYXk/aS5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihlKXtpZihPYmplY3QucHJldmVudEV4dGVuc2lvbnMoZSksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJwcmV2ZW50RXh0ZW5zaW9ucyIpPj0wKXt2YXIgdD17b2JqZWN0OmUsdHlwZToicHJldmVudEV4dGVuc2lvbnMifSxyPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbj10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKHQpLHImJm4oITEsIm51bWJlciI9PXR5cGVvZiBuLmRlbGF5P24uZGVsYXk6MTApfXJldHVybiEwfSxPYmplY3Qub2JzZXJ2ZT1mdW5jdGlvbihlLHQscixuLG8saSl7cmV0dXJuIG5ldyBPYnNlcnZlcihlLHQscixuLG8saSl9LE9iamVjdC51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXyl7aWYoIXQpcmV0dXJuIGUuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZSgwLGUuX19vYnNlcnZlckNhbGxiYWNrc19fLmxlbmd0aCksdm9pZCBlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyc19fLmxlbmd0aCk7ZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uZm9yRWFjaChmdW5jdGlvbihyLG4pe3Q9PT1yJiYoZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKG4sMSksZGVsZXRlIGUuX19vYnNlcnZlcnNfX1tuXS5jYWxsYmFjayxlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKG4sMSkpfSl9fSxBcnJheS5vYnNlcnZlPWZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtpZighKGUgaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShlKSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgdG8gQXJyYXkub2JzZXJ2ZXIgaXMgbm90IGFuIEFycmF5Iik7cj1yfHxbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInNwbGljZSJdO3ZhciBhPW5ldyBQcm94eShlLHtnZXQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4idW5vYnNlcnZlIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIGU/T2JqZWN0LnVub2JzZXJ2ZSh0LGUpOnQudW5vYnNlcnZlKCl9OiJzcGxpY2UiPT09bj9mdW5jdGlvbihuLG8pe2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IHR3byBhcmd1bWVudHMgdG8gQXJyYXkgc3BsaWNlIGFyZSBub3QgbnVtYmVyLCBudW1iZXIiKTt2YXIgaT10aGlzLnNsaWNlKG4sbitvKSxhPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHMubGVuZ3RoLTI6MCx1PXtvYmplY3Q6ZSx0eXBlOiJzcGxpY2UiLGluZGV4Om4scmVtb3ZlZDppLGFkZGVkQ291bnQ6YX07aWYodC5zcGxpY2UuYXBwbHkodCxhcmd1bWVudHMpLHIuaW5kZXhPZigic3BsaWNlIik+PTApe3ZhciBuPTA9PT1zLl9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQubGVuZ3RoLGM9cy5fX29ic2VydmVyX18uZGVsaXZlcigpO3MuX19vYnNlcnZlcl9fLmNoYW5nZXNldC5wdXNoKHUpLG4mJmMoITEsIm51bWJlciI9PXR5cGVvZiBjLmRlbGF5P2MuZGVsYXk6MTApfX06InB1c2giPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgsMCxlKX06InBvcCI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLTEsMSl9OiJ1bnNoaWZ0Ij09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxlKX06InNoaWZ0Ij09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwxKX06dFtuXX19KSxzPU9iamVjdC5vYnNlcnZlKGEsZnVuY3Rpb24oZSl7dmFyIG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImxlbmd0aCIhPT1lLm5hbWUmJiJhZGQiIT09ZS5uYW1lJiYoIXJ8fHIuaW5kZXhPZihlLnR5cGUpPj0wKX0pO24ubGVuZ3RoPjAmJnQobil9LHIsbixvLGkpO3JldHVybiBzfSxBcnJheS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51bm9ic2VydmUodCl9KSxPYmplY3QuZGVlcE9ic2VydmU9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHJlb2JzZXJ2ZShlLHIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obyl7aWYoKCJvYmplY3QiPT09bihlW29dKXx8ImFycmF5Ij09PW4oZVtvXSkpJiYhZVtvXS5oYXNPd25Qcm9wZXJ0eSgiX19vYnNlcnZlcnNfXyIpKXt2YXIgaT1yLnNsaWNlKDApO2kucHVzaChvKSxlW29dPU9iamVjdC5kZWVwT2JzZXJ2ZShlW29dLHQsaSl9fSl9cj1yfHxbXTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm57fS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9ccyhbYS16QS1aXSspLylbMV0udG9Mb3dlckNhc2UoKX07cmV0dXJuIHJlb2JzZXJ2ZShlLHIpLE9iamVjdC5vYnNlcnZlKGUsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcmVjdXJzZShlLHQscixvLGkpe2lmKG8gaW5zdGFuY2VvZiBPYmplY3Qpe09iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoIXJ8fHJbYV0hPT1vW2FdKXt2YXIgcz1yJiZ2b2lkIDAhPT1yW2FdP3JbYV06dm9pZCAwLHU9dm9pZCAwPT09cz8iYWRkIjoidXBkYXRlIixjPWkrIi4iK2E7bi5wdXNoKHtuYW1lOmUsb2JqZWN0OnQsdHlwZTp1LG9sZFZhbHVlOnMsbmV3VmFsdWU6b1thXSxrZXlwYXRoOmN9KSxyZWN1cnNlKGUsdCxzLG9bYV0sYyl9fSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgYT1PYmplY3Qua2V5cyhyKTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHM9bnVsbD09PW8/InVwZGF0ZSI6ImRlbGV0ZSIsdT1pKyIuIithO24ucHVzaCh7bmFtZTplLG9iamVjdDp0LHR5cGU6cyxvbGRWYWx1ZTpyW2FdLG5ld1ZhbHVlOm8sa2V5cGF0aDp1fSkscmVjdXJzZShlLHQsclthXSx2b2lkIDAsdSl9KX19dmFyIG49W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PShyLmxlbmd0aD4wP3Iuam9pbigiLiIpKyIuIjoiIikrZS5uYW1lOyJ1cGRhdGUiIT09ZS50eXBlJiYiYWRkIiE9PWUudHlwZXx8cmVvYnNlcnZlKGUub2JqZWN0LHIpLG4ucHVzaCh7bmFtZTplLm5hbWUsb2JqZWN0OmUub2JqZWN0LHR5cGU6ZS50eXBlLG9sZFZhbHVlOmUub2xkVmFsdWUsbmV3VmFsdWU6ZS5vYmplY3RbZS5uYW1lXSxrZXlwYXRoOnR9KSxyZWN1cnNlKGUubmFtZSxlLm9iamVjdCxlLm9sZFZhbHVlLGUub2JqZWN0W2UubmFtZV0sdCl9KSx0KG4pfSl9fSgpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDQpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShmKSxwPXIoNikseT1kLmdldExvZ2dlcigiUmVnaXN0cmF0aW9uU3RhdHVzIiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlZ2lzdHJhdGlvblN0YXR1cyhlLHQscixuKXsoMCx1LmRlZmF1bHQpKHRoaXMsUmVnaXN0cmF0aW9uU3RhdHVzKSx0aGlzLl9yZWdpc3RyeU9iamVjdFVSTD1lLHRoaXMuX3J1bnRpbWVVUkw9dCx0aGlzLl9kb21haW49KDAscC5kaXZpZGVVUkwpKHQpLmRvbWFpbix0aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMPXIsdGhpcy5fbWVzc2FnZUJ1cz1uLHRoaXMuX3N1YnNjcmlwdGlvblNldD0hMSx0aGlzLl9zdWJzY3JpYmVycz17bGl2ZTp7fSxkaXNjb25uZWN0ZWQ6e319fXJldHVybigwLGwuZGVmYXVsdCkoUmVnaXN0cmF0aW9uU3RhdHVzLFt7a2V5OiJvbkxpdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihuLG8pe3IuX3N1YnNjcmlwdGlvblNldD8oci5fc3Vic2NyaWJlcnMubGl2ZVtlXT10LG4oKSk6ci5fc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbigpe3IuX3N1YnNjcmliZXJzLmxpdmVbZV09dCxuKCl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pfSl9fSx7a2V5OiJvbkRpc2Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5fc3Vic2NyaXB0aW9uU2V0PyhyLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbZV09dCxuKCkpOnIuX3N1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtyLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWRbZV09dCxuKCl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pfSl9fSx7a2V5OiJfc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToic3Vic2NyaWJlIixmcm9tOnRoaXMuX2Rpc2NvdmVyZWRPYmplY3RVUkwsdG86dGhpcy5fcnVudGltZVVSTCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlczpbdGhpcy5fcmVnaXN0cnlPYmplY3RVUkwrIi9yZWdpc3RyYXRpb24iXX19O3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe3kubG9nKCJbRGlzY292ZXJlZE9iamVjdC5zdWJzY3JpYmVdICIrZS5fcmVnaXN0cnlPYmplY3RVUkwrIiByY3ZlZCByZXBseSAiLHQpLDIwMD09PXQuYm9keS5jb2RlPyhlLl9nZW5lcmF0ZUxpc3RlbmVyKGUuX3JlZ2lzdHJ5T2JqZWN0VVJMKyIvcmVnaXN0cmF0aW9uIiksZS5fc3Vic2NyaXB0aW9uU2V0PSEwLHIoKSk6KHkuZXJyb3IoIkVycm9yIHN1YnNjcmliaW5nICIsZS5fcmVnaXN0cnlPYmplY3RVUkwpLG4oIkVycm9yIHN1YnNjcmliaW5nICIrZS5fcmVnaXN0cnlPYmplY3RVUkwpKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24oZSl7eS5sb2coIltEaXNjb3ZlcmVkT2JqZWN0Lm5vdGlmaWNhdGlvbl0gIit0Ll9yZWdpc3RyeU9iamVjdFVSTCsiOiAiLGUpLHQuX3Byb2Nlc3NOb3RpZmljYXRpb24oZSl9KX19LHtrZXk6Il9wcm9jZXNzTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnZhbHVlO3NldFRpbWVvdXQoZnVuY3Rpb24oKXsoMCxvLmRlZmF1bHQpKHQuX3N1YnNjcmliZXJzW3JdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9zdWJzY3JpYmVyc1tyXVtlXSgpfSl9LDVlMyl9fSx7a2V5OiJfdW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0aGlzLl9kaXNjb3ZlcmVkT2JqZWN0VVJMLHRvOnRoaXMuX3J1bnRpbWVVUkwrIi9zdWJzY3JpcHRpb25zIixib2R5OntyZXNvdXJjZTp0aGlzLl9yZWdpc3RyeU9iamVjdFVSTCsiL3JlZ2lzdHJhdGlvbiJ9fTtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXt5LmxvZygiW0Rpc2NvdmVyZWRPYmplY3QudW5zdWJzY3JpYmVdICIrZS5fcmVnaXN0cnlPYmplY3RVUkwrIiByY3ZlZCByZXBseSAiLHQpLDIwMD09PXQuYm9keS5jb2RlP3IoKTooeS5lcnJvcigiRXJyb3IgdW5zdWJzY3JpYmluZyAiLGUuX3JlZ2lzdHJ5T2JqZWN0VVJMKSxuKCJFcnJvciB1bnN1YnNjcmliaW5nICIrZS5fcmVnaXN0cnlPYmplY3RVUkwpKX0pfSl9fSx7a2V5OiJ1bnN1YnNjcmliZUxpdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlIGluIHQuX3N1YnNjcmliZXJzLmxpdmUmJmRlbGV0ZSB0Ll9zdWJzY3JpYmVycy5saXZlW2VdLHQuX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSgpP3QuX3Vuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiByKCl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pOnIoKX0pfX0se2tleToidW5zdWJzY3JpYmVEaXNjb25uZWN0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlIGluIHQuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZD8oZGVsZXRlIHQuX3N1YnNjcmliZXJzLmRpc2Nvbm5lY3RlZFtlXSx0Ll9hcmVTdWJzY3JpcHRpb25zRW1wdHkoKT90Ll91bnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcigpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KTpyKCkpOm4oZSsiIGRvZXNuJ3Qgc3Vic2NyaWJlIG9uRGlzY29ubmVjdGVkIGZvciAiK3QuX3JlZ2lzdHJ5T2JqZWN0VVJMKX0pfX0se2tleToiX2FyZVN1YnNjcmlwdGlvbnNFbXB0eSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PSgwLG8uZGVmYXVsdCkodGhpcy5fc3Vic2NyaWJlcnMubGl2ZSkubGVuZ3RoJiYwPT09KDAsby5kZWZhdWx0KSh0aGlzLl9zdWJzY3JpYmVycy5kaXNjb25uZWN0ZWQpLmxlbmd0aH19XSksUmVnaXN0cmF0aW9uU3RhdHVzfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QucnVudGltZUNvbmZpZ3VyYXRpb249e3N0b3JhZ2VTY2hlbWFzOntjYXBhYmlsaXRpZXM6e2NhcGFiaWxpdGllczoia2V5LHZlcnNpb24sdmFsdWUifSxzdWJzY3JpcHRpb25zOntzdWJzY3JpcHRpb25zOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHJ1bnRpbWU6eyJydW50aW1lOlVSTCI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicDJwSGFuZGxlcjpVUkwiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHJlZ2lzdHJ5OnsicmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJlZ2lzdHJ5Okh5cGVydHlVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUifSxjcnlwdG9NYW5hZ2VyOnt1c2VyQXN5bW1ldHJpY0tleToia2V5LHZlcnNpb24sdmFsdWUiLGRhdGFPYmplY3RTZXNzaW9uS2V5czoia2V5LHZlcnNpb24sdmFsdWUifSxpZGVudGl0eTp7YWNjZXNzVG9rZW5zOiJrZXksdmVyc2lvbix2YWx1ZSIsaWRlbnRpdGllczoidXNlclVSTCwgdXNlclByb2ZpbGUuZW1haWwsIHVzZXJQcm9maWxlLnVzZXJVUkwsIHVzZXJQcm9maWxlLm5hbWUifSxydW50aW1lQ2F0YWxvZ3VlOntydW50aW1lQ2F0YWxvZ3VlOiImY2d1aWQsIGFjY2Vzc0NvbnRyb2xQb2xpY3ksIGNvbnN0cmFpbnRzLCBkYXRhT2JqZWN0cywgaHlwZXJ0eVR5cGUsIG9iamVjdE5hbWUsIHNvdXJjZVBhY2thZ2UsIHZlcnNpb24ifSxwb2xpY3k6eyJyZXRoaW5rOmFjdGl2ZVBvbGljeSI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazpncm91cHMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6dXNlclBvbGljaWVzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOnNwUG9saWNpZXMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHN5bmNoZXJNYW5hZ2VyOnsic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIixyZW1vdGVzOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGh5cGVydHlSZXNvdXJjZXM6e2h5cGVydHlSZXNvdXJjZXM6IiZyZXNvdXJjZVVSTCwgbmFtZSwgY29udGVudFVybCwgY29udGVudCwgY3JlYXRlZCwgcmVwb3J0ZXIsIHJlc291cmNlVHlwZSJ9fSxydW50aW1lVVJMUzp7cmVnaXN0cnk6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6InJlZ2lzdHJ5In0saWRlbnRpdHlNb2R1bGU6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9pZG0ifSxydW50aW1lVUE6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii91YSJ9LGNhdGFsb2d1ZTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2NhdGFsb2d1ZSJ9LGdyYXBoQ29ubmVjdG9yOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvZ3JhcGgifSxzeW5jTWFuYWdlcjp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL3NtIn19LGNhdGFsb2d1ZVVSTHM6e3Byb3RvY29sc3R1Yjp7cHJlZml4OiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iLHN1ZmZpeDoiLy53ZWxsLWtub3duL3Byb3RvY29sc3R1Yi8iLGZhbGxiYWNrOiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4lZG9tYWluJS8ud2VsbC1rbm93bi9wcm90b2NvbHN0dWIvIn0saWRwUHJveHk6e3ByZWZpeDoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIixzdWZmaXg6Ii8ud2VsbC1rbm93bi9pZHAtcHJveHkvIixmYWxsYmFjazoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJWRvbWFpbiUvLndlbGwta25vd24vaWRwLXByb3h5LyJ9fSxtc2dOb2RlVVJMOntwcmVmaXg6ImRvbWFpbjovL21zZy1ub2RlLiIsc3VmZml4OiIiLGh5cGVydHlBZGRyZXNzQWxsb2NhdGlvbjoiL2h5cGVydHktYWRkcmVzcy1hbGxvY2F0aW9uIixvYmplY3RBZGRyZXNzQWxsb2NhdGlvbjoiL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24iLHN1YnNjcmlwdGlvbk1hbmFnZW1lbnQ6Ii9zbSJ9LGRvbWFpblJlZ2lzdHJ5VVJMOntwcmVmaXg6ImRvbWFpbjovL3JlZ2lzdHJ5LiIsc3VmZml4OiIifSxnbG9iYWxSZWdpc3RyeVVSTDoiZ2xvYmFsOi8vcmVnaXN0cnkuIixyZW1vdGVTdG9yYWdlOiJodHRwczovL2h5c21hcnQucmV0aGluay5wdGlub3ZhY2FvLnB0L2JhY2t1cC8ifX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT3BlcmF0b3JzKCl7KDAsby5kZWZhdWx0KSh0aGlzLE9wZXJhdG9ycyl9cmV0dXJuKDAsYS5kZWZhdWx0KShPcGVyYXRvcnMsW3trZXk6ImFuZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0mJmVbMV19fSx7a2V5OiJiZXR3ZWVuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1wYXJzZUludChlWzBdWzBdKSxyPXBhcnNlSW50KGVbMF1bMV0pLG49ZVsxXTtyZXR1cm4gcjx0JiYobj1uPHQ/bis9MjQwMDpuLHIrPTI0MDApLG4+dCYmbjxyfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4iKiI9PT1TdHJpbmcoZVswXSl8fFN0cmluZyhlWzBdKT09PVN0cmluZyhlWzFdKX19LHtrZXk6ImdyZWF0ZXJUaGFuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT5lWzBdfX0se2tleToiaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLmluZGV4T2YoZVsxXSk+LTF9fSx7a2V5OiJsZXNzVGhhbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV08ZVswXX19LHtrZXk6Im5vdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIWVbMF19fSx7a2V5OiJvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF18fGVbMV19fV0pLE9wZXJhdG9yc30oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNTIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29uZGl0aW9uKGUsdCxyKXsoMCxvLmRlZmF1bHQpKHRoaXMsQ29uZGl0aW9uKSx0aGlzLmF0dHJpYnV0ZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLnBhcmFtcz1yLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9cmV0dXJuKDAsYS5kZWZhdWx0KShDb25kaXRpb24sW3trZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlW3RoaXMuYXR0cmlidXRlXT17bWVzc2FnZTp0fTt2YXIgcj1lW3RoaXMuYXR0cmlidXRlXSxuPXZvaWQgMDtyZXR1cm4iaW4iIT09dGhpcy5vcGVyYXRvcnx8QXJyYXkuaXNBcnJheSh0aGlzLnBhcmFtcyk/dGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW3RoaXMucGFyYW1zLHJdKToobj1lLmdldEdyb3VwKHRoaXMucGFyYW1zLHQudG8pLHRoaXMub3BlcmF0b3JzW3RoaXMub3BlcmF0b3JdKFtuLHJdKSl9fV0pLENvbmRpdGlvbn0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYocj13aW5kb3cpfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDEyKSYmIXIoOCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTA2KSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCxyKXt0LmY9cigxMCl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI3KSxvPXIoMjgpLGk9cig4NCkoITEpLGE9cigxMDgpKCJJRV9QUk9UTyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9byhlKSx1PTAsYz1bXTtmb3IociBpbiBzKXIhPWEmJm4ocyxyKSYmYy5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihzLHI9dFt1KytdKSYmKH5pKGMscil8fGMucHVzaChyKSk7cmV0dXJuIGN9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMyksbz1yKDUpLGk9cig1NCk7ZS5leHBvcnRzPXIoMTIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIHIsYT1pKHQpLHM9YS5sZW5ndGgsdT0wO3M+dTspbi5mKGUscj1hW3UrK10sdFtyXSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOCksbz1yKDU3KS5mLGk9e30udG9TdHJpbmcsYT0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvKGUpfWNhdGNoKGUpe3JldHVybiBhLnNsaWNlKCl9fTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gYSYmIltvYmplY3QgV2luZG93XSI9PWkuY2FsbChlKT9zKGUpOm8obihlKSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTQpLG89cig4NSksaT1yKDc0KSxhPXIoMTkpLHM9cig3MyksdT1PYmplY3QuYXNzaWduO2UuZXhwb3J0cz0hdXx8cig4KShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXUoe30sZSlbcl18fE9iamVjdC5rZXlzKHUoe30sdCkpLmpvaW4oIiIpIT1ufSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YShlKSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0xLGw9by5mLGY9aS5mO3U+YzspZm9yKHZhciBkLHA9cyhhcmd1bWVudHNbYysrXSkseT1sP24ocCkuY29uY2F0KGwocCkpOm4ocCksaD15Lmxlbmd0aCx2PTA7aD52OylmLmNhbGwocCxkPXlbdisrXSkmJihyW2RdPXBbZF0pO3JldHVybiByfTp1fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjApLG89cig5KSxpPXIoMTYyKSxhPVtdLnNsaWNlLHM9e30sdT1mdW5jdGlvbihlLHQscil7aWYoISh0IGluIHMpKXtmb3IodmFyIG49W10sbz0wO288dDtvKyspbltvXT0iYVsiK28rIl0iO3NbdF09RnVuY3Rpb24oIkYsYSIsInJldHVybiBuZXcgRigiK24uam9pbigiLCIpKyIpIil9cmV0dXJuIHNbdF0oZSxyKX07ZS5leHBvcnRzPUZ1bmN0aW9uLmJpbmR8fGZ1bmN0aW9uKGUpe3ZhciB0PW4odGhpcykscj1hLmNhbGwoYXJndW1lbnRzLDEpLHM9ZnVuY3Rpb24oKXt2YXIgbj1yLmNvbmNhdChhLmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBzP3UodCxuLmxlbmd0aCxuKTppKHQsbixlKX07cmV0dXJuIG8odC5wcm90b3R5cGUpJiYocy5wcm90b3R5cGU9dC5wcm90b3R5cGUpLHN9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3KS5wYXJzZUludCxvPXIoNjUpLnRyaW0saT1yKDExMiksYT0vXlstK10/MFt4WF0vO2UuZXhwb3J0cz04IT09bihpKyIwOCIpfHwyMiE9PW4oaSsiMHgxNiIpP2Z1bmN0aW9uKGUsdCl7dmFyIHI9byhTdHJpbmcoZSksMyk7cmV0dXJuIG4ocix0Pj4+MHx8KGEudGVzdChyKT8xNjoxMCkpfTpufSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3KS5wYXJzZUZsb2F0LG89cig2NSkudHJpbTtlLmV4cG9ydHM9MS9uKHIoMTEyKSsiLTAiKSE9LTEvMD9mdW5jdGlvbihlKXt2YXIgdD1vKFN0cmluZyhlKSwzKSxyPW4odCk7cmV0dXJuIDA9PT1yJiYiLSI9PXQuY2hhckF0KDApPy0wOnJ9Om59LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUmJiJOdW1iZXIiIT1uKGUpKXRocm93IFR5cGVFcnJvcih0KTtyZXR1cm4rZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIW4oZSkmJmlzRmluaXRlKGUpJiZvKGUpPT09ZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPU1hdGgubG9nMXB8fGZ1bmN0aW9uKGUpe3JldHVybihlPStlKT4tMWUtOCYmZTwxZS04P2UtZSplLzI6TWF0aC5sb2coMStlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDExNSksbz1NYXRoLnBvdyxpPW8oMiwtNTIpLGE9bygyLC0yMykscz1vKDIsMTI3KSooMi1hKSx1PW8oMiwtMTI2KSxjPWZ1bmN0aW9uKGUpe3JldHVybiBlKzEvaS0xL2l9O2UuZXhwb3J0cz1NYXRoLmZyb3VuZHx8ZnVuY3Rpb24oZSl7dmFyIHQscixvPU1hdGguYWJzKGUpLGw9bihlKTtyZXR1cm4gbzx1P2wqYyhvL3UvYSkqdSphOih0PSgxK2EvaSkqbyxyPXQtKHQtbykscj5zfHxyIT1yP2wqKDEvMCk6bCpyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvKXt0cnl7cmV0dXJuIG8/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2godCl7dmFyIGk9ZS5yZXR1cm47dGhyb3cgdm9pZCAwIT09aSYmbihpLmNhbGwoZSkpLHR9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjApLG89cigxOSksaT1yKDczKSxhPXIoMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixzLHUpe24odCk7dmFyIGM9byhlKSxsPWkoYyksZj1hKGMubGVuZ3RoKSxkPXU/Zi0xOjAscD11Py0xOjE7aWYocjwyKWZvcig7Oyl7aWYoZCBpbiBsKXtzPWxbZF0sZCs9cDticmVha31pZihkKz1wLHU/ZDwwOmY8PWQpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIil9Zm9yKDt1P2Q+PTA6Zj5kO2QrPXApZCBpbiBsJiYocz10KHMsbFtkXSxkLGMpKTtyZXR1cm4gc319LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxOSksbz1yKDU1KSxpPXIoMTQpO2UuZXhwb3J0cz1bXS5jb3B5V2l0aGlufHxmdW5jdGlvbihlLHQpe3ZhciByPW4odGhpcyksYT1pKHIubGVuZ3RoKSxzPW8oZSxhKSx1PW8odCxhKSxjPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGw9TWF0aC5taW4oKHZvaWQgMD09PWM/YTpvKGMsYSkpLXUsYS1zKSxmPTE7Zm9yKHU8cyYmczx1K2wmJihmPS0xLHUrPWwtMSxzKz1sLTEpO2wtLSA+MDspdSBpbiByP3Jbc109clt1XTpkZWxldGUgcltzXSxzKz1mLHUrPWY7cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LGZ1bmN0aW9uKGUsdCxyKXtyKDEyKSYmImciIT0vLi9nLmZsYWdzJiZyKDEzKS5mKFJlZ0V4cC5wcm90b3R5cGUsImZsYWdzIix7Y29uZmlndXJhYmxlOiEwLGdldDpyKDg5KX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2U6ITEsdjplKCl9fWNhdGNoKGUpe3JldHVybntlOiEwLHY6ZX19fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNSksbz1yKDkpLGk9cigxMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG4oZSksbyh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIHI9aS5mKGUpO3JldHVybigwLHIucmVzb2x2ZSkodCksci5wcm9taXNlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3Nyksbz1yKDY3KTtlLmV4cG9ydHM9cig5MykoIk1hcCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0RW50cnkobyh0aGlzLCJNYXAiKSxlKTtyZXR1cm4gdCYmdC52fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5kZWYobyh0aGlzLCJNYXAiKSwwPT09ZT8wOmUsdCl9fSxuLCEwKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzKS5mLG89cig1NiksaT1yKDYxKSxhPXIoMzIpLHM9cig1OSksdT1yKDYwKSxjPXIoMTE4KSxsPXIoMTcyKSxmPXIoNTgpLGQ9cigxMikscD1yKDQ3KS5mYXN0S2V5LHk9cig2NyksaD1kPyJfcyI6InNpemUiLHY9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXAodCk7aWYoIkYiIT09bilyZXR1cm4gZS5faVtuXTtmb3Iocj1lLl9mO3I7cj1yLm4paWYoci5rPT10KXJldHVybiByfTtlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxyLGMpe3ZhciBsPWUoZnVuY3Rpb24oZSxuKXtzKGUsbCx0LCJfaSIpLGUuX3Q9dCxlLl9pPW8obnVsbCksZS5fZj12b2lkIDAsZS5fbD12b2lkIDAsZVtoXT0wLHZvaWQgMCE9biYmdShuLHIsZVtjXSxlKX0pO3JldHVybiBpKGwucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT15KHRoaXMsdCkscj1lLl9pLG49ZS5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgcltuLmldO2UuX2Y9ZS5fbD12b2lkIDAsZVtoXT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHI9eSh0aGlzLHQpLG49dihyLGUpO2lmKG4pe3ZhciBvPW4ubixpPW4ucDtkZWxldGUgci5faVtuLmldLG4ucj0hMCxpJiYoaS5uPW8pLG8mJihvLnA9aSksci5fZj09biYmKHIuX2Y9byksci5fbD09biYmKHIuX2w9aSkscltoXS0tfXJldHVybiEhbn0sZm9yRWFjaDpmdW5jdGlvbihlKXt5KHRoaXMsdCk7Zm9yKHZhciByLG49YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3I9cj9yLm46dGhpcy5fZjspZm9yKG4oci52LHIuayx0aGlzKTtyJiZyLnI7KXI9ci5wfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF2KHkodGhpcyx0KSxlKX19KSxkJiZuKGwucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx0KVtoXX19KSxsfSxkZWY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saT12KGUsdCk7cmV0dXJuIGk/aS52PXI6KGUuX2w9aT17aTpvPXAodCwhMCksazp0LHY6cixwOm49ZS5fbCxuOnZvaWQgMCxyOiExfSxlLl9mfHwoZS5fZj1pKSxuJiYobi5uPWkpLGVbaF0rKywiRiIhPT1vJiYoZS5faVtvXT1pKSksZX0sZ2V0RW50cnk6dixzZXRTdHJvbmc6ZnVuY3Rpb24oZSx0LHIpe2MoZSx0LGZ1bmN0aW9uKGUscil7dGhpcy5fdD15KGUsdCksdGhpcy5faz1yLHRoaXMuX2w9dm9pZCAwfSxmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9ZS5fayxyPWUuX2w7ciYmci5yOylyPXIucDtyZXR1cm4gZS5fdCYmKGUuX2w9cj1yP3IubjplLl90Ll9mKT8ia2V5cyI9PXQ/bCgwLHIuayk6InZhbHVlcyI9PXQ/bCgwLHIudik6bCgwLFtyLmssci52XSk6KGUuX3Q9dm9pZCAwLGwoMSkpfSxyPyJlbnRyaWVzIjoidmFsdWVzIiwhciwhMCksZih0KX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTc3KSxvPXIoNjcpO2UuZXhwb3J0cz1yKDkzKSgiU2V0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGVmKG8odGhpcywiU2V0IiksZT0wPT09ZT8wOmUsZSl9fSxuKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvPXIoNDApKDApLGk9cigyNCksYT1yKDQ3KSxzPXIoMTYwKSx1PXIoMTgwKSxjPXIoOSksbD1yKDgpLGY9cig2NyksZD1hLmdldFdlYWsscD1PYmplY3QuaXNFeHRlbnNpYmxlLHk9dS51ZnN0b3JlLGg9e30sdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LGc9e2dldDpmdW5jdGlvbihlKXtpZihjKGUpKXt2YXIgdD1kKGUpO3JldHVybiEwPT09dD95KGYodGhpcywiV2Vha01hcCIpKS5nZXQoZSk6dD90W3RoaXMuX2ldOnZvaWQgMH19LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB1LmRlZihmKHRoaXMsIldlYWtNYXAiKSxlLHQpfX0sYj1lLmV4cG9ydHM9cig5MykoIldlYWtNYXAiLHYsZyx1LCEwLCEwKTtsKGZ1bmN0aW9uKCl7cmV0dXJuIDchPShuZXcgYikuc2V0KChPYmplY3QuZnJlZXplfHxPYmplY3QpKGgpLDcpLmdldChoKX0pJiYobj11LmdldENvbnN0cnVjdG9yKHYsIldlYWtNYXAiKSxzKG4ucHJvdG90eXBlLGcpLGEuTkVFRD0hMCxvKFsiZGVsZXRlIiwiaGFzIiwiZ2V0Iiwic2V0Il0sZnVuY3Rpb24oZSl7dmFyIHQ9Yi5wcm90b3R5cGUscj10W2VdO2kodCxlLGZ1bmN0aW9uKHQsbyl7aWYoYyh0KSYmIXAodCkpe3RoaXMuX2Z8fCh0aGlzLl9mPW5ldyBuKTt2YXIgaT10aGlzLl9mW2VdKHQsbyk7cmV0dXJuInNldCI9PWU/dGhpczppfXJldHVybiByLmNhbGwodGhpcyx0LG8pfSl9KSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2MSksbz1yKDQ3KS5nZXRXZWFrLGk9cig1KSxhPXIoOSkscz1yKDU5KSx1PXIoNjApLGM9cig0MCksbD1yKDI3KSxmPXIoNjcpLGQ9Yyg1KSxwPWMoNikseT0wLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2x8fChlLl9sPW5ldyB2KX0sdj1mdW5jdGlvbigpe3RoaXMuYT1bXX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBkKGUuYSxmdW5jdGlvbihlKXtyZXR1cm4gZVswXT09PXR9KX07di5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1nKHRoaXMsZSk7aWYodClyZXR1cm4gdFsxXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhZyh0aGlzLGUpfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1nKHRoaXMsZSk7cj9yWzFdPXQ6dGhpcy5hLnB1c2goW2UsdF0pfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9cCh0aGlzLmEsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSk7cmV0dXJufnQmJnRoaXMuYS5zcGxpY2UodCwxKSwhIX50fX0sZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQscixpKXt2YXIgYz1lKGZ1bmN0aW9uKGUsbil7cyhlLGMsdCwiX2kiKSxlLl90PXQsZS5faT15KyssZS5fbD12b2lkIDAsdm9pZCAwIT1uJiZ1KG4scixlW2ldLGUpfSk7cmV0dXJuIG4oYy5wcm90b3R5cGUse2RlbGV0ZTpmdW5jdGlvbihlKXtpZighYShlKSlyZXR1cm4hMTt2YXIgcj1vKGUpO3JldHVybiEwPT09cj9oKGYodGhpcyx0KSkuZGVsZXRlKGUpOnImJmwocix0aGlzLl9pKSYmZGVsZXRlIHJbdGhpcy5faV19LGhhczpmdW5jdGlvbihlKXtpZighYShlKSlyZXR1cm4hMTt2YXIgcj1vKGUpO3JldHVybiEwPT09cj9oKGYodGhpcyx0KSkuaGFzKGUpOnImJmwocix0aGlzLl9pKX19KSxjfSxkZWY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8oaSh0KSwhMCk7cmV0dXJuITA9PT1uP2goZSkuc2V0KHQscik6bltlLl9pXT1yLGV9LHVmc3RvcmU6aH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM4KSxvPXIoMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiAwO3ZhciB0PW4oZSkscj1vKHQpO2lmKHQhPT1yKXRocm93IFJhbmdlRXJyb3IoIldyb25nIGxlbmd0aCEiKTtyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU3KSxvPXIoODUpLGk9cig1KSxhPXIoNykuUmVmbGVjdDtlLmV4cG9ydHM9YSYmYS5vd25LZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1uLmYoaShlKSkscj1vLmY7cmV0dXJuIHI/dC5jb25jYXQocihlKSk6dH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZmxhdHRlbkludG9BcnJheShlLHQscix1LGMsbCxmLGQpe2Zvcih2YXIgcCx5LGg9Yyx2PTAsZz0hIWYmJmEoZixkLDMpO3Y8dTspe2lmKHYgaW4gcil7aWYocD1nP2coclt2XSx2LHQpOnJbdl0seT0hMSxvKHApJiYoeT1wW3NdLHk9dm9pZCAwIT09eT8hIXk6bihwKSkseSYmbD4wKWg9ZmxhdHRlbkludG9BcnJheShlLHQscCxpKHAubGVuZ3RoKSxoLGwtMSktMTtlbHNle2lmKGg+PTkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKCk7ZVtoXT1wfWgrK312Kyt9cmV0dXJuIGh9dmFyIG49cig4Niksbz1yKDkpLGk9cigxNCksYT1yKDMyKSxzPXIoMTApKCJpc0NvbmNhdFNwcmVhZGFibGUiKTtlLmV4cG9ydHM9ZmxhdHRlbkludG9BcnJheX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTQpLG89cigxMTQpLGk9cigzNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBzPVN0cmluZyhpKGUpKSx1PXMubGVuZ3RoLGM9dm9pZCAwPT09cj8iICI6U3RyaW5nKHIpLGw9bih0KTtpZihsPD11fHwiIj09YylyZXR1cm4gczt2YXIgZj1sLXUsZD1vLmNhbGwoYyxNYXRoLmNlaWwoZi9jLmxlbmd0aCkpO3JldHVybiBkLmxlbmd0aD5mJiYoZD1kLnNsaWNlKDAsZikpLGE/ZCtzOnMrZH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU0KSxvPXIoMjgpLGk9cig3NCkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixhPW8odCkscz1uKGEpLHU9cy5sZW5ndGgsYz0wLGw9W107dT5jOylpLmNhbGwoYSxyPXNbYysrXSkmJmwucHVzaChlP1tyLGFbcl1dOmFbcl0pO3JldHVybiBsfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc1KSxvPXIoMTg3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobih0aGlzKSE9ZSl0aHJvdyBUeXBlRXJyb3IoZSsiI3RvSlNPTiBpc24ndCBnZW5lcmljIik7cmV0dXJuIG8odGhpcyl9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBuKGUsITEsci5wdXNoLHIsdCkscn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPU1hdGguc2NhbGV8fGZ1bmN0aW9uKGUsdCxyLG4sbyl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxlIT1lfHx0IT10fHxyIT1yfHxuIT1ufHxvIT1vP05hTjplPT09MS8wfHxlPT09LTEvMD9lOihlLXQpKihvLW4pLyhyLXQpK259fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2Miksbz1yKDUwKSxpPXIoNDI4KSghMSksYT1yKDEzNSkoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1vKGUpLHU9MCxjPVtdO2ZvcihyIGluIHMpciE9YSYmbihzLHIpJiZjLnB1c2gocik7Zm9yKDt0Lmxlbmd0aD51OyluKHMscj10W3UrK10pJiYofmkoYyxyKXx8Yy5wdXNoKHIpKTtyZXR1cm4gY319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc3KTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoNTEpJiYhcig3MCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTM5KSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNzgpLG89cigyNiksaT1yKDE5NCksYT1yKDYzKSxzPXIoNzEpLHU9cig0MzIpLGM9cigxMDApLGw9cigxOTYpLGY9cigyMikoIml0ZXJhdG9yIiksZD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscix5LGgsdixnKXt1KHIsdCx5KTt2YXIgYixfLG0sUj1mdW5jdGlvbihlKXtpZighZCYmZSBpbiBTKXJldHVybiBTW2VdO3N3aXRjaChlKXtjYXNlImtleXMiOmNhc2UidmFsdWVzIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fSxPPXQrIiBJdGVyYXRvciIsdz0idmFsdWVzIj09aCxrPSExLFM9ZS5wcm90b3R5cGUsUD1TW2ZdfHxTWyJAQGl0ZXJhdG9yIl18fGgmJlNbaF0sRD1QfHxSKGgpLE09aD93P1IoImVudHJpZXMiKTpEOnZvaWQgMCxMPSJBcnJheSI9PXQ/Uy5lbnRyaWVzfHxQOlA7aWYoTCYmKG09bChMLmNhbGwobmV3IGUpKSkhPT1PYmplY3QucHJvdG90eXBlJiZtLm5leHQmJihjKG0sTywhMCksbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG1bZl18fGEobSxmLHApKSx3JiZQJiYidmFsdWVzIiE9PVAubmFtZSYmKGs9ITAsRD1mdW5jdGlvbigpe3JldHVybiBQLmNhbGwodGhpcyl9KSxuJiYhZ3x8IWQmJiFrJiZTW2ZdfHxhKFMsZixEKSxzW3RdPUQsc1tPXT1wLGgpaWYoYj17dmFsdWVzOnc/RDpSKCJ2YWx1ZXMiKSxrZXlzOnY/RDpSKCJrZXlzIiksZW50cmllczpNfSxnKWZvcihfIGluIGIpXyBpbiBTfHxpKFMsXyxiW19dKTtlbHNlIG8oby5QK28uRiooZHx8ayksdCxiKTtyZXR1cm4gYn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig2Myl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKS5kb2N1bWVudDtlLmV4cG9ydHM9biYmbi5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYyKSxvPXIoNzYpLGk9cigxMzUpKCJJRV9QUk9UTyIpLGE9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1vKGUpLG4oZSxpKT9lW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P2E6bnVsbH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKHQpe3ZhciBpPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm4oaS5jYWxsKGUpKSx0fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcxKSxvPXIoMjIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksbz1yKDk5KSxpPXIoMjIpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHx2b2lkIDA9PShyPW4oYSlbaV0pP3Q6byhyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGksYT1yKDY5KSxzPXIoNDQwKSx1PXIoMTk1KSxjPXIoMTM5KSxsPXIoMjEpLGY9bC5wcm9jZXNzLGQ9bC5zZXRJbW1lZGlhdGUscD1sLmNsZWFySW1tZWRpYXRlLHk9bC5NZXNzYWdlQ2hhbm5lbCxoPWwuRGlzcGF0Y2gsdj0wLGc9e30sYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGcuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWdbZV07ZGVsZXRlIGdbZV0sdCgpfX0sXz1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGdbKyt2XT1mdW5jdGlvbigpe3MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwicHJvY2VzcyI9PXIoNzcpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhhKGIsZSwxKSl9OmgmJmgubm93P249ZnVuY3Rpb24oZSl7aC5ub3coYShiLGUsMSkpfTp5PyhvPW5ldyB5LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1fLG49YShpLnBvc3RNZXNzYWdlLGksMSkpOmwuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhbC5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2wucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLF8sITEpKTpuPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGEoYixlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKSxvPXIoNDUpLGk9cigxNDQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG4oZSksbyh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIHI9aS5mKGUpO3JldHVybigwLHIucmVzb2x2ZSkodCksci5wcm9taXNlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxhPWlbbl0oKTthLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBhfSxlKGkpfWNhdGNoKGUpe31yZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NTApLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxODkpLG89cigxMzcpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4Miksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDE2KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQ2KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig0KSx2PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaCksZz1yKDIwNyksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89cigyMDgpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxSPXIoNDgzKSxPPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoUiksdz1yKDYpLGs9cig0ODQpLFM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChrKSxQPXYuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0IiksRD1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGFPYmplY3QoZSl7ZnVuY3Rpb24gdGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKGUpe3Rocm93IltEYXRhT2JqZWN0XSAiK2UrIiBtYW5kYXRvcnkgcGFyYW1ldGVyIGlzIG1pc3NpbmcifSgwLGQuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0KTt2YXIgdD10aGlzO2lmKGUuc3luY2hlcj90Ll9zeW5jaGVyPWUuc3luY2hlcjp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInN5bmNoZXIiKSxlLnVybD90Ll91cmw9ZS51cmw6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJ1cmwiKSxlLmNyZWF0ZWQ/dC5fY3JlYXRlZD1lLmNyZWF0ZWQ6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJjcmVhdGVkIiksZS5yZXBvcnRlcj90Ll9yZXBvcnRlcj1lLnJlcG9ydGVyOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigicmVwb3J0ZXIiKSxlLnJ1bnRpbWU/dC5fcnVudGltZT1lLnJ1bnRpbWU6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJydW50aW1lIiksZS5zY2hlbWE/dC5fc2NoZW1hPWUuc2NoZW1hOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigic2NoZW1hIiksZS5uYW1lP3QuX25hbWU9ZS5uYW1lOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigibmFtZSIpLHQuX3N0YXR1cz1lLnN0YXR1cyxlLmRhdGE/dC5fc3luY09iaj1uZXcgYi5kZWZhdWx0KGUuZGF0YSk6dC5fc3luY09iaj1uZXcgYi5kZWZhdWx0KHt9KSx0Ll9jaGlsZHJlbnM9ZS5jaGlsZHJlbnMsdC5fbXV0dWFsPWUubXV0dWFsLHQuX3ZlcnNpb249MCx0Ll9jaGlsZElkPTEsdC5fY2hpbGRyZW5MaXN0ZW5lcix0Ll9vbkFkZENoaWxkcmVuSGFuZGxlcix0Ll9yZXN1bWVkPWUucmVzdW1lLGUucmVzdW1lJiYodC5fdmVyc2lvbj1lLnZlcnNpb24pLHQuX293bmVyPWUuc3luY2hlci5fb3duZXIsdC5fYnVzPWUuc3luY2hlci5fYnVzLGUuZGVzY3JpcHRpb24mJih0Ll9kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uKSxlLnRhZ3MmJih0Ll90YWdzPWUudGFncyksZS5yZXNvdXJjZXMmJih0Ll9yZXNvdXJjZXM9ZS5yZXNvdXJjZXMpLGUub2JzZXJ2ZXJTdG9yYWdlJiYodC5fb2JzZXJ2ZXJTdG9yYWdlPWUub2JzZXJ2ZXJTdG9yYWdlKSxlLnB1YmxpY09ic2VydmF0aW9uJiYodC5fcHVibGljT2JzZXJ2YXRpb249ZS5wdWJsaWNPYnNlcnZhdGlvbiksdC5fbWV0YWRhdGE9KDAsbC5kZWZhdWx0KShlKSwoIWUuaGFzT3duUHJvcGVydHkoInJlc3VtZSIpfHxlLmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUucmVzdW1lKSYmKHQuX21ldGFkYXRhLmxhc3RNb2RpZmllZD10Ll9tZXRhZGF0YS5jcmVhdGVkKSxkZWxldGUgdC5fbWV0YWRhdGEuZGF0YSxkZWxldGUgdC5fbWV0YWRhdGEuc3luY2hlcixkZWxldGUgdC5fbWV0YWRhdGEuYXV0aG9yaXNlLHQuX2h5cGVydHlSZXNvdXJjZUZhY3Rvcnk9bmV3IFMuZGVmYXVsdCx0Ll9jaGlsZHJlbk9iamVjdHM9e30sdC5fc2hhcmVkQ2hpbGRzPVtdLGUuYmFja3VwJiZ0Ll9jaGlsZHJlbnMpe3ZhciByPWUuaGFzT3duUHJvcGVydHkoImNoaWxkcmVuT2JqZWN0cyIpJiZlLmNoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eSgiaGVhcnRiZWF0Iik/ZS5jaGlsZHJlbk9iamVjdHMuaGVhcnRiZWF0OjA7dC5faGVhcnRCZWF0PW5ldyBPLmRlZmF1bHQodC5fYnVzLHQuX293bmVyLHQuX3N5bmNoZXIuX3J1bnRpbWVVcmwsdGhpcywxNSxyKSx0Ll9yZXN1bWVkfHx0Ll9oZWFydEJlYXQuc3RhcnQocil9fXJldHVybigwLHkuZGVmYXVsdCkoRGF0YU9iamVjdCxbe2tleToiX2dldExhc3RDaGlsZElkIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0wLHI9ZS5fb3duZXIrIiMiK3Q7cmV0dXJuKDAsdS5kZWZhdWx0KShlLl9jaGlsZHJlbnMpLmZpbHRlcihmdW5jdGlvbih0KXtlLl9jaGlsZHJlbnNbdF0uY2hpbGRJZD5yJiYocj1lLl9jaGlsZHJlbnNbdF0uY2hpbGRJZCl9KSx0PU51bWJlcihyLnNwbGl0KCIjIilbMV0pfX0se2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjtpZihQLmxvZygiW0RhdGEgT2JqZWN0IC0gQWxsb2NhdGVMaXN0ZW5lcnNdIC0gIix0Ll9jaGlsZHJlbnMpLHQuX2NoaWxkcmVucyl2YXIgbj1yLG89dC5fYnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24ocil7aWYoci5mcm9tIT09ZS5fb3duZXIpc3dpdGNoKFAubG9nKCJEYXRhT2JqZWN0LUNoaWxkcmVuLVJDVjogIixyKSxyLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkNoaWxkQ3JlYXRlKHIpO2JyZWFrO2Nhc2UiZGVsZXRlIjpQLmxvZyhyKTticmVhaztkZWZhdWx0OnQuX2NoYW5nZUNoaWxkcmVuKHIpfXQuX2NoaWxkcmVuTGlzdGVuZXI9b30pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jaGlsZHJlbkxpc3RlbmVyJiYoZS5fY2hpbGRyZW5MaXN0ZW5lci5yZW1vdmUoKSwoMCx1LmRlZmF1bHQpKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9jaGlsZHJlbk9iamVjdHNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pKX19LHtrZXk6InN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIFAuaW5mbygiW0RhdGFPYmplY3Quc3luY10gc3luY2hyb25pc2luZyAiKSxuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89e307ZS5tZXRhZGF0YS5iYWNrdXBSZXZpc2lvbiYmKG8uYmFja3VwUmV2aXNpb249ZS5tZXRhZGF0YS5iYWNrdXBSZXZpc2lvbiksdC5fc3luY2hlci5yZWFkKHQuX21ldGFkYXRhLnVybCxvKS50aGVuKGZ1bmN0aW9uKGUpe1AuaW5mbygiW0RhdGFPYmplY3Quc3luY10gdmFsdWUgdG8gc3luYzogIixlKSwoMCxsLmRlZmF1bHQpKHQuZGF0YSwoMCx3LmRlZXBDbG9uZSkoZS5kYXRhKSksdC5fdmVyc2lvbj1lLnZlcnNpb24sdC5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPWUubGFzdE1vZGlmaWVkLGUuY2hpbGRyZW5PYmplY3RzPyh0LnJlc3VtZUNoaWxkcmVucyhlLmNoaWxkcmVuT2JqZWN0cyksdC5fc3RvcmVDaGlsZHJlbnMoKSxyKCEwKSk6cighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtQLmluZm8oIltEYXRhT2JqZWN0LnN5bmNdIHN5bmMgZmFpbGVkOiAiLGUpLHIoITEpfSl9KX19LHtrZXk6InJlc3VtZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj10aGlzLl9vd25lci5zcGxpdCgiLyIpWzNdKyIjIit0aGlzLl9jaGlsZElkLG89ZTsoMCx1LmRlZmF1bHQpKG8pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9ITE7ImhlYXJ0YmVhdCI9PT1lP3IuX2hlYXJ0QmVhdC5zdGFydChvW2VdKTpvW2VdLnZhbHVlLnJlc291cmNlVHlwZSYmIXIuX2NoaWxkcmVuT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShlKT8oci5fY2hpbGRyZW5PYmplY3RzW2VdPXIuX3Jlc3VtZUh5cGVydHlSZXNvdXJjZShvW2VdKSxpPSEwKTpyLl9jaGlsZHJlbk9iamVjdHMuaGFzT3duUHJvcGVydHkoZSl8fChyLl9jaGlsZHJlbk9iamVjdHNbZV09ci5fcmVzdW1lQ2hpbGQob1tlXSksUC5sb2coIltEYXRhT2JqZWN0LnJlc3VtZUNoaWxkcmVuc10gbmV3IERhdGFPYmplY3RDaGlsZDogIixyLl9jaGlsZHJlbk9iamVjdHNbZV0pLGk9ITApLGkmJmU+biYmKG49ZSxQLmxvZygiW0RhdGFPYmplY3RSZXBvcnRlci5yZXN1bWVDaGlsZHJlbnNdIC0gcmVzdW1pbmc6ICIsdC5fY2hpbGRyZW5PYmplY3RzW2VdKSl9KSx0aGlzLl9jaGlsZElkPU51bWJlcihuLnNwbGl0KCIjIilbMV0pfX0se2tleToiX3Jlc3VtZUNoaWxkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS52YWx1ZTtyLnBhcmVudE9iamVjdD10LHIucGFyZW50PXQuX3VybDt2YXIgbj1uZXcgbS5kZWZhdWx0KHIpO24uaWRlbnRpdHk9ZS5pZGVudGl0eTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4ucmVwb3J0ZXIsdXJsOm4ucGFyZW50LHZhbHVlOm4uZGF0YSxjaGlsZElkOm4udXJsLGlkZW50aXR5Om4uaWRlbnRpdHksY2hpbGQ6bn07cmV0dXJuIG4ucmVzb3VyY2VUeXBlJiYoby5yZXNvdXJjZT1uKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobyksbn19LHtrZXk6Il9yZXN1bWVIeXBlcnR5UmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLnZhbHVlO3IucGFyZW50T2JqZWN0PXQsci5wYXJlbnQ9dC5fdXJsO3ZhciBuPXQuX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlKCExLHIucmVzb3VyY2VUeXBlLHIpO24uaWRlbnRpdHk9ZS5pZGVudGl0eTt2YXIgbz17dHlwZToiY3JlYXRlIixmcm9tOm4ucmVwb3J0ZXIsdXJsOm4ucGFyZW50LHZhbHVlOm4uZGF0YSxjaGlsZElkOm4udXJsLGlkZW50aXR5Om4uaWRlbnRpdHksY2hpbGQ6bn07cmV0dXJuIG4ucmVzb3VyY2VUeXBlJiYoby5yZXNvdXJjZT1uKSx0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobyksbn19LHtrZXk6InBhdXNlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJyZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3ciTm90IGltcGxlbWVudGVkIn19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXZvaWQgMDtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihpKXt2YXIgYT1uLl91cmwrIi9jaGlsZHJlbi8iLHM9bi5fZ2V0Q2hpbGRJbnB1dChyKTtzLmRhdGE9ZSxvPW5ldyBtLmRlZmF1bHQocyksdCYmKG8uaWRlbnRpdHk9dCksby5zaGFyZSgpLFAubG9nKCJbRGF0YU9iamVjdC5hZGRDaGlsZF0gYWRkZWQgIixvKSxvLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe24uX29uQ2hhbmdlKGUse3BhdGg6YSxjaGlsZElkOnMudXJsfSl9KSxuLl9jaGlsZHJlbk9iamVjdHNbcy51cmxdPW8saShvKX0pfX0se2tleToiX2RlbGV0ZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocil7aWYoZS5jaGlsZHJlbnMpe1AubG9nKCJbRGF0YU9iamVjdC5kZWxldGVDaGlsZHJlbnNdIixlLmNoaWxkcmVucyk7dmFyIG49dm9pZCAwO2ZvcihuIGluIGUuY2hpbGRyZW5zKXt2YXIgbz1lLmNoaWxkcmVuc1tuXTtQLmxvZygiW0RhdGFPYmplY3QuX2RlbGV0ZUNoaWxkcmVuc10gY2hpbGQiLG8pLG8ubWV0YWRhdGEuaGFzT3duUHJvcGVydHkoInJlc291cmNlVHlwZSIpJiZ0LnB1c2goZS5jaGlsZHJlbnNbbl0uZGVsZXRlKCkpfVAubG9nKCJbRGF0YU9iamVjdC5fZGVsZXRlQ2hpbGRyZW5zXSBwcm9taXNlcyAiLHQpLHQubGVuZ3RoPjA/YS5kZWZhdWx0LmFsbCh0KS50aGVuKGZ1bmN0aW9uKCl7cigiW0RhdGFPYmplY3QuX2RlbGV0ZUNoaWxkcmVuc10gZG9uZSIpfSk6cigiW0RhdGFPYmplY3QuX2RlbGV0ZUNoaWxkcmVuc10gbm90aGluZyB0byBkZWxldGUiKX19KX19LHtrZXk6Il9nZXRDaGlsZElucHV0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsbC5kZWZhdWx0KSh7fSxlKTtyZXR1cm4gdC5fY2hpbGRJZCsrLHIudXJsPXQuX293bmVyLnNwbGl0KCIvIilbM10rIiMiK3QuX2NoaWxkSWQsci5wYXJlbnRPYmplY3Q9dCxyLnJlcG9ydGVyPXQuX293bmVyLHIuY3JlYXRlZD0obmV3IERhdGUpLnRvSVNPU3RyaW5nKCksci5ydW50aW1lPXQuX3N5bmNoZXIuX3J1bnRpbWVVcmwsci5wMnBIYW5kbGVyPXQuX3N5bmNoZXIuX3AycEhhbmRsZXIsci5wMnBSZXF1ZXN0ZXI9dC5fc3luY2hlci5fcDJwUmVxdWVzdGVyLHIuc2NoZW1hPXQuX3NjaGVtYSxyLnBhcmVudD10LnVybCxyfX0se2tleToiYWRkSHlwZXJ0eVJlc291cmNlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGkpe3ZhciBhPXZvaWQgMCxzPW8uX3VybCsiL2NoaWxkcmVuLyIsdT1vLl9nZXRDaGlsZElucHV0KG4pO28uX2h5cGVydHlSZXNvdXJjZUZhY3RvcnkuY3JlYXRlSHlwZXJ0eVJlc291cmNlV2l0aENvbnRlbnQoITAsZSx0LHUpLnRoZW4oZnVuY3Rpb24oZSl7YT1lLHImJihhLmlkZW50aXR5PXIpLGEuc2hhcmUoKSxQLmxvZygiW0RhdGFPYmplY3QuYWRkSHlwZXJ0eVJlc291cmNlXSBhZGRlZCAiLGEpLGEub25DaGFuZ2UoZnVuY3Rpb24oZSl7by5fb25DaGFuZ2UoZSx7cGF0aDpzLGNoaWxkSWQ6YS5jaGlsZElkfSl9KSxvLl9jaGlsZHJlbk9iamVjdHNbYS5jaGlsZElkXT1hLGkoYSl9KX0pfX0se2tleToib25BZGRDaGlsZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25BZGRDaGlsZHJlbkhhbmRsZXI9ZX19LHtrZXk6Il9vbkNoaWxkQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCJoZWFydGJlYXQiPT09ZS5ib2R5LnJlc291cmNlKXRoaXMuX2hlYXJ0QmVhdC5vbk5ld0hlYXJ0YmVhdChlLmJvZHkudmFsdWUpO2Vsc2V7dmFyIHI9e2Zyb206ZS50byx0bzplLmZyb20sdHlwZToicmVzcG9uc2UiLGlkOmUuaWQsYm9keTp7Y29kZToxMDB9fTt0Ll9idXMucG9zdE1lc3NhZ2UociksZS5ib2R5LnZhbHVlLnJlc291cmNlVHlwZT90Ll9vbkh5cGVydHlSZXNvdXJjZUFkZGVkKGUpOnQuX29uQ2hpbGRBZGRlZChlKX19fSx7a2V5OiJfb25DaGlsZEFkZGVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsdy5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7ci5wYXJlbnRPYmplY3Q9dDt2YXIgbj1uZXcgbS5kZWZhdWx0KHIpO24uaWRlbnRpdHk9ZS5ib2R5LmlkZW50aXR5LHQuX2NoaWxkcmVuT2JqZWN0c1tyLnVybF09bixlLnRvPT09dC5tZXRhZGF0YS51cmwmJm4uc3RvcmUoKSx0Ll9oeXBlcnR5RXZ0KGUsbil9fSx7a2V5OiJfb25IeXBlcnR5UmVzb3VyY2VBZGRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS52YWx1ZSxuPXZvaWQgMDtyLnBhcmVudE9iamVjdD10LG49dC5faHlwZXJ0eVJlc291cmNlRmFjdG9yeS5jcmVhdGVIeXBlcnR5UmVzb3VyY2UoITEsci5yZXNvdXJjZVR5cGUsciksbi5pZGVudGl0eT1lLmJvZHkuaWRlbnRpdHksdC5fY2hpbGRyZW5PYmplY3RzW24uY2hpbGRJZF09bix0Ll9oeXBlcnR5RXZ0KGUsbiksZS50bz09PXQubWV0YWRhdGEudXJsJiZuLnN0b3JlKCl9fSx7a2V5OiJfaHlwZXJ0eUV2dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHVybDplLnRvLHZhbHVlOnQuZGF0YSxjaGlsZElkOnQudXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxjaGlsZDp0fTt0LnJlc291cmNlVHlwZSYmKG4ucmVzb3VyY2U9dCksci5fb25BZGRDaGlsZHJlbkhhbmRsZXImJnIuX29uQWRkQ2hpbGRyZW5IYW5kbGVyKG4pfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSxyLl92ZXJzaW9uKyssImxpdmUiPT09ci5fc3RhdHVzKXt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnIuX3VybCx0bzpyLl91cmwrIi9jaGFuZ2VzIixib2R5Ont2ZXJzaW9uOnIuX3ZlcnNpb24sc291cmNlOnIuX293bmVyLGF0dHJpYnV0ZTplLmZpZWxkLGxhc3RNb2RpZmllZDpyLl9tZXRhZGF0YS5sYXN0TW9kaWZpZWR9fTtQLmxvZygiW0RhdGFPYmplY3QgLSBfb25DaGFuZ2VdIC0gIixlLHQsbiksZS5vVHlwZT09PWcuT2JqZWN0VHlwZS5PQkpFQ1Q/ZS5jVHlwZSE9PWcuQ2hhbmdlVHlwZS5SRU1PVkUmJihuLmJvZHkudmFsdWU9KDAsdy5kZWVwQ2xvbmUpKGUuZGF0YSkpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PWcuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5kYXRhLl9tdXR1YWx8fChuLmJvZHkubXV0dWFsPXIuX211dHVhbCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE8PXQuYm9keS52ZXJzaW9uKXtyLl92ZXJzaW9uPXQuYm9keS52ZXJzaW9uO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsaT12b2lkIDA7aT0ib2JqZWN0Ij09PSgwLG8uZGVmYXVsdCkodC5ib2R5LnZhbHVlKT8oMCx3LmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKTp0LmJvZHkudmFsdWU7dmFyIGE9ZS5maW5kQmVmb3JlKG4pO2lmKHQuYm9keS5sYXN0TW9kaWZpZWQ/ci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPXQuYm9keS5sYXN0TW9kaWZpZWQ6ci5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSx0LmJvZHkuYXR0cmlidXRlVHlwZT09PWcuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09Zy5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9YS5vYmosdT1hLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFt1LDBdLmNvbmNhdChpKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09Zy5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIGM9YS5vYmosbD1hLmxhc3Q7Yy5zcGxpY2UobCxpKX1lbHNlIGEub2JqW2EubGFzdF09aTtlbHNlIHQuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKT9hLm9ialthLmxhc3RdPWk6ZGVsZXRlIGEub2JqW2EubGFzdF19ZWxzZSBQLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCx3LmRpdmlkZVVSTCkoZS50byksbj0oci5pZGVudGl0eSxlLmJvZHkucmVzb3VyY2UpLG89dC5fY2hpbGRyZW5PYmplY3RzW25dO1AubG9nKCJDaGFuZ2UgY2hpbGRyZW46ICIsdC5fb3duZXIsZSxyZXNvdXJjZSksbz90Ll9jaGFuZ2VPYmplY3Qoby5fc3luY09iaixlKTpQLndhcm4oIk5vIGNoaWxkcmVuIGZvdW5kIGZvcjogIixuKX19LHtrZXk6Im1ldGFkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGF9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJzY2hlbWEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWF9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0dXN9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY09iai5kYXRhfX0se2tleToiY2hpbGRyZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5PYmplY3RzfX1dKSxEYXRhT2JqZWN0fSgpO3QuZGVmYXVsdD1ELGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuT2JqZWN0VHlwZT10LkNoYW5nZVR5cGU9dm9pZCAwO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7cigxNDkpO3ZhciBzPXIoNiksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN5bmNPYmplY3QoZSl7KDAsby5kZWZhdWx0KSh0aGlzLFN5bmNPYmplY3QpO3ZhciB0PXRoaXM7dC5fb2JzZXJ2ZXJzPVtdLHQuX2ZpbHRlcnM9e30sdGhpcy5fZGF0YT1lfHx7fSx0aGlzLl9pbnRlcm5hbE9ic2VydmUodGhpcy5fZGF0YSl9cmV0dXJuKDAsYS5kZWZhdWx0KShTeW5jT2JqZWN0LFt7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYnNlcnZlcnMucHVzaChlKX19LHtrZXk6ImZpbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSgwLHMucGFyc2VBdHRyaWJ1dGVzKShlKTtyZXR1cm4gdGhpcy5fZmluZFdpdGhTcGxpdCh0KX19LHtrZXk6ImZpbmRCZWZvcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9KDAscy5wYXJzZUF0dHJpYnV0ZXMpKGUpO3JldHVybiB0Lmxhc3Q9ci5wb3AoKSx0Lm9iaj10aGlzLl9maW5kV2l0aFNwbGl0KHIpLHR9fSx7a2V5OiJfZmluZFdpdGhTcGxpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dFtlXX0pLHR9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZnVuY3Rpb24oZSl7ZS5ldmVyeShmdW5jdGlvbihlKXt0Ll9vbkNoYW5nZXMoZSl9KX07dGhpcy5fZGF0YT1PYmplY3QuZGVlcE9ic2VydmUoZSxyKX19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9vbkNoYW5nZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub2JqZWN0LHI9dm9pZCAwO3QuY29uc3RydWN0b3I9PT1PYmplY3QmJihyPWwuT0JKRUNUKSx0LmNvbnN0cnVjdG9yPT09QXJyYXkmJihyPWwuQVJSQVkpO3ZhciBuPWUua2V5cGF0aCxvPXRbZS5uYW1lXTsidXBkYXRlIiE9PWUudHlwZXx8bi5pbmNsdWRlcygiLmxlbmd0aCIpfHx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmMuVVBEQVRFLG9UeXBlOnIsZmllbGQ6bixkYXRhOm99KSwiYWRkIj09PWUudHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpjLkFERCxvVHlwZTpyLGZpZWxkOm4sZGF0YTpvfSksImRlbGV0ZSI9PT1lLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6Yy5SRU1PVkUsb1R5cGU6cixmaWVsZDpufSl9fSx7a2V5OiJkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19XSksU3luY09iamVjdH0oKSxjPXQuQ2hhbmdlVHlwZT17VVBEQVRFOiJ1cGRhdGUiLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSJ9LGw9dC5PYmplY3RUeXBlPXtPQkpFQ1Q6Im9iamVjdCIsQVJSQVk6ImFycmF5In07dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9cigyMDcpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNikseT1sLmdldExvZ2dlcigiRGF0YU9iamVjdENoaWxkIiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGFPYmplY3RDaGlsZChlKXtmdW5jdGlvbiB0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoZSl7dGhyb3ciW0RhdGFPYmplY3RDaGlsZF0gIitlKyIgbWFuZGF0b3J5IHBhcmFtZXRlciBpcyBtaXNzaW5nIn0oMCxhLmRlZmF1bHQpKHRoaXMsRGF0YU9iamVjdENoaWxkKTt2YXIgdD10aGlzO2UucGFyZW50P3QuX3BhcmVudD1lLnBhcmVudDp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInBhcmVudCIpLGUudXJsP3QuX3VybD1lLnVybDp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInVybCIpLGUuY3JlYXRlZD90Ll9jcmVhdGVkPWUuY3JlYXRlZDp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoImNyZWF0ZWQiKSxlLnJlcG9ydGVyP3QuX3JlcG9ydGVyPWUucmVwb3J0ZXI6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJyZXBvcnRlciIpLGUucnVudGltZT90Ll9ydW50aW1lPWUucnVudGltZTp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoInJ1bnRpbWUiKSxlLnNjaGVtYT90Ll9zY2hlbWE9ZS5zY2hlbWE6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJzY2hlbWEiKSxlLnBhcmVudE9iamVjdD90Ll9wYXJlbnRPYmplY3Q9ZS5wYXJlbnRPYmplY3Q6dGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKCJwYXJlbnRPYmplY3QiKSxlLm5hbWUmJih0Ll9uYW1lPWUubmFtZSksZS5kZXNjcmlwdGlvbiYmKHQuX2Rlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24pLGUudGFncyYmKHQuX3RhZ3M9ZS50YWdzKSxlLnJlc291cmNlcyYmKHQuX3Jlc291cmNlcz1lLnJlc291cmNlcyksZS5vYnNlcnZlclN0b3JhZ2UmJih0Ll9vYnNlcnZlclN0b3JhZ2U9ZS5vYnNlcnZlclN0b3JhZ2UpLGUucHVibGljT2JzZXJ2YXRpb24mJih0Ll9wdWJsaWNPYnNlcnZhdGlvbj1lLnB1YmxpY09ic2VydmF0aW9uKSx0Ll9jaGlsZElkPWUudXJsLGUuZGF0YT90Ll9zeW5jT2JqPW5ldyBkLmRlZmF1bHQoZS5kYXRhKTp0Ll9zeW5jT2JqPW5ldyBkLmRlZmF1bHQoe30pLHkubG9nKCJbRGF0YU9iamVjdENoaWxkIC0gIENvbnN0cnVjdG9yXSAtICIsdC5fc3luY09iaiksdC5fYnVzPXQuX3BhcmVudE9iamVjdC5fYnVzLHQuX293bmVyPXQuX3BhcmVudE9iamVjdC5fb3duZXIsdC5fYWxsb2NhdGVMaXN0ZW5lcnMoKSx0Ll9tZXRhZGF0YT1lLGRlbGV0ZSB0Ll9tZXRhZGF0YS5wYXJlbnRPYmplY3QsdC5fc2hhcmluZ1N0YXR1cz0hMX1yZXR1cm4oMCx1LmRlZmF1bHQpKERhdGFPYmplY3RDaGlsZCxbe2tleToic2hhcmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fc2hhcmluZ1N0YXR1cz1uZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dm9pZCAwO289ZT90Lm1ldGFkYXRhLnBhcmVudDp0Lm1ldGFkYXRhLnBhcmVudCsiL2NoaWxkcmVuLyI7dmFyIGk9dC5tZXRhZGF0YTtpLmRhdGE9dC5kYXRhO3ZhciBhPXt0eXBlOiJjcmVhdGUiLGZyb206dC5tZXRhZGF0YS5yZXBvcnRlcix0bzpvLGJvZHk6e3Jlc291cmNlOmkudXJsLHZhbHVlOml9fTtpZih0LmlkZW50aXR5JiYoYS5ib2R5LmlkZW50aXR5PXQuaWRlbnRpdHkpLHQuX3BhcmVudE9iamVjdC5kYXRhLmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKGEuYm9keS5tdXR1YWw9dC5fcGFyZW50T2JqZWN0LmRhdGEubXV0dWFsKSx0Ll9wYXJlbnRPYmplY3QubWV0YWRhdGEucmVwb3J0ZXI9PT10Lm1ldGFkYXRhLnJlcG9ydGVyKXJldHVybiB0Ll9idXMucG9zdE1lc3NhZ2UoKDAscC5kZWVwQ2xvbmUpKGEpKSxyKCk7dmFyIHM9ZnVuY3Rpb24oZSl7aWYoZS50bz09PXQuX3JlcG9ydGVyKXt0Ll9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihhLmZyb20sZS5pZCkseS5sb2coIltTeW5jaGVyLkRhdGFPYmplY3RDaGlsZC5zaGFyZV0gUGFyZW50IHJlcG9ydGVyIHJlcGx5ICIsZSk7dmFyIG89e2NvZGU6ZS5ib2R5JiZlLmJvZHkuY29kZT9lLmJvZHkuY29kZTo1MDAsZGVzYzplLmJvZHkmJmUuYm9keS5kZXNjP2UuYm9keS5kZXNjOiJVbmtub3duIn07cmV0dXJuIGUuYm9keS5jb2RlPDMwMD9yKG8pOm4obyl9fSx1PXQuX2J1cy5wb3N0TWVzc2FnZSgoMCxwLmRlZXBDbG9uZSkoYSkscywhMSk7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0Ll9idXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihhLmZyb20sdSksbih7Y29kZTo0MDgsZGVzYzoidGltb3V0In0pfSwzZTMpfSl9fSx7a2V5OiJzdG9yZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e30scj1lLm1ldGFkYXRhLmNoaWxkcmVuKyIuIitlLm1ldGFkYXRhLnVybDt0LnZhbHVlPWUubWV0YWRhdGEsdC5pZGVudGl0eT1lLmlkZW50aXR5O3ZhciBuPXtmcm9tOmUubWV0YWRhdGEucmVwb3J0ZXIsdG86ZS5fcGFyZW50T2JqZWN0Ll9zeW5jaGVyLl9zdWJVUkwsdHlwZToiY3JlYXRlIixib2R5OntyZXNvdXJjZTplLm1ldGFkYXRhLnBhcmVudCxhdHRyaWJ1dGU6cix2YWx1ZTp0fX07eS5sb2coIltEYXRhT2JqZWN0Q2hpbGQuc3RvcmVdOiIsbiksZS5fYnVzLnBvc3RNZXNzYWdlKG4pfX0se2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fcmVwb3J0ZXI9PT1lLl9vd25lciYmKGUuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9yZXBvcnRlcixmdW5jdGlvbih0KXsicmVzcG9uc2UiPT09dC50eXBlJiZ0LmlkPT09ZS5fbXNnSWQmJih5LmxvZygiRGF0YU9iamVjdENoaWxkLm9uUmVzcG9uc2U6Iix0KSxlLl9vblJlc3BvbnNlKHQpKX0pKX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXImJmUuX2xpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3JlbGVhc2VMaXN0ZW5lcnMoKX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24odCl7eS5sb2coIltEYXRhT2JqZWN0Q2hpbGQgLSBvYnNlcnZlcl0gLSAiLHQpLGUodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJzaGFyZWFibGUiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubWV0YWRhdGE7cmV0dXJuIGUuZGF0YT10aGlzLmRhdGEsZX19LHtrZXk6Im1ldGFkYXRhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGF9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6InNoYXJpbmdTdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFyaW5nU3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImlkZW50aXR5IixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faWRlbnRpdHk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXR5fX1dKSxEYXRhT2JqZWN0Q2hpbGR9KCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7KDAsby5kZWZhdWx0KSh0aGlzLEV2ZW50RW1pdHRlcil9cmV0dXJuKDAsYS5kZWZhdWx0KShFdmVudEVtaXR0ZXIsW3trZXk6ImFkZEV2ZW50TGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpc1tlXT10fX0se2tleToidHJpZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JbZV0mJnJbZV0odCl9fV0pLEV2ZW50RW1pdHRlcn0oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMzUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE1MCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig1MDEpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ2hhdENvbnRyb2xsZXIoZSx0LHIsbixvLGkpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxDaGF0Q29udHJvbGxlciksIWUpdGhyb3cgRXJyb3IoIlN5bmNoZXIgaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Iik7aWYoIXQpdGhyb3cgRXJyb3IoIkRpc2NvdmVyIGlzIGEgbmVjZXNzYXJ5IGRlcGVuZGVjeSIpO2lmKCFyKXRocm93IEVycm9yKCJEb21haW4gaXMgYSBuZWNlc3NhcnkgZGVwZW5kZWN5Iik7aWYoIW4pdGhyb3cgRXJyb3IoIlNlYXJjaCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3kiKTt2YXIgYT10aGlzO2EuX3N5bmNoZXI9ZSxhLmRpc2NvdmVyeT10LGEuc2VhcmNoPW4sYS5teUlkZW50aXR5PW8sYS5jb250cm9sbGVyTW9kZT0icmVwb3J0ZXIiLGEuY2hpbGRfY3NlcT0wLGEuZG9tYWluPXIsYS5fbWFuYWdlcj1pO3ZhciBzPWUub3duZXI7YS5fb2JqZWN0RGVzY1VSTD0iaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIityKyIvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db21tdW5pY2F0aW9uIixhLl9pbnZpdGF0aW9uc0hhbmRsZXI9bmV3IHkuZGVmYXVsdChzKX1yZXR1cm4oMCxsLmRlZmF1bHQpKENoYXRDb250cm9sbGVyLFt7a2V5OiJfc2V0T25BZGRDaGlsZExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2Uub25BZGRDaGlsZChmdW5jdGlvbihlKXt0LmNoaWxkX2NzZXErPTEsdC5fb25NZXNzYWdlJiZ0Ll9vbk1lc3NhZ2UoZSl9KX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyO2UuYWNjZXB0KCk7dmFyIHI9SlNPTi5wYXJzZSgoMCxhLmRlZmF1bHQpKGUuaWRlbnRpdHkpKTtyLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSYmZGVsZXRlIHIuYXNzZXJ0aW9uO3ZhciBuPXtoeXBlcnR5VVJMOmUudXJsLGRvbWFpbjplLmRvbWFpbixpZGVudGl0eTpyfSxvPWUuaWRlbnRpdHkudXNlclByb2ZpbGUuZ3VpZDtlLmlkZW50aXR5LmxlZ2FjeSYmKG4ubGVnYWN5PWUuaWRlbnRpdHkubGVnYWN5KSx0LmRhdGEucGFydGljaXBhbnRzW29dPW4sdGhpcy5fb25Vc2VyQWRkZWQmJnRoaXMuX29uVXNlckFkZGVkKG4pfX0se2tleToiX29uVW5zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGFPYmplY3RSZXBvcnRlcixyPWUuaWRlbnRpdHkudXNlclByb2ZpbGU7ZS5pZGVudGl0eS5sZWdhY3kmJihyLmxlZ2FjeT1lLmlkZW50aXR5LmxlZ2FjeSksZGVsZXRlIHQuZGF0YS5wYXJ0aWNpcGFudHNbci51c2VyVVJMXSx0aGlzLl9vblVzZXJSZW1vdmVkJiZ0aGlzLl9vblVzZXJSZW1vdmVkKHIpfX0se2tleToic2VuZEZpbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmNvbnRyb2xsZXJNb2RlLG49InJlcG9ydGVyIj09PXI/dC5kYXRhT2JqZWN0UmVwb3J0ZXI6dC5kYXRhT2JqZWN0T2JzZXJ2ZXI7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixvKXt2YXIgaT17dXNlclByb2ZpbGU6dC5teUlkZW50aXR5fTtuLmFkZEh5cGVydHlSZXNvdXJjZSgicmVzb3VyY2VzIiwiZmlsZSIsZSxpKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBvPXt1c2VyUHJvZmlsZTp0Lm15SWRlbnRpdHl9LGk9e3ZhbHVlOmUsaWRlbnRpdHk6byxyZXNvdXJjZTplfSxhPW5ldyBkLmRlZmF1bHQobi51cmwsdC5fbWFuYWdlci5fcnVudGltZVVSTCx0Ll9tYW5hZ2VyLl9oeXBlcnR5VVJMLHQuX21hbmFnZXIuX2J1cyk7IWZ1bmN0aW9uIHNoYXJlMlJlcG9ydGVyKGUsdCxuLG8pe3ZhciBpPW87ZS5zaGFyaW5nU3RhdHVzLnRoZW4ocihuKSkuY2F0Y2goZnVuY3Rpb24ocil7aS5vbkxpdmUodCxmdW5jdGlvbigpe2kudW5zdWJzY3JpYmVMaXZlKHQpLGUuc2hhcmUoITApLHNoYXJlMlJlcG9ydGVyKGUsdCxuLGkpfSl9KX0oZSx0Ll9tYW5hZ2VyLl9oeXBlcnR5VVJMLGksYSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JlamVjdChlKX0pfX0se2tleToic2VuZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5jb250cm9sbGVyTW9kZSxpPSJyZXBvcnRlciI9PT1uP3IuZGF0YU9iamVjdFJlcG9ydGVyOnIuZGF0YU9iamVjdE9ic2VydmVyO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5jaGlsZF9jc2VxKz0xO3ZhciBhPXt0eXBlOiJjaGF0Iixjb250ZW50OmV9LHM9dHx8e3VzZXJQcm9maWxlOnIubXlJZGVudGl0eX07aS5hZGRDaGlsZChhLHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9e2NoaWxkSWQ6ZS5fY2hpbGRJZCxmcm9tOmUuX293bmVyLHZhbHVlOmUuZGF0YSx0eXBlOiJjcmVhdGUiLGlkZW50aXR5OnN9LG89bmV3IGQuZGVmYXVsdChpLnVybCxyLl9tYW5hZ2VyLl9ydW50aW1lVVJMLHIuX21hbmFnZXIuX2h5cGVydHlVUkwsci5fbWFuYWdlci5fYnVzKTshZnVuY3Rpb24gc2hhcmUyUmVwb3J0ZXIoZSx0LHIsbyl7dmFyIGk9bztlLnNoYXJpbmdTdGF0dXMudGhlbihuKHIpKS5jYXRjaChmdW5jdGlvbihuKXtpLm9uTGl2ZSh0LGZ1bmN0aW9uKCl7aS51bnN1YnNjcmliZUxpdmUodCksZS5zaGFyZSghMCksc2hhcmUyUmVwb3J0ZXIoZSx0LHIsaSl9KX0pfShlLHIuX21hbmFnZXIuX2h5cGVydHlVUkwsdCxvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uQ2hhbmdlPWV9fSx7a2V5OiJvbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTWVzc2FnZT1lfX0se2tleToib25Vc2VyQWRkZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uVXNlckFkZGVkPWV9fSx7a2V5OiJvblVzZXJSZW1vdmVkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblVzZXJSZW1vdmVkPWV9fSx7a2V5OiJvbkNsb3NlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkNsb3NlPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlPWV9fSx7a2V5OiJhZGRVc2VyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmxlbmd0aH07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixpKXtpZigwPT09ZS5maWx0ZXIocikubGVuZ3RoKXJldHVybiBpKCJEb24ndCBoYXZlIHVzZXJzIHRvIGludml0ZSIpO3ZhciBhPVtdLHM9W10sdT17fTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNETyhlLnVzZXIsWyJjb21tIl0sWyJjaGF0Il0sZS5kb21haW4pO2EucHVzaChyKX0pLG8uZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgcj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJsaXZlIj09PWUuZGF0YS5zdGF0dXM/KHIucHVzaChlLmRhdGEuaHlwZXJ0eUlEKSx1W2UuZGF0YS5oeXBlcnR5SURdPWUpOnMubGVuZ3RoPDUmJnMucHVzaChlKX0pfSk7dmFyIG49InJlcG9ydGVyIj09PXQuY29udHJvbGxlck1vZGU/dC5kYXRhT2JqZWN0UmVwb3J0ZXI6dC5kYXRhT2JqZWN0T2JzZXJ2ZXI7cy5sZW5ndGg+MCYmdC5faW52aXRhdGlvbnNIYW5kbGVyLmludml0ZURpc2Nvbm5lY3RlZEh5cGVydGllcyhzLG4pLG4uaW52aXRlT2JzZXJ2ZXJzKHIpLG4uaW52aXRhdGlvbnMubGVuZ3RoPjAmJnQuX2ludml0YXRpb25zSGFuZGxlci5wcm9jZXNzSW52aXRhdGlvbnModSxuKX0pLnRoZW4oZnVuY3Rpb24oKXtuKCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfX0se2tleToiYWRkVXNlclJlcSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5sZW5ndGh9O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoMD09PWUuZmlsdGVyKHIpLmxlbmd0aClyZXR1cm4gbygiW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyLmFkZFVzZXJSZXFdIERvbid0IGhhdmUgdXNlcnMgdG8gYWRkIik7aWYoIm9ic2VydmVyIj09PSF0LmNvbnRyb2xsZXJNb2RlKXtyZXR1cm4gbygiW0NoYXRNYW5hZ2VyLkNoYXRDb250cm9sbGVyLmFkZFVzZXJSZXFdIG9ubHkgYWxsb3dlZCB0byBDaGF0IE9ic2VydmVyIil9fSl9fSx7a2V5OiJvbkludml0YXRpb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9vbkludml0YXRpb25SZXNwb25zZT1lLHQuX2ludml0YXRpb25zSGFuZGxlci5pbnZpdGF0aW9uUmVzcG9uc2U9ZX19LHtrZXk6InJlbW92ZVVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYoInJlcG9ydGVyIj09PXQuY29udHJvbGxlck1vZGUpdC5faW52aXRhdGlvbnNIYW5kbGVyLmNsZWFuSW52aXRhdGlvbnModC5kYXRhT2JqZWN0UmVwb3J0ZXIpLnRoZW4oZnVuY3Rpb24oKXtpZihlKXRyeXtkZWxldGUgdC5fbWFuYWdlci5fcmVwb3J0ZXJzQ29udHJvbGxlcnNbdC5kYXRhT2JqZWN0UmVwb3J0ZXIudXJsXSx0LmRhdGFPYmplY3RSZXBvcnRlci5kZWxldGUoKSxyKCEwKSx0Ll9vbkNsb3NlJiZ0Ll9vbkNsb3NlKHtjb2RlOjIwMCxkZXNjOiJkZWxldGVkIix1cmw6dC5kYXRhT2JqZWN0UmVwb3J0ZXIudXJsfSl9Y2F0Y2goZSl7bighMSl9ZWxzZSB0Ll9tYW5hZ2VyLmNvbW11bmljYXRpb25PYmplY3Quc3RhdHVzPSJjbG9zZWQiLHIoITApfSk7ZWxzZSBpZihlKXRyeXtkZWxldGUgdC5fbWFuYWdlci5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbdC5kYXRhT2JqZWN0T2JzZXJ2ZXIudXJsXSx0LmRhdGFPYmplY3RPYnNlcnZlci51bnN1YnNjcmliZSgpLHIoITApfWNhdGNoKGUpe24oITEpfWVsc2UgcighMCl9KX19LHtrZXk6Imludml0YXRpb25zSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludml0YXRpb25zSGFuZGxlcn19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInJlcG9ydGVyIj09PXRoaXMuY29udHJvbGxlck1vZGU/dGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXIudXJsOnRoaXMuZGF0YU9iamVjdE9ic2VydmVyLnVybH19LHtrZXk6ImRhdGFPYmplY3RSZXBvcnRlciIsc2V0OmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiW0NoYXRDb250cm9sbGVyXSBUaGUgZGF0YSBvYmplY3QgcmVwb3J0ZXIgaXMgbmVjZXNzYXJ5IHBhcmFtZXRlciAiKTt2YXIgdD10aGlzO3QuY29udHJvbGxlck1vZGU9InJlcG9ydGVyIixlLm9uU3Vic2NyaXB0aW9uKGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuc3Vic2NyaWJlKGUpfX0pLHQuX3NldE9uQWRkQ2hpbGRMaXN0ZW5lcihlKSxlLm9uUmVhZChmdW5jdGlvbihlKXtlLmFjY2VwdCgpfSksZS5vbkV4ZWN1dGUoZnVuY3Rpb24oZSl7c3dpdGNoKGUubWV0aG9kKXtjYXNlImFkZFVzZXIiOnQuYWRkVXNlcihlLnBhcmFtc1swXSkudGhlbihmdW5jdGlvbigpe2UuYWNjZXB0KCl9KS5jYXRjaChmdW5jdGlvbih0KXtlLnJlamVjdCh0KX0pO2JyZWFrO2Nhc2UicmVtb3ZlVXNlciI6dC5yZW1vdmVVc2VyKGUucGFyYW1zKS50aGVuKGZ1bmN0aW9uKCl7ZS5hY2NlcHQoKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2UucmVqZWN0KHQpfSk7YnJlYWs7ZGVmYXVsdDplLnJlamVjdCgiW0NoYXRDb250cm9sbGVyLm9uRXhlY3V0ZV0gQ2hhdCBtZXRob2QgZXhlY3V0aW9uIG5vdCBhY2NlcHRlZCBieSBSZXBvcnRlciIpfX0pLHQuX2RhdGFPYmplY3RSZXBvcnRlcj1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YU9iamVjdFJlcG9ydGVyfX0se2tleToibWVzc2FnZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiJyZXBvcnRlciI9PT10aGlzLmNvbnRyb2xsZXJNb2RlP3RoaXMuX2RhdGFPYmplY3RSZXBvcnRlci5fY2hpbGRyZW5PYmplY3RzOnRoaXMuX2RhdGFPYmplY3RPYnNlcnZlci5fY2hpbGRyZW5PYmplY3RzfX0se2tleToiZGF0YU9iamVjdE9ic2VydmVyIixzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvbnRyb2xsZXJNb2RlPSJvYnNlcnZlciIsdC5fZGF0YU9iamVjdE9ic2VydmVyPWUsZS5vbkNoYW5nZSgiKiIsZnVuY3Rpb24oZSl7aWYoZS5maWVsZC5pbmNsdWRlcygicGFydGljaXBhbnRzIikpc3dpdGNoKGUuY1R5cGUpe2Nhc2UiYWRkIjp0Ll9vblVzZXJBZGRlZCYmdC5fb25Vc2VyQWRkZWQoZSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnQuX29uVXNlclJlbW92ZWQmJnQuX29uVXNlclJlbW92ZWQoZSl9dC5fb25DaGFuZ2UmJnQuX29uQ2hhbmdlKGUpfSksdC5fc2V0T25BZGRDaGlsZExpc3RlbmVyKGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YU9iamVjdE9ic2VydmVyfX0se2tleToiZGF0YU9iamVjdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuInJlcG9ydGVyIj09PXRoaXMuY29udHJvbGxlck1vZGU/dGhpcy5kYXRhT2JqZWN0UmVwb3J0ZXI6dGhpcy5kYXRhT2JqZWN0T2JzZXJ2ZXJ9fSx7a2V5OiJjbG9zZUV2ZW50IixzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jbG9zZUV2ZW50PWUsdC5fb25DbG9zZSYmdC5fb25DbG9zZShlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3NlRXZlbnR9fV0pLENoYXRDb250cm9sbGVyfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9bC5nZXRMb2dnZXIoIkJ1cyIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCdXMoKXsoMCxhLmRlZmF1bHQpKHRoaXMsQnVzKTt2YXIgZT10aGlzO2UuX21zZ0lkPTAsZS5fc3Vic2NyaXB0aW9ucz17fSxlLl9yZXNwb25zZVRpbWVPdXQ9MTVlMyxlLl9yZXNwb25zZUNhbGxiYWNrcz17fSxlLl9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIoKX1yZXR1cm4oMCx1LmRlZmF1bHQpKEJ1cyxbe2tleToiYWRkTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPW5ldyBwKHIuX3N1YnNjcmlwdGlvbnMsZSx0KSxvPXIuX3N1YnNjcmlwdGlvbnNbZV07cmV0dXJuIG98fChvPVtdLHIuX3N1YnNjcmlwdGlvbnNbZV09byksby5wdXNoKG4pLG59fSx7a2V5OiJhZGRSZXNwb25zZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XT1yfX0se2tleToicmVtb3ZlUmVzcG9uc2VMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fcmVzcG9uc2VDYWxsYmFja3NbZSt0XX19LHtrZXk6InJlbW92ZUFsbExpc3RlbmVyc09mIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fc3Vic2NyaXB0aW9uc1tlXX19LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89dGhpcztyZXR1cm57dGhpc0xpc3RlbmVyOm8uYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtyLnBvc3RNZXNzYWdlKGUpfSksdGFyZ2V0TGlzdGVuZXI6ci5hZGRMaXN0ZW5lcih0LGZ1bmN0aW9uKGUpe28ucG9zdE1lc3NhZ2UoZSl9KSx1bmJpbmQ6ZnVuY3Rpb24oKXtuLnRoaXNMaXN0ZW5lci5yZW1vdmUoKSxuLnRhcmdldExpc3RlbmVyLnJlbW92ZSgpfX19fSx7a2V5OiJfcHVibGlzaE9uRGVmYXVsdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc3Vic2NyaXB0aW9uc1siKiJdO3QmJnRoaXMuX3B1Ymxpc2hPbih0LGUpfX0se2tleToiX3B1Ymxpc2hPbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fY2FsbGJhY2sodCl9KX19LHtrZXk6Il9yZXNwb25zZUNhbGxiYWNrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0sbj10aGlzO2lmKHQpe3ZhciBvPWUuZnJvbStlLmlkO24uX3Jlc3BvbnNlQ2FsbGJhY2tzW29dPXQsciYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PW4uX3Jlc3BvbnNlQ2FsbGJhY2tzW29dO2lmKGRlbGV0ZSBuLl9yZXNwb25zZUNhbGxiYWNrc1tvXSx0KXt0KHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjQwOCxkZXNjOiJSZXNwb25zZSB0aW1lb3V0ISIsdmFsdWU6ZX19KX19LG4uX3Jlc3BvbnNlVGltZU91dCl9fX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoInJlc3BvbnNlIj09PWUudHlwZSl7dmFyIHI9ZS50bytlLmlkLG49dC5fcmVzcG9uc2VDYWxsYmFja3Nbcl07aWYoZS5ib2R5LmNvZGU+PTIwMCYmZGVsZXRlIHQuX3Jlc3BvbnNlQ2FsbGJhY2tzW3JdLG4pcmV0dXJuIG4oZSksITB9cmV0dXJuITF9fSx7a2V5OiJfb25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCF0Ll9vblJlc3BvbnNlKGUpKXt2YXIgcj10Ll9zdWJzY3JpcHRpb25zW2UudG9dO3I/dC5fcHVibGlzaE9uKHIsZSk6dC5fcHVibGlzaE9uRGVmYXVsdChlKX19fSx7a2V5OiJfZ2VuSWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2UuaWQmJjAhPT1lLmlkfHwodGhpcy5fbXNnSWQrKyxlLmlkPXRoaXMuX21zZ0lkKX19LHtrZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe319LHtrZXk6InBvc3RNZXNzYWdlV2l0aFJldHJpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9MCxhPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxvKXtuLnBvc3RNZXNzYWdlKGUsZnVuY3Rpb24obil7NDA4PT09bi5ib2R5LmNvZGV8fDUwMD09PW4uYm9keS5jb2RlP28oKTooZi5pbmZvKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIG1zZyBkZWxpdmVyZWQ6ICIsZSkscihuKSx0KCkpfSl9KX07IWZ1bmN0aW9uIHRyeUFnYWluKCl7YSgpLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7aWYoZi53YXJuKCJbQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXNdIE1lc3NhZ2UgQm91bmNlZCAocmV0cnkgIitpKyIpOiAnIixlKSwhKGkrKzx0KSl7dmFyIHI9IltFcnJvcl0gTWVzc2FnZSBCb3VuY2VkIChkZWxpdmVyeSBhdHRlbXB0cyAiK3QrIik6ICciO3Rocm93IG5ldyBFcnJvcihyK2UpfXRyeUFnYWluKCl9KX0oKX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJfcmVnaXN0ZXJFeHRlcm5hbExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbigpe319XSksQnVzfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNc2dMaXN0ZW5lcihlLHQscil7KDAsYS5kZWZhdWx0KSh0aGlzLE1zZ0xpc3RlbmVyKTt2YXIgbj10aGlzO24uX3N1YnNjcmlwdGlvbnM9ZSxuLl91cmw9dCxuLl9jYWxsYmFjaz1yfXJldHVybigwLHUuZGVmYXVsdCkoTXNnTGlzdGVuZXIsW3trZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdO2lmKHQpe3ZhciByPXQuaW5kZXhPZihlKTt0LnNwbGljZShyLDEpLDA9PT10Lmxlbmd0aCYmZGVsZXRlIGUuX3N1YnNjcmlwdGlvbnNbZS5fdXJsXX19fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0pLE1zZ0xpc3RlbmVyfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE3KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDUwNSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gSHlwZXJ0eUluc3RhbmNlKGUsdCxyLG4saSxzLHUsYyxmLGQscCx5LGgsdixnKXsoMCxhLmRlZmF1bHQpKHRoaXMsSHlwZXJ0eUluc3RhbmNlKTt2YXIgYj0oMCxsLmRlZmF1bHQpKHRoaXMsKEh5cGVydHlJbnN0YW5jZS5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlKSkuY2FsbCh0aGlzLGUsdCxyLHAsdixnKSksXz1iO3JldHVybiBfLl9kZXNjcmlwdG9yPW4sXy5faHlwZXJ0eVVSTD1pLF8uX3VzZXI9cyxfLl9ndWlkPXUsXy5fcnVudGltZT1jLF8uX2NvbnRleHQ9ZixfLl9wMnBIYW5kbGVyPWQsXy5fZGF0YVNjaGVtZXM9eSxfLl9yZXNvdXJjZXM9aCxifXJldHVybigwLGQuZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlLGUpLCgwLHUuZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlLFt7a2V5OiJ1c2VyIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy51c2VyPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyfX0se2tleToiaHlwZXJ0eVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlVUkx9fSx7a2V5OiJkZXNjcmlwdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvcn19LHtrZXk6Im9iamVjdE5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yLl9vYmplY3ROYW1lfX0se2tleToicDJwSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycEhhbmRsZXJ9fSx7a2V5OiJkYXRhU2NoZW1lcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFTY2hlbWVzfX0se2tleToicmVzb3VyY2VzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzb3VyY2VzfX0se2tleToicnVudGltZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWV9fV0pLEh5cGVydHlJbnN0YW5jZX0oeS5kZWZhdWx0KTt0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LldhdGNoaW5nWW91PXZvaWQgMDt2YXIgbj1yKDUwOCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuV2F0Y2hpbmdZb3U9by5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDUxMCksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQ2KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig0KSx2PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaCksZz1yKDYpLGI9cigyMTMpLF89di5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIElkZW50aXRpZXMoZSx0KXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRlbnRpdGllcyk7dmFyIHI9dGhpcztyLl93YXRjaGluZ1lvdT1uZXcgYi5XYXRjaGluZ1lvdSxyLl9zdG9yYWdlTWFuYWdlcj10LHIuX2d1aWQsci5fdHlwZT1lLHIuX2lkZW50aXRpZXM9e30sci5fYWNjZXNzVG9rZW5zPXIud2F0Y2hpbmdZb3Uud2F0Y2goImFjY2Vzc1Rva2VucyIse30sITApfXJldHVybigwLHkuZGVmYXVsdCkoSWRlbnRpdGllcyxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faWRlbnRpdGllcz17fSx0aGlzLmN1cnJlbnRJZGVudGl0eT12b2lkIDAsdGhpcy5kZWZhdWx0SWRlbnRpdHk9dm9pZCAwfX0se2tleToiZ2V0SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLGwuZGVmYXVsdCkoe30sdGhpcy5faWRlbnRpdGllc1tlXSl9fSx7a2V5OiJsb2FkSWRlbnRpdGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2VNYW5hZ2VyLmdldChudWxsLG51bGwsImlkZW50aXRpZXMiKS50aGVuKGZ1bmN0aW9uKHIpe18uaW5mbygiW0lkZW50aXRpZXMuTG9hZCBJZGVudGl0aWVzXSBpZGVudGl0aWVzOiAiLHIpLHImJihlLl9pZGVudGl0aWVzPXIsZS5pZGVudGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPSgwLGcuc2Vjb25kc1NpbmNlRXBvY2gpKCksbj1lLl9pZGVudGl0aWVzW3RdLG89bi5leHBpcmVzO2UuZGVmYXVsdElkZW50aXR5PXQscGFyc2VJbnQobyk+ciYmKGUuZGVmYXVsdElkZW50aXR5LmV4cGlyZXM9cGFyc2VJbnQobyksZS5jdXJyZW50SWRlbnRpdHk9dCl9KSksdCgpfSl9KX19LHtrZXk6ImxvYWRBY2Nlc3NUb2tlbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih0KXtlLl9zdG9yYWdlTWFuYWdlci5nZXQoImFjY2Vzc1Rva2VucyIpLnRoZW4oZnVuY3Rpb24ocil7ciYmKGUuX2FjY2Vzc1Rva2Vucz1yKSx0KCl9KX0pfX0se2tleToiYWRkSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoci5faXNWYWxpZChlKSl7dmFyIGk9ZS5pZGVudGlmaWVyc1swXTsoMCxsLmRlZmF1bHQpKHQuX2lkZW50aXRpZXNbaV0sZSksdC5fc3RvcmVJZGVudGl0eShlKS50aGVuKGZ1bmN0aW9uKCl7dC5faWRlbnRpdGllc1tpXS5zdGF0dXM9ImNyZWF0ZWQiLG4oKX0pfWVsc2UgbygiW0lkZW50aXRpZXMuYWRkSWRlbnRpdHldIGludmFsaWQgSWRBc3NlcnRpb24iKX0pfX0se2tleToiYWRkQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKHIuX2lzVmFsaWQoZSkpe2UudXNlclByb2ZpbGUuZ3VpZD1yLl9ndWlkO3ZhciBpPWUudXNlclByb2ZpbGUudXNlclVSTDtyLmlkZW50aXRpZXNbaV0/ci5pZGVudGl0aWVzW2ldPWU6ci5faWRlbnRpdGllc1tpXT1lLHIuX3N0b3JlKCkudGhlbihmdW5jdGlvbigpe3QuX2lkZW50aXRpZXNbaV0uc3RhdHVzPSJjcmVhdGVkIiwwPT1yLmRlZmF1bHRJZGVudGl0eSYmKHIuZGVmYXVsdElkZW50aXR5PWkpLG4oZSl9KX1lbHNlIG8oIltJZGVudGl0aWVzLmFkZEFzc2VydGlvbl0gaW52YWxpZCBJZEFzc2VydGlvbjogIixlKX0pfX0se2tleToicmVtb3ZlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtkZWxldGUgdC5pZGVudGl0aWVzW2VdLHQuX3N0b3JlKCkudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJhZGRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXy5pbmZvKCJbSWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbl0gIixlKSxuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5faXNWYWxpZEFjY2Vzc1Rva2VuKGUpPyh0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dPWUsdC5fc3RvcmVBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5zdGF0dXM9ImNyZWF0ZWQiLHIoZSl9KSk6bigiW0lkZW50aXRpZXMuYWRkSWRlbnRpdHldIGludmFsaWQgQWNjZXNzVG9rZW46ICIsZSl9KX19LHtrZXk6InNldEFjY2Vzc1Rva2VuSW5Qcm9ncmVzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYWNjZXNzVG9rZW5zW2VdP3RoaXMuX2FjY2Vzc1Rva2Vuc1tlXS5zdGF0dXM9ImluLXByb2dyZXNzIjp0aGlzLl9hY2Nlc3NUb2tlbnNbZV09e3N0YXR1czoiaW4tcHJvZ3Jlc3MifX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2FjY2Vzc1Rva2Vuc1tlXTtyZXR1cm4gcj90LmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybi0xIT1yLnJlc291cmNlcy5pbmRleE9mKGUpfSk/dGhpcy5fYWNjZXNzVG9rZW5zW2VdOm5ldyBFcnJvcigiW0lkZW50aXRpZXMuZ2V0QWNjZXNzVG9rZW5dIE5vdCBmb3VuZCBmb3IgIixlKTp2b2lkIDB9fSx7a2V5OiJ1cGRhdGVBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocil7dmFyIG49ZS51c2VyUHJvZmlsZS51c2VyVVJMO2lmKCF0LmlkZW50aXRpZXNbbl0pcmV0dXJuIHJlamVjdCgiW0lkZW50aXRpZXMudXBkYXRlQXNzZXJ0aW9uXSBJZGVudGl0eSBub3QgZm91bmQgZm9yICIsbik7dC5pZGVudGl0aWVzW25dPWUsdC5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6InVwZGF0ZUFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLmluZm8oIltJZGVudGl0aWVzLnVwZGF0ZUFjY2Vzc1Rva2VuXSAiLGUpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9pc1ZhbGlkQWNjZXNzVG9rZW4oZSk/KHQuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl0uZXhwaXJlcz1lLmV4cGlyZXMsdC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5hY2Nlc3NUb2tlbj1lLmFjY2Vzc1Rva2VuLHQuX3N0b3JlQWNjZXNzVG9rZW5zKCkudGhlbihmdW5jdGlvbigpe3QuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl0uc3RhdHVzPSJjcmVhdGVkIixyKGUpfSkpOm4oIltJZGVudGl0aWVzLnVwZGF0ZUFjY2Vzc1Rva2VuXSBpbnZhbGlkIEFjY2Vzc1Rva2VuOiAiLGUpfSl9fSx7a2V5OiJhZGRJZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxpPW5ldyBSKHQscixuKTtvLmlkQXNzZXJ0aW9uTGlzdC5wdXNoKGkpfX0se2tleToiX2lzVmFsaWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSlyZXR1cm4hMTt2YXIgdD1lLmFzc2VydGlvbi5zcGxpdCgiLiIpO3RyeXt0WzFdPygwLGcuZGVjb2RlKSh0WzFdKTooMCxnLmRlY29kZSkoZS5hc3NlcnRpb24pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfX0se2tleToiX2lzVmFsaWRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLmhhc093blByb3BlcnR5KCJhY2Nlc3NUb2tlbiIpJiYoISFlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmKCEoIWUuaGFzT3duUHJvcGVydHkoInJlc291cmNlcyIpfHwhQXJyYXkuaXNBcnJheShlLnJlc291cmNlcykpJiYoISghZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpfHwhKDAsYS5kZWZhdWx0KShlLmV4cGlyZXMpKSYmISFlLmhhc093blByb3BlcnR5KCJpbnB1dCIpKSkpfX0se2tleToiX3N0b3JlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAsby5kZWZhdWx0KShlLl9pZGVudGl0aWVzKS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHQuX3N0b3JhZ2VNYW5hZ2VyLnNldChyLDAsZS5faWRlbnRpdGllc1tyXSwiaWRlbnRpdGllcyIpfSk7dS5kZWZhdWx0LmFsbChpKS50aGVuKGZ1bmN0aW9uKCl7cigpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2Qgc3RvcmVJZGVudGl0eSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJfc3RvcmVBY2Nlc3NUb2tlbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPSgwLGcuZGVlcENsb25lKShlLl9hY2Nlc3NUb2tlbnMpO2UuX3N0b3JhZ2VNYW5hZ2VyLnNldCgiYWNjZXNzVG9rZW5zIiwwLG4pLnRoZW4oZnVuY3Rpb24oKXt0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtyKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yZUlkZW50aXR5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6ImlkZW50aXRpZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVudGl0aWVzfX0se2tleToiYWNjZXNzVG9rZW5zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWNjZXNzVG9rZW5zfX0se2tleToid2F0Y2hpbmdZb3UiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93YXRjaGluZ1lvdX19LHtrZXk6Imd1aWQiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ndWlkPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlkfX0se2tleToiZGVmYXVsdElkZW50aXR5IixzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaWRlbnRpdGllc1tlXSl0aHJvdyBuZXcgRXJyb3IoIltJZGVudGl0aWVzLnNldCBkZWZhdWx0SWRlbnRpdHkgXSBFcnJvcjogaWRlbnRpdHkgZG9lcyBub3QgZXhpc3QgaGVyZTogIixlKTt0aGlzLl9kZWZhdWx0SWRlbnRpdHk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9kZWZhdWx0SWRlbnRpdHkmJigwLGwuZGVmYXVsdCkoe30sdGhpcy5pZGVudGl0aWVzW3RoaXMuX2RlZmF1bHRJZGVudGl0eV0pfX0se2tleToiY3VycmVudElkZW50aXR5IixzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaWRlbnRpdGllc1tlXSl0aHJvdyBlO3RoaXMuX2N1cnJlbnRJZGVudGl0eT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxsLmRlZmF1bHQpKHt9LHRoaXMuaWRlbnRpdGllc1t0aGlzLl9jdXJyZW50SWRlbnRpdHldKX19LHtrZXk6ImlkZW50aWZpZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxvLmRlZmF1bHQpKHRoaXMuX2lkZW50aXRpZXMpfX1dKSxJZGVudGl0aWVzfSgpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZEFzc2VydGlvbihlLHQscil7KDAsZC5kZWZhdWx0KSh0aGlzLElkQXNzZXJ0aW9uKTt2YXIgbj10aGlzO24uX2Fzc2VydGlvbj1lLG4uX2lkcD10LG4uX3VzZXJQcm9maWxlPXJ9cmV0dXJuKDAseS5kZWZhdWx0KShJZEFzc2VydGlvbixbe2tleToiYXNzZXJ0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzZXJ0aW9ufX0se2tleToiaWRwIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRwfX0se2tleToidXNlclByb2ZpbGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyUHJvZmlsZX19XSksSWRBc3NlcnRpb259KCk7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRWYWxpZGF0aW9uKGUsdCl7KDAsZC5kZWZhdWx0KSh0aGlzLElkVmFsaWRhdGlvbik7dmFyIHI9dGhpcztyLmlkZW50aXR5PWUsci5jb250ZW50cz10fSgwLHkuZGVmYXVsdCkoSWRWYWxpZGF0aW9uLFt7a2V5OiJ2YWxpZGF0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX1dKX0oKTt0LmRlZmF1bHQ9bSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBbGxvd092ZXJyaWRlcygpeygwLG8uZGVmYXVsdCkodGhpcyxBbGxvd092ZXJyaWRlcyl9cmV0dXJuKDAsYS5kZWZhdWx0KShBbGxvd092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoITApfHwtMT09PWUuaW5kZXhPZighMSkmJiJOb3QgQXBwbGljYWJsZSJ9fV0pLEFsbG93T3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIEJsb2NrT3ZlcnJpZGVzKCl7KDAsby5kZWZhdWx0KSh0aGlzLEJsb2NrT3ZlcnJpZGVzKX1yZXR1cm4oMCxhLmRlZmF1bHQpKEJsb2NrT3ZlcnJpZGVzLFt7a2V5OiJjb21iaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZighMSkmJigtMSE9PWUuaW5kZXhPZighMCl8fCJOb3QgQXBwbGljYWJsZSIpfX1dKSxCbG9ja092ZXJyaWRlc30oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGaXJzdEFwcGxpY2FibGUoKXsoMCxvLmRlZmF1bHQpKHRoaXMsRmlyc3RBcHBsaWNhYmxlKX1yZXR1cm4oMCxhLmRlZmF1bHQpKEZpcnN0QXBwbGljYWJsZSxbe2tleToiY29tYmluZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoIk5vdCBBcHBsaWNhYmxlIiE9PWVbdF0pcmV0dXJuIGVbdF07cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn19XSksRmlyc3RBcHBsaWNhYmxlfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gc3RvcmFnZShlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtyZXR1cm4oMCxvLmRlZmF1bHQpKGkucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXMpLmZvckVhY2goZnVuY3Rpb24ocil7YS5oYXNPd25Qcm9wZXJ0eShyKXx8KGFbcl09ZS5zdG9yYWdlTWFuYWdlcihyLGkucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXNbcl0sdCkpfSksYX1mdW5jdGlvbiBjcmVhdGVTeW5jREIoZSx0LHIsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBydW50aW1lIGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7dmFyIGE9b3x8aS5ydW50aW1lQ29uZmlndXJhdGlvbi5yZW1vdGVTdG9yYWdlO3JldHVybiB0LnN0b3JhZ2VNYW5hZ2VyKGUscixuLGEpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5zdG9yYWdlPXN0b3JhZ2UsdC5jcmVhdGVTeW5jREI9Y3JlYXRlU3luY0RCO3ZhciBpPXIoMTUxKSxhPXt9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTMyKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUzOSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDQpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKSxjPXUuZ2V0TG9nZ2VyKCJTeW5TdWJzY3JpcHRpb24iKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGUsdCxyLG4peygwLG8uZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBpPXRoaXMsYT1yKyIvY2hpbGRyZW4vIixzPXIrIi9jaGFuZ2VzIjtpLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHMsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTtlLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7Yy5sb2coIlN1YnNjcmlwdGlvbi1ERUxFVEUtUkVQTFk6ICIsZSksMjAwPT09ZS5ib2R5LmNvZGUmJmkuX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0pLGkuX2NoYW5nZUxpc3RlbmVyPW4/ZS5hZGRQdWJsaXNoKHMpOmUuYWRkRm9yd2FyZChzLHQpLGkuX2NoaWxkcmVuTGlzdGVuZXJzPVtdO3ZhciB1PWUuYWRkUHVibGlzaChhKTtpZihpLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKHUpLCFuKXt2YXIgbD1lLmFkZEZvcndhcmQoYSx0KTtpLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGwpfX1yZXR1cm4oMCxhLmRlZmF1bHQpKFN1YnNjcmlwdGlvbixbe2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9kZWxldGVMaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KX19XSksU3Vic2NyaXB0aW9ufSgpO3QuZGVmYXVsdD1sLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtyKDIyMyksZS5leHBvcnRzPXIoNDI1KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZGVmaW5lKGUscixuKXtlW3JdfHxPYmplY3RbdF0oZSxyLHt3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITAsdmFsdWU6bn0pfWlmKHIoMjI0KSxyKDQyMSkscig0MjIpLGUuX2JhYmVsUG9seWZpbGwpdGhyb3cgbmV3IEVycm9yKCJvbmx5IG9uZSBpbnN0YW5jZSBvZiBiYWJlbC1wb2x5ZmlsbCBpcyBhbGxvd2VkIik7ZS5fYmFiZWxQb2x5ZmlsbD0hMDt2YXIgdD0iZGVmaW5lUHJvcGVydHkiO2RlZmluZShTdHJpbmcucHJvdG90eXBlLCJwYWRMZWZ0IiwiIi5wYWRTdGFydCksZGVmaW5lKFN0cmluZy5wcm90b3R5cGUsInBhZFJpZ2h0IiwiIi5wYWRFbmQpLCJwb3AscmV2ZXJzZSxzaGlmdCxrZXlzLHZhbHVlcyxlbnRyaWVzLGluZGV4T2YsZXZlcnksc29tZSxmb3JFYWNoLG1hcCxmaWx0ZXIsZmluZCxmaW5kSW5kZXgsaW5jbHVkZXMsam9pbixzbGljZSxjb25jYXQscHVzaCxzcGxpY2UsdW5zaGlmdCxzb3J0LGxhc3RJbmRleE9mLHJlZHVjZSxyZWR1Y2VSaWdodCxjb3B5V2l0aGluLGZpbGwiLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbihlKXtbXVtlXSYmZGVmaW5lKEFycmF5LGUsRnVuY3Rpb24uY2FsbC5iaW5kKFtdW2VdKSl9KX0pLmNhbGwodCxyKDE1NCkpfSxmdW5jdGlvbihlLHQscil7cigyMjUpLHIoMjI3KSxyKDIyOCkscigyMjkpLHIoMjMwKSxyKDIzMSkscigyMzIpLHIoMjMzKSxyKDIzNCkscigyMzUpLHIoMjM2KSxyKDIzNykscigyMzgpLHIoMjM5KSxyKDI0MCkscigyNDEpLHIoMjQzKSxyKDI0NCkscigyNDUpLHIoMjQ2KSxyKDI0NykscigyNDgpLHIoMjQ5KSxyKDI1MCkscigyNTEpLHIoMjUyKSxyKDI1MykscigyNTQpLHIoMjU1KSxyKDI1NikscigyNTcpLHIoMjU4KSxyKDI1OSkscigyNjApLHIoMjYxKSxyKDI2MikscigyNjMpLHIoMjY0KSxyKDI2NSkscigyNjYpLHIoMjY3KSxyKDI2OCkscigyNjkpLHIoMjcwKSxyKDI3MSkscigyNzIpLHIoMjczKSxyKDI3NCkscigyNzUpLHIoMjc2KSxyKDI3NykscigyNzgpLHIoMjc5KSxyKDI4MCkscigyODEpLHIoMjgyKSxyKDI4MykscigyODQpLHIoMjg1KSxyKDI4NikscigyODcpLHIoMjg4KSxyKDI4OSkscigyOTApLHIoMjkxKSxyKDI5MikscigyOTMpLHIoMjk0KSxyKDI5NSkscigyOTYpLHIoMjk3KSxyKDI5OCkscigyOTkpLHIoMzAwKSxyKDMwMSkscigzMDIpLHIoMzAzKSxyKDMwNSkscigzMDYpLHIoMzA4KSxyKDMwOSkscigzMTApLHIoMzExKSxyKDMxMikscigzMTMpLHIoMzE0KSxyKDMxNikscigzMTcpLHIoMzE4KSxyKDMxOSkscigzMjApLHIoMzIxKSxyKDMyMikscigzMjMpLHIoMzI0KSxyKDMyNSkscigzMjYpLHIoMzI3KSxyKDMyOCkscigxMjcpLHIoMzI5KSxyKDMzMCkscigxNzMpLHIoMzMxKSxyKDMzMikscigzMzMpLHIoMzM0KSxyKDMzNSkscigxNzYpLHIoMTc4KSxyKDE3OSkscigzMzYpLHIoMzM3KSxyKDMzOCkscigzMzkpLHIoMzQwKSxyKDM0MSkscigzNDIpLHIoMzQzKSxyKDM0NCkscigzNDUpLHIoMzQ2KSxyKDM0NykscigzNDgpLHIoMzQ5KSxyKDM1MCkscigzNTEpLHIoMzUyKSxyKDM1MykscigzNTQpLHIoMzU1KSxyKDM1NikscigzNTcpLHIoMzU4KSxyKDM1OSkscigzNjApLHIoMzYxKSxyKDM2MikscigzNjMpLHIoMzY0KSxyKDM2NSkscigzNjYpLHIoMzY3KSxyKDM2OCkscigzNjkpLHIoMzcwKSxyKDM3MSkscigzNzIpLHIoMzczKSxyKDM3NCkscigzNzUpLHIoMzc2KSxyKDM3NykscigzNzgpLHIoMzc5KSxyKDM4MCkscigzODEpLHIoMzgyKSxyKDM4MykscigzODQpLHIoMzg1KSxyKDM4NikscigzODcpLHIoMzg4KSxyKDM4OSkscigzOTApLHIoMzkxKSxyKDM5MikscigzOTMpLHIoMzk0KSxyKDM5NSkscigzOTYpLHIoMzk3KSxyKDM5OCkscigzOTkpLHIoNDAwKSxyKDQwMSkscig0MDIpLHIoNDAzKSxyKDQwNCkscig0MDUpLHIoNDA2KSxyKDQwNykscig0MDgpLHIoNDA5KSxyKDQxMCkscig0MTEpLHIoNDEyKSxyKDQxMykscig0MTQpLHIoNDE1KSxyKDQxNikscig0MTcpLHIoNDE4KSxyKDQxOSkscig0MjApLGUuZXhwb3J0cz1yKDMxKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDcpLG89cigyNyksaT1yKDEyKSxhPXIoMCkscz1yKDI0KSx1PXIoNDcpLktFWSxjPXIoOCksbD1yKDgzKSxmPXIoNjQpLGQ9cig1MykscD1yKDEwKSx5PXIoMTU2KSxoPXIoMTA3KSx2PXIoMjI2KSxnPXIoODYpLGI9cig1KSxfPXIoOSksbT1yKDI4KSxSPXIoMzYpLE89cig1Miksdz1yKDU2KSxrPXIoMTU5KSxTPXIoMjkpLFA9cigxMyksRD1yKDU0KSxNPVMuZixMPVAuZixqPWsuZixVPW4uU3ltYm9sLEU9bi5KU09OLHg9RSYmRS5zdHJpbmdpZnksQT1wKCJfaGlkZGVuIiksST1wKCJ0b1ByaW1pdGl2ZSIpLEM9e30ucHJvcGVydHlJc0VudW1lcmFibGUsVD1sKCJzeW1ib2wtcmVnaXN0cnkiKSxxPWwoInN5bWJvbHMiKSxIPWwoIm9wLXN5bWJvbHMiKSxOPU9iamVjdC5wcm90b3R5cGUsRj0iZnVuY3Rpb24iPT10eXBlb2YgVSxCPW4uUU9iamVjdCxHPSFCfHwhQi5wcm90b3R5cGV8fCFCLnByb3RvdHlwZS5maW5kQ2hpbGQsSz1pJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXcoTCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBMKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NKE4sdCk7biYmZGVsZXRlIE5bdF0sTChlLHQsciksbiYmZSE9PU4mJkwoTix0LG4pfTpMLFY9ZnVuY3Rpb24oZSl7dmFyIHQ9cVtlXT13KFUucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LFc9RiYmInN5bWJvbCI9PXR5cGVvZiBVLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfSxZPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PU4mJlkoSCx0LHIpLGIoZSksdD1SKHQsITApLGIociksbyhxLHQpPyhyLmVudW1lcmFibGU/KG8oZSxBKSYmZVtBXVt0XSYmKGVbQV1bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOk8oMCwhMSl9KSk6KG8oZSxBKXx8TChlLEEsTygxLHt9KSksZVtBXVt0XT0hMCksSyhlLHQscikpOkwoZSx0LHIpfSxKPWZ1bmN0aW9uKGUsdCl7YihlKTtmb3IodmFyIHIsbj12KHQ9bSh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylZKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LHo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkoodyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1DLmNhbGwodGhpcyxlPVIoZSwhMCkpO3JldHVybiEodGhpcz09PU4mJm8ocSxlKSYmIW8oSCxlKSkmJighKHR8fCFvKHRoaXMsZSl8fCFvKHEsZSl8fG8odGhpcyxBKSYmdGhpc1tBXVtlXSl8fHQpfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1tKGUpLHQ9Uih0LCEwKSxlIT09Tnx8IW8ocSx0KXx8byhILHQpKXt2YXIgcj1NKGUsdCk7cmV0dXJuIXJ8fCFvKHEsdCl8fG8oZSxBKSYmZVtBXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9aihtKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKHEsdD1yW2krK10pfHx0PT1BfHx0PT11fHxuLnB1c2godCk7cmV0dXJuIG59LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PU4sbj1qKHI/SDptKGUpKSxpPVtdLGE9MDtuLmxlbmd0aD5hOykhbyhxLHQ9blthKytdKXx8ciYmIW8oTix0KXx8aS5wdXNoKHFbdF0pO3JldHVybiBpfTtGfHwoVT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBVKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PU4mJnQuY2FsbChILHIpLG8odGhpcyxBKSYmbyh0aGlzW0FdLGUpJiYodGhpc1tBXVtlXT0hMSksSyh0aGlzLGUsTygxLHIpKX07cmV0dXJuIGkmJkcmJksoTixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxWKGUpfSxzKFUucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLFMuZj0kLFAuZj1ZLHIoNTcpLmY9ay5mPVEscig3NCkuZj1YLHIoODUpLmY9WixpJiYhcig0OCkmJnMoTiwicHJvcGVydHlJc0VudW1lcmFibGUiLFgsITApLHkuZj1mdW5jdGlvbihlKXtyZXR1cm4gVihwKGUpKX0pLGEoYS5HK2EuVythLkYqIUYse1N5bWJvbDpVfSk7Zm9yKHZhciBlZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksdGU9MDtlZS5sZW5ndGg+dGU7KXAoZWVbdGUrK10pO2Zvcih2YXIgcmU9RChwLnN0b3JlKSxuZT0wO3JlLmxlbmd0aD5uZTspaChyZVtuZSsrXSk7YShhLlMrYS5GKiFGLCJTeW1ib2wiLHtmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oVCxlKz0iIik/VFtlXTpUW2VdPVUoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtpZighVyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKTtmb3IodmFyIHQgaW4gVClpZihUW3RdPT09ZSlyZXR1cm4gdH0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Rz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Rz0hMX19KSxhKGEuUythLkYqIUYsIk9iamVjdCIse2NyZWF0ZTp6LGRlZmluZVByb3BlcnR5OlksZGVmaW5lUHJvcGVydGllczpKLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjokLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Wn0pLEUmJmEoYS5TK2EuRiooIUZ8fGMoZnVuY3Rpb24oKXt2YXIgZT1VKCk7cmV0dXJuIltudWxsXSIhPXgoW2VdKXx8Int9IiE9eCh7YTplfSl8fCJ7fSIhPXgoT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPVtlXSxvPTE7YXJndW1lbnRzLmxlbmd0aD5vOyluLnB1c2goYXJndW1lbnRzW28rK10pO2lmKHI9dD1uWzFdLChfKHQpfHx2b2lkIDAhPT1lKSYmIVcoZSkpcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LHguYXBwbHkoRSxuKX19KSxVLnByb3RvdHlwZVtJXXx8cigyMykoVS5wcm90b3R5cGUsSSxVLnByb3RvdHlwZS52YWx1ZU9mKSxmKFUsIlN5bWJvbCIpLGYoTWF0aCwiTWF0aCIsITApLGYobi5KU09OLCJKU09OIiwhMCl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU0KSxvPXIoODUpLGk9cig3NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1vLmY7aWYocilmb3IodmFyIGEscz1yKGUpLHU9aS5mLGM9MDtzLmxlbmd0aD5jOyl1LmNhbGwoZSxhPXNbYysrXSkmJnQucHVzaChhKTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJPYmplY3QiLHtjcmVhdGU6cig1Nil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMrbi5GKiFyKDEyKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6cigxMykuZn0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUytuLkYqIXIoMTIpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0aWVzOnIoMTU4KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOCksbz1yKDI5KS5mO3IoMzkpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8obihlKSx0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTkpLG89cigzMCk7cigzOSkoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTkpLG89cig1NCk7cigzOSkoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7cigzOSkoImdldE93blByb3BlcnR5TmFtZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIHIoMTU5KS5mfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLG89cig0Nykub25GcmVlemU7cigzOSkoImZyZWV6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2Uobyh0KSk6dH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksbz1yKDQ3KS5vbkZyZWV6ZTtyKDM5KSgic2VhbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2Uobyh0KSk6dH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSksbz1yKDQ3KS5vbkZyZWV6ZTtyKDM5KSgicHJldmVudEV4dGVuc2lvbnMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKG8odCkpOnR9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpO3IoMzkpKCJpc0Zyb3plbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiFuKHQpfHwhIWUmJmUodCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpO3IoMzkpKCJpc1NlYWxlZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiFuKHQpfHwhIWUmJmUodCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpO3IoMzkpKCJpc0V4dGVuc2libGUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIW4odCkmJighZXx8ZSh0KSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TK24uRiwiT2JqZWN0Iix7YXNzaWduOnIoMTYwKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7aXM6cigyNDIpfSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPU9iamVjdC5pc3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09MS90OmUhPWUmJnQhPXR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cigxMTEpLnNldH0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNzUpLG89e307b1tyKDEwKSgidG9TdHJpbmdUYWciKV09InoiLG8rIiIhPSJbb2JqZWN0IHpdIiYmcigyNCkoT2JqZWN0LnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIituKHRoaXMpKyJdIn0sITApfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCwiRnVuY3Rpb24iLHtiaW5kOnIoMTYxKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMykuZixvPUZ1bmN0aW9uLnByb3RvdHlwZSxpPS9eXHMqZnVuY3Rpb24gKFteIChdKikvOyJuYW1lImluIG98fHIoMTIpJiZuKG8sIm5hbWUiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybigiIit0aGlzKS5tYXRjaChpKVsxXX1jYXRjaChlKXtyZXR1cm4iIn19fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig5KSxvPXIoMzApLGk9cigxMCkoImhhc0luc3RhbmNlIiksYT1GdW5jdGlvbi5wcm90b3R5cGU7aSBpbiBhfHxyKDEzKS5mKGEsaSx7dmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXN8fCFuKGUpKXJldHVybiExO2lmKCFuKHRoaXMucHJvdG90eXBlKSlyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM7Zm9yKDtlPW8oZSk7KWlmKHRoaXMucHJvdG90eXBlPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE2Myk7bihuLkcrbi5GKihwYXJzZUludCE9bykse3BhcnNlSW50Om99KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE2NCk7bihuLkcrbi5GKihwYXJzZUZsb2F0IT1vKSx7cGFyc2VGbG9hdDpvfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig3KSxvPXIoMjcpLGk9cigzMyksYT1yKDExMykscz1yKDM2KSx1PXIoOCksYz1yKDU3KS5mLGw9cigyOSkuZixmPXIoMTMpLmYsZD1yKDY1KS50cmltLHA9bi5OdW1iZXIseT1wLGg9cC5wcm90b3R5cGUsdj0iTnVtYmVyIj09aShyKDU2KShoKSksZz0idHJpbSJpbiBTdHJpbmcucHJvdG90eXBlLGI9ZnVuY3Rpb24oZSl7dmFyIHQ9cyhlLCExKTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQubGVuZ3RoPjIpe3Q9Zz90LnRyaW0oKTpkKHQsMyk7dmFyIHIsbixvLGk9dC5jaGFyQ29kZUF0KDApO2lmKDQzPT09aXx8NDU9PT1pKXtpZig4OD09PShyPXQuY2hhckNvZGVBdCgyKSl8fDEyMD09PXIpcmV0dXJuIE5hTn1lbHNlIGlmKDQ4PT09aSl7c3dpdGNoKHQuY2hhckNvZGVBdCgxKSl7Y2FzZSA2NjpjYXNlIDk4Om49MixvPTQ5O2JyZWFrO2Nhc2UgNzk6Y2FzZSAxMTE6bj04LG89NTU7YnJlYWs7ZGVmYXVsdDpyZXR1cm4rdH1mb3IodmFyIGEsdT10LnNsaWNlKDIpLGM9MCxsPXUubGVuZ3RoO2M8bDtjKyspaWYoKGE9dS5jaGFyQ29kZUF0KGMpKTw0OHx8YT5vKXJldHVybiBOYU47cmV0dXJuIHBhcnNlSW50KHUsbil9fXJldHVybit0fTtpZighcCgiIDBvMSIpfHwhcCgiMGIxIil8fHAoIisweDEiKSl7cD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPDE/MDplLHI9dGhpcztyZXR1cm4gciBpbnN0YW5jZW9mIHAmJih2P3UoZnVuY3Rpb24oKXtoLnZhbHVlT2YuY2FsbChyKX0pOiJOdW1iZXIiIT1pKHIpKT9hKG5ldyB5KGIodCkpLHIscCk6Yih0KX07Zm9yKHZhciBfLG09cigxMik/Yyh5KToiTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIscGFyc2VGbG9hdCxwYXJzZUludCxpc0ludGVnZXIiLnNwbGl0KCIsIiksUj0wO20ubGVuZ3RoPlI7UisrKW8oeSxfPW1bUl0pJiYhbyhwLF8pJiZmKHAsXyxsKHksXykpO3AucHJvdG90eXBlPWgsaC5jb25zdHJ1Y3Rvcj1wLHIoMjQpKG4sIk51bWJlciIscCl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDM4KSxpPXIoMTY1KSxhPXIoMTE0KSxzPTEuLnRvRml4ZWQsdT1NYXRoLmZsb29yLGM9WzAsMCwwLDAsMCwwXSxsPSJOdW1iZXIudG9GaXhlZDogaW5jb3JyZWN0IGludm9jYXRpb24hIixmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPS0xLG49dDsrK3I8Njspbis9ZSpjW3JdLGNbcl09biUxZTcsbj11KG4vMWU3KX0sZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9NixyPTA7LS10Pj0wOylyKz1jW3RdLGNbdF09dShyL2UpLHI9ciVlKjFlN30scD1mdW5jdGlvbigpe2Zvcih2YXIgZT02LHQ9IiI7LS1lPj0wOylpZigiIiE9PXR8fDA9PT1lfHwwIT09Y1tlXSl7dmFyIHI9U3RyaW5nKGNbZV0pO3Q9IiI9PT10P3I6dCthLmNhbGwoIjAiLDctci5sZW5ndGgpK3J9cmV0dXJuIHR9LHk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiAwPT09dD9yOnQlMj09MT95KGUsdC0xLHIqZSk6eShlKmUsdC8yLHIpfSxoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9ZTtyPj00MDk2Oyl0Kz0xMixyLz00MDk2O2Zvcig7cj49MjspdCs9MSxyLz0yO3JldHVybiB0fTtuKG4uUCtuLkYqKCEhcyYmKCIwLjAwMCIhPT04ZS01LnRvRml4ZWQoMyl8fCIxIiE9PS45LnRvRml4ZWQoMCl8fCIxLjI1IiE9PTEuMjU1LnRvRml4ZWQoMil8fCIxMDAwMDAwMDAwMDAwMDAwMTI4IiE9PSgweGRlMGI2YjNhNzY0MDA4MCkudG9GaXhlZCgwKSl8fCFyKDgpKGZ1bmN0aW9uKCl7cy5jYWxsKHt9KX0pKSwiTnVtYmVyIix7dG9GaXhlZDpmdW5jdGlvbihlKXt2YXIgdCxyLG4scyx1PWkodGhpcyxsKSxjPW8oZSksdj0iIixnPSIwIjtpZihjPDB8fGM+MjApdGhyb3cgUmFuZ2VFcnJvcihsKTtpZih1IT11KXJldHVybiJOYU4iO2lmKHU8PS0xZTIxfHx1Pj0xZTIxKXJldHVybiBTdHJpbmcodSk7aWYodTwwJiYodj0iLSIsdT0tdSksdT4xZS0yMSlpZih0PWgodSp5KDIsNjksMSkpLTY5LHI9dDwwP3UqeSgyLC10LDEpOnUveSgyLHQsMSkscio9NDUwMzU5OTYyNzM3MDQ5NiwodD01Mi10KT4wKXtmb3IoZigwLHIpLG49YztuPj03OylmKDFlNywwKSxuLT03O2ZvcihmKHkoMTAsbiwxKSwwKSxuPXQtMTtuPj0yMzspZCgxPDwyMyksbi09MjM7ZCgxPDxuKSxmKDEsMSksZCgyKSxnPXAoKX1lbHNlIGYoMCxyKSxmKDE8PC10LDApLGc9cCgpK2EuY2FsbCgiMCIsYyk7cmV0dXJuIGM+MD8ocz1nLmxlbmd0aCxnPXYrKHM8PWM/IjAuIithLmNhbGwoIjAiLGMtcykrZzpnLnNsaWNlKDAscy1jKSsiLiIrZy5zbGljZShzLWMpKSk6Zz12K2csZ319KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig4KSxpPXIoMTY1KSxhPTEuLnRvUHJlY2lzaW9uO24obi5QK24uRioobyhmdW5jdGlvbigpe3JldHVybiIxIiE9PWEuY2FsbCgxLHZvaWQgMCl9KXx8IW8oZnVuY3Rpb24oKXthLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b1ByZWNpc2lvbjpmdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsIk51bWJlciN0b1ByZWNpc2lvbjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIHZvaWQgMD09PWU/YS5jYWxsKHQpOmEuY2FsbCh0LGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7RVBTSUxPTjpNYXRoLnBvdygyLC01Mil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDcpLmlzRmluaXRlO24obi5TLCJOdW1iZXIiLHtpc0Zpbml0ZTpmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJm8oZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtpc0ludGVnZXI6cigxNjYpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtpc05hTjpmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE2NiksaT1NYXRoLmFicztuKG4uUywiTnVtYmVyIix7aXNTYWZlSW50ZWdlcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKSYmaShlKTw9OTAwNzE5OTI1NDc0MDk5MX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse01BWF9TQUZFX0lOVEVHRVI6OTAwNzE5OTI1NDc0MDk5MX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7TUlOX1NBRkVfSU5URUdFUjotOTAwNzE5OTI1NDc0MDk5MX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTY0KTtuKG4uUytuLkYqKE51bWJlci5wYXJzZUZsb2F0IT1vKSwiTnVtYmVyIix7cGFyc2VGbG9hdDpvfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNjMpO24obi5TK24uRiooTnVtYmVyLnBhcnNlSW50IT1vKSwiTnVtYmVyIix7cGFyc2VJbnQ6b30pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTY3KSxpPU1hdGguc3FydCxhPU1hdGguYWNvc2g7bihuLlMrbi5GKiEoYSYmNzEwPT1NYXRoLmZsb29yKGEoTnVtYmVyLk1BWF9WQUxVRSkpJiZhKDEvMCk9PTEvMCksIk1hdGgiLHthY29zaDpmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSk8MT9OYU46ZT45NDkwNjI2NS42MjQyNTE1Nj9NYXRoLmxvZyhlKStNYXRoLkxOMjpvKGUtMStpKGUtMSkqaShlKzEpKX19KX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGFzaW5oKGUpe3JldHVybiBpc0Zpbml0ZShlPStlKSYmMCE9ZT9lPDA/LWFzaW5oKC1lKTpNYXRoLmxvZyhlK01hdGguc3FydChlKmUrMSkpOmV9dmFyIG49cigwKSxvPU1hdGguYXNpbmg7bihuLlMrbi5GKiEobyYmMS9vKDApPjApLCJNYXRoIix7YXNpbmg6YXNpbmh9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLmF0YW5oO24obi5TK24uRiohKG8mJjEvbygtMCk8MCksIk1hdGgiLHthdGFuaDpmdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9K2UpP2U6TWF0aC5sb2coKDErZSkvKDEtZSkpLzJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMTUpO24obi5TLCJNYXRoIix7Y2JydDpmdW5jdGlvbihlKXtyZXR1cm4gbyhlPStlKSpNYXRoLnBvdyhNYXRoLmFicyhlKSwxLzMpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2NsejMyOmZ1bmN0aW9uKGUpe3JldHVybihlPj4+PTApPzMxLU1hdGguZmxvb3IoTWF0aC5sb2coZSsuNSkqTWF0aC5MT0cyRSk6MzJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89TWF0aC5leHA7bihuLlMsIk1hdGgiLHtjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihvKGU9K2UpK28oLWUpKS8yfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTE2KTtuKG4uUytuLkYqKG8hPU1hdGguZXhwbTEpLCJNYXRoIix7ZXhwbTE6b30pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2Zyb3VuZDpyKDE2OCl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLmFicztuKG4uUywiTWF0aCIse2h5cG90OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG4saT0wLGE9MCxzPWFyZ3VtZW50cy5sZW5ndGgsdT0wO2E8czspcj1vKGFyZ3VtZW50c1thKytdKSx1PHI/KG49dS9yLGk9aSpuKm4rMSx1PXIpOnI+MD8obj1yL3UsaSs9bipuKTppKz1yO3JldHVybiB1PT09MS8wPzEvMDp1Kk1hdGguc3FydChpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLmltdWw7bihuLlMrbi5GKnIoOCkoZnVuY3Rpb24oKXtyZXR1cm4tNSE9byg0Mjk0OTY3Mjk1LDUpfHwyIT1vLmxlbmd0aH0pLCJNYXRoIix7aW11bDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3Qsbz02NTUzNSZyLGk9NjU1MzUmbjtyZXR1cm4gMHxvKmkrKCg2NTUzNSZyPj4+MTYpKmkrbyooNjU1MzUmbj4+PjE2KTw8MTY+Pj4wKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtsb2cxMDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkqTWF0aC5MT0cxMEV9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMXA6cigxNjcpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMjpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5MTjJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2lnbjpyKDExNSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDExNiksaT1NYXRoLmV4cDtuKG4uUytuLkYqcig4KShmdW5jdGlvbigpe3JldHVybi0yZS0xNyE9IU1hdGguc2luaCgtMmUtMTcpfSksIk1hdGgiLHtzaW5oOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmFicyhlPStlKTwxPyhvKGUpLW8oLWUpKS8yOihpKGUtMSktaSgtZS0xKSkqKE1hdGguRS8yKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDExNiksaT1NYXRoLmV4cDtuKG4uUywiTWF0aCIse3Rhbmg6ZnVuY3Rpb24oZSl7dmFyIHQ9byhlPStlKSxyPW8oLWUpO3JldHVybiB0PT0xLzA/MTpyPT0xLzA/LTE6KHQtcikvKGkoZSkraSgtZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse3RydW5jOmZ1bmN0aW9uKGUpe3JldHVybihlPjA/TWF0aC5mbG9vcjpNYXRoLmNlaWwpKGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNTUpLGk9U3RyaW5nLmZyb21DaGFyQ29kZSxhPVN0cmluZy5mcm9tQ29kZVBvaW50O24obi5TK24uRiooISFhJiYxIT1hLmxlbmd0aCksIlN0cmluZyIse2Zyb21Db2RlUG9pbnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9W10sbj1hcmd1bWVudHMubGVuZ3RoLGE9MDtuPmE7KXtpZih0PSthcmd1bWVudHNbYSsrXSxvKHQsMTExNDExMSkhPT10KXRocm93IFJhbmdlRXJyb3IodCsiIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQiKTtyLnB1c2godDw2NTUzNj9pKHQpOmkoNTUyOTYrKCh0LT02NTUzNik+PjEwKSx0JTEwMjQrNTYzMjApKX1yZXR1cm4gci5qb2luKCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDI4KSxpPXIoMTQpO24obi5TLCJTdHJpbmciLHtyYXc6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW8oZS5yYXcpLHI9aSh0Lmxlbmd0aCksbj1hcmd1bWVudHMubGVuZ3RoLGE9W10scz0wO3I+czspYS5wdXNoKFN0cmluZyh0W3MrK10pKSxzPG4mJmEucHVzaChTdHJpbmcoYXJndW1lbnRzW3NdKSk7cmV0dXJuIGEuam9pbigiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cig2NSkoInRyaW0iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsMyl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMTcpKCEwKTtyKDExOCkoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMTcpKCExKTtuKG4uUCwiU3RyaW5nIix7Y29kZVBvaW50QXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNCksaT1yKDEyMCksYT0iIi5lbmRzV2l0aDtuKG4uUCtuLkYqcigxMjEpKCJlbmRzV2l0aCIpLCJTdHJpbmciLHtlbmRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsZSwiZW5kc1dpdGgiKSxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49byh0Lmxlbmd0aCkscz12b2lkIDA9PT1yP246TWF0aC5taW4obyhyKSxuKSx1PVN0cmluZyhlKTtyZXR1cm4gYT9hLmNhbGwodCx1LHMpOnQuc2xpY2Uocy11Lmxlbmd0aCxzKT09PXV9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTIwKTtuKG4uUCtuLkYqcigxMjEpKCJpbmNsdWRlcyIpLCJTdHJpbmciLHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5vKHRoaXMsZSwiaW5jbHVkZXMiKS5pbmRleE9mKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCwiU3RyaW5nIix7cmVwZWF0OnIoMTE0KX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE0KSxpPXIoMTIwKSxhPSIiLnN0YXJ0c1dpdGg7bihuLlArbi5GKnIoMTIxKSgic3RhcnRzV2l0aCIpLCJTdHJpbmciLHtzdGFydHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlLCJzdGFydHNXaXRoIikscj1vKE1hdGgubWluKGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHQubGVuZ3RoKSksbj1TdHJpbmcoZSk7cmV0dXJuIGE/YS5jYWxsKHQsbixyKTp0LnNsaWNlKHIscituLmxlbmd0aCk9PT1ufX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJhbmNob3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJhIiwibmFtZSIsdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImJpZyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywiYmlnIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImJsaW5rIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJibGluayIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJib2xkIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNSkoImZpeGVkIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJ0dCIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJmb250Y29sb3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJmb250IiwiY29sb3IiLHQpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJmb250c2l6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJzaXplIix0KX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgiaXRhbGljcyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywiaSIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJsaW5rIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiYSIsImhyZWYiLHQpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjUpKCJzbWFsbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic21hbGwiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgic3RyaWtlIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdHJpa2UiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgic3ViIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdWIiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDI1KSgic3VwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdXAiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIkRhdGUiLHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxOSksaT1yKDM2KTtuKG4uUCtuLkYqcig4KShmdW5jdGlvbigpe3JldHVybiBudWxsIT09bmV3IERhdGUoTmFOKS50b0pTT04oKXx8MSE9PURhdGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHt0b0lTT1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAxfX0pfSksIkRhdGUiLHt0b0pTT046ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxyPWkodCk7cmV0dXJuIm51bWJlciIhPXR5cGVvZiByfHxpc0Zpbml0ZShyKT90LnRvSVNPU3RyaW5nKCk6bnVsbH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDMwNCk7bihuLlArbi5GKihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyE9PW8pLCJEYXRlIix7dG9JU09TdHJpbmc6b30pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOCksbz1EYXRlLnByb3RvdHlwZS5nZXRUaW1lLGk9RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcsYT1mdW5jdGlvbihlKXtyZXR1cm4gZT45P2U6IjAiK2V9O2UuZXhwb3J0cz1uKGZ1bmN0aW9uKCl7cmV0dXJuIjAzODUtMDctMjVUMDc6MDY6MzkuOTk5WiIhPWkuY2FsbChuZXcgRGF0ZSgtNWUxMy0xKSl9KXx8IW4oZnVuY3Rpb24oKXtpLmNhbGwobmV3IERhdGUoTmFOKSl9KT9mdW5jdGlvbigpe2lmKCFpc0Zpbml0ZShvLmNhbGwodGhpcykpKXRocm93IFJhbmdlRXJyb3IoIkludmFsaWQgdGltZSB2YWx1ZSIpO3ZhciBlPXRoaXMsdD1lLmdldFVUQ0Z1bGxZZWFyKCkscj1lLmdldFVUQ01pbGxpc2Vjb25kcygpLG49dDwwPyItIjp0Pjk5OTk/IisiOiIiO3JldHVybiBuKygiMDAwMDAiK01hdGguYWJzKHQpKS5zbGljZShuPy02Oi00KSsiLSIrYShlLmdldFVUQ01vbnRoKCkrMSkrIi0iK2EoZS5nZXRVVENEYXRlKCkpKyJUIithKGUuZ2V0VVRDSG91cnMoKSkrIjoiK2EoZS5nZXRVVENNaW51dGVzKCkpKyI6IithKGUuZ2V0VVRDU2Vjb25kcygpKSsiLiIrKHI+OTk/cjoiMCIrYShyKSkrIloifTppfSxmdW5jdGlvbihlLHQscil7dmFyIG49RGF0ZS5wcm90b3R5cGUsbz1uLnRvU3RyaW5nLGk9bi5nZXRUaW1lO25ldyBEYXRlKE5hTikrIiIhPSJJbnZhbGlkIERhdGUiJiZyKDI0KShuLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXt2YXIgZT1pLmNhbGwodGhpcyk7cmV0dXJuIGU9PT1lP28uY2FsbCh0aGlzKToiSW52YWxpZCBEYXRlIn0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMCkoInRvUHJpbWl0aXZlIiksbz1EYXRlLnByb3RvdHlwZTtuIGluIG98fHIoMjMpKG8sbixyKDMwNykpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNSksbz1yKDM2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPT1lJiYibnVtYmVyIiE9PWUmJiJkZWZhdWx0IiE9PWUpdGhyb3cgVHlwZUVycm9yKCJJbmNvcnJlY3QgaGludCIpO3JldHVybiBvKG4odGhpcyksIm51bWJlciIhPWUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIkFycmF5Iix7aXNBcnJheTpyKDg2KX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzIpLG89cigwKSxpPXIoMTkpLGE9cigxNjkpLHM9cigxMjIpLHU9cigxNCksYz1yKDEyMyksbD1yKDEyNCk7byhvLlMrby5GKiFyKDg4KShmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSksIkFycmF5Iix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG8sZixkPWkoZSkscD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHk9YXJndW1lbnRzLmxlbmd0aCxoPXk+MT9hcmd1bWVudHNbMV06dm9pZCAwLHY9dm9pZCAwIT09aCxnPTAsYj1sKGQpO2lmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHxwPT1BcnJheSYmcyhiKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IoZj1iLmNhbGwoZCkscj1uZXcgcDshKG89Zi5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/YShmLGgsW28udmFsdWUsZ10sITApOm8udmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTIzKTtuKG4uUytuLkYqcig4KShmdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9cmV0dXJuIShBcnJheS5vZi5jYWxsKEYpaW5zdGFuY2VvZiBGKX0pLCJBcnJheSIse29mOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3KCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkpKHQpO3Q+ZTspbyhyLGUsYXJndW1lbnRzW2UrK10pO3JldHVybiByLmxlbmd0aD10LHJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMjgpLGk9W10uam9pbjtuKG4uUCtuLkYqKHIoNzMpIT1PYmplY3R8fCFyKDM0KShpKSksIkFycmF5Iix7am9pbjpmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG8odGhpcyksdm9pZCAwPT09ZT8iLCI6ZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTEwKSxpPXIoMzMpLGE9cig1NSkscz1yKDE0KSx1PVtdLnNsaWNlO24obi5QK24uRipyKDgpKGZ1bmN0aW9uKCl7byYmdS5jYWxsKG8pfSksIkFycmF5Iix7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKHRoaXMubGVuZ3RoKSxuPWkodGhpcyk7aWYodD12b2lkIDA9PT10P3I6dCwiQXJyYXkiPT1uKXJldHVybiB1LmNhbGwodGhpcyxlLHQpO2Zvcih2YXIgbz1hKGUsciksYz1hKHQsciksbD1zKGMtbyksZj1uZXcgQXJyYXkobCksZD0wO2Q8bDtkKyspZltkXT0iU3RyaW5nIj09bj90aGlzLmNoYXJBdChvK2QpOnRoaXNbbytkXTtyZXR1cm4gZn19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigyMCksaT1yKDE5KSxhPXIoOCkscz1bXS5zb3J0LHU9WzEsMiwzXTtuKG4uUCtuLkYqKGEoZnVuY3Rpb24oKXt1LnNvcnQodm9pZCAwKX0pfHwhYShmdW5jdGlvbigpe3Uuc29ydChudWxsKX0pfHwhcigzNCkocykpLCJBcnJheSIse3NvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/cy5jYWxsKGkodGhpcykpOnMuY2FsbChpKHRoaXMpLG8oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSgwKSxpPXIoMzQpKFtdLmZvckVhY2gsITApO24obi5QK24uRiohaSwiQXJyYXkiLHtmb3JFYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoODYpLGk9cigxMCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG8oZSkmJih0PWUuY29uc3RydWN0b3IsImZ1bmN0aW9uIiE9dHlwZW9mIHR8fHQhPT1BcnJheSYmIW8odC5wcm90b3R5cGUpfHwodD12b2lkIDApLG4odCkmJm51bGw9PT0odD10W2ldKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9BcnJheTp0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig0MCkoMSk7bihuLlArbi5GKiFyKDM0KShbXS5tYXAsITApLCJBcnJheSIse21hcDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig0MCkoMik7bihuLlArbi5GKiFyKDM0KShbXS5maWx0ZXIsITApLCJBcnJheSIse2ZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig0MCkoMyk7bihuLlArbi5GKiFyKDM0KShbXS5zb21lLCEwKSwiQXJyYXkiLHtzb21lOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSg0KTtuKG4uUCtuLkYqIXIoMzQpKFtdLmV2ZXJ5LCEwKSwiQXJyYXkiLHtldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNzApO24obi5QK24uRiohcigzNCkoW10ucmVkdWNlLCEwKSwiQXJyYXkiLHtyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCExKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNzApO24obi5QK24uRiohcigzNCkoW10ucmVkdWNlUmlnaHQsITApLCJBcnJheSIse3JlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50c1sxXSwhMCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoODQpKCExKSxpPVtdLmluZGV4T2YsYT0hIWkmJjEvWzFdLmluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKGF8fCFyKDM0KShpKSksIkFycmF5Iix7aW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gYT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDpvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDI4KSxpPXIoMzgpLGE9cigxNCkscz1bXS5sYXN0SW5kZXhPZix1PSEhcyYmMS9bMV0ubGFzdEluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHV8fCFyKDM0KShzKSksIkFycmF5Iix7bGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSl7aWYodSlyZXR1cm4gcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIHQ9byh0aGlzKSxyPWEodC5sZW5ndGgpLG49ci0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU1hdGgubWluKG4saShhcmd1bWVudHNbMV0pKSksbjwwJiYobj1yK24pO24+PTA7bi0tKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG58fDA7cmV0dXJuLTF9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJBcnJheSIse2NvcHlXaXRoaW46cigxNzEpfSkscig0OSkoImNvcHlXaXRoaW4iKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7ZmlsbDpyKDEyNil9KSxyKDQ5KSgiZmlsbCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQwKSg1KSxpPSEwOyJmaW5kImluW10mJkFycmF5KDEpLmZpbmQoZnVuY3Rpb24oKXtpPSExfSksbihuLlArbi5GKmksIkFycmF5Iix7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDkpKCJmaW5kIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNDApKDYpLGk9ImZpbmRJbmRleCIsYT0hMDtpIGluW10mJkFycmF5KDEpW2ldKGZ1bmN0aW9uKCl7YT0hMX0pLG4obi5QK24uRiphLCJBcnJheSIse2ZpbmRJbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDkpKGkpfSxmdW5jdGlvbihlLHQscil7cig1OCkoIkFycmF5Iil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcpLG89cigxMTMpLGk9cigxMykuZixhPXIoNTcpLmYscz1yKDg3KSx1PXIoODkpLGM9bi5SZWdFeHAsbD1jLGY9Yy5wcm90b3R5cGUsZD0vYS9nLHA9L2EvZyx5PW5ldyBjKGQpIT09ZDtpZihyKDEyKSYmKCF5fHxyKDgpKGZ1bmN0aW9uKCl7cmV0dXJuIHBbcigxMCkoIm1hdGNoIildPSExLGMoZCkhPWR8fGMocCk9PXB8fCIvYS9pIiE9YyhkLCJpIil9KSkpe2M9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzIGluc3RhbmNlb2YgYyxuPXMoZSksaT12b2lkIDA9PT10O3JldHVybiFyJiZuJiZlLmNvbnN0cnVjdG9yPT09YyYmaT9lOm8oeT9uZXcgbChuJiYhaT9lLnNvdXJjZTplLHQpOmwoKG49ZSBpbnN0YW5jZW9mIGMpP2Uuc291cmNlOmUsbiYmaT91LmNhbGwoZSk6dCkscj90aGlzOmYsYyl9O2Zvcih2YXIgaD1hKGwpLHY9MDtoLmxlbmd0aD52OykhZnVuY3Rpb24oZSl7ZSBpbiBjfHxpKGMsZSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW2VdfSxzZXQ6ZnVuY3Rpb24odCl7bFtlXT10fX0pfShoW3YrK10pO2YuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZT1mLHIoMjQpKG4sIlJlZ0V4cCIsYyl9cig1OCkoIlJlZ0V4cCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTczKTt2YXIgbj1yKDUpLG89cig4OSksaT1yKDEyKSxhPS8uLy50b1N0cmluZyxzPWZ1bmN0aW9uKGUpe3IoMjQpKFJlZ0V4cC5wcm90b3R5cGUsInRvU3RyaW5nIixlLCEwKX07cig4KShmdW5jdGlvbigpe3JldHVybiIvYS9iIiE9YS5jYWxsKHtzb3VyY2U6ImEiLGZsYWdzOiJiIn0pfSk/cyhmdW5jdGlvbigpe3ZhciBlPW4odGhpcyk7cmV0dXJuIi8iLmNvbmNhdChlLnNvdXJjZSwiLyIsImZsYWdzImluIGU/ZS5mbGFnczohaSYmZSBpbnN0YW5jZW9mIFJlZ0V4cD9vLmNhbGwoZSk6dm9pZCAwKX0pOiJ0b1N0cmluZyIhPWEubmFtZSYmcyhmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyl9KX0sZnVuY3Rpb24oZSx0LHIpe3IoOTApKCJtYXRjaCIsMSxmdW5jdGlvbihlLHQscil7cmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLG89dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1vP28uY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sZnVuY3Rpb24oZSx0LHIpe3IoOTApKCJyZXBsYWNlIiwyLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5bZnVuY3Rpb24obixvKXsidXNlIHN0cmljdCI7dmFyIGk9ZSh0aGlzKSxhPXZvaWQgMD09bj92b2lkIDA6blt0XTtyZXR1cm4gdm9pZCAwIT09YT9hLmNhbGwobixpLG8pOnIuY2FsbChTdHJpbmcoaSksbixvKX0scl19KX0sZnVuY3Rpb24oZSx0LHIpe3IoOTApKCJzZWFyY2giLDEsZnVuY3Rpb24oZSx0LHIpe3JldHVybltmdW5jdGlvbihyKXsidXNlIHN0cmljdCI7dmFyIG49ZSh0aGlzKSxvPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09bz9vLmNhbGwocixuKTpuZXcgUmVnRXhwKHIpW3RdKFN0cmluZyhuKSl9LHJdfSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDkwKSgic3BsaXQiLDIsZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbz1yKDg3KSxpPW4sYT1bXS5wdXNoLHM9Imxlbmd0aCI7aWYoImMiPT0iYWJiYyIuc3BsaXQoLyhiKSovKVsxXXx8NCE9InRlc3QiLnNwbGl0KC8oPzopLywtMSlbc118fDIhPSJhYiIuc3BsaXQoLyg/OmFiKSovKVtzXXx8NCE9Ii4iLnNwbGl0KC8oLj8pKC4/KS8pW3NdfHwiLiIuc3BsaXQoLygpKCkvKVtzXT4xfHwiIi5zcGxpdCgvLj8vKVtzXSl7dmFyIHU9dm9pZCAwPT09LygpPz8vLmV4ZWMoIiIpWzFdO249ZnVuY3Rpb24oZSx0KXt2YXIgcj1TdHJpbmcodGhpcyk7aWYodm9pZCAwPT09ZSYmMD09PXQpcmV0dXJuW107aWYoIW8oZSkpcmV0dXJuIGkuY2FsbChyLGUsdCk7dmFyIG4sYyxsLGYsZCxwPVtdLHk9KGUuaWdub3JlQ2FzZT8iaSI6IiIpKyhlLm11bHRpbGluZT8ibSI6IiIpKyhlLnVuaWNvZGU/InUiOiIiKSsoZS5zdGlja3k/InkiOiIiKSxoPTAsdj12b2lkIDA9PT10PzQyOTQ5NjcyOTU6dD4+PjAsZz1uZXcgUmVnRXhwKGUuc291cmNlLHkrImciKTtmb3IodXx8KG49bmV3IFJlZ0V4cCgiXiIrZy5zb3VyY2UrIiQoPyFcXHMpIix5KSk7KGM9Zy5leGVjKHIpKSYmISgobD1jLmluZGV4K2NbMF1bc10pPmgmJihwLnB1c2goci5zbGljZShoLGMuaW5kZXgpKSwhdSYmY1tzXT4xJiZjWzBdLnJlcGxhY2UobixmdW5jdGlvbigpe2ZvcihkPTE7ZDxhcmd1bWVudHNbc10tMjtkKyspdm9pZCAwPT09YXJndW1lbnRzW2RdJiYoY1tkXT12b2lkIDApfSksY1tzXT4xJiZjLmluZGV4PHJbc10mJmEuYXBwbHkocCxjLnNsaWNlKDEpKSxmPWNbMF1bc10saD1sLHBbc10+PXYpKTspZy5sYXN0SW5kZXg9PT1jLmluZGV4JiZnLmxhc3RJbmRleCsrO3JldHVybiBoPT09cltzXT8hZiYmZy50ZXN0KCIiKXx8cC5wdXNoKCIiKTpwLnB1c2goci5zbGljZShoKSkscFtzXT52P3Auc2xpY2UoMCx2KTpwfX1lbHNlIjAiLnNwbGl0KHZvaWQgMCwwKVtzXSYmKG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmMD09PXQ/W106aS5jYWxsKHRoaXMsZSx0KX0pO3JldHVybltmdW5jdGlvbihyLG8pe3ZhciBpPWUodGhpcyksYT12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PWE/YS5jYWxsKHIsaSxvKTpuLmNhbGwoU3RyaW5nKGkpLHIsbyl9LG5dfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGEscz1yKDQ4KSx1PXIoNyksYz1yKDMyKSxsPXIoNzUpLGY9cigwKSxkPXIoOSkscD1yKDIwKSx5PXIoNTkpLGg9cig2MCksdj1yKDkxKSxnPXIoMTI4KS5zZXQsYj1yKDEyOSkoKSxfPXIoMTMwKSxtPXIoMTc0KSxSPXIoOTIpLE89cigxNzUpLHc9dS5UeXBlRXJyb3Isaz11LnByb2Nlc3MsUz1rJiZrLnZlcnNpb25zLFA9UyYmUy52OHx8IiIsRD11LlByb21pc2UsTT0icHJvY2VzcyI9PWwoayksTD1mdW5jdGlvbigpe30saj1vPV8uZixVPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9RC5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoMTApKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoTCxMKX07cmV0dXJuKE18fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oTClpbnN0YW5jZW9mIHQmJjAhPT1QLmluZGV4T2YoIjYuNiIpJiYtMT09PVIuaW5kZXhPZigiQ2hyb21lLzY2Iil9Y2F0Y2goZSl7fX0oKSxFPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSx4PWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MDtyLmxlbmd0aD5pOykhZnVuY3Rpb24odCl7dmFyIHIsaSxhLHM9bz90Lm9rOnQuZmFpbCx1PXQucmVzb2x2ZSxjPXQucmVqZWN0LGw9dC5kb21haW47dHJ5e3M/KG98fCgyPT1lLl9oJiZDKGUpLGUuX2g9MSksITA9PT1zP3I9bjoobCYmbC5lbnRlcigpLHI9cyhuKSxsJiYobC5leGl0KCksYT0hMCkpLHI9PT10LnByb21pc2U/Yyh3KCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPUUocikpP2kuY2FsbChyLHUsYyk6dShyKSk6YyhuKX1jYXRjaChlKXtsJiYhYSYmbC5leGl0KCksYyhlKX19KHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZBKGUpfSl9fSxBPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdixpPUkoZSk7aWYoaSYmKHQ9bShmdW5jdGlvbigpe00/ay5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9dS5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49dS5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9TXx8SShlKT8yOjEpLGUuX2E9dm9pZCAwLGkmJnQuZSl0aHJvdyB0LnZ9KX0sST1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxDPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7TT9rLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sVD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSkseCh0LCEwKSl9LHE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgdygiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1FKGUpKT9iKGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxjKHEsbiwxKSxjKFQsbiwxKSl9Y2F0Y2goZSl7VC5jYWxsKG4sZSl9fSk6KHIuX3Y9ZSxyLl9zPTEseChyLCExKSl9Y2F0Y2goZSl7VC5jYWxsKHtfdzpyLF9kOiExfSxlKX19fTtVfHwoRD1mdW5jdGlvbihlKXt5KHRoaXMsRCwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhxLHRoaXMsMSksYyhULHRoaXMsMSkpfWNhdGNoKGUpe1QuY2FsbCh0aGlzLGUpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1yKDYxKShELnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPWoodih0aGlzLEQpKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49TT9rLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZ4KHRoaXMsITEpLHIucHJvbWlzZX0sY2F0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksaT1mdW5jdGlvbigpe3ZhciBlPW5ldyBuO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1jKHEsZSwxKSx0aGlzLnJlamVjdD1jKFQsZSwxKX0sXy5mPWo9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1EfHxlPT09YT9uZXcgaShlKTpvKGUpfSksZihmLkcrZi5XK2YuRiohVSx7UHJvbWlzZTpEfSkscig2NCkoRCwiUHJvbWlzZSIpLHIoNTgpKCJQcm9taXNlIiksYT1yKDMxKS5Qcm9taXNlLGYoZi5TK2YuRiohVSwiUHJvbWlzZSIse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1qKHRoaXMpO3JldHVybigwLHQucmVqZWN0KShlKSx0LnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhVSksIlByb21pc2UiLHtyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBPKHMmJnRoaXM9PT1hP0Q6dGhpcyxlKX19KSxmKGYuUytmLkYqIShVJiZyKDg4KShmdW5jdGlvbihlKXtELmFsbChlKS5jYXRjaChMKX0pKSwiUHJvbWlzZSIse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9aih0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9bShmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxhPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBzPWkrKyx1PSExO3IucHVzaCh2b2lkIDApLGErKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW3NdPWUsLS1hfHxuKHIpKX0sbyl9KSwtLWF8fG4ocil9KTtyZXR1cm4gaS5lJiZvKGkudiksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1qKHQpLG49ci5yZWplY3Qsbz1tKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8uZSYmbihvLnYpLHIucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE4MCksbz1yKDY3KTtyKDkzKSgiV2Vha1NldCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZihvKHRoaXMsIldlYWtTZXQiKSxlLCEwKX19LG4sITEsITApfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDk0KSxpPXIoMTMxKSxhPXIoNSkscz1yKDU1KSx1PXIoMTQpLGM9cig5KSxsPXIoNykuQXJyYXlCdWZmZXIsZj1yKDkxKSxkPWkuQXJyYXlCdWZmZXIscD1pLkRhdGFWaWV3LHk9by5BQlYmJmwuaXNWaWV3LGg9ZC5wcm90b3R5cGUuc2xpY2Usdj1vLlZJRVc7bihuLkcrbi5XK24uRioobCE9PWQpLHtBcnJheUJ1ZmZlcjpkfSksbihuLlMrbi5GKiFvLkNPTlNUUiwiQXJyYXlCdWZmZXIiLHtpc1ZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuIHkmJnkoZSl8fGMoZSkmJnYgaW4gZX19KSxuKG4uUCtuLlUrbi5GKnIoOCkoZnVuY3Rpb24oKXtyZXR1cm4hbmV3IGQoMikuc2xpY2UoMSx2b2lkIDApLmJ5dGVMZW5ndGh9KSwiQXJyYXlCdWZmZXIiLHtzbGljZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWgmJnZvaWQgMD09PXQpcmV0dXJuIGguY2FsbChhKHRoaXMpLGUpO2Zvcih2YXIgcj1hKHRoaXMpLmJ5dGVMZW5ndGgsbj1zKGUsciksbz1zKHZvaWQgMD09PXQ/cjp0LHIpLGk9bmV3KGYodGhpcyxkKSkodShvLW4pKSxjPW5ldyBwKHRoaXMpLGw9bmV3IHAoaSkseT0wO248bzspbC5zZXRVaW50OCh5KyssYy5nZXRVaW50OChuKyspKTtyZXR1cm4gaX19KSxyKDU4KSgiQXJyYXlCdWZmZXIiKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLkcrbi5XK24uRiohcig5NCkuQUJWLHtEYXRhVmlldzpyKDEzMSkuRGF0YVZpZXd9KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJJbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyKSgiVWludDgiLDEsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJVaW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0sITApfSxmdW5jdGlvbihlLHQscil7cig0MikoIkludDE2IiwyLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyKSgiVWludDE2IiwyLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyKSgiSW50MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJVaW50MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIpKCJGbG9hdDMyIiw0LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDQyKSgiRmxvYXQ2NCIsOCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjApLGk9cig1KSxhPShyKDcpLlJlZmxlY3R8fHt9KS5hcHBseSxzPUZ1bmN0aW9uLmFwcGx5O24obi5TK24uRiohcig4KShmdW5jdGlvbigpe2EoZnVuY3Rpb24oKXt9KX0pLCJSZWZsZWN0Iix7YXBwbHk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW8oZSksdT1pKHIpO3JldHVybiBhP2Eobix0LHUpOnMuY2FsbChuLHQsdSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cig1NiksaT1yKDIwKSxhPXIoNSkscz1yKDkpLHU9cig4KSxjPXIoMTYxKSxsPShyKDcpLlJlZmxlY3R8fHt9KS5jb25zdHJ1Y3QsZj11KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKGwoZnVuY3Rpb24oKXt9LFtdLEYpaW5zdGFuY2VvZiBGKX0pLGQ9IXUoZnVuY3Rpb24oKXtsKGZ1bmN0aW9uKCl7fSl9KTtuKG4uUytuLkYqKGZ8fGQpLCJSZWZsZWN0Iix7Y29uc3RydWN0OmZ1bmN0aW9uKGUsdCl7aShlKSxhKHQpO3ZhciByPWFyZ3VtZW50cy5sZW5ndGg8Mz9lOmkoYXJndW1lbnRzWzJdKTtpZihkJiYhZilyZXR1cm4gbChlLHQscik7aWYoZT09cil7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodFswXSk7Y2FzZSAyOnJldHVybiBuZXcgZSh0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IGUodFswXSx0WzFdLHRbMl0sdFszXSl9dmFyIG49W251bGxdO3JldHVybiBuLnB1c2guYXBwbHkobix0KSxuZXcoYy5hcHBseShlLG4pKX12YXIgdT1yLnByb3RvdHlwZSxwPW8ocyh1KT91Ok9iamVjdC5wcm90b3R5cGUpLHk9RnVuY3Rpb24uYXBwbHkuY2FsbChlLHAsdCk7cmV0dXJuIHMoeSk/eTpwfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMyksbz1yKDApLGk9cig1KSxhPXIoMzYpO28oby5TK28uRipyKDgpKGZ1bmN0aW9uKCl7UmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShuLmYoe30sMSx7dmFsdWU6MX0pLDEse3ZhbHVlOjJ9KX0pLCJSZWZsZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2koZSksdD1hKHQsITApLGkocik7dHJ5e3JldHVybiBuLmYoZSx0LHIpLCEwfWNhdGNoKGUpe3JldHVybiExfX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDI5KS5mLGk9cig1KTtuKG4uUywiUmVmbGVjdCIse2RlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9byhpKGUpLHQpO3JldHVybiEociYmIXIuY29uZmlndXJhYmxlKSYmZGVsZXRlIGVbdF19fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNSksaT1mdW5jdGlvbihlKXt0aGlzLl90PW8oZSksdGhpcy5faT0wO3ZhciB0LHI9dGhpcy5faz1bXTtmb3IodCBpbiBlKXIucHVzaCh0KX07cigxMTkpKGksIk9iamVjdCIsZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMscj10Ll9rO2Rve2lmKHQuX2k+PXIubGVuZ3RoKXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19d2hpbGUoISgoZT1yW3QuX2krK10paW4gdC5fdCkpO3JldHVybnt2YWx1ZTplLGRvbmU6ITF9fSksbihuLlMsIlJlZmxlY3QiLHtlbnVtZXJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKGUpfX0pfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gZ2V0KGUsdCl7dmFyIHIsYSxjPWFyZ3VtZW50cy5sZW5ndGg8Mz9lOmFyZ3VtZW50c1syXTtyZXR1cm4gdShlKT09PWM/ZVt0XToocj1uLmYoZSx0KSk/aShyLCJ2YWx1ZSIpP3IudmFsdWU6dm9pZCAwIT09ci5nZXQ/ci5nZXQuY2FsbChjKTp2b2lkIDA6cyhhPW8oZSkpP2dldChhLHQsYyk6dm9pZCAwfXZhciBuPXIoMjkpLG89cigzMCksaT1yKDI3KSxhPXIoMCkscz1yKDkpLHU9cig1KTthKGEuUywiUmVmbGVjdCIse2dldDpnZXR9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjkpLG89cigwKSxpPXIoNSk7byhvLlMsIlJlZmxlY3QiLHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5mKGkoZSksdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigzMCksaT1yKDUpO24obi5TLCJSZWZsZWN0Iix7Z2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oaShlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJSZWZsZWN0Iix7aGFzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQgaW4gZX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDUpLGk9T2JqZWN0LmlzRXh0ZW5zaWJsZTtuKG4uUywiUmVmbGVjdCIse2lzRXh0ZW5zaWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKSwhaXx8aShlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIlJlZmxlY3QiLHtvd25LZXlzOnIoMTgyKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNSksaT1PYmplY3QucHJldmVudEV4dGVuc2lvbnM7bihuLlMsIlJlZmxlY3QiLHtwcmV2ZW50RXh0ZW5zaW9uczpmdW5jdGlvbihlKXtvKGUpO3RyeXtyZXR1cm4gaSYmaShlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBzZXQoZSx0LHIpe3ZhciBzLGYsZD1hcmd1bWVudHMubGVuZ3RoPDQ/ZTphcmd1bWVudHNbM10scD1vLmYoYyhlKSx0KTtpZighcCl7aWYobChmPWkoZSkpKXJldHVybiBzZXQoZix0LHIsZCk7cD11KDApfWlmKGEocCwidmFsdWUiKSl7aWYoITE9PT1wLndyaXRhYmxlfHwhbChkKSlyZXR1cm4hMTtpZihzPW8uZihkLHQpKXtpZihzLmdldHx8cy5zZXR8fCExPT09cy53cml0YWJsZSlyZXR1cm4hMTtzLnZhbHVlPXIsbi5mKGQsdCxzKX1lbHNlIG4uZihkLHQsdSgwLHIpKTtyZXR1cm4hMH1yZXR1cm4gdm9pZCAwIT09cC5zZXQmJihwLnNldC5jYWxsKGQsciksITApfXZhciBuPXIoMTMpLG89cigyOSksaT1yKDMwKSxhPXIoMjcpLHM9cigwKSx1PXIoNTIpLGM9cig1KSxsPXIoOSk7cyhzLlMsIlJlZmxlY3QiLHtzZXQ6c2V0fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMTEpO28mJm4obi5TLCJSZWZsZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSx0KXtvLmNoZWNrKGUsdCk7dHJ5e3JldHVybiBvLnNldChlLHQpLCEwfWNhdGNoKGUpe3JldHVybiExfX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig4NCkoITApO24obi5QLCJBcnJheSIse2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0OSkoImluY2x1ZGVzIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTgzKSxpPXIoMTkpLGE9cigxNCkscz1yKDIwKSx1PXIoMTI1KTtuKG4uUCwiQXJyYXkiLHtmbGF0TWFwOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1pKHRoaXMpO3JldHVybiBzKGUpLHQ9YShuLmxlbmd0aCkscj11KG4sMCksbyhyLG4sbix0LDAsMSxlLGFyZ3VtZW50c1sxXSkscn19KSxyKDQ5KSgiZmxhdE1hcCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE4MyksaT1yKDE5KSxhPXIoMTQpLHM9cigzOCksdT1yKDEyNSk7bihuLlAsIkFycmF5Iix7ZmxhdHRlbjpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXSx0PWkodGhpcykscj1hKHQubGVuZ3RoKSxuPXUodCwwKTtyZXR1cm4gbyhuLHQsdCxyLDAsdm9pZCAwPT09ZT8xOnMoZSkpLG59fSkscig0OSkoImZsYXR0ZW4iKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMTcpKCEwKTtuKG4uUCwiU3RyaW5nIix7YXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxODQpLGk9cig5Mik7bihuLlArbi5GKi9WZXJzaW9uXC8xMFwuXGQrKFwuXGQrKT8gU2FmYXJpXC8vLnRlc3QoaSksIlN0cmluZyIse3BhZFN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwhMCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTg0KSxpPXIoOTIpO24obi5QK24uRiovVmVyc2lvblwvMTBcLlxkKyhcLlxkKyk/IFNhZmFyaVwvLy50ZXN0KGkpLCJTdHJpbmciLHtwYWRFbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLCExKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDY1KSgidHJpbUxlZnQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsMSl9fSwidHJpbVN0YXJ0Iil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cig2NSkoInRyaW1SaWdodCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywyKX19LCJ0cmltRW5kIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMzcpLGk9cigxNCksYT1yKDg3KSxzPXIoODkpLHU9UmVnRXhwLnByb3RvdHlwZSxjPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcj1lLHRoaXMuX3M9dH07cigxMTkpKGMsIlJlZ0V4cCBTdHJpbmciLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fci5leGVjKHRoaXMuX3MpO3JldHVybnt2YWx1ZTplLGRvbmU6bnVsbD09PWV9fSksbihuLlAsIlN0cmluZyIse21hdGNoQWxsOmZ1bmN0aW9uKGUpe2lmKG8odGhpcyksIWEoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSByZWdleHAhIik7dmFyIHQ9U3RyaW5nKHRoaXMpLHI9ImZsYWdzImluIHU/U3RyaW5nKGUuZmxhZ3MpOnMuY2FsbChlKSxuPW5ldyBSZWdFeHAoZS5zb3VyY2UsfnIuaW5kZXhPZigiZyIpP3I6ImciK3IpO3JldHVybiBuLmxhc3RJbmRleD1pKGUubGFzdEluZGV4KSxuZXcgYyhuLHQpfX0pfSxmdW5jdGlvbihlLHQscil7cigxMDcpKCJhc3luY0l0ZXJhdG9yIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDEwNykoIm9ic2VydmFibGUiKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE4MiksaT1yKDI4KSxhPXIoMjkpLHM9cigxMjMpO24obi5TLCJPYmplY3QiLHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49aShlKSx1PWEuZixjPW8obiksbD17fSxmPTA7Yy5sZW5ndGg+Zjspdm9pZCAwIT09KHI9dShuLHQ9Y1tmKytdKSkmJnMobCx0LHIpO3JldHVybiBsfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTg1KSghMSk7bihuLlMsIk9iamVjdCIse3ZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE4NSkoITApO24obi5TLCJPYmplY3QiLHtlbnRyaWVzOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE5KSxpPXIoMjApLGE9cigxMyk7cigxMikmJm4obi5QK3IoOTUpLCJPYmplY3QiLHtfX2RlZmluZUdldHRlcl9fOmZ1bmN0aW9uKGUsdCl7YS5mKG8odGhpcyksZSx7Z2V0OmkodCksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxOSksaT1yKDIwKSxhPXIoMTMpO3IoMTIpJiZuKG4uUCtyKDk1KSwiT2JqZWN0Iix7X19kZWZpbmVTZXR0ZXJfXzpmdW5jdGlvbihlLHQpe2EuZihvKHRoaXMpLGUse3NldDppKHQpLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTkpLGk9cigzNiksYT1yKDMwKSxzPXIoMjkpLmY7cigxMikmJm4obi5QK3IoOTUpLCJPYmplY3QiLHtfX2xvb2t1cEdldHRlcl9fOmZ1bmN0aW9uKGUpe3ZhciB0LHI9byh0aGlzKSxuPWkoZSwhMCk7ZG97aWYodD1zKHIsbikpcmV0dXJuIHQuZ2V0fXdoaWxlKHI9YShyKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTkpLGk9cigzNiksYT1yKDMwKSxzPXIoMjkpLmY7cigxMikmJm4obi5QK3IoOTUpLCJPYmplY3QiLHtfX2xvb2t1cFNldHRlcl9fOmZ1bmN0aW9uKGUpe3ZhciB0LHI9byh0aGlzKSxuPWkoZSwhMCk7ZG97aWYodD1zKHIsbikpcmV0dXJuIHQuc2V0fXdoaWxlKHI9YShyKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QK24uUiwiTWFwIix7dG9KU09OOnIoMTg2KSgiTWFwIil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlArbi5SLCJTZXQiLHt0b0pTT046cigxODYpKCJTZXQiKX0pfSxmdW5jdGlvbihlLHQscil7cig5NikoIk1hcCIpfSxmdW5jdGlvbihlLHQscil7cig5NikoIlNldCIpfSxmdW5jdGlvbihlLHQscil7cig5NikoIldlYWtNYXAiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTYpKCJXZWFrU2V0Iil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk3KSgiTWFwIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk3KSgiU2V0Iil9LGZ1bmN0aW9uKGUsdCxyKXtyKDk3KSgiV2Vha01hcCIpfSxmdW5jdGlvbihlLHQscil7cig5NykoIldlYWtTZXQiKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLkcse2dsb2JhbDpyKDcpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJTeXN0ZW0iLHtnbG9iYWw6cig3KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMzMpO24obi5TLCJFcnJvciIse2lzRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIkVycm9yIj09PW8oZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7Y2xhbXA6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KHQsZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse0RFR19QRVJfUkFEOk1hdGguUEkvMTgwfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89MTgwL01hdGguUEk7bihuLlMsIk1hdGgiLHtkZWdyZWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlKm99fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxODgpLGk9cigxNjgpO24obi5TLCJNYXRoIix7ZnNjYWxlOmZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGkobyhlLHQscixuLGEpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtpYWRkaDpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1lPj4+MCxpPXQ+Pj4wLGE9cj4+PjA7cmV0dXJuIGkrKG4+Pj4wKSsoKG8mYXwob3xhKSZ+KG8rYT4+PjApKT4+PjMxKXwwfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2lzdWJoOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWU+Pj4wLGk9dD4+PjAsYT1yPj4+MDtyZXR1cm4gaS0obj4+PjApLSgofm8mYXx+KG9eYSkmby1hPj4+MCk+Pj4zMSl8MH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtpbXVsaDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3Qsbz02NTUzNSZyLGk9NjU1MzUmbixhPXI+PjE2LHM9bj4+MTYsdT0oYSppPj4+MCkrKG8qaT4+PjE2KTtyZXR1cm4gYSpzKyh1Pj4xNikrKChvKnM+Pj4wKSsoNjU1MzUmdSk+PjE2KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtSQURfUEVSX0RFRzoxODAvTWF0aC5QSX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguUEkvMTgwO24obi5TLCJNYXRoIix7cmFkaWFuczpmdW5jdGlvbihlKXtyZXR1cm4gZSpvfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse3NjYWxlOnIoMTg4KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse3VtdWxoOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxvPTY1NTM1JnIsaT02NTUzNSZuLGE9cj4+PjE2LHM9bj4+PjE2LHU9KGEqaT4+PjApKyhvKmk+Pj4xNik7cmV0dXJuIGEqcysodT4+PjE2KSsoKG8qcz4+PjApKyg2NTUzNSZ1KT4+PjE2KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduYml0OmZ1bmN0aW9uKGUpe3JldHVybihlPStlKSE9ZT9lOjA9PWU/MS9lPT0xLzA6ZT4wfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDMxKSxpPXIoNyksYT1yKDkxKSxzPXIoMTc1KTtuKG4uUCtuLlIsIlByb21pc2UiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyxvLlByb21pc2V8fGkuUHJvbWlzZSkscj0iZnVuY3Rpb24iPT10eXBlb2YgZTtyZXR1cm4gdGhpcy50aGVuKHI/ZnVuY3Rpb24ocil7cmV0dXJuIHModCxlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfTplLHI/ZnVuY3Rpb24ocil7cmV0dXJuIHModCxlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByfSl9OmUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDEzMCksaT1yKDE3NCk7bihuLlMsIlByb21pc2UiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9by5mKHRoaXMpLHI9aShlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1uLmtleSxhPW4uc2V0O24uZXhwKHtkZWZpbmVNZXRhZGF0YTpmdW5jdGlvbihlLHQscixuKXthKGUsdCxvKHIpLGkobikpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0Myksbz1yKDUpLGk9bi5rZXksYT1uLm1hcCxzPW4uc3RvcmU7bi5leHAoe2RlbGV0ZU1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDppKGFyZ3VtZW50c1syXSksbj1hKG8odCksciwhMSk7aWYodm9pZCAwPT09bnx8IW4uZGVsZXRlKGUpKXJldHVybiExO2lmKG4uc2l6ZSlyZXR1cm4hMDt2YXIgdT1zLmdldCh0KTtyZXR1cm4gdS5kZWxldGUociksISF1LnNpemV8fHMuZGVsZXRlKHQpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0Myksbz1yKDUpLGk9cigzMCksYT1uLmhhcyxzPW4uZ2V0LHU9bi5rZXksYz1mdW5jdGlvbihlLHQscil7aWYoYShlLHQscikpcmV0dXJuIHMoZSx0LHIpO3ZhciBuPWkodCk7cmV0dXJuIG51bGwhPT1uP2MoZSxuLHIpOnZvaWQgMH07bi5leHAoe2dldE1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSxvKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6dShhcmd1bWVudHNbMl0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTc4KSxvPXIoMTg3KSxpPXIoNDMpLGE9cig1KSxzPXIoMzApLHU9aS5rZXlzLGM9aS5rZXksbD1mdW5jdGlvbihlLHQpe3ZhciByPXUoZSx0KSxpPXMoZSk7aWYobnVsbD09PWkpcmV0dXJuIHI7dmFyIGE9bChpLHQpO3JldHVybiBhLmxlbmd0aD9yLmxlbmd0aD9vKG5ldyBuKHIuY29uY2F0KGEpKSk6YTpyfTtpLmV4cCh7Z2V0TWV0YWRhdGFLZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBsKGEoZSksYXJndW1lbnRzLmxlbmd0aDwyP3ZvaWQgMDpjKGFyZ3VtZW50c1sxXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0Myksbz1yKDUpLGk9bi5nZXQsYT1uLmtleTtuLmV4cCh7Z2V0T3duTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLG8odCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDphKGFyZ3VtZW50c1syXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0Myksbz1yKDUpLGk9bi5rZXlzLGE9bi5rZXk7bi5leHAoe2dldE93bk1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gaShvKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6YShhcmd1bWVudHNbMV0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDMpLG89cig1KSxpPXIoMzApLGE9bi5oYXMscz1uLmtleSx1PWZ1bmN0aW9uKGUsdCxyKXtpZihhKGUsdCxyKSlyZXR1cm4hMDt2YXIgbj1pKHQpO3JldHVybiBudWxsIT09biYmdShlLG4scil9O24uZXhwKHtoYXNNZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiB1KGUsbyh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnMoYXJndW1lbnRzWzJdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1uLmhhcyxhPW4ua2V5O24uZXhwKHtoYXNPd25NZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsbyh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOmEoYXJndW1lbnRzWzJdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQzKSxvPXIoNSksaT1yKDIwKSxhPW4ua2V5LHM9bi5zZXQ7bi5leHAoe21ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7cyhlLHQsKHZvaWQgMCE9PW4/bzppKShyKSxhKG4pKX19fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMjkpKCksaT1yKDcpLnByb2Nlc3MsYT0icHJvY2VzcyI9PXIoMzMpKGkpO24obi5HLHthc2FwOmZ1bmN0aW9uKGUpe3ZhciB0PWEmJmkuZG9tYWluO28odD90LmJpbmQoZSk6ZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoNyksaT1yKDMxKSxhPXIoMTI5KSgpLHM9cigxMCkoIm9ic2VydmFibGUiKSx1PXIoMjApLGM9cig1KSxsPXIoNTkpLGY9cig2MSksZD1yKDIzKSxwPXIoNjApLHk9cC5SRVRVUk4saD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6dShlKX0sdj1mdW5jdGlvbihlKXt2YXIgdD1lLl9jO3QmJihlLl9jPXZvaWQgMCx0KCkpfSxnPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lLl9vfSxiPWZ1bmN0aW9uKGUpe2coZSl8fChlLl9vPXZvaWQgMCx2KGUpKX0sXz1mdW5jdGlvbihlLHQpe2MoZSksdGhpcy5fYz12b2lkIDAsdGhpcy5fbz1lLGU9bmV3IG0odGhpcyk7dHJ5e3ZhciByPXQoZSksbj1yO251bGwhPXImJigiZnVuY3Rpb24iPT10eXBlb2Ygci51bnN1YnNjcmliZT9yPWZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZSgpfTp1KHIpLHRoaXMuX2M9cil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZS5lcnJvcih0KX1nKHRoaXMpJiZ2KHRoaXMpfTtfLnByb3RvdHlwZT1mKHt9LHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe2IodGhpcyl9fSk7dmFyIG09ZnVuY3Rpb24oZSl7dGhpcy5fcz1lfTttLnByb3RvdHlwZT1mKHt9LHtuZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoIWcodCkpe3ZhciByPXQuX287dHJ5e3ZhciBuPWgoci5uZXh0KTtpZihuKXJldHVybiBuLmNhbGwocixlKX1jYXRjaChlKXt0cnl7Yih0KX1maW5hbGx5e3Rocm93IGV9fX19LGVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoZyh0KSl0aHJvdyBlO3ZhciByPXQuX287dC5fbz12b2lkIDA7dHJ5e3ZhciBuPWgoci5lcnJvcik7aWYoIW4pdGhyb3cgZTtlPW4uY2FsbChyLGUpfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZighZyh0KSl7dmFyIHI9dC5fbzt0Ll9vPXZvaWQgMDt0cnl7dmFyIG49aChyLmNvbXBsZXRlKTtlPW4/bi5jYWxsKHIsZSk6dm9pZCAwfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX19fSk7dmFyIFI9ZnVuY3Rpb24oZSl7bCh0aGlzLFIsIk9ic2VydmFibGUiLCJfZiIpLl9mPXUoZSl9O2YoUi5wcm90b3R5cGUse3N1YnNjcmliZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IF8oZSx0aGlzLl9mKX0sZm9yRWFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcoaS5Qcm9taXNlfHxvLlByb21pc2UpKGZ1bmN0aW9uKHIsbil7dShlKTt2YXIgbz10LnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goZSl7bihlKSxvLnVuc3Vic2NyaWJlKCl9fSxlcnJvcjpuLGNvbXBsZXRlOnJ9KX0pfX0pLGYoUix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOlIscj1oKGMoZSlbc10pO2lmKHIpe3ZhciBuPWMoci5jYWxsKGUpKTtyZXR1cm4gbi5jb25zdHJ1Y3Rvcj09PXQ/bjpuZXcgdChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdWJzY3JpYmUoZSl9KX1yZXR1cm4gbmV3IHQoZnVuY3Rpb24odCl7dmFyIHI9ITE7cmV0dXJuIGEoZnVuY3Rpb24oKXtpZighcil7dHJ5e2lmKHAoZSwhMSxmdW5jdGlvbihlKXtpZih0Lm5leHQoZSkscilyZXR1cm4geX0pPT09eSlyZXR1cm59Y2F0Y2goZSl7aWYocil0aHJvdyBlO3JldHVybiB2b2lkIHQuZXJyb3IoZSl9dC5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7cj0hMH19KX0sb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCk7ZTx0OylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiBuZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpSKShmdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gYShmdW5jdGlvbigpe2lmKCF0KXtmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbilpZihlLm5leHQocltuXSksdClyZXR1cm47ZS5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7dD0hMH19KX19KSxkKFIucHJvdG90eXBlLHMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG4obi5HLHtPYnNlcnZhYmxlOlJ9KSxyKDU4KSgiT2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3KSxvPXIoMCksaT1yKDkyKSxhPVtdLnNsaWNlLHM9L01TSUUgLlwuLy50ZXN0KGkpLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yLG89ISFuJiZhLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBlKG4/ZnVuY3Rpb24oKXsoImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpGdW5jdGlvbih0KSkuYXBwbHkodGhpcyxvKX06dCxyKX19O28oby5HK28uQitvLkYqcyx7c2V0VGltZW91dDp1KG4uc2V0VGltZW91dCksc2V0SW50ZXJ2YWw6dShuLnNldEludGVydmFsKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTI4KTtuKG4uRytuLkIse3NldEltbWVkaWF0ZTpvLnNldCxjbGVhckltbWVkaWF0ZTpvLmNsZWFyfSl9LGZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cigxMjcpLG89cig1NCksaT1yKDI0KSxhPXIoNykscz1yKDIzKSx1PXIoNjYpLGM9cigxMCksbD1jKCJpdGVyYXRvciIpLGY9YygidG9TdHJpbmdUYWciKSxkPXUuQXJyYXkscD17Q1NTUnVsZUxpc3Q6ITAsQ1NTU3R5bGVEZWNsYXJhdGlvbjohMSxDU1NWYWx1ZUxpc3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsRE9NUmVjdExpc3Q6ITEsRE9NU3RyaW5nTGlzdDohMSxET01Ub2tlbkxpc3Q6ITAsRGF0YVRyYW5zZmVySXRlbUxpc3Q6ITEsRmlsZUxpc3Q6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTENvbGxlY3Rpb246ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLE1lZGlhTGlzdDohMCxNaW1lVHlwZUFycmF5OiExLE5hbWVkTm9kZU1hcDohMSxOb2RlTGlzdDohMCxQYWludFJlcXVlc3RMaXN0OiExLFBsdWdpbjohMSxQbHVnaW5BcnJheTohMSxTVkdMZW5ndGhMaXN0OiExLFNWR051bWJlckxpc3Q6ITEsU1ZHUGF0aFNlZ0xpc3Q6ITEsU1ZHUG9pbnRMaXN0OiExLFNWR1N0cmluZ0xpc3Q6ITEsU1ZHVHJhbnNmb3JtTGlzdDohMSxTb3VyY2VCdWZmZXJMaXN0OiExLFN0eWxlU2hlZXRMaXN0OiEwLFRleHRUcmFja0N1ZUxpc3Q6ITEsVGV4dFRyYWNrTGlzdDohMSxUb3VjaExpc3Q6ITF9LHk9byhwKSxoPTA7aDx5Lmxlbmd0aDtoKyspe3ZhciB2LGc9eVtoXSxiPXBbZ10sXz1hW2ddLG09XyYmXy5wcm90b3R5cGU7aWYobSYmKG1bbF18fHMobSxsLGQpLG1bZl18fHMobSxmLGcpLHVbZ109ZCxiKSlmb3IodiBpbiBuKW1bdl18fGkobSx2LG5bdl0sITApfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHdyYXAoZSx0LHIsbil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3I/dDpHZW5lcmF0b3IsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxhPW5ldyBDb250ZXh0KG58fFtdKTtyZXR1cm4gaS5faW52b2tlPW1ha2VJbnZva2VNZXRob2QoZSxyLGEpLGl9ZnVuY3Rpb24gdHJ5Q2F0Y2goZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1mdW5jdGlvbiBHZW5lcmF0b3IoKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKXt9ZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX19KX1mdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGUpe2Z1bmN0aW9uIGludm9rZSh0LHIsbixpKXt2YXIgYT10cnlDYXRjaChlW3RdLGUscik7aWYoInRocm93IiE9PWEudHlwZSl7dmFyIHM9YS5hcmcsdT1zLnZhbHVlO3JldHVybiB1JiYib2JqZWN0Ij09dHlwZW9mIHUmJm8uY2FsbCh1LCJfX2F3YWl0Iik/UHJvbWlzZS5yZXNvbHZlKHUuX19hd2FpdCkudGhlbihmdW5jdGlvbihlKXtpbnZva2UoIm5leHQiLGUsbixpKX0sZnVuY3Rpb24oZSl7aW52b2tlKCJ0aHJvdyIsZSxuLGkpfSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4oZnVuY3Rpb24oZSl7cy52YWx1ZT1lLG4ocyl9LGkpfWkoYS5hcmcpfWZ1bmN0aW9uIGVucXVldWUoZSx0KXtmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe2ludm9rZShlLHQscixuKX0pfXJldHVybiByPXI/ci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKTpjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpfSJvYmplY3QiPT10eXBlb2YgdC5wcm9jZXNzJiZ0LnByb2Nlc3MuZG9tYWluJiYoaW52b2tlPXQucHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpKTt2YXIgcjt0aGlzLl9pbnZva2U9ZW5xdWV1ZX1mdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsdCxyKXt2YXIgbj1mO3JldHVybiBmdW5jdGlvbihvLGkpe2lmKG49PT1wKXRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG49PT15KXtpZigidGhyb3ciPT09byl0aHJvdyBpO3JldHVybiBkb25lUmVzdWx0KCl9Zm9yKHIubWV0aG9kPW8sci5hcmc9aTs7KXt2YXIgYT1yLmRlbGVnYXRlO2lmKGEpe3ZhciBzPW1heWJlSW52b2tlRGVsZWdhdGUoYSxyKTtpZihzKXtpZihzPT09aCljb250aW51ZTtyZXR1cm4gc319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG49PT1mKXRocm93IG49eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO249cDt2YXIgdT10cnlDYXRjaChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG49ci5kb25lP3k6ZCx1LmFyZz09PWgpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobj15LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShlLHQpe3ZhciBuPWUuaXRlcmF0b3JbdC5tZXRob2RdO2lmKG49PT1yKXtpZih0LmRlbGVnYXRlPW51bGwsInRocm93Ij09PXQubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPXIsbWF5YmVJbnZva2VEZWxlZ2F0ZShlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpcmV0dXJuIGg7dC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIGh9dmFyIG89dHJ5Q2F0Y2gobixlLml0ZXJhdG9yLHQuYXJnKTtpZigidGhyb3ciPT09by50eXBlKXJldHVybiB0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW8uYXJnLHQuZGVsZWdhdGU9bnVsbCxoO3ZhciBpPW8uYXJnO3JldHVybiBpP2kuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWkudmFsdWUsdC5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLHQuZGVsZWdhdGU9bnVsbCxoKTppOih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksdC5kZWxlZ2F0ZT1udWxsLGgpfWZ1bmN0aW9uIHB1c2hUcnlFbnRyeShlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiByZXNldFRyeUVudHJ5KGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBDb250ZXh0KGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2gocHVzaFRyeUVudHJ5LHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIHZhbHVlcyhlKXtpZihlKXt2YXIgdD1lW2FdO2lmKHQpcmV0dXJuIHQuY2FsbChlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBuPS0xLGk9ZnVuY3Rpb24gbmV4dCgpe2Zvcig7KytuPGUubGVuZ3RoOylpZihvLmNhbGwoZSxuKSlyZXR1cm4gbmV4dC52YWx1ZT1lW25dLG5leHQuZG9uZT0hMSxuZXh0O3JldHVybiBuZXh0LnZhbHVlPXIsbmV4dC5kb25lPSEwLG5leHR9O3JldHVybiBpLm5leHQ9aX19cmV0dXJue25leHQ6ZG9uZVJlc3VsdH19ZnVuY3Rpb24gZG9uZVJlc3VsdCgpe3JldHVybnt2YWx1ZTpyLGRvbmU6ITB9fXZhciByLG49T2JqZWN0LnByb3RvdHlwZSxvPW4uaGFzT3duUHJvcGVydHksaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxhPWkuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIixzPWkuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsdT1pLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyIsYz0ib2JqZWN0Ij09dHlwZW9mIGUsbD10LnJlZ2VuZXJhdG9yUnVudGltZTtpZihsKXJldHVybiB2b2lkKGMmJihlLmV4cG9ydHM9bCkpO2w9dC5yZWdlbmVyYXRvclJ1bnRpbWU9Yz9lLmV4cG9ydHM6e30sbC53cmFwPXdyYXA7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixkPSJzdXNwZW5kZWRZaWVsZCIscD0iZXhlY3V0aW5nIix5PSJjb21wbGV0ZWQiLGg9e30sdj17fTt2W2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBnPU9iamVjdC5nZXRQcm90b3R5cGVPZixiPWcmJmcoZyh2YWx1ZXMoW10pKSk7YiYmYiE9PW4mJm8uY2FsbChiLGEpJiYodj1iKTt2YXIgXz1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGU9R2VuZXJhdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHYpO0dlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZT1fLmNvbnN0cnVjdG9yPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yPUdlbmVyYXRvckZ1bmN0aW9uLEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3VdPUdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsbC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1HZW5lcmF0b3JGdW5jdGlvbnx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sbC5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOihlLl9fcHJvdG9fXz1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSx1IGluIGV8fChlW3VdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKF8pLGV9LGwuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbC5Bc3luY0l0ZXJhdG9yPUFzeW5jSXRlcmF0b3IsbC5hc3luYz1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1uZXcgQXN5bmNJdGVyYXRvcih3cmFwKGUsdCxyLG4pKTtyZXR1cm4gbC5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP286by5uZXh0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6by5uZXh0KCl9KX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKF8pLF9bdV09IkdlbmVyYXRvciIsX1thXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxfLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LGwua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHQucmV2ZXJzZSgpLGZ1bmN0aW9uIG5leHQoKXtmb3IoO3QubGVuZ3RoOyl7dmFyIHI9dC5wb3AoKTtpZihyIGluIGUpcmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITEsbmV4dH1yZXR1cm4gbmV4dC5kb25lPSEwLG5leHR9fSxsLnZhbHVlcz12YWx1ZXMsQ29udGV4dC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkNvbnRleHQscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9cix0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1yLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCFlKWZvcih2YXIgdCBpbiB0aGlzKSJ0Ij09PXQuY2hhckF0KDApJiZvLmNhbGwodGhpcyx0KSYmIWlzTmFOKCt0LnNsaWNlKDEpKSYmKHRoaXNbdF09cil9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLHQ9ZS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaGFuZGxlKG4sbyl7cmV0dXJuIGEudHlwZT0idGhyb3ciLGEuYXJnPWUsdC5uZXh0PW4sbyYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1yKSwhIW99aWYodGhpcy5kb25lKXRocm93IGU7Zm9yKHZhciB0PXRoaXMsbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBpPXRoaXMudHJ5RW50cmllc1tuXSxhPWkuY29tcGxldGlvbjtpZigicm9vdCI9PT1pLnRyeUxvYylyZXR1cm4gaGFuZGxlKCJlbmQiKTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgcz1vLmNhbGwoaSwiY2F0Y2hMb2MiKSx1PW8uY2FsbChpLCJmaW5hbGx5TG9jIik7aWYocyYmdSl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKX1lbHNlIGlmKHMpe2lmKHRoaXMucHJldjxpLmNhdGNoTG9jKXJldHVybiBoYW5kbGUoaS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZvLmNhbGwobiwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8bi5maW5hbGx5TG9jKXt2YXIgaT1uO2JyZWFrfX1pJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmaS50cnlMb2M8PXQmJnQ8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsaT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MsaCk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxofSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIuZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLHIuYWZ0ZXJMb2MpLHJlc2V0VHJ5RW50cnkociksaH19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgbz1uLmFyZztyZXNldFRyeUVudHJ5KHIpfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6dmFsdWVzKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOm59LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ciksaH19fSgib2JqZWN0Ij09dHlwZW9mIHQ/dDoib2JqZWN0Ij09dHlwZW9mIHdpbmRvdz93aW5kb3c6Im9iamVjdCI9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcyl9KS5jYWxsKHQscigxNTQpKX0sZnVuY3Rpb24oZSx0LHIpe3IoNDIzKSxlLmV4cG9ydHM9cigzMSkuUmVnRXhwLmVzY2FwZX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDQyNCkoL1tcXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIik7bihuLlMsIlJlZ0V4cCIse2VzY2FwZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX19KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10PT09T2JqZWN0KHQpP2Z1bmN0aW9uKGUpe3JldHVybiB0W2VdfTp0O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoZSxyKX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNDYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDQ1MikseT1yKDQpLGg9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fSh5KSx2PXIoNDUzKSxnPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQodiksYj1yKDUwOSksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLG09cig1MTUpLFI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxPPXIoNTE2KSx3PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTyksaz1yKDUyMyksUz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGspLFA9cig2KSxEPXIoMTA0KSxNPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoRCksTD1yKDEwNSksaj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEwpLFU9cig1MjcpLEU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChVKSx4PXIoMjE4KSxBPXIoNTI4KSxJPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoQSksQz1yKDE1MSksVD1yKDUyOSkscT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFQpLEg9cigxMDIpLE49cig1MzApLEY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChOKSxCPXIoNTMxKSxHPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoQiksSz1yKDUzNSksVj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEspLFc9cig1MzgpLFk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChXKSxKPXIoNTQ0KSx6PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoSiksWD1yKDU0NiksJD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFgpLFE9cig1NDgpLFo9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChRKSxlZT1oLmdldExvZ2dlcigiUnVudGltZVVBIiksdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSdW50aW1lVUEoZSx0LHIpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxSdW50aW1lVUEpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZGVzY3JpcHRvciBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzYW5kYm94IGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0aGUgZG9tYWluIG9mIHJ1bnRpbWUiKTtpZih0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPSgwLHUuZGVmYXVsdCkoe2RvbWFpbjpyfSxDLnJ1bnRpbWVDb25maWd1cmF0aW9uKSx0aGlzLnJ1bnRpbWVGYWN0b3J5PXQsdGhpcy5sb2c9ZWUsdGhpcy5sb2dMZXZlbHM9cC5sb2csZS5wMnBIYW5kbGVyU3R1YiYmInN0cmluZyI9PXR5cGVvZiBlLnAycEhhbmRsZXJTdHViJiZlLnAycEhhbmRsZXJTdHViLmluY2x1ZGVzKCI6Ly8iKT90aGlzLnAycD0hMDp0aGlzLnAycD0hMSxILnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvcj1lLHRoaXMucnVudGltZVV0aWxzPUgucnVudGltZVV0aWxzLHRoaXMuc3RvcmFnZXM9e30sdGhpcy5ydW50aW1lQ2F0YWxvZ3VlPW5ldyBaLmRlZmF1bHQodCksImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3RvcmFnZU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKCJDaGVjayB5b3VyIFJ1bnRpbWUgRmFjdG9yeSBiZWNhdXNlIGl0IG5lZWRzIHRoZSBTdG9yYWdlIE1hbmFnZXIgaW1wbGVtZW50YXRpb24iKTt0aGlzLnN0b3JhZ2VzPSgwLHguc3RvcmFnZSkodCx0aGlzKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5ydW50aW1lQ2FwYWJpbGl0aWVzP3RoaXMucnVudGltZUNhcGFiaWxpdGllcz10LnJ1bnRpbWVDYXBhYmlsaXRpZXModGhpcy5zdG9yYWdlcy5jYXBhYmlsaXRpZXMpOmVlLmluZm8oIkNoZWNrIHlvdXIgUnVudGltZUZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXBhYmlsaXRpZXMgaW1wbGVtZW50YXRpb24iKX1yZXR1cm4oMCxkLmRlZmF1bHQpKFJ1bnRpbWVVQSxbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7ZS5kb21haW49ZS5ydW50aW1lQ29uZmlndXJhdGlvbi5kb21haW4sZWUuaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIFN0YXJ0aW5nICIpO3RyeXt2YXIgbj1lLnJ1bnRpbWVDYXBhYmlsaXRpZXMuZ2V0UnVudGltZUNhcGFiaWxpdGllcygpLG89ZS5zdG9yYWdlcy5ydW50aW1lLmdldCgicnVudGltZTpVUkwiKSxpPWUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIikscz1lLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMuZ2V0KCksYz1lLnN0b3JhZ2VzLnJ1bnRpbWUuZ2V0KCJwMnBIYW5kbGVyOlVSTCIpO2EuZGVmYXVsdC5hbGwoW28sbixpLHMsY10pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucnVudGltZVVSTD10WzBdP3RbMF0ucnVudGltZVVSTDp0WzBdLGUucnVudGltZVVSTHx8KGUucnVudGltZVVSTD0icnVudGltZTovLyIrZS5kb21haW4rIi8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInJ1bnRpbWU6VVJMIiwxLHtydW50aW1lVVJMOmUucnVudGltZVVSTH0pKSxlLmNhcGFiaWxpdGllcz10WzFdLCgwLHUuZGVmYXVsdCkoSC5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllcy5jb25zdHJhaW50cyx0WzFdKSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2U9bmV3IEcuZGVmYXVsdChlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLHRbMl18fHt9LGUucnVudGltZUZhY3RvcnksZSksZS5faHlwZXJ0eVJlc291cmNlcz10WzNdfHx7fSxlLnAycEhhbmRsZXJVUkw9dFs0XT90WzRdLnAycEhhbmRsZXJVUkw6dFs0XSxlLnAycEhhbmRsZXJVUkx8fChlLnAycEhhbmRsZXJVUkw9ZS5ydW50aW1lVVJMKyIvcDJwaGFuZGxlci8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLGVlLmluZm8oIltSdW50aW1lVUEgLSBpbml0XSBQMlBIYW5kbGVyVVJMOiAiLGUucDJwSGFuZGxlclVSTCksZS5zdG9yYWdlcy5ydW50aW1lLnNldCgicDJwSGFuZGxlcjpVUkwiLDEse3AycEhhbmRsZXJVUkw6ZS5wMnBIYW5kbGVyVVJMfSkpLGUuX2xvYWRDb21wb25lbnRzKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9oeXBlcnR5UmVzb3VyY2VzU3RvcmFnZT1uZXcgVi5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5zdG9yYWdlcy5oeXBlcnR5UmVzb3VyY2VzLGUuX2h5cGVydHlSZXNvdXJjZXMpLGUucDJwPyhlZS5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gbG9hZCBwMnBIYW5kbGVyOiAiLHQpLGUuX2xvYWRQMlBIYW5kbGVyKCkpOihlZS5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gUDJQIG5vdCBzdXBwb3J0ZWQiKSwiUDJQIE5vdCBTdXBwb3J0ZWQiKX0pLnRoZW4oZnVuY3Rpb24oZSl7ZWUuaW5mbygiW3J1bnRpbWUgdWEgLSBpbml0XSAtIHN0YXR1czogIixlKSx0KCEwKX0sZnVuY3Rpb24oZSl7ZWUuZXJyb3IoIkVSUk9SOiAiLGUpLHQoITApfSl9Y2F0Y2goZSl7cihlKX19KX19LHtrZXk6Il91cGRhdGVSdW50aW1lU3RhdHVzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoe2Zyb206dGhpcy5ydW50aW1lVVJMLHRvOnRoaXMucnVudGltZVVSTCsiL3N0YXR1cyIsdHlwZToidXBkYXRlIixib2R5OmV9KX19LHtrZXk6Il9sb2FkUDJQSGFuZGxlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHQpe3ZhciByPUgucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLG49ci5wMnBIYW5kbGVyU3R1YixvPXtpc0hhbmRsZXJTdHViOiEwLHJ1bnRpbWVVUkw6ZS5ydW50aW1lVVJMfTtlZS5sb2coIltSdW50aW1lVUEgbG9hZFAyUEhhbmRsZXJdIFAyUFN0dWJIYW5kbGVyOiAiLG4pLGUubG9hZGVyLmxvYWRTdHViKG4sbykudGhlbihmdW5jdGlvbihyKXt2YXIgbj1lLnJ1bnRpbWVVUkwrIi91YSIsbz17dHlwZToic3Vic2NyaWJlIixmcm9tOm4sdG86ImRvbWFpbjovL21zZy1ub2RlLiIrZS5kb21haW4rIi9zbSIsYm9keTp7c3Vic2NyaWJlOltyLnVybF0sc291cmNlOmUucnVudGltZVVSTH19O2UubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKGUpe2VlLmxvZygiW3J1bnRpbWUgdWEgLSBsaXN0ZW5lcl0gLSByZWNlaXZlIG1zZzogIixlKX0pLGUubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKGUpe2VlLmxvZygiW3J1bnRpbWUgdWEgLSBwb3N0TWVzc2FnZV0gLSByZXBseTogIixlKX0pLGVlLmluZm8oIltydW50aW1lIHVhIC0gcDJwIGluc3RhbGxhdGlvbl0gLSBzdWNjZXNzOiAiLHIpLHQoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7ZWUuaW5mbygiW3J1bnRpbWUgdWEgLSBwMnAgaW5zdGFsbGF0aW9uXSAtIGZhaWw6ICIsZSksdCghMSl9KX0pfX0se2tleToiX2xvYWRDb21wb25lbnRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24odCxyKXt0cnl7ZS5kZXNjcmlwdG9ySW5zdGFuY2U9bmV3IEkuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2F0YWxvZ3VlLGUucnVudGltZUNvbmZpZ3VyYXRpb24pLGUubG9hZGVyPW5ldyBFLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUucnVudGltZUNvbmZpZ3VyYXRpb24sZS5kZXNjcmlwdG9ySW5zdGFuY2UpLGUuaWRlbnRpdHlNb2R1bGU9bmV3IF8uZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMuaWRlbnRpdHksZS5fZGF0YU9iamVjdHNTdG9yYWdlLGouZGVmYXVsdCxlLnJ1bnRpbWVDYXRhbG9ndWUpO3ZhciBuPWUucnVudGltZUZhY3RvcnkuY3JlYXRlQXBwU2FuZGJveCgpO2UucmVnaXN0cnk9bmV3IGcuZGVmYXVsdChlLnJ1bnRpbWVVUkwsbixlLmlkZW50aXR5TW9kdWxlLGUucnVudGltZUNhdGFsb2d1ZSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5yZWdpc3RyeSxlLnAycEhhbmRsZXJVUkwpLGUucmVnaXN0cnkubG9hZGVyPWUubG9hZGVyLGUubWVzc2FnZUJ1cz1uZXcgUy5kZWZhdWx0KGUucmVnaXN0cnkpLGUuc3Vic2NyaXB0aW9uTWFuYWdlcj1uZXcgei5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5zdG9yYWdlcy5zdWJzY3JpcHRpb25zKSxlLmFkZHJlc3NBbGxvY2F0aW9uPW5ldyBNLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5LGUuc3Vic2NyaXB0aW9uTWFuYWdlciksZS5wb2xpY3lFbmdpbmU9bmV3IHcuZGVmYXVsdChuZXcgJC5kZWZhdWx0KGUucnVudGltZVVSTCxlLmlkZW50aXR5TW9kdWxlLGUucmVnaXN0cnksZS5zdG9yYWdlcy5wb2xpY3ksZS5ydW50aW1lQ2FwYWJpbGl0aWVzKSksZS5jb3JlRGlzY292ZXJ5PW5ldyBGLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLmdyYXBoQ29ubmVjdG9yLGUucnVudGltZUZhY3RvcnksZS5yZWdpc3RyeSksZS5pZGVudGl0eUhhbmRsZXI9bmV3IFIuZGVmYXVsdChlLmlkZW50aXR5TW9kdWxlKSxqLmRlZmF1bHQuaW5pdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMuY3J5cHRvTWFuYWdlcixlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsZS5yZWdpc3RyeSxlLmNvcmVEaXNjb3ZlcnksZS5pZGVudGl0eU1vZHVsZSxlLnJ1bnRpbWVGYWN0b3J5KSxlLmhhbmRsZXJzPW5ldyBxLmRlZmF1bHQoZS5wb2xpY3lFbmdpbmUsZS5pZGVudGl0eUhhbmRsZXIsai5kZWZhdWx0KSxlLm1lc3NhZ2VCdXMucGlwZWxpbmVPdXQuaGFuZGxlcnM9W2UuaGFuZGxlcnMuaWRtSGFuZGxlcixlLmhhbmRsZXJzLnBlcE91dEhhbmRsZXIsZS5oYW5kbGVycy5lbmNyeXB0SGFuZGxlcl0sZS5tZXNzYWdlQnVzLnBpcGVsaW5lSW4uaGFuZGxlcnM9W2UuaGFuZGxlcnMuZGVjcnlwdEhhbmRsZXIsZS5oYW5kbGVycy5wZXBJbkhhbmRsZXJdLG4uYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKHQpe2UubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0KX0pLGouZGVmYXVsdC5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5Lm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUucG9saWN5RW5naW5lLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUuaWRlbnRpdHlNb2R1bGUubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsZS5pZGVudGl0eU1vZHVsZS5yZWdpc3RyeT1lLnJlZ2lzdHJ5LGUuaWRlbnRpdHlNb2R1bGUuY29yZURpc2NvdmVyeT1lLmNvcmVEaXNjb3ZlcnksZS5ydW50aW1lRmFjdG9yeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLnN5bmNoZXJNYW5hZ2VyPW5ldyBZLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5LGUucnVudGltZUNhdGFsb2d1ZSxlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLG51bGwsZS5fZGF0YU9iamVjdHNTdG9yYWdlLGUuaWRlbnRpdHlNb2R1bGUpLGUubG9hZGVyLnJ1bnRpbWVVUkw9ZS5ydW50aW1lVVJMLGUubG9hZGVyLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUubG9hZGVyLnJlZ2lzdHJ5PWUucmVnaXN0cnksZS5sb2FkZXIucnVudGltZUNhdGFsb2d1ZT1lLnJ1bnRpbWVDYXRhbG9ndWUsZS5sb2FkZXIucnVudGltZUZhY3Rvcnk9ZS5ydW50aW1lRmFjdG9yeTt2YXIgbz1bXTtvLnB1c2goZS5zdWJzY3JpcHRpb25NYW5hZ2VyLmluaXQoKSksby5wdXNoKGUuaWRlbnRpdHlNb2R1bGUuaW5pdCgpKSxvLnB1c2goai5kZWZhdWx0LmxvYWRTZXNzaW9uS2V5cygpKSxhLmRlZmF1bHQuYWxsKG8pLnRoZW4oZnVuY3Rpb24oZSl7Mz09PWUubGVuZ3RoP3QoITApOnIoIltSdW50aW1lVUEuX2xvYWRDb21wb25lbnRzXSBFcnJvciBdICIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXt0aHJvdyBFcnJvcihlKX0pfWNhdGNoKGUpe3IoZSl9fSl9fSx7a2V5OiJsb2FkSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkh5cGVydHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkSHlwZXJ0eShlLHQscil9fSx7a2V5OiJsb2FkU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQcm90b1N0dWIgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkU3R1YihlKX19LHtrZXk6ImxvYWRJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZWUubG9nKCJpcGRQcm94eUNhdGFsb2d1ZVVSTCIsZSksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgSURQIFByb3h5IFVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIsIGNvdWxkIGJlIGEgRE9NQUlOIG9yIGEgVVJMIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRJZHBQcm94eShlKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiEwPT09ZSYmdGhpcy5pZGVudGl0eUhhbmRsZXIucmVzZXQoKSxlZS5pbmZvKCJVbnJlZ2lzdGVyIGFsbCBoeXBlcnRpZXMiKSxuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGUscil7dC5yZWdpc3RyeS51bnJlZ2lzdGVyQWxsSHlwZXJ0aWVzKCkudGhlbihmdW5jdGlvbih0KXtlZS5pbmZvKCJBbGwgdGhlIGh5cGVydGllcyBhcmUgdW5yZWdpc3RlZCB3aXRoIFN1Y2Nlc3M6Iix0KSxlKCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2VlLmVycm9yKCJGYWlsZWQgdG8gdW5yZWdpc3RlciB0aGUgaHlwZXJ0aWVzIixlKSxyKCExKX0pfSl9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLnN0b3JhZ2VzLmlkZW50aXR5LmdldCghMSwhMSwiaWRlbnRpdGllcyIpLnRoZW4oZnVuY3Rpb24obil7KDAsby5kZWZhdWx0KShuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3QucHVzaChlLnN0b3JhZ2VzLmlkZW50aXR5LmRlbGV0ZShyLCExLCJpZGVudGl0aWVzIikpfSksdC5wdXNoKGUuc3RvcmFnZXMuY2FwYWJpbGl0aWVzLmRlbGV0ZSgiY2FwYWJpbGl0aWVzIikpLHQucHVzaChlLnN0b3JhZ2VzLmNyeXB0b01hbmFnZXIuZGVsZXRlKCJ1c2VyQXN5bW1ldHJpY0tleSIpKSx0LnB1c2goZS5zdG9yYWdlcy5oeXBlcnR5UmVzb3VyY2VzLmRlbGV0ZSgiaHlwZXJ0eVJlc291cmNlcyIpKSx0LnB1c2goZS5zdG9yYWdlcy5pZGVudGl0eS5kZWxldGUoImFjY2Vzc1Rva2VucyIpKSx0LnB1c2goZS5zdG9yYWdlcy5yZWdpc3RyeS5kZWxldGUoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIikpLHQucHVzaChlLnN0b3JhZ2VzLnJlZ2lzdHJ5LmRlbGV0ZSgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiKSksdC5wdXNoKGUuc3RvcmFnZXMucnVudGltZS5kZWxldGUoInAycEhhbmRsZXI6VVJMIikpLHQucHVzaChlLnN0b3JhZ2VzLnJ1bnRpbWUuZGVsZXRlKCJydW50aW1lOlVSTCIpKSx0LnB1c2goZS5zdG9yYWdlcy5zdWJzY3JpcHRpb25zLmRlbGV0ZSgic3Vic2NyaXB0aW9ucyIpKSx0LnB1c2goZS5zdG9yYWdlcy5zeW5jaGVyTWFuYWdlci5kZWxldGUoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKSksYS5kZWZhdWx0LmFsbCh0KS50aGVuKGZ1bmN0aW9uKGUpe2VlLmluZm8oIkFsbCBEQnMgd2VyZSByZXNldCB3aXRoIFN1Y2Nlc3M6IixlKSxyKCEwKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2VlLmVycm9yKCJGYWlsZWQgdG8gcmVzZXQgYWxsIERCcyIsZSkscighMSl9KX0pfSl9fV0pLFJ1bnRpbWVVQX0oKTt0LmRlZmF1bHQ9dGUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe3IoNDI3KSxlLmV4cG9ydHM9cigxMSkuT2JqZWN0LmtleXN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc2KSxvPXIoNjgpO3IoMTM4KSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUwKSxvPXIoMTMzKSxpPXIoNDI5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixhKXt2YXIgcyx1PW4odCksYz1vKHUubGVuZ3RoKSxsPWkoYSxjKTtpZihlJiZyIT1yKXtmb3IoO2M+bDspaWYoKHM9dVtsKytdKSE9cylyZXR1cm4hMH1lbHNlIGZvcig7Yz5sO2wrKylpZigoZXx8bCBpbiB1KSYmdVtsXT09PXIpcmV0dXJuIGV8fGx8fDA7cmV0dXJuIWUmJi0xfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzNCksbz1NYXRoLm1heCxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP28oZSt0LDApOmkoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXtyKDE5Mikscig4MCkscigxMDEpLHIoNDM3KSxyKDQ0NSkscig0NDYpLGUuZXhwb3J0cz1yKDExKS5Qcm9taXNlfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzQpLG89cigxMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxhLHM9U3RyaW5nKG8odCkpLHU9bihyKSxjPXMubGVuZ3RoO3JldHVybiB1PDB8fHU+PWM/ZT8iIjp2b2lkIDA6KGk9cy5jaGFyQ29kZUF0KHUpLGk8NTUyOTZ8fGk+NTYzMTl8fHUrMT09PWN8fChhPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz9lP3MuY2hhckF0KHUpOmk6ZT9zLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhpLTU1Mjk2PDwxMCkrNjU1MzYpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNDEpLG89cig3OSksaT1yKDEwMCksYT17fTtyKDYzKShhLHIoMjIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4oYSx7bmV4dDpvKDEscil9KSxpKGUsdCsiIEl0ZXJhdG9yIil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NCksbz1yKDQxKSxpPXIoNjgpO2UuZXhwb3J0cz1yKDUxKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe28oZSk7Zm9yKHZhciByLGE9aSh0KSxzPWEubGVuZ3RoLHU9MDtzPnU7KW4uZihlLHI9YVt1KytdLHRbcl0pO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQzNSksbz1yKDQzNiksaT1yKDcxKSxhPXIoNTApO2UuZXhwb3J0cz1yKDE5MykoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9YShlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6ImtleXMiPT10P28oMCxyKToidmFsdWVzIj09dD9vKDAsZVtyXSk6bygwLFtyLGVbcl1dKX0sInZhbHVlcyIpLGkuQXJndW1lbnRzPWkuQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbyxpLGEscz1yKDc4KSx1PXIoMjEpLGM9cig2OSksbD1yKDE0MiksZj1yKDI2KSxkPXIoNDUpLHA9cig5OSkseT1yKDQzOCksaD1yKDQzOSksdj1yKDE5OSksZz1yKDIwMCkuc2V0LGI9cig0NDEpKCksXz1yKDE0NCksbT1yKDIwMSksUj1yKDQ0MiksTz1yKDIwMiksdz11LlR5cGVFcnJvcixrPXUucHJvY2VzcyxTPWsmJmsudmVyc2lvbnMsUD1TJiZTLnY4fHwiIixEPXUuUHJvbWlzZSxNPSJwcm9jZXNzIj09bChrKSxMPWZ1bmN0aW9uKCl7fSxqPW89Xy5mLFU9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1ELnJlc29sdmUoMSksdD0oZS5jb25zdHJ1Y3Rvcj17fSlbcigyMikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShMLEwpfTtyZXR1cm4oTXx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbihMKWluc3RhbmNlb2YgdCYmMCE9PVAuaW5kZXhPZigiNi42IikmJi0xPT09Ui5pbmRleE9mKCJDaHJvbWUvNjYiKX1jYXRjaChlKXt9fSgpLEU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuISghZChlKXx8ImZ1bmN0aW9uIiE9dHlwZW9mKHQ9ZS50aGVuKSkmJnR9LHg9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO2IoZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wO3IubGVuZ3RoPmk7KSFmdW5jdGlvbih0KXt2YXIgcixpLGEscz1vP3Qub2s6dC5mYWlsLHU9dC5yZXNvbHZlLGM9dC5yZWplY3QsbD10LmRvbWFpbjt0cnl7cz8ob3x8KDI9PWUuX2gmJkMoZSksZS5faD0xKSwhMD09PXM/cj1uOihsJiZsLmVudGVyKCkscj1zKG4pLGwmJihsLmV4aXQoKSxhPSEwKSkscj09PXQucHJvbWlzZT9jKHcoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KGk9RShyKSk/aS5jYWxsKHIsdSxjKTp1KHIpKTpjKG4pfWNhdGNoKGUpe2wmJiFhJiZsLmV4aXQoKSxjKGUpfX0ocltpKytdKTtlLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkEoZSl9KX19LEE9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4sbz1lLl92LGk9SShlKTtpZihpJiYodD1tKGZ1bmN0aW9uKCl7TT9rLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsbyxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOm99KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLG8pfSksZS5faD1NfHxJKGUpPzI6MSksZS5fYT12b2lkIDAsaSYmdC5lKXRocm93IHQudn0pfSxJPWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5faCYmMD09PShlLl9hfHxlLl9jKS5sZW5ndGh9LEM9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdDtNP2suZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9dS5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxUPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSx4KHQsITApKX0scT1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyB3KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PUUoZSkpP2IoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLGMocSxuLDEpLGMoVCxuLDEpKX1jYXRjaChlKXtULmNhbGwobixlKX19KTooci5fdj1lLHIuX3M9MSx4KHIsITEpKX1jYXRjaChlKXtULmNhbGwoe193OnIsX2Q6ITF9LGUpfX19O1V8fChEPWZ1bmN0aW9uKGUpe3kodGhpcyxELCJQcm9taXNlIiwiX2giKSxwKGUpLG4uY2FsbCh0aGlzKTt0cnl7ZShjKHEsdGhpcywxKSxjKFQsdGhpcywxKSl9Y2F0Y2goZSl7VC5jYWxsKHRoaXMsZSl9fSxuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNDQzKShELnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPWoodih0aGlzLEQpKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iIT10eXBlb2YgZXx8ZSxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49TT9rLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZ4KHRoaXMsITEpLHIucHJvbWlzZX0sY2F0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9fSksaT1mdW5jdGlvbigpe3ZhciBlPW5ldyBuO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1jKHEsZSwxKSx0aGlzLnJlamVjdD1jKFQsZSwxKX0sXy5mPWo9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1EfHxlPT09YT9uZXcgaShlKTpvKGUpfSksZihmLkcrZi5XK2YuRiohVSx7UHJvbWlzZTpEfSkscigxMDApKEQsIlByb21pc2UiKSxyKDQ0NCkoIlByb21pc2UiKSxhPXIoMTEpLlByb21pc2UsZihmLlMrZi5GKiFVLCJQcm9taXNlIix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PWoodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxmKGYuUytmLkYqKHN8fCFVKSwiUHJvbWlzZSIse3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE8ocyYmdGhpcz09PWE/RDp0aGlzLGUpfX0pLGYoZi5TK2YuRiohKFUmJnIoMjAzKShmdW5jdGlvbihlKXtELmFsbChlKS5jYXRjaChMKX0pKSwiUHJvbWlzZSIse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9aih0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9bShmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxhPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBzPWkrKyx1PSExO3IucHVzaCh2b2lkIDApLGErKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW3NdPWUsLS1hfHxuKHIpKX0sbyl9KSwtLWF8fG4ocil9KTtyZXR1cm4gaS5lJiZvKGkudiksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1qKHQpLG49ci5yZWplY3Qsbz1tKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8uZSYmbihvLnYpLHIucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY5KSxvPXIoMTk3KSxpPXIoMTk4KSxhPXIoNDEpLHM9cigxMzMpLHU9cigxNDMpLGM9e30sbD17fSx0PWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixmLGQpe3ZhciBwLHksaCx2LGc9ZD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLGYsdD8yOjEpLF89MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZyl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGcpKXtmb3IocD1zKGUubGVuZ3RoKTtwPl87XysrKWlmKCh2PXQ/YihhKHk9ZVtfXSlbMF0seVsxXSk6YihlW19dKSk9PT1jfHx2PT09bClyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PW8oaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWwpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1sfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSksbz1yKDIwMCkuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT1uLnByb2Nlc3Mscz1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoNzcpKGEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49YS5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXthLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFpfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihzJiZzLnJlc29sdmUpe3ZhciBsPXMucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtsLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGMpfTtlbHNle3ZhciBmPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtkLmRhdGE9Zj0hZn19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpLG89bi5uYXZpZ2F0b3I7ZS5leHBvcnRzPW8mJm8udXNlckFnZW50fHwiIn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjEpLG89cigxMSksaT1yKDQ0KSxhPXIoNTEpLHM9cigyMikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO2EmJnQmJiF0W3NdJiZpLmYodCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjYpLG89cigxMSksaT1yKDIxKSxhPXIoMTk5KSxzPXIoMjAyKTtuKG4uUCtuLlIsIlByb21pc2UiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyxvLlByb21pc2V8fGkuUHJvbWlzZSkscj0iZnVuY3Rpb24iPT10eXBlb2YgZTtyZXR1cm4gdGhpcy50aGVuKHI/ZnVuY3Rpb24ocil7cmV0dXJuIHModCxlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfTplLHI/ZnVuY3Rpb24ocil7cmV0dXJuIHModCxlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByfSl9OmUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjYpLG89cigxNDQpLGk9cigyMDEpO24obi5TLCJQcm9taXNlIix7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PW8uZih0aGlzKSxyPWkoZSk7cmV0dXJuKHIuZT90LnJlamVjdDp0LnJlc29sdmUpKHIudiksdC5wcm9taXNlfX0pfSxmdW5jdGlvbihlLHQscil7cig0NDgpLGUuZXhwb3J0cz1yKDExKS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNik7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cig0NDkpfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2OCksbz1yKDE0NSksaT1yKDgxKSxhPXIoNzYpLHM9cigxOTApLHU9T2JqZWN0LmFzc2lnbjtlLmV4cG9ydHM9IXV8fHIoNzApKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtyXT03LG4uc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbigiIikhPW59KT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1hKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxjPTEsbD1vLmYsZj1pLmY7dT5jOylmb3IodmFyIGQscD1zKGFyZ3VtZW50c1tjKytdKSx5PWw/bihwKS5jb25jYXQobChwKSk6bihwKSxoPXkubGVuZ3RoLHY9MDtoPnY7KWYuY2FsbChwLGQ9eVt2KytdKSYmKHJbZF09cFtkXSk7cmV0dXJuIHJ9OnV9LGZ1bmN0aW9uKGUsdCxyKXtyKDQ1MSk7dmFyIG49cigxMSkuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjYpO24obi5TK24uRiohcig1MSksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OnIoNDQpLmZ9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5sb2c9dm9pZCAwO3ZhciBuPXIoNCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLGk9by5kZWZhdWx0LmdldExvZ2dlcigiYWRkcmVzcy1hbGxvY2F0aW9uIiksYT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJCdXMiKSxzPW8uZGVmYXVsdC5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSx1PW8uZGVmYXVsdC5nZXRMb2dnZXIoIkNvcmVEaXNjb3ZlcnkiKSxjPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN0b3JhZ2VNYW5hZ2VyIiksbD1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSIpLGY9by5kZWZhdWx0LmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxkPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlBFUCIpLHA9by5kZWZhdWx0LmdldExvZ2dlcigiUDJQQ29ubmVjdGlvblJlc29sdmUiKSx5PW8uZGVmYXVsdC5nZXRMb2dnZXIoIlJlZ2lzdHJ5IiksaD1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSx2PW8uZGVmYXVsdC5nZXRMb2dnZXIoIkxvYWRlciIpLGc9by5kZWZhdWx0LmdldExvZ2dlcigiRGVzY3JpcHRvcnMiKSxiPW8uZGVmYXVsdC5nZXRMb2dnZXIoIkRhdGFPYmplY3RzU3RvcmFnZSIpLF89by5kZWZhdWx0LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uIiksbT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTdWJzY3JpcHRpb25NYW5hZ2VyIiksUj1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJPYnNlcnZlck9iamVjdCIpLE89by5kZWZhdWx0LmdldExvZ2dlcigiUmVwb3J0ZXJPYmplY3QiKSx3PW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN5blN1YnNjcmlwdGlvbiIpLGs9by5kZWZhdWx0LmdldExvZ2dlcigiU3luY2hlck1hbmFnZXIiKSxTPW8uZGVmYXVsdC5nZXRMb2dnZXIoIklkZW50aXR5SGFuZGxlciIpLFA9by5kZWZhdWx0LmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLEQ9by5kZWZhdWx0LmdldExvZ2dlcigiUGlwZWxpbmUiKSxNPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN5bmNoZXIiKTtvLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0T2JzZXJ2ZXIiKTt0LmxvZz1vLmRlZmF1bHQsaS5zZXRMZXZlbCgzKSxhLnNldExldmVsKDMpLHMuc2V0TGV2ZWwoMyksdS5zZXRMZXZlbCg1KSxjLnNldExldmVsKDApLGwuc2V0TGV2ZWwoMyksZi5zZXRMZXZlbCgzKSxkLnNldExldmVsKDMpLHAuc2V0TGV2ZWwoMykseS5zZXRMZXZlbCgzKSxoLnNldExldmVsKDApLHYuc2V0TGV2ZWwoMyksZy5zZXRMZXZlbCgzKSxiLnNldExldmVsKDApLF8uc2V0TGV2ZWwoMyksbS5zZXRMZXZlbCgzKSxSLnNldExldmVsKDApLE8uc2V0TGV2ZWwoMCksdy5zZXRMZXZlbCgzKSxrLnNldExldmVsKDApLFMuc2V0TGV2ZWwoMyksUC5zZXRMZXZlbCgzKSxELnNldExldmVsKDMpLE0uc2V0TGV2ZWwoMCksTS5zZXRMZXZlbCgwKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4Miksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDEpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig0KSx5PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocCksaD1yKDEwMiksdj1yKDQ2NSksZz1yKDEwNCksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89cigyMTIpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxSPXIoNTA2KSxPPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoUiksdz1yKDUwNyksaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHcpLFM9cig2KTtyKDE0OSk7dmFyIFA9cigyMTMpLEQ9eS5nZXRMb2dnZXIoIlJlZ2lzdHJ5IiksTT17Q1JFQVRFRDoiY3JlYXRlZCIsTElWRToibGl2ZSIsREVQTE9ZSU5HOiJkZXBsb3lpbmciLERFUExPWUVEOiJkZXBsb3llZCIsUFJPR1JFU1M6ImluLXByb2dyZXNzIixESVNDT05ORUNURUQ6ImRpc2Nvbm5lY3RlZCIsRkFJTEVEOiJkZXBsb3ltZW50LWZhaWxlZCIsREVBRDoiZGVhZCJ9LEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZWdpc3RyeShlLHQscixuLG8saSxhLHMpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxSZWdpc3RyeSksIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nLiIpO3ZhciB1PXRoaXM7dS5yZWdpc3RyeVVSTD1lKyIvcmVnaXN0cnkvIix1LmFwcFNhbmRib3g9dCx1LnJ1bnRpbWVVUkw9ZSx1LnAycEhhbmRsZXJVUkw9YSx1LnJ1bnRpbWVDYXRhbG9ndWU9bix1LnJlbW90ZVJlZ2lzdHJ5PXMsdS5pZE1vZHVsZT1yLHUuc3RvcmFnZU1hbmFnZXI9aSx1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9byx1LmlkZW50aWZpZXI9KDAsUy5nZW5lcmF0ZUdVSUQpKCksdS5oeXBlcnRpZXNMaXN0VG9SZW1vdmU9e30sdS5oeXBlcnRpZXNMaXN0PVtdLHUucmVtb3RlSHlwZXJ0eUxpc3Q9W10sdS5yZW1vdGVEYXRhT2JqZWN0TGlzdD1bXSx1LmlkcExlZ2FjeVByb3h5TGlzdD17fSx1LndhdGNoaW5nWW91PW5ldyBQLldhdGNoaW5nWW91LHUucDJwSGFuZGxlclN0dWI9e30sdS5wMnBSZXF1ZXN0ZXJTdHViPXUud2F0Y2hpbmdZb3Uud2F0Y2goInAycFJlcXVlc3RlclN0dWIiLHt9LCEwKSx1LnAycENvbm5lY3Rpb25MaXN0PXUud2F0Y2hpbmdZb3Uud2F0Y2goInAycENvbm5lY3Rpb25MaXN0Iix7fSwhMCksdS5wMnBIYW5kbGVyQXNzb2NpYXRpb249e30sdS5wcm90b3N0dWJzTGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJwcm90b3N0dWJzTGlzdCIse30sITApLHUuaWRwUHJveHlMaXN0PXUud2F0Y2hpbmdZb3Uud2F0Y2goImlkcFByb3h5TGlzdCIse30sITApLHUuZGF0YU9iamVjdExpc3Q9e30sdS5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3Q9e30sdS5zYW5kYm94ZXNMaXN0PXtzYW5kYm94Ont9LGFwcFNhbmRib3g6e319LHUucGVwTGlzdD17fSx1LnJlZ2lzdHJpZXM9e30sdS5fZG9tYWluPSgwLFMuZGl2aWRlVVJMKSh1LnJlZ2lzdHJ5VVJMKS5kb21haW4sdS5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbZV09dDt2YXIgYz1uZXcgay5kZWZhdWx0KHUpO3UuX3AycENvbm5lY3Rpb25SZXNvbHZlPWN9cmV0dXJuKDAsZC5kZWZhdWx0KShSZWdpc3RyeSxbe2tleToiX2dldElkZW50aXR5QXNzb2NpYXRlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Zvcih2YXIgbiBpbiByLmh5cGVydGllc0xpc3Qpe3ZhciBvPXIuaHlwZXJ0aWVzTGlzdFtuXTtpZihvLl9oeXBlcnR5VVJMPT09dClzd2l0Y2goZSl7Y2FzZSJ1c2VybmFtZSI6cmV0dXJuIG8uX3VzZXIudXNlcm5hbWU7Y2FzZSJjbiI6cmV0dXJuIG8uX3VzZXIuY247Y2FzZSJsb2NhbGUiOnJldHVybiBvLl91c2VyLmxvY2FsZTtjYXNlImF2YXRhciI6cmV0dXJuIG8uX3VzZXIuYXZhdGFyO2Nhc2UidXNlclVSTCI6cmV0dXJuIG8uX3VzZXIudXNlclVSTDtjYXNlIi4iOnJldHVybiBvLl91c2VyO2RlZmF1bHQ6cmV0dXJuIiJ9fXJldHVybiIifX0se2tleToiZ2V0QXBwU2FuZGJveCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcHBTYW5kYm94fX0se2tleToiZ2V0SHlwZXJ0eU93bmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2Zvcih2YXIgciBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBuPXQuaHlwZXJ0aWVzTGlzdFtyXTtpZihuLmh5cGVydHlVUkw9PT1lKXJldHVybiBuLnVzZXIudXNlclVSTH19fSx7a2V5OiJnZXREYXRhT2JqZWN0UmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxTLnJlbW92ZVBhdGhGcm9tVVJMKShlKTtmb3IodmFyIG4gaW4gdC5kYXRhT2JqZWN0TGlzdCl7dmFyIG89dC5kYXRhT2JqZWN0TGlzdFtuXTtpZihvLnVybD09PXIpcmV0dXJuIG8ucmVwb3J0ZXJ9cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRIeXBlcnR5TmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSJoeXBlcnR5Ij09PSgwLFMuZGl2aWRlVVJMKShlKS50eXBlLG49dm9pZCAwLG89cj9lOnQuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKGUpO2Zvcih2YXIgaSBpbiB0Lmh5cGVydGllc0xpc3Qpe3ZhciBhPXQuaHlwZXJ0aWVzTGlzdFtpXTtpZihhLmh5cGVydHlVUkw9PT1vKXtuPWEub2JqZWN0TmFtZTticmVha319cmV0dXJuIG59fSx7a2V5OiJnZXRSZXBvcnRlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuZGF0YU9iamVjdExpc3RbZV07bz9yKG8ucmVwb3J0ZXIpOm4oIk5vIHJlcG9ydGVyIHdhcyBmb3VuZCIpfSl9fSx7a2V5OiJnZXRSZXBvcnRlclVSTFN5bmNob25vdXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdO3JldHVybiByP3IucmVwb3J0ZXI6dm9pZCAwfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV19fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZWREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dm9pZCAwPT09ci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV0mJihyLnN1YnNjcmliZWREYXRhT2JqZWN0TGlzdFtlXT10KX19LHtrZXk6ImdldFByZUF1dGhTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV0sbj1bXTtyZXR1cm4gciYmKG49ci5hdXRob3Jpc2UpLG59fSx7a2V5OiJ1bnJlZ2lzdGVyQWxsSHlwZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1bXTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2Zvcih2YXIgbyBpbiBlLmh5cGVydGllc0xpc3Qpe3ZhciBpPWUuaHlwZXJ0aWVzTGlzdFtvXSxhPWUudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZShpLmh5cGVydHlVUkwpO3QucHVzaChhKX11LmRlZmF1bHQuYWxsKHQpLnRoZW4oZnVuY3Rpb24oKXtyKCJzdWNjZXNzZnVsbHkgdW5yZWdpc3RlcmVkIGFsbCBoeXBlcnRpZXMiKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVySHlwZXJ0eUluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzplLGJvZHk6e21ldGhvZDoiY2xvc2UifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe0QubG9nKCJbUmVnaXN0cnkudW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZV0gQ2xvc2UgUmVwbHkiLHIpLHQuX2RvbWFpblJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVySHlwZXJ0eShlKX0pfX0se2tleToidW5yZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2RvbWFpblJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyRGF0YU9iamVjdChlKX19LHtrZXk6InJlZ2lzdGVyU3Vic2NyaWJlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5kYXRhT2JqZWN0TGlzdFtlXTtuJiYobi5zdWJzY3JpYmVyc3x8KG4uc3Vic2NyaWJlcnM9W10pLG4uc3Vic2NyaWJlcnMucHVzaCh0KSxyLmRhdGFPYmplY3RMaXN0W2VdPW4pfX0se2tleToiZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtpZihyKXJldHVybiByLnN1YnNjcmliZXJzO3Rocm93Ik5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIn19LHtrZXk6InJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLFMuZGVlcENsb25lKShlKTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLG8pe3QuZGF0YU9iamVjdExpc3RbZS51cmxdPWUsdC5zdG9yYWdlTWFuYWdlci5nZXQoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIikudGhlbihmdW5jdGlvbihpKXtpfHwoaT17fSksaVtlLm5hbWUrZS5zY2hlbWErZS5yZXNvdXJjZXMrZS5yZXBvcnRlcl09ZS51cmwsdC5zdG9yYWdlTWFuYWdlci5zZXQoInJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIiwwLGkpLnRoZW4oZnVuY3Rpb24oKXt0LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKHIucmVwb3J0ZXIpJiYoci5pbnRlcndvcmtpbmc9ITApO3ZhciBvPSEwO3IuaGFzT3duUHJvcGVydHkoImRvbWFpbl9yZWdpc3RyYXRpb24iKSYmKG89ci5kb21haW5fcmVnaXN0cmF0aW9uKSxvP3QuX2RvbWFpblJlZ2lzdHJhdGlvbi5yZWdpc3RlckRhdGFPYmplY3QocixlLnJlc3VtZSx0LnAycEhhbmRsZXJTdHViKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KTpuKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7RC5lcnJvcigiW1JlZ2lzdHJ5IHJlZ2lzdGVyRGF0YU9iamVjdF0gRXJyb3I6ICIsZSksbyhlKX0pfSl9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIpe3ZhciBuPXZvaWQgMDsic3RyaW5nIj09dHlwZW9mIGUuaHlwZXJ0eVR5cGU/KG49W10sbi5wdXNoKGUuaHlwZXJ0eVR5cGUpKTpuPWUuaHlwZXJ0eVR5cGU7dmFyIG89ZS5vYmplY3ROYW1lLGk9ZS5kYXRhT2JqZWN0cyxhPVtdO2Zvcih2YXIgcyBpbiBpKWEucHVzaCh0LnJ1bnRpbWVDYXRhbG9ndWUuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoaVtzXSkpO3UuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXTt0LnB1c2goYS5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcy5zY2hlbWUuY29uc3RhbnQpfXIoe3Jlc291cmNlczpuLGRhdGFTY2hlbWE6dCxuYW1lOm99KX0pfSl9fSx7a2V5OiJjaGVja1JlZ2lzdGVyZWRVUkxzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89ZS5yZXBvcnRlcj8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyI7InN0cmluZyI9PXR5cGVvZiB0JiYobz10JiYiaHlwZXJ0eSIhPT0oMCxTLmRpdmlkZVVSTCkodCkudHlwZT8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyIpLHIuc3RvcmFnZU1hbmFnZXIuZ2V0KG8pLnRoZW4oZnVuY3Rpb24oaSl7aWYoaXx8KGk9e30pLCJzdHJpbmciPT10eXBlb2YgdCl7RC5pbmZvKCJbUmVnaXN0cnkgLSBjaGVja1JlZ2lzdGVyZWRVUkxzXSAtIGxvb2sgZm9yICIrdCsiIG9uICIsaSk7dmFyIHM9KDAsYS5kZWZhdWx0KShpKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9aVtlXS5pbmRleE9mKHQpO3JldHVybiBpW2VdW3JdfSk7cmV0dXJuIEQuaW5mbygiW1JlZ2lzdHJ5IC0gY2hlY2tSZWdpc3RlcmVkVVJMc10gLSBmb3VuZCAiK3MubGVuZ3RoKyIgcmVzdWx0cyBvbiAiLHMpLG4oMT09PXMubGVuZ3RoP3M6dm9pZCAwKX1pZigicmVnaXN0cnk6SHlwZXJ0eVVSTHMiIT09byl7dmFyIHU9ZS5uYW1lK2Uuc2NoZW1hK2UucmVzb3VyY2VzK2UucmVwb3J0ZXI7aWYoaVt1XSl7aWYoInN0cmluZyI9PXR5cGVvZiBpW3VdKXt2YXIgYz1bXTtyZXR1cm4gYy5wdXNoKGlbdV0pLG4oYyl9cmV0dXJuIG4oaVt1XSl9cmV0dXJuIG4odm9pZCAwKX1yLl9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oaVtlLnJlc291cmNlcytlLmRhdGFTY2hlbWErZS5uYW1lXT9pW2UucmVzb3VyY2VzK2UuZGF0YVNjaGVtYStlLm5hbWVdOnZvaWQgMCl9KX0pfSl9fSx7a2V5OiJyZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcyxzPXZvaWQgMDtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih1LGMpe2kuaWRNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb24obykudGhlbihmdW5jdGlvbihvKXt2YXIgbD1vLnVzZXJQcm9maWxlO3ZvaWQgMD09PWkuX21lc3NhZ2VCdXM/YygiW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gTWVzc2FnZUJ1cyBpcyB1bmRlZmluZWQiKTppLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiKS50aGVuKGZ1bmN0aW9uKG8pe2kuX2dldFJlc291cmNlc0FuZFNjaGVtZXMocikudGhlbihmdW5jdGlvbihmKXtzPWYsb3x8KG89e30pLG9bcy5yZXNvdXJjZXMrcy5kYXRhU2NoZW1hK3MubmFtZV09bi5hZGRyZXNzLGkuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZWdpc3RyeTpIeXBlcnR5VVJMcyIsMCxvKS50aGVuKGZ1bmN0aW9uKCl7ImFwcCI9PT1lLnR5cGU/aS5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbbi5hZGRyZXNzWzBdXT1lOiJub3JtYWwiPT09ZS50eXBlP2kuc2FuZGJveGVzTGlzdC5zYW5kYm94W24uYWRkcmVzc1swXV09ZTpjKCJXcm9uZyBTYW5kYm94VHlwZSIpO3ZhciBvPXZvaWQgMCxmPXZvaWQgMDswIT09KDAsYS5kZWZhdWx0KShpLnAycEhhbmRsZXJTdHViKS5sZW5ndGgmJihvPWkucDJwSGFuZGxlclN0dWJbaS5ydW50aW1lVVJMXS51cmwsZj1oLnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvci5wMnBSZXF1ZXN0ZXJTdHViKTt2YXIgZD1uZXcgbS5kZWZhdWx0KGkuaWRlbnRpZmllcixpLnJlZ2lzdHJ5VVJMLHQscixuLmFkZHJlc3NbMF0sbCwiZ3VpZCIsaS5ydW50aW1lVVJMLCJjdHgiLG8sZixzLmRhdGFTY2hlbWEscy5yZXNvdXJjZXMpO2kuaHlwZXJ0aWVzTGlzdC5wdXNoKGQpO3ZhciBwPSEwO3IuaGFzT3duUHJvcGVydHkoIl9jb25maWd1cmF0aW9uIikmJnIuY29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3JlZ2lzdHJhdGlvbiIpJiYocD1yLmNvbmZpZ3VyYXRpb24uZG9tYWluX3JlZ2lzdHJhdGlvbikscD9pLl9kb21haW5SZWdpc3RyYXRpb24ucmVnaXN0ZXJIeXBlcnR5KGQsbi5uZXdBZGRyZXNzKS50aGVuKGZ1bmN0aW9uKGUpe3UoZSl9KTp1KHt1cmw6ZC5oeXBlcnR5VVJMfSl9KS5jYXRjaChmdW5jdGlvbihlKXtjKGUpfSl9KX0pfSxmdW5jdGlvbihlKXtjKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSAiLGUpfSl9KX19LHtrZXk6InVucmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ITEsaT0wO2ZvcihpPTA7aTx0Lmh5cGVydGllc0xpc3QubGVuZ3RoO2krKyl7dmFyIGE9dC5oeXBlcnRpZXNMaXN0W2ldO2lmKHZvaWQgMCE9PWEmJmEuaHlwZXJ0eVVSTD09PWUpe289ITA7YnJlYWt9fSExPT09bz9uKCJIeXBlcnR5IG5vdCBmb3VuZCIpOihkZWxldGUgdC5oeXBlcnRpZXNMaXN0W2ldLHIoIkh5cGVydHkgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiKSl9KX19LHtrZXk6ImRpc2NvdmVyUHJvdG9zdHViIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLFMuZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkobikmJnQucHJvdG9zdHVic0xpc3Rbbl0uc3RhdHVzPT09TS5MSVZFKXJldHVybiB0LnByb3Rvc3R1YnNMaXN0W25dO3Rocm93IHQucHJvdG9zdHVic0xpc3Rbbl09e3N0YXR1czpNLkRFUExPWUlOR30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclByb3RvU3R1YiBdIE1lc3NhZ2UgTm9kZSBQcm90b3N0dWIgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX19LHtrZXk6ImRpc2NvdmVyUDJQU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihlKXtpZih0LnAycFJlcXVlc3RlclN0dWIuaGFzT3duUHJvcGVydHkoZSkmJnQucDJwUmVxdWVzdGVyU3R1YltlXS5zdGF0dXM9PT1NLkxJVkUpcmV0dXJuIHQucDJwUmVxdWVzdGVyU3R1YltlXTt0aHJvdyB0LnAycFJlcXVlc3RlclN0dWJbZV09e3N0YXR1czpNLkNSRUFURUR9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQMlBTdHViIF0gUDJQIFJlcXVlc3RlciBTdHViIE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9aWYodC5wMnBIYW5kbGVyU3R1Yi5oYXNPd25Qcm9wZXJ0eSh0LnJ1bnRpbWVVUkwpKXJldHVybiB0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF07dGhyb3cgdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdPXtzdGF0dXM6TS5DUkVBVEVEfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUDJQU3R1YiBdIFAyUCBIYW5kbGVyIFN0dWIgTm90IEZvdW5kLiIpfX0se2tleToicmVnaXN0ZXJTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBhPXRoaXMscz1pO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHUsYyl7dmFyIGw9dm9pZCAwO3ZvaWQgMD09PWEuX21lc3NhZ2VCdXMmJmMoIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViXSAtIHN0dWJJRCAiLHQpO3ZhciBmPXZvaWQgMDtpZihyKWlmKHIuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmci5pc0hhbmRsZXJTdHViKWw9YS5wMnBIYW5kbGVyVVJMLGEucDJwSGFuZGxlclN0dWJbdF09e3VybDpsLHN0YXR1czpNLkNSRUFURUR9LGEucDJwSGFuZGxlckFzc29jaWF0aW9uW2EucnVudGltZVVSTF09W10sYS5zYW5kYm94ZXNMaXN0LnNhbmRib3hbbF09ZSxELmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIFAyUEhhbmRsZXJTdHViXSAtICIsdCwiIC0gIixsKSx1KGEucDJwSGFuZGxlclN0dWJbdF0pO2Vsc2V7Zj1yLnAycFJlcXVlc3RlclN0dWIsbD0icnVudGltZTovLyIrKDAsUy5kaXZpZGVVUkwpKHIucmVtb3RlUnVudGltZVVSTCkuZG9tYWluKyIvcDJwcmVxdWVzdGVyLyIrKDAsUy5nZW5lcmF0ZUdVSUQpKCksRC5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBQMlBSZXF1ZXN0ZXJTdHViXSAtICIsZiwiIC0gIixsKSxhLnAycEhhbmRsZXJBc3NvY2lhdGlvblthLnJ1bnRpbWVVUkxdLnB1c2gobCksYS5wMnBSZXF1ZXN0ZXJTdHViW3RdPXt1cmw6bCxzdGF0dXM6TS5DUkVBVEVEfSxhLnNhbmRib3hlc0xpc3Quc2FuZGJveFtsXT1lO3ZhciBkPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206YS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIithLl9kb21haW4rIi9zbSIsYm9keTp7c3Vic2NyaWJlOltsXSxzb3VyY2U6YS5yZWdpc3RyeVVSTH19O2EuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZCxmdW5jdGlvbihlKXt9KSx1KGEucDJwUmVxdWVzdGVyU3R1Ylt0XSl9ZWxzZSBsPSJzdHJpbmciPT09ISh2b2lkIDA9PT1pPyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkoaSkpJiZpLmhhc093blByb3BlcnR5KCJfaW50ZXJ3b3JraW5nIikmJmkuX2ludGVyd29ya2luZz8icnVudGltZTovLyIrdCsiL3Byb3Rvc3R1Yi9zY2hlbWUxIjoicnVudGltZTovLyIrdCsiL3Byb3Rvc3R1Yi8iKygwLFMuZ2VuZXJhdGVHVUlEKSgpLEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViIC0gTm9ybWFsIFN0dWJdIC0gIix0KSxhLnByb3Rvc3R1YnNMaXN0W3RdPXt1cmw6bCxzdGF0dXM6TS5ERVBMT1lJTkd9LG4mJihhLnByb3Rvc3R1YnNMaXN0W3RdLmRlc2NyaXB0b3JVUkw9bikscyYmcy5pbnRlcndvcmtpbmcmJihhLnByb3Rvc3R1YnNMaXN0W3RdLmludGVyd29ya2luZz1zLmludGVyd29ya2luZyksYS5zYW5kYm94ZXNMaXN0LnNhbmRib3hbbF09ZSx1KGEucHJvdG9zdHVic0xpc3RbdF0pO2EuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIobCsiL3N0YXR1cyIsZnVuY3Rpb24oZSl7YS5fb25Qcm90b3N0dWJTdGF0dXNFdmVudChlKX0pfSl9fSx7a2V5OiJfb25Qcm90b3N0dWJTdGF0dXNFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbTtpZighZS50by5pbmNsdWRlcygiL3N0YXR1cyIpKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RyeSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpO3ZhciBuPWUuZnJvbTtpZihlLmZyb209dC5ydW50aW1lVVJMLGUudG89dC5ydW50aW1lVVJMKyIvc3RhdHVzIixlLmJvZHkucmVzb3VyY2U9bix0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpLHIuaW5jbHVkZXMoIi9wcm90b3N0dWIvIikpKDAsYS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG9zdHVic0xpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LnByb3Rvc3R1YnNMaXN0W3JdLnN0YXR1cz1lLmJvZHkudmFsdWV9KTtlbHNlIGlmKGUuYm9keS5yZXNvdXJjZSl7dmFyIG89ZS5ib2R5LnJlc291cmNlO2lmKHQucDJwQ29ubmVjdGlvbkxpc3Rbb10pdC5wMnBDb25uZWN0aW9uTGlzdFtvXS5zdGF0dXM9ZS5ib2R5LnZhbHVlLHQucDJwQ29ubmVjdGlvbkxpc3Rbb10udXJsPXI7ZWxzZXt2YXIgaT17c3RhdHVzOmUuYm9keS52YWx1ZSx1cmw6cn07dC5wMnBDb25uZWN0aW9uTGlzdFtvXT1pfXIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIik/dC5wMnBSZXF1ZXN0ZXJTdHViW29dLnN0YXR1cz1lLmJvZHkudmFsdWU6ImRpc2Nvbm5lY3RlZCI9PT1lLmJvZHkudmFsdWUmJmRlbGV0ZSB0LnAycENvbm5lY3Rpb25MaXN0W29dfWVsc2V7aWYoci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKSlyZXR1cm4gdm9pZCBELmVycm9yKCJbUmVnaXN0cnkgb25Qcm90b3N0dWJTdGF0dXNFdmVudF0gcmVzb3VyY2UgbWlzc2luZzogIixlKTt0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF0uc3RhdHVzPWUuYm9keS52YWx1ZX19fSx7a2V5OiJ1bnJlZ2lzdGVyU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSB0LnByb3Rvc3R1YnNMaXN0W2VdLHIoIlByb3Rvc3R1YlVSTCByZW1vdmVkIikpOm4oIkVycm9yIG9uIHVucmVnaXN0ZXJTdHViOiBIeXBlcnR5IG5vdCBmb3VuZCIpfSl9fSx7a2V5OiJyZWdpc3RlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7dm9pZCAwPT09ci5fbWVzc2FnZUJ1cyYmbygiTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gcmVnaXN0ZXJTdHViIiksaT0iZG9tYWluLWlkcDovLyIrdCsiL3N0dWIvIisoMCxTLmdlbmVyYXRlR1VJRCkoKSxyLmlkcFByb3h5TGlzdFt0XT17dXJsOmksc3RhdHVzOk0uREVQTE9ZSU5HfSxyLnNhbmRib3hlc0xpc3Quc2FuZGJveFtpXT1lLG4oaSksci5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihpKyIvc3RhdHVzIixmdW5jdGlvbihlKXtyLl9vbklkcFByb3h5U3RhdHVzRXZlbnQoZSl9KX0pfX0se2tleToiX29uSWRwUHJveHlTdGF0dXNFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbTtpZighZS50by5pbmNsdWRlcygiL3N0YXR1cyIpKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RyeSBvbklkcFByb3h5U3RhdHVzRXZlbnRdIE5vdCBTdGF0dXMgRXZlbnQ6ICIsZSk7KDAsYS5kZWZhdWx0KSh0LmlkcFByb3h5TGlzdCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlkcFByb3h5TGlzdFtlXS51cmw9PT1yfSkubWFwKGZ1bmN0aW9uKHIpe3QuaWRwUHJveHlMaXN0W3JdLnN0YXR1cz1lLmJvZHkudmFsdWV9KX19LHtrZXk6ImRpc2NvdmVySWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTt2YXIgdD10aGlzLHI9KDAsUy5kaXZpZGVVUkwpKGUpLG49ci5kb21haW47aWYodC5pZHBQcm94eUxpc3QuaGFzT3duUHJvcGVydHkobikmJnQuaWRwUHJveHlMaXN0W25dLnN0YXR1cz09PU0uTElWRSlyZXR1cm4gdC5pZHBQcm94eUxpc3Rbbl07dGhyb3cgdC5pZHBQcm94eUxpc3Rbbl09e3N0YXR1czpNLlBST0dSRVNTfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVySWRwUHJveHkgXSBJZHAgUHJveHkgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX19LHtrZXk6InJlZ2lzdGVyUEVQIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7ci5wZXBMaXN0W3RdPWUsbigiUEVQIHJlZ2lzdGVyZWQgd2l0aCBzdWNjZXNzIil9KX19LHtrZXk6InVucmVnaXN0ZXJQRVAiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2b2lkIDA9PT10LnBlcExpc3RbZV0/bigiUGVwIE5vdCBmb3VuZC4iKTpyKCJQRVAgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuIil9KX19LHtrZXk6ImdldFNhbmRib3giLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQYXJhbWV0ZXIgdXJsIG5lZWRlZCIpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7aWYoIShpPXIuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2VdKSYmIShpPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W2VdKSl7dmFyIHM9dm9pZCAwO3M9ZS5pbmNsdWRlcygiOi8vIik/KDAsUy5kaXZpZGVVUkwpKGUpLmRvbWFpbjplO2Zvcih2YXIgdSBpbiByLnNhbmRib3hlc0xpc3Quc2FuZGJveClpZih1LmluY2x1ZGVzKHMpJiZyLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XS5tYXRjaGVzKHQpKXt2YXIgYz1mdW5jdGlvbigpe3ZhciBlPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdO3JldHVybigwLGEuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiJicm93c2VyIj09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuTk9STUFMfHwid2luZG93U2FuYm94Ij09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuV0lORE9XfSkubGVuZ3RoPjAmJihpPWUpLCJicmVhayJ9KCk7aWYoImJyZWFrIj09PWMpYnJlYWt9fWk/bihpKTpvKCJubyBzYW5kYm94IGZvdW5kIGZvcjogIitlKX0pfX0se2tleToicmVzb2x2ZU5vcm1hbFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0oMCxTLmRpdmlkZVVSTCkoZSksaT1vLmRvbWFpbixhPW8udHlwZTtlLmluY2x1ZGVzKHQucnVudGltZVVSTCkmJihELmVycm9yKCJbUmVnaXN0cnkgLSByZXNvbHZlXSBVUkwgdG8gYmUgcmVzb2x2ZWQgc2hvdWxkIGhhdmUgbGlzdGVuZXJzICIsZSksbigiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gVVJMIHRvIGJlIHJlc29sdmVkIHNob3VsZCBoYXZlIGxpc3RlbmVycyAiLGUpKSxlLmluY2x1ZGVzKCJnbG9iYWw6Ly9yZWdpc3RyeSIpP2k9dC5fZG9tYWluOmkuaW5kZXhPZigibXNnLW5vZGUuIikmJmkuaW5kZXhPZigicmVnaXN0cnkuIil8fChpPWkuc3Vic3RyaW5nKGkuaW5kZXhPZigiLiIpKzEpKSx0LmlzTGVnYWN5KGUpLnRoZW4oZnVuY3Rpb24obyl7byYmImRvbWFpbi1pZHAiIT09YSYmKGk9YSsiLiIrKDAsUy5nZXRVc2VySWRlbnRpdHlEb21haW4pKGUpKSxELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSBkb21haW5Vcmw6IixpKTt2YXIgcz12b2lkIDA7cz0iZG9tYWluLWlkcCI9PT1hPyEhdC5pZHBQcm94eUxpc3QuaGFzT3duUHJvcGVydHkoaSkmJnQuaWRwUHJveHlMaXN0W2ldOiEhdC5wcm90b3N0dWJzTGlzdC5oYXNPd25Qcm9wZXJ0eShpKSYmdC5wcm90b3N0dWJzTGlzdFtpXSxELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSByZWdpc3RyZWQ6IixzKSxzJiZzLmhhc093blByb3BlcnR5KCJzdGF0dXMiKSYmKHMuc3RhdHVzPT09TS5ERVBMT1lFRHx8cy5zdGF0dXM9PT1NLkNSRUFURUR8fHMuc3RhdHVzPT09TS5MSVZFfHxzLnN0YXR1cz09PU0uRElTQ09OTkVDVEVEKT8oRC5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gUmVzb2x2ZWQ6ICIscy51cmwscy5zdGF0dXMpLHIocy51cmwpKToiZG9tYWluLWlkcCI9PT1hPyh0LndhdGNoaW5nWW91Lm9ic2VydmUoImlkcFByb3h5TGlzdCIsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiZyKHQuaWRwUHJveHlMaXN0W2ldLnVybCl9KSxzfHwoRC5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIGRlcGxveSBuZXcgSURQUHJveHk6ICIsaSksdC5sb2FkZXIubG9hZElkcFByb3h5KGkpLnRoZW4oZnVuY3Rpb24oKXtELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gSWRQIFByb3h5IGRlcGxveWVkOiAiLHQuaWRwUHJveHlMaXN0W2ldKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe0QuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgTG9hZCBJRFBQcm94eTogIixlKSx0LmlkcFByb3h5TGlzdFtpXS5zdGF0dXM9ImRlcGxveW1lbnQtZmFpbGVkIixuKGUpfSkpKToodC53YXRjaGluZ1lvdS5vYnNlcnZlKCJwcm90b3N0dWJzTGlzdCIsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiZyKHQucHJvdG9zdHVic0xpc3RbaV0udXJsKX0pLHN8fChELmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSB0cmlnZ2VyIG5ldyBQcm90b2NvbFN0dWI6ICIsaSksdC5sb2FkZXIubG9hZFN0dWIoaSkudGhlbihmdW5jdGlvbigpe30pLmNhdGNoKGZ1bmN0aW9uKGUpe0QuZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gRXJyb3IgcmVzb2x2aW5nIExvYWQgUHJvdG9jb2xTdHViOiAiLGUpLG4oZSl9KSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7RC5lcnJvcigiW1JlZ2lzdHJ5LnJlc29sdmVdIEVycm9yIHJlc29sdmluZyBpc2xlZ2FjeTogIixlKSxuKGUpfSl9KX19LHtrZXk6InJlc29sdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe0QuaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSAgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ZS50bz9lLnRvOmUsaT0hKCFlLmJvZHl8fCFlLmJvZHkucDJwKSYmZS5ib2R5LnAycDshdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdfHwoMCxTLmlzQmFja2VuZFNlcnZpY2VVUkwpKG8pfHxvLmluY2x1ZGVzKHQucnVudGltZVVSTCl8fG8uaW5jbHVkZXMoIi9wMnBoYW5kbGVyLyIpfHxvLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpPyhELmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUmVzb2x2ZSBub3JtYWwgc3R1YjogIix0LnAycEhhbmRsZXJTdHViLHQucnVudGltZVVSTCwoMCxTLmlzQmFja2VuZFNlcnZpY2VVUkwpKG8pLGksbyksdC5yZXNvbHZlTm9ybWFsU3R1YihvKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KSk6KEQuaW5mbygiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gLSBjaGVja1AyUDogIixpLG8sdC5fcDJwQ29ubmVjdGlvblJlc29sdmUpLHQuX3AycENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQKGUpLnRoZW4oZnVuY3Rpb24obil7dmFyIGE9dC5wMnBDb25uZWN0aW9uTGlzdFtuLnJ1bnRpbWVdO3N3aXRjaChhfHwoYT1uLHQucDJwQ29ubmVjdGlvbkxpc3Rbbi5ydW50aW1lXT1hKSxhLnN0YXR1cyl7Y2FzZSBNLkxJVkU6ZS5ib2R5LnBlZXI9bi5ydW50aW1lLHIoYS51cmwsZSk7YnJlYWs7Y2FzZSBNLkNSRUFURUQ6Y2FzZSBNLlBST0dSRVNTOnQucmVzb2x2ZU5vcm1hbFN0dWIobykudGhlbihmdW5jdGlvbihlKXtyKGUpfSk7YnJlYWs7Y2FzZSBNLkRJU0NPTk5FQ1RFRDpELmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gcDJwQ29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQgbGV0cyB0cnkgdG8gcmVjb25uZWN0IiksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyKGEpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7RC5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSk7YnJlYWs7ZGVmYXVsdDpELmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUDJQOiAiLGkpLGk/dC5fc2V0dXBQMlBSZXF1ZXN0ZXIobikudGhlbihmdW5jdGlvbihlKXtyKGUpfSxmdW5jdGlvbihlKXtELmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gUmVhc29uOiAiLGUpLHQucmVzb2x2ZU5vcm1hbFN0dWIobykudGhlbihmdW5jdGlvbihlKXtyKGUpfSl9KTp0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfX0sZnVuY3Rpb24oZSl7RC5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSkpfSl9fSx7a2V5OiJfc2V0dXBQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEQubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gbG9hZFN0dWIgd2l0aCBwMnBSZXF1ZXN0ZXI6ICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPWUucnVudGltZSxpPXtyZW1vdGVSdW50aW1lVVJMOm8scDJwSGFuZGxlcjplLnAycEhhbmRsZXIscDJwUmVxdWVzdGVyU3R1YjohMH07dC53YXRjaGluZ1lvdS5vYnNlcnZlKCJwMnBSZXF1ZXN0ZXJTdHViIixmdW5jdGlvbihlKXtELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlclN0dWJzIGNoYW5nZWQgIit0LnAycFJlcXVlc3RlclN0dWIpLGUua2V5cGF0aC5zcGxpdCgiLiIpWzBdPT09byYmInN0YXR1cyI9PT1lLm5hbWUmJmUubmV3VmFsdWU9PT1NLkxJVkUmJihELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlciBpcyBsaXZlICIrdC5wMnBSZXF1ZXN0ZXJTdHViW29dKSxyKHQucDJwUmVxdWVzdGVyU3R1YltvXS51cmwpKX0pLHQubG9hZGVyLmxvYWRTdHViKGUucDJwUmVxdWVzdGVyLGkpLnRoZW4oZnVuY3Rpb24oKXtELmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIHAycFJlcXVlc3RlciBkZXBsb3llZDogIix0LnAycFJlcXVlc3RlclN0dWJbb10pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJpc0xlZ2FjeSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGU9PT10Ll9kb21haW4pcmV0dXJuIHIoITEpO0QubG9nKCJbUmVnaXN0cnldIFtSZWdpc3RyeS5SZWdpc3RyeS5pc0xlZ2FjeV0gIixlKTt2YXIgbz1bImh5cGVydHktcnVudGltZSIsImRvbWFpbiIsImdsb2JhbCIsImh5cGVydHkiXSxpPSgwLFMuZGl2aWRlVVJMKShlKTtpZigtMSE9PW8uaW5kZXhPZihpLnR5cGUpfHxpLmRvbWFpbj09PXQuX2RvbWFpbilyZXR1cm4gcighMSk7aWYoZS5zcGxpdCgiQCIpLmxlbmd0aD4xKXt2YXIgYT1pLmRvbWFpbjtpZih0LmlkcExlZ2FjeVByb3h5TGlzdC5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHM9dC5pZHBMZWdhY3lQcm94eUxpc3RbYV07cmV0dXJuIHIocy5pbnRlcndvcmtpbmc/cy5pbnRlcndvcmtpbmc6ITEpfXQuX2xvYWRlci5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IoYSkudGhlbihmdW5jdGlvbihlKXtlLmludGVyd29ya2luZz8odC5pZHBMZWdhY3lQcm94eUxpc3RbYV09ZSxyKGUuaW50ZXJ3b3JraW5nKSk6cighMSl9KS5jYXRjaChmdW5jdGlvbihlKXtELndhcm4oInByb2JsZW0gbG9hZGluZyBpZHAgcHJveHkgZGVzY3JpcHRvciBmb3IgZG9tYWluOiIsYSwiIGJlY2F1c2UgIixlKSxuKGUpfSl9ZWxzZSByKHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoZSkpfSl9fSx7a2V5OiJpc0xvY2FsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImh5cGVydHktcnVudGltZSIsInJ1bnRpbWUiXSxyPVsiaHlwZXJ0eSJdLG49ZS5zcGxpdCgiOi8vIilbMF07aWYoLTEhPT10LmluZGV4T2YobikpcmV0dXJuIGUuaW5jbHVkZXModGhpcy5ydW50aW1lVVJMKTtpZigtMSE9PXIuaW5kZXhPZihuKSl7Zm9yKHZhciBvIGluIHRoaXMuaHlwZXJ0aWVzTGlzdCl7aWYodGhpcy5oeXBlcnRpZXNMaXN0W29dLmh5cGVydHlVUkw9PT1lKXJldHVybiEwfXJldHVybiExfWUuaW5jbHVkZXMoIi9zdWJzY3JpcHRpb24iKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIi9zdWJzY3JpcHRpb24iKSkpO3ZhciBpPXRoaXMuZGF0YU9iamVjdExpc3RbZV07cmV0dXJuISFpJiYoIWkuaW50ZXJ3b3JraW5nfHwhaS5pbnRlcndvcmtpbmcpfX0se2tleToiaXNJbnRlcndvcmtpbmdQcm90b1N0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgZSYmKCEhZS5pbmNsdWRlcygiL3Byb3Rvc3R1Yi8iKSYmKDAsYS5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHQucHJvdG9zdHVic0xpc3Rbcl0udXJsPT09ZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hIXQucHJvdG9zdHVic0xpc3RbZV0uaGFzT3duUHJvcGVydHkoImludGVyd29ya2luZyIpJiZ0LnByb3Rvc3R1YnNMaXN0W2VdLmludGVyd29ya2luZ30pWzBdKX19LHtrZXk6ImxvYWRlciIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRlcj1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVyfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX21lc3NhZ2VCdXM9ZSx0Ll9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHQucmVnaXN0cnlVUkwsZnVuY3Rpb24oZSl7KDAsUy5pc0h5cGVydHlVUkwpKGUuZnJvbSksZS5ib2R5Lmhhc093blByb3BlcnR5KCJjcml0ZXJpYSIpO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2UiKSYmIi4iIT09ZS5ib2R5LnJlc291cmNlJiYoKDAsUy5pc1VSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzVXNlclVSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzSHlwZXJ0eVVSTCkoZS5ib2R5LnJlc291cmNlKSk7ZS50eXBlO2lmKGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmKGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpLGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgidXNlciIpKSwicmVzcG9uc2UiPT09ZS50eXBlKXJldHVybiB2b2lkIEQuZXJyb3IoIltSZWdpc3RlciBsaXN0ZW5lcl0gc2tpcHBpbmcgIixlKTt2YXIgcj10Ll9nZXRJZGVudGl0eUFzc29jaWF0ZWQoZS5ib2R5LnJlc291cmNlLGUuYm9keS5jcml0ZXJpYSksbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntyZXNvdXJjZTpyfX07bi5ib2R5LmNvZGU9cj8yMDA6NDA0LHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobil9KTt2YXIgcj1iLmRlZmF1bHQuaW5zdGFuY2U7dC5hZGRyZXNzQWxsb2NhdGlvbj1yLHQuX2RvbWFpblJlZ2lzdHJhdGlvbj1uZXcgTy5kZWZhdWx0KHQucnVudGltZVVSTCx0LnJlZ2lzdHJ5VVJMLHQuX2RvbWFpbixlKX19XSksUmVnaXN0cnl9KCk7dC5kZWZhdWx0PUwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ1NSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDgwKSxyKDEwMSksZS5leHBvcnRzPXIoMTQ2KS5mKCJpdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDU3KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDU4KSxyKDE5Mikscig0NjMpLHIoNDY0KSxlLmV4cG9ydHM9cigxMSkuU3ltYm9sfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjEpLG89cig2MiksaT1yKDUxKSxhPXIoMjYpLHM9cigxOTQpLHU9cig0NTkpLktFWSxjPXIoNzApLGw9cigxMzYpLGY9cigxMDApLGQ9cig5OCkscD1yKDIyKSx5PXIoMTQ2KSxoPXIoMTQ3KSx2PXIoNDYwKSxnPXIoNDYxKSxiPXIoNDEpLF89cig0NSksbT1yKDUwKSxSPXIoMTQwKSxPPXIoNzkpLHc9cigxNDEpLGs9cig0NjIpLFM9cigxNDgpLFA9cig0NCksRD1yKDY4KSxNPVMuZixMPVAuZixqPWsuZixVPW4uU3ltYm9sLEU9bi5KU09OLHg9RSYmRS5zdHJpbmdpZnksQT1wKCJfaGlkZGVuIiksST1wKCJ0b1ByaW1pdGl2ZSIpLEM9e30ucHJvcGVydHlJc0VudW1lcmFibGUsVD1sKCJzeW1ib2wtcmVnaXN0cnkiKSxxPWwoInN5bWJvbHMiKSxIPWwoIm9wLXN5bWJvbHMiKSxOPU9iamVjdC5wcm90b3R5cGUsRj0iZnVuY3Rpb24iPT10eXBlb2YgVSxCPW4uUU9iamVjdCxHPSFCfHwhQi5wcm90b3R5cGV8fCFCLnByb3RvdHlwZS5maW5kQ2hpbGQsSz1pJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXcoTCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBMKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1NKE4sdCk7biYmZGVsZXRlIE5bdF0sTChlLHQsciksbiYmZSE9PU4mJkwoTix0LG4pfTpMLFY9ZnVuY3Rpb24oZSl7dmFyIHQ9cVtlXT13KFUucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LFc9RiYmInN5bWJvbCI9PXR5cGVvZiBVLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVfSxZPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PU4mJlkoSCx0LHIpLGIoZSksdD1SKHQsITApLGIociksbyhxLHQpPyhyLmVudW1lcmFibGU/KG8oZSxBKSYmZVtBXVt0XSYmKGVbQV1bdF09ITEpLHI9dyhyLHtlbnVtZXJhYmxlOk8oMCwhMSl9KSk6KG8oZSxBKXx8TChlLEEsTygxLHt9KSksZVtBXVt0XT0hMCksSyhlLHQscikpOkwoZSx0LHIpfSxKPWZ1bmN0aW9uKGUsdCl7YihlKTtmb3IodmFyIHIsbj12KHQ9bSh0KSksbz0wLGk9bi5sZW5ndGg7aT5vOylZKGUscj1uW28rK10sdFtyXSk7cmV0dXJuIGV9LHo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD93KGUpOkoodyhlKSx0KX0sWD1mdW5jdGlvbihlKXt2YXIgdD1DLmNhbGwodGhpcyxlPVIoZSwhMCkpO3JldHVybiEodGhpcz09PU4mJm8ocSxlKSYmIW8oSCxlKSkmJighKHR8fCFvKHRoaXMsZSl8fCFvKHEsZSl8fG8odGhpcyxBKSYmdGhpc1tBXVtlXSl8fHQpfSwkPWZ1bmN0aW9uKGUsdCl7aWYoZT1tKGUpLHQ9Uih0LCEwKSxlIT09Tnx8IW8ocSx0KXx8byhILHQpKXt2YXIgcj1NKGUsdCk7cmV0dXJuIXJ8fCFvKHEsdCl8fG8oZSxBKSYmZVtBXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9aihtKGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKHEsdD1yW2krK10pfHx0PT1BfHx0PT11fHxuLnB1c2godCk7cmV0dXJuIG59LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PU4sbj1qKHI/SDptKGUpKSxpPVtdLGE9MDtuLmxlbmd0aD5hOykhbyhxLHQ9blthKytdKXx8ciYmIW8oTix0KXx8aS5wdXNoKHFbdF0pO3JldHVybiBpfTtGfHwoVT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBVKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24ocil7dGhpcz09PU4mJnQuY2FsbChILHIpLG8odGhpcyxBKSYmbyh0aGlzW0FdLGUpJiYodGhpc1tBXVtlXT0hMSksSyh0aGlzLGUsTygxLHIpKX07cmV0dXJuIGkmJkcmJksoTixlLHtjb25maWd1cmFibGU6ITAsc2V0OnR9KSxWKGUpfSxzKFUucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLFMuZj0kLFAuZj1ZLHIoMjA1KS5mPWsuZj1RLHIoODEpLmY9WCxyKDE0NSkuZj1aLGkmJiFyKDc4KSYmcyhOLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsWCwhMCkseS5mPWZ1bmN0aW9uKGUpe3JldHVybiBWKHAoZSkpfSksYShhLkcrYS5XK2EuRiohRix7U3ltYm9sOlV9KTtmb3IodmFyIGVlPSJoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcyIuc3BsaXQoIiwiKSx0ZT0wO2VlLmxlbmd0aD50ZTspcChlZVt0ZSsrXSk7Zm9yKHZhciByZT1EKHAuc3RvcmUpLG5lPTA7cmUubGVuZ3RoPm5lOyloKHJlW25lKytdKTthKGEuUythLkYqIUYsIlN5bWJvbCIse2ZvcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhULGUrPSIiKT9UW2VdOlRbZV09VShlKX0sa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBUKWlmKFRbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtHPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtHPSExfX0pLGEoYS5TK2EuRiohRiwiT2JqZWN0Iix7Y3JlYXRlOnosZGVmaW5lUHJvcGVydHk6WSxkZWZpbmVQcm9wZXJ0aWVzOkosZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiQsZ2V0T3duUHJvcGVydHlOYW1lczpRLGdldE93blByb3BlcnR5U3ltYm9sczpafSksRSYmYShhLlMrYS5GKighRnx8YyhmdW5jdGlvbigpe3ZhciBlPVUoKTtyZXR1cm4iW251bGxdIiE9eChbZV0pfHwie30iIT14KHthOmV9KXx8Int9IiE9eChPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7aWYocj10PW5bMV0sKF8odCl8fHZvaWQgMCE9PWUpJiYhVyhlKSlyZXR1cm4gZyh0KXx8KHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmKHQ9ci5jYWxsKHRoaXMsZSx0KSksIVcodCkpcmV0dXJuIHR9KSxuWzFdPXQseC5hcHBseShFLG4pfX0pLFUucHJvdG90eXBlW0ldfHxyKDYzKShVLnByb3RvdHlwZSxJLFUucHJvdG90eXBlLnZhbHVlT2YpLGYoVSwiU3ltYm9sIiksZihNYXRoLCJNYXRoIiwhMCksZihuLkpTT04sIkpTT04iLCEwKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOTgpKCJtZXRhIiksbz1yKDQ1KSxpPXIoNjIpLGE9cig0NCkuZixzPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDcwKShmdW5jdGlvbigpe3JldHVybiB1KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksbD1mdW5jdGlvbihlKXthKGUsbix7dmFsdWU6e2k6Ik8iKyArK3Msdzp7fX19KX0sZj1mdW5jdGlvbihlLHQpe2lmKCFvKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFpKGUsbikpe2lmKCF1KGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhaShlLG4pJiZsKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6ZixnZXRXZWFrOmQsb25GcmVlemU6cH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY4KSxvPXIoMTQ1KSxpPXIoODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBhLHM9cihlKSx1PWkuZixjPTA7cy5sZW5ndGg+YzspdS5jYWxsKGUsYT1zW2MrK10pJiZ0LnB1c2goYSk7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Nyk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1MCksbz1yKDIwNSkuZixpPXt9LnRvU3RyaW5nLGE9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaChlKXtyZXR1cm4gYS5zbGljZSgpfX07ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIGEmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/cyhlKTpvKG4oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3IoMTQ3KSgiYXN5bmNJdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7cigxNDcpKCJvYnNlcnZhYmxlIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuU2FuZGJveFR5cGU9dm9pZCAwO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMTcpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoMTgpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNDc1KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksXz1yKDUwNCksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF8pLFI9KHQuU2FuZGJveFR5cGU9e0FQUDoiYXBwIixOT1JNQUw6Im5vcm1hbCIsV0lORE9XOiJ3aW5kb3cifSxmdW5jdGlvbihlKXtmdW5jdGlvbiBTYW5kYm94KGUpeygwLGwuZGVmYXVsdCkodGhpcyxTYW5kYm94KTt2YXIgdD0oMCx5LmRlZmF1bHQpKHRoaXMsKFNhbmRib3guX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKFNhbmRib3gpKS5jYWxsKHRoaXMpKSxyPXQ7cmV0dXJuIGUmJihyLmNhcGFiaWxpdGllcz1lKSx0fXJldHVybigwLHYuZGVmYXVsdCkoU2FuZGJveCxlKSwoMCxkLmRlZmF1bHQpKFNhbmRib3gsW3trZXk6ImRlcGxveUNvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obyxpKXt2YXIgYT17dHlwZToiY3JlYXRlIixmcm9tOmIuZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Yi5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6dCxzb3VyY2VDb2RlOmUsY29uZmlnOnJ9fTtuLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/bygiZGVwbG95ZWQiKTppKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZW1vdmVDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz17dHlwZToiZGVsZXRlIixmcm9tOmIuZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Yi5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6ZX19O3QucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9yKCJ1bmRlcGxveWVkIik6bihlLmJvZHkuZGVzYyl9KX0pfX0se2tleToibWF0Y2hlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLG8uZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiEodC5jYXBhYmlsaXRpZXNbcl0mJnQuY2FwYWJpbGl0aWVzW3JdPT09ZVtyXSl9KTtyZXR1cm4gMD09PXIubGVuZ3RofHwhZVtyXX19XSksU2FuZGJveH0obS5kZWZhdWx0KSk7dC5kZWZhdWx0PVJ9LGZ1bmN0aW9uKGUsdCxyKXtyKDQ2NyksZS5leHBvcnRzPXIoMTEpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzYpLG89cigxOTYpO3IoMTM4KSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDY5KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDcwKSxlLmV4cG9ydHM9cigxMSkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNik7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOnIoNDcxKS5zZXR9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDUpLG89cig0MSksaT1mdW5jdGlvbihlLHQpe2lmKG8oZSksIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcih0KyI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhIil9O2UuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlLHQsbil7dHJ5e249cig2OSkoRnVuY3Rpb24uY2FsbCxyKDE0OCkuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbihlLFtdKSx0PSEoZSBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChlKXt0PSEwfXJldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBpKGUsciksdD9lLl9fcHJvdG9fXz1yOm4oZSxyKSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6aX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0NzQpO3ZhciBuPXIoMTEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jcmVhdGUoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOnIoMTQxKX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig0NzYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2FuZGJveFJlZ2lzdHJ5KGUpeygwLG8uZGVmYXVsdCkodGhpcyxTYW5kYm94UmVnaXN0cnkpO3ZhciB0PXRoaXM7dC5fYnVzPWUsdC5fZmFjdG9yeT1uZXcgdS5kZWZhdWx0KGUpLHQuX2NvbXBvbmVudHM9e30sZS5hZGRMaXN0ZW5lcihTYW5kYm94UmVnaXN0cnkuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiY3JlYXRlIjp0Ll9vbkRlcGxveShlKTticmVhaztjYXNlImRlbGV0ZSI6dC5fb25SZW1vdmUoZSl9fSl9cmV0dXJuKDAsYS5kZWZhdWx0KShTYW5kYm94UmVnaXN0cnksW3trZXk6Il9yZXNwb25zZU1zZyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOlNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsdG86U2FuZGJveFJlZ2lzdHJ5LkV4dGVybmFsRGVwbG95QWRkcmVzc30sbz17fTtyZXR1cm4gdCYmKG8uY29kZT10KSxyJiYoby5kZXNjPXIpLG4uYm9keT1vLG59fSx7a2V5OiJfb25EZXBsb3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuY29uZmlnLG49ZS5ib2R5LnVybCxvPWUuYm9keS5zb3VyY2VDb2RlLGk9dm9pZCAwLGE9dm9pZCAwO2lmKHQuX2NvbXBvbmVudHMuaGFzT3duUHJvcGVydHkobikpaT01MDAsYT0iSW5zdGFuY2UgIituKyIgYWxyZWFkeSBleGlzdCEiO2Vsc2UgdHJ5e3QuX2NvbXBvbmVudHNbbl09dC5fY3JlYXRlKG4sbyxyLHQuX2ZhY3RvcnkpLGk9MjAwfWNhdGNoKGUpe2k9NTAwLGE9ZX12YXIgcz10Ll9yZXNwb25zZU1zZyhlLGksYSk7dC5fYnVzLnBvc3RNZXNzYWdlKHMpfX0se2tleToiX29uUmVtb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnVybCxuPXZvaWQgMCxvPXZvaWQgMDt0Ll9jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpPyhkZWxldGUgdC5fY29tcG9uZW50c1tyXSx0Ll9idXMucmVtb3ZlQWxsTGlzdGVuZXJzT2Yociksbj0yMDApOihuPTUwMCxvPSJJbnN0YW5jZSAiK3IrIiBkb2Vzbid0IGV4aXN0ISIpO3ZhciBpPXQuX3Jlc3BvbnNlTXNnKGUsbixvKTt0Ll9idXMucG9zdE1lc3NhZ2UoaSl9fSx7a2V5OiJfY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt9fSx7a2V5OiJjb21wb25lbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c319XSksU2FuZGJveFJlZ2lzdHJ5fSgpO2MuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzPSJoeXBlcnR5LXJ1bnRpbWU6Ly9zYW5kYm94L2V4dGVybmFsIixjLkludGVybmFsRGVwbG95QWRkcmVzcz0iaHlwZXJ0eS1ydW50aW1lOi8vc2FuZGJveC9pbnRlcm5hbCIsdC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNDc3KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQ5MCksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig2KSxkPXIoNDkxKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1yKDQ5MiksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxNTApLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoNDk0KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYiksbT1yKDQ5NSksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLE89cig0OTYpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChPKSxrPXIoNDk3KSxTPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDQ5OSksRD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFApLE09cigyMTApLEw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChNKSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2FuZGJveEZhY3RvcnkoZSl7KDAsby5kZWZhdWx0KSh0aGlzLFNhbmRib3hGYWN0b3J5KTt2YXIgdD10aGlzO3QuX2J1cz1lLHQuX2RpdmlkZVVSTD1mLmRpdmlkZVVSTH1yZXR1cm4oMCxhLmRlZmF1bHQpKFNhbmRib3hGYWN0b3J5LFt7a2V5OiJjcmVhdGVTeW5jaGVyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlSWRlbnRpdHlNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBwLmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlRGlzY292ZXJ5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBoLmRlZmF1bHQoZSx0LHIpfX0se2tleToiY3JlYXRlU2VhcmNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgXy5kZWZhdWx0KGUsdCl9fSx7a2V5OiJjcmVhdGVDb250ZXh0T2JzZXJ2ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgUi5kZWZhdWx0KGUsdCxyLG4sdGhpcyl9fSx7a2V5OiJjcmVhdGVDb250ZXh0UmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IHcuZGVmYXVsdChlLHQscix0aGlzKX19LHtrZXk6ImNyZWF0ZU5vdGlmaWNhdGlvbkhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbC5kZWZhdWx0KGUpfX0se2tleToiY3JlYXRlTWVzc2FnZUJvZHlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzKXtyZXR1cm4gbmV3IFMuZGVmYXVsdChlLHQscixuLG8saSxhLHMpfX0se2tleToiY3JlYXRlQ2hhdE1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgRC5kZWZhdWx0KGUsdCxyLG4sdGhpcyl9fSx7a2V5OiJjcmVhdGVDaGF0Q29udHJvbGxlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3JldHVybiBuZXcgTC5kZWZhdWx0KGUsdCxyLG4sbyxpKX19LHtrZXk6ImNyZWF0ZVJlZ2lzdHJhdGlvblN0YXR1cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBnLmRlZmF1bHQoZSx0LHIsbil9fSx7a2V5OiJkaXZpZGVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXZpZGVVUkx9fV0pLFNhbmRib3hGYWN0b3J5fSgpO3QuZGVmYXVsdD1qLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGYpLHA9cig2KSx5PXIoNDc5KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDQ4OCksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLGI9cig0ODkpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxtPWQuZ2V0TG9nZ2VyKCJTeW5jaGVyIiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFN5bmNoZXIoZSx0LHIpeygwLHUuZGVmYXVsdCkodGhpcyxTeW5jaGVyKTt2YXIgbj10aGlzO24uX293bmVyPWUsbi5fYnVzPXQsbi5fc3ViVVJMPXIucnVudGltZVVSTCsiL3NtIixuLl9ydW50aW1lVXJsPXIucnVudGltZVVSTCxuLl9wMnBIYW5kbGVyPXIucDJwSGFuZGxlcixuLl9wMnBSZXF1ZXN0ZXI9ci5wMnBSZXF1ZXN0ZXIsbi5fcmVwb3J0ZXJzPXt9LG4uX29ic2VydmVycz17fSxuLl9wcm92aXNpb25hbHM9e30sdC5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKHQpe2lmKHQuZnJvbSE9PWUpc3dpdGNoKG0uaW5mbygiW1N5bmNoZXJdIFN5bmNoZXItUkNWOiAiLHQsbiksdC50eXBlKXtjYXNlImZvcndhcmQiOm4uX29uRm9yd2FyZCh0KTticmVhaztjYXNlImNyZWF0ZSI6bi5fb25SZW1vdGVDcmVhdGUodCk7YnJlYWs7Y2FzZSJkZWxldGUiOm4uX29uUmVtb3RlRGVsZXRlKHQpO2JyZWFrO2Nhc2UiZXhlY3V0ZSI6bi5fb25FeGVjdXRlKHQpfX0pfXJldHVybigwLGwuZGVmYXVsdCkoU3luY2hlcixbe2tleToiY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0saT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06Im5vIG5hbWUiLHM9YXJndW1lbnRzWzZdLHU9YXJndW1lbnRzWzddO2lmKCFlKXRocm93IEVycm9yKCJbU3luY2hlciAtIENyZWF0ZV0gLSBZb3UgbmVlZCBzcGVjaWZ5IHRoZSBkYXRhIG9iamVjdCBzY2hlbWEiKTtpZighdCl0aHJvdyBFcnJvcigiW1N5bmNoZXIgLSBDcmVhdGVdIC1UaGUgb2JzZXJ2ZXJzIHNob3VsZCBiZSBkZWZpbmVkIik7dmFyIGM9dGhpczt1PXV8fHt9O3ZhciBsPSgwLGEuZGVmYXVsdCkoe30sdSk7cmV0dXJuIGwucDJwPW8sbC5zdG9yZT1uLGwuc2NoZW1hPWUsbC5hdXRob3Jpc2U9dCxsLnAycEhhbmRsZXI9Yy5fcDJwSGFuZGxlcixsLnAycFJlcXVlc3Rlcj1jLl9wMnBSZXF1ZXN0ZXIsbC5kYXRhPXI/KDAscC5kZWVwQ2xvbmUpKHIpOnt9LGwubmFtZT0wPT09aS5sZW5ndGg/Im5vIG5hbWUiOmksbC5yZXBvcnRlcj11Lmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpJiYiYm9vbGVhbiIhPXR5cGVvZiB1LnJlcG9ydGVyP3UucmVwb3J0ZXI6Yy5fb3duZXIsbC5yZXN1bWU9ITEsdT8obC5tdXR1YWw9IXUuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpfHx1Lm11dHVhbCxsLm5hbWU9dS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpP3UubmFtZTpsLm5hbWUpOmwubXV0dWFsPSEwLHUuaGFzT3duUHJvcGVydHkoInJldXNlVVJMIikmJihsLnJlc291cmNlPXUucmV1c2VVUkwpLHMmJihsLmlkZW50aXR5PXMpLG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUgUmVwb3J0ZXIgLSBjcmVhdGVJbnB1dDogIixsKSxjLl9jcmVhdGUobCl9fSx7a2V5OiJyZXN1bWVSZXBvcnRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSByZXN1bWUgUmVwb3J0ZXIgLSBjcml0ZXJpYTogIixlKSwoMCxhLmRlZmF1bHQpKGUse3Jlc3VtZTohMH0pLHQuX3Jlc3VtZUNyZWF0ZShlKX19LHtrZXk6InN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxvPSEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0saT0hKGFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdKXx8YXJndW1lbnRzWzVdLHM9YXJndW1lbnRzWzZdLHU9dGhpcyxjPXt9O3JldHVybiBjLnAycD1uLGMuc3RvcmU9cixjLnNjaGVtYT1lLGMuZG9tYWluX3N1YnNjcmlwdGlvbj1pLGMucmVzb3VyY2U9dCxzJiYoYy5pZGVudGl0eT1zKSxjLm11dHVhbD1vLG0ubG9nKCJbc3luY2hlciAtIHN1YnNjcmliZV0gLSBzdWJzY3JpYmUgY3JpdGVyaWE6ICIsYyksKDAsYS5kZWZhdWx0KShjLHtyZXN1bWU6ITF9KSx1Ll9zdWJzY3JpYmUoYyl9fSx7a2V5OiJyZXN1bWVPYnNlcnZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lfHx7fTtyZXR1cm4oMCxhLmRlZmF1bHQpKHIse3Jlc3VtZTohMH0pLHQuX3Jlc3VtZVN1YnNjcmliZShyKX19LHtrZXk6InJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LG4pe3IuX3JlYWRSZXBvcnRlcihlKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSl9KX0pfX0se2tleToiX3JlYWRDYWxsQmFjayIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz17fSxpPXt9LHM9MDtpZihlLmJvZHkuY29kZTwzMDApaWYoZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXNwb25zZXMiKSlpZigwPT09cylpPWUuYm9keS52YWx1ZSwrK3M7ZWxzZXtkZWxldGUgZS5ib2R5LnZhbHVlLnJlc3BvbnNlczt2YXIgdT12b2lkIDA7Zm9yKHUgaW4gZS5ib2R5LnZhbHVlKW8uaGFzT3duUHJvcGVydHkodSl8fChvW3VdPXt9KSwoMCxhLmRlZmF1bHQpKG9bdV0sZS5ib2R5LnZhbHVlW3VdKTsrK3Mscz09PWkucmVzcG9uc2VzJiYoaS5jaGlsZHJlbk9iamVjdHM9byxkZWxldGUgaS5yZXNwb25zZXMsbi5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoZS5mcm9tLGUuaWQpLHQoaSkpfWVsc2Ugbi5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoZS5mcm9tLGUuaWQpLHQoZS5ib2R5LnZhbHVlKTtlbHNlIHIoZS5ib2R5LmRlc2MpfX0se2tleToiX3JlYWRSZXBvcnRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZWFkIixmcm9tOnQuX293bmVyLHRvOmV9O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsbil7dC5fYnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24ocil7cmV0dXJuIHQuX3JlYWRDYWxsQmFjayhyLGUsbil9LCExKX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToib25DbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25DbG9zZT1lfX0se2tleToiX2NyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLGEuZGVmYXVsdCkoe30sZSksaT1lLnJlc3VtZTtvLmNyZWF0ZWQ9KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLG8ucnVudGltZT10Ll9ydW50aW1lVXJsO3ZhciBzPSgwLHAuZGVlcENsb25lKShvKTtkZWxldGUgcy5wMnAsZGVsZXRlIHMuc3RvcmUsZGVsZXRlIHMub2JzZXJ2ZXJzLGRlbGV0ZSBzLmlkZW50aXR5O3ZhciB1PXt0eXBlOiJjcmVhdGUiLGZyb206dC5fb3duZXIsdG86dC5fc3ViVVJMLGJvZHk6e3Jlc3VtZTppLHZhbHVlOnN9fTt1LmJvZHkuc2NoZW1hPW8uc2NoZW1hLG8ucDJwJiYodS5ib2R5LnAycD1vLnAycCksby5zdG9yZSYmKHUuYm9keS5zdG9yZT1vLnN0b3JlKSxvLmlkZW50aXR5JiYodS5ib2R5LmlkZW50aXR5PW8uaWRlbnRpdHkpLG0ubG9nKCJbc3luY2hlci5fY3JlYXRlXTogIixvLHUpLHQuX2J1cy5wb3N0TWVzc2FnZSh1LGZ1bmN0aW9uKGkpe2lmKG0ubG9nKCJbc3luY2hlciAtIGNyZWF0ZV0gLSBjcmVhdGUtcmVzcG9uc2U6ICIsaSksMjAwPT09aS5ib2R5LmNvZGUpe28udXJsPWkuYm9keS5yZXNvdXJjZSxvLnN0YXR1cz0ibGl2ZSIsby5zeW5jaGVyPXQsby5jaGlsZHJlbnM9aS5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzO3ZhciBhPXQuX3JlcG9ydGVyc1tvLnVybF07YXx8KGE9bmV3IGguZGVmYXVsdChvKSx0Ll9yZXBvcnRlcnNbby51cmxdPWEpLGEuaW52aXRlT2JzZXJ2ZXJzKGUuYXV0aG9yaXNlLGUucDJwKSxyKGEpfWVsc2UgbihpLmJvZHkuZGVzYyl9KX0pfX0se2tleToiX3Jlc3VtZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1lLnJlc3VtZSxhPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86ci5fc3ViVVJMLGJvZHk6e3Jlc3VtZTppfX07bS5sb2coIltzeW5jaGVyIC0gY3JlYXRlXTogIixlLGEpLGUmJihhLmJvZHkudmFsdWU9ZSxlLmhhc093blByb3BlcnR5KCJyZXBvcnRlciIpP2EuYm9keS52YWx1ZS5yZXBvcnRlcj1lLnJlcG9ydGVyOmEuYm9keS52YWx1ZS5yZXBvcnRlcj1yLl9vd25lciksZS5wMnAmJihhLmJvZHkucDJwPWUucDJwKSxlLnN0b3JlJiYoYS5ib2R5LnN0b3JlPWUuc3RvcmUpLGUub2JzZXJ2ZXJzJiYoYS5ib2R5LmF1dGhvcmlzZT1lLm9ic2VydmVycyksZS5pZGVudGl0eSYmKGEuYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSByZXN1bWUgbWVzc2FnZTogIixhKSxyLl9idXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXtpZihtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZUNyZWF0ZV0gLSBjcmVhdGUtcmVzdW1lZC1yZXNwb25zZTogIixlKSwyMDA9PT1lLmJvZHkuY29kZSl7dmFyIGk9ZS5ib2R5LnZhbHVlO2Zvcih2YXIgYSBpbiBpKXt2YXIgcz1pW2FdO3MuZGF0YT0oMCxwLmRlZXBDbG9uZSkocy5kYXRhKXx8e30scy5jaGlsZHJlbk9iamVjdHMmJihzLmNoaWxkcmVuT2JqZWN0cz0oMCxwLmRlZXBDbG9uZSkocy5jaGlsZHJlbk9iamVjdHMpKSxzLm11dHVhbD0hMSxzLnJlc3VtZT0hMCxzLnN0YXR1cz0ibGl2ZSIscy5zeW5jaGVyPXIsbS5sb2coIltzeW5jaGVyLl9yZXN1bWVDcmVhdGVdIC0gY3JlYXRlLXJlc3VtZWQtZGF0YU9iamVjdFJlcG9ydGVyIixzKTt2YXIgdT1uZXcgaC5kZWZhdWx0KHMpO3MuY2hpbGRyZW5PYmplY3RzJiZ1LnJlc3VtZUNoaWxkcmVucyhzLmNoaWxkcmVuT2JqZWN0cyksci5fcmVwb3J0ZXJzW3MudXJsXT11fW4oci5fcmVwb3J0ZXJzKSx0Ll9vblJlcG9ydGVyc1Jlc3VtZSYmdC5fb25SZXBvcnRlcnNSZXN1bWUodC5fcmVwb3J0ZXJzKX1lbHNlIDQwND09PWUuYm9keS5jb2RlP24oe30pOm8oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Il9zdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX293bmVyLHRvOnQuX3N1YlVSTCxib2R5Ont9fTtlJiYoZS5oYXNPd25Qcm9wZXJ0eSgicDJwIikmJihvLmJvZHkucDJwPWUucDJwKSxlLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiYoby5ib2R5LnN0b3JlPWUuc3RvcmUpLGUuaGFzT3duUHJvcGVydHkoInNjaGVtYSIpJiYoby5ib2R5LnNjaGVtYT1lLnNjaGVtYSksZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmKG8uYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZSIpJiYoby5ib2R5LnJlc291cmNlPWUucmVzb3VyY2UpLGUuaGFzT3duUHJvcGVydHkoImRvbWFpbl9zdWJzY3JpcHRpb24iKSYmKG8uYm9keS5kb21haW5fc3Vic2NyaXB0aW9uPWUuZG9tYWluX3N1YnNjcmlwdGlvbikpLG8uYm9keS5yZXN1bWU9ZS5yZXN1bWUsZS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihvLmJvZHkubXV0dWFsPWUubXV0dWFsKSxtLmxvZygiW3N5bmNoZXJfc3Vic2NyaWJlXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAiLGUsbyksdC5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7bS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZS1yZXNwb25zZTogIixvKTt2YXIgaT1vLmJvZHkucmVzb3VyY2UsYT10Ll9wcm92aXNpb25hbHNbaV07aWYoZGVsZXRlIHQuX3Byb3Zpc2lvbmFsc1tpXSxhJiZhLl9yZWxlYXNlTGlzdGVuZXJzKCksby5ib2R5LmNvZGU8MjAwKW0ubG9nKCJbc3luY2hlcl0gLSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAiLG8uYm9keS5jaGlsZHJlblJlc291cmNlcyxpKSxhPW5ldyBfLmRlZmF1bHQodC5fb3duZXIsaSx0Ll9idXMsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKSx0Ll9wcm92aXNpb25hbHNbaV09YTtlbHNlIGlmKDIwMD09PW8uYm9keS5jb2RlKXttLmxvZygiW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyOiAiLG8sdC5fcHJvdmlzaW9uYWxzKTt2YXIgcz1vLmJvZHkudmFsdWU7cy5zeW5jaGVyPXQscy5wMnA9ZS5wMnAscy5zdG9yZT1lLnN0b3JlLHMuaWRlbnRpdHk9ZS5pZGVudGl0eSxzLnJlc3VtZT0hMSxzLm11dHVhbD1lLm11dHVhbDt2YXIgdT10Ll9vYnNlcnZlcnNbaV07dT91LnN5bmMoKToodT1uZXcgZy5kZWZhdWx0KHMpLHQuX29ic2VydmVyc1tpXT11KSxtLmxvZygiW3N5bmNoZXJdIC0gbmV3IERhdGEgT2JqZWN0IE9ic2VydmVyIGFscmVhZHkgZXhpc3Q6ICIsdSkscih1KSxhJiZhLmFwcGx5KHUpfWVsc2UgbihvLmJvZHkuZGVzYyl9KX0pfX0se2tleToiX3Jlc3VtZVN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5Ont9fTtlJiYoZS5oYXNPd25Qcm9wZXJ0eSgicDJwIikmJihpLmJvZHkucDJwPWUucDJwKSxlLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiYoaS5ib2R5LnN0b3JlPWUuc3RvcmUpLGUuaGFzT3duUHJvcGVydHkoInNjaGVtYSIpJiYoaS5ib2R5LnNjaGVtYT1lLnNjaGVtYSksZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmKGkuYm9keS5pZGVudGl0eT1lLmlkZW50aXR5KSxlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZSIpJiYoaS5ib2R5LnJlc291cmNlPWUudXJsKSksaS5ib2R5LnJlc3VtZT1lLnJlc3VtZTt2YXIgYT1lLm11dHVhbDtlLmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKGkuYm9keS5tdXR1YWw9YSksbS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZSBtZXNzYWdlOiAiLGUsaSksci5fYnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7bS5sb2coIltzeW5jaGVyXSAtIHN1YnNjcmliZS1yZXN1bWVkLXJlc3BvbnNlOiAiLGUpO3ZhciBpPWUuYm9keS5yZXNvdXJjZSxhPXIuX3Byb3Zpc2lvbmFsc1tpXTtpZihkZWxldGUgci5fcHJvdmlzaW9uYWxzW2ldLGEmJmEuX3JlbGVhc2VMaXN0ZW5lcnMoKSxlLmJvZHkuY29kZTwyMDApbS5sb2coIltzeW5jaGVyXSAtIHJlc3VtZSBuZXcgRGF0YVByb3Zpc2lvbmFsOiAiLGUsaSksYT1uZXcgXy5kZWZhdWx0KHIuX293bmVyLGksci5fYnVzLGUuYm9keS5jaGlsZHJlblJlc291cmNlcyksci5fcHJvdmlzaW9uYWxzW2ldPWE7ZWxzZSBpZigyMDA9PT1lLmJvZHkuY29kZSl7dmFyIHM9ZS5ib2R5LnZhbHVlO2Zvcih2YXIgdSBpbiBzKXt2YXIgYz1zW3VdO20ubG9nKCJbc3luY2hlcl0gLSBSZXN1bWUgT2JqZWN0IE9ic2VydmVyOiAiLGUsYyxyLl9wcm92aXNpb25hbHMpLGMuY2hpbGRyZW5PYmplY3RzJiYoYy5jaGlsZHJlbk9iamVjdHM9KDAscC5kZWVwQ2xvbmUpKGMuY2hpbGRyZW5PYmplY3RzKSksYy5kYXRhPSgwLHAuZGVlcENsb25lKShjLmRhdGEpfHx7fSxjLnJlc3VtZT0hMCxjLnN5bmNoZXI9cixtLmxvZygiW3N5bmNoZXIuX3Jlc3VtZVN1YnNjcmliZV0gLSBjcmVhdGUgbmV3IGRhdGFPYmplY3Q6ICIsYyk7dmFyIGw9bmV3IGcuZGVmYXVsdChjKTtjLmNoaWxkcmVuT2JqZWN0cyYmbC5yZXN1bWVDaGlsZHJlbnMoYy5jaGlsZHJlbk9iamVjdHMpLG0ubG9nKCJbc3luY2hlci5fcmVzdW1lU3Vic2NyaWJlXSAtIG5ldyBkYXRhT2JqZWN0IixsKSxyLl9vYnNlcnZlcnNbbC51cmxdPWwsci5fcHJvdmlzaW9uYWxzW2wudXJsXSYmci5fcHJvdmlzaW9uYWxzW2wudXJsXS5hcHBseShsKX1uKHIuX29ic2VydmVycyksdC5fb25PYnNlcnZlcnNSZXN1bWUmJnQuX29uT2JzZXJ2ZXJzUmVzdW1lKHIuX29ic2VydmVycyl9ZWxzZSA0MDQ9PT1lLmJvZHkuY29kZT9uKHt9KTpvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9yZXBvcnRlcnNbZS5ib2R5LnRvXS5fb25Gb3J3YXJkKGUpfX0se2tleToiX29uUmVtb3RlQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLnNsaWNlKDAsLTEzKSxuPSgwLHAuZGl2aWRlVVJMKShyKSxvPW4uZG9tYWluLGk9e3R5cGU6ZS50eXBlLGZyb206ZS5ib2R5LnNvdXJjZSx1cmw6cixkb21haW46byxzY2hlbWE6ZS5ib2R5LnNjaGVtYSx2YWx1ZTplLmJvZHkudmFsdWUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LGFjazpmdW5jdGlvbihyKXt2YXIgbj0yMDA7ciYmKG49ciksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKG0uaW5mbygiW1N5bmNoZXJdIE5PVElGSUNBVElPTi1FVkVOVDogIixpKSx0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXIoaSkpfX0se2tleToiX29uUmVtb3RlRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdLG89e2Zyb206dC5vd25lcix0bzp0Ll9zdWJVUkwsaWQ6ZS5pZCx0eXBlOiJ1bnN1YnNjcmliZSIsYm9keTp7cmVzb3VyY2U6ZS5ib2R5LnJlc291cmNlfX07aWYodC5fYnVzLnBvc3RNZXNzYWdlKG8pLGRlbGV0ZSB0Ll9vYnNlcnZlcnNbcl0sbil7dmFyIGk9e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm4uZGVsZXRlKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihtLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLGkpLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihpKSl9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsc291cmNlOnQuX293bmVyfX0pfX0se2tleToiX29uRXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX07aWYoKGUuZnJvbT09PXQuX3J1bnRpbWVVcmwrIi9yZWdpc3RyeS8ifHxlLmZyb209PT10Ll9ydW50aW1lVXJsKyIvcmVnaXN0cnkiKSYmZS5ib2R5JiZlLmJvZHkubWV0aG9kJiYiY2xvc2UiPT09ZS5ib2R5Lm1ldGhvZCYmdC5fb25DbG9zZSl7dmFyIG49e3R5cGU6ImNsb3NlIixhY2s6ZnVuY3Rpb24oZSl7ZSYmKHIuYm9keS5jb2RlPWUpLHQuX2J1cy5wb3N0TWVzc2FnZShyKX19O20uaW5mbygiW1N5bmNoZXJdIENsb3NlLUVWRU5UOiAiLG4pLHQuX29uQ2xvc2Uobil9ZWxzZSB0Ll9idXMucG9zdE1lc3NhZ2Uocil9fSx7a2V5OiJvblJlcG9ydGVyc1Jlc3VtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXBvcnRlcnNSZXN1bWU9ZX19LHtrZXk6Im9uT2JzZXJ2ZXJzUmVzdW1lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbk9ic2VydmVyc1Jlc3VtZT1lfX0se2tleToib3duZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcn19LHtrZXk6InJlcG9ydGVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyc319LHtrZXk6Im9ic2VydmVycyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc319XSksU3luY2hlcn0oKTt0LmRlZmF1bHQ9UixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSksbz1uLkpTT058fChuLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gby5zdHJpbmdpZnkuYXBwbHkobyxhcmd1bWVudHMpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzNSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNyksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cigxMDMpLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChnKSxfPXIoMTgpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxSPXIoNCksTz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KFIpLHc9cigyMDYpLGs9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh3KSxTPXIoNiksUD1PLmdldExvZ2dlcigiRGF0YU9iamVjdFJlcG9ydGVyIiksRD1mdW5jdGlvbihlKXtmdW5jdGlvbiBEYXRhT2JqZWN0UmVwb3J0ZXIoZSl7KDAsZC5kZWZhdWx0KSh0aGlzLERhdGFPYmplY3RSZXBvcnRlcik7dmFyIHQ9KDAsdi5kZWZhdWx0KSh0aGlzLChEYXRhT2JqZWN0UmVwb3J0ZXIuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlcikpLmNhbGwodGhpcyxlKSkscj10O3JldHVybiByLl9zdWJzY3JpcHRpb25zPXt9LHIuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtQLmxvZygiW1N5bmNoZXIuRGF0YU9iamVjdFJlcG9ydGVyXSAiK3IudXJsKyIgcHVibGlzaCBjaGFuZ2U6ICIsZSksci5fb25DaGFuZ2UoZSl9KSxyLl9hbGxvY2F0ZUxpc3RlbmVycygpLHIuaW52aXRhdGlvbnM9W10sci5fY2hpbGRyZW5TaXplVGhyZXNob2xkPTVlNCx0fXJldHVybigwLG0uZGVmYXVsdCkoRGF0YU9iamVjdFJlcG9ydGVyLGUpLCgwLHkuZGVmYXVsdCkoRGF0YU9iamVjdFJlcG9ydGVyLFt7a2V5OiJfYWxsb2NhdGVMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsYi5kZWZhdWx0KShEYXRhT2JqZWN0UmVwb3J0ZXIucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsbC5kZWZhdWx0KShEYXRhT2JqZWN0UmVwb3J0ZXIucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fb2JqZWN0TGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtzd2l0Y2goUC5sb2coIltTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gbGlzdGVuZXIgIitlLl91cmwrIiBSZWNlaXZlZDogIix0KSx0LnR5cGUpe2Nhc2UicmVzcG9uc2UiOmUuX29uUmVzcG9uc2UodCk7YnJlYWs7Y2FzZSJyZWFkIjplLl9vblJlYWQodCk7YnJlYWs7Y2FzZSJleGVjdXRlIjplLl9vbkV4ZWN1dGUodCk7YnJlYWs7Y2FzZSJjcmVhdGUiOmUuX29uQ2hpbGRDcmVhdGUodCl9fSksZS5fcnVudGltZVN0YXR1c0xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl9zeW5jaGVyLl9ydW50aW1lVXJsKyIvc3RhdHVzIixmdW5jdGlvbih0KXt0LmJvZHkmJnQuYm9keS5yZXNvdXJjZSYmdC5ib2R5LnJlc291cmNlPT09ZS5fdXJsJiZ0LmJvZHkudmFsdWUmJnQuYm9keS52YWx1ZS5iYWNrdXBSZXZpc2lvbiYmKGUuZGF0YS5iYWNrdXBSZXZpc2lvbj10LmJvZHkudmFsdWUuYmFja3VwUmV2aXNpb24pfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlci5wcm90b3R5cGUuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RSZXBvcnRlci5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9vYmplY3RMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6Imludml0ZU9ic2VydmVycyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ZTtuLmxlbmd0aD4wJiYoUC5sb2coIltTeW5jaGVyLkRhdGFPYmplY3RSZXBvcnRlcl0gSW52aXRlT2JzZXJ2ZXJzICIsbixyLl9tZXRhZGF0YSksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT17dHlwZToiY3JlYXRlIixmcm9tOnIuX3N5bmNoZXIuX293bmVyLHRvOnIuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXN1bWU6ITEscmVzb3VyY2U6ci5fdXJsLHNjaGVtYTpyLl9zY2hlbWEsdmFsdWU6ci5fbWV0YWRhdGEsYXV0aG9yaXNlOltlXX19O3QmJihpLmJvZHkucDJwPXQpLHIuZGF0YS5tdXR1YWx8fChpLmJvZHkubXV0dWFsPXIuZGF0YS5tdXR1YWwpLHIuX2J1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHQpe1AubG9nKCJbU3luY2hlci5EYXRhT2JqZWN0UmVwb3J0ZXJdIEludml0YXRpb24gcmVwbHkgIix0KTt2YXIgcj17aW52aXRlZDplLGNvZGU6dC5ib2R5JiZ0LmJvZHkuY29kZT90LmJvZHkuY29kZTo1MDAsZGVzYzp0LmJvZHkmJnQuYm9keS5kZXNjP3QuYm9keS5kZXNjOiJVbmtub3duIn07ci5jb2RlPDMwMD9uKHIpOnIuY29kZT49MzAwJiZvKHIpfSl9KTtyLmludml0YXRpb25zLnB1c2gobil9KSl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9oZWFydEJlYXQmJmUuX2hlYXJ0QmVhdC5zdG9wKCksZS5fZGVsZXRlQ2hpbGRyZW5zKCkudGhlbihmdW5jdGlvbih0KXtQLmxvZyh0KTt2YXIgcj17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbih0KXtQLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0sZS5fc3luY09iaj17fSl9KX0pfX0se2tleToib25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uU3Vic2NyaXB0aW9uSGFuZGxlcj1lfX0se2tleToib25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZXNwb25zZUhhbmRsZXI9ZX19LHtrZXk6Im9uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZWFkSGFuZGxlcj1lfX0se2tleToib25FeGVjdXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkV4ZWN1dGVIYW5kbGVyPWV9fSx7a2V5OiJfb25Gb3J3YXJkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaChQLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLVJDVjogIixlKSxlLmJvZHkudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOnQuX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnQuX29uVW5TdWJzY3JpYmUoZSl9fX0se2tleToiX29uU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj0oMCxTLmRpdmlkZVVSTCkociksbz1uLmRvbWFpbixpPSEwO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJiFlLmJvZHkubXV0dWFsJiYoaT0hMSksUC5sb2coIltEYXRhT2JqZWN0UmVwb3J0ZXIuX29uU3Vic2NyaWJlXSIsZSxvLG4pO3ZhciBhPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLGRvbWFpbjpvLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxudXR1YWw6aSxhY2NlcHQ6ZnVuY3Rpb24oKXt2YXIgbj17dXJsOnIsc3RhdHVzOiJsaXZlIn07dC5fc3Vic2NyaXB0aW9uc1tyXT1uLHQubWV0YWRhdGEuc3Vic2NyaXB0aW9ucyYmdC5tZXRhZGF0YS5zdWJzY3JpcHRpb25zLnB1c2gobi51cmwpO3ZhciBvPSgwLFMuZGVlcENsb25lKSh0Ll9tZXRhZGF0YSk7by5kYXRhPSgwLFMuZGVlcENsb25lKSh0LmRhdGEpLG8udmVyc2lvbj10Ll92ZXJzaW9uO3ZhciBpPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmFsdWU6b319O3JldHVybiBlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYhZS5ib2R5Lm11dHVhbCYmKGkuYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCx0LmRhdGEubXV0dWFsPSExKSx0Ll9oZWFydEJlYXQmJihpLmJvZHkudmFsdWUuY2hpbGRyZW5PYmplY3RzPXt9LGkuYm9keS52YWx1ZS5jaGlsZHJlbk9iamVjdHMuaGVhcnRiZWF0PXQuX2hlYXJ0QmVhdC5oZWFydGJlYXQpLHQuX2J1cy5wb3N0TWVzc2FnZShpKSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKFAubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsYSksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGEpKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj0oMCxTLmRpdmlkZVVSTCkociksbz1uLmRvbWFpbjtQLmxvZygiW0RhdGFPYmplY3RSZXBvcnRlci5fb25VblN1YnNjcmliZV0iLGUsbyxuKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXSxkZWxldGUgdC5pbnZpdGF0aW9uc1tyXTt2YXIgaT17dHlwZTplLmJvZHkudHlwZSx1cmw6cixkb21haW46byxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHl9O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKFAubG9nKCJVTi1TVUJTQ1JJUFRJT04tRVZFTlQ6ICIsaSksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKGkpKX19LHtrZXk6Il9vblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ZS50eXBlLHVybDplLmZyb20sY29kZTplLmJvZHkuY29kZX07dC5fb25SZXNwb25zZUhhbmRsZXImJihQLmxvZygiUkVTUE9OU0UtRVZFTlQ6ICIsciksdC5fb25SZXNwb25zZUhhbmRsZXIocikpfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLGEuZGVmYXVsdCkodC5jaGlsZHJlbnNKU09OKS5sZW5ndGgsbj1yPnQuX2NoaWxkcmVuU2l6ZVRocmVzaG9sZCxpPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGFjY2VwdDpmdW5jdGlvbigpe24/dC5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKGUpOnQuX3N5bmNSZXBseShlKX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fSxzPVtdO3QubWV0YWRhdGEuc3Vic2NyaXB0aW9ucz9zPXQubWV0YWRhdGEuc3Vic2NyaXB0aW9uczp0Ll9zdWJzY3JpcHRpb25zJiYocz0oMCxvLmRlZmF1bHQpKHQuX3N1YnNjcmlwdGlvbnMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc3Vic2NyaXB0aW9uc1tlXS51cmx9KSksLTEhPXMuaW5kZXhPZihlLmZyb20pP24/dC5fc3luY1JlcGx5Rm9yTGFyZ2VEYXRhKGUpOnQuX3N5bmNSZXBseShlKTp0Ll9vblJlYWRIYW5kbGVyJiYoUC5sb2coIlJFQUQtRVZFTlQ6ICIsaSksdC5fb25SZWFkSGFuZGxlcihpKSl9fSx7a2V5OiJfc3luY1JlcGx5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsUy5kZWVwQ2xvbmUpKHQubWV0YWRhdGEpO3IuZGF0YT0oMCxTLmRlZXBDbG9uZSkodC5kYXRhKSxyLmNoaWxkcmVuT2JqZWN0cz0oMCxTLmRlZXBDbG9uZSkodC5jaGlsZHJlbnNKU09OKSxyLnZlcnNpb249dC5fdmVyc2lvbjt2YXIgbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTpyfX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfX0se2tleToiX3N5bmNSZXBseUZvckxhcmdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSgwLFMuZGVlcENsb25lKSh0Lm1ldGFkYXRhKTtyLmRhdGE9KDAsUy5kZWVwQ2xvbmUpKHQuZGF0YSksci52ZXJzaW9uPXQuX3ZlcnNpb24sZGVsZXRlIHIuY2hpbGRyZW5PYmplY3RzO3ZhciBuPVtdLG89e307Zm9yKGNoaWxkIGluIHQuX2NoaWxkcmVuT2JqZWN0cylvW2NoaWxkXT17fSwoMCxhLmRlZmF1bHQpKG8pLmxlbmd0aD50Ll9jaGlsZHJlblNpemVUaHJlc2hvbGQmJm4ucHVzaChvKSxvW2NoaWxkXT17fSxvW2NoaWxkXS52YWx1ZT10Ll9jaGlsZHJlbk9iamVjdHNbY2hpbGRdLm1ldGFkYXRhLG9bY2hpbGRdLmlkZW50aXR5PXQuX2NoaWxkcmVuT2JqZWN0c1tjaGlsZF0uaWRlbnRpdHk7bi5wdXNoKG8pLHIucmVzcG9uc2VzPW4ubGVuZ3RoKzE7dmFyIGk9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToxMDAsdmFsdWU6cn19O3QuX2J1cy5wb3N0TWVzc2FnZShpKSxuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49KDAsUy5kZWVwQ2xvbmUpKGkpO24uYm9keS52YWx1ZT1lLG4uYm9keS52YWx1ZS5yZXNwb25zZXM9ci5yZXNwb25zZXMsc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZShuKX0sNTApfSl9fSx7a2V5OiJfb25FeGVjdXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHkubWV0aG9kKXRocm93IGU7dmFyIHI9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSxuPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLG1ldGhvZDplLmJvZHkubWV0aG9kLHBhcmFtczplLmJvZHkucGFyYW1zLGFjY2VwdDpmdW5jdGlvbigpe3QuX2J1cy5wb3N0TWVzc2FnZShyKX0scmVqZWN0OmZ1bmN0aW9uKHIpe3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwMSxkZXNjOnJ9fSl9fTt0Ll9vbkV4ZWN1dGVIYW5kbGVyJiYoUC5sb2coIltEYXRhT2JqZWN0UmVwb3J0ZXJdIEVYRUNVVEUtRVZFTlQ6ICIsbiksdC5fb25FeGVjdXRlSGFuZGxlcihuKSl9fSx7a2V5OiJzdWJzY3JpcHRpb25zIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uc319LHtrZXk6ImNoaWxkcmVuc0pTT04iLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fSxyPXZvaWQgMDtmb3IociBpbiBlLl9jaGlsZHJlbk9iamVjdHMpdFtyXT17fSx0W3JdLnZhbHVlPWUuX2NoaWxkcmVuT2JqZWN0c1tyXS5tZXRhZGF0YSx0W3JdLmlkZW50aXR5PWUuX2NoaWxkcmVuT2JqZWN0c1tyXS5pZGVudGl0eTtyZXR1cm4gdH19XSksRGF0YU9iamVjdFJlcG9ydGVyfShrLmRlZmF1bHQpO3QuZGVmYXVsdD1ELGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0ODEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0ODIpO3ZhciBuPXIoMTEpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDUwKSxvPXIoMTQ4KS5mO3IoMTM4KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDYpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIZWFydEJlYXQoZSx0LHIsbil7ZnVuY3Rpb24gdGhyb3dNYW5kYXRvcnlQYXJtTWlzc2luZ0Vycm9yKGUpe3Rocm93IltIZWFydEJlYXRdICIrZSsiIG1hbmRhdG9yeSBwYXJhbWV0ZXIgaXMgbWlzc2luZyJ9dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjYwOygwLG8uZGVmYXVsdCkodGhpcyxIZWFydEJlYXQpO3ZhciBhPXRoaXM7ZT9hLl9idXM9ZTp0aHJvd01hbmRhdG9yeVBhcm1NaXNzaW5nRXJyb3IoImJ1cyIpLG4/YS5fZGF0YU9iamVjdD1uOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigiZGF0YU9iamVjdCIpLGk/YS5faGVhcnRCZWF0UmF0ZT1pOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigiaGVhcnRCZWF0UmF0ZSIpLHI/YS5fcnVudGltZVVybD1yOnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigicnVudGltZVVybCIpLHQ/YS5faHlwZXJ0eVVybD10OnRocm93TWFuZGF0b3J5UGFybU1pc3NpbmdFcnJvcigiaHlwZXJ0eVVybCIpLGEuX3N0b3A9e2hlYXJ0QmVhdDohMSxzeW5jOmZ1bmN0aW9uKGUpe3ZhciBvPXtmcm9tOnQsdG86cisiL3NtIix0eXBlOiJleGVjdXRlIixib2R5OnttZXRob2Q6InN0b3BTeW5jIixwYXJhbXM6W24udXJsXX19O2UucG9zdE1lc3NhZ2Uobyl9fX1yZXR1cm4oMCxhLmRlZmF1bHQpKEhlYXJ0QmVhdCxbe2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7dGhpcy5oZWFydGJlYXQ9ZSx0aGlzLl9pc0hlYXJ0QmVhdEFjdGl2ZSh0aGlzLmhlYXJ0QmVhdCwyKnRoaXMuX2hlYXJ0QmVhdFJhdGUpP3RoaXMuX3dhdGNoSGVhcnRCZWF0KHRoaXMuX2hlYXJ0QmVhdFJhdGUsITAsdGhpcy5fb25IZXJ0YmVhdFN0b3BwZWQpOih0aGlzLl9zdG9wLmhlYXJ0QmVhdD10aGlzLl9zdGFydEhlYXJ0QmVhdCh0aGlzLl9oZWFydEJlYXRSYXRlKSx0aGlzLl9zdGFydFN5bmMoKSl9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3N0b3AuaGVhcnRCZWF0JiZ0aGlzLl9zdG9wLmhlYXJ0QmVhdCgpLHRoaXMuX3N0b3Auc3luYyh0aGlzLl9idXMpfX0se2tleToib25OZXdIZWFydGJlYXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuaGVhcnRiZWF0PWV9fSx7a2V5OiJfaXNIZWFydEJlYXRBY3RpdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAscy5zZWNvbmRzU2luY2VFcG9jaCkoKS1lO3JldHVybiEocj4yKnQpfX0se2tleToiX3N0YXJ0SGVhcnRCZWF0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e2Zyb206dC5faHlwZXJ0eVVybCx0bzp0Ll9kYXRhT2JqZWN0LnVybCsiL2NoaWxkcmVuLyIsdHlwZToiY3JlYXRlIixib2R5OntyZXNvdXJjZToiaGVhcnRiZWF0IixtdXR1YWw6ITEsdmFsdWU6KDAscy5zZWNvbmRzU2luY2VFcG9jaCkoKX19O3RoaXMuX2J1cy5wb3N0TWVzc2FnZShyKSx0aGlzLmhlYXJ0YmVhdD0oMCxzLnNlY29uZHNTaW5jZUVwb2NoKSgpO3ZhciBuPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGU9e2Zyb206dC5faHlwZXJ0eVVybCx0bzp0Ll9kYXRhT2JqZWN0LnVybCsiL2NoaWxkcmVuLyIsdHlwZToiY3JlYXRlIixib2R5OntyZXNvdXJjZToiaGVhcnRiZWF0IixtdXR1YWw6ITEsdmFsdWU6KDAscy5zZWNvbmRzU2luY2VFcG9jaCkoKX19O3QuX2J1cy5wb3N0TWVzc2FnZShlKSx0aGlzLmhlYXJ0YmVhdD0oMCxzLnNlY29uZHNTaW5jZUVwb2NoKSgpfSwxZTMqZSk7cmV0dXJuIGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChuKX19fSx7a2V5OiJfc3RhcnRTeW5jIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RhdGFPYmplY3QuZGF0YS5iYWNrdXBSZXZpc2lvbix0PXtmcm9tOnRoaXMuX2h5cGVydHlVcmwsdG86dGhpcy5fcnVudGltZVVybCsiL3NtIix0eXBlOiJleGVjdXRlIixib2R5OnttZXRob2Q6InN5bmMiLHBhcmFtczpbdGhpcy5fZGF0YU9iamVjdC51cmwsZV19fTt0aGlzLl9idXMucG9zdE1lc3NhZ2UodCl9fSx7a2V5OiJfd2F0Y2hIZWFydEJlYXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89cixpPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dCYmIW4uX2lzSGVhcnRCZWF0QWN0aXZlKG4uaGVhcnRCZWF0LG4uX2hlYXJ0QmVhdFJhdGUpPyhjbGVhckludGVydmFsKGkpLG8obikpOiF0JiZ0aGlzLl9pc0hlYXJ0QmVhdEFjdGl2ZShuLmhlYXJ0QmVhdCxuLl9oZWFydEJlYXRSYXRlKSYmKGNsZWFySW50ZXJ2YWwoaSksbygpKX0sMWUzKmUqMil9fSx7a2V5OiJfb25IZXJ0YmVhdFN0b3BwZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2UuX3N0YXJ0SGVhcnRCZWF0KGUuX2hlYXJ0QmVhdFJhdGUpLGUuX3N0YXJ0U3luYygpfX0se2tleToiaGVhcnRCZWF0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFydGJlYXQ/dGhpcy5oZWFydGJlYXQ6MH19XSksSGVhcnRCZWF0fSgpO3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNDg1KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIEh5cGVydHlSZXNvdXJjZUZhY3RvcnkoKXsoMCxhLmRlZmF1bHQpKHRoaXMsSHlwZXJ0eVJlc291cmNlRmFjdG9yeSl9cmV0dXJuKDAsdS5kZWZhdWx0KShIeXBlcnR5UmVzb3VyY2VGYWN0b3J5LFt7a2V5OiJjcmVhdGVIeXBlcnR5UmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA7c3dpdGNoKHQpe2Nhc2UiZmlsZSI6bj1uZXcgbC5kZWZhdWx0KGUscik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VGYWN0b3J5LmNyZWF0ZUh5cGVydHlSZXNvdXJjZV0gbm90IHN1cHBvcnRlZCB0eXBlOiAiLHQpfXJldHVybiBufX0se2tleToiY3JlYXRlSHlwZXJ0eVJlc291cmNlV2l0aENvbnRlbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXZvaWQgMDtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvKXtzd2l0Y2godCl7Y2FzZSJmaWxlIjppPW5ldyBsLmRlZmF1bHQoZSxuKTticmVhaztkZWZhdWx0OnJlamVjdCgpfWkuaW5pdChyKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkuc2F2ZSgpfSkudGhlbihmdW5jdGlvbigpe28oaSl9KX0pfX1dKSxIeXBlcnR5UmVzb3VyY2VGYWN0b3J5fSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTcpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMTgpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNCksdj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpLGc9cig0ODYpLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChnKSxfPShyKDYpLHIoNDg3KSksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF8pLFI9di5nZXRMb2dnZXIoIkZpbGVIeXBlcnR5UmVzb3VyY2UiKSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIEZpbGVIeXBlcnR5UmVzb3VyY2UoZSx0KXsoMCx1LmRlZmF1bHQpKHRoaXMsRmlsZUh5cGVydHlSZXNvdXJjZSk7dmFyIHI9KDAsZC5kZWZhdWx0KSh0aGlzLChGaWxlSHlwZXJ0eVJlc291cmNlLl9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KShGaWxlSHlwZXJ0eVJlc291cmNlKSkuY2FsbCh0aGlzLGUsdCkpO3JldHVybiByLm1ldGFkYXRhLnJlc291cmNlVHlwZT0iZmlsZSIscn1yZXR1cm4oMCx5LmRlZmF1bHQpKEZpbGVIeXBlcnR5UmVzb3VyY2UsZSksKDAsbC5kZWZhdWx0KShGaWxlSHlwZXJ0eVJlc291cmNlLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW0ZpbGVIeXBlcnR5UmVzb3VyY2UuY29uc3RydWN0b3JdIG1pc3NpbmcgbWFuZGF0b3J5ICpmaWxlKiBpbnB1dCAiKTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKHQuX21ldGFkYXRhLm5hbWU9ZS5uYW1lLHQuX21ldGFkYXRhLmxhc3RNb2RpZmllZD1lLmxhc3RNb2RpZmllZCx0Ll9tZXRhZGF0YS5zaXplPWUuc2l6ZSx0Ll9tZXRhZGF0YS5taW1ldHlwZT1lLnR5cGUsUi5sb2coIltGaWxlSHlwZXJ0eVJlc291cmNlLmluaXRdIGZpbGU6ICIsZSksdC5faXNTZW5kZXIpe3N3aXRjaChlLnR5cGUuc3BsaXQoIi8iKVswXSl7Y2FzZSJpbWFnZSI6dC5fZ2V0SW1hZ2VQcmV2aWV3KGUpLnRoZW4oZnVuY3Rpb24obil7dC5fbWV0YWRhdGEucHJldmlldz1uLHQuX2NvbnRlbnQ9ZSxyKCl9KTticmVhaztkZWZhdWx0OnQuX2NvbnRlbnQ9ZSxyKCl9fWVsc2UgdC5fY29udGVudD1lLmNvbnRlbnQsZS5wcmV2aWV3JiYodC5fbWV0YWRhdGEucHJldmlldz1lLnByZXZpZXcpLHIoKX0pfX0se2tleToiX2dldEltYWdlUHJldmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEZpbGVSZWFkZXI7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXttLmRlZmF1bHQucmVzaXplKGUse3dpZHRoOjEwMCxoZWlnaHQ6MTAwfSxmdW5jdGlvbihlLG4pe24/KHQucmVhZEFzRGF0YVVSTChlKSx0Lm9ubG9hZD1mdW5jdGlvbihlKXtyKGUudGFyZ2V0LnJlc3VsdCl9KTooUi53YXJuKCJbRmlsZUh5cGVydHlSZXNvdXJjZS5fZ2V0SW1hZ2VQcmV2aWV3XSB1bmFibGUgdG8gY3JlYXRlIGltYWdlIHByZXZpZXcgZnJvbSBvcmlnaW5hbCBpbWFnZSAiKSxyKHZvaWQgMCkpfSl9KX19LHtrZXk6InRvTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGEubmFtZX19LHtrZXk6InByZXZpZXciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRhZGF0YS5wcmV2aWV3fX1dKSxGaWxlSHlwZXJ0eVJlc291cmNlfShiLmRlZmF1bHQpO3QuZGVmYXVsdD1PLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxNSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTcpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMTAzKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQpLGI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxfPXIoNiksbT1yKDIwOCksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLE89Yi5nZXRMb2dnZXIoIkh5cGVydHlSZXNvdXJjZSIpLHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gSHlwZXJ0eVJlc291cmNlKGUsdCl7KDAsdS5kZWZhdWx0KSh0aGlzLEh5cGVydHlSZXNvdXJjZSk7dmFyIHI9KDAsZC5kZWZhdWx0KSh0aGlzLChIeXBlcnR5UmVzb3VyY2UuX19wcm90b19ffHwoMCxhLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZSkpLmNhbGwodGhpcyx0KSksbj1yO3JldHVybiBuLmFycmF5YnVmZmVyU2l6ZUxpbWl0PTUyNDI4ODAsbi5faXNTZW5kZXI9ZSxuLl9sb2NhbFN0b3JhZ2VVUkw9bi5fcGFyZW50T2JqZWN0Ll9zeW5jaGVyLl9ydW50aW1lVXJsKyIvc3RvcmFnZSIscn1yZXR1cm4oMCx2LmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZSxlKSwoMCxsLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZSxbe2tleToic2F2ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dmFyIG49e2Zyb206ZS5fb3duZXIsdG86ZS5fbG9jYWxTdG9yYWdlVVJMLHR5cGU6ImNyZWF0ZSIsYm9keTp7dmFsdWU6KDAsXy5kZWVwQ2xvbmUpKGUuX21ldGFkYXRhKX19LG89ZnVuY3Rpb24obil7Ty5pbmZvKCJbSHlwZXJ0eVJlc291cmNlLnNhdmVdIHJlcGx5OiAiLG4pLGUuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKGUuX293bmVyLG4uaWQpLDIwMD09PW4uYm9keS5jb2RlPyhuLmJvZHkudmFsdWUmJihlLl9tZXRhZGF0YS5jb250ZW50VVJMfHwoZS5fbWV0YWRhdGEuY29udGVudFVSTD1bXSksZS5fbWV0YWRhdGEuY29udGVudFVSTC5wdXNoKG4uYm9keS52YWx1ZSkpLHQoKSk6cihuLmJvZHkuY29kZSsiICIrbi5ib2R5LmRlc2MpfTtuLmJvZHkudmFsdWUuY29udGVudD1lLl9jb250ZW50LGUuX2J1cy5wb3N0TWVzc2FnZShuLG8sITEpfSl9fSx7a2V5OiJyZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBPLmluZm8oIltIeXBlcnR5UmVzb3VyY2UucmVhZF0gIix0aGlzKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYodC5jb250ZW50KXIodCk7ZWxzZXt2YXIgbz10Ll9nZXRCZXN0Q29udGVudFVSTCh0Ll9tZXRhZGF0YS5jb250ZW50VVJMKTtPLmxvZygiU3RvcmFnZToiLG8pO3ZhciBpPXtmcm9tOnQuX293bmVyLHRvOm8udXJsLHR5cGU6InJlYWQiLGJvZHk6e3Jlc291cmNlOm8udXJsKyIvIitvLnJlc291cmNlLHAycDohMH19O3QubWV0YWRhdGEucDJwUmVxdWVzdGVyJiZ0Lm1ldGFkYXRhLnAycEhhbmRsZXImJihpLmJvZHkucDJwUmVxdWVzdGVyPXQubWV0YWRhdGEucDJwUmVxdWVzdGVyLGkuYm9keS5wMnBIYW5kbGVyPXQubWV0YWRhdGEucDJwSGFuZGxlciksdC5fZ2V0QmVzdFJlc291cmNlKGksZSkudGhlbihmdW5jdGlvbihlKXtPLmluZm8oIltIeXBlcnR5UmVzb3VyY2VdIC0gZ2V0IGxvY2FsbHkgdGhlIHJlc291cmNlOiIsZSkscih0KX0pLmNhdGNoKGZ1bmN0aW9uKGkpe08ud2FybigiW0h5cGVydHlSZXNvdXJjZV0gLSBnZXQgbG9jYWxseSB0aGUgcmVzb3VyY2UgZmFpbCIsaSk7dmFyIGE9e2Zyb206dC5fb3duZXIsdG86by5yZW1vdGVVUkwsdHlwZToicmVhZCIsYm9keTp7cmVzb3VyY2U6by5yZW1vdGVVUkwrIi8iK28ucmVzb3VyY2UscDJwOiEwfX07dC5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXImJnQubWV0YWRhdGEucDJwSGFuZGxlciYmKGEuYm9keS5wMnBSZXF1ZXN0ZXI9dC5tZXRhZGF0YS5wMnBSZXF1ZXN0ZXIsYS5ib2R5LnAycEhhbmRsZXI9dC5tZXRhZGF0YS5wMnBIYW5kbGVyKSx0Ll9nZXRCZXN0UmVzb3VyY2UoYSxlKS50aGVuKGZ1bmN0aW9uKGUpe08ud2FybigiW0h5cGVydHlSZXNvdXJjZV0gLSBnZXQgcmVtb3RlbHkgdGhlIHJlc291cmNlIixlKSxyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty53YXJuKCJbSHlwZXJ0eVJlc291cmNlXSAtIGdldCByZW1vdGVseSB0aGUgcmVzb3VyY2UgZmFpbCIsZSksbihlLmJvZHkuY29kZSsiICIrZS5ib2R5LmRlc2MpfSl9KX19KX19LHtrZXk6Il9nZXRCZXN0UmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gci5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5fb3duZXIscyksZS5ib2R5LmNvZGU9NDA4LGUuYm9keS5kZXNjPSJSZXNwb25zZSB0aW1lb3V0IixvKGUpfSwzZTMpLGE9ZnVuY3Rpb24oZSl7Ty5sb2coIltIeXBlcnR5UmVzb3VyY2UucmVhZF0gcmVwbHk6ICIsZSk7dmFyIGE9ZS5pZDtzd2l0Y2goY2xlYXJUaW1lb3V0KGkpLGUuYm9keS5jb2RlKXtjYXNlIDIwMDpyLl9jb250ZW50PWUuYm9keS52YWx1ZS5jb250ZW50LGUuYm9keS52YWx1ZS5zaXplPHIuYXJyYXlidWZmZXJTaXplTGltaXQmJnIuc2F2ZSgpLHIuX2J1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX293bmVyLGEpLG4oZSk7YnJlYWs7Y2FzZSAxODM6dChlLmJvZHkudmFsdWUpO2JyZWFrO2RlZmF1bHQ6ci5fYnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5fb3duZXIsYSksbyhlKX19LHM9ci5fYnVzLnBvc3RNZXNzYWdlKGUsYSwhMSl9KX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO08uaW5mbygiW0h5cGVydHlSZXNvdXJjZS5kZWxldGVdIixlLm1ldGFkYXRhKTt2YXIgdD17ZnJvbTplLl9vd25lcix0bzplLl9sb2NhbFN0b3JhZ2VVUkwsdHlwZToiZGVsZXRlIixib2R5OntyZXNvdXJjZXM6ZS5tZXRhZGF0YS5jb250ZW50VVJMfX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocil7ZS5fYnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24oZSl7cihlLmJvZHkuY29kZTwzMDA/ITA6ITEpfSl9KX19LHtrZXk6Il9nZXRCZXN0Q29udGVudFVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWVbMF0sbj1yLnN1YnN0cihyLmxhc3RJbmRleE9mKCIvIikrMSk7cmV0dXJue3VybDp0Ll9sb2NhbFN0b3JhZ2VVUkwscmVzb3VyY2U6bixyZW1vdGVVUkw6ci5zdWJzdHIoMCxyLmxhc3RJbmRleE9mKCIvIikpfX19LHtrZXk6InJlc291cmNlVHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWV0YWRhdGEucmVzb3VyY2VUeXBlfX0se2tleToibWltZXR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRhZGF0YS50eXBlfX0se2tleToiY29udGVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRlbnR9fSx7a2V5OiJjb250ZW50VVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGEuY29udGVudFVSTH19LHtrZXk6InNoYXJlYWJsZSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSgwLHkuZGVmYXVsdCkoSHlwZXJ0eVJlc291cmNlLnByb3RvdHlwZS5fX3Byb3RvX198fCgwLGEuZGVmYXVsdCkoSHlwZXJ0eVJlc291cmNlLnByb3RvdHlwZSksIm1ldGFkYXRhIix0aGlzKTtyZXR1cm4gdC5yZXNvdXJjZVR5cGU9ZS5yZXNvdXJjZVR5cGUsdH19XSksSHlwZXJ0eVJlc291cmNlfShSLmRlZmF1bHQpO3QuZGVmYXVsdD13LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz0idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBCb29sZWFuKG5ldyBCbG9iKX1jYXRjaChlKXtyZXR1cm4hMX19KCksdT1zJiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiAxMDA9PT1uZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoMTAwKV0pLnNpemV9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGM9InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLnRvQmxvYixsPWN8fCJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheSYmInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmInVuZGVmaW5lZCIhPXR5cGVvZiBhdG9iLGY9InVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlUmVhZGVyfHwidW5kZWZpbmVkIiE9dHlwZW9mIFVSTCxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSW1hZ2VUb29scygpeygwLG8uZGVmYXVsdCkodGhpcyxJbWFnZVRvb2xzKX1yZXR1cm4oMCxhLmRlZmF1bHQpKEltYWdlVG9vbHMsbnVsbCxbe2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbihlLHQscil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQsdD17d2lkdGg6NjQwLGhlaWdodDo0ODB9KTt0LndpZHRoLHQuaGVpZ2h0O2lmKCFJbWFnZVRvb2xzLmlzU3VwcG9ydGVkKCl8fCFlLnR5cGUubWF0Y2goL2ltYWdlLiovKSlyZXR1cm4gcihlLCExKSwhMTtpZihlLnR5cGUubWF0Y2goL2ltYWdlXC9naWYvKSlyZXR1cm4gcihlLCExKSwhMTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtyZXR1cm4gbi5vbmxvYWQ9ZnVuY3Rpb24obyl7dmFyIGk9bi53aWR0aCxhPW4uaGVpZ2h0LHM9ITE7aWYoaT49YSYmaT50LndpZHRoPyhhKj10LndpZHRoL2ksaT10LndpZHRoLHM9ITApOmE+dC5oZWlnaHQmJihpKj10LmhlaWdodC9hLGE9dC5oZWlnaHQscz0hMCksIXMpcmV0dXJuIHZvaWQgcihlLCExKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtpZih1LndpZHRoPWksdS5oZWlnaHQ9YSx1LmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKG4sMCwwLGksYSksYyl1LnRvQmxvYihmdW5jdGlvbihlKXtyKGUsITApfSxlLnR5cGUpO2Vsc2V7dmFyIGw9SW1hZ2VUb29scy5fdG9CbG9iKHUsZS50eXBlKTtyKGwsITApfX0sSW1hZ2VUb29scy5fbG9hZEltYWdlKG4sZSksITB9fSx7a2V5OiJfdG9CbG9iIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUudG9EYXRhVVJMKHQpLG49ci5zcGxpdCgiLCIpLG89dm9pZCAwO289blswXS5pbmRleE9mKCJiYXNlNjQiKT49MD9hdG9iKG5bMV0pOmRlY29kZVVSSUNvbXBvbmVudChuWzFdKTtmb3IodmFyIGk9bmV3IEFycmF5QnVmZmVyKG8ubGVuZ3RoKSxhPW5ldyBVaW50OEFycmF5KGkpLGM9MDtjPG8ubGVuZ3RoO2MrPTEpYVtjXT1vLmNoYXJDb2RlQXQoYyk7dmFyIGw9blswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF0sZj1udWxsO2lmKHMpZj1uZXcgQmxvYihbdT9hOmldLHt0eXBlOmx9KTtlbHNle3ZhciBkPW5ldyBCbG9iQnVpbGRlcjtkLmFwcGVuZChpKSxmPWQuZ2V0QmxvYihsKX1yZXR1cm4gZn19LHtrZXk6Il9sb2FkSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFVSTCl7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9ZnVuY3Rpb24odCl7ZS5zcmM9dC50YXJnZXQucmVzdWx0LHImJnIoKX0sbi5yZWFkQXNEYXRhVVJMKHQpfWVsc2UgZS5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTCh0KSxyJiZyKCl9fSx7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZsJiZmfX1dKSxJbWFnZVRvb2xzfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNDYpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoMTcpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoMTAzKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksXz1yKDE4KSxtPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksUj1yKDQpLE89ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShSKSx3PXIoNiksaz1yKDIwNiksUz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGspLFA9Ty5nZXRMb2dnZXIoIkRhdGFPYmplY3RPYnNlcnZlciIpLEQ9e0FOWToiYW55IixTVEFSVDoic3RhcnQiLEVYQUNUOiJleGFjdCJ9LE09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gRGF0YU9iamVjdE9ic2VydmVyKGUpeygwLGQuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0T2JzZXJ2ZXIpO3ZhciB0PSgwLHYuZGVmYXVsdCkodGhpcywoRGF0YU9iamVjdE9ic2VydmVyLl9fcHJvdG9fX3x8KDAsbC5kZWZhdWx0KShEYXRhT2JqZWN0T2JzZXJ2ZXIpKS5jYWxsKHRoaXMsZSkpLHI9dDtyZXR1cm4gci5fdmVyc2lvbj1lLnZlcnNpb24sci5fZmlsdGVycz17fSxyLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7ci5fb25GaWx0ZXIoZSl9KSxyLl9hbGxvY2F0ZUxpc3RlbmVycygpLHR9cmV0dXJuKDAsbS5kZWZhdWx0KShEYXRhT2JqZWN0T2JzZXJ2ZXIsZSksKDAseS5kZWZhdWx0KShEYXRhT2JqZWN0T2JzZXJ2ZXIsW3trZXk6InN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUC5pbmZvKCJbRGF0YU9iamVjdE9ic2VydmVyX3N5bmNdIHN5bmNocm9uaXNpbmcgIiksbmV3IHUuZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPXt9O2UuX3N5bmNoZXIucmVhZChlLl9tZXRhZGF0YS51cmwsbikudGhlbihmdW5jdGlvbihyKXtQLmluZm8oIltEYXRhT2JqZWN0T2JzZXJ2ZXJfc3luY10gdmFsdWUgdG8gc3luYzogIixyKSwoMCxhLmRlZmF1bHQpKGUuZGF0YSwoMCx3LmRlZXBDbG9uZSkoci5kYXRhKSksZS5fdmVyc2lvbj1yLnZlcnNpb24sZS5fbWV0YWRhdGEubGFzdE1vZGlmaWVkPXIubGFzdE1vZGlmaWVkLHIuY2hpbGRyZW5PYmplY3RzPyhlLnJlc3VtZUNoaWxkcmVucyhyLmNoaWxkcmVuT2JqZWN0cyksZS5fc3RvcmVDaGlsZHJlbnMoKSx0KCEwKSk6dCghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtQLmluZm8oIltEYXRhT2JqZWN0T2JzZXJ2ZXJfc3luY10gc3luYyBmYWlsZWQ6ICIsZSksdCghMSl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fTsoMCxvLmRlZmF1bHQpKGUuX2NoaWxkcmVuT2JqZWN0cykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1lLl9jaGlsZHJlbk9iamVjdHM7dFtyXT17fSx0W3JdLnZhbHVlPW5bcl0ubWV0YWRhdGEsdFtyXS5pZGVudGl0eT1uW3JdLmlkZW50aXR5fSk7dmFyIHI9e2Zyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLHR5cGU6ImNyZWF0ZSIsYm9keTp7cmVzb3VyY2U6ZS5fdXJsLGF0dHJpYnV0ZToiY2hpbGRyZW5PYmplY3RzIix2YWx1ZTp0fX07ZS5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpeygwLGIuZGVmYXVsdCkoRGF0YU9iamVjdE9ic2VydmVyLnByb3RvdHlwZS5fX3Byb3RvX198fCgwLGwuZGVmYXVsdCkoRGF0YU9iamVjdE9ic2VydmVyLnByb3RvdHlwZSksIl9hbGxvY2F0ZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO2UuX2NoYW5nZUxpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwrIi9jaGFuZ2VzIixmdW5jdGlvbih0KXsidXBkYXRlIj09PXQudHlwZSYmKFAubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItIitlLl91cmwrIi1SQ1Y6ICIsdCksZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxiLmRlZmF1bHQpKERhdGFPYmplY3RPYnNlcnZlci5wcm90b3R5cGUuX19wcm90b19ffHwoMCxsLmRlZmF1bHQpKERhdGFPYmplY3RPYnNlcnZlci5wcm90b3R5cGUpLCJfcmVsZWFzZUxpc3RlbmVycyIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2hlYXJ0QmVhdCYmZS5faGVhcnRCZWF0LnN0b3AoKSxlLl9kZWxldGVDaGlsZHJlbnMoKS50aGVuKGZ1bmN0aW9uKCl7ZS51bnN1YnNjcmliZSgpLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19KX19LHtrZXk6InVuc3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToidW5zdWJzY3JpYmUiLGZyb206ZS5fb3duZXIsdG86ZS5fc3luY2hlci5fc3ViVVJMLGJvZHk6e3Jlc291cmNlOmUuX3VybH19O2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe1AubG9nKCJEYXRhT2JqZWN0T2JzZXJ2ZXItVU5TVUJTQ1JJQkU6ICIsdCksMjAwPT09dC5ib2R5LmNvZGUmJihlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3N5bmNoZXIuX29ic2VydmVyc1tlLl91cmxdKX0pfX0se2tleToib25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSxuPXt0eXBlOkQuRVhBQ1QsY2FsbGJhY2s6dH0sbz1lLmluZGV4T2YoIioiKTtvPT09ZS5sZW5ndGgtMSYmKDA9PT1vP24udHlwZT1ELkFOWToobi50eXBlPUQuU1RBUlQscj1lLnN1YnN0cigwLGUubGVuZ3RoLTEpKSksdGhpcy5fZmlsdGVyc1tyXT1ufX0se2tleToiX29uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLG8uZGVmYXVsdCkodC5fZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9maWx0ZXJzW3JdO24udHlwZT09PUQuQU5ZP24uY2FsbGJhY2soZSk6bi50eXBlPT09RC5TVEFSVD8wPT09ZS5maWVsZC5pbmRleE9mKHIpJiZuLmNhbGxiYWNrKGUpOm4udHlwZT09PUQuRVhBQ1QmJmUuZmllbGQ9PT1yJiZuLmNhbGxiYWNrKGUpfSl9fSx7a2V5OiJvbkRpc2Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX3N1YnNjcmliZVJlZ2lzdHJhdGlvbigpLnRoZW4oZnVuY3Rpb24oKXt0Ll9vbkRpc2Nvbm5lY3RlZD1lLHIoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9KX19LHtrZXk6Il9zdWJzY3JpYmVSZWdpc3RyYXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt0eXBlOiJzdWJzY3JpYmUiLGZyb206dGhpcy5fb3duZXIsdG86dGhpcy5fc3luY2hlci5fcnVudGltZVVybCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlczpbdGhpcy5fdXJsKyIvcmVnaXN0cmF0aW9uIl19fTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX2J1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKHQpe1AubG9nKCJbRGF0YU9iamVjdE9ic2VydmVyLl9zdWJzY3JpYmVSZWdpc3RyYXRpb25dICIrZS5fdXJsKyIgcmN2ZWQgcmVwbHkgIix0KSwyMDA9PT10LmJvZHkuY29kZT8oZS5fZ2VuZXJhdGVMaXN0ZW5lcihlLl91cmwrIi9yZWdpc3RyYXRpb24iKSxyKCkpOihQLmVycm9yKCJFcnJvciBzdWJzY3JpYmluZyByZWdpc3RyYXRpb24gc3RhdHVzIGZvciAiLGUuX3VybCksbigiRXJyb3Igc3Vic2NyaWJpbmcgcmVnaXN0cmF0aW9uIHN0YXR1cyBmb3IgIitlLl91cmwpKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9idXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtQLmxvZygiW0RhdGFPYmplY3RPYnNlcnZlci5yZWdpc3RyYXRpb25Ob3RpZmljYXRpb25dICIrdC5fdXJsKyI6ICIsZSksZS5ib2R5LnZhbHVlJiYiZGlzY29ubmVjdGVkIj09PWUuYm9keS52YWx1ZSYmdC5fb25EaXNjb25uZWN0ZWQmJihQLmxvZygiW0RhdGFPYmplY3RPYnNlcnZlcl0gIit0Ll91cmwrIjogd2FzIGRpc2Nvbm5lY3RlZCAiLGUpLHQuX29uRGlzY29ubmVjdGVkKCkpfSl9fSx7a2V5OiJleGVjdXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIGE9e3R5cGU6ImV4ZWN1dGUiLGZyb206ci5fb3duZXIsdG86bi5fdXJsLGJvZHk6e21ldGhvZDplLHBhcmFtczp0fX07bi5fYnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24odCl7UC5sb2coIltEYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZV0gIituLl91cmwrIiByY3ZlZCByZXBseSAiLHQpLDIwMD09PXQuYm9keS5jb2RlP28oKTooUC53YXJuKCJbRGF0YU9iamVjdE9ic2VydmVyLmV4ZWN1dGVdIGV4ZWN1dGlvbiBvZiBtZXRob2QgIitlKyIgd2FzIHJlamVjdCBieSByZXBvcnRlciIpLGkoIltEYXRhT2JqZWN0T2JzZXJ2ZXIuZXhlY3V0ZV0gZXhlY3V0aW9uIG9mIG1ldGhvZCAiK2UrIiB3YXMgcmVqZWN0IGJ5IHJlcG9ydGVyIikpfSl9KX19XSksRGF0YU9iamVjdE9ic2VydmVyfShTLmRlZmF1bHQpO3QuZGVmYXVsdD1NLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDQpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKSxjPXUuZ2V0TG9nZ2VyKCJEYXRhUHJvdmlzaW9uYWwiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YVByb3Zpc2lvbmFsKGUsdCxyLG4peygwLG8uZGVmYXVsdCkodGhpcyxEYXRhUHJvdmlzaW9uYWwpO3ZhciBpPXRoaXM7aS5fb3duZXI9ZSxpLl91cmw9dCxpLl9idXM9cixpLl9jaGlsZHJlbj1uLGkuX2NoYW5nZXM9W10saS5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4oMCxhLmRlZmF1bHQpKERhdGFQcm92aXNpb25hbCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCxmdW5jdGlvbih0KXtjLmxvZygiRGF0YVByb3Zpc2lvbmFsLSIrZS5fdXJsKyItUkNWOiAiLHQpLGUuX2NoYW5nZXMucHVzaCh0KX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoYW5nZU9iamVjdChlLl9zeW5jT2JqLHQpfSl9fSx7a2V5OiJjaGlsZHJlbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufX1dKSxEYXRhUHJvdmlzaW9uYWx9KCk7dC5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNiksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIE5vdGlmaWNhdGlvbkhhbmRsZXIoZSl7aWYoKDAsby5kZWZhdWx0KSh0aGlzLE5vdGlmaWNhdGlvbkhhbmRsZXIpLCFlKXRocm93IEVycm9yKCJbTm90aWZpY2F0aW9uSGFuZGxlciBDb25zdHJ1Y3Rvcl0gYnVzIGlucHV0IGlzIG1hbmRhdG9yeSIpO3RoaXMuX2J1cz1lLHRoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj17fX1yZXR1cm4oMCxhLmRlZmF1bHQpKE5vdGlmaWNhdGlvbkhhbmRsZXIsW3trZXk6Im9uTm90aWZpY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcltlXT10fX0se2tleToib25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc291cmNlIik/ZS5ib2R5LnJlc291cmNlOmUuZnJvbS5zbGljZSgwLC0xMyksbj0oMCxzLmRpdmlkZVVSTCkociksbz1uLmRvbWFpbixpPXIuc3BsaXQoIjovLyIpWzBdLGE9ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAwLGRlc2M6IkJhZCBSZXF1ZXN0OiAiK3J9fSl9O2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIil8fGEoIk1pc3Npbmcgc291cmNlIiksZS5ib2R5Lmhhc093blByb3BlcnR5KCJzY2hlbWEiKXx8YSgiTWlzc2luZyBzY2hlbWEiKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIil8fGEoIk1pc3NpbmcgdmFsdWUiKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5Iil8fGEoIk1pc3NpbmcgaWRlbnRpdHkiKTt2YXIgdT17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLGRvbWFpbjpvLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksdG86ZS50byx2aWE6ZS5ib2R5LnZpYSxhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9LGVycm9yOmZ1bmN0aW9uKGUpe2EoZSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXJbaV0mJnQuX29uTm90aWZpY2F0aW9uSGFuZGxlcltpXSh1KX19LHtrZXk6Im9uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fb2JzZXJ2ZXJzW3JdLG89e2Zyb206dC5vd25lcix0bzp0Ll9zdWJVUkwsaWQ6ZS5pZCx0eXBlOiJ1bnN1YnNjcmliZSIsYm9keTp7cmVzb3VyY2U6ZS5ib2R5LnJlc291cmNlfX07aWYodC5fYnVzLnBvc3RNZXNzYWdlKG8pLGRlbGV0ZSB0Ll9vYnNlcnZlcnNbcl0sbil7dmFyIGk9e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxhY2s6ZnVuY3Rpb24ocil7dmFyIG89MjAwO3ImJihvPXIpLDIwMD09PW8mJm4uZGVsZXRlKCksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6byxzb3VyY2U6dC5fb3duZXJ9fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihsb2cubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsaSksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKGkpKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fV0pLE5vdGlmaWNhdGlvbkhhbmRsZXJ9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig2KSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdHlNYW5hZ2VyKGUsdCxyKXsoMCxhLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlNYW5hZ2VyKTt2YXIgbj10aGlzO24ubWVzc2FnZUJ1cz1yLG4uZG9tYWluPSgwLGMuZGl2aWRlVVJMKShlKS5kb21haW4sbi5vd25lcj1lLG4ucnVudGltZVVSTD10fXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNYW5hZ2VyLFt7a2V5OiJkaXNjb3ZlclVzZXJSZWdpc3RlcmVkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDAsYT1lfHwiLiI7aT10fHxyLm93bmVyO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmksdG86ci5ydW50aW1lVVJMKyIvcmVnaXN0cnkvIixib2R5OntyZXNvdXJjZTphLGNyaXRlcmlhOml9fTtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkucmVzb3VyY2U7dCYmMjAwPT09ZS5ib2R5LmNvZGU/bih0KTpvKCJjb2RlOiAiK2UuYm9keS5jb2RlKyIgTm8gdXNlciB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3ZlcklkZW50aXR5UGVySWRQIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89e3R5cGU6InJlYWQiLGZyb206dGhpcy5vd25lcix0bzp0LnJ1bnRpbWVVUkwrIi9pZG0iLGJvZHk6e3Jlc291cmNlOmUsY3JpdGVyaWE6ImlkcCJ9fTt0Lm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXsyMDA9PT1lLmJvZHkuY29kZT9yKGUuYm9keS52YWx1ZSk6bihlLmJvZHkuY29kZSsiICIrZS5ib2R5LmRlc2MpfSl9KX19XSksSWRlbnRpdHlNYW5hZ2VyfSgpO3QuZGVmYXVsdD1sLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNCksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGY9cig2KSxkPXIoNDkzKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1sLmdldExvZ2dlcigiRGlzY292ZXJ5IiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIERpc2NvdmVyeShlLHQscil7KDAsYS5kZWZhdWx0KSh0aGlzLERpc2NvdmVyeSk7dmFyIG49dGhpcztuLm1lc3NhZ2VCdXM9cixuLnJ1bnRpbWVVUkw9dCxuLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLG4uZGlzY292ZXJ5VVJMPWV9cmV0dXJuKDAsdS5kZWZhdWx0KShEaXNjb3ZlcnksW3trZXk6Il9pc0xlZ2FjeVVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUuaW5jbHVkZXMoIjoiKXx8ZS5pbmNsdWRlcygidXNlcjovLyIpKX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPVtdLGE9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L3VzZXJwcm9maWxlLyIrZX19O3JldHVybih0fHxyKSYmKGEuYm9keS5jcml0ZXJpYT17cmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH0pLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtuLl9pc0xlZ2FjeVVzZXIoZSk/dChbe2h5cGVydHlJRDplLHN0YXR1czoibGl2ZSJ9XSk6bi5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/KHIuYm9keS52YWx1ZS5tYXAoZnVuY3Rpb24oZSl7ZS5oeXBlcnR5SUQhPW4uZGlzY292ZXJ5VVJMJiZpLnB1c2goZSl9KSwwPT09aS5sZW5ndGg/dChbXSk6KHkubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhXSBSZXBseSBsb2c6ICIsaSksdChpKSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGFdIEVycm9yIFJlcGx5IGZvciAiK2UrIiBSZWFzb246ICIsci5ib2R5LmRlc2NyaXB0aW9uKSx0KFtdKSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGFETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhLmFwcGx5KG4saSkudGhlbihmdW5jdGlvbih0KXtlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT17dHlwZToicmVhZCIsZnJvbTpuLmRpc2NvdmVyeVVSTCx0bzpuLnJ1bnRpbWVVUkwrIi9kaXNjb3ZlcnkvIixib2R5OntyZXNvdXJjZToiL2RhdGFPYmplY3QvdXNlcnByb2ZpbGUvIitlfX07cmV0dXJuKHR8fHIpJiYoaS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24uX2lzTGVnYWN5VXNlcihlKT90KFt7aHlwZXJ0eUlEOmUsc3RhdHVzOiJsaXZlIn1dKTpuLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihyKXsyMDA9PT1yLmJvZHkuY29kZT8oeS5sb2coIlJlcGx5IGxvZzogIixyLmJvZHkudmFsdWUpLHQoci5ib2R5LnZhbHVlKSk6KHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVXNlclByb2ZpbGVEYXRhXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGFETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGEuYXBwbHkobixpKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPVtdLGE9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L2d1aWQvIitlfX07cmV0dXJuKHR8fHIpJiYoYS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKG8pezIwMD09PW8uYm9keS5jb2RlPyhvLmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGUpe2UuaHlwZXJ0eUlEIT1uLmRpc2NvdmVyeVVSTCYmaS5wdXNoKGUpfSksMD09PWkubGVuZ3RoP3IoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik6KHkubG9nKCJSZXBseSBsb2c6ICIsaSksdChpKSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLG8uYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRERPIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe24uZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlELmFwcGx5KG4saSkudGhlbihmdW5jdGlvbih0KXtlKG4uX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9e3R5cGU6InJlYWQiLGZyb206bi5kaXNjb3ZlcnlVUkwsdG86bi5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L2d1aWQvIitlfX07cmV0dXJuKHR8fHIpJiYoaS5ib2R5LmNyaXRlcmlhPXtyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe24ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgbG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlERE8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7bi5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRC5hcHBseShuLGkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUobi5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMCxzPVtdO2E9bnx8aS5kb21haW47dmFyIHU9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86aS5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9oeXBlcnR5L3VzZXIvIitlfX07cmV0dXJuIHUuYm9keS5jcml0ZXJpYT10fHxyP3tyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0LGRvbWFpbjphfTp7ZG9tYWluOmF9LG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpLl9pc0xlZ2FjeVVzZXIoZSk/dChbe2h5cGVydHlJRDplLHN0YXR1czoibGl2ZSJ9XSk6aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGV8fDUwMD09PXIuYm9keS5jb2RlPyhyLmJvZHkudmFsdWUubWFwKGZ1bmN0aW9uKGUpe2UuaHlwZXJ0eUlEIT1pLmRpc2NvdmVyeVVSTCYmcy5wdXNoKGUpfSkseS5sb2coIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIFJlcGx5IDogIixzKSx0KHMpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChzKSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kuZGlzY292ZXJIeXBlcnRpZXMuYXBwbHkoaSxhKS50aGVuKGZ1bmN0aW9uKHQpe2UoaS5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwO2E9bnx8aS5kb21haW47dmFyIHM9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86aS5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L3VzZXIvIitlfX07cmV0dXJuIHMuYm9keS5jcml0ZXJpYT10fHxyP3tyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0LGRvbWFpbjphfTp7ZG9tYWluOmF9LG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihyKXsyMDA9PT1yLmJvZHkuY29kZT8oeS5sb2coIlJlcGx5IFZhbHVlIExvZzogIixyLmJvZHkudmFsdWUpLHQoci5ib2R5LnZhbHVlKSk6KHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNETyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPWFyZ3VtZW50cztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kuZGlzY292ZXJEYXRhT2JqZWN0cy5hcHBseShpLGEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUoaS5fY29udmVydFRvRGlzY292ZXJlZE9iamVjdCh0KSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBpPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOnIucnVudGltZVVSTCsiL2Rpc2NvdmVyeS8iLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS91cmwvIitlLGNyaXRlcmlhOntkb21haW46bn19fTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LG4pe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVSTF0gRXJyb3IgUmVwbHkgZm9yICIrZSsiIFJlYXNvbjogIixyLmJvZHkuZGVzY3JpcHRpb24pLHQoW10pKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkxETyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5kaXNjb3Zlckh5cGVydHlQZXJVUkwuYXBwbHkocixuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKG5ldyBwLmRlZmF1bHQodCxyLnJ1bnRpbWVVUkwsci5kaXNjb3ZlcnlVUkwsci5tZXNzYWdlQnVzLHIpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIGk9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ci5ydW50aW1lVVJMKyIvZGlzY292ZXJ5LyIsYm9keTp7cmVzb3VyY2U6Ii9kYXRhT2JqZWN0L3VybC8iK2UsY3JpdGVyaWE6e2RvbWFpbjpufX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQsbil7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/KHkubG9nKCJSZXBseSBWYWx1ZSBMb2c6ICIsci5ib2R5LnZhbHVlKSx0KHIuYm9keS52YWx1ZSkpOih5Lndhcm4oIltEaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTERPIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTC5hcHBseShyLG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUobmV3IHAuZGVmYXVsdCh0LHIucnVudGltZVVSTCxyLmRpc2NvdmVyeVVSTCxyLm1lc3NhZ2VCdXMscikpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzppLnJ1bnRpbWVVUkwrIi9kaXNjb3ZlcnkvIixib2R5OntyZXNvdXJjZToiL2RhdGFPYmplY3QvbmFtZS8iK2V9fTtyZXR1cm4gcy5ib2R5LmNyaXRlcmlhPXR8fHI/e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnQsZG9tYWluOmF9Ontkb21haW46YX0sbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lRE8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT1hcmd1bWVudHM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtpLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lLmFwcGx5KGksYSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZShpLl9jb252ZXJ0VG9EaXNjb3ZlcmVkT2JqZWN0KHQpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMDthPW58fGkuZG9tYWluO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOmkucnVudGltZVVSTCsiL2Rpc2NvdmVyeS8iLGJvZHk6e3Jlc291cmNlOiIvZGF0YU9iamVjdC9yZXBvcnRlci8iK2V9fTtyZXR1cm4gcy5ib2R5LmNyaXRlcmlhPXR8fHI/e3Jlc291cmNlczpyLGRhdGFTY2hlbWVzOnQsZG9tYWluOmF9Ontkb21haW46YX0sbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlPyh5LmxvZygiUmVwbHkgVmFsdWUgTG9nOiAiLHIuYm9keS52YWx1ZSksdChyLmJvZHkudmFsdWUpKTooeS53YXJuKCJbRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lXSBFcnJvciBSZXBseSBmb3IgIitlKyIgUmVhc29uOiAiLHIuYm9keS5kZXNjcmlwdGlvbiksdChbXSkpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlckRPIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9YXJndW1lbnRzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIuYXBwbHkoaSxhKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlKGkuX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QodCkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KX0pfX0se2tleToiX2NvbnZlcnRUb0Rpc2NvdmVyZWRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcC5kZWZhdWx0KGUsdC5ydW50aW1lVVJMLHQuZGlzY292ZXJ5VVJMLHQubWVzc2FnZUJ1cyx0KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwO2E9bnx8aS5kb21haW47dmFyIHM9e3R5cGU6InJlYWQiLGZyb206aS5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrYSxib2R5OntyZXNvdXJjZTplLGNyaXRlcmlhOntyZXNvdXJjZXM6cixkYXRhU2NoZW1lczp0fX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7aWYoeS5sb2coIltEaXNjb3ZlcnldIixyKSxyLmJvZHkuY29kZT4yOTkpcmV0dXJuIHkud2FybigiW0Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RdIEVycm9yIFJlcGx5IGZvciAiK2UrIiBSZWFzb246ICIsci5ib2R5LmRlc2NyaXB0aW9uKSx0KFtdKTt2YXIgbj1yLmJvZHkudmFsdWU7dChufHxbXSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLGE9dm9pZCAwLHM9KDAsZi5jb252ZXJ0VG9Vc2VyVVJMKShlKTtyZXR1cm4gYT1ufHxpLmRvbWFpbixuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8sdSl7aWYoeS5sb2coIltEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnR5XSBBQ1RJVkUgRE9NQUlOIC0+ICIsYSwidXNlci0+IixlLCJzY2hlbWEtPiIsdCwicmVzb3VyY2VzLT4iLHIsImRvbWFpbi0+IixuKSxlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gIitlKyIgaXMgbGVnYWN5IGRvbWFpbiIpO3JldHVybiBvKHt1c2VySUQ6ZSxoeXBlcnR5SUQ6ZSxzY2hlbWE6dCxyZXNvdXJjZXM6cn0pfXZhciBjPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EsYm9keTp7cmVzb3VyY2U6cyxjcml0ZXJpYTp7cmVzb3VyY2VzOnIsZGF0YVNjaGVtZXM6dH19fTt5LmluZm8oIltEaXNjb3ZlcnldIG1zZyB0byBzZW5kLT4iLGMpLGkubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShjLGZ1bmN0aW9uKGUpe3kuaW5mbygiW0Rpc2NvdmVyeV0gT04gZGlzY292ZXJIeXBlcnR5LT4iLGUpO3ZhciB0PWUuYm9keS52YWx1ZTt0P28odCk6dSgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVc2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtpZihlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gIitlKyJpcyBsZWdhY3kgZG9tYWluIik7cmV0dXJuIG8oe2lkOmUsaHlwZXJ0eVVSTDplLGRlc2NyaXB0b3I6InVua25vd24ifSl9bj10fHxyLmRvbWFpbjt2YXIgYT0idXNlcjovLyIrZS5zdWJzdHJpbmcoZS5pbmRleE9mKCJAIikrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCJAIikpLHM9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTphfX07eS5pbmZvKCJbRGlzY292ZXJ5XSBNZXNzYWdlOiAiLHMsbixhKSxyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbih0KXt5LmluZm8oIltEaXNjb3ZlcnldIG1lc3NhZ2UgcmVwbHkiLHQpO3ZhciByPXZvaWQgMCxuPXZvaWQgMCxhPXZvaWQgMCxzPXQuYm9keS52YWx1ZTtmb3IociBpbiBzKWlmKHZvaWQgMCE9PXNbcl0ubGFzdE1vZGlmaWVkKWlmKHZvaWQgMD09PW4pbj1uZXcgRGF0ZShzW3JdLmxhc3RNb2RpZmllZCksYT1yO2Vsc2V7dmFyIHU9bmV3IERhdGUoc1tyXS5sYXN0TW9kaWZpZWQpO24uZ2V0VGltZSgpPHUuZ2V0VGltZSgpJiYobj11LGE9cil9eS5pbmZvKCJbRGlzY292ZXJ5XSBMYXN0IEh5cGVydHk6ICIsYSxuKTt2YXIgYz1hO2lmKHZvaWQgMD09PWMpcmV0dXJuIGkoIlVzZXIgSHlwZXJ0eSBub3QgZm91bmQiKTt2YXIgbD17aWQ6ZSxkZXNjcmlwdG9yOnNbY10uZGVzY3JpcHRvcixoeXBlcnR5VVJMOmN9O3kuaW5mbygiW0Rpc2NvdmVyeV0gPT09PiBoeXBlcnR5RGlzY292ZXJ5IG1lc3NhZ2VCdW5kbGU6ICIsbCksbyhsKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtyZXR1cm4geS5sb2coIm9uIEZ1bmN0aW9uLT4iLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtpZihlLmluY2x1ZGVzKCI6IikmJiFlLmluY2x1ZGVzKCJ1c2VyOi8vIikpe3kubG9nKCJbRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eV0gaXMgbGVnYWN5IGRvbWFpbiIpO3ZhciBhPXt1c2VySUQ6ZSxoeXBlcnR5SUQ6ZSxzY2hlbWE6c2NoZW1hLHJlc291cmNlczpyZXNvdXJjZXN9O3JldHVybiBvKGEpfW49dHx8ci5kb21haW47dmFyIHM9InVzZXI6Ly8iK2Uuc3Vic3RyaW5nKGUuaW5kZXhPZigiQCIpKzEsZS5sZW5ndGgpKyIvIitlLnN1YnN0cmluZygwLGUuaW5kZXhPZigiQCIpKSx1PXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6c319O3kubG9nKCJbRGlzY292ZXJ5XSBNZXNzYWdlIGRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlcjogIix1LG4scyksci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7eS5pbmZvKCJbRGlzY292ZXJ5XSBkaXNjb3Zlckh5cGVydGllc1BlclVzZXIgcmVwbHkiLGUpO3ZhciB0PWUuYm9keS52YWx1ZTtpZighdClyZXR1cm4gaSgiVXNlciBIeXBlcnR5IG5vdCBmb3VuZCIpO28odCl9KX0pfX0se2tleToicmVzdW1lRGlzY292ZXJpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4geS5sb2coIltEaXNjb3ZlcnldIHJlc3VtZURpc2NvdmVyaWVzIiksbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LHIpe3ZhciBuPXt0eXBlOiJyZWFkIixmcm9tOmUuZGlzY292ZXJ5VVJMLHRvOmUucnVudGltZVVSTCsiL3N1YnNjcmlwdGlvbnMiLGJvZHk6e3Jlc291cmNlOmUuZGlzY292ZXJ5VVJMfX07ZS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24ocil7eS5sb2coIltEaXNjb3ZlcnkucmVzdW1lRGlzY292ZXJpZXNdIHJlcGx5OiAiLHIpO3ZhciBuPVtdO2lmKDIwMD09PXIuYm9keS5jb2RlKXtyLmJvZHkudmFsdWUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj10LnNwbGl0KCIvcmVnaXN0cmF0aW9uIilbMF07KHt9KS51cmw9cix5LmxvZygiW0Rpc2NvdmVyeS5yZXN1bWVEaXNjb3Zlcmllc10gYWRkaW5nIGxpc3RlbmVyIHRvOiAiLHIpLHIuaW5jbHVkZXMoImh5cGVydHk6Ly8iKT9uLnB1c2goZS5kaXNjb3Zlckh5cGVydHlQZXJVUkxETyhyKSk6bi5wdXNoKGUuZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMRE8ocikpfSksby5kZWZhdWx0LmFsbChuKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSl9KX1lbHNlIHQoW10pfSl9KX19XSksRGlzY292ZXJ5fSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE1MCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gRGlzY292ZXJlZE9iamVjdChlLHQscixuLGkpeygwLGEuZGVmYXVsdCkodGhpcyxEaXNjb3ZlcmVkT2JqZWN0KTt2YXIgcz0oMCx1LmRlZmF1bHQpKHRoaXMsKERpc2NvdmVyZWRPYmplY3QuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QpKS5jYWxsKHRoaXMsZS5oeXBlcnR5SUR8fGUudXJsLHQscixuKSk7cmV0dXJuIHMuX2RhdGE9ZSxzLl9kaXNjb3Zlcnk9aSxzfXJldHVybigwLGQuZGVmYXVsdCkoRGlzY292ZXJlZE9iamVjdCxlKSwoMCxsLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QsW3trZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfX1dKSwoMCxsLmRlZmF1bHQpKERpc2NvdmVyZWRPYmplY3QsW3trZXk6ImNoZWNrIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17Ym9keTp7fX07ZS5fZGlzY292ZXJlZE9iamVjdFVSTC5zdGFydHNXaXRoKCJoeXBlcnR5Oi8vIik/ZS5fZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLl9kaXNjb3ZlcmVkT2JqZWN0VVJMKS50aGVuKGZ1bmN0aW9uKHIpe3QuYm9keS5zdGF0dXM9ci5zdGF0dXMsZS5fcHJvY2Vzc05vdGlmaWNhdGlvbih0KX0pOmUuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyVVJMKGUuX2Rpc2NvdmVyZWRPYmplY3RVUkwpLnRoZW4oZnVuY3Rpb24ocil7dC5ib2R5LnN0YXR1cz1yLnN0YXR1cyxlLl9wcm9jZXNzTm90aWZpY2F0aW9uKHQpfSl9fV0pLERpc2NvdmVyZWRPYmplY3R9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTZWFyY2goZSx0KXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsU2VhcmNoKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBkaXNjb3ZlcnkgY29tcG9uZW50IGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIGlkZW50aXR5TWFuYWdlciBjb21wb25lbnQgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7dmFyIHI9dGhpcztyLmRpc2NvdmVyeT1lLHIuaWRlbnRpdHlNYW5hZ2VyPXR9cmV0dXJuKDAsbC5kZWZhdWx0KShTZWFyY2gsW3trZXk6Im15SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVyVXNlclJlZ2lzdGVyZWQoKS50aGVuKGZ1bmN0aW9uKGUpe3QoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtyKGUpfSl9KX19LHtrZXk6Imh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2FyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM119fSx7a2V5OiJ1c2VycyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHVzZXJzIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiBkb21haW5zIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBwcm92aWRlIGEgbGlzdCBvZiByZXNvdXJjZXMiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIHByb3ZpZGUgYSBsaXN0IG9mIHNjaGVtZXMiKTt2YXIgcz10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHUsYyl7aWYoMD09PWUubGVuZ3RoKXUoZSk7ZWxzZXt2YXIgbD1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSxvKXt2YXIgYT10W29dO2k/bC5wdXNoKHMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhKGUscixuKSk6bC5wdXNoKHMuZGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzKGUscixuLGEpKX0pLGEuZGVmYXVsdC5hbGwobC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZX0sZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0pKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUubWFwKGZ1bmN0aW9uKGUpe2lmKGUuaGFzT3duUHJvcGVydHkoImh5cGVydHlJRCIpKXJldHVybiBlO3ZhciB0PSgwLG8uZGVmYXVsdCkoZSkucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxyKXt2YXIgbj1uZXcgRGF0ZShlW3JdLmxhc3RNb2RpZmllZCk7cmV0dXJuIG5ldyBEYXRlKGVbdF0ubGFzdE1vZGlmaWVkKS5nZXRUaW1lKCk8bi5nZXRUaW1lKCk/cjp0fSk7cmV0dXJuIGVbdF19KSxyPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KCJoeXBlcnR5SUQiKX0pO2UuZm9yRWFjaChmdW5jdGlvbihlKXtpZigiTm8gSHlwZXJ0eSB3YXMgZm91bmQiIT09ZSlyZXR1cm4gdShyKX0pLGMoIk5vIEh5cGVydHkgd2FzIGZvdW5kIil9KS5jYXRjaChmdW5jdGlvbih0KXt1KGUpfSl9fSl9fV0pLFNlYXJjaH0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDIwOSksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ29udGV4dE9ic2VydmVyKGUsdCxyLG4sbyxpKXtpZigoMCxsLmRlZmF1bHQpKHRoaXMsQ29udGV4dE9ic2VydmVyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBoeXBlcnR5VVJMIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgY29uZmlndXJhdGlvbiBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIgIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJUaGUgZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIgIik7dmFyIGE9KDAseS5kZWZhdWx0KSh0aGlzLChDb250ZXh0T2JzZXJ2ZXIuX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKENvbnRleHRPYnNlcnZlcikpLmNhbGwodGhpcykpLHM9YTtzLl9jb250ZXh0UmVzb3VyY2VUeXBlcz1uLHMuX3VybD1lLHMuX2Rpc2NvdmVyVXNlcnNQcm9taXNlcz17fSxzLl9vYnNlcnZlUHJvbWlzZXM9e30scy5fZG9tYWluPW8uZGl2aWRlVVJMKHIucnVudGltZVVSTCkuZG9tYWluLHMuX29iamVjdERlc2NVUkw9Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIrcy5fZG9tYWluKyIvLndlbGwta25vd24vZGF0YXNjaGVtYS9Db250ZXh0IixzLl91c2VyczJvYnNlcnZlPVtdLHMuX29ic2VydmVycz17fSxhLl9zeW5jaGVyPWl8fG8uY3JlYXRlU3luY2hlcihlLHQscik7dmFyIGM9by5jcmVhdGVEaXNjb3ZlcnkoZSxyLnJ1bnRpbWVVUkwsdCk7cmV0dXJuIHMuX2Rpc2NvdmVyeT1jLHMuX2Rpc2NvdmVyaWVzPXt9LHdpbmRvdy5kaXNjb3Zlcnk9cy5fZGlzY292ZXJ5LGF9cmV0dXJuKDAsdi5kZWZhdWx0KShDb250ZXh0T2JzZXJ2ZXIsZSksKDAsZC5kZWZhdWx0KShDb250ZXh0T2JzZXJ2ZXIsW3trZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixpKXtyLl9zeW5jaGVyLnJlc3VtZU9ic2VydmVycyh7c3RvcmU6ITB9KS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBhPSgwLG8uZGVmYXVsdCkoaSk7YS5sZW5ndGg+MD8oci5fb2JzZXJ2ZXJzPWksbihpKSxhLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49aVtyXTtlJiYoY29udGV4dC5kYXRhLnZhbHVlcz1lKSxuLnN5bmMoKSx0JiZuLm9uRGlzY29ubmVjdGVkKHQpfSkpOm4oITEpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bighMSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JlamVjdCgiW0NvbnRleHRPYnNlcnZlcl0gU3RhcnQgZmFpbGVkIHwgIixlKX0pfX0se2tleToicmVzdW1lRGlzY292ZXJpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuX2Rpc2NvdmVyeS5yZXN1bWVEaXNjb3ZlcmllcygpLnRoZW4oZnVuY3Rpb24ocil7ci5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuZGF0YS5yZXNvdXJjZXMmJnIuZGF0YS5yZXNvdXJjZXNbMF09PT1lLl9jb250ZXh0UmVzb3VyY2VUeXBlc1swXSYmKCJsaXZlIj09PXIuZGF0YS5zdGF0dXM/KHQoW3IuZGF0YV0pLHIudW5zdWJzY3JpYmVMaXZlKGUuX3VybCkpOnIub25MaXZlKGUuX3VybCxmdW5jdGlvbigpe3QoW3IuZGF0YV0pLHIudW5zdWJzY3JpYmVMaXZlKGUuX3VybCl9KSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmVqZWN0KCJbQ29udGV4dE9ic2VydmVyXSByZXN1bWVEaXNjb3ZlcmllcyBmYWlsZWQgfCAiLGUpfSl9fSx7a2V5OiJvblJlc3VtZU9ic2VydmVyIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3VtZU9ic2VydmVyPWV9fSx7a2V5OiJkaXNjb3ZlclVzZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1lKyJAIit0O3JldHVybiByLl9kaXNjb3ZlclVzZXJzUHJvbWlzZXNbbl18fChyLl9kaXNjb3ZlclVzZXJzUHJvbWlzZXNbbl09bmV3IGEuZGVmYXVsdChmdW5jdGlvbihuLG8pe3IuX2Rpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc0RPKGUsWyJjb250ZXh0Il0sci5fY29udGV4dFJlc291cmNlVHlwZXMsdCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXSxvPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9kaXNjb3Zlcmllc1tlLmRhdGEuaHlwZXJ0eUlEXT1lLCJsaXZlIj09PWUuZGF0YS5zdGF0dXM/dC5wdXNoKGUuZGF0YSk6by5wdXNoKGUpfSksdC5sZW5ndGg+MD9uKHQpOm8ubGVuZ3RoPjAmJm9bMF0ub25MaXZlKHIuX3VybCxmdW5jdGlvbigpe3QucHVzaChvWzBdLmRhdGEpLG4odCksb1swXS51bnN1YnNjcmliZUxpdmUoci5fdXJsKX0pfSl9KSksci5fZGlzY292ZXJVc2Vyc1Byb21pc2VzW25dfX0se2tleToib2JzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxyPXRoaXM7cmV0dXJuIHIuX29ic2VydmVQcm9taXNlc1tlLmh5cGVydHlJRF18fChyLl9vYnNlcnZlUHJvbWlzZXNbZS5oeXBlcnR5SURdPW5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl91c2VyczJvYnNlcnZlLmZvckVhY2goZnVuY3Rpb24odCl7aWYodC5fcmVwb3J0ZXI9PT1lLmh5cGVydHlJRClyZXR1cm4gbih0KX0pLHIuX2Rpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIoZS5oeXBlcnR5SUQsWyJjb250ZXh0Il0sci5fY29udGV4dFJlc291cmNlVHlwZXMsci5fZG9tYWluKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBhPTAscz12b2lkIDA7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaGFzT3duUHJvcGVydHkoImxhc3RNb2RpZmllZCIpJiZlLmhhc093blByb3BlcnR5KCJ1cmwiKSYmRGF0ZS5wYXJzZShlLmxhc3RNb2RpZmllZCk+YSYmKGE9ZS5sYXN0TW9kaWZpZWQscz1lLnVybCl9KSwwIT1hJiZzP24oci5fc3Vic2NyaWJlQ29udGV4dChlLHMsdCkpOm8oIltDb250ZXh0T2JzZXJ2ZXIub2JzZXJ2ZV0gZGlzY292ZXJlZCBEYXRhT2JqZWNzIGFyZSBpbnZhbGlkIixpKX0pfSkpLHIuX29ic2VydmVQcm9taXNlc1tlLmh5cGVydHlJRF19fSx7a2V5OiJfc3Vic2NyaWJlQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihlLG8pe24uX3VzZXJzMm9ic2VydmUuZm9yRWFjaChmdW5jdGlvbihyKXtpZihyLnVybD09PXQpcmV0dXJuIGUocil9KSxuLl9zeW5jaGVyLnN1YnNjcmliZShuLl9vYmplY3REZXNjVVJMLHQsbnVsbCxudWxsLG51bGwscikudGhlbihmdW5jdGlvbih0KXtuLl91c2VyczJvYnNlcnZlLnB1c2godCksdC5vbkRpc2Nvbm5lY3RlZChmdW5jdGlvbigpe3QuZGF0YS52YWx1ZXNbMF0udmFsdWU9InVuYXZhaWxhYmxlIix0LnN5bmMoKX0pLGUodCl9KX0pfX0se2tleToiX2Rpc2NvdmVyQW5kU3Vic2NyaWJlTGVnYWN5VXNlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9kaXNjb3ZlcnkuZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUoZSkudGhlbihmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ImxpdmUiPT09ZS5zdGF0dXMmJihlLmh5cGVydHlJRHx8KGUuaHlwZXJ0eUlEPWUucmVwb3J0ZXIpLHQuX3N1YnNjcmliZUNvbnRleHQoZS5zY2hlbWEsZS51cmwpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9KSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe30pfSl9fSx7a2V5OiJ1bm9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fdXNlcnMyb2JzZXJ2ZS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7ci51cmw9PT1lJiYoci51bnN1YnNjcmliZSgpLHQuX3VzZXJzMm9ic2VydmUuc3BsaWNlKG4sMSkpfSl9fV0pLENvbnRleHRPYnNlcnZlcn0oYi5kZWZhdWx0KTt0LmRlZmF1bHQ9XyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDIwOSksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ29udGV4dFJlcG9ydGVyKGUsdCxyLG4sbyl7aWYoKDAsbC5kZWZhdWx0KSh0aGlzLENvbnRleHRSZXBvcnRlciksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgaHlwZXJ0eVVSTCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBNaW5pQnVzIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVGhlIGNvbmZpZ3VyYXRpb24gaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7dmFyIGk9KDAseS5kZWZhdWx0KSh0aGlzLChDb250ZXh0UmVwb3J0ZXIuX19wcm90b19ffHwoMCx1LmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcikpLmNhbGwodGhpcyxlLHQscikpO3JldHVybiBpLnN5bmNoZXI9b3x8bi5jcmVhdGVTeW5jaGVyKGUsdCxyKSxpLmRvbWFpbj1uLmRpdmlkZVVSTChyLnJ1bnRpbWVVUkwpLmRvbWFpbixpLmNvbnRleHRzPXt9LGkuY29udGV4dERlc2NVUkw9Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIraS5kb21haW4rIi8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbnRleHQiLGkuc3luY2hlci5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbihlKXtpLm9uTm90aWZpY2F0aW9uKGUpfSksaS5zeW5jaGVyLm9uQ2xvc2UoZnVuY3Rpb24oZSl7aS5zZXRTdGF0dXMoZS5pZCwidW5hdmFpbGFibGUiKSxlLmFjaygpfSksaX1yZXR1cm4oMCx2LmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcixlKSwoMCxkLmRlZmF1bHQpKENvbnRleHRSZXBvcnRlcixbe2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLnN5bmNoZXIucmVzdW1lUmVwb3J0ZXJzKHtzdG9yZTohMH0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49KDAsby5kZWZhdWx0KShlKTtuLmxlbmd0aD4wPyh0LmNvbnRleHRzPWUsbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX29uU3Vic2NyaXB0aW9uKHQuY29udGV4dHNbZV0pfSkscih0LmNvbnRleHRzKSk6cighMSl9KS5jYXRjaChmdW5jdGlvbihlKXt9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JlamVjdCgiW0NvbnRleHRSZXBvcnRlcl0gU3RhcnQgZmFpbGVkIHwgIixlKX0pfX0se2tleToicHJvY2Vzc05vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5hY2soKX19LHtrZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToibXlDb250ZXh0IixvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpudWxsLGk9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOm51bGwscz10aGlzLHU9dm9pZCAwO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGEsYyl7dT1vfHxpP28mJiFpP3tyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJlcG9ydGVyOm99OiFvJiZpP3tyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJldXNlVVJMOml9OntyZXNvdXJjZXM6cixleHBpcmVzOjMwLHJldXNlVVJMOmkscmVwb3J0ZXI6b306e3Jlc291cmNlczpyLGV4cGlyZXM6MzB9LHMuc3luY2hlci5jcmVhdGUocy5jb250ZXh0RGVzY1VSTCxbXSx0LCEwLCExLG4sbnVsbCx1KS50aGVuKGZ1bmN0aW9uKHQpe3MuY29udGV4dHNbZV09dCxzLl9vblN1YnNjcmlwdGlvbih0KSxhKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7YyhlKX0pfSl9fSx7a2V5OiJfb25TdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe2Uub25TdWJzY3JpcHRpb24oZnVuY3Rpb24oZSl7ZS5hY2NlcHQoKX0pfX0se2tleToic2V0Q29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuY29udGV4dHNbZV0uZGF0YS52YWx1ZXM9dCxyLnRyaWdnZXIoZSsiLWNvbnRleHQtdXBkYXRlIix0KX19XSksQ29udGV4dFJlcG9ydGVyfShiLmRlZmF1bHQpO3QuZGVmYXVsdD1fLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0OTgpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uIE1lc3NhZ2VCb2R5SWRlbnRpdHkoZSx0LHIsbixpLHMsdSxjKXtpZigoMCxvLmRlZmF1bHQpKHRoaXMsTWVzc2FnZUJvZHlJZGVudGl0eSksIXMpdGhyb3cgbmV3IEVycm9yKCJJRFAgc2hvdWxkIGJlIGEgcGFyYW1ldGVyIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJ1c2VybmFtZSBzaG91bGQgYmUgYSBwYXJhbWV0ZXIiKTt0aGlzLmlkcD1zLHUmJih0aGlzLmFzc2VydGlvbj11KSx0aGlzLnVzZXJQcm9maWxlPW5ldyBhLmRlZmF1bHQoZSx0LHIsbixpLGMpfTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uIFVzZXJQcm9maWxlKGUsdCxyLG4saSxzKXsoMCxhLmRlZmF1bHQpKHRoaXMsVXNlclByb2ZpbGUpLGUmJih0aGlzLnByZWZlcnJlZF91c2VybmFtZT1lKSxyJiYodGhpcy5waWN0dXJlPXIpLG4mJih0aGlzLm5hbWU9biksaSYmKHRoaXMubG9jYWxlPWkpLHQmJih0aGlzLnVzZXJVUkw9dCkscyYmKDAsby5kZWZhdWx0KSh0aGlzLHMpfTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDUwMCksZD1yKDIxMCkscD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGQpLHk9cig1MDIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDaGF0TWFuYWdlcihlLHQscixuLG8pe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxDaGF0TWFuYWdlciksIWUpdGhyb3cgbmV3IEVycm9yKCJbQ2hhdE1hbmFnZXIuY29uc3RydWN0b3JdIFRoZSBteVVybCBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltDaGF0TWFuYWdlci5jb25zdHJ1Y3Rvcl0gVGhlIE1pbmlCdXMgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJbQ2hhdE1hbmFnZXIuY29uc3RydWN0b3JdIFRoZSBjb25maWd1cmF0aW9uIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO3ZhciBpPXRoaXM7bnx8KG49by5jcmVhdGVTeW5jaGVyKGUsdCxyKSksaS5fcnVudGltZVVSTD1yLnJ1bnRpbWVVUkw7dmFyIGE9by5kaXZpZGVVUkwoaS5fcnVudGltZVVSTCkuZG9tYWluLHM9by5jcmVhdGVEaXNjb3ZlcnkoZSxyLnJ1bnRpbWVVUkwsdCksYz1vLmNyZWF0ZUlkZW50aXR5TWFuYWdlcihlLHIucnVudGltZVVSTCx0KTtpLl9vYmplY3REZXNjVVJMPSJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iK2ErIi8ud2VsbC1rbm93bi9kYXRhc2NoZW1hL0NvbW11bmljYXRpb24iLGkuX3JlcG9ydGVyc0NvbnRyb2xsZXJzPXt9LGkuX29ic2VydmVyc0NvbnRyb2xsZXJzPXt9LGkuX215VXJsPWUsaS5fYnVzPXQsaS5fc3luY2hlcj1uLGkuX2RvbWFpbj1hLGkuZGlzY292ZXJ5PXMsaS5pZGVudGl0eU1hbmFnZXI9YyxpLmN1cnJlbnRJZGVudGl0eSxpLnNlYXJjaD1vLmNyZWF0ZVNlYXJjaChzLGMpLGkuY29tbXVuaWNhdGlvbk9iamVjdD1mLmNvbW11bmljYXRpb25PYmplY3QsaS5jb21tdW5pY2F0aW9uQ2hpbGRyZW49Zi5jb21tdW5pY2F0aW9uQ2hpbGRyZW59cmV0dXJuKDAsbC5kZWZhdWx0KShDaGF0TWFuYWdlcixbe2tleToicHJvY2Vzc05vdGlmaWNhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigiY3JlYXRlIj09PWUudHlwZSYmdC5fb25JbnZpdGF0aW9uJiZ0Ll9vbkludml0YXRpb24oZSksImRlbGV0ZSI9PT1lLnR5cGUpe2UuYWNrKDIwMCksdC5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbZS51cmxdLmNsb3NlRXZlbnQ9ZSxkZWxldGUgdC5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbZS51cmxdLHQuX29ic2VydmVyc0NvbnRyb2xsZXJzLmNsb3NlRXZlbnQ9ZSx0LmNvbW11bmljYXRpb25PYmplY3Q9Zi5jb21tdW5pY2F0aW9uT2JqZWN0O2Zvcih2YXIgciBpbiB0aGlzLl9yZXBvcnRlcnNDb250cm9sbGVycyl0aGlzLl9yZXBvcnRlcnNDb250cm9sbGVyc1tyXS5jbG9zZShlKTtmb3IodmFyIG4gaW4gdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnMpdGhpcy5fb2JzZXJ2ZXJzQ29udHJvbGxlcnNbbl0uY2xvc2UoZSl9fX0se2tleToibXlJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKGUpcmV0dXJuIHIoZSk7dC5fbXlVcmwuaW5jbHVkZXMoImh5cGVydHk6Ly8iKT90LmlkZW50aXR5TWFuYWdlci5kaXNjb3ZlclVzZXJSZWdpc3RlcmVkKCkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pOnQuaWRlbnRpdHlNYW5hZ2VyLmRpc2NvdmVySWRlbnRpdHlQZXJJZFAoKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj10aGlzLGk9bi5fc3luY2hlcjtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihzLHUpe24uY29tbXVuaWNhdGlvbk9iamVjdD1mLmNvbW11bmljYXRpb25PYmplY3Qsbi5jb21tdW5pY2F0aW9uT2JqZWN0LmNzZXE9MSxuLmNvbW11bmljYXRpb25PYmplY3Quc3RhcnRpbmdUaW1lPShuZXcgRGF0ZSkudG9KU09OKCksbi5jb21tdW5pY2F0aW9uT2JqZWN0LnN0YXR1cz1mLkNvbW11bmljYXRpb25TdGF0dXMuT1BFTjt2YXIgYz12b2lkIDA7bi5teUlkZW50aXR5KCkudGhlbihmdW5jdGlvbihsKXtjPWw7dmFyIGY9bmV3IHkuVXNlckluZm8obi5fbXlVcmwsbi5fZG9tYWluLGwpO24uY29tbXVuaWNhdGlvbk9iamVjdC5wYXJ0aWNpcGFudHNbbC5ndWlkXT1mO3ZhciBkPVtdLGg9W10sdj17fTt0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5kaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNETyhlLnVzZXIsWyJjb21tIl0sWyJjaGF0Il0sZS5kb21haW4pO2QucHVzaCh0KX0pLGEuZGVmYXVsdC5hbGwoZCkudGhlbihmdW5jdGlvbih0KXt2YXIgYT1bXTt0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJsaXZlIj09PWUuZGF0YS5zdGF0dXM/KGEucHVzaChlLmRhdGEuaHlwZXJ0eUlEKSx2W2UuZGF0YS5oeXBlcnR5SURdPWUpOmgubGVuZ3RoPDUmJmgucHVzaChlKX0pfSk7dmFyIHM9KDAsby5kZWZhdWx0KSh7cmVzb3VyY2VzOlsiY2hhdCJdLG11dHVhbDohMH0scik7cmV0dXJuIGRlbGV0ZSBzLm5hbWUsaS5jcmVhdGUobi5fb2JqZWN0RGVzY1VSTCxhLG4uY29tbXVuaWNhdGlvbk9iamVjdCwhMCwhMSxlLHt9LHMpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgcC5kZWZhdWx0KGksbi5kaXNjb3Zlcnksbi5fZG9tYWluLG4uc2VhcmNoLGMsbik7dC5kYXRhT2JqZWN0UmVwb3J0ZXI9ZSxuLl9yZXBvcnRlcnNDb250cm9sbGVyc1tlLnVybF09dCxlLmludml0YXRpb25zLmxlbmd0aD4wJiZ0Lmludml0YXRpb25zSGFuZGxlci5wcm9jZXNzSW52aXRhdGlvbnModixlKSxoLmxlbmd0aD4wJiZ0Lmludml0YXRpb25zSGFuZGxlci5pbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMoaCxlKSxzKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dShlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSl9KX0pfX0se2tleToib25JbnZpdGF0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkludml0YXRpb249ZX19LHtrZXk6ImpvaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0sbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIGE9bi5fc3luY2hlcixzPXZvaWQgMDtuLm15SWRlbnRpdHkocikudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gcz1yLGEuc3Vic2NyaWJlKG4uX29iamVjdERlc2NVUkwsZSwhMCwhMSx0LCEwLHIpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgcC5kZWZhdWx0KGEsbi5kaXNjb3Zlcnksbi5fZG9tYWluLG4uc2VhcmNoLHMsbik7byh0KSx0LmRhdGFPYmplY3RPYnNlcnZlcj1lLG4uX29ic2VydmVyc0NvbnRyb2xsZXJzW2UudXJsXT10fSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9fV0pLENoYXRNYW5hZ2VyfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QuQ29tbXVuaWNhdGlvblN0YXR1cz17T1BFTjoib3BlbiIsUEVORElORzoicGVuZGluZyIsQ0xPU0VEOiJjbG9zZWQiLFBBVVNFRDoicGF1c2VkIixGQUlMRUQ6ImZhaWxlZCJ9LHQuY29tbXVuaWNhdGlvbk9iamVjdD17c3RhcnRpbmdUaW1lOiIiLHN0YXR1czoiIixwYXJ0aWNpcGFudHM6e319LHQuY29tbXVuaWNhdGlvbkNoaWxkcmVuPXtwYXJlbnQ6ImNvbW11bmljYXRpb24iLGxpc3RlbmVyOiJyZXNvdXJjZXMiLHR5cGU6Ikh5cGVydHlSZXNvdXJjZSJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIEludml0YXRpb25zSGFuZGxlcihlKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsSW52aXRhdGlvbnNIYW5kbGVyKSwhZSl0aHJvdyBFcnJvcigiaHlwZXJ0eVVSTCBpcyBhIG5lY2Vzc2FyeSBkZXBlbmRlY3kiKTt2YXIgdD10aGlzO3QuX2h5cGVydHlVUkw9ZSx0Ll9wZW5kaW5nPXt9fXJldHVybigwLGwuZGVmYXVsdCkoSW52aXRhdGlvbnNIYW5kbGVyLFt7a2V5OiJpbnZpdGVEaXNjb25uZWN0ZWRIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7ci5fcGVuZGluZ1t0XXx8KHIuX3BlbmRpbmdbdF09e30pLHIuX3BlbmRpbmdbdF1bZS5kYXRhLmh5cGVydHlJRF09ZSxlLm9uTGl2ZShyLl9oeXBlcnR5VVJMLGZ1bmN0aW9uKCl7dC5pbnZpdGVPYnNlcnZlcnMoW2UuZGF0YS5oeXBlcnR5SURdKSxlLnVuc3Vic2NyaWJlTGl2ZShyLl9oeXBlcnR5VVJMKSxkZWxldGUgci5fcGVuZGluZ1t0XVtlLmRhdGEuaHlwZXJ0eUlEXX0pfSl9fSx7a2V5OiJwcm9jZXNzSW52aXRhdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXMsbz10Lmludml0YXRpb25zfHxbXTtvLmZvckVhY2goZnVuY3Rpb24obyl7by50aGVuKGZ1bmN0aW9uKGUpe3IuX2ludml0YXRpb25zUmVzcG9uc2UmJnIuX2ludml0YXRpb25zUmVzcG9uc2UoZSl9KS5jYXRjaChmdW5jdGlvbihvKXtyLl9pbnZpdGF0aW9uc1Jlc3BvbnNlJiZyLl9pbnZpdGF0aW9uc1Jlc3BvbnNlKG8pLG4uaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKFtlW28uaW52aXRlZF1dLHQpfSl9KX19LHtrZXk6InJlc3VtZURpc2NvdmVyaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgcz17fSx1PVtdLGM9W10sbD1bXTtlLnJlc3VtZURpc2NvdmVyaWVzKCkudGhlbihmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kYXRhLnJlc291cmNlcyYmImNoYXQiPT09ZS5kYXRhLnJlc291cmNlc1swXSYmKCJsaXZlIj09PWUuZGF0YS5zdGF0dXM/KHNbZS5kYXRhLmh5cGVydHlJRF09ZSx1LnB1c2goZS5kYXRhLmh5cGVydHlJRCksbC5wdXNoKGUudW5zdWJzY3JpYmVMaXZlKHIuX2h5cGVydHlVUkwpKSk6Yy5wdXNoKGUpKX0pLGMubGVuZ3RoPjAmJnIuaW52aXRlRGlzY29ubmVjdGVkSHlwZXJ0aWVzKGMsdCksKDAsby5kZWZhdWx0KShzKS5sZW5ndGg+MD8odC5pbnZpdGVPYnNlcnZlcnModSksdC5pbnZpdGF0aW9ucy5sZW5ndGg+MCYmci5wcm9jZXNzSW52aXRhdGlvbnMocyx0KSxhLmRlZmF1bHQuYWxsKGwpLnRoZW4oZnVuY3Rpb24oKXtuKCl9KSk6bigpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZWplY3QoIltHcm91cENoYXRNYW5hZ2VyLkludml0YXRpb25zSGFuZGxlci5yZXN1bWVEaXNjb3Zlcmllc10gZmFpbGVkIHwgIixlKX0pfX0se2tleToiY2xlYW5JbnZpdGF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3BlbmRpbmdbZV07cmV0dXJuIHI/bmV3IGEuZGVmYXVsdChmdW5jdGlvbihlLG4pe3ZhciBpPSgwLG8uZGVmYXVsdCkocikscz1bXTtpLmZvckVhY2goZnVuY3Rpb24oZSl7cy5wdXNoKHJbZV0udW5zdWJzY3JpYmVMaXZlKHQuX2h5cGVydHlVUkwpKX0pLGEuZGVmYXVsdC5hbGwoaSkudGhlbihmdW5jdGlvbigpe2UoKX0pfSk6YS5kZWZhdWx0LnJlc29sdmUoKX19LHtrZXk6Imludml0YXRpb25SZXNwb25zZSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ludml0YXRpb25zUmVzcG9uc2U9ZX19XSksSW52aXRhdGlvbnNIYW5kbGVyfSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuVXNlckluZm89dm9pZCAwO3ZhciBuPXIoNTAzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNik7dC5Vc2VySW5mbz1mdW5jdGlvbiBVc2VySW5mbyhlLHQscil7dmFyIG47KDAsYS5kZWZhdWx0KSh0aGlzLFVzZXJJbmZvKTt2YXIgaT0oMCxzLmRlZXBDbG9uZSkocik7cmV0dXJuIHIuaGFzT3duUHJvcGVydHkoInVzZXJQcm9maWxlIil8fChpLnVzZXJQcm9maWxlPXIpLG49e2h5cGVydHlVUkw6ZSxkb21haW46dH0sKDAsby5kZWZhdWx0KShuLCJkb21haW4iLHQpLCgwLG8uZGVmYXVsdCkobiwiaWRlbnRpdHkiLGkpLG59fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIwNCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQgaW4gZT8oMCxvLmRlZmF1bHQpKGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTcpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMjExKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBNaW5pQnVzKCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLE1pbmlCdXMpLCgwLGwuZGVmYXVsdCkodGhpcywoTWluaUJ1cy5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoTWluaUJ1cykpLmNhbGwodGhpcykpfXJldHVybigwLGQuZGVmYXVsdCkoTWluaUJ1cyxlKSwoMCx1LmRlZmF1bHQpKE1pbmlCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbi5fZ2VuSWQoZSksbi5fcmVzcG9uc2VDYWxsYmFjayhlLHQsciksbi5fb25Qb3N0TWVzc2FnZShlKSxlLmlkfX0se2tleToiX29uTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdC5fb25SZXNwb25zZShlKSl7dmFyIHI9dC5fc3Vic2NyaXB0aW9uc1tlLnRvXTtyPyh0Ll9wdWJsaXNoT24ocixlKSxlLnRvLnN0YXJ0c1dpdGgoImh5cGVydHkiKXx8dC5fcHVibGlzaE9uRGVmYXVsdChlKSk6dC5fcHVibGlzaE9uRGVmYXVsdChlKX19fV0pLE1pbmlCdXN9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVnaXN0cnlEYXRhTW9kZWwoZSx0LHIsbixpLGEscyx1LGMpeygwLG8uZGVmYXVsdCkodGhpcyxSZWdpc3RyeURhdGFNb2RlbCk7dmFyIGw9dGhpcztsLl9pZD1lLGwuX3VybD10LGwuX2Rlc2NyaXB0b3JVUkw9cixsLl9zdGFydGluZ1RpbWU9aSxsLl9sYXN0TW9kaWZpZWQ9YSxsLl9zdGF0dXM9cyxsLl9zdHVicz11LGwuX3N0dWJzQ29uZmlndXJhdGlvbj1jLGwuX3AycFJlcXVlc3Rlcj1ufXJldHVybigwLGEuZGVmYXVsdCkoUmVnaXN0cnlEYXRhTW9kZWwsW3trZXk6ImlkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fSx7a2V5OiJkZXNjcmlwdG9yVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvclVSTH19LHtrZXk6InAycFJlcXVlc3RlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycFJlcXVlc3Rlcn19LHtrZXk6Imxhc3RNb2RpZmllZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhc3RNb2RpZmllZH19XSksUmVnaXN0cnlEYXRhTW9kZWx9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxNiksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig0KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZikscD1yKDEwMikseT1yKDIxMiksaD0oX2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSxkLmdldExvZ2dlcigiUmVnaXN0cnkiKSksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIERvbWFpblJlZ2lzdHJhdGlvbihlLHQscixuKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsRG9tYWluUmVnaXN0cmF0aW9uKSwhZSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInJlZ2lzdHJ5VVJMIGlzIG1pc3NpbmcuIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJkb21haW4gaXMgbWlzc2luZy4iKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2VCdXMgaXMgbWlzc2luZy4iKTt2YXIgbz10aGlzO28ucmVnaXN0cnlVUkw9dCxvLnJ1bnRpbWVVUkw9ZSxvLl9yZWdpc3RyYXRpb25SZXRyaWVzPTUsby5leHBpcmVzVGltZT0zNjAwLG8uX2RvbWFpbj1yLG8uX21lc3NhZ2VCdXM9bn1yZXR1cm4oMCxsLmRlZmF1bHQpKERvbWFpblJlZ2lzdHJhdGlvbixbe2tleToidW5yZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS8iK2UsdmFsdWU6ImRpc2Nvbm5lY3RlZCIsYXR0cmlidXRlOiJzdGF0dXMifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKGUpe2gubG9nKCJbRG9tYWluUmVnaXN0cmF0aW9uXSB1bnJlZ2lzdGVyIGh5cGVydHkgUmVwbHkiLGUpfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJ1cGRhdGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZSx2YWx1ZTp7c3RhdHVzOiJkaXNjb25uZWN0ZWQifX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtoLmxvZygiW0RvbWFpblJlZ2lzdHJhdGlvbl0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImRlbGV0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3QuX2RvbWFpbixib2R5Ont2YWx1ZTp7bmFtZTplfX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtoLmxvZygiW0RvbWFpblJlZ2lzdHJhdGlvbl0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToidXBkYXRlSHlwZXJ0eUluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToiVVBEQVRFIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUsdmFsdWU6dH19O3IuX21lc3NhZ2VCdXMucG9zdC5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKGUpe30pfX0se2tleToicmVnaXN0ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPXZvaWQgMCxzPXZvaWQgMDtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihhLHUpe3ZhciBjPVtdLGw9ZS51cmwuc3BsaXQoIjoiKTtjLnB1c2gobFswXSksMCE9PSgwLG8uZGVmYXVsdCkocikubGVuZ3RoJiYoaT1yW24ucnVudGltZVVSTF0udXJsLHM9cC5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3IucDJwUmVxdWVzdGVyU3R1YiksZS5zdGFydGluZ1RpbWU9ZS5jcmVhdGVkLGRlbGV0ZSBlLmF1dGhvcmlzZSxkZWxldGUgZS5jcmVhdGVkLGRlbGV0ZSBlLm11dHVhbCxkZWxldGUgZS5yZXN1bWUsZS5leHBpcmVzfHwoZS5leHBpcmVzPW4uZXhwaXJlc1RpbWUpLGUuZGF0YVNjaGVtZXM9YyxpJiYoZS5wMnBIYW5kbGVyPWksZS5wMnBSZXF1ZXN0ZXI9cyksZS5zdGF0dXM9ImxpdmUiO3ZhciBmPXZvaWQgMDt0PyhoLmxvZygiW1JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdF0gcmVnaXN0ZXJpbmcgcHJldmlvdXNseSByZWdpc3RlcmVkIGRhdGEgb2JqZWN0IFVSTCIsZSksZj17dHlwZToidXBkYXRlIix0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLl9kb21haW4sZnJvbTpuLnJlZ2lzdHJ5VVJMLGJvZHk6e3Jlc291cmNlOmUudXJsLHZhbHVlOntzdGF0dXM6ImxpdmUifX19KTooaC5sb2coIltSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdIHJlZ2lzdGVyaW5nIG5ldyBkYXRhIG9iamVjdCBVUkwiLGUpLGY9e3R5cGU6ImNyZWF0ZSIsZnJvbTpuLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24uX2RvbWFpbixib2R5Ont2YWx1ZTplLHBvbGljeToicG9saWN5In19KTt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzKGYsbi5fcmVnaXN0cmF0aW9uUmV0cmllcyxmdW5jdGlvbih0KXsyMDA9PT10LmJvZHkuY29kZT9hKGUpOnUoImVycm9yIG9uIHJlZ2lzdGVyIERhdGFPYmplY3QiKX0pfWNhdGNoKGUpe2guZXJyb3IoZSksdShlKX1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PXt0eXBlOiJ1cGRhdGUiLGZyb206bi5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLl9kb21haW4sYm9keTp7cmVzb3VyY2U6ZS51cmwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9LG1ldGhvZDoicmVmcmVzaCJ9fTtuLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24oZSl7fSl9LGUuZXhwaXJlcy8xLjEvMioxZTMpfSl9fSx7a2V5OiJyZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIucnVudGltZVVSTCxhPXZvaWQgMCxzPXIuZXhwaXJlc1RpbWUsdT17dXNlcjplLnVzZXIuZW1haWwsZGVzY3JpcHRvcjplLmRlc2NyaXB0b3JVUkwsdXJsOmUuaHlwZXJ0eVVSTCxleHBpcmVzOnMscmVzb3VyY2VzOmUucmVzb3VyY2VzLGRhdGFTY2hlbWVzOmUuZGF0YVNjaGVtZXMscnVudGltZTppLHN0YXR1czoibGl2ZSJ9O2UucDJwSGFuZGxlciYmKHUucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIsdS5wMnBSZXF1ZXN0ZXI9ZS5wMnBSZXF1ZXN0ZXIpLGUuZGVzY3JpcHRvci5jb25maWd1cmF0aW9uJiZlLmRlc2NyaXB0b3IuY29uZmlndXJhdGlvbi5leHBpcmVzJiYocz1lLmRlc2NyaXB0b3IuY29uZmlndXJhdGlvbi5leHBpcmVzKSx0PyhhPXt0eXBlOiJ1cGRhdGUiLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixmcm9tOnIucmVnaXN0cnlVUkwsYm9keTp7cmVzb3VyY2U6ZS5oeXBlcnR5VVJMLHZhbHVlOntzdGF0dXM6ImxpdmUiLHVzZXI6ZS51c2VyLmVtYWlsfX19LGUucDJwSGFuZGxlciYmKGEuYm9keS52YWx1ZS5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcixhLmJvZHkudmFsdWUucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKSk6YT17dHlwZToiY3JlYXRlIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3ZhbHVlOnUscG9saWN5OiJwb2xpY3kifX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhhLHIuX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24odCl7aWYoMjAwPT09dC5ib2R5LmNvZGUpe3ZhciBpPXt1cmw6ZS5oeXBlcnR5VVJMfTtlLnAycEhhbmRsZXImJihpLnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLGkucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKSxuKGkpfWVsc2V7aWYoNDA0IT09dC5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eSB0byBkb21haW46ICIsdCk7YT17dHlwZToiY3JlYXRlIixmcm9tOnIucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fZG9tYWluLGJvZHk6e3ZhbHVlOnUscG9saWN5OiJwb2xpY3kifX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhhLHIuX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24odCl7aWYoMjAwIT09dC5ib2R5LmNvZGUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gcmVnaXN0ZXIgYW4gSHlwZXJ0eTogIit0KTt2YXIgcj17dXJsOmUuaHlwZXJ0eVVSTH07ZS5wMnBIYW5kbGVyJiYoci5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcixyLnAycFJlcXVlc3Rlcj1lLnAycFJlcXVlc3RlciksbihyKX0pfWNhdGNoKGUpe2guZXJyb3IoZSksbyhlKX19fSl9Y2F0Y2goZSl7aC5lcnJvcihlKSxvKGUpfXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6InVwZGF0ZSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5OntyZXNvdXJjZTplLmh5cGVydHlVUkwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9LG1ldGhvZDoicmVmcmVzaCJ9fTtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHQsZnVuY3Rpb24oZSl7fSl9LHMvMS4xLzIqMWUzKX0pfX1dKSxEb21haW5SZWdpc3RyYXRpb259KCk7dC5kZWZhdWx0PXYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1sLmdldExvZ2dlcigiUDJQQ29ubmVjdGlvblJlc29sdmUiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUDJQQ29ubmVjdGlvblJlc29sdmUoZSl7KDAsYS5kZWZhdWx0KSh0aGlzLFAyUENvbm5lY3Rpb25SZXNvbHZlKTt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5PWUsdC5fcmVtb3RlUDJQRW50aXRpZXM9e319cmV0dXJuKDAsdS5kZWZhdWx0KShQMlBDb25uZWN0aW9uUmVzb2x2ZSxbe2tleToiY2hlY2tQMlAiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJ0byIpKXJldHVybiBvLmRlZmF1bHQucmVqZWN0KCJUaGUgcDJwIHZlcmlmaWNhdGlvbiB3YXMgZmFpbGVkIik7dmFyIHQ9ZS50by5zcGxpdCgiOi8vIilbMF0scj1lLnRvLnNwbGl0KCI6Ly8iKVsxXS5zcGxpdCgiLyIpWzJdLG49dm9pZCAwO249cj9lLnRvLnN1YnN0cmluZygwLGUudG8uaW5kZXhPZigiLyIrcikpOmUudG87dmFyIGk9e307c3dpdGNoKGUuYm9keSYmZS5ib2R5LnAycCYmKGkucDJwPWUuYm9keS5wMnApLGUuYm9keSYmZS5ib2R5LnAycEhhbmRsZXImJmUuYm9keS5wMnBSZXF1ZXN0ZXImJihpLnAycEhhbmRsZXI9ZS5ib2R5LnAycEhhbmRsZXIsaS5wMnBSZXF1ZXN0ZXI9ZS5ib2R5LnAycFJlcXVlc3RlcixpLnJ1bnRpbWU9ZS5ib2R5LnAycEhhbmRsZXIuc3BsaXQoIi9wMnBoYW5kbGVyLyIpWzBdKSx0KXtjYXNlInJ1bnRpbWUiOnJldHVybiB0aGlzLmNoZWNrUDJQUnVudGltZShuLGkpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2hlY2tQMlBFbnRpdHkobixpKX19fSx7a2V5OiJjaGVja1AyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ci5fcmVtb3RlUDJQRW50aXRpZXNbZV07aWYoaSluKGkpO2Vsc2UgaWYodC5ydW50aW1lKW4odCk7ZWxzZSBpZih0LnAycCl7Zi5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQRW50aXR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsZSk7dmFyIGE9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXtpZihmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBFbnRpdHldIERvbWFpbiBSZWdpc3RyeSByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3QuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSB3aXRoIFAyUEhhbmRsZXIgbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUFJ1bnRpbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7ci5fcmVnaXN0cnkucDJwQ29ubmVjdGlvbkxpc3RbZV0/byh7cnVudGltZTplfSk6dC5ydW50aW1lPyhuPXQsbyhuKSk6aSgiW1JlZ2lzdHJ5LlAyUENvbm5lY3Rpb25SZXNvbHZlLmNoZWNrUDJQUnVudGltZV0gTm8gUDJQIENvbm5lY3Rpb24gZm91bmQgdG8gIixlKX0pfX0se2tleToiY2hlY2tQMlBIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7Zm9yKHZhciBhIGluIHIuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0KWlmKGk9ci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3RbYV0sZi5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gLSBmb3IgZWFjaCBIeXBlcnR5OiAiLGkpLGkuaHlwZXJ0eUlEPT09ZSlyZXR1cm4gdm9pZChpLmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bihpKTpvKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixpKSk7aWYoIWkmJnQucnVudGltZSluKHQpO2Vsc2UgaWYoIWkmJnQucDJwKXtmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsaSk7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZihmLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSBEb21haW4gUmVnaXN0cnkgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpe3ZhciB0PWUuYm9keS52YWx1ZTtyLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdC5wdXNoKHQpLHQuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBvKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IHdpdGggUDJQSGFuZGxlciBub3QgZm91bmQiLGUuYm9keS5jb2RlKX0pfWVsc2UgbygiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3RbdF0udXJsPT09ZX0pO2lmKDAhPT1pLmxlbmd0aCYmaVswXS5wMnBSZXF1ZXN0ZXIpbihpWzBdKTtlbHNlIGlmKDAhPT1pLmxlbmd0aClvKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBEYXRhIE9iamVjdCBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsaVswXSk7ZWxzZSBpZigwPT09aS5sZW5ndGgmJnQucnVudGltZSluKHQpO2Vsc2UgaWYoaS5sZW5ndGgmJnQucDJwKXt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpyLl9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9yZWdpc3RyeS5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmV9fTtyLl9yZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe2lmKGYubG9nKCJkaXNjb3ZlciBkYXRhIG9iamVjdCBwZXIgdXJsIHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXt2YXIgdD1lLmJvZHkudmFsdWU7ci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3QucHVzaCh0KSx0LnAycFJlcXVlc3Rlcj9uKHQpOm8oIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIERhdGEgT2JqZWN0IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgbygiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIG5vIFAyUCBDb25uZWN0aW9uIGZvdW5kIil9KX19LHtrZXk6ImFkZFJlbW90ZVAyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9yZW1vdGVQMlBFbnRpdGllc1tlXT10fX0se2tleToicmVtb3ZlUmVtb3RlUDJQRW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fcmVtb3RlUDJQRW50aXRpZXNbZV19fSx7a2V5OiJyZWNvbm5lY3RQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGYubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBsZXRzIHRyeSB0byByZWNvbm5lY3QgUDJQIFJlcXVlc3RlciBTdHViOiAiLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnJ1bnRpbWUsaT17dHlwZToiZXhlY3V0ZSIsZnJvbTp0Ll9yZWdpc3RyeS5yZWdpc3RyeVVSTCx0bzplLnVybCxib2R5OnttZXRob2Q6ImNvbm5lY3QiLHBhcmFtczpbZS5wMnBIYW5kbGVyXX19O3QuX3JlZ2lzdHJ5LndhdGNoaW5nWW91Lm9ic2VydmUoInAycFJlcXVlc3RlclN0dWIiLGZ1bmN0aW9uKGUpe2lmKGYubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YiksZS5rZXlwYXRoLnNwbGl0KCIuIilbMF09PT1vJiYic3RhdHVzIj09PWUubmFtZSlzd2l0Y2goZS5uZXdWYWx1ZSl7Y2FzZSJsaXZlIjpmLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyIGlzIGxpdmUgIit0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW29dKSxyKHQuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbb10udXJsKTticmVhaztjYXNlImZhaWxlZCI6Zi5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltvXSksbigiUDJQIFJlcXVlc3RlciByZWNvbm5lY3QgZmFpbGVkIil9fSksdC5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtmLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcmVjb25uZWN0IHJlcXVlc3QgcmVwbHkiLGUpfSl9KX19XSksUDJQQ29ubmVjdGlvblJlc29sdmV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKTtyKDE0OSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBXYXRjaGluZ1lvdSgpeygwLG8uZGVmYXVsdCkodGhpcyxXYXRjaGluZ1lvdSksdGhpcy5fd2F0Y2hpbmc9e30sdGhpcy5fb2JzZXJ2ZXJzPVtdfXJldHVybigwLGEuZGVmYXVsdCkoV2F0Y2hpbmdZb3UsW3trZXk6IndhdGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3JldHVybiB0aGlzLl93YXRjaGluZ1tlXT1uP09iamVjdC5kZWVwT2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pOk9iamVjdC5vYnNlcnZlKHQsZnVuY3Rpb24odCl7dC5ldmVyeShmdW5jdGlvbih0KXtyLl9maXJlRXZlbnQoZSx0KX0pfSksdGhpcy5fd2F0Y2hpbmdbZV19fSx7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5wdXNoKHtrZXk6ZSxjYWxsYmFjazp0fSl9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayh0KX0pfX1dKSxXYXRjaGluZ1lvdX0oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNiksZD1yKDE1MSkscD1yKDIxNCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1MTQpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWwuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZGVudGl0eU1vZHVsZShlLHQscixuLG8saSl7KDAsYS5kZWZhdWx0KSh0aGlzLElkZW50aXR5TW9kdWxlKTt2YXIgcz10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiY3J5cHRvTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lQ2F0YWxvZ3VlIGlzIG1pc3NpbmciKTtzLl9ydW50aW1lVVJMPWUscy5fcnVudGltZUNhdGFsb2d1ZT1pLHMuZGF0YU9iamVjdHNTdG9yYWdlPW4scy5faWRtVVJMPXMuX3J1bnRpbWVVUkwrIi9pZG0iLHMuX2d1aVVSTD1zLl9ydW50aW1lVVJMKyIvaWRlbnRpdHktZ3VpIixzLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCxzLl9kb21haW49KDAsZi5kaXZpZGVVUkwpKHMuX3J1bnRpbWVVUkwpLmRvbWFpbixzLl9pZGVudGl0aWVzPW5ldyB5LmRlZmF1bHQoImh1bWFuIixyKSxzLl9jcnlwdG89byxzLmRhdGFPYmplY3RzSWRlbnRpdHk9e30scy5fbGlzdE9mSWRwcz1bXSxzLmd1aURlcGxveWVkPSExfXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNb2R1bGUsW3trZXk6ImdldElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmdldElkZW50aXR5KGUpfX0se2tleToiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24odCl7dmFyIHI9ZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnByZWZpeCtlLl9kb21haW4rZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnN1ZmZpeDtvLmRlZmF1bHQuYWxsKFtlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoImJyb3dzZXIiKSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKV0pLnRoZW4oZnVuY3Rpb24obil7dmFyIG89blswXSxpPW5bMV0sYT17Y29uc3RyYWludHM6e319O2EuY29uc3RyYWludHMubm9kZT1pLGEuY29uc3RyYWludHMuYnJvd3Nlcj1vLGUuX3J1bnRpbWVDYXRhbG9ndWUuZ2V0VHlwZUxpc3QocixhKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkb21haW46ZSx0eXBlOiJpZFRva2VuIn19KTtyZXR1cm4gZy5pbmZvKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb246Z2V0SWRlbnRpdGllc1RvQ2hvb3NlXSIscixuKSxlLl9saXN0T2ZJZHBzPW4sdCh7ZGVmYXVsdElkZW50aXR5OmUuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHksaWRlbnRpdGllczplLmlkZW50aXRpZXMuaWRlbnRpdGllcyxpZHBzOm59KX0pfSl9KX19LHtrZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0KXtlLl9pZGVudGl0aWVzLmxvYWRJZGVudGl0aWVzKCkudGhlbihmdW5jdGlvbigpe2UuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fY3J5cHRvLmNyeXB0by5fc2hhMjU2KCgwLGYuc3RyaW5naWZ5KShyKSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj0idXNlci1ndWlkOi8vIityO2UuaWRlbnRpdGllcy5ndWlkPW4sZS5faWRlbnRpdGllcy5sb2FkQWNjZXNzVG9rZW5zKCkudGhlbihmdW5jdGlvbigpe3QoKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7fSl9KX0pfSl9fSx7a2V5OiJnZXRJZGVudGl0eUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjppZGVudGl0eUJ1bmRsZV0iLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoImJyb3dzZXIiKS50aGVuKGZ1bmN0aW9uKG8pe2lmKGcubG9nKCJydW50aW1lIGJyb3dzZXIgaWRlbnRpdHkgYWNxdWlzaXRpb24iLG8pLG8paWYoZSYmZS5oYXNPd25Qcm9wZXJ0eSgiaWRwIikpe3ZhciBpPWUuaWRwLGE9ZS5oYXNPd25Qcm9wZXJ0eSgib3JpZ2luIik/ZS5vcmlnaW46Im9yaWdpbiIscz1lLmhhc093blByb3BlcnR5KCJpZEhpbnQiKT9lLmlkSGludDoiIjtpZih0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5KXt2YXIgdT10LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5O2lmKHUuZXhwaXJlcz4oMCxmLnNlY29uZHNTaW5jZUVwb2NoKSgpKXJldHVybiByKHUpO3UuaGFzT3duUHJvcGVydHkoInJlZnJlc2giKT8oZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbl0gcmVmcmVzaGluZyBhc3NlcnRpb246ICIsdSksdC5fcmVmcmVzaElkQXNzZXJ0aW9uKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbl0gcmVmcmVzaGVkIGFzc2VydGlvbi4iLGUpLHIoZSl9KSk6dC5fZ2V0SWRBc3NlcnRpb25Gb3JEb21haW4oYSxpLHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfWVsc2UgdC5fZ2V0SWRBc3NlcnRpb25Gb3JEb21haW4oYSxpLHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfWVsc2UgaWYodC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSl7dmFyIGM9dC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eTtpZihjLmV4cGlyZXM+KDAsZi5zZWNvbmRzU2luY2VFcG9jaCkoKSlyZXR1cm4gcihjKTtjLmhhc093blByb3BlcnR5KCJyZWZyZXNoIik/KGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gcmVmcmVzaGluZyBhc3NlcnRpb246ICIsYyksdC5fcmVmcmVzaElkQXNzZXJ0aW9uKGMpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb25dIHJlZnJlc2hlZCBhc3NlcnRpb24uIixlKSxyKGUpfSkpOnQuc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZV0gSWRlbnRpdHkgc2VsZWN0ZWQgZnJvbSBHVUkuIiksdC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eT1lLnVzZXJQcm9maWxlLnVzZXJVUkwscihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX1lbHNlIHQuc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZV0gSWRlbnRpdHkgc2VsZWN0ZWQgZnJvbSBHVUkuIiksdC5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eT1lLnVzZXJQcm9maWxlLnVzZXJVUkwscihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KSx0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGcubG9nKCJub2RlIGlkZW50aXR5IGFjcXVpc2l0aW9uIixlKSxlKXtpZih0LmlkZW50aXRpZXMuY3VycmVudElkZW50aXR5KXJldHVybiByKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpO2cubG9nKCJnZXRJZGVudGl0eUFzc2VydGlvbiBmb3Igbm9kZWpzIik7dmFyIG89e3R5cGU6ImlkcCIsdmFsdWU6Im5vZGVqcy1pZHAiLGNvZGU6MjAwLGF1dGg6ITF9O3QuY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyhvLnZhbHVlLCJvcmlnaW4iKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9LGZ1bmN0aW9uKGUpe24oZSl9KX19KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KX0pfX0se2tleToiX2dldElkQXNzZXJ0aW9uRm9yRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5KGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9nZXRJZEFzc2VydGlvbkZvckRvbWFpbl0gSWRlbnRpdHkgc2VsZWN0ZWQgYnkgaHlwZXJ0eS4iKSxvKGUpfSxmdW5jdGlvbihlKXtuLnNlbGVjdElkZW50aXR5RnJvbUdVSSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldElkQXNzZXJ0aW9uRm9yRG9tYWluXSBJZGVudGl0eSBzZWxlY3RlZCBieSBoeXBlcnR5LiIpLG8oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSl9KX0pfX0se2tleToiX3JlZnJlc2hJZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc2VuZFJlZnJlc2hNZXNzYWdlKGUpLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSByZWZyZXNoZWQgYXNzZXJ0aW9uOiAiLGUpLHQuaWRlbnRpdGllcy51cGRhdGVBc3NlcnRpb24oZSkudGhlbihmdW5jdGlvbigpe3IoZSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciB1cGRhdGluZyB0aGUgYXNzZXJ0aW9uICIsZSksbihlKX0pfSxmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3IgcmVmcmVzaGluZyB0aGUgYXNzZXJ0aW9uICIsZSksbihlKX0pfSl9fSx7a2V5OiJnZXRVc2Vyc0lEcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmlkZW50aWZpZXJzfX0se2tleToiZGVsZXRlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMucmVtb3ZlSWRlbnRpdHkoZSl9fSx7a2V5OiJyZXF1ZXN0SWRlbnRpdHlUb0dVSSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkZW50aXRpZXNdIixlKSxnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkcHNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoITE9PT1yLmd1aURlcGxveWVkKXt2YXIgaT1yLl9ndWlVUkwsYT1uZXcgdi5kZWZhdWx0KGksci5fbWVzc2FnZUJ1cyk7ci5ndWlGYWtlPWEsci5ndWlEZXBsb3llZD0hMH12YXIgcz17dHlwZToiY3JlYXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7dmFsdWU6e2lkZW50aXRpZXM6ZSxpZHBzOnR9fX0sdT1mdW5jdGlvbihlKXtpZihyLl9tZXNzYWdlQnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5faWRtVVJMLGUuaWQpLDIwMD09PWUuYm9keS5jb2RlKXt2YXIgdD1lLmJvZHk7Zy5sb2coInNlbGVjdGVkSWRlbnRpdHk6ICIsdC52YWx1ZSksbih0KX1lbHNlIG8oImVycm9yIG9uIHJlcXVlc3RpbmcgYW4gaWRlbnRpdHkgdG8gdGhlIEdVSSIpfTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLHUsITEpfWNhdGNoKGUpe28oIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7ci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOmtleV0iLG4pLGk9KDAsZi5zdHJpbmdpZnkpKG4pLGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kc10gTk9fVVJMIiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsInVybCIsZSl9KS50aGVuKGZ1bmN0aW9uKGUpe2U/bihlKTpvKCJFcnJvciBvbiBvYnRhaW5pbmcgSWRlbnRpdHkiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cubG9nKGUpLG8oZSl9KX0pfX0se2tleToiY2FsbEdlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT12b2lkIDA7ci5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOmtleV0iLG4pLGk9KDAsZi5zdHJpbmdpZnkpKG4pLGcubG9nKCJnZW5lcmF0ZUFzc2VydGlvbjpub19oaW50Iiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsIiIsZSl9KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiByLm15SGludD1uLGcubG9nKCJnZW5lcmF0ZUFzc2VydGlvbjpoaW50Iiksci5nZW5lcmF0ZUFzc2VydGlvbihpLHQsbixlKX0pLnRoZW4oZnVuY3Rpb24oZSl7ZT9uKGUpOm8oIkVycm9yIG9uIG9idGFpbmluZyBJZGVudGl0eSIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5lcnJvcihlKSxvKGUpfSl9KX19LHtrZXk6ImxvZ2luU2VsZWN0ZWRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6cHVibGljS2V5XSIsZSksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6b3JpZ2luXSIsdCksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6aWRwXSIsciksZy5sb2coIltsb2dpblNlbGVjdGVkSWRlbnRpdHk6bG9naW5VcmxdIixuKTt2YXIgaT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8sYSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZV0gb3BlblBvcHVwIiksaS5jYWxsSWRlbnRpdHlNb2R1bGVGdW5jKCJvcGVuUG9wdXAiLHt1cmxyZWNlaXZlZDpufSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZX0sZnVuY3Rpb24oZSl7cmV0dXJuIGcuZXJyb3IoIkVycm9yIHdoaWxlIGxvZ2dpbmcgaW4gZm9yIHRoZSBzZWxlY3RlZCBpZGVudGl0eS4iKSxhKGUpfSkudGhlbihmdW5jdGlvbihuKXtpLnNlbmRHZW5lcmF0ZU1lc3NhZ2UoZSx0LG4scikudGhlbihmdW5jdGlvbihlKXtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIikpcmV0dXJuIGcuZXJyb3IoIkVycm9yIHdoaWxlIGxvZ2dpbmcgaW4gZm9yIHRoZSBzZWxlY3RlZCBpZGVudGl0eS4iKSxhKCJDb3VsZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBhc3NlcnRpb24gZm9yIHNlbGVjdGVkIGlkZW50aXR5LiIpO2kuaWRlbnRpdGllcy5hZGRBc3NlcnRpb24oZSkudGhlbihmdW5jdGlvbihlKXtvKCJMb2dpbiB3YXMgc3VjY2Vzc2Z1bGwiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2EoIkxvZ2luIGhhcyBmYWlsZWQ6IitlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7YSgiT24gbG9naW5TZWxlY3RlZElkZW50aXR5IGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICAiK2UpfSl9KX0pfX0se2tleToic2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6b3JpZ2luXSIsZSksZy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6aWRwXSIsdCksZy5sb2coIltzZWxlY3RJZGVudGl0eUZvckh5cGVydHk6aWRIaW50XSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIHM9KDAsZi5zdHJpbmdpZnkpKGEpO24uc2VuZEdlbmVyYXRlTWVzc2FnZShzLGUscix0KS50aGVuKGZ1bmN0aW9uKHIpe3IuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpP24uaWRlbnRpdGllcy5hZGRBc3NlcnRpb24ocikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhyKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KTpyLmhhc093blByb3BlcnR5KCJsb2dpblVybCIpP24ubG9naW5TZWxlY3RlZElkZW50aXR5KHMsZSx0LHIubG9naW5VcmwpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSk6KGcubG9nKCJQcm9jZWVkaW5nIGJ5IGxvZ2dpbmcgaW4uIiksbi5jYWxsR2VuZXJhdGVNZXRob2RzKHQsZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBzZWxlY3RJZGVudGl0eUZvckh5cGVydHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIHNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eSBmcm9tIG1ldGhvZCBnZW5lcmF0ZVJTQUtleVBhaXIgZXJyb3I6ICAiK2UpfSl9KX19LHtrZXk6InNlbGVjdElkZW50aXR5RnJvbUdVSSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnLmxvZygiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSTpvcmlnaW5dIixlKTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dC5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlcXVlc3RJZGVudGl0eVRvR1VJKGUuaWRlbnRpdGllcyxlLmlkcHMpfSkudGhlbihmdW5jdGlvbih0KXtpZigiaWRlbnRpdHkiPT09dC50eXBlKXIuaWRlbnRpdGllcy5pZGVudGl0aWVzW3QudmFsdWVdP24oci5pZGVudGl0aWVzLmlkZW50aXRpZXNbdC52YWx1ZV0pOm8oIltJZGVudGl0eU1vZHVsZS5zZWxlY3RJZGVudGl0eUZyb21HVUldIGlkZW50aXR5IG5vdCBmb3VuZDogIix0LnZhbHVlKTtlbHNle2lmKCJpZHAiIT09dC50eXBlKXJldHVybiBvKCJlcnJvciBvbiBHVUkgcmVjZWl2ZWQgbWVzc2FnZS4iKTtyLmNhbGxHZW5lcmF0ZU1ldGhvZHModC52YWx1ZSxlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIHNlbGVjdElkZW50aXR5RnJvbUdVSSBmcm9tIG1ldGhvZCByZXF1ZXN0SWRlbnRpdHlUb0dVSSBlcnJvcjogICIrZSl9KX0pfX0se2tleToiY2FsbElkZW50aXR5TW9kdWxlRnVuYyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxJZGVudGl0eU1vZHVsZUZ1bmM6bWV0aG9kTmFtZV0iLGUpLGcubG9nKCJbY2FsbElkZW50aXR5TW9kdWxlRnVuYzpwYXJhbWV0ZXJzXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXt0eXBlOiJleGVjdXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ZSxwYXJhbXM6dH19LGE9ZnVuY3Rpb24oZSl7ci5fbWVzc2FnZUJ1cy5yZW1vdmVSZXNwb25zZUxpc3RlbmVyKHIuX2lkbVVSTCxlLmlkKTt2YXIgdD1lLmJvZHkudmFsdWU7bih0KX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxhLCExKX1jYXRjaChlKXtvKCJJbiBtZXRob2QgY2FsbElkZW50aXR5TW9kdWxlRnVuYyBlcnJvcjogIitlKX19KX19LHtrZXk6ImdldFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS50bztyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInNvdXJjZSIpJiYocj1lLmJvZHkuc291cmNlKSwiZm9yd2FyZCI9PT1lLnR5cGUmJihyPWUuYm9keS5mcm9tKSxlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3Vic2NyaWJlciIpJiYocj1lLmJvZHkuc3Vic2NyaWJlciksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIGZvciBtc2cgIixlKSx0LnJlZ2lzdHJ5LmlzTGVnYWN5KG4pLnRoZW4oZnVuY3Rpb24obil7bj90Ll9nZXRBY2Nlc3NUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIGFjY2VzcyB0b2tlbiAiLGUpLG8oKDAsZi5kZWVwQ2xvbmUpKGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gQWNjZXNzIFRva2VuIGVycm9yICIrZSl9KTp0Ll9nZXRWYWxpZFRva2VuKHIpLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGdldFRva2VuIGZyb20gbWV0aG9kIF9nZXRWYWxpZFRva2VuIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBnZXRUb2tlbiBmcm9tIG1ldGhvZCBpc0xlZ2FjeSBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJnZXRJZFRva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtnLmluZm8oImdldElkVG9rZW46aHlwZXJ0eVVSTCAiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnNwbGl0KCI6Ly8iKSxpPXZvaWQgMDtpZigiaHlwZXJ0eSI9PT1vWzBdKXtpZihpPXQucmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUpKXt2YXIgYT10LmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkoaSk7cmV0dXJuIGE/cihhKTpuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gSWRlbnRpdHkgbm90IGZvdW5kIGZvcjogIixpKX1yZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIFVzZXIgbm90IGZvdW5kIGZvciBoeXBlcnR5OiAiLGkpfXQuX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdChlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGk9dC5yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSkpe3ZhciBvPXQuaWRlbnRpdGllcy5nZXRJZGVudGl0eShpKTtyZXR1cm4gbz9yKG8pOm4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBJZGVudGl0eSBub3QgZm91bmQgZm9yOiAiLGkpfXJldHVybiBuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gVXNlciBub3QgZm91bmQgZm9yIGh5cGVydHk6ICIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gRXJyb3I6ICIsZSksbihlKX0pfSl9fSx7a2V5OiJfZ2V0QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG8scj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4pe2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5IikpcmV0dXJuIHJlamVjdCgiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHk6ICIsZSk7aWYoIWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keSB2YWx1ZTogIixlKTtpZighZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJyZXNvdXJjZXMiKSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keSB2YWx1ZSByZXNvdXJjZXM6ICIsZSk7dmFyIG89KDAsZi5kaXZpZGVVUkwpKHQpLmRvbWFpbjt0LmluY2x1ZGVzKCJwcm90b3N0dWIiKSYmKG89by5yZXBsYWNlKG8uc3BsaXQoIi4iKVswXSsiLiIsIiIpKTt2YXIgaT1lLmJvZHkudmFsdWUucmVzb3VyY2VzO3IuX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluKG8saSkudGhlbihmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6Il9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dHJ5e249ci5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKGUsdCl9Y2F0Y2goZSl7cmV0dXJuIGkoIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2Vycil9aWYobil7aWYoImluLXByb2dyZXNzIj09PW4uc3RhdHVzKXJldHVybiBvKHIuX2luUHJvZ3Jlc3NBY2Nlc3NUb2tlbihlLHQpKTt2YXIgYT0oMCxmLnNlY29uZHNTaW5jZUVwb2NoKSgpO2lmKGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluXSBmb3VuZCAgQWNjZXNzIFRva2VuICIsbiksIShhPj1uLmV4cGlyZXMpKXJldHVybiBvKCgwLGYuZGVlcENsb25lKShuKSk7aWYoIW4uaGFzT3duUHJvcGVydHkoInJlZnJlc2giKSlyZXR1cm4gbyhyLl9nZXROZXdBY2Nlc3NUb2tlbihlLHQpKTtyLl9yZWZyZXNoQWNjZXNzVG9rZW4oKDAsZi5kZWVwQ2xvbmUpKG4pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKHIuaWRlbnRpdGllcy51cGRhdGVBY2Nlc3NUb2tlbihlKSl9KX1lbHNlIHIuX2dldE5ld0FjY2Vzc1Rva2VuKGUsdCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW5dIG5ldyBBY2Nlc3MgVG9rZW4gIixlKSxvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbl0gb24gZ2V0TmV3QWNjZXNzVG9rZW4gIitlKX0pfSl9fSx7a2V5OiJfaW5Qcm9ncmVzc0FjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5pZGVudGl0aWVzLndhdGNoaW5nWW91Lm9ic2VydmUoImFjY2Vzc1Rva2VucyIsZnVuY3Rpb24obil7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuXSBhY2Nlc3NUb2tlbnMgY2hhbmdlZCAiK3IuaWRlbnRpdGllcy5hY2Nlc3NUb2tlbnMpO3ZhciBvPW4ua2V5cGF0aDtpZihvLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG89by5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG89PT1lJiYic3RhdHVzIj09PW4ubmFtZSYmImNyZWF0ZWQiPT09bi5uZXdWYWx1ZSlyZXR1cm4gci5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKGUsdCl9KX19LHtrZXk6Il9nZXROZXdBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5pZGVudGl0aWVzLnNldEFjY2Vzc1Rva2VuSW5Qcm9ncmVzcyhlKTt2YXIgaT17dHlwZToiZXhlY3V0ZSIsdG86ci5fcmVzb2x2ZURvbWFpbihlKSxmcm9tOnIuX2lkbVVSTCxib2R5OnttZXRob2Q6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IixwYXJhbXM6dH19O3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIG8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuYm9keS52YWx1ZX0pLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm9wZW5Qb3B1cF0gYXVodG9yaXNhdGlvbiByZXN1bHQ6ICIsZSksaS5ib2R5Lm1ldGhvZD0iZ2V0QWNjZXNzVG9rZW4iLGkuYm9keS5wYXJhbXM9e3Jlc291cmNlczp0LGxvZ2luOmV9LHIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIG8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuIGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmlkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW4oZS5ib2R5LnZhbHVlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIHJlc29sdmluZyB0b2tlbjogIix0KSxuKGUuYm9keS52YWx1ZSl9LGZ1bmN0aW9uKGUpe28oZSl9KX0pfSxmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToiX3JlZnJlc2hBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coIklkZW50aXR5TW9kdWxlLl9yZWZyZXNoQWNjZXNzVG9rZW46b3V0ZGF0ZWRUb2tlbiIsZSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuX3Jlc29sdmVEb21haW4oZS5kb21haW4pLGk9dm9pZCAwO2k9e3R5cGU6ImV4ZWN1dGUiLHRvOm8sZnJvbTp0Ll9pZG1VUkwsYm9keTp7bWV0aG9kOiJyZWZyZXNoQWNjZXNzVG9rZW4iLHBhcmFtczp7dG9rZW46ZX19fTt0cnl7dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS52YWx1ZTtyKHQpfSl9Y2F0Y2goZSl7bigiSW4gSWRlbnRpdHlNb2R1bGUuX3JlZnJlc2hBY2Nlc3NUb2tlbiBvbiBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6InNlbmRSZWZyZXNoTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuX3Jlc29sdmVEb21haW4oZS5pZHAuZG9tYWluKSxpPXZvaWQgMCxhPXQuZ2V0SWRlbnRpdHkoZS51c2VyUHJvZmlsZS51c2VyVVJMKTtnLmluZm8oInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksaT17dHlwZToiZXhlY3V0ZSIsdG86byxmcm9tOnQuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoicmVmcmVzaEFzc2VydGlvbiIscGFyYW1zOntpZGVudGl0eTphfX19O3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IodCl9KX1jYXRjaChlKXtuKCJJbiBzZW5kUmVmcmVzaE1lc3NhZ2Ugb24gcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJnZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW46aWRwRG9tYWluXSIsZSk7dmFyIG49dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe3ZhciBhPW4uX3Jlc29sdmVEb21haW4oZSkscz12b2lkIDA7cz17dHlwZToiZXhlY3V0ZSIsdG86YSxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW4iLHBhcmFtczp7cmVzb3VyY2VzOnQsbG9naW46cn19fTt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe2lmKGUuYm9keS5jb2RlPDI5OSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO28odCl9ZWxzZSBvKGUuYm9keSl9KX1jYXRjaChlKXtpKCJJZGVudGl0eU1vZHVsZS5JbiBnZXRBY2Nlc3NUb2tlbjogIitlKX19KX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQ6aWRwRG9tYWluXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3Jlc29sdmVEb21haW4odCksYT12b2lkIDA7YT17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiLHBhcmFtczp7cmVzb3VyY2VzOmV9fX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7bih0KX0pfWNhdGNoKGUpe28oIkluIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50OiAiK2UpfX0pfX0se2tleToic2VuZEdlbmVyYXRlTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOmNvbnRlbnRzXSIsZSksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOm9yaWdpbl0iLHQpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6aWRwRG9tYWluXSIsbiksZy5sb2coInNlbmRHZW5lcmF0ZU1lc3NhZ2VfaGludCIpO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxhKXt2YXIgcz1pLl9yZXNvbHZlRG9tYWluKG4pLHU9dm9pZCAwO3U9e3R5cGU6ImV4ZWN1dGUiLHRvOnMsZnJvbTppLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ImdlbmVyYXRlQXNzZXJ0aW9uIixwYXJhbXM6e2NvbnRlbnRzOmUsb3JpZ2luOnQsdXNlcm5hbWVIaW50OnJ9fX07dHJ5e2kuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodSxmdW5jdGlvbihlKXtlLmJvZHkuY29kZTwzMDA/byhlLmJvZHkudmFsdWUpOmEoZS5ib2R5KX0pfWNhdGNoKGUpe2EoIkluIHNlbmRHZW5lcmF0ZU1lc3NhZ2U6ICIrZSl9fSl9fSx7a2V5OiJnZW5lcmF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjpjb250ZW50c10iLGUpLGcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOmlkcERvbWFpbl0iLG4pO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxhKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOnNlbmRHZW5lcmF0ZU1lc3NhZ2U6c2VuZEdlbmVyYXRlTWVzc2FnZV0iLHIpLGkuc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQscixuKS50aGVuKGZ1bmN0aW9uKGUpe2U/aS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKHQpe28oZSl9LGZ1bmN0aW9uKGUpe2EoZSl9KTphKCJlcnJvciBvbiBvYnRhaW5pbmcgaWRlbnRpdHkgaW5mb3JtYXRpb24iKX0sZnVuY3Rpb24oZSl7ZS5oYXNPd25Qcm9wZXJ0eSgiZGVzY3JpcHRpb24iKSYmZS5kZXNjcmlwdGlvbi5oYXNPd25Qcm9wZXJ0eSgibG9naW5VcmwiKT9pLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuZGVzY3JpcHRpb24ubG9naW5Vcmx9KS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6Y2FsbElkZW50aXR5TW9kdWxlRnVuYzpvcGVuUG9wdXBdIixyKSxvKGUpfSxmdW5jdGlvbihlKXthKGUpfSk6KGcuZXJyb3IoIltJZGVudGl0eU1vZHVsZTpzZW5kR2VuZXJhdGVNZXNzYWdlXSBnZW5lcmF0ZSBhc3NlcnRpb24gd2l0aCBoaW50IGVycm9yICIsZSksYShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXthKCJPbiBnZW5lcmF0ZUFzc2VydGlvbiBmcm9tIG1ldGhvZCBzZW5kR2VuZXJhdGVNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6InZhbGlkYXRlQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjphc3NlcnRpb25dIixlKSxnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOm9yaWdpbl0iLHQpLGcubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246aWRwRG9tYWluXSIscik7dmFyIG49dGhpcyxpPW4uX3Jlc29sdmVEb21haW4ociksYT17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoidmFsaWRhdGVBc3NlcnRpb24iLHBhcmFtczp7YXNzZXJ0aW9uOmUsb3JpZ2luOnR9fX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlP2Uoci5ib2R5LnZhbHVlKTp0KCJlcnJvciIsci5ib2R5LmNvZGUpfSl9Y2F0Y2goZSl7dCgiT24gdmFsaWRhdGVBc3NlcnRpb24gZnJvbSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJhZGRHVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUuX2lkbVVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kO2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6YWRkR1VJTGlzdGVuZXJzXSIsdCx0LmJvZHkscik7dmFyIG49dm9pZCAwO2lmKCJkZXBsb3lHVUkiPT09ciluPWUuZGVwbG95R1VJKCk7ZWxzZXtpZigiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIj09PXIpcmV0dXJuIHZvaWQgZS5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSk7aWYoInVucmVnaXN0ZXJJZGVudGl0eSI9PT1yKXt2YXIgbz10LmJvZHkucGFyYW1zLmVtYWlsO249ZS51bnJlZ2lzdGVySWRlbnRpdHkobyl9ZWxzZXtpZigiZ2V0TXlQdWJsaWNLZXkiPT09cilyZXR1cm4gdm9pZCBlLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKHIpe3I9KDAsZi5zdHJpbmdpZnkpKHIpO3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgZ2VuZXJhdGVSU0FLZXlQYWlyIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KTtpZigic2VuZEdlbmVyYXRlTWVzc2FnZSI9PT1yKXt2YXIgaT10LmJvZHkucGFyYW1zLmNvbnRlbnRzLGE9dC5ib2R5LnBhcmFtcy5vcmlnaW4scz10LmJvZHkucGFyYW1zLnVzZXJuYW1lSGludCx1PXQuYm9keS5wYXJhbXMuaWRwRG9tYWluLGM9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG99O3JldHVybiB2b2lkIGUuc2VuZEdlbmVyYXRlTWVzc2FnZShpLGEscyx1KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXt0eXBlOiJleGVjdXRlIix2YWx1ZTp0LGNvZGU6MjAwfTtjLmJvZHk9cjt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShjKX1jYXRjaChlKXtnLmVycm9yKCJJZGVudGl0eU1vZHVsZS5hZGRHVUlMaXN0ZW5lcnMgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogIitlKX19LGZ1bmN0aW9uKHQpe2cuaW5mbygiSURQUHJveHkgZ2VuZXJhdGVBc3NlcnRpb24gcmVwbHkgZXJyb3IgIit0KSxjLmJvZHk9dCxlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGMpfSl9aWYoImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50Ij09PXIpe3ZhciBsPXQuYm9keS5wYXJhbXMuc2NvcGUsZD10LmJvZHkucGFyYW1zLmlkcERvbWFpbjtyZXR1cm4gdm9pZCBlLmdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50KGwsZCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJhZGRBY2Nlc3NUb2tlbiI9PT1yKXt2YXIgcD10LmJvZHkucGFyYW1zO3JldHVybiB2b2lkIGUuaWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbihwKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImdldEFjY2Vzc1Rva2VuIj09PXIpe3ZhciB5PXQuYm9keS5wYXJhbXMuaWRwRG9tYWluLGg9dC5ib2R5LnBhcmFtcy5yZXNvdXJjZXMsdj10LmJvZHkucGFyYW1zLmxvZ2luLGI9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG99O3JldHVybiB2b2lkIGUuZ2V0QWNjZXNzVG9rZW4oeSxoLHYpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnQsY29kZToyMDB9O2IuYm9keT1yO3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGIpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0sZnVuY3Rpb24odCl7dHJ5e2IuYm9keT10LGUuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYil9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc2VuZEdlbmVyYXRlTWVzc2FnZSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImFkZEFzc2VydGlvbiI9PT1yKXt2YXIgXz10LmJvZHkucGFyYW1zO3JldHVybiB2b2lkIGUuaWRlbnRpdGllcy5hZGRBc3NlcnRpb24oXykudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJyZWZyZXNoQWNjZXNzVG9rZW4iPT09cil7dmFyIG09dC5ib2R5LnBhcmFtcy5kb21haW4sUj10LmJvZHkucGFyYW1zLnJlc291cmNlcztyZXR1cm4gdm9pZCBlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbihtLFIpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTp7dmFsdWU6ci5hY2Nlc3NUb2tlbixjb2RlOjIwMH19O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmb3IgcmVmcmVzaEFjY2Vzc1Rva2VuIHJlcXVlc3Q6ICIrZSl9fSl9fX12YXIgTz17dHlwZToiZXhlY3V0ZSIsdmFsdWU6bixjb2RlOjIwMH0sdz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Ok99O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHcpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZGVwbG95R1VJIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3VpRGVwbG95ZWQ9ITB9fSx7a2V5OiJfZ2V0VmFsaWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0VmFsaWRUb2tlbl06aHlwZXJ0eVVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ2V0SWRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldFZhbGlkVG9rZW5dIHJldHJpZXZlZCBJZEFzc2VydGlvbiIsZSk7dmFyIG89KDAsZi5zZWNvbmRzU2luY2VFcG9jaCkoKTtpZighZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpKXJldHVybiByKGUpO3ZhciBpPWUuZXhwaXJlcztnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIFRva2VuIGV4cGlyZXMgaW4iLGkpLGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gdGltZSBub3c6IixvKSxvPj1pP2UuaGFzT3duUHJvcGVydHkoInJlZnJlc2giKT8oZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSByZWZyZXNoaW5nIGFzc2VydGlvbjogIixlKSx0LnNlbmRSZWZyZXNoTWVzc2FnZShlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gcmVmcmVzaGVkIGFzc2VydGlvbjogIixlKSx0LmlkZW50aXRpZXMudXBkYXRlQXNzZXJ0aW9uKGUpLnRoZW4oZnVuY3Rpb24oKXtyKGUpfSxmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3IgdXBkYXRpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHJlZnJlc2hpbmcgdGhlIGFzc2VydGlvbiAiLGUpLG4oZSl9KSk6dC5jYWxsR2VuZXJhdGVNZXRob2RzKGUuaWRwLmRvbWFpbikudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHdoZW4gZ2VuZXJhdGluZyBhIG5ldyBhc3NlcnRpb24gIitlKX0pOnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3Igb24gZ2V0SWRUb2tlbiIsZSksbihlKX0pfSl9fSx7a2V5OiJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6ZGF0YU9iamVjdFVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSgwLGYuZGl2aWRlVVJMKShlKSxpPW8uZG9tYWluLGE9KDAsZi5wYXJzZU1lc3NhZ2VVUkwpKGUpLHM9dC5yZWdpc3RyeS5nZXRSZXBvcnRlclVSTFN5bmNob25vdXMoYSk7aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnJlcG9ydGVyVVJMIixzKSxzKXIocyk7ZWxzZXt2YXIgdT10LmRhdGFPYmplY3RzSWRlbnRpdHlbYV07aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN0b3JlZFJlcG9ydGVyVVJMIix1KSx1KXIodSk7ZWxzZXt2YXIgYz10LnJlZ2lzdHJ5LmdldERhdGFPYmplY3RTdWJzY3JpYmVySHlwZXJ0eShlKTtnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6c3Vic2NyaWJlckh5cGVydHkiLGMpLGM/cihjKTp0Ll9jb3JlRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChhLGkpLnRoZW4oZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3QiLGUpLHQuZGF0YU9iamVjdHNJZGVudGl0eVthXT1lLnJlcG9ydGVyLGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0LnJlcG9ydGVyIixlLnJlcG9ydGVyKSxyKGUucmVwb3J0ZXIpfSxmdW5jdGlvbihlKXtuKGUpfSl9fX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pZGVudGl0aWVzPWV9fSx7a2V5OiJpZHBzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdE9mSWRwc319XSksSWRlbnRpdHlNb2R1bGV9KCk7dC5kZWZhdWx0PWIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUxMSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDUxMiksZS5leHBvcnRzPXIoMTEpLk51bWJlci5pc0ludGVnZXJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI2KTtuKG4uUywiTnVtYmVyIix7aXNJbnRlZ2VyOnIoNTEzKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSksbz1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hbihlKSYmaXNGaW5pdGUoZSkmJm8oZSk9PT1lfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksaT1yKDQpLGE9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShpKSxzPWEuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLHU9ZnVuY3Rpb24gR3VpRmFrZShlLHQpeygwLG8uZGVmYXVsdCkodGhpcyxHdWlGYWtlKSxzLmxvZygiRmFrZUdVSV9kZXBsb3llZCIpO3ZhciByPXRoaXM7ci5fdXJsPWUsci5fd2FpdFRpbWU9MWU0LHIuX21lc3NhZ2VCdXM9dCxyLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHIuX3VybCxmdW5jdGlvbihlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJiJjcmVhdGUiPT09ZS50eXBlJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJmUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdGllcyIpJiZlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImlkcHMiKSl7dmFyIHQ9ZS5ib2R5LnZhbHVlLmlkZW50aXRpZXMsbj1lLmJvZHkudmFsdWUuaWRwcyxvPXZvaWQgMDtvPXZvaWQgMCE9PXRbMF0/e3R5cGU6ImlkZW50aXR5Iix2YWx1ZTp0WzBdLGNvZGU6MjAwfTp7dHlwZToiaWRwIix2YWx1ZTpuWzFdLmRvbWFpbixjb2RlOjIwMH07dmFyIGk9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTpvfTsid2FpdCI9PT1lLmJvZHkudmFsdWU/c2V0VGltZW91dChmdW5jdGlvbigpe3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9LHIuX3dhaXRUaW1lKTpyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWVsc2Ugcy5sb2coIklnbm9yaW5nIG1lc3NhZ2VzIG5vdCBpbnRlbmRlZCB0byBGYWtlR1VJLiIsZSl9KX07dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig0KSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksZj1yKDIxNCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9bC5nZXRMb2dnZXIoIklkZW50aXR5SGFuZGxlciIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJZGVudGl0eUhhbmRsZXIoZSl7KDAsYS5kZWZhdWx0KSh0aGlzLElkZW50aXR5SGFuZGxlciksdGhpcy5faWRtPWV9cmV0dXJuKDAsdS5kZWZhdWx0KShJZGVudGl0eUhhbmRsZXIsW3trZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lkbS5pZGVudGl0aWVzPW5ldyBkLmRlZmF1bHQodGhpcy5faWRtLmlkZW50aXRpZXMuX3R5cGUsdGhpcy5faWRtLmlkZW50aXRpZXMuX3N0b3JhZ2VNYW5hZ2VyKX19LHtrZXk6Il9pc1RvU2V0SUQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iXSxyPWUuZnJvbTtpZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSwiZm9yd2FyZCI9PT1lLnR5cGUpcmV0dXJuITE7aWYoci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKXx8ci5pbmNsdWRlcygiL3AycGhhbmRsZXIvIikpcmV0dXJuITE7dmFyIG49ci5zcGxpdCgiOi8vIiksbz1uWzBdO3JldHVybi0xPT09dC5pbmRleE9mKG8pfX0se2tleToicHJvY2Vzc01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHAubG9nKCJbSWRlbnRpdHlIYW5kbGVyLnByb2Nlc3NNZXNzYWdlXSAiLGUpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZighdC5faXNUb1NldElEKGUpKXJldHVybiByKGUpO3QuX2lkbS5nZXRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8KGUuYm9keT17fSksZS5ib2R5LmlkZW50aXR5PXQscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3AuZXJyb3IoZSksbihlKX0pfSl9fV0pLElkZW50aXR5SGFuZGxlcn0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNTE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDUxOCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1MTkpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPShyKDYpLGwuZ2V0TG9nZ2VyKCJQRVAiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIFBFUChlKXsoMCxhLmRlZmF1bHQpKHRoaXMsUEVQKTt2YXIgdD10aGlzO3QucGRwPW5ldyB5LmRlZmF1bHQoZSksdC5hY3Rpb25zU2VydmljZT1uZXcgZC5kZWZhdWx0KGUpLHQuY29udGV4dD1lLGUucGVwPXQsZS5sb2FkQ29uZmlndXJhdGlvbnMoKX1yZXR1cm4oMCx1LmRlZmF1bHQpKFBFUCxbe2tleToiYWRkR1VJTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jb250ZXh0Lm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5jb250ZXh0LnBlcFVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kLG49dm9pZCAwO2lmKCJhZGRUb0dyb3VwIj09PXIpe3ZhciBvPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLGk9dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQuYWRkVG9Hcm91cChvLGkpfWVsc2UgaWYoImNyZWF0ZUdyb3VwIj09PXIpe3ZhciBhPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmNyZWF0ZUdyb3VwKGEpfWVsc2UgaWYoImFkZFBvbGljeSI9PT1yKXt2YXIgcz10LmJvZHkucGFyYW1zLnNvdXJjZSx1PXQuYm9keS5wYXJhbXMua2V5LGM9dC5ib2R5LnBhcmFtcy5wb2xpY3ksbD10LmJvZHkucGFyYW1zLmNvbWJpbmluZ0FsZ29yaXRobTtuPWUuYWRkUG9saWN5KHMsdSxjLGwpfWVsc2UgaWYoImRlbGV0ZUdyb3VwIj09PXIpe3ZhciBmPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmRlbGV0ZUdyb3VwKGYpfWVsc2UgaWYoInJlbW92ZVBvbGljeSI9PT1yKXt2YXIgZD10LmJvZHkucGFyYW1zLnNvdXJjZSxwPXQuYm9keS5wYXJhbXMua2V5O249ZS5yZW1vdmVQb2xpY3koZCxwKX1lbHNlIGlmKCJzYXZlUG9saWNpZXMiPT09cil7dmFyIHk9dC5ib2R5LnBhcmFtcy5zb3VyY2U7bj1lLmNvbnRleHQuc2F2ZVBvbGljaWVzKHkpfWVsc2UgaWYoInVzZXJQb2xpY2llcyI9PT1yKW49ZS5jb250ZXh0LnVzZXJQb2xpY2llcztlbHNlIGlmKCJhY3RpdmVVc2VyUG9saWN5Ij09PXIpe3ZhciBoPXQuYm9keS5wYXJhbXMudXNlclBvbGljeTtoJiYoZS5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9aCksbj1lLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeX1lbHNlIGlmKCJ1c2VyUG9saWN5Ij09PXIpe3ZhciB2PXQuYm9keS5wYXJhbXMua2V5O249ZS5jb250ZXh0LnVzZXJQb2xpY2llc1t2XX1lbHNlInNhdmVBY3RpdmVQb2xpY3kiPT09cj9uPWUuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk6ImdldE15RW1haWxzIj09PXI/bj1lLmNvbnRleHQuZ2V0TXlFbWFpbHMoKToiZ2V0TXlIeXBlcnRpZXMiPT09cj9uPWUuY29udGV4dC5nZXRNeUh5cGVydGllcygpOiJncm91cHMiPT09cj9uPWUuY29udGV4dC5ncm91cHM6ImdldEdyb3Vwc05hbWVzIj09PXImJihuPWUuY29udGV4dC5nZXRHcm91cHNOYW1lcygpKTtpZigicmVtb3ZlRnJvbUdyb3VwIj09PXIpe3ZhciBnPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLGI9dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQucmVtb3ZlRnJvbUdyb3VwKGcsYil9dmFyIF89e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOm4sY29kZToyMDB9LG09e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpffTtlLmNvbnRleHQubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtKX0pfX0se2tleToiYWRkUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKHZvaWQgMD09PXI/cj1uZXcgdi5kZWZhdWx0KHQsW10sW10sbik6ciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmtleSxyLnJ1bGVzLHIuYWN0aW9ucyxyLmNvbWJpbmluZ0FsZ29yaXRobSkpLGUpe2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlLHIsdCk7YnJlYWs7Y2FzZSJVU0VSIjp0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdPXIsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToiYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUuZnJvbSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UuZnJvbSBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLnRvKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS50byBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLnR5cGUgaXMgbm90IGRlZmluZWQiKTtyZXR1cm4gZS5ib2R5PWUuYm9keXx8e30sbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2UuYm9keT1lLmJvZHl8fHt9O3ZhciBpPXIsYT1pLnBkcC5ldmFsdWF0ZVBvbGljaWVzKGUsdCk7Ik5vdCBBcHBsaWNhYmxlIj09PWEmJihhPWkuY29udGV4dC5kZWZhdWx0QmVoYXZpb3VyLGUuYm9keS5hdXRoPSExKSxpLmFjdGlvbnNTZXJ2aWNlLmVuZm9yY2VQb2xpY2llcyhlLHQpLnRoZW4oZnVuY3Rpb24odCl7Zm9yKHZhciByIGluIHQpaWYoZT10W3JdLGEpZS5ib2R5LmF1dGg9dm9pZCAwPT09ZS5ib2R5LmF1dGh8fGUuYm9keS5hdXRoLG4oZSk7ZWxzZXt2YXIgaT17Ym9keTp7Y29kZTo0MDMsZGVzY3JpcHRpb246IkJsb2NrZWQgYnkgcG9saWN5In0sZnJvbTplLnRvLHRvOmUuZnJvbSx0eXBlOiJyZXNwb25zZSJ9O28oaSl9fSxmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImF1dGhvcmlzZVN5bmMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4gZS5ib2R5PWUuYm9keXx8e30sdD10aGlzLnBkcC5ldmFsdWF0ZVBvbGljaWVzKGUsITApLCJOb3QgQXBwbGljYWJsZSI9PT10JiYodD10aGlzLmNvbnRleHQuZGVmYXVsdEJlaGF2aW91ciksdH19LHtrZXk6InJlbW92ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCIqIiE9PWUmJiF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKGUpe2Nhc2UiKiI6dGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljeT17fSx0aGlzLmNvbnRleHQudXNlclBvbGljaWVzPXt9LHRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJVU0VSIiksdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiU0VSVklDRV9QUk9WSURFUiIpLHRoaXMuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk7YnJlYWs7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjpkZWxldGUgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljeVt0XSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCk7YnJlYWs7Y2FzZSJVU0VSIjpkZWxldGUgdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1t0XSx0PT09dGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3kmJih0aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsdGhpcy5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKSksdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiVVNFUiIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gcG9saWN5IHNvdXJjZTogIitlKX19fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lm1lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29udGV4dC5tZXNzYWdlQnVzPWUsdC5hZGRHVUlMaXN0ZW5lcnMoKX19XSksUEVQfSgpKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIEFjdGlvbnNTZXJ2aWNlKGUpeygwLGEuZGVmYXVsdCkodGhpcyxBY3Rpb25zU2VydmljZSksdGhpcy5jb250ZXh0PWV9cmV0dXJuKDAsdS5kZWZhdWx0KShBY3Rpb25zU2VydmljZSxbe2tleToiZW5mb3JjZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1yLmNvbnRleHQuZ2V0UG9saWNpZXMoZSx0KTt2b2lkIDAhPT1pP3ZvaWQgMCE9PWkuc2VydmljZVByb3ZpZGVyUG9saWN5P2kuc2VydmljZVByb3ZpZGVyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KTp2b2lkIDAhPT1pLnVzZXJQb2xpY3k/aS51c2VyUG9saWN5LmVuZm9yY2VBY3Rpb25zKHIuY29udGV4dCxlKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KTpuKFtlXSk6bihbZV0pfSl9fSx7a2V5OiJmb3J3YXJkVG9JRCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuaHlwZXJ0aWVzTGlzdFswXS5oeXBlcnR5VVJMPT09ZS50byl7InJ1bnRpbWUiIT09ZS50by5zcGxpdCgiOi8vIilbMF0/ci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5kaXNjb3Zlckh5cGVydHlQZXJVc2VyKHQpLnRoZW4oZnVuY3Rpb24odCl7ZS50bz10Lmh5cGVydHlVUkwsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSxmdW5jdGlvbihlKXtvKGUpfSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6ImZvcndhcmRUb0h5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZighci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoImZvcndhcmQgbWVzc2FnZSB0byBnaXZlbiBJRCBpcyB1bnN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Iik7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT8oZS50bz10LGUuYm9keS52aWE9dm9pZCAwLG4oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKSk6bihlKX1lbHNlIG4oZSl9KX19LHtrZXk6InNlbmRBdXRvbWF0aWNNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89e2Zyb206ZS50byx0bzplLmZyb20sYm9keTp7dmFsdWU6dH0sdHlwZTplLnR5cGV9O24oZSksci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX0pfX1dKSxBY3Rpb25zU2VydmljZX0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxNTIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUERQKGUpeygwLG8uZGVmYXVsdCkodGhpcyxQRFApLHRoaXMuY29udGV4dD1lLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9cmV0dXJuKDAsYS5kZWZhdWx0KShQRFAsW3trZXk6ImV2YWx1YXRlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb250ZXh0LmdldFBvbGljaWVzKGUsdCksbj0iTm90IEFwcGxpY2FibGUiO2lmKHZvaWQgMCE9PXImJigobj10aGlzLmV2YWx1YXRlUG9saWN5KGUsci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3ksdCkpfHwiTm90IEFwcGxpY2FibGUiPT09bikpe3ZhciBvPXRoaXMuZXZhbHVhdGVQb2xpY3koZSxyLnVzZXJQb2xpY3ksdCk7Ik5vdCBBcHBsaWNhYmxlIiE9PW8mJihuPW8pfXJldHVybiBufX0se2tleToiZXZhbHVhdGVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0iTm90IEFwcGxpY2FibGUiO3JldHVybiB0JiYobj10LmV2YWx1YXRlUnVsZXModGhpcy5jb250ZXh0LGUscikpLG59fV0pLFBEUH0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIxNSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyMTYpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoMjE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDUyMCksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQb2xpY3koZSx0LHIsbil7aWYoKDAsYS5kZWZhdWx0KSh0aGlzLFBvbGljeSksIWUpdGhyb3cgbmV3IEVycm9yKCJrZXkgaXMgbm90IGRlZmluZWQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoImFjdGlvbnMgYXJlIG5vdCBkZWZpbmVkIik7dGhpcy5hY3Rpb25zPXIsdGhpcy5rZXk9ZSx0aGlzLl9zZXRSdWxlcyh0KSx0aGlzLl9zZXRDb21iaW5pbmdBbGdvcml0aG0obil9cmV0dXJuKDAsdS5kZWZhdWx0KShQb2xpY3ksW3trZXk6ImFkZEFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmFjdGlvbnMucHVzaCh7bWV0aG9kOmUscGFyYW06dH0pfX0se2tleToiY3JlYXRlUnVsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvKXt2b2lkIDA9PT1vJiYobz10aGlzLmdldExhc3RQcmlvcml0eSgpKzEpO3ZhciBpPW5ldyB2LmRlZmF1bHQoZSx0LHIsbixvKTt0aGlzLnJ1bGVzLnB1c2goaSl9fSx7a2V5OiJkZWxldGVSdWxlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJ1bGVzLmluZGV4T2YoZSk7dGhpcy5ydWxlcy5zcGxpY2UodCwxKX19LHtrZXk6ImVuZm9yY2VBY3Rpb25zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgYT1bXTtpZigwIT09ci5hY3Rpb25zLmxlbmd0aCl7Zm9yKHZhciBzIGluIHIuYWN0aW9ucyl7dmFyIHU9ZS5wZXAuYWN0aW9uc1NlcnZpY2Vbci5hY3Rpb25zW3NdLm1ldGhvZF0odCxyLmFjdGlvbnNbc10ucGFyYW0pO2EucHVzaCh1KX1vLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pfWVsc2UgbihbdF0pfSl9fSx7a2V5OiJldmFsdWF0ZVJ1bGVzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49W107Zm9yKHZhciBvIGluIHRoaXMucnVsZXMpbi5wdXNoKHRoaXMucnVsZXNbb10uZXZhbHVhdGUoZSx0LHIpKTtyZXR1cm4gdGhpcy5jb21iaW5pbmdBbGdvcml0aG0uY29tYmluZShuKX19LHtrZXk6ImdldExhc3RQcmlvcml0eSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZigwIT09dGhpcy5ydWxlcy5sZW5ndGgpe2Zvcih2YXIgdCBpbiB0aGlzLnJ1bGVzKWUucHVzaCh0aGlzLnJ1bGVzW3RdLnByaW9yaXR5KTtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlKX1yZXR1cm4tMX19LHtrZXk6ImdldFJ1bGVCeVByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5ydWxlcylpZihTdHJpbmcodGhpcy5ydWxlc1t0XS5wcmlvcml0eSk9PT1TdHJpbmcoZSkpcmV0dXJuIHRoaXMucnVsZXNbdF07dGhyb3cgRXJyb3IoIlJ1bGUgd2l0aCBwcmlvcml0eSAiK2UrIiBkb2VzIG5vdCBleGlzdCEiKX19LHtrZXk6Il9zZXRDb21iaW5pbmdBbGdvcml0aG0iLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlfHwoZT0iYmxvY2tPdmVycmlkZXMiKSxlKXtjYXNlImJsb2NrT3ZlcnJpZGVzIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgZC5kZWZhdWx0O2JyZWFrO2Nhc2UiYWxsb3dPdmVycmlkZXMiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyBsLmRlZmF1bHQ7YnJlYWs7Y2FzZSJmaXJzdEFwcGxpY2FibGUiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyB5LmRlZmF1bHQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBhbGdvcml0aG06ICIrZSl9fX0se2tleToiX3NldFJ1bGVzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJ1bGVzPVtdO2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1lW3RdO3ZvaWQgMD09PXIucHJpb3JpdHkmJihyLnByaW9yaXR5PXRoaXMuZ2V0TGFzdFByaW9yaXR5KCkrMSksciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmRlY2lzaW9uLHIuY29uZGl0aW9uLHIuc2NvcGUsci50YXJnZXQsci5wcmlvcml0eSkpLHRoaXMucnVsZXMucHVzaChyKX19fSx7a2V5OiJzb3J0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVsZXMuc29ydChmdW5jdGlvbihlLHQpe3ZhciByPWUucHJpb3JpdHksbj10LnByaW9yaXR5O3JldHVybiByPG4/LTE6cj5uPzE6MH0pfX1dKSxQb2xpY3l9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNTIxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1MyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig2KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVsZShlLHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxSdWxlKSx0aGlzLmRlY2lzaW9uPWUsdGhpcy5zZXRDb25kaXRpb24odCksdGhpcy5wcmlvcml0eT1pLHRoaXMuc2NvcGU9cix0aGlzLnRhcmdldD1ufXJldHVybigwLGEuZGVmYXVsdCkoUnVsZSxbe2tleToic2V0Q29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0KXRoaXMuY29uZGl0aW9uPWU7ZWxzZXtzd2l0Y2goZS5hdHRyaWJ1dGUpe2Nhc2Uic3Vic2NyaXB0aW9uIjp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpO2JyZWFrO2Nhc2Ugdm9pZCAwOnRoaXMuY29uZGl0aW9uPW5ldyB1LmRlZmF1bHQoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNvbmRpdGlvbj1uZXcgbC5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpfX19fSx7a2V5OiJldmFsdWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/dC50bzp0LmZyb20sbz12b2lkIDA7c3dpdGNoKHRoaXMuc2NvcGUpe2Nhc2UiZ2xvYmFsIjpicmVhaztjYXNlImh5cGVydHkiOmlmKCgwLGYuaXNEYXRhT2JqZWN0VVJMKShuKSl7dmFyIGk9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKCgwLGYucmVtb3ZlUGF0aEZyb21VUkwpKG4pKTt2b2lkIDAhPT1pJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShpKSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZSgoMCxmLnJlbW92ZVBhdGhGcm9tVVJMKShuKSkpO2lmKG89PT10aGlzLnRhcmdldClicmVhaztyZXR1cm4iTm90IEFwcGxpY2FibGUiO2Nhc2UiaWRlbnRpdHkiOnZhciBhPXZvaWQgMDtpZigoMCxmLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBzPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxmLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7YT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIocyl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYoYT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoKDAsZi5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZih2b2lkIDAhPT1hJiYoYT0oMCxmLmdldFVzZXJFbWFpbEZyb21VUkwpKGEpKSxhPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn1yZXR1cm4gdGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGUsdCx0aGlzLnNjb3BlLHRoaXMudGFyZ2V0KT90aGlzLmRlY2lzaW9uOiJOb3QgQXBwbGljYWJsZSJ9fV0pLFJ1bGV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE1MiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig1MjIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWR2YW5jZWRDb25kaXRpb24oZSl7KDAsby5kZWZhdWx0KSh0aGlzLEFkdmFuY2VkQ29uZGl0aW9uKSx0aGlzLm9wZXJhdG9ycz1uZXcgbC5kZWZhdWx0LHZvaWQgMCE9PWUub3BlcmF0b3JzJiYoZT1lLmNvbmRpdGlvbiksZT10aGlzLmJ1aWxkQ29uZGl0aW9uKGUpLHRoaXMuY29uZGl0aW9uPWV9cmV0dXJuKDAsYS5kZWZhdWx0KShBZHZhbmNlZENvbmRpdGlvbixbe2tleToiYnVpbGRDb25kaXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGVbMV0pP2VbMV09dGhpcy5idWlsZENvbmRpdGlvbihlWzFdKToic3Vic2NyaXB0aW9uIj09PWVbMV0uYXR0cmlidXRlP2VbMV09bmV3IGQuZGVmYXVsdChlWzFdLmF0dHJpYnV0ZSxlWzFdLm9wZXJhdG9yLGVbMV0ucGFyYW1zKTplWzFdPW5ldyB1LmRlZmF1bHQoZVsxXS5hdHRyaWJ1dGUsZVsxXS5vcGVyYXRvcixlWzFdLnBhcmFtcyksdm9pZCAwIT09ZVsyXSYmKEFycmF5LmlzQXJyYXkoZVsyXSk/ZVsyXT10aGlzLmJ1aWxkQ29uZGl0aW9uKGVbMl0pOiJzdWJzY3JpcHRpb24iPT09ZVsyXS5hdHRyaWJ1dGU/ZVsyXT1uZXcgZC5kZWZhdWx0KGVbMl0uYXR0cmlidXRlLGVbMl0ub3BlcmF0b3IsZVsyXS5wYXJhbXMpOmVbMl09bmV3IHUuZGVmYXVsdChlWzJdLmF0dHJpYnV0ZSxlWzJdLm9wZXJhdG9yLGVbMl0ucGFyYW1zKSksZX19LHtrZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSl7Zm9yKG98fChvPXRoaXMuY29uZGl0aW9uWzBdLGk9dGhpcy5jb25kaXRpb25bMV0sYT10aGlzLmNvbmRpdGlvblsyXSk7IShpIGluc3RhbmNlb2YgdS5kZWZhdWx0KSYhKGkgaW5zdGFuY2VvZiBkLmRlZmF1bHQpJiJib29sZWFuIiE9dHlwZW9mIGk7KWk9dGhpcy5pc0FwcGxpY2FibGUoZSx0LHIsbixpWzBdLGlbMV0saVsyXSk7aWYodm9pZCAwIT09YSlmb3IoOyEoYSBpbnN0YW5jZW9mIHUuZGVmYXVsdCkmIShhIGluc3RhbmNlb2YgZC5kZWZhdWx0KSYiYm9vbGVhbiIhPXR5cGVvZiBhOylhPXRoaXMuaXNBcHBsaWNhYmxlKGUsdCxyLG4sYVswXSxhWzFdLGFbMl0pO3ZhciBzPSJib29sZWFuIj09dHlwZW9mIGk/aTppLmlzQXBwbGljYWJsZShlLHQscixuKSxjPXZvaWQgMDtyZXR1cm4gdm9pZCAwIT09YSYmKGM9ImJvb2xlYW4iPT10eXBlb2YgYT9hOmEuaXNBcHBsaWNhYmxlKGUsdCxyLG4pKSx0aGlzLm9wZXJhdG9yc1tvXShbcyxjXSl9fV0pLEFkdmFuY2VkQ29uZGl0aW9ufSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMTUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDE3KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDEwMyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigxOCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNTMpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbkNvbmRpdGlvbihlLHQscil7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbkNvbmRpdGlvbiksKDAsbC5kZWZhdWx0KSh0aGlzLChTdWJzY3JpcHRpb25Db25kaXRpb24uX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbikpLmNhbGwodGhpcyxlLHQscikpfXJldHVybigwLHkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLGUpLCgwLHUuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLFt7a2V5OiJpc0FwcGxpY2FibGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISEoInN1YnNjcmliZSI9PT10LnR5cGUmZS5pc0Zyb21SZW1vdGVTTSh0LmZyb20pKSYmKDAsZC5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlKSwiaXNBcHBsaWNhYmxlIix0aGlzKS5jYWxsKHRoaXMsZSx0KX19XSksU3Vic2NyaXB0aW9uQ29uZGl0aW9ufSh2LmRlZmF1bHQpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjExKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksXz1yKDUyNCksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF8pLFI9di5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIE1lc3NhZ2VCdXMoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VCdXMpO3ZhciB0PSgwLGQuZGVmYXVsdCkodGhpcywoTWVzc2FnZUJ1cy5fX3Byb3RvX198fCgwLGEuZGVmYXVsdCkoTWVzc2FnZUJ1cykpLmNhbGwodGhpcykpO3JldHVybiB0Ll9yZWdpc3RyeT1lLHQuX2ZvcndhcmRzPXt9LHQuX3BpcGVsaW5lSW49bmV3IG0uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxvLmRlZmF1bHQpKGUpKX0pLHQuX3BpcGVsaW5lT3V0PW5ldyBtLmRlZmF1bHQoZnVuY3Rpb24oZSl7Ui5lcnJvcigiUElQRUxJTkUtRVJST1I6ICIsKDAsby5kZWZhdWx0KShlKSl9KSx0fXJldHVybigwLHkuZGVmYXVsdCkoTWVzc2FnZUJ1cyxlKSwoMCxsLmRlZmF1bHQpKE1lc3NhZ2VCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Ui5pbmZvKCJvblBPU1RNZXNzYWdlOiAiLGUpO3ZhciBuPXRoaXMsbz1mdW5jdGlvbihvKXtpZihuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSwhbi5fb25SZXNwb25zZShvKSl7dmFyIGk9bi5fc3Vic2NyaXB0aW9uc1tvLnRvXTtpP24uX3B1Ymxpc2hPbihpLG8pOm4uX29uUG9zdE1lc3NhZ2Uobyl9fTtpZihuLl9nZW5JZChlKSxuLl9pc1RvUHJvY2VzcyhlKSl7bi5faXNJbmNvbWluZ01lc3NhZ2UoZSk/bi5fcGlwZWxpbmVJbi5wcm9jZXNzKGUsbyk6bi5fcGlwZWxpbmVPdXQucHJvY2VzcyhlLG8pfWVsc2UgbyhlKTtyZXR1cm4gZS5pZH19LHtrZXk6Il9pc1RvUHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJkb21haW4iLCJkb21haW4taWRwIiwiZ2xvYmFsIiwiaHlwZXJ0eS1ydW50aW1lIiwicnVudGltZSJdLHI9ZS5mcm9tLnNwbGl0KCI6Ly8iKSxuPXJbMF0sbz1lLnRvLnNwbGl0KCI6Ly8iKSxpPW9bMF0sYT1lLmZyb20scz1lLnRvO3JldHVybiBlLmJvZHkmJmUuYm9keS5zb3VyY2UmJihhPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5LnN1YnNjcmliZXImJihhPWUuYm9keS5zdWJzY3JpYmVyKSwtMT09PWEuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09YS5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYtMT09PXMuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09cy5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYoKCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKGEpfHwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChlLnRvKSkmJighKGUuZnJvbT09PW58fGUudG89PT1pfHwicmVhZCI9PT1lLnR5cGV8fCJyZXNwb25zZSI9PT1lLnR5cGV8fGUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpJiYiZGVsZXRlIj09PWUudHlwZSkmJigtMT09PXQuaW5kZXhPZihuKXx8LTE9PT10LmluZGV4T2YoaSkpKSl9fSx7a2V5OiJfaXNJbmNvbWluZ01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4iZm9yd2FyZCI9PT1lLnR5cGU/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLnR5cGU6ICIsZS50eXBlKSx0PWUuYm9keS5mcm9tKTplLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJmUuYm9keS5zb3VyY2U/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc291cmNlOiAiLGUuYm9keS5zb3VyY2UpLHQ9ZS5ib2R5LnNvdXJjZSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmZS5ib2R5LnN1YnNjcmliZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc3Vic2NyaWJlcjogIixlLmJvZHkuc3Vic2NyaWJlciksdD1lLmJvZHkuc3Vic2NyaWJlcik6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikmJmUuYm9keS5yZXBvcnRlcj8oUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuYm9keS5yZXBvcnRlcjogIixlLmJvZHkucmVwb3J0ZXIpLHQ9ZS5ib2R5LnJlcG9ydGVyKTooUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuZnJvbSAiLGUuZnJvbSksdD1lLmZyb20pLFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBjaGVjayBpZiBpc0xvY2FsOiAiLHQpLCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHQpfX0se2tleToiYWRkUHVibGlzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1yLl9mb3J3YXJkc1tlXTtpZighbil7bj17Y291bnRlcjowLGZsOnIuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbih0KXtSLmluZm8oIk1CLVBVQkxJU0g6ICggIitlKyIgKSIpLHIuX29uUG9zdE1lc3NhZ2UodCl9KSxyZW1vdmU6ZnVuY3Rpb24oKXswPT09LS10LmNvdW50ZXImJih0LmZsLnJlbW92ZSgpLGRlbGV0ZSByLl9mb3J3YXJkc1tlXSl9fSxyLl9mb3J3YXJkc1tlXT1ufXJldHVybiBuLmNvdW50ZXIrKyxufX0se2tleToiYWRkRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiByLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24obil7Ui5pbmZvKCJNQi1GT1JXQVJEOiAoICIrZSsiIHRvICIrdCsiICkiKSxyLmZvcndhcmQodCxuKX0pfX0se2tleToiZm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5fc3Vic2NyaXB0aW9uc1tlXTtuJiZyLl9wdWJsaXNoT24obix0KX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihyLG4pe24/dC5mb3J3YXJkKHIsbik6dC5mb3J3YXJkKHIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtSLmVycm9yKCJSRVNPTFZFLUVSUk9SOiAiLGUpfSl9fSx7a2V5OiJwaXBlbGluZUluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVJbn19LHtrZXk6InBpcGVsaW5lT3V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVPdXR9fV0pLE1lc3NhZ2VCdXN9KGIuZGVmYXVsdCk7dC5kZWZhdWx0PU8sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNCksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpLGM9KHIoNiksdS5nZXRMb2dnZXIoIlBpcGVsaW5lIiksZnVuY3Rpb24oKXtmdW5jdGlvbiBQaXBlbGluZShlKXsoMCxvLmRlZmF1bHQpKHRoaXMsUGlwZWxpbmUpO3ZhciB0PXRoaXM7dC5oYW5kbGVycz1bXSx0Lm9uRmFpbD1lfXJldHVybigwLGEuZGVmYXVsdCkoUGlwZWxpbmUsW3trZXk6InByb2Nlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLmhhbmRsZXJzLmxlbmd0aD4wKXt2YXIgbj1uZXcgZihyLmhhbmRsZXJzKTtuLm5leHQobmV3IGwocixuLGUsdCkpfWVsc2UgdChlKX19XSksUGlwZWxpbmV9KCkpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQaXBlQ29udGV4dChlLHQscixuKXsoMCxvLmRlZmF1bHQpKHRoaXMsUGlwZUNvbnRleHQpO3ZhciBpPXRoaXM7aS5faW5TdG9wPSExLGkuX3BpcGVsaW5lPWUsaS5faXRlcj10LGkuX21zZz1yLGkuX29uRGVsaXZlcj1ufXJldHVybigwLGEuZGVmYXVsdCkoUGlwZUNvbnRleHQsW3trZXk6Im5leHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9pblN0b3B8fChlLl9pdGVyLmhhc05leHQ/ZS5faXRlci5uZXh0KGUpOmUuX29uRGVsaXZlcihlLl9tc2cpKX19LHtrZXk6ImRlbGl2ZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9pblN0b3B8fChlLl9pblN0b3A9ITAsZS5fb25EZWxpdmVyKGUuX21zZykpfX0se2tleToiZmFpbCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9pblN0b3B8fCh0Ll9pblN0b3A9ITAsdC5fcGlwZWxpbmUub25GYWlsJiZ0Ll9waXBlbGluZS5vbkZhaWwoZSkpfX0se2tleToicGlwZWxpbmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXBlbGluZX19LHtrZXk6Im1zZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21zZ30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21zZz1lfX1dKSxQaXBlQ29udGV4dH0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSXRlcmF0b3IoZSl7KDAsby5kZWZhdWx0KSh0aGlzLEl0ZXJhdG9yKSx0aGlzLl9pbmRleD0tMSx0aGlzLl9hcnJheT1lfXJldHVybigwLGEuZGVmYXVsdCkoSXRlcmF0b3IsW3trZXk6Imhhc05leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleDx0aGlzLl9hcnJheS5sZW5ndGgtMX19LHtrZXk6Im5leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleCsrLHRoaXMuX2FycmF5W3RoaXMuX2luZGV4XX19XSksSXRlcmF0b3J9KCk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cig1MjYpLGQ9cig0KSxwPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZCkseT1wLmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDcnlwdG8oZSl7KDAsdS5kZWZhdWx0KSh0aGlzLENyeXB0byk7dmFyIHQ9dGhpczsiZnVuY3Rpb24iPT10eXBlb2YgZS5jcmVhdGVXZWJjcnlwdG8/dC5fY3J5cHRvPWUuY3JlYXRlV2ViY3J5cHRvKCk6dC5fY3J5cHRvPWNyeXB0b31yZXR1cm4oMCxsLmRlZmF1bHQpKENyeXB0byxbe2tleToiZW5jcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZW5jcnlwdFJTQTpwdWJLZXkiLGUpLHkubG9nKCJlbmNyeXB0UlNBOmRhdGEiLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl9pbXBvcnRSU0FlbmNyeXB0S2V5KG5ldyBVaW50OEFycmF5KGUpKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7bihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToiZGVjcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZGVjcnlwdFJTQTpwcml2S2V5IixlKSx5LmxvZygiZGVjcnlwdFJTQTpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5faW1wb3J0UlNBZGVjcnlwdEtleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7bih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJzaWduUlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLl9pbXBvcnRSU0FzaWduS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5zaWduKHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSJ9LGUsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXtuKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJ2ZXJpZnlSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5faW1wb3J0UlNBdmVyaWZ5S2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IlJTQVNTQS1QS0NTMS12MV81In0sZSxyLCgwLGYuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJlbmNyeXB0QUVTIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coImVuY3J5cHRBRVM6a2V5IixlKSx5LmxvZygiZW5jcnlwdEFFUzpkYXRhIix0KSx5LmxvZygiZW5jcnlwdEFFUzppdiIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2ltcG9ydEFFU2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZToiQUVTLUNCQyIsaXY6cn0sZSwoMCxmLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpe28obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6ImRlY3J5cHRBRVMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygiZGVjcnlwdEFFUzprZXkiLGUpLHkubG9nKCJkZWNyeXB0QUVTOmRhdGEiLHQpLHkubG9nKCJkZWNyeXB0QUVTOml2IixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5faW1wb3J0QUVTa2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7bi5fY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOiJBRVMtQ0JDIixpdjpyfSxlLHQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9KDAsZi5kZWNvZGVVVEY4KShuZXcgVWludDhBcnJheShlKSk7eS5sb2coImNyeXB0by1kZWNyeXB0QUVTIix0KSxvKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6Imhhc2hITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJoYXNoSE1BQzprZXkiLGUpLHkubG9nKCJoYXNoSE1BQzpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxvLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIGhhc2hITUFDIGlucHVyZWQgREFUQSIpLHkubG9nKCJISGFzaEhNQUM6Iix0KSksci5faW1wb3J0SE1BQ2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiSE1BQyJ9LGUsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygiSGFzaEhNQUMgc2lnbmF0dXJlOiIsbmV3IFVpbnQ4QXJyYXkoZSkpLG4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShlKX0pfSl9KX19LHtrZXk6InZlcmlmeUhNQUMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygidmVyaWZ5SE1BQzprZXkiLGUpLHkubG9nKCJ2ZXJpZnlITUFDOmRhdGEiLHQpLHkubG9nKCJ2ZXJpZnlITUFDOnNpZ25hdHVyZSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihpLGEpe24uX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXsic3RyaW5nIiE9dHlwZW9mIHQmJih0PSgwLG8uZGVmYXVsdCkodCkseS5sb2coIkNvbnZlcnRpbmcgdmVyaWZ5SE1BQyBpbnB1dGVkIERBVEE6Iix0KSksbi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IkhNQUMifSxlLHIsKDAsZi5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygidmVyaWZ5SE1BQyByZXN1bHQiLGUpLGU/aShlKTphKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLXZlcmlmeUhNQUMiLGUpLGEoZSl9KX0pfSl9fSx7a2V5OiJnZW5lcmF0ZVJTQUtleVBhaXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9O3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5fY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleSh7bmFtZToiUlNBLVBTUyIsbW9kdWx1c0xlbmd0aDoyMDQ4LHB1YmxpY0V4cG9uZW50Om5ldyBVaW50OEFycmF5KFsxLDAsMV0pLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJzaWduIiwidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24obyl7ZS5fY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoInNwa2kiLG8ucHVibGljS2V5KS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiB0LnB1YmxpYz1uZXcgVWludDhBcnJheShyKSxlLl9jcnlwdG8uc3VidGxlLmV4cG9ydEtleSgicGtjczgiLG8ucHJpdmF0ZUtleSl9KS50aGVuKGZ1bmN0aW9uKGUpe3QucHJpdmF0ZT1uZXcgVWludDhBcnJheShlKSxyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcihlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiZ2VuZXJhdGVJViIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZVJhbmRvbSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMzIpO2UuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCk7Zm9yKHZhciByPURhdGUubm93KCksbj0oMCxmLmVuY29kZVVURjgpKHIudG9TdHJpbmcoKSksbz1uLnNsaWNlKG4ubGVuZ3RoLTQsbi5sZW5ndGgpLGk9MDtpPDQ7aSsrKXRbaV09b1tpXTtyZXR1cm4gdH19LHtrZXk6ImdlbmVyYXRlUE1TIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSg0OCk7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6ImdlbmVyYXRlTWFzdGVyU2VjcmV0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1uZXcgVWludDhBcnJheSg0OCksYT10O3IuX2RpZ2VzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3IuaGFzaEhNQUMoZSxhKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248MzI7bisrKWlbbl09dFtuXTtyZXR1cm4gci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8MTY7dCsrKWlbdCszMl09ZVt0XTtuKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhlKX0pfSl9KX19LHtrZXk6ImdlbmVyYXRlS2V5cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9W10sYT10O3IuaGFzaEhNQUMoZSxhKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCksci5oYXNoSE1BQyhlLGErdCl9KS50aGVuKGZ1bmN0aW9uKGUpe2kucHVzaChlKSxuKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBc2lnbktleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsZSx7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJzaWduIl0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBc2lnbktleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBdmVyaWZ5S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLGUse25hbWU6IlJTQVNTQS1QS0NTMS12MV81IixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBdmVyaWZ5S2V5IixlKSxuKGUpfSl9KX19LHtrZXk6Il9pbXBvcnRSU0FlbmNyeXB0S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLGUse25hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsiZW5jcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWVuY3J5cHRLZXkiLGUubmFtZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZGVjcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsZSx7bmFtZToiUlNBLU9BRVAiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsWyJkZWNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBZGVjcnlwdEtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJjb25jYXRQTVN3aXRoUmFuZG9tcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCtyLmxlbmd0aCksbz0wO288ZS5sZW5ndGg7bysrKW5bb109ZVtvXTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyluW2krZS5sZW5ndGhdPWVbaV07Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspblthK2UubGVuZ3RoK3QubGVuZ3RoXT1lW2FdO3JldHVybiBufX0se2tleToiX2dlbmVyYXRlMjU2Yml0S2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6Il9pbXBvcnRITUFDa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fZGlnZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsZSx7bmFtZToiSE1BQyIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9LGxlbmd0aDoyNTZ9LCEwLFsic2lnbiIsInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX0pfX0se2tleToiX2RpZ2VzdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuZGlnZXN0KHtuYW1lOiJTSEEtMjU2In0sZSkudGhlbihmdW5jdGlvbihlKXtyKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0QUVTa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsZSx7bmFtZToiQUVTLUNCQyJ9LCEwLFsiZW5jcnlwdCIsImRlY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLWltcG9ydEFFU2tleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfc2hhMjU2Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bmV3IFRleHRFbmNvZGVyKCJ1dGYtOCIpLmVuY29kZShlKTtyZXR1cm4gdC5fY3J5cHRvLnN1YnRsZS5kaWdlc3QoIlNIQS0yNTYiLHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2hleChlKX0pfX0se2tleToiX2hleCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9bmV3IERhdGFWaWV3KGUpLG49MDtuPHIuYnl0ZUxlbmd0aDtuKz00KXt2YXIgbz1yLmdldFVpbnQzMihuKSxpPW8udG9TdHJpbmcoMTYpLGE9KCIwMDAwMDAwMCIraSkuc2xpY2UoLSIwMDAwMDAwMCIubGVuZ3RoKTt0LnB1c2goYSl9cmV0dXJuIHQuam9pbigiIil9fV0pLENyeXB0b30oKTt0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGVuY29kZVVURjgoZSl7Zm9yKHZhciB0PTAscj1uZXcgVWludDhBcnJheSg0KmUubGVuZ3RoKSxuPTA7biE9ZS5sZW5ndGg7bisrKXt0cnl7ZS5jaGFyQ29kZUF0KG4pfWNhdGNoKGUpe3JldHVybn12YXIgbz1lLmNoYXJDb2RlQXQobik7aWYobzwxMjgpclt0KytdPW87ZWxzZXtpZihvPDIwNDgpclt0KytdPW8+PjZ8MTkyO2Vsc2V7aWYobz41NTI5NSYmbzw1NjMyMCl7aWYoKytuPT1lLmxlbmd0aCl0aHJvdyJVVEYtOCBlbmNvZGU6IGluY29tcGxldGUgc3Vycm9nYXRlIHBhaXIiO3ZhciBpPWUuY2hhckNvZGVBdChuKTtpZihpPDU2MzIwfHxpPjU3MzQzKXRocm93IlVURi04IGVuY29kZTogc2Vjb25kIGNoYXIgY29kZSAweCIraS50b1N0cmluZygxNikrIiBhdCBpbmRleCAiK24rIiBpbiBzdXJyb2dhdGUgcGFpciBvdXQgb2YgcmFuZ2UiO289NjU1MzYrKCgxMDIzJm8pPDwxMCkrKDEwMjMmaSksclt0KytdPW8+PjE4fDI0MCxyW3QrK109bz4+MTImNjN8MTI4fWVsc2Ugclt0KytdPW8+PjEyfDIyNDtyW3QrK109bz4+NiY2M3wxMjh9clt0KytdPTYzJm98MTI4fX1yZXR1cm4gci5zdWJhcnJheSgwLHQpfWZ1bmN0aW9uIGRlY29kZVVURjgoZSl7Zm9yKHZhciB0PSIiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49ZVtyKytdO2lmKG4+MTI3KXtpZihuPjE5MSYmbjwyMjQpe2lmKHI+PWUubGVuZ3RoKXRocm93IlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAyLWJ5dGUgc2VxdWVuY2UiO249KDMxJm4pPDw2fDYzJmVbcl19ZWxzZSBpZihuPjIyMyYmbjwyNDApe2lmKHIrMT49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDMtYnl0ZSBzZXF1ZW5jZSI7bj0oMTUmbik8PDEyfCg2MyZlW3JdKTw8Nnw2MyZlWysrcl19ZWxzZXtpZighKG4+MjM5JiZuPDI0OCkpdGhyb3ciVVRGLTggZGVjb2RlOiB1bmtub3duIG11bHRpYnl0ZSBzdGFydCAweCIrbi50b1N0cmluZygxNikrIiBhdCBpbmRleCAiKyhyLTEpO2lmKHIrMj49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDQtYnl0ZSBzZXF1ZW5jZSI7bj0oNyZuKTw8MTh8KDYzJmVbcl0pPDwxMnwoNjMmZVsrK3JdKTw8Nnw2MyZlWysrcl19KytyfWlmKG48PTY1NTM1KXQrPVN0cmluZy5mcm9tQ2hhckNvZGUobik7ZWxzZXtpZighKG48PTExMTQxMTEpKXRocm93IlVURi04IGRlY29kZTogY29kZSBwb2ludCAweCIrbi50b1N0cmluZygxNikrIiBleGNlZWRzIFVURi0xNiByZWFjaCI7bi09NjU1MzYsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiksdCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMDIzJm58NTYzMjApfX1yZXR1cm4gdH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5lbmNvZGVVVEY4PWVuY29kZVVURjgsdC5kZWNvZGVVVEY4PWRlY29kZVVURjh9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDYpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGYpLHA9cig2KSx5PXIoMTA0KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1kLmdldExvZ2dlcigibG9hZGVyIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIExvYWRlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLExvYWRlciksIXQpdGhyb3cgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTtpZighcil0aHJvdyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgRGVzY3JpcHRvciBpbnN0YW5jZSIpO3RoaXMubG9nPXYsdGhpcy5ydW50aW1lQ29uZmlndXJhdGlvbj10LHRoaXMuZGVzY3JpcHRvcnM9cn1yZXR1cm4oMCxsLmRlZmF1bHQpKExvYWRlcixbe2tleToibG9hZEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj10aGlzLG49YXJndW1lbnRzWzJdO2FyZ3VtZW50c1szXTtpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBIeXBlcnR5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihpLGEpe3ZhciBzPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxsPXZvaWQgMCxmPSExLGQ9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIFNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBoeXBlcnR5OiAiLGUpLGEoZSl9LHk9ZnVuY3Rpb24oZSl7Zj0hMCxhKGUpfTtyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBIeXBlcnR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBHZXQgaHlwZXJ0eSBkZXNjcmlwdG9yIGZvciA6IixlKSxyLmRlc2NyaXB0b3JzLmdldEh5cGVydHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDE6IHJldHVybiBoeXBlcnR5IGRlc2NyaXB0b3IiKSxjPWU7dmFyIHQ9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT10P2Uuc291cmNlUGFja2FnZTpyLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwodCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMjogcmV0dXJuIGh5cGVydHkgc291cmNlIGNvZGUiKSxsPWU7cmV0dXJuITB9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMzogcmV0dXJuIHBvbGljeSBlbmdpbmUgcmVzdWx0IitlKTtyZXR1cm4gci5yZWdpc3RyeS5nZXRBcHBTYW5kYm94KCl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNDogcmV0dXJuIHRoZSBzYW5kYm94IixlKSxlKX0sZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4xOiBUcnkgdG8gcmVnaXN0ZXIgYSBuZXcgc2FuZGJveCIpO3ZhciB0PXt9O3JldHVybiBjJiZjLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKHQ9Yy5zdHViQ2FwYWJpbGl0aWVzKSxyLl9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0seSkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA1OiByZXR1cm4gc2FuZGJveCBhbmQgcmVnaXN0ZXIiKSx1PWU7cmV0dXJuIHIuX2FkZHJlc3NBbGxvY2F0aW9uLmNyZWF0ZShyLl9yZWdpc3RyeS5fZG9tYWluLDEsYywiaHlwZXJ0eSIsdCl9LHkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNjogcmV0dXJuIHRoZSBhZGRyZXNzZXMgZm9yIHRoZSBoeXBlcnR5Iix0KSxyLnJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eSh1LGUsYyx0LG4pKX0seSkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3OiByZWdpc3RyYXRpb24gcmVzdWx0IixlKSxzPWUudXJsO3ZhciB0PXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KShjLmNvbmZpZ3VyYXRpb24pKXRyeXt0PSgwLG8uZGVmYXVsdCkoe30sSlNPTi5wYXJzZShjLmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXt0PWMuY29uZmlndXJhdGlvbn10LnJ1bnRpbWVVUkw9ci5fcnVudGltZVVSTCxlLnAycEhhbmRsZXImJih0LnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLHQucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKTt0cnl7cmV0dXJuIHUuZGVwbG95Q29tcG9uZW50KGwuc291cmNlQ29kZSxzLHQpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksYShlKX19LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gODogRGVwbG95IGNvbXBvbmVudCBzdGF0dXMgZm9yIGh5cGVydHk6ICIsZSksci5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHMsZnVuY3Rpb24oZSl7dS5wb3N0TWVzc2FnZShlKX0pLHIubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihyLnJ1bnRpbWVVUkwrIi9zdGF0dXMiLGZ1bmN0aW9uKGUpe3UucG9zdE1lc3NhZ2UoZSl9KTt2YXIgdD17cnVudGltZUh5cGVydHlVUkw6cyxzdGF0dXM6ZX07di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHk6ICIsdCksaSh0KSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKX0seSkuY2F0Y2goZCl9KX19LHtrZXk6ImxvYWRTdHViIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1Qcm90b1N0dWIgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIGE9KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbjthfHwoYT1lKTt2YXIgcz12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsbD12b2lkIDAsZj0hMSxkPXZvaWQgMCx5PWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXVNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBwcm90b2NvbHN0dWI6ICIsZSksaShlKX0saD1mdW5jdGlvbihlKXtmPSEwLGkoZSl9LGc9dm9pZCAwLGI9e307di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIHN0YXJ0aW5nIGxvYWRpbmcgZm9yICIsZSwiIHdpdGggcDJwY29uZmlnICIsdCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IFByb3RvU3R1YiBmb3IgZG9tYWluOiAiLGEpO3RyeXtpZih0KWlmKHQuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmdC5pc0hhbmRsZXJTdHViKSEwLGQ9ci5ydW50aW1lVVJMLGc9ci5yZWdpc3RyeS5kaXNjb3ZlclAyUFN0dWIoKTtlbHNleyEwO3ZhciBfPXQucmVtb3RlUnVudGltZVVSTDtkPV8sZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUDJQU3R1YihfKX1lbHNlIGQ9YSxnPXIucmVnaXN0cnkuZGlzY292ZXJQcm90b3N0dWIoYSk7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMS4gUHJvdG8gU3R1YiBEaXNjb3ZlcmVkIGZvciAiLGUsIjogIixnKSxuKGcpLHYuaW5mbygiIFtSdW50aW1lLkxvYWRlcl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfWNhdGNoKGcpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTEuIFByb3RvIFN0dWIgbm90IGZvdW5kICIrZyksci5kZXNjcmlwdG9ycy5nZXRTdHViRGVzY3JpcHRvcihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMi4gcmV0dXJuIHRoZSBQcm90b1N0dWIgZGVzY3JpcHRvciIpLHU9ZTt2YXIgdD1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXQ/ZS5zb3VyY2VQYWNrYWdlOnIucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCh0KX0saCkuY2F0Y2goeSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hZiYmKHUmJnUuY29uc3RyYWludHMmJihiPXUuY29uc3RyYWludHMpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTMuIHJldHVybiB0aGUgUHJvdG9TdHViIFNvdXJjZSBDb2RlIiksbD1lLHIucmVnaXN0cnkuZ2V0U2FuZGJveChhLGIpKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl00LiBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlcmVkIHRoZW4gcmV0dXJuIHRoZSBzYW5kYm94ICIsZSkscz1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl01LiBTYW5kYm94IHdhcyBub3QgZm91bmQsIGNyZWF0aW5nIGEgbmV3IG9uZSAiLGUpLHIuX3J1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3goYikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRMaXN0ZW5lcigiKiIsZnVuY3Rpb24oZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSksZX0pKX0pLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIWYmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl02LiByZXR1cm4gdGhlIHNhbmRib3ggaW5zdGFuY2UgYW5kIHJlZ2lzdGVyIixuLCJ0byBkb21haW4gIixhKSxzPW4sci5yZWdpc3RyeS5yZWdpc3RlclN0dWIocyxkLHQsZSx1KSl9LGgpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gNy4gcmV0dXJuIHRoZSBydW50aW1lIHByb3Rvc3R1YiB1cmw6ICIsZSksYz1lLnVybDt2YXIgbj17fTtpZighKDAscC5lbXB0eU9iamVjdCkodS5jb25maWd1cmF0aW9uKSl0cnl7bj0oMCxvLmRlZmF1bHQpKHt9LEpTT04ucGFyc2UodS5jb25maWd1cmF0aW9uKSl9Y2F0Y2goZSl7bj11LmNvbmZpZ3VyYXRpb259aWYodCl0cnl7bj0oMCxvLmRlZmF1bHQpKG4sSlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7bj0oMCxvLmRlZmF1bHQpKG4sdCl9bi5ydW50aW1lVVJMPXIuX3J1bnRpbWVVUkw7dHJ5e3JldHVybiB2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gODogYWRkaW5nIHNhbmRib3ggbGlzdGVuZXIgdG8gcHJvdG9zdHViVVJMIDogIixjKSxyLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYyxmdW5jdGlvbihlKXtzLnBvc3RNZXNzYWdlKGUpfSkscy5kZXBsb3lDb21wb25lbnQobC5zb3VyY2VDb2RlLGMsbil9Y2F0Y2goZSl7di5lcnJvcigiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksaShlKX19LGgpLnRoZW4oZnVuY3Rpb24oKXtpZihmKXJldHVybiExO3ZhciBlPXZvaWQgMDt0Pyh2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBwMnBDb25maWc6ICIsdCksdC5oYXNPd25Qcm9wZXJ0eSgiaXNIYW5kbGVyU3R1YiIpJiYoZT1yLnJlZ2lzdHJ5LnAycEhhbmRsZXJTdHViW3IuX3J1bnRpbWVVUkxdKSx0Lmhhc093blByb3BlcnR5KCJwMnBSZXF1ZXN0ZXJTdHViIikmJihlPXIucmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1Ylt0LnJlbW90ZVJ1bnRpbWVVUkxdKSk6ZT1yLnJlZ2lzdHJ5LnByb3Rvc3R1YnNMaXN0W2FdLHYubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIFN0dWI6ICIsZSksbihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfSxoKS5jYXRjaCh5KX19KX19LHtrZXk6ImxvYWRJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBJZHBQcm94eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxwLmRpdmlkZVVSTCkoZSkuZG9tYWluO2l8fChpPWUpO3ZhciBhPXZvaWQgMCxzPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxsPSExLGY9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIFNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBJZHBQcm94eTogIixlKSxuKGUpfSxkPWZ1bmN0aW9uKGUpe2w9ITAsbihlKX07di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLS0gSURQIFByb3h5IERlcGxveSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBEaXNjb3ZlciBvciBDcmVhdGUgYSBuZXcgSWRwUHJveHkgZm9yIGRvbWFpbi9VUkw6ICIsaSk7dHJ5e3ZhciB5PXQucmVnaXN0cnkuZGlzY292ZXJJZHBQcm94eShpKTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSURQUHJveHkgRGlzY292ZXJlZDogIix5KTt2YXIgaD10LnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtpXTt2LmxvZygiRGVwbG95ZWQ6ICIsaCkscihoKSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX1jYXRjaCh5KXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSWRwUHJveHkgbm90IGZvdW5kOiIseSksdC5kZXNjcmlwdG9ycy5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMi4gUmV0dXJuIHRoZSBJRFBQcm94eSBkZXNjcmlwdG9yIikscz1lO3ZhciByPWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09cj9lLnNvdXJjZVBhY2thZ2U6dC5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHIpfSxkKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDMuIHJldHVybiB0aGUgSURQUHJveHkgc291cmNlIHBhY2thZ2UiKSxjPWU7cmV0dXJuITB9LGQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJnQucmVnaXN0cnkuZ2V0U2FuZGJveChpKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCIsZSksYT1lLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNS4gU2FuZGJveCB3YXMgbm90IGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUiLGUpO3ZhciByPXt9O3JldHVybiBzJiZzLmhhc093blByb3BlcnR5KCJjYXBhYmlsaXRpZXMiKSYmKHM9cy5zdHViQ2FwYWJpbGl0aWVzKSx0Ll9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3QubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNi4gcmV0dXJuIHRoZSBzYW5kYm94IGluc3RhbmNlIGFuZCByZWdpc3RlciIsZSwidG8gZG9tYWluICIsaSksYT1lLHQucmVnaXN0cnkucmVnaXN0ZXJJZHBQcm94eShlLGkpKX0sZCkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA3LiBSZXR1cm4gdGhlIHJ1bnRpbWUgSWRwIFByb3h5IFVSTDogIixlKSx1PWU7dmFyIHI9e307aWYoISgwLHAuZW1wdHlPYmplY3QpKHMuY29uZmlndXJhdGlvbikpdHJ5e3I9KDAsby5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKHMuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe3I9cy5jb25maWd1cmF0aW9ufXIucnVudGltZVVSTD10Ll9ydW50aW1lVVJMO3RyeXtyZXR1cm4gdC5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24oZSl7YS5wb3N0TWVzc2FnZShlKX0pLGEuZGVwbG95Q29tcG9uZW50KGMuc291cmNlQ29kZSxlLHIpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksbihlKX19LGQpLnRoZW4oZnVuY3Rpb24oKXtpZihsKXJldHVybiExO3ZhciBlPXQucmVnaXN0cnkuaWRwUHJveHlMaXN0W2ldO3YubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZElkcFByb3h5XSA4OiBsb2FkZWQ6ICIsZSkscihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkSWRwUHJveHldIC0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9LGQpLmNhdGNoKGYpfX0pfX0se2tleToiX3JlYWR5VG9Vc2UiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3J1bnRpbWVVUkwpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSB1cmwgYWRkcmVzcyIpO2lmKCF0aGlzLl9tZXNzYWdlc0J1cyl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSBtZXNzYWdlQnVzIGNvbXBvbmVudCIpO2lmKCF0aGlzLl9yZWdpc3RyeSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSByZWdpc3RyeSBjb21wb25lbnQiKTtpZighdGhpcy5fcnVudGltZUZhY3RvcnkpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcnVudGltZSBmYWN0b3J5IGNvbXBvbmVudCIpO3JldHVybiEwfX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVVUkw9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fSx7a2V5OiJyZWdpc3RyeSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWU7dmFyIHQ9aC5kZWZhdWx0Lmluc3RhbmNlO3RoaXMuX2FkZHJlc3NBbGxvY2F0aW9uPXQsdi5sb2coIltMb2FkZXIgLSBBZGRyZXNzQWxsb2NhdGlvbl0gLSAiLHQpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9fSx7a2V5OiJtZXNzYWdlQnVzIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZXNCdXM9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VzQnVzfX0se2tleToicnVudGltZUZhY3RvcnkiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ydW50aW1lRmFjdG9yeT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZUZhY3Rvcnl9fV0pLExvYWRlcn0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDYpLGw9cigxMDIpLGY9cig0KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZikscD1kLmdldExvZ2dlcigiRGVzY3JpcHRvcnMiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGVzY3JpcHRvcnMoZSx0LHIpe2lmKCgwLGEuZGVmYXVsdCkodGhpcyxEZXNjcmlwdG9ycyksIWUpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSB1cmwgdG8gYmUgdXNlZCIpO2lmKCF0KXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkcyB0aGUgY2F0YWxvZ3VlIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWRzIHRoZSBydW50aW1lIGNvbmZpZ3VyYXRpb24iKTt0aGlzLmxvZz1wLHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249cix0aGlzLnJ1bnRpbWVVUkw9ZSx0aGlzLmNhdGFsb2d1ZT10LHRoaXMuY29uc3RyYWludHM9bC5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllc31yZXR1cm4oMCx1LmRlZmF1bHQpKERlc2NyaXB0b3JzLFt7a2V5OiJnZXRIeXBlcnR5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2F0YWxvZ3VlLmdldEh5cGVydHlEZXNjcmlwdG9yKGUsITAsdGhpcy5jb25zdHJhaW50cyl9fSx7a2V5OiJnZXRTdHViRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxhPXZvaWQgMCxzPSgwLGMuZGl2aWRlVVJMKSh0LnJ1bnRpbWVVUkwpLHU9cy5kb21haW47aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciBsPSgwLGMuZGl2aWRlVVJMKShlKTtvPWwuZG9tYWluO3ZhciBmPWwuaWRlbnRpdHk7aT1mP2Yuc3Vic3RyaW5nKGYubGFzdEluZGV4T2YoIi8iKSsxKToiZGVmYXVsdCJ9ZWxzZSBpPSJkZWZhdWx0IixvPWU7aWYoYT0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIixpKSxvIT09dC5ydW50aW1lQ29uZmlndXJhdGlvbi5kb21haW4paWYoZS5pbmRleE9mKCJodHRwcyIpJiZlLmluZGV4T2YoImh5cGVydHktY2F0YWxvZ3VlIikpe3ZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIpO2E9ZC5wcmVmaXgrbytkLnN1ZmZpeCtpfWVsc2UgYT1lO3JldHVybiBwLmxvZygiTG9hZCBQcm90b2NvbFN0dWIgZm9yIGRvbWFpbiwgIitvKyIgOiAiLGEpLHQuY2F0YWxvZ3VlLmdldFN0dWJEZXNjcmlwdG9yKGEsITAsdC5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aT1vLG89dTt2YXIgcj0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiKTtyZXR1cm4gYT1yLnByZWZpeCtvK3Iuc3VmZml4K2ksdC5jYXRhbG9ndWUuZ2V0U3R1YkRlc2NyaXB0b3IoYSwhMCx0LmNvbnN0cmFpbnRzKX0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiZ2V0SWRwUHJveHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGE9KDAsYy5kaXZpZGVVUkwpKHQucnVudGltZVVSTCkscz1hLmRvbWFpbix1PXQuY29uc3RyYWludHM7aWYodS5jb25zdHJhaW50cy5vbmx5QWNjZXNzVG9rZW49ITAsdS5jb25zdHJhaW50cy5vbmx5SWRBc3NlcnRpb25WYWxpZGF0aW9uPSEwLGUuaW5jbHVkZXMoIjovLyIpKXt2YXIgbD0oMCxjLmRpdmlkZVVSTCkoZSk7bz1sLmRvbWFpbjt2YXIgZj1sLmlkZW50aXR5O2k9Zj9mLnN1YnN0cmluZyhmLmxhc3RJbmRleE9mKCIvIikrMSk6ImRlZmF1bHQifWVsc2UgaT0iZGVmYXVsdCIsbz1lO3ZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsImlkcFByb3h5Iik7cmV0dXJuIGU9ZC5wcmVmaXgrbytkLnN1ZmZpeCtpLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9byxvPXMsZT0oMCxjLmJ1aWxkVVJMKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwiaWRwUHJveHkiLGkpLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpfSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fV0pLERlc2NyaXB0b3JzfSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDQpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKSxjPXUuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTXNnQnVzSGFuZGxlcnMoZSx0LHIpe2lmKCgwLG8uZGVmYXVsdCkodGhpcyxNc2dCdXNIYW5kbGVycyksIWUpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gcGVwIGlucHV0IHBhcmFtZW50ZXIgaXMgbWFuZGF0b3J5Iik7aWYoIXQpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gaWRtIGlucHV0IHBhcmFtZW50ZSBpcyBtYW5kYXRvcnkiKTtpZighcil0aHJvdyBFcnJvcigiW01zZ0J1c0hhbmRsZXJzXSBjcnlwdG8gaW5wdXQgcGFyYW1lbnRlIGlzIG1hbmRhdG9yeSIpO3RoaXMucG9saWN5RW5naW5lPWUsdGhpcy5pZGVudGl0eU1hbmFnZXI9dCx0aGlzLmNyeXB0b01hbmFnZXI9cn1yZXR1cm4oMCxhLmRlZmF1bHQpKE1zZ0J1c0hhbmRsZXJzLFt7a2V5OiJwZXBJbkhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucG9saWN5RW5naW5lLmF1dGhvcmlzZSh0Lm1zZywhMCkudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJwZXBPdXRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UodC5tc2csITEpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiaWRtSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5pZGVudGl0eU1hbmFnZXIucHJvY2Vzc01lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiZW5jcnlwdEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuY3J5cHRvTWFuYWdlci5lbmNyeXB0TWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJkZWNyeXB0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5jcnlwdG9NYW5hZ2VyLmRlY3J5cHRNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLndhcm4oZSksdC5mYWlsKGUpfSl9fX1dKSxNc2dCdXNIYW5kbGVyc30oKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDQpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxmPXIoNiksZD1sLmdldExvZ2dlcigiQ29yZURpc2NvdmVyeSIpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb3JlRGlzY292ZXJ5KGUsdCxyLG4sbyl7aWYoKDAsYS5kZWZhdWx0KSh0aGlzLENvcmVEaXNjb3ZlcnkpLCFuKXRocm93IEVycm9yKCJUaGUgY2F0YWxvZ3VlIG5lZWRzIHRoZSBydW50aW1lRmFjdG9yeSIpO3ZhciBpPXRoaXM7dGhpcy5fbWVzc2FnZUJ1cz10LGkuZ3JhcGhDb25uZWN0b3I9cixpLmh0dHBSZXF1ZXN0PW4uY3JlYXRlSHR0cFJlcXVlc3QoKSxpLmRvbWFpbj0oMCxmLmRpdmlkZVVSTCkoZSkuZG9tYWluLGkuZGlzY292ZXJ5VVJMPWUrIi9kaXNjb3ZlcnkvIixpLnJlZ2lzdHJ5PW8saS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGkuZGlzY292ZXJ5VVJMLGZ1bmN0aW9uKGUpe2kuZGlzY292ZXJ5TWFuYWdlcihlKS50aGVuKGZ1bmN0aW9uKHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTp0fX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwLG49dm9pZCAwOyJHcmFwaENvbm5lY3RvciI9PT10PyhyPSJUaGlzIHNlYXJjaCBpcyBub3QgYXZhaWxhYmxlIGF0IHRoZSBtb21lbnQuIFRyeSBsYXRlci4iLG49NTAwKToocj0iTm90IEZvdW5kIixuPTQwNCksaS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixkZXNjcmlwdGlvbjpyfX0pfSl9KX1yZXR1cm4oMCx1LmRlZmF1bHQpKENvcmVEaXNjb3ZlcnksW3trZXk6ImRpc2NvdmVyeU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oKDAsZi5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluLGUuYm9keS5yZXNvdXJjZS5zcGxpdCgiLyIpLmZpbHRlcihCb29sZWFuKSksbj1bXSxpPVtdO3N3aXRjaChkLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJ5TWFuYWdlcl0gcmVjZWl2ZWQ6ICIsZSksZS5ib2R5LmNyaXRlcmlhJiYoZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyYmKG49ZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyksZS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzJiYoaT1lLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXMpKSxyWzFdKXtjYXNlInVzZXIiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJ1cmwiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTp0LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlIm5hbWUiOnJldHVybiB0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgibmFtZS8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJyZXBvcnRlciI6cmV0dXJuIHQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgicmVwb3J0ZXIvIilbMV0saSxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UiZ3VpZCI6cmV0dXJuIHZvaWQgMCE9PXQuZ3JhcGhDb25uZWN0b3ImJm51bGwhPT10LmdyYXBoQ29ubmVjdG9yPyJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKTtjYXNlInVzZXJwcm9maWxlIjpyZXR1cm4gdm9pZCAwIT09dC5ncmFwaENvbm5lY3RvciYmbnVsbCE9PXQuZ3JhcGhDb25uZWN0b3I/Imh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VycHJvZmlsZS8iKVsxXSxpLG4pOnQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXJwcm9maWxlLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKX19fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHM9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLHQscikudGhlbihmdW5jdGlvbihlKXtvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGEoIk5vIGh5cGVydGllcyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHM9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYSgiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpO2kodCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgcz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJIeXBlcnRpZXMoZS51SUQsdCxyLGUuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYSgiTm8gaHlwZXJ0aWVzIHdlcmUgZm91bmQiKTtpKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gYShlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgcz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJEYXRhT2JqZWN0cyhlLnVJRCx0LHIsZS5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oW10pfSl9KX0pO28uZGVmYXVsdC5hbGwocykudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBhKCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIithLGJvZHk6e319O3JldHVybiBlLmluZGV4T2YoInVzZXI6Ly8iKT4tMT9zLmJvZHkucmVzb3VyY2U9ZTpzLmJvZHkucmVzb3VyY2U9Ii9oeXBlcnR5L2lkcC1pZGVudGlmaWVyLyIrZSx0Lmxlbmd0aD4wJiYocy5ib2R5LmNyaXRlcmlhfHwocy5ib2R5LmNyaXRlcmlhPXt9KSxzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYXx8KHMuYm9keS5jcml0ZXJpYT17fSkscy5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMCxzPVtdO3JldHVybiBhPW58fGkuZG9tYWluLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obix1KXtpLmRpc2NvdmVySHlwZXJ0aWVzKGUsW10sW10sYSkudGhlbihmdW5jdGlvbihlKXt2YXIgYz1bXTtmb3IodmFyIGwgaW4gZSljLnB1c2goZVtsXSk7dmFyIGY9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihlLmh5cGVydHlJRCx0LHIsYSkudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChmKS50aGVuKGZ1bmN0aW9uKGUpe1tdLmNvbmNhdC5hcHBseShbXSxlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MucHVzaChlKX0pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBzKXQucHVzaChzW3JdKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHUoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTtuKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdShlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBpPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZTtpZighbilyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTtlKG4pfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIGk9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7aWYoIW4pcmV0dXJuIHQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIik7ZShuKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxhPXZvaWQgMDthPW58fGkuZG9tYWluO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK2EsYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiB0Lmxlbmd0aD4wJiYocy5ib2R5LmNyaXRlcmlhfHwocy5ib2R5LmNyaXRlcmlhPXt9KSxzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYXx8KHMuYm9keS5jcml0ZXJpYT17fSkscy5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLG89W107Zm9yKHZhciBpIGluIG4pby5wdXNoKG5baV0pO2lmKCEoby5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIik7ZShvKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMsYT12b2lkIDA7YT1ufHxpLmRvbWFpbjt2YXIgcz17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIithLGJvZHk6e3Jlc291cmNlOiIvY29tbSIsY3JpdGVyaWE6e3JlcG9ydGVyOmV9fX07cmV0dXJuIHQubGVuZ3RoPjAmJihzLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKHMuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBEYXRhT2JqZWN0IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJVc2VySWRzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ3JhcGhDb25uZWN0b3IucXVlcnlHbG9iYWxSZWdpc3RyeShlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZXx8IWUpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciB1c2VySURzIGJ5IEdVSUQiKTt2YXIgdD1lLnVzZXJJRHM7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuKCJVc2VySURzIG5vdCBhdmFpbGFibGUiKTtyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToiZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Lmh0dHBSZXF1ZXN0LmdldCgiaHR0cHM6Ly9yZXRoaW5rLnRsYWJzY2xvdWQuY29tL2Rpc2NvdmVyeS9yZXN0L2Rpc2NvdmVyL2xvb2t1cD9zZWFyY2hxdWVyeT0iK2UpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKSxvPXQucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZS5yZXRoaW5rSUR9KTtpZigwPT09by5sZW5ndGgpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciBHVUlEIGJ5IHVzZXIgaWRlbnRpZmllciIpO3ZhciBpPW8ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldGhpbmtJRH0pO3JldHVybiByKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fV0pLENvcmVEaXNjb3Zlcnl9KCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoODIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNDYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTYpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cigxKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNCksYj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGcpLF89cig2KSxtPXIoMjE4KSxSPWIuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YU9iamVjdHNTdG9yYWdlKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWFyZ3VtZW50c1syXSxuPWFyZ3VtZW50c1szXTtpZigoMCx5LmRlZmF1bHQpKHRoaXMsRGF0YU9iamVjdHNTdG9yYWdlKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTdG9yZSBEYXRhIE9iamVjdHNdIC0gTmVlZHMgdGhlIHN0b3JhZ2VNYW5hZ2VyIGNvbXBvbmVudCIpO3RoaXMuX3N0b3JhZ2VNYW5hZ2VyPWUsdGhpcy5fc3RvcmVEYXRhT2JqZWN0PXQsdGhpcy5fY2FjaGU9e30sdGhpcy5fY3JlYXRlU3luY0RCPW0uY3JlYXRlU3luY0RCLHRoaXMuX3JlbW90ZXM9e30sdGhpcy5fZmFjdG9yeT1yLHRoaXMuX3RhYmxlPSJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIix0aGlzLl9yZW1vdGVTdG9yYWdlVGFibGU9ImRhdGFPYmplY3RTdG9yYWdlIix0aGlzLl9yZW1vdGVTY2hlbWE9InVybCIsdGhpcy5fcnVudGltZVN0YXR1c1VwZGF0ZT1ufXJldHVybigwLHYuZGVmYXVsdCkoRGF0YU9iamVjdHNTdG9yYWdlLFt7a2V5OiJsb2FkUmVtb3RlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHI9dGhpcztyZXR1cm4gbmV3IGQuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPVtdLGE9W107ci5fc3RvcmFnZU1hbmFnZXIuZ2V0KG51bGwsbnVsbCwicmVtb3RlcyIpLnRoZW4oZnVuY3Rpb24ocyl7Ui5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cy5sb2FkUmVtb3RlXSByZW1vdGVzOiAiLHMpLHN8fG4oKSx0fHwoci5fcmVtb3Rlcz1zKSxSLmluZm8oIltTdG9yZURhdGFPYmplY3RzLmxvYWRSZW1vdGVdIGxvYWRpbmc6ICIsci5fcmVtb3Rlcyk7dmFyIHU9KDAsbC5kZWZhdWx0KShzKTswPT09dS5sZW5ndGgmJm4oKSx1LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49e30sbz10LnNwbGl0KCIvIilbM107bltvXT1lLl9yZW1vdGVTY2hlbWEsci5fcmVtb3Rlc1t0XT0oMCxtLmNyZWF0ZVN5bmNEQikodCxlLl9mYWN0b3J5LG4sZS5fcnVudGltZVN0YXR1c1VwZGF0ZSksaS5wdXNoKHIuX3JlbW90ZXNbdF0uZ2V0KG51bGwsbnVsbCxvKSl9KSxkLmRlZmF1bHQuYWxsKGkpLnRoZW4oZnVuY3Rpb24oKXtSLmxvZygiW1N0b3JlRGF0YU9iamVjdHMubG9hZFJlbW90ZV0gbG9hZGVkLiBTdGFydGluZyBpbml0IiksKDAsbC5kZWZhdWx0KShyLl9yZW1vdGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi8iKVszXTthLnB1c2goci5fcmVtb3Rlc1tlXS5nZXQobnVsbCxudWxsLHQpKX0pLGQuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7KDAsbC5kZWZhdWx0KSh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1IubG9nKCJbU3RvcmVEYXRhT2JqZWN0cy5sb2FkUmVtb3RlXSBsb2FkZWQgcmVtb3RlICIsdCk7dmFyIGE9ZS5fZ2V0VHlwZU9mT2JqZWN0KHRbaV0uaXNSZXBvcnRlcik7ci5fc3RvcmVEYXRhT2JqZWN0fHwoci5fc3RvcmVEYXRhT2JqZWN0PXt9KSxyLl9zdG9yZURhdGFPYmplY3QuaGFzT3duUHJvcGVydHkoYSl8fChyLl9zdG9yZURhdGFPYmplY3RbYV09e30pO3ZhciBzPVtdO3MucHVzaChyLl9zeW5jKGksdFtpXS5kYXRhLmJhY2t1cFJldmlzaW9uLCEwLGkuc3BsaXQoIi8iKVszXSkudGhlbihmdW5jdGlvbihlKXtyLl9zdG9yZURhdGFPYmplY3RbYV1baV09ZSxSLmxvZygiW1N0b3JlRGF0YU9iamVjdHMubG9hZFJlbW90ZV0gc3RvcmVEYXRhT2JqZWN0IHVwZGF0ZWQ6ICIsci5fc3RvcmVEYXRhT2JqZWN0KX0pKSxkLmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oKXtuKHIuX3N0b3JlRGF0YU9iamVjdCl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fcmVtb3Rlc1tpXS5kaXNjb25uZWN0KCkudGhlbihmdW5jdGlvbigpe1IubG9nKCJbRGF0YU9iamVjdFN0b3JhZ2UubG9hZFJlbW90ZV0gZGlzY29ubmVjdGVkICIpfSxmdW5jdGlvbihlKXtSLmVycm9yKCJbRGF0YU9iamVjdFN0b3JhZ2Uuc3luY10gRXJyb3Igc3luY2hpbmcgd2l0aCByZW1vdGUgc3RvcmFnZSIpLG8oZSl9KX0sMWUzKX0pfSl9LGZ1bmN0aW9uKGUpe28oZSl9KX0pfSxmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGQuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXQuX3N0b3JlRGF0YU9iamVjdD90Ll9zdG9yZURhdGFPYmplY3Q6e30saT10Ll9nZXRUeXBlT2ZPYmplY3QoZS5pc1JlcG9ydGVyKTtvLmhhc093blByb3BlcnR5KGkpfHwob1tpXT17fSksb1tpXS5oYXNPd25Qcm9wZXJ0eShlLnVybCl8fChvW2ldW2UudXJsXT17fSxvW2ldW2UudXJsXS5zdWJzY3JpcHRpb25zPVtdLG9baV1bZS51cmxdLnN1YnNjcmliZXJVc2Vycz1bXSxvW2ldW2UudXJsXS5jaGlsZHJlbk9iamVjdHM9e30sb1tpXVtlLnVybF0uZGF0YT17fSksKDAsdS5kZWZhdWx0KShvW2ldW2UudXJsXSxlKSxkZWxldGUgb1tpXVtlLnVybF0uc3Vic2NyaWJlclVzZXIsZGVsZXRlIG9baV1bZS51cmxdLnN1YnNjcmliZXJIeXBlcnR5LG9baV1bZS51cmxdLmJhY2t1cD0hIWUuaGFzT3duUHJvcGVydHkoImJhY2t1cCIpJiZlLmJhY2t1cCxlLnN1YnNjcmliZXJIeXBlcnR5JiYhZS5pc1JlcG9ydGVyJiZ0Ll91cGRhdGVUb0FycmF5KG9baV0sZS51cmwsInN1YnNjcmlwdGlvbnMiLGUuc3Vic2NyaWJlckh5cGVydHkpLGUuc3Vic2NyaWJlclVzZXImJm9baV1bZS51cmxdLnN1YnNjcmliZXJVc2Vycy5pbmRleE9mKGUuc3Vic2NyaWJlclVzZXIpJiZ0Ll91cGRhdGVUb0FycmF5KG9baV0sZS51cmwsInN1YnNjcmliZXJVc2VycyIsZS5zdWJzY3JpYmVyVXNlciksdC5fc3RvcmVEYXRhT2JqZWN0PW87dmFyIGE9ISFlLmhhc093blByb3BlcnR5KCJiYWNrdXAiKSYmZS5iYWNrdXAscz1hP2UudXJsOnQuX3RhYmxlLGM9YT9zLnNwbGl0KCIvIilbM106dC5fdGFibGU7aWYoYSYmIXQuX3JlbW90ZXNbc10pe3ZhciBsPXt9O2xbY109dC5fcmVtb3RlU2NoZW1hLHQuX3JlbW90ZXNbc109KDAsbS5jcmVhdGVTeW5jREIpKHMsdC5fZmFjdG9yeSxsLHQuX3J1bnRpbWVTdGF0dXNVcGRhdGUpfWEmJnQuX3N0b3JhZ2VNYW5hZ2VyLnNldChlLnVybCwwLGUudXJsLCJyZW1vdGVzIik7dmFyIGY9YT90Ll9yZW1vdGVzW3NdOnQuX3N0b3JhZ2VNYW5hZ2VyO2lmKGUuaXNSZXBvcnRlciYmYSl7dmFyIGQ9e3RhYmxlOmN9O2YuY29ubmVjdChkKS50aGVuKGZ1bmN0aW9uKCl7Zi5zZXQocywwLG9baV1bZS51cmxdLGMpLnRoZW4oZnVuY3Rpb24oKXtyKG9baV1bZS51cmxdKX0pfSxmdW5jdGlvbih0KXtSLmVycm9yKCJbRGF0YU9iamVjdFN0b3JhZ2Uuc2V0XSBmYWlsZWQgdG8gY29ubmVjdCB3aXRoIHJlbW90ZSBzdG9yYWdlOiAiLHQsIiB0cnlpbmcgYWdhaW4uLi4iKSxmLmNvbm5lY3QoZCkudGhlbihmdW5jdGlvbigpe2Yuc2V0KHMsMSxvW2ldW2UudXJsXSxjKSxyKG9baV1bZS51cmxdKX0sZnVuY3Rpb24odCl7Ui5lcnJvcigiW0RhdGFPYmplY3RTdG9yYWdlLnNldF0gZmFpbGVkIHRvIGNvbm5lY3Qgd2l0aCByZW1vdGUgc3RvcmFnZTogIix0KSxyKG9baV1bZS51cmxdKX0pfSl9ZWxzZSBmLnNldChzLDEsbyxjKS50aGVuKGZ1bmN0aW9uKCl7cihvW2ldW2UudXJsXSl9KX0pfX0se2tleToic2F2ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LHM9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFpfHwhaVtzXXx8IWlbc11bdF0pcmV0dXJuIHZvaWQgUi5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZSBkYXRhXSAtIG5vdCBzYXZlZCIpO2lmKFIubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmVEYXRhXSAtICIsZSxzLHQscixuKSxpW3NdW3RdLmhhc093blByb3BlcnR5KCJkYXRhIil8fChpW3NdW3RdLmRhdGE9e30pLHIpe3ZhciB1PXZvaWQgMDt1PSJvYmplY3QiPT09KHZvaWQgMD09PW4/InVuZGVmaW5lZCI6KDAsYS5kZWZhdWx0KShuKSk/KDAsXy5kZWVwQ2xvbmUpKG4pOm4sKDAsXy5hc3NpZ24pKGlbc11bdF0uZGF0YSxyLHUpfWVsc2UgaVtzXVt0XS5kYXRhPSgwLF8uZGVlcENsb25lKShuKXx8e307dGhpcy5fc3RvcmVEYXRhT2JqZWN0PWk7dmFyIGM9aVtzXVt0XS5iYWNrdXA/aVtzXVt0XS51cmw6InN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLGw9aVtzXVt0XS5iYWNrdXA/dGhpcy5fcmVtb3Rlc1tjXTp0aGlzLl9zdG9yYWdlTWFuYWdlcixmPWlbc11bdF0uYmFja3VwP2Muc3BsaXQoIi8iKVszXTp0aGlzLl90YWJsZSxkPWlbc11bdF0uYmFja3VwP2lbc11bdF06aTtsLnNldChjLDEsZCxmLG8pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaVtzXVt0XX0sZnVuY3Rpb24oZSl7cmV0dXJuIGlbc11bdF19KX19LHtrZXk6InNhdmVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighb3x8IW9baV18fCFvW2ldW3RdKXJldHVybiB2b2lkIFIubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmUgY2hpbGRyZW5zXSAtIG5vdCBzYXZlZCIpO29baV1bdF0uaGFzT3duUHJvcGVydHkoImNoaWxkcmVucyIpfHwob1tpXVt0XS5jaGlsZHJlbk9iamVjdHM9e30pLHI/KDAsXy5hc3NpZ24pKG9baV1bdF0uY2hpbGRyZW5PYmplY3RzLHIsKDAsXy5kZWVwQ2xvbmUpKG4pKTpvW2ldW3RdLmNoaWxkcmVuT2JqZWN0cz0oMCxfLmRlZXBDbG9uZSkobil8fHt9LHRoaXMuX3N0b3JlRGF0YU9iamVjdD1vO3ZhciBhPW9baV1bdF0uYmFja3VwP29baV1bdF0udXJsOiJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIixzPW9baV1bdF0uYmFja3VwP3RoaXMuX3JlbW90ZXNbYV06dGhpcy5fc3RvcmFnZU1hbmFnZXIsdT1vW2ldW3RdLmJhY2t1cD9hLnNwbGl0KCIvIilbM106dGhpcy5fdGFibGUsYz1vW2ldW3RdLmJhY2t1cD9vW2ldW3RdOm87cy5zZXQoYSwxLGMsdSkudGhlbihmdW5jdGlvbigpe3JldHVybiBvW2ldW3RdfSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LGE9dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO2lmKCFpfHwhaVthXXx8IWlbYV1bdF0pcmV0dXJuIHZvaWQgUi5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gdXBkYXRlXSAtIG5vdCBzYXZlZCIpO2lmKFIubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHVwZGF0ZV0gLSAiLGUsYSx0LHIsbiksaVthXSYmaVthXVt0XSYmdCYmciYmbil7aWYoInN1YnNjcmlwdGlvbnMiPT09cnx8InN1YnNjcmliZXJVc2VycyI9PT1yKXt2YXIgcz0hMDsic3Vic2NyaXB0aW9ucyI9PT1yJiYocz0hdGhpcy5faXNPd25lcihpW2FdW3RdLG4pKSxzJiZ0aGlzLl91cGRhdGVUb0FycmF5KGlbYV0sdCxyLG4pfWVsc2UgaVthXVt0XVtyXT1uO3RoaXMuX3N0b3JlRGF0YU9iamVjdD1pO3ZhciB1PWlbYV1bdF0uYmFja3VwP2lbYV1bdF0udXJsOiJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIixjPWlbYV1bdF0uYmFja3VwP3RoaXMuX3JlbW90ZXNbdV06dGhpcy5fc3RvcmFnZU1hbmFnZXIsbD1pW2FdW3RdLmJhY2t1cD91LnNwbGl0KCIvIilbM106dGhpcy5fdGFibGUsZj1pW2FdW3RdLmJhY2t1cD9pW2FdW3RdOmk7Yy5zZXQodSwxLGYsbCxvKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGlbYV1bdF19KX19fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighb3x8IW9baV18fCFvW2ldW3RdKXJldHVybiB2b2lkIFIubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGRlbGV0ZV0gLSBub3Qgc2F2ZWQiKTtpZihvW2ldJiZvW2ldW3RdJiZ0JiZyJiZuKXsic3Vic2NyaXB0aW9ucyI9PT1yfHwic3Vic2NyaWJlclVzZXJzIj09PXI/dGhpcy5fcmVtb3ZlRnJvbUFycmF5KG9baV0sdCxyLG4pOmRlbGV0ZSBvW2ldW3RdW3JdLHRoaXMuX3N0b3JlRGF0YU9iamVjdD1vO3ZhciBhPW9baV1bdF0uYmFja3VwP29baV1bdF0udXJsOiJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIixzPW9baV1bdF0uYmFja3VwP3RoaXMuX3JlbW90ZXNbYV06dGhpcy5fc3RvcmFnZU1hbmFnZXIsdT1vW2ldW3RdLmJhY2t1cD9hLnNwbGl0KCIvIilbM106dGhpcy5fdGFibGUsYz1vW2ldW3RdLmJhY2t1cD9vW2ldW3RdOm87cmV0dXJuIHMuc2V0KGEsMSxjLHUpLG9baV1bdF19fX0se2tleToiZGVsZXRlUmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBkLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlKXtSLmluZm8oIltEYXRhT2JqZWN0U3RvcmFnZS5kZWxldGVSZXNvdXJjZV0gZGVsZXRpbmc6ICIsZSk7dmFyIG89dm9pZCAwLGk9dm9pZCAwLGE9dm9pZCAwO3JldHVybiB0Ll9zdG9yZURhdGFPYmplY3QuaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpJiZ0Ll9zdG9yZURhdGFPYmplY3Qub2JzZXJ2ZXJzLmhhc093blByb3BlcnR5KGUpJiYobz0hIXQuX3N0b3JlRGF0YU9iamVjdC5vYnNlcnZlcnNbZV0uYmFja3VwLGk9bz90Ll9zdG9yZURhdGFPYmplY3Qub2JzZXJ2ZXJzW2VdLnVybDoic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsYT1vP3QuX3JlbW90ZXNbaV06dC5fc3RvcmFnZU1hbmFnZXIsZGVsZXRlIHQuX3N0b3JlRGF0YU9iamVjdC5vYnNlcnZlcnNbZV0pLHQuX3N0b3JlRGF0YU9iamVjdC5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIikmJnQuX3N0b3JlRGF0YU9iamVjdC5yZXBvcnRlcnMuaGFzT3duUHJvcGVydHkoZSkmJihvPSEhdC5fc3RvcmVEYXRhT2JqZWN0LnJlcG9ydGVyc1tlXS5iYWNrdXAsaT1vP3QuX3N0b3JlRGF0YU9iamVjdC5yZXBvcnRlcnNbZV0udXJsOiJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIixhPW8/dC5fcmVtb3Rlc1tpXTp0Ll9zdG9yYWdlTWFuYWdlcixkZWxldGUgdC5fc3RvcmVEYXRhT2JqZWN0LnJlcG9ydGVyc1tlXSksbyYmYT9hLmRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24oKXtkZWxldGUgdC5fcmVtb3Rlc1tpXSx0Ll9zdG9yYWdlTWFuYWdlci5kZWxldGUoZSxudWxsLCJyZW1vdGVzIil9KTphLnNldChpLDEsdC5fc3RvcmVEYXRhT2JqZWN0KSxyKCl9bihuZXcgRXJyb3IoIltTdG9yZURhdGFPYmplY3RzXSAtIENhbid0IGRlbGV0ZSB0aGlzICIrZSkpfSl9fSx7a2V5OiJnZXRBbGwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBkLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9zdG9yZURhdGFPYmplY3Q9ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIikudGhlbihmdW5jdGlvbihlKXt0Ll9zdG9yZURhdGFPYmplY3Q9ZSx0LmxvYWRSZW1vdGUoITApLnRoZW4oZnVuY3Rpb24oZSl7cih0Ll9zdG9yZURhdGFPYmplY3QpfSl9KX0pfX0se2tleToic3luYyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLG49dGhpcztpZihuLl9yZW1vdGVzW2VdKXt2YXIgbz1lLnNwbGl0KCIvIilbM107aWYodClyZXR1cm4gbi5fc3luYyhlLHQscixvKTtuLl9yZW1vdGVzW2VdLmdldEJhY2t1cFJldmlzaW9uKGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX3N5bmMoZSx0LHIsbyl9KX1lbHNle3ZhciBpPSJbRGF0YU9iamVjdFN0b3JhZ2Uuc3luY10gSW5mbzogIitlKyIgaXMgbm90IHN5bmNoZWQgd2l0aCByZW1vdGUgc3RvcmFnZS4iO1IuaW5mbyhpKX19fSx7a2V5OiJfc3luYyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcztyZXR1cm4gbmV3IGQuZGVmYXVsdChmdW5jdGlvbihpLGEpe3ZhciBzPXt0YWJsZTpuLG9ic2VydmVyOiExLHN5bmNlZFJldmlzaW9uOnQrM307by5fcmVtb3Rlc1tlXS5jb25uZWN0KHMpLnRoZW4oZnVuY3Rpb24oKXtvLl9yZW1vdGVzW2VdLmdldChudWxsLG51bGwsbikudGhlbihmdW5jdGlvbih0KXtSLmluZm8oIltEYXRhT2JqZWN0U3RvcmFnZS5zeW5jXSByZXR1cm5pbmcgc3luY2hlZCBETzogIix0KSxyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5fcmVtb3Rlc1tlXS5kaXNjb25uZWN0KCkudGhlbihmdW5jdGlvbigpe1IuaW5mbygiW0RhdGFPYmplY3RTdG9yYWdlLnN5bmNdIGRpc2Nvbm5lY3RlZCAiKX0sZnVuY3Rpb24oZSl7Ui5lcnJvcigiW0RhdGFPYmplY3RTdG9yYWdlLnN5bmNdIEVycm9yIHN5bmNoaW5nIHdpdGggcmVtb3RlIHN0b3JhZ2UiKSxhKGUpfSl9LDJlMyksaSh0W2VdKX0sZnVuY3Rpb24oZSl7Ui5lcnJvcigiW0RhdGFPYmplY3RTdG9yYWdlLnN5bmNdIEVycm9yIHJldHJpZXZpbmcgc3RvcmVkIGRhdGEgb2JqZWN0IiksYShlKX0pfSxmdW5jdGlvbih0KXtSLmVycm9yKCJbRGF0YU9iamVjdFN0b3JhZ2Uuc3luY10gRXJyb3IgY29ubmVjdGluZyB0byByZW1vdGUgc3RvcmFnZSAiLHQpLG8uX3JlbW90ZXNbZV0uZ2V0KG51bGwsbnVsbCxuKS50aGVuKGZ1bmN0aW9uKHQpe1IuaW5mbygiW0RhdGFPYmplY3RTdG9yYWdlLnN5bmNdIHJldHVybmluZyBzeW5jaGVkIERPOiAiLHQpLGkodFtlXSl9KX0pfSl9fSx7a2V5OiJzdG9wU3luYyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcmVtb3Rlc1tlXSYmdGhpcy5fcmVtb3Rlc1tlXS5kaXNjb25uZWN0KCl9fSx7a2V5OiJnZXREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgZC5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dC5fc3RvcmVEYXRhT2JqZWN0LGk9by5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIik/by5vYnNlcnZlcnM6e30sYT1vLmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKT9vLnJlcG9ydGVyczp7fSxzPSgwLGwuZGVmYXVsdCkoYSkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSx1PSgwLGwuZGVmYXVsdCkoaSkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSxjPXZvaWQgMDtyZXR1cm4gdSYmKGM9by5vYnNlcnZlcnNbdV0pLHMmJihjPW8ucmVwb3J0ZXJzW3NdKSxSLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSBmb3Igb2JzZXJ2ZXI6ICIsdSksUi5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gZm9yIHJlcG9ydGVyczogIixzKSxSLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSByZXNvbHZlOiAiLGMpLGM/cihjKTpuKCJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCIpfSl9fSx7a2V5OiJnZXRSZXNvdXJjZXNCeUNyaXRlcmlhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBkLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89ci5fZ2V0VHlwZU9mT2JqZWN0KHQpO3IuZ2V0QWxsKHQpLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIFIubG9nKCJbRGF0YU9iamVjdHNTdG9yYWdlLmdldFJlc291cmNlc0J5Q3JpdGVyaWFdIGRvbid0IGhhdmUgc3RvcmVkIGRhdGEgb2JqZWN0cyIpLG4obnVsbCk7aWYoZS5ib2R5JiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc3VtZSIpJiYhZS5ib2R5LnJlc3VtZSlyZXR1cm4gbihudWxsKTt2YXIgaT1bXSxhPXIuX2hhc1N1YnNjcmlwdGlvbih0W29dLGUuZnJvbSkscz1yLl9zZWFyY2hPd25lcih0W29dLGUuZnJvbSksdT1yLl9jaGVja1Byb3Rvc3R1YlJlc3VtZSh0LGUpO2lmKFIubG9nKCJbU3RvcmVkRGF0YU9iamVjdHMgLSBnZXRSZXNvdXJjZXNCeUNyaXRlcmlhXToiLHQsZSxhLHMpLCEoZS5oYXNPd25Qcm9wZXJ0eSgiZnJvbSIpJiZhfHxzfHx1KSlyZXR1cm4gbihudWxsKTt2YXIgYz12b2lkIDA7Yz1zP3IuX2dldFJlc291cmNlc0J5T3duZXIodFtvXSxlLmZyb20pOnIuX2dldFJlc291cmNlc0J5U3Vic2NyaXB0aW9uKHRbb10sZS5mcm9tKTt2YXIgZj1bXTtlLmJvZHkmJmUuYm9keS5pZGVudGl0eSYmKGY9ci5fZ2V0UmVzb3VyY2VzQnlJZGVudGl0eSh0W29dLGUuYm9keS5pZGVudGl0eSkpO3ZhciBkPVtdO2UuYm9keSYmZS5ib2R5LnNjaGVtYSYmKGQ9ci5fZ2V0UmVzb3VyY2VzQnlTY2hlbWEodFtvXSxlLmJvZHkuc2NoZW1hKSk7dmFyIHA9W107aWYoZS5ib2R5JiZlLmJvZHkudmFsdWUpe3ZhciB5PWUuYm9keS52YWx1ZTtkZWxldGUgeS5kYXRhLHA9ci5fZ2V0UmVzb3VyY2VzQnlNZXRhZGF0YSh0W29dLHkpfXZhciBoPVtdO2lmKGUuYm9keSYmZS5ib2R5LnZhbHVlJiZlLmJvZHkudmFsdWUuZGF0YSYmKGg9ci5fZ2V0UmVzb3VyY2VzQnlEYXRhKHRbb10sZS5ib2R5LnZhbHVlLmRhdGEpKSxpPXIuX2ludGVyc2VjdGlvbihjLGYsZCxoLHApLDA9PWkubGVuZ3RoJiZ1JiYib2JzZXJ2ZXJzIj09byYmZS5mcm9tLnNwbGl0KCJwcm90b3N0dWIiKS5sZW5ndGg+MCl7dmFyIHY9dFtvXSxnPSgwLF8uZGl2aWRlVVJMKShlLmZyb20pLmRvbWFpbjsoMCxsLmRlZmF1bHQpKHYpLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD12W2VdLnN1YnNjcmlwdGlvbnM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpeygwLF8uZGl2aWRlVVJMKSh0KS5kb21haW49PWcmJmkucHVzaChlKX0pfSl9dmFyIGI9e307aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXRbb11bZV07cmV0dXJuIGJbZV09cixifSksUi5sb2coIltTdG9yZSBEYXRhIE9iamVjdHNdIC0gIixiKSxuKGIpfSl9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeUlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLGwuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmliZXJVc2Vycy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxsLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5yZXBvcnRlcj09PXR9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oMCxsLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeVNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oMCxsLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdO3JldHVybigwLGwuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJzY2hlbWEiPT09ZSYmbltlXT09PXR9KS5sZW5ndGh9KX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeU1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0PygwLGwuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07cmV0dXJuKDAsbC5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuKDAsbC5kZWZhdWx0KSh0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGU9PT1yJiZuW2VdPT09dFtyXX0pLmxlbmd0aH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5RGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8oMCxsLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXt2YXIgbj1lW3JdLmhhc093blByb3BlcnR5KCJkYXRhIik/ZVtyXS5kYXRhOnt9O3JldHVybigwLGwuZGVmYXVsdCkobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybigwLGwuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlPT09ciYmbltlXT09PXRbcl19KS5sZW5ndGh9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9oYXNTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiYoMCxsLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KS5sZW5ndGg+MH19LHtrZXk6Il9zZWFyY2hPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJigwLGwuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnJlcG9ydGVyPT09dH0pLmxlbmd0aD4wfX0se2tleToiX2NoZWNrUHJvdG9zdHViUmVzdW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiExO2lmKHQuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmdC5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiZ0LmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikpe3ZhciByPXQuYm9keS52YWx1ZS5yZXBvcnRlcjtpZihlLmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKSl7dmFyIG49ZS5yZXBvcnRlcnM7cmV0dXJuKDAsbC5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0ucmVwb3J0ZXI9PT1yfSkubGVuZ3RoPjB9cmV0dXJuITF9aWYoZS5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIikpe3ZhciBvPWUub2JzZXJ2ZXJzLGk9KDAsXy5kaXZpZGVVUkwpKHQuZnJvbSkuZG9tYWluO3JldHVybigwLGwuZGVmYXVsdCkobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PW9bZV0uc3Vic2NyaXB0aW9ucyxyPSExO2lmKHQuZm9yRWFjaChmdW5jdGlvbihlKXsoMCxfLmRpdmlkZVVSTCkoZSkuZG9tYWluPT1pJiYocj0hMCl9KSxyKXJldHVybiEwfSkubGVuZ3RoPjB9fX0se2tleToiX2lzT3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiZlLnJlcG9ydGVyPT09dH19LHtrZXk6Il9pbnRlcnNlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsby5kZWZhdWx0KShhcmd1bWVudHMpLHQ9ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KS5maWx0ZXIoZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmluZGV4T2YoZSk9PT10fSk7cmV0dXJuIFIubG9nKCJEYXRhT2JqZWN0c1N0b3JhZ2UuX2ludGVyc2VjdGlvbl0gUmVzdWx0IGFuIHVuaXF1ZSBhcnJheSBvZiBzdHJpbmdzOiAiLHQpLHR9fSx7a2V5OiJfdXBkYXRlVG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Ui5sb2coIltEYXRhT2JqZWN0c1N0b3JhZ2VdIC0gX3VwZGF0ZVRvQXJyYXk6ICIsZSx0LHIsbiksLTE9PT1lW3RdW3JdLmluZGV4T2YobikmJmVbdF1bcl0ucHVzaChuKX19LHtrZXk6Il9yZW1vdmVGcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWVbdF1bcl0uaW5kZXhPZihuKTstMT09PW8mJmVbdF1bcl0uc3BsaWNlKG8sMSl9fSx7a2V5OiJfaGFzVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0KSYmZVt0XT09PXJ9fSx7a2V5OiJfZ2V0VHlwZU9mT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8icmVwb3J0ZXJzIjoib2JzZXJ2ZXJzIn19XSksRGF0YU9iamVjdHNTdG9yYWdlfSgpO3QuZGVmYXVsdD1PLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtyKDgwKSxyKDUzMyksZS5leHBvcnRzPXIoMTEpLkFycmF5LmZyb219LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2OSksbz1yKDI2KSxpPXIoNzYpLGE9cigxOTcpLHM9cigxOTgpLHU9cigxMzMpLGM9cig1MzQpLGw9cigxNDMpO28oby5TK28uRiohcigyMDMpKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSwiQXJyYXkiLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxmLGQ9aShlKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkseT1hcmd1bWVudHMubGVuZ3RoLGg9eT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1oLGc9MCxiPWwoZCk7aWYodiYmKGg9bihoLHk+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSx2b2lkIDA9PWJ8fHA9PUFycmF5JiZzKGIpKWZvcih0PXUoZC5sZW5ndGgpLHI9bmV3IHAodCk7dD5nO2crKyljKHIsZyx2P2goZFtnXSxnKTpkW2ddKTtlbHNlIGZvcihmPWIuY2FsbChkKSxyPW5ldyBwOyEobz1mLm5leHQoKSkuZG9uZTtnKyspYyhyLGcsdj9hKGYsaCxbby52YWx1ZSxnXSwhMCk6by52YWx1ZSk7cmV0dXJuIHIubGVuZ3RoPWcscn19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ0KSxvPXIoNzkpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsbygwLHIpKTplW3RdPXJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE2KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDQpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShmKSxwPXIoNikseT1yKDUzNiksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIkh5cGVydHlSZXNvdXJjZXNTdG9yYWdlIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlKGUsdCxyLG4pe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSksIXIpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UgY29uc3RydWN0b3JdIG1hbmRhdG9yeSBzdG9yYWdlTWFuYWdlciBwYXJhbWV0ZXIgbWlzc2luZyIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgcnVudGltZVVSTCBwYXJhbWV0ZXIgbWlzc2luZyIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgYnVzIHBhcmFtZXRlciBtaXNzaW5nIik7dmFyIG89dGhpcztvLl9idXM9dCxvLl9zdG9yYWdlTGltaXQ9Ljksby5fdXJsPWUrIi9zdG9yYWdlIixvLl9zdG9yYWdlTWFuYWdlcj1yLG8ucHJvbWlzZVF1ZXVlPW5ldyBoLmRlZmF1bHQsby5faHlwZXJ0eVJlc291cmNlcz1uLHQuYWRkTGlzdGVuZXIoby5fdXJsLGZ1bmN0aW9uKGUpe3N3aXRjaCh2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gTWVzc2FnZSBSQ1Y6ICIsZSksZS50eXBlKXtjYXNlImNyZWF0ZSI6by5fb25DcmVhdGUoZSk7YnJlYWs7Y2FzZSJyZWFkIjpvLl9vblJlYWQoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOm8uX29uRGVsZXRlKGUpfX0pfXJldHVybigwLGwuZGVmYXVsdCkoSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UsW3trZXk6ImNoZWNrU3RvcmFnZVF1b3RhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtpZihlLl9hdmFpbGFibGVRdW90YSYmZS5fdXNhZ2UpcmV0dXJuIHQoKDAscC5hdmFpbGFibGVTcGFjZSkoZS5fdXNhZ2UsZS5fYXZhaWxhYmxlUXVvdGEpKTtuYXZpZ2F0b3ImJm5hdmlnYXRvci5zdG9yYWdlLmVzdGltYXRlKCkudGhlbihmdW5jdGlvbihyKXtlLl9hdmFpbGFibGVRdW90YT1yLnF1b3RhLGUuX3VzYWdlPXIudXNhZ2UsdCgoMCxwLmF2YWlsYWJsZVNwYWNlKShlLl91c2FnZSxlLl9hdmFpbGFibGVRdW90YSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7di5lcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlXSBDaGVja1N0b3JhZ2VRdW90YSBlcnJvcjogIixlKSxyKGUpfSl9KX19LHtrZXk6Il9vbkNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5fHwhZS5ib2R5LnZhbHVlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkNyZWF0ZV0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSB2YWx1ZSBtaXNzaW5nOiAiLGUpO3ZhciByPWUuYm9keS52YWx1ZSxuPXIuY29udGVudFVSTCxvPSIiO2lmKG4pe3ZhciBpPW5bMF0sYT1pLnN1YnN0cihpLmxhc3RJbmRleE9mKCIvIikrMSk7bz10Ll91cmwrIi8iK2F9ZWxzZSBuPVtdLG89dC5fdXJsKyIvIisoMCxwLmdlbmVyYXRlR1VJRCkoKTt0Ll9oeXBlcnR5UmVzb3VyY2VzLmhhc093blByb3BlcnR5KG8pfHwobi5wdXNoKG8pLHIuY29udGVudFVSTD1uKSx0aGlzLl9oeXBlcnR5UmVzb3VyY2VzW29dPXIsdGhpcy5wcm9taXNlUXVldWUuYWRkKHRoaXMuX3RvU2F2ZShvLGUscikpfX0se2tleToiX3RvU2F2ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obyxpKXt2YXIgYT1mdW5jdGlvbihyKXt2YXIgbz17ZnJvbTp0LnRvLHRvOnQuZnJvbSxpZDp0LmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont2YWx1ZTplLGNvZGU6NTAwLGRlc2NyaXB0aW9uOnJ9fTtyZXR1cm4gbi5fYnVzLnBvc3RNZXNzYWdlKG8pLGkocil9O24uY2hlY2tTdG9yYWdlUXVvdGEoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKHIuc2l6ZT5lLnF1b3RhKXt2YXIgdD0iVGhlIHN0b3JhZ2UgZG8gbm90IGhhdmUgc3BhY2UgdG8gc3RvcmUgdGhhdCByZXNvdXJjZSI7dGhyb3cgYSh0KSxFcnJvcih0KX12YXIgbz1lLnF1b3RhLGk9ZS51c2FnZStyLnNpemU7cmV0dXJuIShlLnBlcmNlbnQ+PW4uX3N0b3JhZ2VMaW1pdHx8aT5vKXx8bi5fZ2V0T2xkZXJSZXNvdXJjZXMoci5zaXplKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5fc3RvcmFnZU1hbmFnZXIuc2V0KGUsMSxyKX0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgcj17ZnJvbTp0LnRvLHRvOnQuZnJvbSxpZDp0LmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont2YWx1ZTplLGNvZGU6MjAwfX07cmV0dXJuIG4uX2J1cy5wb3N0TWVzc2FnZShyKSx2LmxvZygiU3VjY2VzcyIpLG8oKX0pLmNhdGNoKGEpfSl9fSx7a2V5OiJfZ2V0T2xkZXJSZXNvdXJjZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9zdG9yYWdlTWFuYWdlci5nZXQoKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBzPSgwLG8uZGVmYXVsdCkoaSksdT0wLGM9cy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlbZV0uY3JlYXRlZDxpW3RdLmNyZWF0ZWR9KS5yZWR1Y2UoZnVuY3Rpb24ocixuKXt2YXIgbz10Ll9oeXBlcnR5UmVzb3VyY2VzW25dO3JldHVybiB2LmxvZygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlXSBfZ2V0T2xkZXJSZXNvdXJjZXM6ICIsdSxlLG4sdC5fYXZhaWxhYmxlUXVvdGEpLHU8PWUmJih1Kz1vLnNpemUsci5wdXNoKG4pKSxyfSxbXSksbD1jLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5fc3RvcmFnZU1hbmFnZXIuZGVsZXRlKGUpfSk7YS5kZWZhdWx0LmFsbChsKS50aGVuKGZ1bmN0aW9uKCl7cighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX0pfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5fHwhZS5ib2R5LnJlc291cmNlKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vblJlYWRdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgcmVzb3VyY2UgbWlzc2luZzogIixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ont9fTt2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBnZXQgcmVzb3VyY2VVUkw6IixyKSx0aGlzLl9zdG9yYWdlTWFuYWdlci5nZXQoInJlc291cmNlVVJMIixyKS50aGVuKGZ1bmN0aW9uKGUpe3YuaW5mbygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vblJlYWRdIGZvdW5kIGNvbnRlbnQ6IixlKSxlPyJmaWxlIj09PWUucmVzb3VyY2VUeXBlP3QuX29uUmVhZEZpbGUobixlKToobi5ib2R5LmNvZGU9MjAwLG4uYm9keS5wMnA9ITAsbi5ib2R5LnZhbHVlPWUsdC5fYnVzLnBvc3RNZXNzYWdlKG4pKToobi5ib2R5LmNvZGU9NDA0LG4uYm9keS5kZXNjPSJDb250ZW50IE5vdCBGb3VuZCBmb3IgIityLHQuX2J1cy5wb3N0TWVzc2FnZShuKSl9KX19LHtrZXk6Il9vblJlYWRGaWxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1uZXcgRmlsZVJlYWRlcjtpZihuLm9ubG9hZD1mdW5jdGlvbihuKXt2LmluZm8oIltGaWxlSHlwZXJ0eVJlc291cmNlLmluaXRdIGZpbGUgbG9hZGVkICIsbiksZS5ib2R5LmNvZGU9MjAwLGUuYm9keS5wMnA9ITAsZS5ib2R5LnZhbHVlPSgwLHAuZGVlcENsb25lKSh0KSxlLmJvZHkudmFsdWUuY29udGVudD1uLnRhcmdldC5yZXN1bHQsci5fYnVzLnBvc3RNZXNzYWdlKGUpfSx0Lm1pbWV0eXBlLmluY2x1ZGVzKCJ0ZXh0LyIpKW4ucmVhZEFzVGV4dCh0LmNvbnRlbnQpO2Vsc2V7dmFyIG89dC5jb250ZW50LGk9dm9pZCAwO2k9QXJyYXkuaXNBcnJheShvKT9uZXcgQmxvYihvLHt0eXBlOnQubWltZXR5cGV9KTpuZXcgQmxvYihbb10se3R5cGU6dC5taW1ldHlwZX0pLG4ucmVhZEFzQXJyYXlCdWZmZXIoaSl9fX0se2tleToiX29uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHkpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uRGVsZXRlXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IG1pc3Npbmc6ICIsZSk7aWYoZS5ib2R5LnJlc291cmNlKWRlbGV0ZSB0Ll9oeXBlcnR5UmVzb3VyY2VzW2UuYm9keS5yZXNvdXJjZV07ZWxzZXtpZighZS5ib2R5LnJlc291cmNlcyl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25EZWxldGVdIG1hbmRhdG9yeSByZXNvdXJjZSBtaXNzaW5nOiAiLGUpO2UuYm9keS5yZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgdC5faHlwZXJ0eVJlc291cmNlc1tlXX0pfXQuX3N0b3JhZ2VNYW5hZ2VyLmRlbGV0ZSgicmVzb3VyY2VVUkwiLGUuYm9keS5yZXNvdXJjZSkudGhlbihmdW5jdGlvbigpe3ZhciByPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6MjAwfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfSkuY2F0Y2goZnVuY3Rpb24ocil7dmFyIG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7Y29kZTo0MDAsZGVzY3JpcHRpb246cn19O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfX1dKSxIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZX0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDUzNyksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMiksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQcm9taXNlUXVldWUoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLFByb21pc2VRdWV1ZSksdGhpcy5mbHVzaGluZz0hMSx0aGlzLlByb21pc2U9YS5kZWZhdWx0LHRoaXMuY29uY3VycmVuY3k9Im51bWJlciIhPXR5cGVvZiBlPzE6ZSx0aGlzLnByb21pc2VzPVtdLHRoaXMucXVldWU9W10sdGhpcy5pc1Byb2Nlc3Npbmc9ITF9cmV0dXJuKDAsbC5kZWZhdWx0KShQcm9taXNlUXVldWUsW3trZXk6ImRvbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbGJhY2s9ZX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnF1ZXVlLnB1c2goZSksIXRoaXMuaXNQcm9jZXNzaW5nKXJldHVybiB0aGlzLnF1ZXVlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtyZXR1cm5bXS5jb25jYXQoKDAsby5kZWZhdWx0KShlKSxbdF0pfSl9KX0sYS5kZWZhdWx0LnJlc29sdmUoW10pKS50aGVuKGZ1bmN0aW9uKGUpe3QuaXNQcm9jZXNzaW5nPSExfSl9fV0pLFByb21pc2VRdWV1ZX0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIxOSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxyPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9cmV0dXJuKDAsby5kZWZhdWx0KShlKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDIyMCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDE2KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDEpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig0KSx5PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHApLGg9cig2KSx2PXIoMTA0KSxnPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQodiksYj1yKDU0MiksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGIpLG09cig1NDMpLFI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxPPXIoMTA1KSx3PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKE8pLGs9eS5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksUz1mdW5jdGlvbigpe2Z1bmN0aW9uIFN5bmNoZXJNYW5hZ2VyKGUsdCxyLG4sbyxpLGEscyl7aWYoKDAsbC5kZWZhdWx0KSh0aGlzLFN5bmNoZXJNYW5hZ2VyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBNZXNzYWdlQnVzIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBSZWdpc3RyeSBpbnN0YW5jZSIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgUnVudGltZUNhdGFsb2d1ZSBpbnN0YW5jZSIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkIHRoZSBzdG9yYWdlTWFuYWdlciBpbnN0YW5jZSIpO3ZhciB1PXRoaXM7dS5fYnVzPXQsdS5fcmVnaXN0cnk9cix1Ll9jYXRhbG9nPW4sdS5fc3RvcmFnZU1hbmFnZXI9byx1Ll9pZGVudGl0eU1vZHVsZT1zLHUucnVudGltZVVSTD1lLHUuX3VybD1lKyIvc20iLHUuX29iamVjdFVSTD1lKyIvb2JqZWN0LWFsbG9jYXRpb24iLHUuX3JlcG9ydGVycz17fSx1Ll9vYnNlcnZlcnM9e30sdS5fZGF0YU9iamVjdHNTdG9yYWdlPWEsdS5fZG9tYWluPSgwLGguZGl2aWRlVVJMKShlKS5kb21haW4sdS5fYWxsb2NhdG9yPWl8fGcuZGVmYXVsdC5pbnN0YW5jZSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gQWRkcmVzc0FsbG9jYXRpb25dIC0gIix1Ll9hbGxvY2F0b3IpLHQuYWRkTGlzdGVuZXIodS5fdXJsLGZ1bmN0aW9uKGUpe3N3aXRjaChrLmluZm8oIltTeW5jaGVyTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOnUuX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjp1Ll9vbkRlbGV0ZShlKTticmVhaztjYXNlInN1YnNjcmliZSI6dS5fb25Mb2NhbFN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp1Ll9vbkxvY2FsVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZWFkIjp1Ll9vblJlYWQoZSk7YnJlYWs7Y2FzZSJleGVjdXRlIjp1Ll9vbkV4ZWN1dGUoZSl9fSl9cmV0dXJuKDAsZC5kZWZhdWx0KShTeW5jaGVyTWFuYWdlcixbe2tleToiX29uRXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkfTtpZihrLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkV4ZWN1dGVdIG5ldyBtZXNzYWdlIixlKSxlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibWV0aG9kIikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicGFyYW1zIikpe3N3aXRjaChlLmJvZHkubWV0aG9kKXtjYXNlInN5bmMiOnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zeW5jKGUuYm9keS5wYXJhbXNbMF0sZS5ib2R5LnBhcmFtc1sxXSwhMSk7YnJlYWs7Y2FzZSJzdG9wU3luYyI6dC5fZGF0YU9iamVjdHNTdG9yYWdlLnN0b3BTeW5jKGUuYm9keS5wYXJhbXNbMF0pfXIuYm9keT17Y29kZToyMDB9LHQuX2J1cy5wb3N0TWVzc2FnZShyKX1lbHNlIHIuYm9keT17Y29kZTo0MDAsZGVzYzoibWlzc2luZyBib2R5IG9yIGJvZHkgbWV0aG9kIC8gcGFyYW1zIG1hbmRhdG9yeSBmaWVsZHMifSxrLmVycm9yKCJbU3luY2hlck1hbmFnZXIub25FeGVjdXRlXSBlcnJvci4gTWlzc2luZyBib2R5IG9yIGJvZHkgbWV0aG9kIC8gcGFyYW1zIG1hbmRhdG9yeSBmaWVsZHMiLGUpLHQuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZH07ay5pbmZvKCJbU3luY2hlck1hbmFnZXIub25SZWFkXSBuZXcgbWVzc2FnZSIsZSksZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc291cmNlIik/dC5fZGF0YU9iamVjdHNTdG9yYWdlLnN5bmMoZS5ib2R5LnJlc291cmNlLGNyaXRlcmlhLmJhY2t1cFJldmlzaW9uLCEwKS50aGVuKGZ1bmN0aW9uKGUpe3IuYm9keT17Y29kZToyMDAsdmFsdWU6ZX0say5pbmZvKCJbU3luY2hlck1hbmFnZXIub25SZWFkXSBmb3VuZCBvYmplY3Q6ICIsZSksdC5fYnVzLnBvc3RNZXNzYWdlKHIpfSxmdW5jdGlvbihlKXtyLmJvZHk9e2NvZGU6NDAwLGRlc2M6ZX0say5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyLm9uUmVhZF0gZXJyb3I6ICIsZSksdC5fYnVzLnBvc3RNZXNzYWdlKHIpfSk6KHIuYm9keT17Y29kZTo0MDAsZGVzYzoibWlzc2luZyBib2R5IG9yIGJvZHkgcmVzb3VyY2UgbWFuZGF0b3J5IGZpZWxkcyJ9LGsuZXJyb3IoIltTeW5jaGVyTWFuYWdlci5vblJlYWRdIGVycm9yLiBNaXNzaW5nIGJvZHkgb3IgYm9keSByZXNvdXJjZSBtYW5kYXRvcnkgZmllbGRzIixlKSx0Ll9idXMucG9zdE1lc3NhZ2UocikpfX0se2tleToiX29uQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS50byxpPXRoaXM7ZS5ib2R5LmF0dHJpYnV0ZT90aGlzLl9zdG9yZUNoaWxkcmVucyhlKTohZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKXx8ZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWU/ZS5ib2R5LmF1dGhvcmlzZT8odGhpcy5fYXV0aG9yaXNlKGUpLGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyLm9uQ3JlYXRlIC0gaW52aXRlIG9ic2VydmVyc10iLGUpKTooay5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGUgLSBDcmVhdGUgTmV3IE9iamVjdF0iLGUpLHRoaXMuX25ld0NyZWF0ZShlKSk6dGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmdldFJlc291cmNlc0J5Q3JpdGVyaWEoZSwhMCkudGhlbihmdW5jdGlvbihzKXtpZihrLmluZm8oIltTeW5jaGVyTWFuYWdlciAtIENyZWF0ZSBSZXN1bWVkXSAtIFJlc291cmNlc0J5Q3JpdGVyaWEgfCBNZXNzYWdlOiAiLGUsIiByZXN1bHQ6ICIscykscyYmKDAsdS5kZWZhdWx0KShzKS5sZW5ndGg+MCl7dmFyIGM9W107KDAsdS5kZWZhdWx0KShzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2MucHVzaChpLl9yZXN1bWVDcmVhdGUoZSxzW3RdKSl9KSxhLmRlZmF1bHQuYWxsKGMpLnRoZW4oZnVuY3Rpb24oaSl7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIENyZWF0ZSBSZXN1bWVkXSIsaSk7dmFyIGE9KDAsby5kZWZhdWx0KShpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7ay5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGVdIHJldHVybmluZyByZXN1bWVkIG9iamVjdHMgOiAiLGEpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTpuLHRvOnIsYm9keTp7Y29kZToyMDAsdmFsdWU6KDAsaC5kZWVwQ2xvbmUpKGEpfX0pfSl9ZWxzZXt2YXIgbD17fTtsLmlkPWUuaWQsbC5mcm9tPWUudG8sbC50bz1lLmZyb20sbC50eXBlPSJyZXNwb25zZSIsbC5ib2R5PXtjb2RlOjQwNCxkZXNjOiJObyBkYXRhIG9iamVjdHMgcmVwb3J0ZXJzIHRvIGJlIHJlc3VtZWQifSx0Ll9idXMucG9zdE1lc3NhZ2UobCl9fSl9fSx7a2V5OiJfc3RvcmVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj1lLmJvZHkuYXR0cmlidXRlOyJjaGlsZHJlbk9iamVjdHMiPT09bj90Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMSxyLHZvaWQgMCxlLmJvZHkudmFsdWUpOnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCEwLHIsbixlLmJvZHkudmFsdWUpfX0se2tleToiX25ld0NyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1lLmZyb20sbz0oMCxoLmRpdmlkZVVSTCkoZS5mcm9tKS5kb21haW47ci5fcmVnaXN0cnkuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoZS5mcm9tKSYmKG89KDAsaC5kaXZpZGVVUkwpKHIucnVudGltZVVSTCkuZG9tYWluKTt2YXIgaT0hZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJkb21haW5fcmVnaXN0cmF0aW9uIil8fGUuYm9keS52YWx1ZS5kb21haW5fcmVnaXN0cmF0aW9uO3IuX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoZS5ib2R5LnNjaGVtYSkudGhlbihmdW5jdGlvbihhKXt2YXIgcz1hLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLHU9cy5zY2hlbWU/cy5zY2hlbWUuY29uc3RhbnQ6InJlc291cmNlIixjPXMuY2hpbGRyZW4/cy5jaGlsZHJlbi5jb25zdGFudDpbXSxsPXtuYW1lOmUuYm9keS52YWx1ZS5uYW1lLHNjaGVtYTplLmJvZHkudmFsdWUuc2NoZW1hLHJlcG9ydGVyOmUuYm9keS52YWx1ZS5yZXBvcnRlcixyZXNvdXJjZXM6ZS5ib2R5LnZhbHVlLnJlc291cmNlc30sZj1lLmJvZHkudmFsdWUucmVzb3VyY2U7ci5fYWxsb2NhdG9yLmNyZWF0ZShvLDEsbCx1LGYpLnRoZW4oZnVuY3Rpb24obyl7dmFyIGE9KDAsaC5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7YS51cmw9by5hZGRyZXNzWzBdLGEuYXV0aG9yaXNlPWUuYm9keS5hdXRob3Jpc2UsYS5jaGlsZHJlbnM9YyxkZWxldGUgYS5kYXRhLGsubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gQUxMT0NBVE9SIENSRUFURToiLG8pO3ZhciBzPWEudXJsKyIvc3Vic2NyaXB0aW9uIjtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIFN1YnNjcmlwdGlvbiBVUkwiLHMpLGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIFJlZ2lzdGVyIE9iamVjdDogIixhKSxyLl9yZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3QoYSkudGhlbihmdW5jdGlvbihvKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIERhdGFPYmplY3Qgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQiLG8pO3ZhciB1PXZvaWQgMDt1PXQuX3JlcG9ydGVyc1thLnVybF0/dC5fcmVwb3J0ZXJzW2EudXJsXTpuZXcgXy5kZWZhdWx0KHIsbixhLnVybCksay5sb2coIltTeW5jaGVyTWFuYWdlciAtIG5ldyBDcmVhdGVdIC0gIixlKTt2YXIgbD12b2lkIDA7bD1lLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5IikmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw/ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw6ci5fcmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUuZnJvbSk7dmFyIGY9KDAsaC5kZWVwQ2xvbmUpKGEpO2Yuc3Vic2NyaWJlclVzZXI9bCxmLmlzUmVwb3J0ZXI9ITAsZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdG9yZSIpJiZlLmJvZHkuc3RvcmUmJih1LmlzVG9TYXZlRGF0YT0hMCxmLmlzVG9TYXZlRGF0YT0hMCxlLmJvZHkudmFsdWUuZGF0YSYmKGYuZGF0YT0oMCxoLmRlZXBDbG9uZSkoZS5ib2R5LnZhbHVlLmRhdGEpKSksci5fZGF0YU9iamVjdHNTdG9yYWdlLnNldChmKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86bixib2R5Ontjb2RlOjIwMCxyZXNvdXJjZTphLnVybCxjaGlsZHJlblJlc291cmNlczpjfX07aT91LmZvcndhcmRTdWJzY3JpYmUoW2EudXJsLHNdKS50aGVuKGZ1bmN0aW9uKCl7dS5hZGRDaGlsZHJlbnMoKS50aGVuKGZ1bmN0aW9uKCl7ci5fcmVwb3J0ZXJzW2EudXJsXT11LHIuX2J1cy5wb3N0TWVzc2FnZShvKX0pfSk6dS5hZGRDaGlsZHJlbnMoKS50aGVuKGZ1bmN0aW9uKCl7ci5fcmVwb3J0ZXJzW2EudXJsXT11LHIuX2J1cy5wb3N0TWVzc2FnZShvKX0pfSxmdW5jdGlvbihlKXtrLmVycm9yKGUpfSl9LGZ1bmN0aW9uKGUpe2suZXJyb3IoZSl9KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIG89e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpuLGJvZHk6e2NvZGU6NTAwLGRlc2M6dH19O3IuX2J1cy5wb3N0TWVzc2FnZShvKX0pfX0se2tleToiX3Jlc3VtZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihvKXt2YXIgaT1lLmZyb20sYT10LnNjaGVtYSxzPXQudXJsLHU9IXQuaGFzT3duUHJvcGVydHkoImRvbWFpbl9yZWdpc3RyYXRpb24iKXx8dC5kb21haW5fcmVnaXN0cmF0aW9uO3QuZGF0YTtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyXSAtIHJlc3VtZSBjcmVhdGUiLGUsdCksbi5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihhKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBjPWEuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsbD0oYy5zY2hlbWUmJmMuc2NoZW1lLmNvbnN0YW50LGMuY2hpbGRyZW4/Yy5jaGlsZHJlbi5jb25zdGFudDpbXSk7ay5sb2coIltTeW5jaGVyTWFuYWdlcl0gLSBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixhLGwpO3ZhciBmPXZvaWQgMDtmPXIuX3JlcG9ydGVyc1tzXT9yLl9yZXBvcnRlcnNbc106bmV3IF8uZGVmYXVsdChuLGkscyksZi5pc1RvU2F2ZURhdGE9dC5pc1RvU2F2ZURhdGEsdT9mLmZvcndhcmRTdWJzY3JpYmUoW3QudXJsXSkudGhlbihmdW5jdGlvbigpe2subG9nKCJbU3luY2hlck1hbmFnZXIuX3Jlc3VtZUNyZWF0ZV0gcmVzdW1pbmdSZXBvcnRlclN1YnNjcmlwdGlvbiAiLHQpLG4uX3Jlc3VtZVJlcG9ydGVyU3Vic2NyaXB0aW9ucyhlLHQsZixsLHUpLnRoZW4oZnVuY3Rpb24oZSl7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fcmVzdW1lQ3JlYXRlXSByZXNvbHZlZCByZXN1bWVkIG9iamVjdCAiLGUpLG8oZSl9KX0pOm8obi5fcmVzdW1lUmVwb3J0ZXJTdWJzY3JpcHRpb25zKGUsdCxmLGwsdSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ay5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLG8oITEpfSl9KX19LHtrZXk6Il9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk9dGhpcyxzPXQudXJsLHU9KDAsaC5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7cmV0dXJuIHUudXJsPXQudXJsLHUuZXhwaXJlcz10LmV4cGlyZXMsdS5kb21haW5fcmVnaXN0cmF0aW9uPW8sZGVsZXRlIHUuZGF0YSxuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGUpe3IuYWRkQ2hpbGRyZW5zKCkudGhlbihmdW5jdGlvbigpe3JldHVybiByLnJlc3VtZVN1YnNjcmlwdGlvbnModC5zdWJzY3JpcHRpb25zKSxpLl9yZXBvcnRlcnNbc109cixrLmluZm8oIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gcmVzb2x2ZWQgcmVzdW1lZDogIix0KSxpLl9kZWNyeXB0Q2hpbGRyZW5zKHQsbil9KS50aGVuKGZ1bmN0aW9uKHQpe2suaW5mbygiW1N5bmNoZXJNYW5hZ2VyLl9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnNdIFJlZ2lzdGVyIE9iamVjdDogIix1KSxpLl9yZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3QodSkudGhlbihmdW5jdGlvbihyKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnNdIERhdGFPYmplY3QgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWxseSB1cGRhdGVkIixyKSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnNdIHJlc29sdmluZyBvYmplY3QiLHQpLGUodCl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2suZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gZmFpbCBvbiBhZGRDaGlsZHJlbnM6ICIsdCksZSghMSl9KX0pfX0se2tleToiX2RlY3J5cHRDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9KDAsaC5kZWVwQ2xvbmUpKGUpO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGUpe2lmKHQpezA9PT0oMCx1LmRlZmF1bHQpKHIuY2hpbGRyZW5PYmplY3RzKS5sZW5ndGgmJmUociksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXIuY2hpbGRyZW5PYmplY3RzO2subG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGRhdGFPYmplY3RDaGlsZHMgdG8gZGVjcnlwdCAiLG4pO3ZhciBvPVtdOygwLHUuZGVmYXVsdCkobikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uW2VdLGk9ZS5zcGxpdCgiIyIpWzBdO2lmKCJzdHJpbmciPT10eXBlb2YgdC52YWx1ZSl7ay5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gY3JlYXRlZEJ5ICIsaSwiIG9iamVjdDogIix0LnZhbHVlKTt2YXIgYT13LmRlZmF1bHQuZGVjcnlwdERhdGFPYmplY3QoSlNPTi5wYXJzZSh0LnZhbHVlKSxyLnVybCk7by5wdXNoKGEpfX0pLGEuZGVmYXVsdC5hbGwobykudGhlbihmdW5jdGlvbih0KXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSByZXR1cm5pbmcgZGVjcnlwdGVkICIsdCksdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWUudXJsO3IuY2hpbGRyZW5PYmplY3RzW3RdLnZhbHVlPWUudmFsdWV9KSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBzdG9yZWRPYmplY3QgIixyKSxlKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ay53YXJuKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGZhaWxlZCA6ICIsZSl9KX0pfWVsc2UgZShyKX0pfX0se2tleToiX2F1dGhvcmlzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5LnJlc291cmNlKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXJNYW5hZ2VyLl9hdXRob3Jpc2VdIGludml0YXRpb24gcmVxdWVzdCB3aXRob3V0IGRhdGEgb2JqZWN0IHVybDoiLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSsiL3N1YnNjcmlwdGlvbiIsbj0hIWUuYm9keS5wMnAmJmUuYm9keS5wMnA7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtICBhdXRob3Jpc2VdIC0gIixlKSxlLmJvZHkuYXV0aG9yaXNlJiZlLmJvZHkuYXV0aG9yaXNlLmZvckVhY2goZnVuY3Rpb24obyl7dC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJjcmVhdGUiLGZyb206cix0bzpvLGJvZHk6e3AycDpuLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxzb3VyY2U6ZS5mcm9tLHZhbHVlOmUuYm9keS52YWx1ZSxzY2hlbWE6ZS5ib2R5LnNjaGVtYX19LGZ1bmN0aW9uKHIpe3ZhciBuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZTpyLnR5cGUsYm9keTpyLmJvZHl9O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfSl9fSx7a2V5OiJfb25EZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9yZXBvcnRlcnNbcl07biYmKG4uZGVsZXRlKCksdGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmRlbGV0ZVJlc291cmNlKHIpLnRoZW4oZnVuY3Rpb24obil7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIG9uRGVsZXRlXSAtIGRlbGV0ZVJlc291cmNlOiAiLG4pLHQuX3JlZ2lzdHJ5LnVucmVnaXN0ZXJEYXRhT2JqZWN0KHIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KX0pKX19LHtrZXk6Il9vbkxvY2FsU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITEpLnRoZW4oZnVuY3Rpb24ocil7aWYoay5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBTdWJzY3JpYmVdIC0gUmVzb3VyY2VzQnlDcml0ZXJpYSB8IE1lc3NhZ2U6ICIsZSwiIHJlc3VsdDogIixyKSxyJiYoMCx1LmRlZmF1bHQpKHIpLmxlbmd0aD4wKXt2YXIgbj1bXTsoMCx1LmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24obyl7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBTdWJzY3JpYmVdIC0gcmV1c2UgY3VycmVudCBvYmplY3QgdXJsOiAiLHJbb10pLG4ucHVzaCh0Ll9yZXN1bWVTdWJzY3JpcHRpb24oZSxyW29dKSl9KSxhLmRlZmF1bHQuYWxsKG4pLnRoZW4oZnVuY3Rpb24ocil7ay5sb2coIltTeW5jaGVyTWFuYWdlciAtIE9ic2VydmVycyBSZXN1bWVkXSIscik7dmFyIG49KDAsby5kZWZhdWx0KShyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOm59fSl9KX1lbHNlIGlmKGUuYm9keS5zY2hlbWEmJmUuYm9keS5yZXNvdXJjZSlrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLm9uTG9jYWxTdWJzY3JpYmUgLSBuZXcgU3Vic2NyaWJlXSAtICIsZS5ib2R5LnNjaGVtYSxlLmJvZHkucmVzb3VyY2UpLHQuX25ld1N1YnNjcmlwdGlvbihlKTtlbHNle3ZhciBpPXt9O2kuaWQ9ZS5pZCxpLmZyb209ZS50byxpLnRvPWUuZnJvbSxpLnR5cGU9InJlc3BvbnNlIixpLmJvZHk9e2NvZGU6NDA0LGRlc2M6Ik5vIGRhdGEgb2JqZWN0cyBvYnNlcnZlcnMgdG8gYmUgcmVzdW1lZCJ9LHQuX2J1cy5wb3N0TWVzc2FnZShpKX19KX19LHtrZXk6Il9uZXdTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj1lLmZyb20sbz0oMCxoLmRpdmlkZVVSTCkocikuZG9tYWluLGk9IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3N1YnNjcmlwdGlvbiIpfHxlLmJvZHkuZG9tYWluX3N1YnNjcmlwdGlvbixhPXIrIi9jaGlsZHJlbi8iO3QuX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoZS5ib2R5LnNjaGVtYSkudGhlbihmdW5jdGlvbihzKXt2YXIgdT1zLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGM9dS5jaGlsZHJlbj91LmNoaWxkcmVuLmNvbnN0YW50OltdLGw9W107aWYobC5wdXNoKHIrIi9jaGFuZ2VzIiksbC5wdXNoKGEpLGkpe3ZhciBmPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206dC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK28rIi9zbSIsYm9keTp7aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHJlc291cmNlczpsLHNvdXJjZTpufX07dC5fYnVzLnBvc3RNZXNzYWdlKGYsZnVuY3Rpb24obyl7ay5sb2coIm5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlKG9ic2VydmVyKTogIixvKSwyMDA9PT1vLmJvZHkuY29kZT90Ll9uZXdSZXBvcnRlclN1YnNjcmliZShlLG4scixjKTp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpuLGJvZHk6by5ib2R5fSl9KX1lbHNlIHQuX25ld1JlcG9ydGVyU3Vic2NyaWJlKGUsbixyLGMpfSl9fSx7a2V5OiJfbmV3UmVwb3J0ZXJTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMsaT10aGlzLGE9cisiL3N1YnNjcmlwdGlvbiI7aS5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86dCxib2R5Ontjb2RlOjEwMCxjaGlsZHJlblJlc291cmNlczpuLHNjaGVtYTplLmJvZHkuc2NoZW1hLHJlc291cmNlOmUuYm9keS5yZXNvdXJjZX19KTt2YXIgcz17dHlwZToic3Vic2NyaWJlIixmcm9tOmkuX3VybCx0bzphLGJvZHk6e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSxzdWJzY3JpYmVyOnR9fTtlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYocy5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsKSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIixzLGUpLGkuX2J1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGEpe2lmKGsubG9nKCJyZXBvcnRlci1zdWJzY3JpYmUtcmVzcG9uc2UtbmV3OiAiLGEpLDIwMD09PWEuYm9keS5jb2RlKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIC0gb2JzZXJ2ZXJzOiAiLGkuX29ic2VydmVycyxyLGkuX29ic2VydmVyc1tyXSk7dmFyIHM9aS5fb2JzZXJ2ZXJzW3JdO3N8fChzPW5ldyBSLmRlZmF1bHQoaSxyKSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIC0gb2JzZXJ2ZXJzOiBjcmVhdGUgbmV3IE9ic2VydmVyT2JqZWN0OiAiLHMpLGkuX29ic2VydmVyc1tyXT1zLHMuYWRkU3Vic2NyaXB0aW9uKHQpLHMuYWRkQ2hpbGRyZW5zKCkpO3ZhciB1PSExLGM9dm9pZCAwO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTD8oYz1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCxjLmluY2x1ZGVzKCJ1c2VyOi8vIil8fCh1PSEwKSk6KGM9aS5fcmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGUuZnJvbSkpfHwodT0hMCk7dmFyIGw9KDAsaC5kZWVwQ2xvbmUpKGEuYm9keS52YWx1ZSk7ZGVsZXRlIGwuZGF0YSxkZWxldGUgbC5jaGlsZHJlbk9iamVjdHMsbC5jaGlsZHJlbnM9bixsLnN1YnNjcmliZXJVc2VyPWMsbC5pc1JlcG9ydGVyPSExLGwuc3Vic2NyaWJlckh5cGVydHk9dCx1fHwoaS5fZGF0YU9iamVjdHNTdG9yYWdlLnNldChsKSwobC5oYXNPd25Qcm9wZXJ0eSgic3RvcmUiKSYmbC5zdG9yZXx8bC5oYXNPd25Qcm9wZXJ0eSgiaXNUb1NhdmVEYXRhIikmJmwuaXNUb1NhdmVEYXRhKSYmKHMuaXNUb1NhdmVEYXRhPSEwLGkuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITEsciwiaXNUb1NhdmVEYXRhIiwhMCksaS5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCExLHIsbnVsbCxhLmJvZHkudmFsdWUuZGF0YSkpKSxhLmlkPWUuaWQsYS5mcm9tPWkuX3VybCxhLnRvPXQsYS5ib2R5LnNjaGVtYT1lLmJvZHkuc2NoZW1hLGEuYm9keS5yZXNvdXJjZT1lLmJvZHkucmVzb3VyY2UsZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKGEuYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksay5sb2coIltzdWJzY3JpYmVdIC0gbmV3IHN1YnNjcmlwdGlvbjogIixlLGEscyksby5fYnVzLnBvc3RNZXNzYWdlKGEpfX0pfX0se2tleToiX3Jlc3VtZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKG4pe3ZhciBvPXQudXJsLGk9dC5zY2hlbWEsYT1lLmZyb20scz1vKyIvY2hpbGRyZW4vIjtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gUmV1c2VTdWJzY3JpcHRpb25dIC0gb2JqVVJMOiAiLG8sIiAtIHNjaGVtYToiLGkpLHIuX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IoaSkudGhlbihmdW5jdGlvbihuKXt2YXIgdT1uLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGM9dS5jaGlsZHJlbj91LmNoaWxkcmVuLmNvbnN0YW50OltdLGw9W107bC5wdXNoKG8rIi9jaGFuZ2VzIiksbC5wdXNoKHMpLHIuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmEsYm9keTp7Y29kZToxMDAsY2hpbGRyZW5SZXNvdXJjZXM6YyxzY2hlbWE6aSxyZXNvdXJjZTpvfX0pO3ZhciBmPXIuX29ic2VydmVyc1tvXTtyZXR1cm4gZnx8KGY9bmV3IFIuZGVmYXVsdChyLG8pLGYuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHIuX29ic2VydmVyc1tvXT1mKSxmLmFkZFN1YnNjcmlwdGlvbihhKSxmLmFkZENoaWxkcmVucygpLHIuX2RlY3J5cHRDaGlsZHJlbnModCxjKX0pLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2suZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBzdWJzY3JpcHRpb25dIC0gZmFpbCBvbiBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixlKSxuKCExKX0pfSl9fSx7a2V5OiJfb25Mb2NhbFVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KGUuZnJvbSxlLmJvZHkucmVzb3VyY2UpLG49dC5fb2JzZXJ2ZXJzW3JdO24mJihuLnJlbW92ZVN1YnNjcmlwdGlvbihlKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSksdGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmRlbGV0ZVJlc291cmNlKHIpLGRlbGV0ZSB0Ll9vYnNlcnZlcnNbcl0pfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dKSxTeW5jaGVyTWFuYWdlcn0oKTt0LmRlZmF1bHQ9UyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7cig1NDApLGUuZXhwb3J0cz1yKDExKS5PYmplY3QudmFsdWVzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNiksbz1yKDU0MSkoITEpO24obi5TLCJPYmplY3QiLHt2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY4KSxvPXIoNTApLGk9cig4MSkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixhPW8odCkscz1uKGEpLHU9cy5sZW5ndGgsYz0wLGw9W107dT5jOylpLmNhbGwoYSxyPXNbYysrXSkmJmwucHVzaChlP1tyLGFbcl1dOmFbcl0pO3JldHVybiBsfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTYpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDQpLHk9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocCksaD1yKDYpLHY9cigyMjEpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoMTA1KSxfPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGIpLG09eS5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlcG9ydGVyT2JqZWN0KGUsdCxyKXsoMCxsLmRlZmF1bHQpKHRoaXMsUmVwb3J0ZXJPYmplY3QpO3ZhciBuPXRoaXM7bi5fcGFyZW50PWUsbi5fb3duZXI9dCxuLl91cmw9cixuLl9idXM9ZS5fYnVzLG4uX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkocikuZG9tYWluLG4uX29ialN1YnNjcmlwdG9yVVJMPW4uX3VybCsiL3N1YnNjcmlwdGlvbiIsbi5fc3Vic2NyaXB0aW9ucz17fSxuLl9jaGlsZHJlbnM9W10sbi5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sbi5fZm9yd2FyZHM9e30sbi5faXNUb1NhdmVEYXRhPSExLG4uX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsZC5kZWZhdWx0KShSZXBvcnRlck9iamVjdCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3QuX3N1YnNjcmlwdGlvbkxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcih0Ll9vYmpTdWJzY3JpcHRvclVSTCxmdW5jdGlvbihlKXtzd2l0Y2gobS5pbmZvKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWQgXSIsZSksZS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25SZW1vdGVTdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25SZW1vdGVVblN1YnNjcmliZShlKTticmVhaztjYXNlInJlc3BvbnNlIjp0Ll9vblJlbW90ZVJlc3BvbnNlKGUpfX0pO3ZhciByPXQuX3VybCsiL2NoYW5nZXMiO3QuX2NoYW5nZUxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcihyLGZ1bmN0aW9uKG4pe2lmKG0uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXItIityKyItUkNWOiAiLG4pLGUuX2lzVG9TYXZlRGF0YSYmbi5ib2R5LmF0dHJpYnV0ZSl7dmFyIG89ImJhY2t1cFJldmlzaW9uIiE9PW4uYm9keS5hdHRyaWJ1dGU7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyIC0gc2F2ZSBkYXRhOiAiLG4pLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsInZlcnNpb24iLG4uYm9keS52ZXJzaW9uLG8pLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsImxhc3RNb2RpZmllZCIsbi5ib2R5Lmxhc3RNb2RpZmllZCxvKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMCx0Ll91cmwsbi5ib2R5LmF0dHJpYnV0ZSxuLmJvZHkudmFsdWUsbyl9fSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3N1YnNjcmlwdGlvbkxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLHUuZGVmYXVsdCkoZS5fZm9yd2FyZHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5mb3J3YXJkVW5TdWJzY3JpYmUodCl9KSwoMCx1LmRlZmF1bHQpKGUuX3N1YnNjcmlwdGlvbnMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fc3Vic2NyaXB0aW9uc1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJyZXN1bWVTdWJzY3JpcHRpb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2UmJigwLHUuZGVmYXVsdCkoZSkuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1lW3JdO20ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3RdIC0gcmVzdW1lIHN1YnNjcmlwdGlvbnMiLHQsbix0Ll9jaGlsZHJlbnMpLHQuX3N1YnNjcmlwdGlvbnNbbl18fCh0Ll9zdWJzY3JpcHRpb25zW25dPW5ldyBnLmRlZmF1bHQodC5fYnVzLHQuX293bmVyLHQuX3VybCwhMCkpfSl9fSx7a2V5OiJmb3J3YXJkU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIit0Ll9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOmUsc291cmNlOnQuX293bmVyfX07cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24obixvKXt0Ll9idXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtpZihtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF1mb3J3YXJkLXN1YnNjcmliZS1yZXNwb25zZShyZXBvcnRlcik6ICIsciksMjAwPT09ci5ib2R5LmNvZGUpe3ZhciBpPXQuX2J1cy5hZGRGb3J3YXJkKHQuX3VybCx0Ll9vd25lcik7dC5fZm9yd2FyZHNbZVswXV09aSxuKCl9ZWxzZSBvKCJFcnJvciBvbiBtc2ctbm9kZSBzdWJzY3JpcHRpb246ICIrci5ib2R5LmRlc2MpfSl9KX19LHtrZXk6ImZvcndhcmRVblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9mb3J3YXJkc1tlXS5yZW1vdmUoKSxkZWxldGUgdC5fZm9yd2FyZHNbZV07dmFyIHI9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6W2VdLHNvdXJjZTp0Ll9vd25lcn19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPXQuX3VybCsiL2NoaWxkcmVuLyI7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCAtIGFkZENoaWxkcmVuc10gLSBjaGlsZHJlbnM6ICIsaSk7dmFyIGE9W107YS5wdXNoKGkpO3ZhciBzPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdC5fZG9tYWluKyIvc20iLGJvZHk6e3Jlc291cmNlczphLHNvdXJjZTp0Ll9vd25lcn19O3QuX2J1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGkpe20ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXW5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlKHJlcG9ydGVyKToiLGkpLDIwMD09PWkuYm9keS5jb2RlPyhhLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fYnVzLmFkZExpc3RlbmVyKHIsZnVuY3Rpb24ocil7aWYobS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCByZWNlaXZlZF0iLHIpLCJjcmVhdGUiPT09ci50eXBlJiZyLnRvLmluY2x1ZGVzKCJjaGlsZHJlbiIpJiZlLl9pc1RvU2F2ZURhdGEpe3ZhciBuPSgwLGguc3BsaXRPYmplY3RVUkwpKHIudG8pLGk9bi51cmw7ci5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKXx8KHIuYm9keS5tdXR1YWw9ITApLCJzdHJpbmciIT10eXBlb2Ygci5ib2R5LnZhbHVlJiZyLmJvZHkubXV0dWFsPyhtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixyLmJvZHkudmFsdWUpLF8uZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChyLmJvZHkudmFsdWUsaSkudGhlbihmdW5jdGlvbihlKXttLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLGUpLHQuX3N0b3JlQ2hpbGRPYmplY3QociwoMCxvLmRlZmF1bHQpKGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe20ud2FybigiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBmYWlsZWQgOiAiLGUsIiBTdG9yaW5nIHVuZW5jcnlwdGVkIiksdC5fc3RvcmVDaGlsZE9iamVjdChyLHIuYm9keS52YWx1ZSl9KSk6dC5fc3RvcmVDaGlsZE9iamVjdChyLHIuYm9keS52YWx1ZSl9fSk7dC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChuKTt2YXIgaT10Ll9idXMuYWRkRm9yd2FyZChyLHQuX293bmVyKTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSkscigpKTpuKCJFcnJvciBvbiBtc2ctbm9kZSBzdWJzY3JpcHRpb246ICIraS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Il9zdG9yZUNoaWxkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj0oMCxoLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxvPW4udXJsLGk9bi5yZXNvdXJjZSxhPXZvaWQgMCxzPWUuYm9keS5yZXNvdXJjZSx1PWk7YT0iaGVhcnRiZWF0Ij09PXM/dDp7aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR9LHMmJih1PXMpLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITAsbyx1LGEpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0oMCxoLmRpdmlkZVVSTCkoZS5fb3duZXIpLmRvbWFpbjtlLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vYmpTdWJzY3JpcHRvclVSTCx0bzplLl91cmwrIi9jaGFuZ2VzIn0pLGUuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToiZGVsZXRlIixmcm9tOmUuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QrIi9vYmplY3QtYWRkcmVzcy1hbGxvY2F0aW9uIixib2R5OntyZXNvdXJjZTplLl91cmwsY2hpbGRyZW5SZXNvdXJjZXM6ZS5fY2hpbGRyZW5zfX0pLGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fcGFyZW50Ll9yZXBvcnRlcnNbZS5fdXJsXX19LHtrZXk6Il9vblJlbW90ZVJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOnQuX3VybCxib2R5Ontjb2RlOmUuYm9keS5jb2RlLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eSxzb3VyY2U6ZS5mcm9tfX0pfX0se2tleToiX29uUmVtb3RlU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnN1YnNjcmliZXI7dC5fc3Vic2NyaXB0aW9uc1tyXSYmdC5fc3Vic2NyaXB0aW9uc1tyXS5fcmVsZWFzZUxpc3RlbmVycygpO3ZhciBuPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihuLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLHQuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe20ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtcmVwbHk6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUmJih0Ll9zdWJzY3JpcHRpb25zW3JdfHwobS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSBfb25SZW1vdGVTdWJzY3JpYmU6Iix0Ll9jaGlsZHJlbnMpLHQuX3N1YnNjcmlwdGlvbnNbcl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLCEwKSkpO3ZhciBvPXZvaWQgMDtlLmJvZHkuaWRlbnRpdHkmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMJiYobz1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpYmVyVXNlcnMiLG8pKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpcHRpb25zIixyKSxuLmJvZHkub3duZXI9dC5fb3duZXIsdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6bi5ib2R5fSl9KX19LHtrZXk6Il9vblJlbW90ZVVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnNvdXJjZSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07aWYobil7bi5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O3QuX2J1cy5wb3N0TWVzc2FnZShvKX19fSx7a2V5OiJpc1RvU2F2ZURhdGEiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc1RvU2F2ZURhdGE9ZX19XSksUmVwb3J0ZXJPYmplY3R9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMyksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocyksYz1yKDIpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNCksZD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChmKSxwPXIoNikseT1yKDIyMSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxMDUpLGc9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodiksYj1kLmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JzZXJ2ZXJPYmplY3QoZSx0KXt2YXIgcj10aGlzOygwLHUuZGVmYXVsdCkodGhpcyxPYnNlcnZlck9iamVjdCk7dmFyIG49dGhpcztuLl9wYXJlbnQ9ZSxuLl91cmw9dCxuLl9idXM9ZS5fYnVzLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fc3RvcmFnZVN1YnNjcmlwdGlvbnM9e30sbi5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sdGhpcy5faXNUb1NhdmVEYXRhPSExO3ZhciBvPW4uX3VybCsiL2NoYW5nZXMiO24uX2NoYW5nZUxpc3RlbmVyPW4uX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKGUpe2IubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlci0iK28rIi1SQ1Y6ICIsZSksci5faXNUb1NhdmVEYXRhJiZlLmJvZHkuYXR0cmlidXRlJiYoYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyIC0gc2F2ZSBkYXRhOiAiLGUpLG4uX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxuLl91cmwsInZlcnNpb24iLGUuYm9keS52ZXJzaW9uKSxuLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITEsbi5fdXJsLCJsYXN0TW9kaWZpZWQiLGUuYm9keS5sYXN0TW9kaWZpZWQpLG4uX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCExLG4uX3VybCxlLmJvZHkuYXR0cmlidXRlLGUuYm9keS52YWx1ZSkpfSl9cmV0dXJuKDAsbC5kZWZhdWx0KShPYnNlcnZlck9iamVjdCxbe2tleToiX25ld1N1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3N1YnNjcmlwdGlvbnNbZV07Yi5sb2coIltPYnNlcnZlciBPYmplY3QgLSBuZXcgc3Vic2NyaXB0aW9uXSAtICIsdC5fc3Vic2NyaXB0aW9ucyxlLHQuX3N1YnNjcmlwdGlvbnMuaGFzT3duUHJvcGVydHkoZSkpLHJ8fCh0Ll9zdWJzY3JpcHRpb25zW2VdPW5ldyBoLmRlZmF1bHQodC5fYnVzLGUsdC5fdXJsLCExKSl9fSx7a2V5OiJhZGRTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25ld1N1YnNjcmlwdGlvbihlKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj10Ll91cmwrIi9jaGlsZHJlbi8iO2IubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgLSBhZGRDaGlsZHJlbnNdIC0gY2hpbGRyZW5zOiAiLG4pO3ZhciBpPXQuX2J1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKHIpe2lmKGIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgcmVjZWl2ZWRdIixyKSwiY3JlYXRlIj09PXIudHlwZSYmci50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmZS5faXNUb1NhdmVEYXRhKXt2YXIgbj0oMCxwLnNwbGl0T2JqZWN0VVJMKShyLnRvKSxhPW4udXJsO3IuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIil8fChyLmJvZHkubXV0dWFsPSEwKSwic3RyaW5nIiE9dHlwZW9mIHIuYm9keS52YWx1ZSYmci5ib2R5Lm11dHVhbD8oYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdF0gZW5jcnlwdGluZyByZWNlaXZlZCBkYXRhICIsci5ib2R5LnZhbHVlKSxnLmRlZmF1bHQuZW5jcnlwdERhdGFPYmplY3Qoci5ib2R5LnZhbHVlLGEpLnRoZW4oZnVuY3Rpb24oZSl7Yi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdF0gZW5jcnlwdGVkIGRhdGEgIixlKSx0Ll9zdG9yZUNoaWxkT2JqZWN0KHIsKDAsby5kZWZhdWx0KShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtiLndhcm4oIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdC5fZW5jcnlwdENoaWxkXSBmYWlsZWQsIHN0b3JpbmcgdW5lbmNyeXB0ZWQgIixlKSx0Ll9zdG9yZUNoaWxkT2JqZWN0KHIsci5ib2R5LnZhbHVlKX0pKTp0Ll9zdG9yZUNoaWxkT2JqZWN0KHIsci5ib2R5LnZhbHVlKX1iLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IGNoaWxkcmVuIExpc3RlbmVyc10iLHQuX2NoaWxkcmVuTGlzdGVuZXJzLGkpLC0xPT09dC5fY2hpbGRyZW5MaXN0ZW5lcnMuaW5kZXhPZihpKSYmdC5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChpKX0pfSl9fSx7a2V5OiJfc3RvcmVDaGlsZE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49KDAscC5zcGxpdE9iamVjdFVSTCkoZS50byksbz1uLnVybCxpPW4ucmVzb3VyY2UsYT17fSxzPWUuYm9keS5yZXNvdXJjZSx1PWk7ImhlYXJ0YmVhdCI9PT1zP2E9dDooYS5pZGVudGl0eT1lLmJvZHkuaWRlbnRpdHksYS52YWx1ZT10KSxzJiYodT1zKSxiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9zdG9yZUNoaWxkT2JqZWN0XSA6ICIsbyx1LGEpLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEsbyx1LGEpfX0se2tleToicmVtb3ZlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49KDAscC5kaXZpZGVVUkwpKHIpLmRvbWFpbixvPXQuX3VybCsiL3N1YnNjcmlwdGlvbiIsaT10Ll9zdWJzY3JpcHRpb25zW3JdO2kmJih0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOm8sYm9keTp7c291cmNlOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fX0pLHQuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrbisiL3NtIixib2R5OntyZXNvdXJjZTp0Ll91cmwscmVzb3VyY2VzOlt0Ll91cmwrIi9jaGlsZHJlbi8iXX19KSxpLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl0pfX0se2tleToiaXNUb1NhdmVEYXRhIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNUb1NhdmVEYXRhPWV9fV0pLE9ic2VydmVyT2JqZWN0fSgpO3QuZGVmYXVsdD1fLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjIwKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDQpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShmKSxwPXIoNikseT1yKDU0NSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbk1hbmFnZXIiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWFuYWdlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbk1hbmFnZXIpLCFlKXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO3ZhciBuPXRoaXM7bi5fYnVzPXQsbi5fc3RvcmFnZT1yLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9e30sbi5ydW50aW1lVVJMPWUsbi5fdXJsPWUrIi9zdWJzY3JpcHRpb25zIixuLl9kb21haW49KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbix0LmFkZExpc3RlbmVyKG4uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOm4uX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOm4uX29uVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZWFkIjpuLl9vblJlYWQoZSl9fSl9cmV0dXJuKDAsbC5kZWZhdWx0KShTdWJzY3JpcHRpb25NYW5hZ2VyLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlci5pbml0XSByZXN1bWUgc3Vic2NyaXB0aW9uczogIixyKSxyJiYoZS5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9ciwoMCxvLmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5jcmVhdGVTdWJzY3JpcHRpb24odC5kb21haW4sdC5yZXNvdXJjZXMsdC5zdWJzY3JpYmVyLHQuaWRlbnRpdHkpfSkpLHQoKX0pfSl9fSx7a2V5OiJfb25TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2VzLG49ZS5mcm9tLG89KDAscC5kaXZpZGVVUkwpKHJbMF0pLmRvbWFpbixpPWUuYm9keS5pZGVudGl0eTt0LmNyZWF0ZVN1YnNjcmlwdGlvbihvLHIsbixpKS50aGVuKGZ1bmN0aW9uKGEpe2EuaWQ9ZS5pZCxhLmZyb209dC5fdXJsLGEudG89bixhLmJvZHk9ZS5ib2R5LGEuYm9keS5jb2RlPTIwMCx2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gY3JhZXRlU3Vic2NyaXB0aW9uOiAiLGUsYSxuKSx0Ll9idXMucG9zdE1lc3NhZ2UoYSksdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0/ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dLnJlc291cmNlcy5pbmNsdWRlcyhlKXx8dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0ucmVzb3VyY2VzLnB1c2goZSl9KTp0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXT17ZG9tYWluOm8scmVzb3VyY2VzOnIsc3Vic2NyaWJlcjpuLGlkZW50aXR5Oml9LHQuX3N0b3JhZ2Uuc2V0KCJzdWJzY3JpcHRpb25zIiwxLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlKX0pfX0se2tleToiY3JlYXRlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKGkpe3ZhciBhPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206by5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9zbSIsYm9keTp7aWRlbnRpdHk6bixyZXNvdXJjZXM6dCxzb3VyY2U6cn19O28uX2J1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2U6ICIsZSk7dmFyIG49by5fc3Vic2NyaXB0aW9uc1tyXTt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gIixvLl9zdWJzY3JpcHRpb25zLHQsby5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShyKSksbnx8KG8uX3N1YnNjcmlwdGlvbnNbcl09e30pLHQuZm9yRWFjaChmdW5jdGlvbihlKXtvLl9zdWJzY3JpcHRpb25zW3JdW2VdPW5ldyBoLmRlZmF1bHQoby5fYnVzLHIsZSl9KSxpKGUpfSl9KX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS5ib2R5LnJlc291cmNlO2lmKHQuX3N1YnNjcmlwdGlvbnNbcl0mJnQuX3N1YnNjcmlwdGlvbnNbcl1bbl0pe3ZhciBvPSgwLHAuZGl2aWRlVVJMKShuKS5kb21haW4saT10Ll9zdWJzY3JpcHRpb25zW3JdW25dO2lmKHQuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK28rIi9zbSIsYm9keTp7cmVzb3VyY2VzOltuXSxzb3VyY2U6cn19KSxpLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl1bbl0sdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0pe3ZhciBhPXQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdLnJlc291cmNlcy5pbmRleE9mKG4pOy0xIT1hJiZ0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXS5yZXNvdXJjZXMuc3BsaWNlKGEsMSksdC5fc3RvcmFnZS5zZXQoInN1YnNjcmlwdGlvbnMiLDEsdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2UpfX10Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDB9fSl9fSx7a2V5OiJfb25SZWFkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dm9pZCAwO3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSByZXF1ZXN0IHRvIHJlYWQgU3Vic2NyaXB0aW9uczogIixlKSx0Ll9zdG9yYWdlLmdldCgic3Vic2NyaXB0aW9ucyIpLnRoZW4oZnVuY3Rpb24obyl7aWYobyYmb1tyXSl7dmFyIGk9b1tyXS5yZXNvdXJjZXM7bj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTppfX19ZWxzZSBuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDA0LGRlc2NyaXB0aW9uOiJOb3QgRm91bmQifX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSl9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0pLFN1YnNjcmlwdGlvbk1hbmFnZXJ9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoNCksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpLGM9dS5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBuPXRoaXM7bi5fc3Vic2NyaWJlcj10LG4ucmVzb3VyY2U9cixjLmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuU3Vic2NyaXB0aW9uXSBuZXc6ICIsdCxyKSxuLl9saXN0ZW5lcj1lLmFkZEZvcndhcmQocix0KX1yZXR1cm4oMCxhLmRlZmF1bHQpKFN1YnNjcmlwdGlvbixbe2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDM1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMSksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQpLGI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxfPXIoMjE1KSxtPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksUj1yKDIxNiksTz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFIpLHc9cig2KSxrPXIoMjE3KSxTPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDU0NyksRD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFApLE09KGIuZ2V0TG9nZ2VyKCJQRVAiKSxmdW5jdGlvbihlKXtmdW5jdGlvbiBSdW50aW1lQ29yZUN0eChlLHQscixuLG8peygwLGwuZGVmYXVsdCkodGhpcyxSdW50aW1lQ29yZUN0eCk7dmFyIGk9KDAseS5kZWZhdWx0KSh0aGlzLChSdW50aW1lQ29yZUN0eC5fX3Byb3RvX198fCgwLHUuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgpKS5jYWxsKHRoaXMpKTtyZXR1cm4gaS5fcnVudGltZVVSTD1lLGkuX3BlcFVSTD1pLl9ydW50aW1lVVJMKyIvcGVwIixpLl9ndWlVUkw9aS5fcnVudGltZVVSTCsiL3BvbGljeS1ndWkiLGkuaWRNb2R1bGU9dCxpLnJ1bnRpbWVSZWdpc3RyeT1yLGkuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsaS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9e30saS51c2VyUG9saWNpZXM9e30saS5zdG9yYWdlTWFuYWdlcj1uLGkucnVudGltZUNhcGFiaWxpdGllcz1vLGl9cmV0dXJuKDAsdi5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCxlKSwoMCxkLmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4LFt7a2V5OiJsb2FkQ29uZmlndXJhdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGEuZGVmYXVsdChmdW5jdGlvbih0LHIpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOmFjdGl2ZVBvbGljeSIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYWN0aXZlVXNlclBvbGljeT10LGUuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXRoaW5rOmdyb3VwcyIpfSkudGhlbihmdW5jdGlvbih0KXt2YXIgcj10O3JldHVybiBlLmdyb3Vwcz12b2lkIDA9PT1yP3t9OnIsZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6c3BQb2xpY2llcyIpfSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj1yO2Uuc2VydmljZVByb3ZpZGVyUG9saWN5PXZvaWQgMD09PW4/e306bixlLl9sb2FkVXNlclBvbGljaWVzKCkudGhlbihmdW5jdGlvbigpe3QoKX0pfSl9KX19LHtrZXk6ImdldFBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXt9O3JldHVybiB2b2lkIDAhPT10aGlzLmFjdGl2ZVVzZXJQb2xpY3kmJihyLnVzZXJQb2xpY3k9dGhpcy51c2VyUG9saWNpZXNbdGhpcy5hY3RpdmVVc2VyUG9saWN5XSksci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9dGhpcy5nZXRTZXJ2aWNlUHJvdmlkZXJQb2xpY3koZSx0KSxyfX0se2tleToiX2lzVmFsaWRVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXtlLmZyb20uc3BsaXQoIjovLyIpLmxlbmd0aD4xP3QuaWRNb2R1bGUuX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdChlLmZyb20pLnRoZW4oZnVuY3Rpb24odCl7dD09PWUuYm9keS5zb3VyY2U/cihlKTpuKCJUaGUgc291cmNlIG9mIHRoZSBtZXNzYWdlIGlzIG5vdCB2YWxpZC4iKX0sZnVuY3Rpb24oZSl7bihlKX0pOnIoZSl9KX19LHtrZXk6ImdldE15RW1haWxzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaWRNb2R1bGUuZ2V0SWRlbnRpdGllcygpLHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKCgwLHcuZ2V0VXNlckVtYWlsRnJvbVVSTCkoZVtyXS5pZGVudGl0eSkpO3JldHVybiB0fX0se2tleToiZ2V0TXlIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ydW50aW1lUmVnaXN0cnkuaHlwZXJ0aWVzTGlzdCx0PVtdO2Zvcih2YXIgciBpbiBlKXt2YXIgbj1lW3JdLm9iamVjdE5hbWU7LTE9PT10LmluZGV4T2YobikmJnQucHVzaChuKX1yZXR1cm4gdH19LHtrZXk6ImdldFNlcnZpY2VQcm92aWRlclBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA7aWYodCl7dmFyIG49dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoZS50byk7cj10aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtuXX1lbHNle3ZhciBvPXRoaXMucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlOYW1lKGUuZnJvbSk7cj10aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtvXX1yZXR1cm4gcn19LHtrZXk6ImdldFVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0WzBdKyIvLyIrdFsyXSsiLyIrdFszXX19LHtrZXk6Il9sb2FkVXNlclBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3JldHVybiBuZXcgYS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6dXNlclBvbGljaWVzIikudGhlbihmdW5jdGlvbih0KXt2YXIgbj10O2lmKHZvaWQgMCE9PW4pZm9yKHZhciBvIGluIG4pZS5wZXAuYWRkUG9saWN5KCJVU0VSIixvLG5bb10pO3IoKX0pfSl9fSx7a2V5OiJfZ2V0TGFzdENvbXBvbmVudE9mVVJMIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbdC5sZW5ndGgtMV19fSx7a2V5OiJfZ2V0UG9saWNpZXNKU09OIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSl7dmFyIHI9ZVt0XS5jb21iaW5pbmdBbGdvcml0aG07ciBpbnN0YW5jZW9mIE8uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iYmxvY2tPdmVycmlkZXMiOnIgaW5zdGFuY2VvZiBtLmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImFsbG93T3ZlcnJpZGVzIjpyIGluc3RhbmNlb2YgUy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJmaXJzdEFwcGxpY2FibGUiOmVbdF0uY29tYmluaW5nQWxnb3JpdGhtPXZvaWQgMH1yZXR1cm4gZX19LHtrZXk6InNhdmVBY3RpdmVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazphY3RpdmVQb2xpY3kiLDAsZS5hY3RpdmVVc2VyUG9saWN5KS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6InNhdmVHcm91cHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBhLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazpncm91cHMiLDAsZS5ncm91cHMpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToic2F2ZVBvbGljaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwO3N3aXRjaChlKXtjYXNlIlVTRVIiOm49KDAsby5kZWZhdWx0KSh0aGlzLnVzZXJQb2xpY2llcyksbj10aGlzLl9nZXRQb2xpY2llc0pTT04oSlNPTi5wYXJzZShuKSksdGhpcy5zdG9yYWdlTWFuYWdlci5zZXQoInJldGhpbms6dXNlclBvbGljaWVzIiwwLG4pO2JyZWFrO2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dm9pZCAwIT09dCZ2b2lkIDAhPT1yJiYodGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbcl09dCksbj0oMCxvLmRlZmF1bHQpKHRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5KSxuPXRoaXMuX2dldFBvbGljaWVzSlNPTihKU09OLnBhcnNlKG4pKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazpzcFBvbGljaWVzIiwwLG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gcG9saWN5IHNvdXJjZTogIitlKX19fSx7a2V5OiJnZXRHcm91cHNOYW1lcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdyb3Vwcyx0PVtdO2lmKHZvaWQgMCE9PWUpZm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0fX0se2tleToiZ2V0R3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoInByZWF1dGhvcmlzZWQiPT09ZSl7dmFyIG49dC5zcGxpdCgiLyIpO24ucG9wKCksbj1uWzBdKyIvLyIrblsyXSxyPXRoaXMucnVudGltZVJlZ2lzdHJ5LmdldFByZUF1dGhTdWJzY3JpYmVycyhuKX1lbHNlIHZvaWQgMCE9PXRoaXMuZ3JvdXBzW2VdJiYocj10aGlzLmdyb3Vwc1tlXSk7cmV0dXJuIHJ9fSx7a2V5OiJjcmVhdGVHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5ncm91cHNbZV09W10sdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJkZWxldGVHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuZ3JvdXBzW2VdLHRoaXMuc2F2ZUdyb3VwcygpfX0se2tleToiYWRkVG9Hcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdyb3VwcztpZih2b2lkIDA9PT1yW2VdKXRocm93IEVycm9yKCdHcm91cCAiJytlKyciIGRvZXMgbm90IGV4aXN0IScpOy0xPT09cltlXS5pbmRleE9mKHQpJiYocltlXS5wdXNoKHQpLHRoaXMuc2F2ZUdyb3VwcygpKX19LHtrZXk6InJlbW92ZUZyb21Hcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdyb3Vwc1tlXTtyLnNwbGljZShyLmluZGV4T2YodCksMSksdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJwZXBVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZXBVUkx9fSx7a2V5OiJndWlVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlVUkx9fSx7a2V5OiJydW50aW1lVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZVVSTH19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZUJ1cz1lfX0se2tleToic3Vic2NyaXB0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3Vic2NyaXB0aW9uPWUubWVzc2FnZS5ib2R5LnN1YnNjcmliZXJ9fV0pLFJ1bnRpbWVDb3JlQ3R4fShELmRlZmF1bHQpKTt0LmRlZmF1bHQ9TSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig2KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVUaGlua0N0eCgpeygwLG8uZGVmYXVsdCkodGhpcyxSZVRoaW5rQ3R4KSx0aGlzLmRlZmF1bHRCZWhhdmlvdXI9ITAsdGhpcy5ncm91cHM9e319cmV0dXJuKDAsYS5kZWZhdWx0KShSZVRoaW5rQ3R4LFt7a2V5OiJzY2hlbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2UuZnJvbTsoMCxzLmlzRGF0YU9iamVjdFVSTCkodCk/dGhpcy5fc2NoZW1lPSgwLHMuZGl2aWRlVVJMKSh0KS50eXBlOnRoaXMuX3NjaGVtZT12b2lkIDB9fSx7a2V5OiJkYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlLHI9U3RyaW5nKHQuZ2V0RGF0ZSgpKTsxPT09ci5sZW5ndGgmJihyPSIwIityKTt2YXIgbj1TdHJpbmcodC5nZXRNb250aCgpKzEpOzE9PT1uLmxlbmd0aCYmKG49IjAiK24pLHRoaXMuX2RhdGU9cisiLyIrbisiLyIrdC5nZXRGdWxsWWVhcigpfX0se2tleToiZG9tYWluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tYWlufSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9kb21haW49KDAscy5kaXZpZGVFbWFpbCkoZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpLmRvbWFpbil9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWVzc2FnZTt2b2lkIDAhPT10LmJvZHkudmFsdWUmJih0aGlzLl90eXBlPXQuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGUpfX0se2tleToic291cmNlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9zb3VyY2U9ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpfX0se2tleToidGltZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LHNldDpmdW5jdGlvbihlKXtlPW5ldyBEYXRlO3ZhciB0PVN0cmluZyhlLmdldE1pbnV0ZXMoKSk7MT09PXQubGVuZ3RoJiYodD0iMCIrdCksdGhpcy5fdGltZT1wYXJzZUludChTdHJpbmcoZS5nZXRIb3VycygpKSt0KX19LHtrZXk6IndlZWtkYXkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWVrZGF5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd2Vla2RheT1TdHJpbmcoKG5ldyBEYXRlKS5nZXREYXkoKSl9fV0pLFJlVGhpbmtDdHh9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1NDkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMzUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNCkseT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHApLGg9cig1NTYpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXkuZ2V0TG9nZ2VyKCJSdW50aW1lQ2F0YWxvZ3VlIiksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVDYXRhbG9ndWUoZSx0LHIpe2lmKCgwLGwuZGVmYXVsdCkodGhpcyxSdW50aW1lQ2F0YWxvZ3VlKSwhZSl0aHJvdyBFcnJvcigiVGhlIGNhdGFsb2d1ZSBuZWVkcyB0aGUgcnVudGltZUZhY3RvcnkiKTt0aGlzLl9mYWN0b3J5PW5ldyB2LmRlZmF1bHQsdGhpcy5odHRwUmVxdWVzdD1lLmNyZWF0ZUh0dHBSZXF1ZXN0KCksdGhpcy5hdG9iPWUuYXRvYj9lLmF0b2I6YXRvYjt2YXIgbj10fHwicnVudGltZUNhdGFsb2d1ZSIsbz1yfHwiJmNndWlkLCBhY2Nlc3NDb250cm9sUG9saWN5LCBjb25zdHJhaW50cywgZGF0YU9iamVjdHMsIGh5cGVydHlUeXBlLCBvYmplY3ROYW1lLCBzb3VyY2VQYWNrYWdlLCB2ZXJzaW9uIixpPXt9O2lbbl09byx0aGlzLnN0b3JhZ2VNYW5hZ2VyPWUuc3RvcmFnZU1hbmFnZXIobixpKX1yZXR1cm4oMCxkLmRlZmF1bHQpKFJ1bnRpbWVDYXRhbG9ndWUsW3trZXk6ImdldERlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0saT1hcmd1bWVudHNbM107Zy5pbmZvKCJbUnVudGltZUNhdGFsb2d1ZV0gLSBnZXR0aW5nIGRlc2NyaXB0b3IgZnJvbTogIixlLCIgd2l0aCBjb25zdHJhaW50czogIixpKTt2YXIgcz0hMSxjPSExLGw9dm9pZCAwO2w9dm9pZCAwIT1pP3UuZGVmYXVsdC5hbGwoW3RoaXMuaHR0cFJlcXVlc3QucG9zdChlKyIvdmVyc2lvbiIse2JvZHk6KDAsYS5kZWZhdWx0KShpKX0pLHRoaXMuaHR0cFJlcXVlc3QucG9zdChlKyIvY2d1aWQiLHtib2R5OigwLGEuZGVmYXVsdCkoaSl9KV0pOnUuZGVmYXVsdC5hbGwoW3RoaXMuaHR0cFJlcXVlc3QuZ2V0KGUrIi92ZXJzaW9uIiksdGhpcy5odHRwUmVxdWVzdC5nZXQoZSsiL2NndWlkIildKSxsPWwudGhlbihmdW5jdGlvbih0KXt2YXIgbj0oMCxvLmRlZmF1bHQpKHQsMiksdT1uWzBdLGM9blsxXTtyZXR1cm4gZy5pbmZvKCJbUnVudGltZUNhdGFsb2d1ZV0gLSBnb3QgdmVyc2lvbiAoIit1KyIpIGFuZCBjZ3VpZCAoIitjKyIpIGZvciBkZXNjcmlwdG9yICIrZSksci5zdG9yYWdlTWFuYWdlci5nZXRWZXJzaW9uKCJjZ3VpZCIsYykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD49dT8oZy53YXJuKCJzdG9yYWdlTWFuYWdlciBjb250YWlucyBzYXZlZCB2ZXJzaW9uIHRoYXQgaXMgdGhlIHNhbWUgb3IgbmV3ZXIgdGhhbiByZXF1ZXN0ZWQiKSxzPSEwLHIuc3RvcmFnZU1hbmFnZXIuZ2V0KCJjZ3VpZCIsYykpOihnLndhcm4oInN0b3JhZ2VNYW5hZ2VyIGRvZXMgbm90IGNvbnRhaW4gc2F2ZWQgdmVyc2lvbiIpLCh2b2lkIDAhPWk/ci5odHRwUmVxdWVzdC5wb3N0KGUse2JvZHk6KDAsYS5kZWZhdWx0KShpKX0pOnIuaHR0cFJlcXVlc3QuZ2V0KGUpKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGU9SlNPTi5wYXJzZShlKSxlLkVSUk9SKXRocm93IG5ldyBFcnJvcihlKTtyZXR1cm4gZX0pKX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9IlVuYWJsZSB0byBnZXQgZGVzY3JpcHRvciBmb3IgIitlKyh2b2lkIDAhPWk/IiB3aXRoIGNvbnN0cmFpbnRzICIraToiIikrIjogIit0O3Rocm93IGcuZXJyb3IociksbmV3IEVycm9yKHIpfSk7dmFyIGY9bDtyZXR1cm4gbiYmKGcubG9nKCJhZGRpbmcgcHJvbWlzZSB0byBhdHRhY2ggc291cmNlUGFja2FnZSIpLGY9bC50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNvdXJjZVBhY2thZ2U/KGM9ITAsZSk6KGM9ITEsci5hdHRhY2hSYXdTb3VyY2VQYWNrYWdlKGUpKX0pKSxmPWYudGhlbihmdW5jdGlvbihlKXtyZXR1cm4oIXN8fHMmJiFjJiZuKSYmci5zdG9yYWdlTWFuYWdlci5zZXQoZS5jZ3VpZCxlLnZlcnNpb24sZSksdC5hcHBseShyLFtlLGldKX0pfX0se2tleToiYXR0YWNoUmF3U291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBnLmxvZygiYXR0YWNoaW5nIHJhdyBzb3VyY2VQYWNrYWdlIGZyb206IixlLnNvdXJjZVBhY2thZ2VVUkwpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXsodm9pZCAwIT10P3IuaHR0cFJlcXVlc3QucG9zdChlLnNvdXJjZVBhY2thZ2VVUkwse2JvZHk6KDAsYS5kZWZhdWx0KSh0KX0pOnIuaHR0cFJlcXVlc3QuZ2V0KGUuc291cmNlUGFja2FnZVVSTCkpLnRoZW4oZnVuY3Rpb24odCl7dD1KU09OLnBhcnNlKHQpLGUuc291cmNlUGFja2FnZT10LG4oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImdldEh5cGVydHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZUh5cGVydHksdCxyKX19LHtrZXk6ImdldFN0dWJEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZVN0dWIsdCxyKX19LHtrZXk6ImdldFJ1bnRpbWVEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmdldERlc2NyaXB0b3IoZSx0aGlzLmNyZWF0ZVJ1bnRpbWVEZXNjcmlwdG9yLHQscil9fSx7a2V5OiJnZXREYXRhU2NoZW1hRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5nZXREZXNjcmlwdG9yKGUsdGhpcy5jcmVhdGVEYXRhU2NoZW1hLHQscil9fSx7a2V5OiJnZXRJZHBQcm94eURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvcihlLHRoaXMuY3JlYXRlSWRwUHJveHksdCxyKX19LHtrZXk6ImNyZWF0ZUh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZhY3RvcnkuY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS50eXBlfHxlLmh5cGVydHlUeXBlLGUuZGF0YU9iamVjdHMpO3QuY29uZmlndXJhdGlvbj1lLmNvbmZpZ3VyYXRpb24sdC5jb25zdHJhaW50cz1lLmNvbnN0cmFpbnRzLHQubWVzc2FnZVNjaGVtYT1lLm1lc3NhZ2VTY2hlbWEsdC5wb2xpY2llcz1lLnBvbGljaWVzLHQuc2lnbmF0dXJlPWUuc2lnbmF0dXJlO3ZhciByPWUuc291cmNlUGFja2FnZTtyZXR1cm4gciYmKHQuc291cmNlUGFja2FnZT10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2UocikpLHR9fSx7a2V5OiJjcmVhdGVTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9mYWN0b3J5LmNyZWF0ZVByb3RvU3R1YkRlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS5tZXNzYWdlU2NoZW1hcyxlLmNvbmZpZ3VyYXRpb24sZS5jb25zdHJhaW50cyxlLmh5cGVydHlUeXBlLGUuZGF0YU9iamVjdHMsZS5pbnRlcndvcmtpbmcsZS5pZHBQcm94eSxlLm11dHVhbEF1dGhlbnRpY2F0aW9uKTt0LnNpZ25hdHVyZT1lLnNpZ25hdHVyZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2U7cmV0dXJuIHImJih0LnNvdXJjZVBhY2thZ2U9dGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHIpKSx0fX0se2tleToiY3JlYXRlUnVudGltZURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtlLmh5cGVydHlDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShlLmh5cGVydHlDYXBhYmlsaXRpZXMpLGUucHJvdG9jb2xDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShlLnByb3RvY29sQ2FwYWJpbGl0aWVzKX1jYXRjaChlKXt9dmFyIHQ9dGhpcy5fZmFjdG9yeS5jcmVhdGVIeXBlcnR5UnVudGltZURlc2NyaXB0b3JPYmplY3QoZS5jZ3VpZCxlLnZlcnNpb24sZS5vYmplY3ROYW1lLGUuZGVzY3JpcHRpb24sZS5sYW5ndWFnZSxlLnNvdXJjZVBhY2thZ2VVUkwsZS50eXBlfHxlLnJ1bnRpbWVUeXBlLGUuaHlwZXJ0eUNhcGFiaWxpdGllcyxlLnByb3RvY29sQ2FwYWJpbGl0aWVzLGUucDJwSGFuZGxlclN0dWIsZS5wMnBSZXF1ZXN0ZXJTdHViKTt0LnNpZ25hdHVyZT1lLnNpZ25hdHVyZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2U7cmV0dXJuIHImJih0LnNvdXJjZVBhY2thZ2U9dGhpcy5jcmVhdGVTb3VyY2VQYWNrYWdlKHIpKSx0fX0se2tleToiY3JlYXRlRGF0YVNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO3Q9ZS5hY2Nlc3NDb250cm9sUG9saWN5JiZlLnNjaGVtZT90aGlzLl9mYWN0b3J5LmNyZWF0ZUh5cGVydHlEYXRhT2JqZWN0U2NoZW1hKGUuY2d1aWQsZS52ZXJzaW9uLGUub2JqZWN0TmFtZSxlLmRlc2NyaXB0aW9uLGUubGFuZ3VhZ2UsZS5zb3VyY2VQYWNrYWdlVVJMLGUuYWNjZXNzQ29udHJvbFBvbGljeSxlLnNjaGVtZSk6dGhpcy5fZmFjdG9yeS5jcmVhdGVNZXNzYWdlRGF0YU9iamVjdFNjaGVtYShlLmNndWlkLGUudmVyc2lvbixlLm9iamVjdE5hbWUsZS5kZXNjcmlwdGlvbixlLmxhbmd1YWdlLGUuc291cmNlUGFja2FnZVVSTCksdC5zaWduYXR1cmU9ZS5zaWduYXR1cmU7dmFyIHI9ZS5zb3VyY2VQYWNrYWdlO2lmKHIpe3Quc291cmNlUGFja2FnZT10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2Uocik7dHJ5e3Quc291cmNlUGFja2FnZS5zb3VyY2VDb2RlPUpTT04ucGFyc2UodC5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpfWNhdGNoKGUpe2cubG9nKCJEYXRhU2NoZW1hIFNvdXJjZSBjb2RlIGlzIGFscmVhZHkgcGFyc2VkIil9cmV0dXJuIHR9cmV0dXJuIHR9fSx7a2V5OiJjcmVhdGVJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmFjdG9yeS5jcmVhdGVQcm90b1N0dWJEZXNjcmlwdG9yT2JqZWN0KGUuY2d1aWQsZS52ZXJzaW9uLGUub2JqZWN0TmFtZSxlLmRlc2NyaXB0aW9uLGUubGFuZ3VhZ2UsZS5zb3VyY2VQYWNrYWdlVVJMLGUubWVzc2FnZVNjaGVtYXMsZS5jb25maWd1cmF0aW9uLGUuY29uc3RyYWludHMsZS5oeXBlcnR5VHlwZSxlLmRhdGFPYmplY3RzLGUuaW50ZXJ3b3JraW5nLGUuaWRwUHJveHksZS5tdXR1YWxBdXRoZW50aWNhdGlvbik7dC5zaWduYXR1cmU9ZS5zaWduYXR1cmU7dmFyIHI9ZS5zb3VyY2VQYWNrYWdlO3JldHVybiByJiYocj10aGlzLmNyZWF0ZVNvdXJjZVBhY2thZ2UociksdC5zb3VyY2VQYWNrYWdlPXIpLHR9fSx7a2V5OiJjcmVhdGVTb3VyY2VQYWNrYWdlIix2YWx1ZTpmdW5jdGlvbihlKXsiYmFzZTY0Ij09PWUuZW5jb2RpbmcmJihlLnNvdXJjZUNvZGU9dGhpcy5hdG9iKGUuc291cmNlQ29kZSksZS5lbmNvZGluZz0idXRmLTgiKTt2YXIgdD10aGlzLl9mYWN0b3J5LmNyZWF0ZVNvdXJjZVBhY2thZ2UoZS5zb3VyY2VDb2RlQ2xhc3NuYW1lLGUuc291cmNlQ29kZSk7cmV0dXJuIGUuZW5jb2RpbmcmJih0LmVuY29kaW5nPWUuZW5jb2RpbmcpLGUuc2lnbmF0dXJlJiYodC5zaWduYXR1cmU9ZS5zaWduYXR1cmUpLHR9fSx7a2V5OiJnZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZy5sb2coImdldHRpbmcgc291cmNlUGFja2FnZSBmcm9tOiIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuaHR0cFJlcXVlc3QuZ2V0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZS5FUlJPUiluKGUpO2Vsc2V7ZT1KU09OLnBhcnNlKGUpO3ZhciBvPXQuY3JlYXRlU291cmNlUGFja2FnZShlKTtyKG8pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiZ2V0U291cmNlQ29kZUZyb21EZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5zb3VyY2VQYWNrYWdlP3IoZS5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUpOnQuc3RvcmFnZU1hbmFnZXIuZ2V0VmVyc2lvbihlLnNvdXJjZVBhY2thZ2VVUkwrIi9zb3VyY2VDb2RlIikudGhlbihmdW5jdGlvbihvKXtvPj1lLnZlcnNpb24/KGcubG9nKCJyZXR1cm5pbmcgY2FjaGVkIHZlcnNpb24gZnJvbSBzdG9yYWdlTWFuYWdlciIpLHQuc3RvcmFnZU1hbmFnZXIuZ2V0KGUuc291cmNlUGFja2FnZVVSTCsiL3NvdXJjZUNvZGUiKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSkpOnQuaHR0cFJlcXVlc3QuZ2V0KGUuc291cmNlUGFja2FnZVVSTCsiL3NvdXJjZUNvZGUiKS50aGVuKGZ1bmN0aW9uKG8pe28uRVJST1I/bihvKToodC5zdG9yYWdlTWFuYWdlci5zZXQoZS5zb3VyY2VQYWNrYWdlVVJMKyIvc291cmNlQ29kZSIsZS52ZXJzaW9uLG8pLHIobykpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJnZXRUeXBlTGlzdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7KHZvaWQgMCE9dD9yLmh0dHBSZXF1ZXN0LnBvc3QoZSx7Ym9keTooMCxhLmRlZmF1bHQpKHQpfSk6ci5odHRwUmVxdWVzdC5nZXQoZSkpLnRoZW4oZnVuY3Rpb24oZSl7ZT1KU09OLnBhcnNlKGUpLG4oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX19LHtrZXk6ImRlbGV0ZUZyb21QTSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmFnZU1hbmFnZXIuZGVsZXRlKGUpfX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVVUkw9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVVUkx9fV0pLFJ1bnRpbWVDYXRhbG9ndWV9KCk7dC5kZWZhdWx0PWIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig1NTApLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNTUzKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihlLHQpe3ZhciByPVtdLG49ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9KDAsYS5kZWZhdWx0KShlKTshKG49KHM9dS5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKHMudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXshbiYmdS5yZXR1cm4mJnUucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiByfXJldHVybiBmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoKDAsby5kZWZhdWx0KShPYmplY3QoZSkpKXJldHVybiBzbGljZUl0ZXJhdG9yKGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0oKX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDU1MSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDEwMSkscig4MCksZS5leHBvcnRzPXIoNTUyKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTQyKSxvPXIoMjIpKCJpdGVyYXRvciIpLGk9cig3MSk7ZS5leHBvcnRzPXIoMTEpLmlzSXRlcmFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpO3JldHVybiB2b2lkIDAhPT10W29dfHwiQEBpdGVyYXRvciJpbiB0fHxpLmhhc093blByb3BlcnR5KG4odCkpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDU1NCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDEwMSkscig4MCksZS5leHBvcnRzPXIoNTU1KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLG89cigxNDMpO2UuZXhwb3J0cz1yKDExKS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiBuKHQuY2FsbChlKSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMiksYT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLHM9cig3MiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cig1NTkpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNTYwKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDU2MSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig1NjIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNTYzKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksXz1yKDU2NCksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5KCl7KDAsby5kZWZhdWx0KSh0aGlzLENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5KX1yZXR1cm4oMCxhLmRlZmF1bHQpKENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5LFt7a2V5OiJjcmVhdGVDYXRhbG9ndWVEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxhKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgdS5kZWZhdWx0KGUsdCxyLG4sbyxpLGEpfX0se2tleToiY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEsdSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09dHx8dm9pZCAwPT09cnx8dm9pZCAwPT09bnx8dm9pZCAwPT09b3x8dm9pZCAwPT09aXx8dm9pZCAwPT09YXx8dm9pZCAwPT09dSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGQuZGVmYXVsdChlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZLHQscixuLG8saSxhLHUpfX0se2tleToiY3JlYXRlUHJvdG9TdHViRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSx1LGMsbCxmLGQscCxoKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hfHx2b2lkIDA9PT11fHx2b2lkIDA9PT1jKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgeS5kZWZhdWx0KGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLlBST1RPU1RVQix0LHIsbixvLGksYSx1LGMsbCxmLGQscCxoKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlSdW50aW1lRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGksYSx1LGMsbCxmKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pfHx2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgdi5kZWZhdWx0KGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfUlVOVElNRSx0LHIsbixvLGksYSx1LGMsbCxmKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlJbnRlcmNlcHRvckRlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEsdSl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09dHx8dm9pZCAwPT09cnx8dm9pZCAwPT09bnx8dm9pZCAwPT09b3x8dm9pZCAwPT09aSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGIuZGVmYXVsdChlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0lOVEVSQ0VQVE9SLHQscixuLG8saSxhLHUpfX0se2tleToiY3JlYXRlRGF0YU9iamVjdFNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PXR8fHZvaWQgMD09PXJ8fHZvaWQgMD09PW58fHZvaWQgMD09PW98fHZvaWQgMD09PWkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBfLkRhdGFPYmplY3RTY2hlbWEoZSxzLkNhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9EQVRBX09CSkVDVCx0LHIsbixvLGkpfX0se2tleToiY3JlYXRlTWVzc2FnZURhdGFPYmplY3RTY2hlbWEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT10fHx2b2lkIDA9PT1yfHx2b2lkIDA9PT1ufHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgXy5EYXRhT2JqZWN0U2NoZW1hKGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsdCxyLG4sbyxpKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlEYXRhT2JqZWN0U2NoZW1hIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxhLHUpe2lmKHZvaWQgMD09PWV8fHZvaWQgMD09PXR8fHZvaWQgMD09PXJ8fHZvaWQgMD09PW58fHZvaWQgMD09PW98fHZvaWQgMD09PWl8fHZvaWQgMD09PXV8fHZvaWQgMD09PWEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIHU9PT1fLkRhdGFVcmxTY2hlbWUuQ09NTT9uZXcgXy5Db21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1fLkRhdGFVcmxTY2hlbWUuQ09OTkVDVElPTj9uZXcgXy5Db25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1fLkRhdGFVcmxTY2hlbWUuQ1RYVD9uZXcgXy5Db250ZXh0RGF0YU9iamVjdFNjaGVtYShlLHMuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX0RBVEFfT0JKRUNULHQscixuLG8saSx1LGEpOnU9PT1fLkRhdGFVcmxTY2hlbWUuSURFTlRJVFk/bmV3IF8uSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKGUscy5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFlfREFUQV9PQkpFQ1QsdCxyLG4sbyxpLHUsYSk6dm9pZCAwfX0se2tleToiY3JlYXRlU291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10fHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgbC5kZWZhdWx0KGUsdCl9fV0pLENhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5fSgpO3QuZGVmYXVsdD1tLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuUmV0aGlua09iamVjdD12b2lkIDA7dmFyIG49cigzNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoNTU4KSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj10LlJldGhpbmtPYmplY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZXRoaW5rT2JqZWN0KCl7KDAsYS5kZWZhdWx0KSh0aGlzLFJldGhpbmtPYmplY3QpfXJldHVybigwLHUuZGVmYXVsdCkoUmV0aGlua09iamVjdCxbe2tleToidmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2wuZGVmYXVsdC5hZGRTY2hlbWEoZS5pZCxlKTt2YXIgdD1sLmRlZmF1bHQudmFsaWRhdGVNdWx0aXBsZShKU09OLnBhcnNlKCgwLG8uZGVmYXVsdCkodGhpcykpLGUpO3JldHVybiB0LmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBlLnN0YWNrfSksIXQudmFsaWR8fHQubWlzc2luZy5sZW5ndGgsdC52YWxpZH19XSksUmV0aGlua09iamVjdH0oKTt0LmRlZmF1bHQ9Zn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saTshZnVuY3Rpb24ocixhKXtvPVtdLG49YSx2b2lkIDAhPT0oaT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmFwcGx5KHQsbyk6bikmJihlLmV4cG9ydHM9aSl9KDAsZnVuY3Rpb24oKXtmdW5jdGlvbiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGUpe3JldHVybiBlbmNvZGVVUkkoZSkucmVwbGFjZSgvJTI1WzAtOV1bMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLnN1YnN0cmluZygzKX0pfWZ1bmN0aW9uIHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHIpe3ZhciBuPSIiO2Vbci5jaGFyQXQoMCldJiYobj1yLmNoYXJBdCgwKSxyPXIuc3Vic3RyaW5nKDEpKTt2YXIgbz0iIixpPSIiLGE9ITAscz0hMSx1PSExOyIrIj09PW4/YT0hMToiLiI9PT1uPyhpPSIuIixvPSIuIik6Ii8iPT09bj8oaT0iLyIsbz0iLyIpOiIjIj09PW4/KGk9IiMiLGE9ITEpOiI7Ij09PW4/KGk9IjsiLG89IjsiLHM9ITAsdT0hMCk6Ij8iPT09bj8oaT0iPyIsbz0iJiIscz0hMCk6IiYiPT09biYmKGk9IiYiLG89IiYiLHM9ITApO2Zvcih2YXIgYz1bXSxsPXIuc3BsaXQoIiwiKSxmPVtdLGQ9e30scD0wO3A8bC5sZW5ndGg7cCsrKXt2YXIgeT1sW3BdLGg9bnVsbDtpZigtMSE9PXkuaW5kZXhPZigiOiIpKXt2YXIgdj15LnNwbGl0KCI6Iik7eT12WzBdLGg9cGFyc2VJbnQodlsxXSwxMCl9Zm9yKHZhciBnPXt9O3RbeS5jaGFyQXQoeS5sZW5ndGgtMSldOylnW3kuY2hhckF0KHkubGVuZ3RoLTEpXT0hMCx5PXkuc3Vic3RyaW5nKDAseS5sZW5ndGgtMSk7dmFyIGI9e3RydW5jYXRlOmgsbmFtZTp5LHN1ZmZpY2VzOmd9O2YucHVzaChiKSxkW3ldPWIsYy5wdXNoKHkpfXZhciBfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixyPTAsbj0wO248Zi5sZW5ndGg7bisrKXt2YXIgYz1mW25dLGw9ZShjLm5hbWUpO2lmKG51bGw9PT1sfHx2b2lkIDA9PT1sfHxBcnJheS5pc0FycmF5KGwpJiYwPT09bC5sZW5ndGh8fCJvYmplY3QiPT10eXBlb2YgbCYmMD09PU9iamVjdC5rZXlzKGwpLmxlbmd0aClyKys7ZWxzZSBpZih0Kz1uPT09cj9pOm98fCIsIixBcnJheS5pc0FycmF5KGwpKXtzJiYodCs9Yy5uYW1lKyI9Iik7Zm9yKHZhciBkPTA7ZDxsLmxlbmd0aDtkKyspZD4wJiYodCs9Yy5zdWZmaWNlc1siKiJdP298fCIsIjoiLCIsYy5zdWZmaWNlc1siKiJdJiZzJiYodCs9Yy5uYW1lKyI9IikpLHQrPWE/ZW5jb2RlVVJJQ29tcG9uZW50KGxbZF0pLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZShsW2RdKX1lbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgbCl7cyYmIWMuc3VmZmljZXNbIioiXSYmKHQrPWMubmFtZSsiPSIpO3ZhciBwPSEwO2Zvcih2YXIgeSBpbiBsKXB8fCh0Kz1jLnN1ZmZpY2VzWyIqIl0/b3x8IiwiOiIsIikscD0hMSx0Kz1hP2VuY29kZVVSSUNvbXBvbmVudCh5KS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUoeSksdCs9Yy5zdWZmaWNlc1siKiJdPyI9IjoiLCIsdCs9YT9lbmNvZGVVUklDb21wb25lbnQobFt5XSkucmVwbGFjZSgvIS9nLCIlMjEiKTpub3RSZWFsbHlQZXJjZW50RW5jb2RlKGxbeV0pfWVsc2UgcyYmKHQrPWMubmFtZSx1JiYiIj09PWx8fCh0Kz0iPSIpKSxudWxsIT1jLnRydW5jYXRlJiYobD1sLnN1YnN0cmluZygwLGMudHJ1bmNhdGUpKSx0Kz1hP2VuY29kZVVSSUNvbXBvbmVudChsKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobCl9cmV0dXJuIHR9O3JldHVybiBfLnZhck5hbWVzPWMse3ByZWZpeDppLHN1YnN0aXR1dGlvbjpffX1mdW5jdGlvbiBVcmlUZW1wbGF0ZShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBVcmlUZW1wbGF0ZSkpcmV0dXJuIG5ldyBVcmlUZW1wbGF0ZShlKTtmb3IodmFyIHQ9ZS5zcGxpdCgieyIpLHI9W3Quc2hpZnQoKV0sbj1bXSxvPVtdLGk9W107dC5sZW5ndGg+MDspe3ZhciBhPXQuc2hpZnQoKSxzPWEuc3BsaXQoIn0iKVswXSx1PWEuc3Vic3RyaW5nKHMubGVuZ3RoKzEpLGM9dXJpVGVtcGxhdGVTdWJzdGl0dXRpb24ocyk7by5wdXNoKGMuc3Vic3RpdHV0aW9uKSxuLnB1c2goYy5wcmVmaXgpLHIucHVzaCh1KSxpPWkuY29uY2F0KGMuc3Vic3RpdHV0aW9uLnZhck5hbWVzKX10aGlzLmZpbGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXJbMF0sbj0wO248by5sZW5ndGg7bisrKXt0Kz0oMCxvW25dKShlKSx0Kz1yW24rMV19cmV0dXJuIHR9LHRoaXMudmFyTmFtZXM9aSx0aGlzLnRlbXBsYXRlPWV9ZnVuY3Rpb24gcmVjdXJzaXZlQ29tcGFyZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKGUmJnQmJiJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiB0KXtpZihBcnJheS5pc0FycmF5KGUpIT09QXJyYXkuaXNBcnJheSh0KSlyZXR1cm4hMTtpZihBcnJheS5pc0FycmF5KGUpKXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKCFyZWN1cnNpdmVDb21wYXJlKGVbcl0sdFtyXSkpcmV0dXJuITF9ZWxzZXt2YXIgbjtmb3IobiBpbiBlKWlmKHZvaWQgMD09PXRbbl0mJnZvaWQgMCE9PWVbbl0pcmV0dXJuITE7Zm9yKG4gaW4gdClpZih2b2lkIDA9PT1lW25dJiZ2b2lkIDAhPT10W25dKXJldHVybiExO2ZvcihuIGluIGUpaWYoIXJlY3Vyc2l2ZUNvbXBhcmUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBwYXJzZVVSSShlKXt2YXIgdD1TdHJpbmcoZSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLm1hdGNoKC9eKFteOlwvPyNdKzopPyhcL1wvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcLz8jXSopKD86OihcZCopKT8pKT8oW14/I10qKShcP1teI10qKT8oI1tcc1xTXSopPy8pO3JldHVybiB0P3tocmVmOnRbMF18fCIiLHByb3RvY29sOnRbMV18fCIiLGF1dGhvcml0eTp0WzJdfHwiIixob3N0OnRbM118fCIiLGhvc3RuYW1lOnRbNF18fCIiLHBvcnQ6dFs1XXx8IiIscGF0aG5hbWU6dFs2XXx8IiIsc2VhcmNoOnRbN118fCIiLGhhc2g6dFs4XXx8IiJ9Om51bGx9ZnVuY3Rpb24gcmVzb2x2ZVVybChlLHQpe3JldHVybiB0PXBhcnNlVVJJKHR8fCIiKSxlPXBhcnNlVVJJKGV8fCIiKSx0JiZlPyh0LnByb3RvY29sfHxlLnByb3RvY29sKSsodC5wcm90b2NvbHx8dC5hdXRob3JpdHk/dC5hdXRob3JpdHk6ZS5hdXRob3JpdHkpK2Z1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLnJlcGxhY2UoL14oXC5cLj8oXC98JCkpKy8sIiIpLnJlcGxhY2UoL1wvKFwuKFwvfCQpKSsvZywiLyIpLnJlcGxhY2UoL1wvXC5cLiQvLCIvLi4vIikucmVwbGFjZSgvXC8/W15cL10qL2csZnVuY3Rpb24oZSl7Ii8uLiI9PT1lP3QucG9wKCk6dC5wdXNoKGUpfSksdC5qb2luKCIiKS5yZXBsYWNlKC9eXC8vLCIvIj09PWUuY2hhckF0KDApPyIvIjoiIil9KHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5fHwiLyI9PT10LnBhdGhuYW1lLmNoYXJBdCgwKT90LnBhdGhuYW1lOnQucGF0aG5hbWU/KGUuYXV0aG9yaXR5JiYhZS5wYXRobmFtZT8iLyI6IiIpK2UucGF0aG5hbWUuc2xpY2UoMCxlLnBhdGhuYW1lLmxhc3RJbmRleE9mKCIvIikrMSkrdC5wYXRobmFtZTplLnBhdGhuYW1lKSsodC5wcm90b2NvbHx8dC5hdXRob3JpdHl8fHQucGF0aG5hbWU/dC5zZWFyY2g6dC5zZWFyY2h8fGUuc2VhcmNoKSt0Lmhhc2g6bnVsbH1mdW5jdGlvbiBnZXREb2N1bWVudFVyaShlKXtyZXR1cm4gZS5zcGxpdCgiIyIpWzBdfWZ1bmN0aW9uIG5vcm1TY2hlbWEoZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpaWYodm9pZCAwPT09dD90PWUuaWQ6InN0cmluZyI9PXR5cGVvZiBlLmlkJiYodD1yZXNvbHZlVXJsKHQsZS5pZCksZS5pZD10KSxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKW5vcm1TY2hlbWEoZVtyXSx0KTtlbHNleyJzdHJpbmciPT10eXBlb2YgZS4kcmVmJiYoZS4kcmVmPXJlc29sdmVVcmwodCxlLiRyZWYpKTtmb3IodmFyIG4gaW4gZSkiZW51bSIhPT1uJiZub3JtU2NoZW1hKGVbbl0sdCl9fWZ1bmN0aW9uIGRlZmF1bHRFcnJvclJlcG9ydGVyKGUpe2U9ZXx8ImVuIjt2YXIgdD1jW2VdO3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10W2UuY29kZV18fHVbZS5jb2RlXTtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIlVua25vd24gZXJyb3IgY29kZSAiK2UuY29kZSsiOiAiK0pTT04uc3RyaW5naWZ5KGUubWVzc2FnZVBhcmFtcyk7dmFyIG49ZS5wYXJhbXM7cmV0dXJuIHIucmVwbGFjZSgvXHsoW157fV0qKVx9L2csZnVuY3Rpb24oZSx0KXt2YXIgcj1uW3RdO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3I6ZX0pfX1mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZSx0LHIsbixvKXtpZihFcnJvci5jYWxsKHRoaXMpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiAiK24pO3RoaXMubWVzc2FnZT0iIix0aGlzLnBhcmFtcz10LHRoaXMuY29kZT1lLHRoaXMuZGF0YVBhdGg9cnx8IiIsdGhpcy5zY2hlbWFQYXRoPW58fCIiLHRoaXMuc3ViRXJyb3JzPW98fG51bGw7dmFyIGk9bmV3IEVycm9yKHRoaXMubWVzc2FnZSk7aWYodGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2UsIXRoaXMuc3RhY2spdHJ5e3Rocm93IGl9Y2F0Y2goaSl7dGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2V9fWZ1bmN0aW9uIGlzVHJ1c3RlZFVybChlLHQpe2lmKHQuc3Vic3RyaW5nKDAsZS5sZW5ndGgpPT09ZSl7dmFyIHI9dC5zdWJzdHJpbmcoZS5sZW5ndGgpO2lmKHQubGVuZ3RoPjAmJiIvIj09PXQuY2hhckF0KGUubGVuZ3RoLTEpfHwiIyI9PT1yLmNoYXJBdCgwKXx8Ij8iPT09ci5jaGFyQXQoMCkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlQXBpKGUpe3ZhciB0LG4sbz1uZXcgcixzPXtzZXRFcnJvclJlcG9ydGVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLmxhbmd1YWdlKGUpOihuPWUsITApfSxhZGRGb3JtYXQ6ZnVuY3Rpb24oKXtvLmFkZEZvcm1hdC5hcHBseShvLGFyZ3VtZW50cyl9LGxhbmd1YWdlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyhjW2VdfHwoZT1lLnNwbGl0KCItIilbMF0pLCEhY1tlXSYmKHQ9ZSxlKSk6dH0sYWRkTGFuZ3VhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IociBpbiBpKXRbcl0mJiF0W2lbcl1dJiYodFtpW3JdXT10W3JdKTt2YXIgbj1lLnNwbGl0KCItIilbMF07aWYoY1tuXSl7Y1tlXT1PYmplY3QuY3JlYXRlKGNbbl0pO2ZvcihyIGluIHQpdm9pZCAwPT09Y1tuXVtyXSYmKGNbbl1bcl09dFtyXSksY1tlXVtyXT10W3JdfWVsc2UgY1tlXT10LGNbbl09dDtyZXR1cm4gdGhpc30sZnJlc2hBcGk6ZnVuY3Rpb24oZSl7dmFyIHQ9Y3JlYXRlQXBpKCk7cmV0dXJuIGUmJnQubGFuZ3VhZ2UoZSksdH0sdmFsaWRhdGU6ZnVuY3Rpb24oZSxpLGEscyl7dmFyIHU9ZGVmYXVsdEVycm9yUmVwb3J0ZXIodCksYz1uP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbihlLHQscil8fHUoZSx0LHIpfTp1LGw9bmV3IHIobywhMSxjLGEscyk7InN0cmluZyI9PXR5cGVvZiBpJiYoaT17JHJlZjppfSksbC5hZGRTY2hlbWEoIiIsaSk7dmFyIGY9bC52YWxpZGF0ZUFsbChlLGksbnVsbCxudWxsLCIiKTtyZXR1cm4hZiYmcyYmKGY9bC5iYW5Vbmtub3duUHJvcGVydGllcyhlLGkpKSx0aGlzLmVycm9yPWYsdGhpcy5taXNzaW5nPWwubWlzc2luZyx0aGlzLnZhbGlkPW51bGw9PT1mLHRoaXMudmFsaWR9LHZhbGlkYXRlUmVzdWx0OmZ1bmN0aW9uKCl7dmFyIGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsaWQ/InZhbGlkIjp0aGlzLmVycm9yLm1lc3NhZ2V9fTtyZXR1cm4gdGhpcy52YWxpZGF0ZS5hcHBseShlLGFyZ3VtZW50cyksZX0sdmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLGksYSxzKXt2YXIgdT1kZWZhdWx0RXJyb3JSZXBvcnRlcih0KSxjPW4/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuKGUsdCxyKXx8dShlLHQscil9OnUsbD1uZXcgcihvLCEwLGMsYSxzKTsic3RyaW5nIj09dHlwZW9mIGkmJihpPXskcmVmOml9KSxsLmFkZFNjaGVtYSgiIixpKSxsLnZhbGlkYXRlQWxsKGUsaSxudWxsLG51bGwsIiIpLHMmJmwuYmFuVW5rbm93blByb3BlcnRpZXMoZSxpKTt2YXIgZj17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZD8idmFsaWQiOnRoaXMuZXJyb3IubWVzc2FnZX19O3JldHVybiBmLmVycm9ycz1sLmVycm9ycyxmLm1pc3Npbmc9bC5taXNzaW5nLGYudmFsaWQ9MD09PWYuZXJyb3JzLmxlbmd0aCxmfSxhZGRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gby5hZGRTY2hlbWEuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRTY2hlbWEuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWFNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRTY2hlbWFNYXAuYXBwbHkobyxhcmd1bWVudHMpfSxnZXRTY2hlbWFVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0U2NoZW1hVXJpcy5hcHBseShvLGFyZ3VtZW50cyl9LGdldE1pc3NpbmdVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0TWlzc2luZ1VyaXMuYXBwbHkobyxhcmd1bWVudHMpfSxkcm9wU2NoZW1hczpmdW5jdGlvbigpe28uZHJvcFNjaGVtYXMuYXBwbHkobyxhcmd1bWVudHMpfSxkZWZpbmVLZXl3b3JkOmZ1bmN0aW9uKCl7by5kZWZpbmVLZXl3b3JkLmFwcGx5KG8sYXJndW1lbnRzKX0sZGVmaW5lRXJyb3I6ZnVuY3Rpb24oZSx0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMiKTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fHQlMSE9MHx8dDwxZTQpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCIpO2lmKHZvaWQgMCE9PWlbZV0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICIrZSsiIGFzICIraVtlXSk7aWYodm9pZCAwIT09YVt0XSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAiK2FbdF0rIiBhcyAiK3QpO2lbZV09dCxhW3RdPWUsdVtlXT11W3RdPXI7Zm9yKHZhciBuIGluIGMpe3ZhciBvPWNbbl07b1tlXSYmKG9bdF09b1t0XXx8b1tlXSl9fSxyZXNldDpmdW5jdGlvbigpe28ucmVzZXQoKSx0aGlzLmVycm9yPW51bGwsdGhpcy5taXNzaW5nPVtdLHRoaXMudmFsaWQ9ITB9LG1pc3Npbmc6W10sZXJyb3I6bnVsbCx2YWxpZDohMCxub3JtU2NoZW1hOm5vcm1TY2hlbWEscmVzb2x2ZVVybDpyZXNvbHZlVXJsLGdldERvY3VtZW50VXJpOmdldERvY3VtZW50VXJpLGVycm9yQ29kZXM6aX07cmV0dXJuIHMubGFuZ3VhZ2UoZXx8ImVuIiksc31PYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx0PSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoInRvU3RyaW5nIikscj1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLG49ci5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKCJvYmplY3QiIT10eXBlb2YgbyYmImZ1bmN0aW9uIiE9dHlwZW9mIG98fG51bGw9PT1vKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Iik7dmFyIGk9W107Zm9yKHZhciBhIGluIG8pZS5jYWxsKG8sYSkmJmkucHVzaChhKTtpZih0KWZvcih2YXIgcz0wO3M8bjtzKyspZS5jYWxsKG8scltzXSkmJmkucHVzaChyW3NdKTtyZXR1cm4gaX19KCkpLE9iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLiIpO3JldHVybiBGLnByb3RvdHlwZT1lLG5ldyBGfX0oKSksQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7aWYobnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgdD1PYmplY3QodGhpcykscj10Lmxlbmd0aD4+PjA7aWYoMD09PXIpcmV0dXJuLTE7dmFyIG49MDtpZihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU51bWJlcihhcmd1bWVudHNbMV0pLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0xLzAmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpLG4+PXIpcmV0dXJuLTE7Zm9yKHZhciBvPW4+PTA/bjpNYXRoLm1heChyLU1hdGguYWJzKG4pLDApO288cjtvKyspaWYobyBpbiB0JiZ0W29dPT09ZSlyZXR1cm4gbztyZXR1cm4tMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9InR2NF90ZXN0X2Zyb3plbl9rZXkiO2UuaGFzT3duUHJvcGVydHkodCk7KXQrPU1hdGgucmFuZG9tKCk7dHJ5e3JldHVybiBlW3RdPSEwLGRlbGV0ZSBlW3RdLCExfWNhdGNoKGUpe3JldHVybiEwfX0pO3ZhciBlPXsiKyI6ITAsIiMiOiEwLCIuIjohMCwiLyI6ITAsIjsiOiEwLCI/IjohMCwiJiI6ITB9LHQ9eyIqIjohMH07VXJpVGVtcGxhdGUucHJvdG90eXBlPXt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRlbXBsYXRlfSxmaWxsRnJvbU9iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maWxsKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9fTt2YXIgcj1mdW5jdGlvbihlLHQscixuLG8pe2lmKHRoaXMubWlzc2luZz1bXSx0aGlzLm1pc3NpbmdNYXA9e30sdGhpcy5mb3JtYXRWYWxpZGF0b3JzPWU/T2JqZWN0LmNyZWF0ZShlLmZvcm1hdFZhbGlkYXRvcnMpOnt9LHRoaXMuc2NoZW1hcz1lP09iamVjdC5jcmVhdGUoZS5zY2hlbWFzKTp7fSx0aGlzLmNvbGxlY3RNdWx0aXBsZT10LHRoaXMuZXJyb3JzPVtdLHRoaXMuaGFuZGxlRXJyb3I9dD90aGlzLmNvbGxlY3RFcnJvcjp0aGlzLnJldHVybkVycm9yLG4mJih0aGlzLmNoZWNrUmVjdXJzaXZlPSEwLHRoaXMuc2Nhbm5lZD1bXSx0aGlzLnNjYW5uZWRGcm96ZW49W10sdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcz1bXSx0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzPVtdLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleT0idHY0X3ZhbGlkYXRpb25faWQiLHRoaXMudmFsaWRhdGlvbkVycm9yc0tleT0idHY0X3ZhbGlkYXRpb25fZXJyb3JzX2lkIiksbyYmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcz0hMCx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPXt9KSx0aGlzLmVycm9yUmVwb3J0ZXI9cnx8ZGVmYXVsdEVycm9yUmVwb3J0ZXIoImVuIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLmVycm9yUmVwb3J0ZXIpdGhyb3cgbmV3IEVycm9yKCJkZWJ1ZyIpO2lmKHRoaXMuZGVmaW5lZEtleXdvcmRzPXt9LGUpZm9yKHZhciBpIGluIGUuZGVmaW5lZEtleXdvcmRzKXRoaXMuZGVmaW5lZEtleXdvcmRzW2ldPWUuZGVmaW5lZEtleXdvcmRzW2ldLnNsaWNlKDApfTtyLnByb3RvdHlwZS5kZWZpbmVLZXl3b3JkPWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWZpbmVkS2V5d29yZHNbZV09dGhpcy5kZWZpbmVkS2V5d29yZHNbZV18fFtdLHRoaXMuZGVmaW5lZEtleXdvcmRzW2VdLnB1c2godCl9LHIucHJvdG90eXBlLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEpe3ZhciBzPW5ldyBWYWxpZGF0aW9uRXJyb3IoZSx0LHIsbixvKTtyZXR1cm4gcy5tZXNzYWdlPXRoaXMuZXJyb3JSZXBvcnRlcihzLGksYSksc30sci5wcm90b3R5cGUucmV0dXJuRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHIucHJvdG90eXBlLmNvbGxlY3RFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5lcnJvcnMucHVzaChlKSxudWxsfSxyLnByb3RvdHlwZS5wcmVmaXhFcnJvcnM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lO248dGhpcy5lcnJvcnMubGVuZ3RoO24rKyl0aGlzLmVycm9yc1tuXT10aGlzLmVycm9yc1tuXS5wcmVmaXhXaXRoKHQscik7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmJhblVua25vd25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpe3ZhciBuPXRoaXMuY3JlYXRlRXJyb3IoaS5VTktOT1dOX1BST1BFUlRZLHtwYXRoOnJ9LHIsIiIsbnVsbCxlLHQpLG89dGhpcy5oYW5kbGVFcnJvcihuKTtpZihvKXJldHVybiBvfXJldHVybiBudWxsfSxyLnByb3RvdHlwZS5hZGRGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09dHlwZW9mIGUpe2Zvcih2YXIgciBpbiBlKXRoaXMuYWRkRm9ybWF0KHIsZVtyXSk7cmV0dXJuIHRoaXN9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW2VdPXR9LHIucHJvdG90eXBlLnJlc29sdmVSZWZzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09ZS4kcmVmKXtpZih0PXR8fHt9LHRbZS4kcmVmXSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLkNJUkNVTEFSX1JFRkVSRU5DRSx7dXJsczpPYmplY3Qua2V5cyh0KS5qb2luKCIsICIpfSwiIiwiIixudWxsLHZvaWQgMCxlKTt0W2UuJHJlZl09ITAsZT10aGlzLmdldFNjaGVtYShlLiRyZWYsdCl9cmV0dXJuIGV9LHIucHJvdG90eXBlLmdldFNjaGVtYT1mdW5jdGlvbihlLHQpe3ZhciByO2lmKHZvaWQgMCE9PXRoaXMuc2NoZW1hc1tlXSlyZXR1cm4gcj10aGlzLnNjaGVtYXNbZV0sdGhpcy5yZXNvbHZlUmVmcyhyLHQpO3ZhciBuPWUsbz0iIjtpZigtMSE9PWUuaW5kZXhPZigiIyIpJiYobz1lLnN1YnN0cmluZyhlLmluZGV4T2YoIiMiKSsxKSxuPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCIjIikpKSwib2JqZWN0Ij09dHlwZW9mIHRoaXMuc2NoZW1hc1tuXSl7cj10aGlzLnNjaGVtYXNbbl07dmFyIGk9ZGVjb2RlVVJJQ29tcG9uZW50KG8pO2lmKCIiPT09aSlyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhyLHQpO2lmKCIvIiE9PWkuY2hhckF0KDApKXJldHVybjtmb3IodmFyIGE9aS5zcGxpdCgiLyIpLnNsaWNlKDEpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXS5yZXBsYWNlKC9+MS9nLCIvIikucmVwbGFjZSgvfjAvZywifiIpO2lmKHZvaWQgMD09PXJbdV0pe3I9dm9pZCAwO2JyZWFrfXI9clt1XX1pZih2b2lkIDAhPT1yKXJldHVybiB0aGlzLnJlc29sdmVSZWZzKHIsdCl9dm9pZCAwPT09dGhpcy5taXNzaW5nW25dJiYodGhpcy5taXNzaW5nLnB1c2gobiksdGhpcy5taXNzaW5nW25dPW4sdGhpcy5taXNzaW5nTWFwW25dPW4pfSxyLnByb3RvdHlwZS5zZWFyY2hTY2hlbWFzPWZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLnNlYXJjaFNjaGVtYXMoZVtyXSx0KTtlbHNlIGlmKGUmJiJvYmplY3QiPT10eXBlb2YgZSl7InN0cmluZyI9PXR5cGVvZiBlLmlkJiZpc1RydXN0ZWRVcmwodCxlLmlkKSYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW2UuaWRdJiYodGhpcy5zY2hlbWFzW2UuaWRdPWUpO2Zvcih2YXIgbiBpbiBlKWlmKCJlbnVtIiE9PW4paWYoIm9iamVjdCI9PXR5cGVvZiBlW25dKXRoaXMuc2VhcmNoU2NoZW1hcyhlW25dLHQpO2Vsc2UgaWYoIiRyZWYiPT09bil7dmFyIG89Z2V0RG9jdW1lbnRVcmkoZVtuXSk7byYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW29dJiZ2b2lkIDA9PT10aGlzLm1pc3NpbmdNYXBbb10mJih0aGlzLm1pc3NpbmdNYXBbb109byl9fX0sci5wcm90b3R5cGUuYWRkU2NoZW1hPWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHx2b2lkIDA9PT10KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgZS5pZClyZXR1cm47dD1lLGU9dC5pZH1lPT09Z2V0RG9jdW1lbnRVcmkoZSkrIiMiJiYoZT1nZXREb2N1bWVudFVyaShlKSksdGhpcy5zY2hlbWFzW2VdPXQsZGVsZXRlIHRoaXMubWlzc2luZ01hcFtlXSxub3JtU2NoZW1hKHQsZSksdGhpcy5zZWFyY2hTY2hlbWFzKHQsZSl9LHIucHJvdG90eXBlLmdldFNjaGVtYU1hcD1mdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnNjaGVtYXMpZVt0XT10aGlzLnNjaGVtYXNbdF07cmV0dXJuIGV9LHIucHJvdG90eXBlLmdldFNjaGVtYVVyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMuc2NoZW1hcyllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LHIucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiB0aGlzLm1pc3NpbmdNYXApZSYmIWUudGVzdChyKXx8dC5wdXNoKHIpO3JldHVybiB0fSxyLnByb3RvdHlwZS5kcm9wU2NoZW1hcz1mdW5jdGlvbigpe3RoaXMuc2NoZW1hcz17fSx0aGlzLnJlc2V0KCl9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5taXNzaW5nPVtdLHRoaXMubWlzc2luZ01hcD17fSx0aGlzLmVycm9ycz1bXX0sci5wcm90b3R5cGUudmFsaWRhdGVBbGw9ZnVuY3Rpb24oZSx0LHIsbixvKXt2YXIgaTtpZighKHQ9dGhpcy5yZXNvbHZlUmVmcyh0KSkpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcilyZXR1cm4gdGhpcy5lcnJvcnMucHVzaCh0KSx0O3ZhciBhLHM9dGhpcy5lcnJvcnMubGVuZ3RoLHU9bnVsbCxjPW51bGw7aWYodGhpcy5jaGVja1JlY3Vyc2l2ZSYmZSYmIm9iamVjdCI9PXR5cGVvZiBlKXtpZihpPSF0aGlzLnNjYW5uZWQubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl7dmFyIGw9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2YodCk7aWYoLTEhPT1sKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdKSxudWxsfWlmKE9iamVjdC5pc0Zyb3plbihlKSYmLTEhPT0oYT10aGlzLnNjYW5uZWRGcm96ZW4uaW5kZXhPZihlKSkpe3ZhciBmPXRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV0uaW5kZXhPZih0KTtpZigtMSE9PWYpcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLmNvbmNhdCh0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2ZdKSxudWxsfWlmKHRoaXMuc2Nhbm5lZC5wdXNoKGUpLE9iamVjdC5pc0Zyb3plbihlKSktMT09PWEmJihhPXRoaXMuc2Nhbm5lZEZyb3plbi5sZW5ndGgsdGhpcy5zY2FubmVkRnJvemVuLnB1c2goZSksdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcy5wdXNoKFtdKSksdT10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdW3VdPXQsdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt1XT1bXTtlbHNle2lmKCFlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pdHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5LHt2YWx1ZTpbXSxjb25maWd1cmFibGU6ITB9KX1jYXRjaCh0KXtlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV09W10sZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldPVtdfWM9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmxlbmd0aCxlW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV1bY109dCxlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bY109W119fXZhciBkPXRoaXMuZXJyb3JzLmxlbmd0aCxwPXRoaXMudmFsaWRhdGVCYXNpYyhlLHQsbyl8fHRoaXMudmFsaWRhdGVOdW1lcmljKGUsdCxvKXx8dGhpcy52YWxpZGF0ZVN0cmluZyhlLHQsbyl8fHRoaXMudmFsaWRhdGVBcnJheShlLHQsbyl8fHRoaXMudmFsaWRhdGVPYmplY3QoZSx0LG8pfHx0aGlzLnZhbGlkYXRlQ29tYmluYXRpb25zKGUsdCxvKXx8dGhpcy52YWxpZGF0ZUh5cGVybWVkaWEoZSx0LG8pfHx0aGlzLnZhbGlkYXRlRm9ybWF0KGUsdCxvKXx8dGhpcy52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyhlLHQsbyl8fG51bGw7aWYoaSl7Zm9yKDt0aGlzLnNjYW5uZWQubGVuZ3RoOyl7ZGVsZXRlIHRoaXMuc2Nhbm5lZC5wb3AoKVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldfXRoaXMuc2Nhbm5lZEZyb3plbj1bXSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzPVtdfWlmKHB8fGQhPT10aGlzLmVycm9ycy5sZW5ndGgpZm9yKDtyJiZyLmxlbmd0aHx8biYmbi5sZW5ndGg7KXt2YXIgeT1yJiZyLmxlbmd0aD8iIityLnBvcCgpOm51bGwsaD1uJiZuLmxlbmd0aD8iIituLnBvcCgpOm51bGw7cCYmKHA9cC5wcmVmaXhXaXRoKHksaCkpLHRoaXMucHJlZml4RXJyb3JzKGQseSxoKX1yZXR1cm4gbnVsbCE9PXU/dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt1XT10aGlzLmVycm9ycy5zbGljZShzKTpudWxsIT09YyYmKGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtjXT10aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5oYW5kbGVFcnJvcihwKX0sci5wcm90b3R5cGUudmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQuZm9ybWF0fHwhdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XSlyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmZvcm1hdFZhbGlkYXRvcnNbdC5mb3JtYXRdLmNhbGwobnVsbCxlLHQpO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoaS5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnJ9LCIiLCIvZm9ybWF0IixudWxsLGUsdCk6ciYmIm9iamVjdCI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoaS5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnIubWVzc2FnZXx8Ij8ifSxyLmRhdGFQYXRofHwiIixyLnNjaGVtYVBhdGh8fCIvZm9ybWF0IixudWxsLGUsdCk6bnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0aGlzLmRlZmluZWRLZXl3b3JkcylpZih2b2lkIDAhPT10W25dKWZvcih2YXIgbz10aGlzLmRlZmluZWRLZXl3b3Jkc1tuXSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV0sdT1zKGUsdFtuXSx0LHIpO2lmKCJzdHJpbmciPT10eXBlb2YgdXx8Im51bWJlciI9PXR5cGVvZiB1KXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuS0VZV09SRF9DVVNUT00se2tleTpuLG1lc3NhZ2U6dX0sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxuKTtpZih1JiYib2JqZWN0Ij09dHlwZW9mIHUpe3ZhciBjPXUuY29kZTtpZigic3RyaW5nIj09dHlwZW9mIGMpe2lmKCFpW2NdKXRocm93IG5ldyBFcnJvcigiVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICIrYyk7Yz1pW2NdfWVsc2UibnVtYmVyIiE9dHlwZW9mIGMmJihjPWkuS0VZV09SRF9DVVNUT00pO3ZhciBsPSJvYmplY3QiPT10eXBlb2YgdS5tZXNzYWdlP3UubWVzc2FnZTp7a2V5Om4sbWVzc2FnZTp1Lm1lc3NhZ2V8fCI/In0sZj11LnNjaGVtYVBhdGh8fCIvIituLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpO3JldHVybiB0aGlzLmNyZWF0ZUVycm9yKGMsbCx1LmRhdGFQYXRofHxudWxsLGYsbnVsbCxlLHQpfX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVCYXNpYz1mdW5jdGlvbihlLHQscil7dmFyIG47cmV0dXJuKG49dGhpcy52YWxpZGF0ZVR5cGUoZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOihuPXRoaXMudmFsaWRhdGVFbnVtKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKTpudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZVR5cGU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LnR5cGUpcmV0dXJuIG51bGw7dmFyIHI9dHlwZW9mIGU7bnVsbD09PWU/cj0ibnVsbCI6QXJyYXkuaXNBcnJheShlKSYmKHI9ImFycmF5Iik7dmFyIG49dC50eXBlO0FycmF5LmlzQXJyYXkobil8fChuPVtuXSk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoYT09PXJ8fCJpbnRlZ2VyIj09PWEmJiJudW1iZXIiPT09ciYmZSUxPT0wKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuSU5WQUxJRF9UWVBFLHt0eXBlOnIsZXhwZWN0ZWQ6bi5qb2luKCIvIil9LCIiLCIiLG51bGwsZSx0KX0sci5wcm90b3R5cGUudmFsaWRhdGVFbnVtPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dC5lbnVtKXJldHVybiBudWxsO2Zvcih2YXIgcj0wO3I8dC5lbnVtLmxlbmd0aDtyKyspe2lmKHJlY3Vyc2l2ZUNvbXBhcmUoZSx0LmVudW1bcl0pKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuRU5VTV9NSVNNQVRDSCx7dmFsdWU6InVuZGVmaW5lZCIhPXR5cGVvZiBKU09OP0pTT04uc3RyaW5naWZ5KGUpOmV9LCIiLCIiLG51bGwsZSx0KX0sci5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTWluTWF4KGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5hTihlLHQscil8fG51bGx9O3ZhciBuPU1hdGgucG93KDIsLTUxKSxvPTEtbjtyLnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm11bHRpcGxlT2Z8fHQuZGl2aXNpYmxlQnk7aWYodm9pZCAwPT09cilyZXR1cm4gbnVsbDtpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBhPWUvciUxO2lmKGE+PW4mJmE8bylyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLk5VTUJFUl9NVUxUSVBMRV9PRix7dmFsdWU6ZSxtdWx0aXBsZU9mOnJ9LCIiLCIiLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXg9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYodm9pZCAwIT09dC5taW5pbXVtKXtpZihlPHQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihpLk5VTUJFUl9NSU5JTVVNLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL21pbmltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1pbmltdW0mJmU9PT10Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoaS5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvZXhjbHVzaXZlTWluaW11bSIsbnVsbCxlLHQpfWlmKHZvaWQgMCE9PXQubWF4aW11bSl7aWYoZT50Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoaS5OVU1CRVJfTUFYSU1VTSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9tYXhpbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNYXhpbXVtJiZlPT09dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGkuTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL2V4Y2x1c2l2ZU1heGltdW0iLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVOYU49ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGU/bnVsbDohMD09PWlzTmFOKGUpfHxlPT09MS8wfHxlPT09LTEvMD90aGlzLmNyZWF0ZUVycm9yKGkuTlVNQkVSX05PVF9BX05VTUJFUix7dmFsdWU6ZX0sIiIsIi90eXBlIixudWxsLGUsdCk6bnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGUsdCxyKXx8dGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aD1mdW5jdGlvbihlLHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9udWxsOnZvaWQgMCE9PXQubWluTGVuZ3RoJiZlLmxlbmd0aDx0Lm1pbkxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKGkuU1RSSU5HX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5MZW5ndGh9LCIiLCIvbWluTGVuZ3RoIixudWxsLGUsdCk6dm9pZCAwIT09dC5tYXhMZW5ndGgmJmUubGVuZ3RoPnQubWF4TGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IoaS5TVFJJTkdfTEVOR1RIX0xPTkcse2xlbmd0aDplLmxlbmd0aCxtYXhpbXVtOnQubWF4TGVuZ3RofSwiIiwiL21heExlbmd0aCIsbnVsbCxlLHQpOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8InN0cmluZyIhPXR5cGVvZiB0LnBhdHRlcm4mJiEodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSlyZXR1cm4gbnVsbDt2YXIgcjtpZih0LnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApcj10LnBhdHRlcm47ZWxzZXt2YXIgbixvPSIiLGE9dC5wYXR0ZXJuLm1hdGNoKC9eXC8oLispXC8oW2ltZ10qKSQvKTthPyhuPWFbMV0sbz1hWzJdKTpuPXQucGF0dGVybixyPW5ldyBSZWdFeHAobixvKX1yZXR1cm4gci50ZXN0KGUpP251bGw6dGhpcy5jcmVhdGVFcnJvcihpLlNUUklOR19QQVRURVJOLHtwYXR0ZXJuOnQucGF0dGVybn0sIiIsIi9wYXR0ZXJuIixudWxsLGUsdCl9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3RoaXMudmFsaWRhdGVBcnJheUxlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZSx0LHIpfHxudWxsOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdm9pZCAwIT09dC5taW5JdGVtcyYmZS5sZW5ndGg8dC5taW5JdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLkFSUkFZX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5JdGVtc30sIiIsIi9taW5JdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhJdGVtcyYmZS5sZW5ndGg+dC5tYXhJdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLkFSUkFZX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heEl0ZW1zfSwiIiwiL21heEl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjpudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXM9ZnVuY3Rpb24oZSx0KXtpZih0LnVuaXF1ZUl0ZW1zKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1yKzE7bjxlLmxlbmd0aDtuKyspaWYocmVjdXJzaXZlQ29tcGFyZShlW3JdLGVbbl0pKXt2YXIgbz10aGlzLmNyZWF0ZUVycm9yKGkuQVJSQVlfVU5JUVVFLHttYXRjaDE6cixtYXRjaDI6bn0sIiIsIi91bmlxdWVJdGVtcyIsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IobykpcmV0dXJuIG99cmV0dXJuIG51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5pdGVtcylyZXR1cm4gbnVsbDt2YXIgbixvO2lmKEFycmF5LmlzQXJyYXkodC5pdGVtcykpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspaWYobzx0Lml0ZW1zLmxlbmd0aCl7aWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5pdGVtc1tvXSxbb10sWyJpdGVtcyIsb10scisiLyIrbykpcmV0dXJuIG59ZWxzZSBpZih2b2lkIDAhPT10LmFkZGl0aW9uYWxJdGVtcylpZigiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxJdGVtcyl7aWYoIXQuYWRkaXRpb25hbEl0ZW1zJiYobj10aGlzLmNyZWF0ZUVycm9yKGkuQVJSQVlfQURESVRJT05BTF9JVEVNUyx7fSwiLyIrbywiL2FkZGl0aW9uYWxJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5hZGRpdGlvbmFsSXRlbXMsW29dLFsiYWRkaXRpb25hbEl0ZW1zIl0scisiLyIrbykpcmV0dXJuIG59ZWxzZSBmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQuaXRlbXMsW29dLFsiaXRlbXMiXSxyKyIvIitvKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVPYmplY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJvYmplY3QiIT10eXBlb2YgZXx8bnVsbD09PWV8fEFycmF5LmlzQXJyYXkoZSk/bnVsbDp0aGlzLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPU9iamVjdC5rZXlzKGUpO3JldHVybiB2b2lkIDAhPT10Lm1pblByb3BlcnRpZXMmJm4ubGVuZ3RoPHQubWluUHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihpLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWluaW11bTp0Lm1pblByb3BlcnRpZXN9LCIiLCIvbWluUHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhQcm9wZXJ0aWVzJiZuLmxlbmd0aD50Lm1heFByb3BlcnRpZXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoaS5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLHtwcm9wZXJ0eUNvdW50Om4ubGVuZ3RoLG1heGltdW06dC5tYXhQcm9wZXJ0aWVzfSwiIiwiL21heFByb3BlcnRpZXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5yZXF1aXJlZClmb3IodmFyIHI9MDtyPHQucmVxdWlyZWQubGVuZ3RoO3IrKyl7dmFyIG49dC5yZXF1aXJlZFtyXTtpZih2b2lkIDA9PT1lW25dKXt2YXIgbz10aGlzLmNyZWF0ZUVycm9yKGkuT0JKRUNUX1JFUVVJUkVELHtrZXk6bn0sIiIsIi9yZXF1aXJlZC8iK3IsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IobykpcmV0dXJuIG99fXJldHVybiBudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2Zvcih2YXIgbyBpbiBlKXt2YXIgYT1yKyIvIitvLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHM9ITE7aWYodm9pZCAwIT09dC5wcm9wZXJ0aWVzJiZ2b2lkIDAhPT10LnByb3BlcnRpZXNbb10mJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQucHJvcGVydGllc1tvXSxbb10sWyJwcm9wZXJ0aWVzIixvXSxhKSkpcmV0dXJuIG47aWYodm9pZCAwIT09dC5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIHUgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGM9bmV3IFJlZ0V4cCh1KTtpZihjLnRlc3QobykmJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQucGF0dGVyblByb3BlcnRpZXNbdV0sW29dLFsicGF0dGVyblByb3BlcnRpZXMiLHVdLGEpKSlyZXR1cm4gbn1pZihzKXRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdKTtlbHNlIGlmKHZvaWQgMCE9PXQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdKSwiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXtpZighdC5hZGRpdGlvbmFsUHJvcGVydGllcyYmKG49dGhpcy5jcmVhdGVFcnJvcihpLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMse2tleTpvfSwiIiwiL2FkZGl0aW9uYWxQcm9wZXJ0aWVzIixudWxsLGUsdCkucHJlZml4V2l0aChvLG51bGwpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5hZGRpdGlvbmFsUHJvcGVydGllcyxbb10sWyJhZGRpdGlvbmFsUHJvcGVydGllcyJdLGEpKXJldHVybiBufWVsc2UgdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYhdGhpcy5rbm93blByb3BlcnR5UGF0aHNbYV0mJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2FdPSEwKX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKHZvaWQgMCE9PXQuZGVwZW5kZW5jaWVzKWZvcih2YXIgbyBpbiB0LmRlcGVuZGVuY2llcylpZih2b2lkIDAhPT1lW29dKXt2YXIgYT10LmRlcGVuZGVuY2llc1tvXTtpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKHZvaWQgMD09PWVbYV0mJihuPXRoaXMuY3JlYXRlRXJyb3IoaS5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTpvLG1pc3Npbmc6YX0sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxvKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXTtpZih2b2lkIDA9PT1lW3VdJiYobj10aGlzLmNyZWF0ZUVycm9yKGkuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLHtrZXk6byxtaXNzaW5nOnV9LCIiLCIvIitzLG51bGwsZSx0KS5wcmVmaXhXaXRoKG51bGwsbykucHJlZml4V2l0aChudWxsLCJkZXBlbmRlbmNpZXMiKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlLGEsW10sWyJkZXBlbmRlbmNpZXMiLG9dLHIpKXJldHVybiBufXJldHVybiBudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihlLHQscil8fHRoaXMudmFsaWRhdGVBbnlPZihlLHQscil8fHRoaXMudmFsaWRhdGVPbmVPZihlLHQscil8fHRoaXMudmFsaWRhdGVOb3QoZSx0LHIpfHxudWxsfSxyLnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFsbE9mKXJldHVybiBudWxsO2Zvcih2YXIgbixvPTA7bzx0LmFsbE9mLmxlbmd0aDtvKyspe3ZhciBpPXQuYWxsT2Zbb107aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsaSxbXSxbImFsbE9mIixvXSxyKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUudmFsaWRhdGVBbnlPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5hbnlPZilyZXR1cm4gbnVsbDt2YXIgbixvLGE9W10scz10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLG89dGhpcy5rbm93blByb3BlcnR5UGF0aHMpO2Zvcih2YXIgdT0hMCxjPTA7Yzx0LmFueU9mLmxlbmd0aDtjKyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBsPXQuYW55T2ZbY10sZj10aGlzLmVycm9ycy5sZW5ndGgsZD10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbImFueU9mIixjXSxyKTtpZihudWxsPT09ZCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgcCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylvW3BdPSEwLGRlbGV0ZSBuW3BdO2Zvcih2YXIgeSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKW9beV18fChuW3ldPSEwKTt1PSExO2NvbnRpbnVlfXJldHVybiBudWxsfWQmJmEucHVzaChkLnByZWZpeFdpdGgobnVsbCwiIitjKS5wcmVmaXhXaXRoKG51bGwsImFueU9mIikpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksdT8oYT1hLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKGkuQU5ZX09GX01JU1NJTkcse30sIiIsIi9hbnlPZiIsYSxlLHQpKTp2b2lkIDB9LHIucHJvdG90eXBlLnZhbGlkYXRlT25lT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQub25lT2YpcmV0dXJuIG51bGw7dmFyIG4sbyxhPW51bGwscz1bXSx1PXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsbz10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciBjPTA7Yzx0Lm9uZU9mLmxlbmd0aDtjKyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBsPXQub25lT2ZbY10sZj10aGlzLmVycm9ycy5sZW5ndGgsZD10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbIm9uZU9mIixjXSxyKTtpZihudWxsPT09ZCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYobnVsbCE9PWEpcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksdGhpcy5jcmVhdGVFcnJvcihpLk9ORV9PRl9NVUxUSVBMRSx7aW5kZXgxOmEsaW5kZXgyOmN9LCIiLCIvb25lT2YiLG51bGwsZSx0KTtpZihhPWMsdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKXtmb3IodmFyIHAgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpb1twXT0hMCxkZWxldGUgbltwXTtmb3IodmFyIHkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocylvW3ldfHwoblt5XT0hMCl9fWVsc2UgZCYmcy5wdXNoKGQpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksbnVsbD09PWE/KHM9cy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2UodSkpLHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksdGhpcy5jcmVhdGVFcnJvcihpLk9ORV9PRl9NSVNTSU5HLHt9LCIiLCIvb25lT2YiLHMsZSx0KSk6KHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsdSksbnVsbCl9LHIucHJvdG90eXBlLnZhbGlkYXRlTm90PWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lm5vdClyZXR1cm4gbnVsbDt2YXIgbixvLGE9dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxvPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzLHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBzPXRoaXMudmFsaWRhdGVBbGwoZSx0Lm5vdCxudWxsLG51bGwsciksdT10aGlzLmVycm9ycy5zbGljZShhKTtyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxhKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9byksbnVsbD09PXMmJjA9PT11Lmxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKGkuTk9UX1BBU1NFRCx7fSwiIiwiL25vdCIsbnVsbCxlLHQpOm51bGx9LHIucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYT1mdW5jdGlvbihlLHQscil7aWYoIXQubGlua3MpcmV0dXJuIG51bGw7Zm9yKHZhciBuLG89MDtvPHQubGlua3MubGVuZ3RoO28rKyl7dmFyIGk9dC5saW5rc1tvXTtpZigiZGVzY3JpYmVkYnkiPT09aS5yZWwpe2Zvcih2YXIgYT1uZXcgVXJpVGVtcGxhdGUoaS5ocmVmKSxzPSEwLHU9MDt1PGEudmFyTmFtZXMubGVuZ3RoO3UrKylpZighKGEudmFyTmFtZXNbdV1pbiBlKSl7cz0hMTticmVha31pZihzKXt2YXIgYz1hLmZpbGxGcm9tT2JqZWN0KGUpLGw9eyRyZWY6Y307aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsbCxbXSxbImxpbmtzIixvXSxyKSlyZXR1cm4gbn19fX07dmFyIGk9e0lOVkFMSURfVFlQRTowLEVOVU1fTUlTTUFUQ0g6MSxBTllfT0ZfTUlTU0lORzoxMCxPTkVfT0ZfTUlTU0lORzoxMSxPTkVfT0ZfTVVMVElQTEU6MTIsTk9UX1BBU1NFRDoxMyxOVU1CRVJfTVVMVElQTEVfT0Y6MTAwLE5VTUJFUl9NSU5JTVVNOjEwMSxOVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6MTAyLE5VTUJFUl9NQVhJTVVNOjEwMyxOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6MTA0LE5VTUJFUl9OT1RfQV9OVU1CRVI6MTA1LFNUUklOR19MRU5HVEhfU0hPUlQ6MjAwLFNUUklOR19MRU5HVEhfTE9ORzoyMDEsU1RSSU5HX1BBVFRFUk46MjAyLE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06MzAwLE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06MzAxLE9CSkVDVF9SRVFVSVJFRDozMDIsT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzozMDMsT0JKRUNUX0RFUEVOREVOQ1lfS0VZOjMwNCxBUlJBWV9MRU5HVEhfU0hPUlQ6NDAwLEFSUkFZX0xFTkdUSF9MT05HOjQwMSxBUlJBWV9VTklRVUU6NDAyLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6NDAzLEZPUk1BVF9DVVNUT006NTAwLEtFWVdPUkRfQ1VTVE9NOjUwMSxDSVJDVUxBUl9SRUZFUkVOQ0U6NjAwLFVOS05PV05fUFJPUEVSVFk6MWUzfSxhPXt9O2Zvcih2YXIgcyBpbiBpKWFbaVtzXV09czt2YXIgdT17SU5WQUxJRF9UWVBFOiJJbnZhbGlkIHR5cGU6IHt0eXBlfSAoZXhwZWN0ZWQge2V4cGVjdGVkfSkiLEVOVU1fTUlTTUFUQ0g6Ik5vIGVudW0gbWF0Y2ggZm9yOiB7dmFsdWV9IixBTllfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJhbnlPZiInLE9ORV9PRl9NSVNTSU5HOidEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gIm9uZU9mIicsT05FX09GX01VTFRJUExFOidEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSAib25lT2YiOiBpbmRpY2VzIHtpbmRleDF9IGFuZCB7aW5kZXgyfScsTk9UX1BBU1NFRDonRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tICJub3QiJyxOVU1CRVJfTVVMVElQTEVfT0Y6IlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgbXVsdGlwbGUgb2Yge211bHRpcGxlT2Z9IixOVU1CRVJfTUlOSU1VTToiVmFsdWUge3ZhbHVlfSBpcyBsZXNzIHRoYW4gbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRToiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWluaW11bSB7bWluaW11bX0iLE5VTUJFUl9NQVhJTVVNOiJWYWx1ZSB7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtYXhpbXVtIHttYXhpbXVtfSIsTlVNQkVSX05PVF9BX05VTUJFUjoiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIiLFNUUklOR19MRU5HVEhfU0hPUlQ6IlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX0iLFNUUklOR19MRU5HVEhfTE9ORzoiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19IixTVFJJTkdfUEFUVEVSTjoiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufSIsT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTToiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1pbmltdW0ge21pbmltdW19IixPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiJUb28gbWFueSBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1heGltdW0ge21heGltdW19IixPQkpFQ1RfUkVRVUlSRUQ6Ik1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHtrZXl9IixPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiJBZGRpdGlvbmFsIHByb3BlcnRpZXMgbm90IGFsbG93ZWQiLE9CSkVDVF9ERVBFTkRFTkNZX0tFWToiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDoge21pc3Npbmd9IChkdWUgdG8ga2V5OiB7a2V5fSkiLEFSUkFZX0xFTkdUSF9TSE9SVDoiQXJyYXkgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSksIG1pbmltdW0ge21pbmltdW19IixBUlJBWV9MRU5HVEhfTE9ORzoiQXJyYXkgaXMgdG9vIGxvbmcgKHtsZW5ndGh9KSwgbWF4aW11bSB7bWF4aW11bX0iLEFSUkFZX1VOSVFVRToiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWUgKGluZGljZXMge21hdGNoMX0gYW5kIHttYXRjaDJ9KSIsQVJSQVlfQURESVRJT05BTF9JVEVNUzoiQWRkaXRpb25hbCBpdGVtcyBub3QgYWxsb3dlZCIsRk9STUFUX0NVU1RPTToiRm9ybWF0IHZhbGlkYXRpb24gZmFpbGVkICh7bWVzc2FnZX0pIixLRVlXT1JEX0NVU1RPTToiS2V5d29yZCBmYWlsZWQ6IHtrZXl9ICh7bWVzc2FnZX0pIixDSVJDVUxBUl9SRUZFUkVOQ0U6IkNpcmN1bGFyICRyZWZzOiB7dXJsc30iLFVOS05PV05fUFJPUEVSVFk6IlVua25vd24gcHJvcGVydHkgKG5vdCBpbiBzY2hlbWEpIn07VmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1WYWxpZGF0aW9uRXJyb3IsVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lPSJWYWxpZGF0aW9uRXJyb3IiLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUucHJlZml4V2l0aD1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT1lJiYoZT1lLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuZGF0YVBhdGg9Ii8iK2UrdGhpcy5kYXRhUGF0aCksbnVsbCE9PXQmJih0PXQucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksdGhpcy5zY2hlbWFQYXRoPSIvIit0K3RoaXMuc2NoZW1hUGF0aCksbnVsbCE9PXRoaXMuc3ViRXJyb3JzKWZvcih2YXIgcj0wO3I8dGhpcy5zdWJFcnJvcnMubGVuZ3RoO3IrKyl0aGlzLnN1YkVycm9yc1tyXS5wcmVmaXhXaXRoKGUsdCk7cmV0dXJuIHRoaXN9O3ZhciBjPXt9LGw9Y3JlYXRlQXBpKCk7cmV0dXJuIGwuYWRkTGFuZ3VhZ2UoImVuLWdiIix1KSxsLnR2ND1sLGx9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU291cmNlUGFja2FnZShlLHQpeygwLG8uZGVmYXVsdCkodGhpcyxTb3VyY2VQYWNrYWdlKSx0aGlzLl9zb3VyY2VDb2RlPXQsdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZT1lLHRoaXMuX2VuY29kaW5nPW51bGwsdGhpcy5fc2lnbmF0dXJlPW51bGx9cmV0dXJuKDAsYS5kZWZhdWx0KShTb3VyY2VQYWNrYWdlLFt7a2V5OiJzb3VyY2VDb2RlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlQ29kZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VDb2RlPWUpfX0se2tleToic291cmNlQ29kZUNsYXNzbmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZUNvZGVDbGFzc25hbWV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZT1lKX19LHtrZXk6ImVuY29kaW5nIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5jb2Rpbmd9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fZW5jb2Rpbmc9ZSl9fSx7a2V5OiJzaWduYXR1cmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc2lnbmF0dXJlPWUpfX1dKSxTb3VyY2VQYWNrYWdlfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuSHlwZXJ0eVJlc291cmNlVHlwZT10Lkh5cGVydHlUeXBlPXQuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5VHlwZT12b2lkIDA7dmFyIG49cigxNSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxhPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSkscz1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTcpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoMTgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXIoNzIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIEh5cGVydHlEZXNjcmlwdG9yKGUsdCxyLG4saSxzLHUsYyxmKXsoMCxhLmRlZmF1bHQpKHRoaXMsSHlwZXJ0eURlc2NyaXB0b3IpO3ZhciBkPSgwLGwuZGVmYXVsdCkodGhpcywoSHlwZXJ0eURlc2NyaXB0b3IuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKEh5cGVydHlEZXNjcmlwdG9yKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLHUpKTtyZXR1cm4gZC5fY29uZmlndXJhdGlvbj17fSxkLl9jb25zdHJhaW50cz17fSxkLl9wb2xpY2llcz17fSxkLl9tZXNzYWdlU2NoZW1hPW51bGwsZC5faHlwZXJ0eVR5cGU9YyxkLl9kYXRhT2JqZWN0cz1mLGR9cmV0dXJuKDAsZC5kZWZhdWx0KShIeXBlcnR5RGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKEh5cGVydHlEZXNjcmlwdG9yLFt7a2V5OiJoeXBlcnR5VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2h5cGVydHlUeXBlPWUpfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9kYXRhT2JqZWN0cz1lKX19LHtrZXk6ImNvbmZpZ3VyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbmZpZ3VyYXRpb249ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToibWVzc2FnZVNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWF9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYT1lKX19LHtrZXk6InBvbGljaWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9saWNpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fcG9saWNpZXM9ZSl9fV0pLEh5cGVydHlEZXNjcmlwdG9yfSh5LmRlZmF1bHQpO3QuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5VHlwZT17fSx0Lkh5cGVydHlUeXBlPXtDT01NVU5JQ0FUT1I6ImNvbW11bmljYXRvciIsSURFTlRJVFk6ImlkZW50aXR5IixDT05URVhUOiJjb250ZXh0In0sdC5IeXBlcnR5UmVzb3VyY2VUeXBlPXtjaGF0OiJDSEFUIixhdWRpbzoiQXVkaW8iLHZpZGVvOiJWaWRlbyIsYXY6IkFWIixzY3JlZW46IlNDUkVFTiIsZmlsZToiRklMZSIsbWlkaToiTUlESSJ9O3QuZGVmYXVsdD1ofSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxOCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig3MikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gUHJvdG9jb2xTdHViRGVzY3JpcHRvcihlLHQscixuLGkscyx1LGMsZixkLHAseSxoLHYsZyl7KDAsYS5kZWZhdWx0KSh0aGlzLFByb3RvY29sU3R1YkRlc2NyaXB0b3IpO3ZhciBiPSgwLGwuZGVmYXVsdCkodGhpcywoUHJvdG9jb2xTdHViRGVzY3JpcHRvci5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoUHJvdG9jb2xTdHViRGVzY3JpcHRvcikpLmNhbGwodGhpcyxlLHQscixuLGkscyx1KSk7cmV0dXJuIGIuX21lc3NhZ2VTY2hlbWFzPWMsYi5fY29uZmlndXJhdGlvbj1mfHx7fSxiLl9jb25zdHJhaW50cz1kfHx7fSxiLl9oeXBlcnR5VHlwZT1wLGIuX2RhdGFPYmplY3RzPXl8fFtdLGIuX2ludGVyd29ya2luZz1oLGIuX2lkcFByb3h5PXYsYi5fbXV0dWFsQXV0aGVudGljYXRpb249ZyxifXJldHVybigwLGQuZGVmYXVsdCkoUHJvdG9jb2xTdHViRGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKFByb3RvY29sU3R1YkRlc2NyaXB0b3IsW3trZXk6Im1lc3NhZ2VTY2hlbWFzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZVNjaGVtYXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYXM9ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToiY29uZmlndXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fY29uZmlndXJhdGlvbj1lKX19LHtrZXk6Imh5cGVydHlUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eVR5cGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oeXBlcnR5VHlwZT1lfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGFPYmplY3RzPWV9fSx7a2V5OiJpbnRlcndvcmtpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcndvcmtpbmd9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pbnRlcndvcmtpbmc9ZX19LHtrZXk6ImlkcFByb3h5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRwUHJveHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pZHBQcm94eT1lfX0se2tleToibXV0dWFsQXV0aGVudGljYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdXR1YWxBdXRoZW50aWNhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX211dHVhbEF1dGhlbnRpY2F0aW9uPWV9fV0pLFByb3RvY29sU3R1YkRlc2NyaXB0b3J9KHkuZGVmYXVsdCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5SdW50aW1lVHlwZT10LlJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHk9dC5SdW50aW1lSHlwZXJ0eUNhcGFiaWxpdHk9dm9pZCAwO3ZhciBuPXIoMzUpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMTUpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigyKSxsPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksZj1yKDE3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZikscD1yKDE4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcyKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5UnVudGltZURlc2NyaXB0b3IoZSx0LHIsbixvLGkscyxjLGwsZixwLHkpeygwLHUuZGVmYXVsdCkodGhpcyxIeXBlcnR5UnVudGltZURlc2NyaXB0b3IpO3ZhciBoPSgwLGQuZGVmYXVsdCkodGhpcywoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLl9fcHJvdG9fX3x8KDAsYS5kZWZhdWx0KShIeXBlcnR5UnVudGltZURlc2NyaXB0b3IpKS5jYWxsKHRoaXMsZSx0LHIsbixvLGkscykpO3JldHVybiBoLl9ydW50aW1lVHlwZT1jLGguX2h5cGVydHlDYXBhYmlsaXRpZXM9bHx8bmV3IGIoITAsITEsITEsITEsITEpLGguX3Byb3RvY29sQ2FwYWJpbGl0aWVzPWZ8fG5ldyBfKCEwLCExLCEwLCExLCExLCExKSxoLl9wMnBIYW5kbGVyU3R1Yj1wLGguX3AycFJlcXVlc3RlclN0dWI9eSxofXJldHVybigwLHkuZGVmYXVsdCkoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLGUpLCgwLGwuZGVmYXVsdCkoSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yLFt7a2V5OiJydW50aW1lVHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3J1bnRpbWVUeXBlPWUpfX0se2tleToiaHlwZXJ0eUNhcGFiaWxpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcz1lKX19LHtrZXk6InByb3RvY29sQ2FwYWJpbGl0aWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllc30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcz1lKX19LHtrZXk6InAycEhhbmRsZXJTdHViIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwSGFuZGxlclN0dWJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9wMnBIYW5kbGVyU3R1Yj1lfX0se2tleToicDJwUmVxdWVzdGVyU3R1YiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycFJlcXVlc3RlclN0dWJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9wMnBSZXF1ZXN0ZXJTdHViPWV9fV0pLEh5cGVydHlSdW50aW1lRGVzY3JpcHRvcn0odi5kZWZhdWx0KSxiPXQuUnVudGltZUh5cGVydHlDYXBhYmlsaXR5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVudGltZUh5cGVydHlDYXBhYmlsaXR5KGUsdCxyLG4sbyl7KDAsdS5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSksdGhpcy5faXNXZWJSVEM9ZSx0aGlzLl9pc01pYz10LHRoaXMuX2lzQ2FtZXJhPXIsdGhpcy5faXNTZW5zb3I9bix0aGlzLl9pc09SVEM9b31yZXR1cm4oMCxsLmRlZmF1bHQpKFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eSxbe2tleToiZ2V0Q2FwYWJpbGl0eVNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4oMCxvLmRlZmF1bHQpKHRoaXMpfX0se2tleToiaXNNaWMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc01pY319LHtrZXk6ImlzQ2FtZXJhIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDYW1lcmF9fSx7a2V5OiJpc1NlbnNvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2Vuc29yfX0se2tleToiaXNXZWJSVEMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dlYlJUQ319LHtrZXk6ImlzT1JUQ1MiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09SVEN9fV0pLFJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eX0oKSxfPXQuUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHkoZSx0LHIsbixvLGkpeygwLHUuZGVmYXVsdCkodGhpcyxSdW50aW1lUHJvdG9jb2xDYXBhYmlsaXR5KSx0aGlzLl9pc0h0dHA9ZSx0aGlzLl9pc0h0dHBzPXQsdGhpcy5faXNXUz1yLHRoaXMuX2lzV1NTPW4sdGhpcy5faXNDb2FwPW8sdGhpcy5faXNEYXRhQ2hhbm5lbD1pfXJldHVybigwLGwuZGVmYXVsdCkoUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eSxbe2tleToiaXNIdHRwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0h0dHB9fSx7a2V5OiJpc0h0dHBzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0h0dHBzfX0se2tleToiaXNXUyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNXU319LHtrZXk6ImlzU2Vuc29yU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NlbnNvcn19LHtrZXk6ImlzV1NTIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dTU319LHtrZXk6ImlzQ29hcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb2FwfX0se2tleToiaXNEYXRhQ2hhbm5lbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEYXRhQ2hhbm5lbH19LHtrZXk6ImdldENhcGFiaWxpdHlTZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKDAsby5kZWZhdWx0KSh0aGlzKX19XSksUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eX0oKTt0LlJ1bnRpbWVUeXBlPXtCUk9XU0VSOiJicm93c2VyIixTVEFOREFMT05FOiJzdGFuZGFsb25lIixTRVJWRVI6InNlcnZlciIsR0FURVdBWToiZ2F0ZXdheSJ9O3QuZGVmYXVsdD1nfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHMpLGM9cigxNyksbD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGY9cigxOCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGYpLHA9cig3MikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKGUsdCxyLG4saSxzLHUsYyxmKXsoMCxhLmRlZmF1bHQpKHRoaXMsUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKTt2YXIgZD0oMCxsLmRlZmF1bHQpKHRoaXMsKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvci5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLHUpKTtyZXR1cm4gZC5fY29uZmlndXJhdGlvbj1jLGQuX3BvbGljaWVzPWYsZH1yZXR1cm4oMCxkLmRlZmF1bHQpKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvcixlKSwoMCx1LmRlZmF1bHQpKFBvbGljeUVuZm9yY2VyRGVzY3JpcHRvcixbe2tleToiY29uZmlndXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb25maWd1cmF0aW9uPWV9fSx7a2V5OiJwb2xpY2llcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvbGljaWVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcG9saWNpZXM9ZX19XSksUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yfSh5LmRlZmF1bHQpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuRGF0YVVybFNjaGVtZT10LkNvbnRleHREYXRhT2JqZWN0U2NoZW1hPXQuSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hPXQuQ29ubmVjdGlvbkRhdGFPYmplY3RTY2hlbWE9dC5Db21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYT10Lkh5cGVydHlEYXRhT2JqZWN0U2NoZW1hPXQuTWVzc2FnZURhdGFPYmplY3RTY2hlbWE9dC5EYXRhT2JqZWN0U2NoZW1hPXZvaWQgMDt2YXIgbj1yKDE1KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLGE9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxzPXIoMTcpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChzKSxjPXIoMTgpLGw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxmPXIoNzIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChmKSxwPXQuRGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBEYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMpe3JldHVybigwLGEuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKERhdGFPYmplY3RTY2hlbWEuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKERhdGFPYmplY3RTY2hlbWEpKS5jYWxsKHRoaXMsZSx0LHIsbixpLHMsYykpfXJldHVybigwLGwuZGVmYXVsdCkoRGF0YU9iamVjdFNjaGVtYSxlKSxEYXRhT2JqZWN0U2NoZW1hfShkLmRlZmF1bHQpLHk9KHQuTWVzc2FnZURhdGFPYmplY3RTY2hlbWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gTWVzc2FnZURhdGFPYmplY3RTY2hlbWEoZSx0LHIsbixpLHMsYyl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKE1lc3NhZ2VEYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjKSl9cmV0dXJuKDAsbC5kZWZhdWx0KShNZXNzYWdlRGF0YU9iamVjdFNjaGVtYSxlKSxNZXNzYWdlRGF0YU9iamVjdFNjaGVtYX0ocCksdC5IeXBlcnR5RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5RGF0YU9iamVjdFNjaGVtYShlLHQscixuLGkscyxjLGwsZil7KDAsYS5kZWZhdWx0KSh0aGlzLEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hKTt2YXIgZD0oMCx1LmRlZmF1bHQpKHRoaXMsKEh5cGVydHlEYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShIeXBlcnR5RGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjKSk7cmV0dXJuIGQuX2FjY2Vzc0NvbnRyb2xQb2xpY3k9bCxkLl9zY2hlbWU9ZixkfXJldHVybigwLGwuZGVmYXVsdCkoSHlwZXJ0eURhdGFPYmplY3RTY2hlbWEsZSksSHlwZXJ0eURhdGFPYmplY3RTY2hlbWF9KHApKTt0LkNvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMsbCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShDb21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjLGwpKX1yZXR1cm4oMCxsLmRlZmF1bHQpKENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hLGUpLENvbW11bmljYXRpb25EYXRhT2JqZWN0U2NoZW1hfSh5KSx0LkNvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hKGUsdCxyLG4saSxzLGMsbCl7cmV0dXJuKDAsYS5kZWZhdWx0KSh0aGlzLENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShDb25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYSkpLmNhbGwodGhpcyxlLHQscixuLGkscyxjLGwpKX1yZXR1cm4oMCxsLmRlZmF1bHQpKENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hLGUpLENvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hfSh5KSx0LklkZW50aXR5RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBJZGVudGl0eURhdGFPYmplY3RTY2hlbWEoZSx0LHIsbixpLHMsYyxsKXtyZXR1cm4oMCxhLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKSwoMCx1LmRlZmF1bHQpKHRoaXMsKElkZW50aXR5RGF0YU9iamVjdFNjaGVtYS5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hKSkuY2FsbCh0aGlzLGUsdCxyLG4saSxzLGMsbCkpfXJldHVybigwLGwuZGVmYXVsdCkoSWRlbnRpdHlEYXRhT2JqZWN0U2NoZW1hLGUpLElkZW50aXR5RGF0YU9iamVjdFNjaGVtYX0oeSksdC5Db250ZXh0RGF0YU9iamVjdFNjaGVtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiBDb250ZXh0RGF0YU9iamVjdFNjaGVtYShlLHQscixuLGkscyxjLGwpe3JldHVybigwLGEuZGVmYXVsdCkodGhpcyxDb250ZXh0RGF0YU9iamVjdFNjaGVtYSksKDAsdS5kZWZhdWx0KSh0aGlzLChDb250ZXh0RGF0YU9iamVjdFNjaGVtYS5fX3Byb3RvX198fCgwLG8uZGVmYXVsdCkoQ29udGV4dERhdGFPYmplY3RTY2hlbWEpKS5jYWxsKHRoaXMsZSx0LHIsbixpLHMsYyxsKSl9cmV0dXJuKDAsbC5kZWZhdWx0KShDb250ZXh0RGF0YU9iamVjdFNjaGVtYSxlKSxDb250ZXh0RGF0YU9iamVjdFNjaGVtYX0oeSksdC5EYXRhVXJsU2NoZW1lPXtDT01NOiJDT01NIixDT05ORUNUSU9OOiJDT05ORUNUSU9OIixDVFhUOiJDVFhUIixJREVOVElUWToiSURFTlRJVFkifTt0LmRlZmF1bHQ9cH1dKX0pOw==",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "41.60",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "",
    "p2pRequesterStub": "",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}