{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xMi4wCi8vIGRhdGU6IFdlZCBBdWcgMDEgMjAxOCAxNDo0MToyMSBHTVQrMDEwMCAoV0VTVCkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKCiFmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJSdW50aW1lIixbXSx0KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SdW50aW1lPXQoKTplLlJ1bnRpbWU9dCgpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBuPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG4ubD0hMCxuLmV4cG9ydHN9dmFyIHQ9e307cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT1lLF9fd2VicGFja19yZXF1aXJlX18uYz10LF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihlLHQscil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpyfSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQsImEiLHQpLHR9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPSIiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTIxMil9KFtmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxvPXIoMjcpLGk9cigxOCkscz1yKDE5KSxhPXIoMjgpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGYsbCxkLHA9ZSZ1LkYseT1lJnUuRyxoPWUmdS5TLHY9ZSZ1LlAsZz1lJnUuQixiPXk/bjpoP25bdF18fChuW3RdPXt9KTooblt0XXx8e30pLnByb3RvdHlwZSxfPXk/bzpvW3RdfHwob1t0XT17fSksbT1fLnByb3RvdHlwZXx8KF8ucHJvdG90eXBlPXt9KTt5JiYocj10KTtmb3IoYyBpbiByKWY9IXAmJmImJnZvaWQgMCE9PWJbY10sbD0oZj9iOnIpW2NdLGQ9ZyYmZj9hKGwsbik6diYmImZ1bmN0aW9uIj09dHlwZW9mIGw/YShGdW5jdGlvbi5jYWxsLGwpOmwsYiYmcyhiLGMsbCxlJnUuVSksX1tjXSE9bCYmaShfLGMsZCksdiYmbVtjXSE9bCYmKG1bY109bCl9O24uY29yZT1vLHUuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NDApLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSwoMCxvLmRlZmF1bHQpKGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksciYmZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9fSgpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG4sbzshZnVuY3Rpb24oaSxzKXsidXNlIHN0cmljdCI7bj1zLHZvaWQgMCE9PShvPSJmdW5jdGlvbiI9PXR5cGVvZiBuP24uY2FsbCh0LHIsdCxlKTpuKSYmKGUuZXhwb3J0cz1vKX0oMCxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiaW5kTWV0aG9kKGUsdCl7dmFyIHI9ZVt0XTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygci5iaW5kKXJldHVybiByLmJpbmQoZSk7dHJ5e3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHIsZSl9Y2F0Y2godCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5hcHBseShyLFtlLGFyZ3VtZW50c10pfX19ZnVuY3Rpb24gcmVhbE1ldGhvZChyKXtyZXR1cm4iZGVidWciPT09ciYmKHI9ImxvZyIpLHR5cGVvZiBjb25zb2xlIT09dCYmKHZvaWQgMCE9PWNvbnNvbGVbcl0/YmluZE1ldGhvZChjb25zb2xlLHIpOnZvaWQgMCE9PWNvbnNvbGUubG9nP2JpbmRNZXRob2QoY29uc29sZSwibG9nIik6ZSl9ZnVuY3Rpb24gcmVwbGFjZUxvZ2dpbmdNZXRob2RzKHQsbil7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb107dGhpc1tpXT1vPHQ/ZTp0aGlzLm1ldGhvZEZhY3RvcnkoaSx0LG4pfXRoaXMubG9nPXRoaXMuZGVidWd9ZnVuY3Rpb24gZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcyhlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dHlwZW9mIGNvbnNvbGUhPT10JiYocmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwodGhpcyxyLG4pLHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpKX19ZnVuY3Rpb24gZGVmYXVsdE1ldGhvZEZhY3RvcnkoZSx0LHIpe3JldHVybiByZWFsTWV0aG9kKGUpfHxlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBMb2dnZXIoZSxuLG8pe2Z1bmN0aW9uIHBlcnNpc3RMZXZlbElmUG9zc2libGUoZSl7dmFyIG49KHJbZV18fCJzaWxlbnQiKS50b1VwcGVyQ2FzZSgpO2lmKHR5cGVvZiB3aW5kb3chPT10KXt0cnl7cmV0dXJuIHZvaWQod2luZG93LmxvY2FsU3RvcmFnZVthXT1uKX1jYXRjaChlKXt9dHJ5e3dpbmRvdy5kb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IituKyI7In1jYXRjaChlKXt9fX1mdW5jdGlvbiBnZXRQZXJzaXN0ZWRMZXZlbCgpe3ZhciBlO2lmKHR5cGVvZiB3aW5kb3chPT10KXt0cnl7ZT13aW5kb3cubG9jYWxTdG9yYWdlW2FdfWNhdGNoKGUpe31pZih0eXBlb2YgZT09PXQpdHJ5e3ZhciByPXdpbmRvdy5kb2N1bWVudC5jb29raWUsbj1yLmluZGV4T2YoZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9Iik7LTEhPT1uJiYoZT0vXihbXjtdKykvLmV4ZWMoci5zbGljZShuKSlbMV0pfWNhdGNoKGUpe31yZXR1cm4gdm9pZCAwPT09cy5sZXZlbHNbZV0mJihlPXZvaWQgMCksZX19dmFyIGkscz10aGlzLGE9ImxvZ2xldmVsIjtlJiYoYSs9IjoiK2UpLHMubmFtZT1lLHMubGV2ZWxzPXtUUkFDRTowLERFQlVHOjEsSU5GTzoyLFdBUk46MyxFUlJPUjo0LFNJTEVOVDo1fSxzLm1ldGhvZEZhY3Rvcnk9b3x8ZGVmYXVsdE1ldGhvZEZhY3Rvcnkscy5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiBpfSxzLnNldExldmVsPWZ1bmN0aW9uKHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiByJiZ2b2lkIDAhPT1zLmxldmVsc1tyLnRvVXBwZXJDYXNlKCldJiYocj1zLmxldmVsc1tyLnRvVXBwZXJDYXNlKCldKSwhKCJudW1iZXIiPT10eXBlb2YgciYmcj49MCYmcjw9cy5sZXZlbHMuU0lMRU5UKSl0aHJvdyJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiAiK3I7aWYoaT1yLCExIT09biYmcGVyc2lzdExldmVsSWZQb3NzaWJsZShyKSxyZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbChzLHIsZSksdHlwZW9mIGNvbnNvbGU9PT10JiZyPHMubGV2ZWxzLlNJTEVOVClyZXR1cm4iTm8gY29uc29sZSBhdmFpbGFibGUgZm9yIGxvZ2dpbmcifSxzLnNldERlZmF1bHRMZXZlbD1mdW5jdGlvbihlKXtnZXRQZXJzaXN0ZWRMZXZlbCgpfHxzLnNldExldmVsKGUsITEpfSxzLmVuYWJsZUFsbD1mdW5jdGlvbihlKXtzLnNldExldmVsKHMubGV2ZWxzLlRSQUNFLGUpfSxzLmRpc2FibGVBbGw9ZnVuY3Rpb24oZSl7cy5zZXRMZXZlbChzLmxldmVscy5TSUxFTlQsZSl9O3ZhciB1PWdldFBlcnNpc3RlZExldmVsKCk7bnVsbD09dSYmKHU9bnVsbD09bj8iV0FSTiI6bikscy5zZXRMZXZlbCh1LCExKX12YXIgZT1mdW5jdGlvbigpe30sdD0idW5kZWZpbmVkIixyPVsidHJhY2UiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiXSxuPW5ldyBMb2dnZXIsbz17fTtuLmdldExvZ2dlcj1mdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCIiPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJZb3UgbXVzdCBzdXBwbHkgYSBuYW1lIHdoZW4gY3JlYXRpbmcgYSBsb2dnZXIuIik7dmFyIHQ9b1tlXTtyZXR1cm4gdHx8KHQ9b1tlXT1uZXcgTG9nZ2VyKGUsbi5nZXRMZXZlbCgpLG4ubWV0aG9kRmFjdG9yeSkpLHR9O3ZhciBpPXR5cGVvZiB3aW5kb3chPT10P3dpbmRvdy5sb2c6dm9pZCAwO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9PXQmJndpbmRvdy5sb2c9PT1uJiYod2luZG93LmxvZz1pKSxufSxuLmdldExvZ2dlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gb30sbn0pfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDIwKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzkpKCJ3a3MiKSxvPXIoNDgpLGk9cig0KS5TeW1ib2wscz0iZnVuY3Rpb24iPT10eXBlb2YgaTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9KS5zdG9yZT1ufSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMyksbz1yKDE0OCksaT1yKDMyKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cigxMCk/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChlKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM0KSxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP28obihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gZGl2aWRlVVJMKGUpe2Z1bmN0aW9uIHJlY3Vyc2UoZSl7dmFyIHQ9LyhbYS16QS1aLV0qKSg6XC9cLyg/OlwuKT98OikoWy1hLXpBLVowLTlAOiUuXyt+Iz1dezIsMjU2fSkoWy1hLXpBLVowLTlAOiUuXyt+Iz1cL10qKS9naTtyZXR1cm4gZS5yZXBsYWNlKHQsIiQxLCQzLCQ0Iikuc3BsaXQoIiwiKX12YXIgdD1yZWN1cnNlKGUpO2lmKHRbMF09PT1lJiYhdFswXS5pbmNsdWRlcygiQCIpKXtyZXR1cm57dHlwZToiIixkb21haW46ZSxpZGVudGl0eToiIn19aWYodFswXT09PWUmJnRbMF0uaW5jbHVkZXMoIkAiKSl7dD1yZWN1cnNlKCh0WzBdPT09ZT8ic210cCI6dFswXSkrIjovLyIrdFswXSl9cmV0dXJuIHRbMV0uaW5jbHVkZXMoIkAiKSYmKHRbMl09dFswXSsiOi8vIit0WzFdLHRbMV09dFsxXS5zdWJzdHIodFsxXS5pbmRleE9mKCJAIikrMSkpLHt0eXBlOnRbMF0sZG9tYWluOnRbMV0saWRlbnRpdHk6dFsyXX19ZnVuY3Rpb24gZW1wdHlPYmplY3QoZSl7cmV0dXJuISgoMCxzLmRlZmF1bHQpKGUpLmxlbmd0aD4wKX1mdW5jdGlvbiBzZWNvbmRzU2luY2VFcG9jaCgpe3JldHVybiBNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKX1mdW5jdGlvbiBkZWVwQ2xvbmUoZSl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZSgoMCxvLmRlZmF1bHQpKGUpKX1mdW5jdGlvbiByZW1vdmVQYXRoRnJvbVVSTChlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbMF0rIi8vIit0WzJdKyIvIit0WzNdfWZ1bmN0aW9uIGdldFVzZXJVUkxGcm9tRW1haWwoZSl7dmFyIHQ9ZS5pbmRleE9mKCJAIik7cmV0dXJuInVzZXI6Ly8iK2Uuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aCkrIi8iK2Uuc3Vic3RyaW5nKDAsdCl9ZnVuY3Rpb24gZ2V0VXNlckVtYWlsRnJvbVVSTChlKXt2YXIgdD1kaXZpZGVVUkwoZSk7cmV0dXJuIHQuaWRlbnRpdHkucmVwbGFjZSgiLyIsIiIpKyJAIit0LmRvbWFpbn1mdW5jdGlvbiBjb252ZXJ0VG9Vc2VyVVJMKGUpe2lmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PWRpdmlkZVVSTChlKTtpZih0LmRvbWFpbiYmdC5pZGVudGl0eSlyZXR1cm4gZTt0aHJvdyJ1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0In1yZXR1cm4gZ2V0VXNlclVSTEZyb21FbWFpbChlKX1mdW5jdGlvbiBpc0RhdGFPYmplY3RVUkwoZSl7dmFyIHQ9WyJkb21haW4taWRwIiwicnVudGltZSIsImRvbWFpbiIsImh5cGVydHkiXSxyPWUuc3BsaXQoIjovLyIpLG49clswXTtyZXR1cm4tMT09PXQuaW5kZXhPZihuKX1mdW5jdGlvbiBpc0xlZ2FjeShlKXtyZXR1cm4gZS5zcGxpdCgiQCIpLmxlbmd0aD4xfWZ1bmN0aW9uIGlzVVJMKGUpe3JldHVybiBlLnNwbGl0KCIvIikubGVuZ3RoPj0zfWZ1bmN0aW9uIGlzVXNlclVSTChlKXtyZXR1cm4idXNlciI9PT1kaXZpZGVVUkwoZSkudHlwZX1mdW5jdGlvbiBpc0h5cGVydHlVUkwoZSl7cmV0dXJuImh5cGVydHkiPT09ZGl2aWRlVVJMKGUpLnR5cGV9ZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcyhlLHQscil7cmV0dXJuIGVbdF1bcl19ZnVuY3Rpb24gYnVpbGRVUkwoZSx0LHIsbil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxzPWVbdF0sYT12b2lkIDA7aWYoIXMuaGFzT3duUHJvcGVydHkocikpdGhyb3cgRXJyb3IoIlRoZSBjb25maWd1cmF0aW9uICIrKDAsby5kZWZhdWx0KShzLCIiLDIpKyIgZG9uJ3QgaGF2ZSB0aGUgIityKyIgcmVzb3VyY2UgeW91IGFyZSBsb29raW5nIGZvciIpO3ZhciB1PXNbcl07cmV0dXJuIG4/KGE9dS5wcmVmaXgrZS5kb21haW4rdS5zdWZmaXgrbix1Lmhhc093blByb3BlcnR5KCJmYWxsYmFjayIpJiZpJiYoYT11LmZhbGxiYWNrLmluZGV4T2YoIiVkb21haW4lIik/dS5mYWxsYmFjay5yZXBsYWNlKC8oJWRvbWFpbiUpL2csZS5kb21haW4pK246dS5mYWxsYmFjaytuKSk6YT11LnByZWZpeCtlLmRvbWFpbit1LnN1ZmZpeCxhfWZ1bmN0aW9uIGdlbmVyYXRlR1VJRCgpe2Z1bmN0aW9uIHM0KCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIHM0KCkrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKSsiLSIrczQoKStzNCgpK3M0KCl9ZnVuY3Rpb24gZ2V0VXNlcklkZW50aXR5RG9tYWluKGUpe3ZhciB0PWRpdmlkZVVSTChlKSxyPXQuZG9tYWluLnNwbGl0KCIuIiksbj1yLmxlbmd0aDtyZXR1cm4gMT09bj9yW24tMV06cltuLTJdKyIuIityW24tMV19ZnVuY3Rpb24gaXNCYWNrZW5kU2VydmljZVVSTChlKXt2YXIgdD1kaXZpZGVVUkwoZSkscj10LmRvbWFpbi5zcGxpdCgiLiIpLG49WyJkb21haW4iLCJnbG9iYWwiLCJkb21haW4taWRwIl0sbz1bInJlZ2lzdHJ5IiwibXNnLW5vZGUiXSxpPXZvaWQgMDtyZXR1cm4gci5sZW5ndGg+MSYmKGk9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1vLmluZGV4T2YoZSl9KVswXSksISghaXx8LTE9PT1vLmluZGV4T2YoaSkpfHwhIXQudHlwZSYmLTEhPT1uLmluZGV4T2YodC50eXBlKX1mdW5jdGlvbiBkaXZpZGVFbWFpbChlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm57dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX19ZnVuY3Rpb24gYXNzaWduKGUsdCxyKXtlfHwoZT17fSksInN0cmluZyI9PXR5cGVvZiB0JiYodD1wYXJzZUF0dHJpYnV0ZXModCkpO2Zvcih2YXIgbj10Lmxlbmd0aC0xLG89MDtvPG47KytvKXt2YXIgaT10W29dO2kgaW4gZXx8KGVbaV09e30pLGU9ZVtpXX1lW3Rbbl1dPXJ9ZnVuY3Rpb24gc3BsaXRPYmplY3RVUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpLHI9dFswXSsiLy8iK3RbMl0rIi8iK3RbM10sbj10WzVdLG89e3VybDpyLHJlc291cmNlOm59O3JldHVybiBvfWZ1bmN0aW9uIGNoZWNrQXR0cmlidXRlKGUpe3ZhciB0PS8oKChbYS16QS1aXSspOlwvXC8oWzAtOWEtekEtWl1bLVx3XSpbMC05YS16QS1aXVwuKStbYS16QS1aXXsyLDl9KVwvW2EtekEtWjAtOS5dK0BbYS16QS1aMC05XSsoLSk/W2EtekEtWjAtOV0rKFwuKT9bYS16QS1aMC05XXsyLDEwfT9cLlthLXpBLVpdezIsMTB9KSguKyg/PS5pZGVudGl0eSkpPy9nbSxyPVtdLG49W107aWYobnVsbD09ZS5tYXRjaCh0KSluPWUuc3BsaXQoIi4iKTtlbHNle2Zvcih2YXIgbz12b2lkIDA7bnVsbCE9PShvPXQuZXhlYyhlKSk7KW8uaW5kZXg9PT10Lmxhc3RJbmRleCYmdC5sYXN0SW5kZXgrKyxvLmZvckVhY2goZnVuY3Rpb24oZSx0KXswPT09dCYmci5wdXNoKGUpfSk7dmFyIGk9dm9pZCAwO3IuZm9yRWFjaChmdW5jdGlvbih0KXtpPWUucmVwbGFjZSh0LCIqLSoiKSxuPWkuc3BsaXQoIi4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiotKiI9PT1lP3Q6ZX0pfSl9cmV0dXJuIG59ZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGUpe3ZhciB0PS8oWzAtOWEtekEtWl1bLVx3XSopOlwvXC8vZztpZihlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIHI9ZS5zcGxpdCh0KVswXSxuPXIuc3BsaXQoIi4iKSxvPWUucmVwbGFjZShyLCIiKTtpZihlLmluY2x1ZGVzKCJpZGVudGl0eSIpKXt2YXIgaT1vLnNwbGl0KCJpZGVudGl0eS4iKTtvPWlbMF0uc2xpY2UoIi4iLC0xKSxpPWlbMV0uc3BsaXQoIi4iKSxuLnB1c2gobywiaWRlbnRpdHkiKSxuPW4uY29uY2F0KGkpfWVsc2Ugbi5wdXNoKG8pO3JldHVybiBuLmZpbHRlcihCb29sZWFuKX1yZXR1cm4gZS5zcGxpdCgiLiIpfWZ1bmN0aW9uIGlzRW1wdHkoZSl7Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtyZXR1cm4oMCxvLmRlZmF1bHQpKGUpPT09KDAsby5kZWZhdWx0KSh7fSl9ZnVuY3Rpb24gY2hhdGtleXNUb1N0cmluZ0Nsb25lcihlKXt2YXIgdD17fSxyPSgwLHMuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07dFtvXT17fSx0W29dLnNlc3Npb25LZXk9ZVtvXS5zZXNzaW9uS2V5LnRvU3RyaW5nKCksdFtvXS5pc1RvRW5jcnlwdD1lW29dLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gY2hhdGtleXNUb0FycmF5Q2xvbmVyKGUpe3ZhciB0PXt9LHI9KDAscy5kZWZhdWx0KShlKTtpZihyKXRyeXtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXTt0W29dPXt9O3ZhciBpPUpTT04ucGFyc2UoIlsiK2Vbb10uc2Vzc2lvbktleSsiXSIpO3Rbb10uc2Vzc2lvbktleT1uZXcgVWludDhBcnJheShpKSx0W29dLmlzVG9FbmNyeXB0PWVbb10uaXNUb0VuY3J5cHR9fWNhdGNoKGUpe31yZXR1cm4gdH1mdW5jdGlvbiBwYXJzZU1lc3NhZ2VVUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpO3JldHVybiB0Lmxlbmd0aDw9Nj90WzBdKyIvLyIrdFsyXSsiLyIrdFszXTp0WzBdKyIvLyIrdFsyXSsiLyIrdFszXSsiLyIrdFs0XX1mdW5jdGlvbiBhdmFpbGFibGVTcGFjZShlLHQpe3ZhciByPShlL3QpLnRvRml4ZWQoMik7cmV0dXJue3F1b3RhOnQsdXNhZ2U6ZSxwZXJjZW50Ok51bWJlcihyKX19ZnVuY3Rpb24gZW5jb2RlKGUpe3RyeXt2YXIgdD1zdHJpbmdpZnkoZSk7cmV0dXJuIGJ0b2EodCl9Y2F0Y2goZSl7dGhyb3cgZX19ZnVuY3Rpb24gZGVjb2RlKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShhdG9iKGUpKX1jYXRjaChlKXt0aHJvdyBlfX1mdW5jdGlvbiBkZWNvZGVUb1VpbnQ4QXJyYXkoZSl7dHJ5e3JldHVybiBuZXcgVWludDhBcnJheShkZWNvZGUoZSkpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIHN0cmluZ2lmeShlKXt0cnl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1VaW50OEFycmF5PyJbIitlLnRvU3RyaW5nKCkrIl0iOigwLG8uZGVmYXVsdCkoZSl9Y2F0Y2goZSl7dGhyb3cgZX19ZnVuY3Rpb24gcGFyc2UoZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe3Rocm93IGV9fWZ1bmN0aW9uIHBhcnNlVG9VaW50OEFycmF5KGUpe3RyeXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocGFyc2UoZSkpfWNhdGNoKGUpe3Rocm93IGV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDY5KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDMxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7dC5kaXZpZGVVUkw9ZGl2aWRlVVJMLHQuZW1wdHlPYmplY3Q9ZW1wdHlPYmplY3QsdC5zZWNvbmRzU2luY2VFcG9jaD1zZWNvbmRzU2luY2VFcG9jaCx0LmRlZXBDbG9uZT1kZWVwQ2xvbmUsdC5yZW1vdmVQYXRoRnJvbVVSTD1yZW1vdmVQYXRoRnJvbVVSTCx0LmdldFVzZXJVUkxGcm9tRW1haWw9Z2V0VXNlclVSTEZyb21FbWFpbCx0LmdldFVzZXJFbWFpbEZyb21VUkw9Z2V0VXNlckVtYWlsRnJvbVVSTCx0LmNvbnZlcnRUb1VzZXJVUkw9Y29udmVydFRvVXNlclVSTCx0LmlzRGF0YU9iamVjdFVSTD1pc0RhdGFPYmplY3RVUkwsdC5pc0xlZ2FjeT1pc0xlZ2FjeSx0LmlzVVJMPWlzVVJMLHQuaXNVc2VyVVJMPWlzVXNlclVSTCx0LmlzSHlwZXJ0eVVSTD1pc0h5cGVydHlVUkwsdC5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzPWdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMsdC5idWlsZFVSTD1idWlsZFVSTCx0LmdlbmVyYXRlR1VJRD1nZW5lcmF0ZUdVSUQsdC5nZXRVc2VySWRlbnRpdHlEb21haW49Z2V0VXNlcklkZW50aXR5RG9tYWluLHQuaXNCYWNrZW5kU2VydmljZVVSTD1pc0JhY2tlbmRTZXJ2aWNlVVJMLHQuZGl2aWRlRW1haWw9ZGl2aWRlRW1haWwsdC5hc3NpZ249YXNzaWduLHQuc3BsaXRPYmplY3RVUkw9c3BsaXRPYmplY3RVUkwsdC5jaGVja0F0dHJpYnV0ZT1jaGVja0F0dHJpYnV0ZSx0LnBhcnNlQXR0cmlidXRlcz1wYXJzZUF0dHJpYnV0ZXMsdC5pc0VtcHR5PWlzRW1wdHksdC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyPWNoYXRrZXlzVG9TdHJpbmdDbG9uZXIsdC5jaGF0a2V5c1RvQXJyYXlDbG9uZXI9Y2hhdGtleXNUb0FycmF5Q2xvbmVyLHQucGFyc2VNZXNzYWdlVVJMPXBhcnNlTWVzc2FnZVVSTCx0LmF2YWlsYWJsZVNwYWNlPWF2YWlsYWJsZVNwYWNlLHQuZW5jb2RlPWVuY29kZSx0LmRlY29kZT1kZWNvZGUsdC5kZWNvZGVUb1VpbnQ4QXJyYXk9ZGVjb2RlVG9VaW50OEFycmF5LHQuc3RyaW5naWZ5PXN0cmluZ2lmeSx0LnBhcnNlPXBhcnNlLHQucGFyc2VUb1VpbnQ4QXJyYXk9cGFyc2VUb1VpbnQ4QXJyYXl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cig0Nyk7ZS5leHBvcnRzPXIoMTApP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxvKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksbz1yKDE4KSxpPXIoMjMpLHM9cig0OCkoInNyYyIpLGE9RnVuY3Rpb24udG9TdHJpbmcsdT0oIiIrYSkuc3BsaXQoInRvU3RyaW5nIik7cigyNykuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5jYWxsKGUpfSwoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiByO2MmJihpKHIsIm5hbWUiKXx8byhyLCJuYW1lIix0KSksZVt0XSE9PXImJihjJiYoaShyLHMpfHxvKHIscyxlW3RdPyIiK2VbdF06dS5qb2luKFN0cmluZyh0KSkpKSxlPT09bj9lW3RdPXI6YT9lW3RdP2VbdF09cjpvKGUsdCxyKTooZGVsZXRlIGVbdF0sbyhlLHQscikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJnRoaXNbc118fGEuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNSksaT1yKDMzKSxzPS8iL2csYT1mdW5jdGlvbihlLHQscixuKXt2YXIgbz1TdHJpbmcoaShlKSksYT0iPCIrdDtyZXR1cm4iIiE9PXImJihhKz0iICIrcisnPSInK1N0cmluZyhuKS5yZXBsYWNlKHMsIiZxdW90OyIpKyciJyksYSsiPiIrbysiPC8iK3QrIj4ifTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyW2VdPXQoYSksbihuLlArbi5GKm8oZnVuY3Rpb24oKXt2YXIgdD0iIltlXSgnIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCciJykubGVuZ3RoPjN9KSwiU3RyaW5nIixyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3KSxvPXIoMTMpLGk9cig2NSkscz1yKDU4KSxhPXIoNTcpLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGYsbCxkPWUmdS5GLHA9ZSZ1LkcseT1lJnUuUyxoPWUmdS5QLHY9ZSZ1LkIsZz1lJnUuVyxiPXA/bzpvW3RdfHwob1t0XT17fSksXz1iLnByb3RvdHlwZSxtPXA/bjp5P25bdF06KG5bdF18fHt9KS5wcm90b3R5cGU7cCYmKHI9dCk7Zm9yKGMgaW4gcikoZj0hZCYmbSYmdm9pZCAwIT09bVtjXSkmJmEoYixjKXx8KGw9Zj9tW2NdOnJbY10sYltjXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgbVtjXT9yW2NdOnYmJmY/aShsLG4pOmcmJm1bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGwpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGgmJigoYi52aXJ0dWFsfHwoYi52aXJ0dWFsPXt9KSlbY109bCxlJnUuUiYmXyYmIV9bY10mJnMoXyxjLGwpKSl9O3UuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzMikoIndrcyIpLG89cig5NCksaT1yKDE3KS5TeW1ib2wscz0iZnVuY3Rpb24iPT10eXBlb2YgaTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9KS5zdG9yZT1ufSxmdW5jdGlvbihlLHQpe3ZhciByPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiByLmNhbGwoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcwKSxvPXIoMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcxKSxvPXIoNDcpLGk9cigyNCkscz1yKDMyKSxhPXIoMjMpLHU9cigxNDgpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cigxMCk/YzpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksdSl0cnl7cmV0dXJuIGMoZSx0KX1jYXRjaChlKXt9aWYoYShlLHQpKXJldHVybiBvKCFuLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjMpLG89cigxNSksaT1yKDEwNCkoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW8oZSksbihlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4sbyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiZuKGZ1bmN0aW9uKCl7dD9lLmNhbGwobnVsbCxmdW5jdGlvbigpe30sMSk6ZS5jYWxsKG51bGwpfSl9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDE2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsbztpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbzt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY2VpbCxuPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/bjpyKShlKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigyNyksaT1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOCksbz1yKDcwKSxpPXIoMTUpLHM9cigxMiksYT1yKDEyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsYz0zPT1lLGY9ND09ZSxsPTY9PWUsZD01PT1lfHxsLHA9dHx8YTtyZXR1cm4gZnVuY3Rpb24odCxhLHkpe2Zvcih2YXIgaCx2LGc9aSh0KSxiPW8oZyksXz1uKGEseSwzKSxtPXMoYi5sZW5ndGgpLFI9MCx3PXI/cCh0LG0pOnU/cCh0LDApOnZvaWQgMDttPlI7UisrKWlmKChkfHxSIGluIGIpJiYoaD1iW1JdLHY9XyhoLFIsZyksZSkpaWYocil3W1JdPXY7ZWxzZSBpZih2KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gUjtjYXNlIDI6dy5wdXNoKGgpfWVsc2UgaWYoZilyZXR1cm4hMTtyZXR1cm4gbD8tMTpjfHxmP2Y6d319fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2lmKHIoMTApKXt2YXIgbj1yKDQzKSxvPXIoNCksaT1yKDUpLHM9cigwKSxhPXIoOTApLHU9cigxMjcpLGM9cigyOCksZj1yKDU0KSxsPXIoNDcpLGQ9cigxOCkscD1yKDU2KSx5PXIoMzQpLGg9cigxMiksdj1yKDE3NCksZz1yKDUwKSxiPXIoMzIpLF89cigyMyksbT1yKDcyKSxSPXIoNiksdz1yKDE1KSxTPXIoMTE4KSxrPXIoNTEpLE89cigyNiksUD1yKDUyKS5mLE09cigxMjApLEw9cig0OCkseD1yKDkpLEE9cigzNiksRD1yKDgwKSxVPXIoODcpLGo9cigxMjMpLEk9cig2MiksRT1yKDg0KSxUPXIoNTMpLEM9cigxMjIpLHE9cigxNjQpLEY9cigxMSksSD1yKDI1KSxOPUYuZixCPUguZixHPW8uUmFuZ2VFcnJvcixLPW8uVHlwZUVycm9yLFY9by5VaW50OEFycmF5LFc9QXJyYXkucHJvdG90eXBlLFk9dS5BcnJheUJ1ZmZlcix6PXUuRGF0YVZpZXcsSj1BKDApLFo9QSgyKSxRPUEoMyksJD1BKDQpLFg9QSg1KSxlZT1BKDYpLHRlPUQoITApLHJlPUQoITEpLG5lPWoudmFsdWVzLG9lPWoua2V5cyxpZT1qLmVudHJpZXMsc2U9Vy5sYXN0SW5kZXhPZixhZT1XLnJlZHVjZSx1ZT1XLnJlZHVjZVJpZ2h0LGNlPVcuam9pbixmZT1XLnNvcnQsbGU9Vy5zbGljZSxkZT1XLnRvU3RyaW5nLHBlPVcudG9Mb2NhbGVTdHJpbmcseWU9eCgiaXRlcmF0b3IiKSxoZT14KCJ0b1N0cmluZ1RhZyIpLHZlPUwoInR5cGVkX2NvbnN0cnVjdG9yIiksZ2U9TCgiZGVmX2NvbnN0cnVjdG9yIiksYmU9YS5DT05TVFIsX2U9YS5UWVBFRCxtZT1hLlZJRVcsUmU9QSgxLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFBlKFUoZSxlW2dlXSksdCl9KSx3ZT1pKGZ1bmN0aW9uKCl7cmV0dXJuIDE9PT1uZXcgVihuZXcgVWludDE2QXJyYXkoWzFdKS5idWZmZXIpWzBdfSksU2U9ISFWJiYhIVYucHJvdG90eXBlLnNldCYmaShmdW5jdGlvbigpe25ldyBWKDEpLnNldCh7fSl9KSxrZT1mdW5jdGlvbihlLHQpe3ZhciByPXkoZSk7aWYocjwwfHxyJXQpdGhyb3cgRygiV3Jvbmcgb2Zmc2V0ISIpO3JldHVybiByfSxPZT1mdW5jdGlvbihlKXtpZihSKGUpJiZfZSBpbiBlKXJldHVybiBlO3Rocm93IEsoZSsiIGlzIG5vdCBhIHR5cGVkIGFycmF5ISIpfSxQZT1mdW5jdGlvbihlLHQpe2lmKCEoUihlKSYmdmUgaW4gZSkpdGhyb3cgSygiSXQgaXMgbm90IGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IhIik7cmV0dXJuIG5ldyBlKHQpfSxNZT1mdW5jdGlvbihlLHQpe3JldHVybiBMZShVKGUsZVtnZV0pLHQpfSxMZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49dC5sZW5ndGgsbz1QZShlLG4pO24+cjspb1tyXT10W3IrK107cmV0dXJuIG99LHhlPWZ1bmN0aW9uKGUsdCxyKXtOKGUsdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rbcl19fSl9LEFlPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixvLGkscyxhPXcoZSksdT1hcmd1bWVudHMubGVuZ3RoLGY9dT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD12b2lkIDAhPT1mLGQ9TShhKTtpZih2b2lkIDAhPWQmJiFTKGQpKXtmb3Iocz1kLmNhbGwoYSksbj1bXSx0PTA7IShpPXMubmV4dCgpKS5kb25lO3QrKyluLnB1c2goaS52YWx1ZSk7YT1ufWZvcihsJiZ1PjImJihmPWMoZixhcmd1bWVudHNbMl0sMikpLHQ9MCxyPWgoYS5sZW5ndGgpLG89UGUodGhpcyxyKTtyPnQ7dCsrKW9bdF09bD9mKGFbdF0sdCk6YVt0XTtyZXR1cm4gb30sRGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1QZSh0aGlzLHQpO3Q+ZTspcltlXT1hcmd1bWVudHNbZSsrXTtyZXR1cm4gcn0sVWU9ISFWJiZpKGZ1bmN0aW9uKCl7cGUuY2FsbChuZXcgVigxKSl9KSxqZT1mdW5jdGlvbigpe3JldHVybiBwZS5hcHBseShVZT9sZS5jYWxsKE9lKHRoaXMpKTpPZSh0aGlzKSxhcmd1bWVudHMpfSxJZT17Y29weVdpdGhpbjpmdW5jdGlvbihlLHQpe3JldHVybiBxLmNhbGwoT2UodGhpcyksZSx0LGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sZXZlcnk6ZnVuY3Rpb24oZSl7cmV0dXJuICQoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGZpbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIEMuYXBwbHkoT2UodGhpcyksYXJndW1lbnRzKX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBNZSh0aGlzLFooT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCkpfSxmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBYKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe0ooT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGluZGV4T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHJlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gdGUoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LGpvaW46ZnVuY3Rpb24oZSl7cmV0dXJuIGNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBzZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIFJlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGFlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LHJlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiB1ZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZXZlcnNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcyxyPU9lKHQpLmxlbmd0aCxuPU1hdGguZmxvb3Ioci8yKSxvPTA7bzxuOyllPXRbb10sdFtvKytdPXRbLS1yXSx0W3JdPWU7cmV0dXJuIHR9LHNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIFEoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZlLmNhbGwoT2UodGhpcyksZSl9LHN1YmFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UodGhpcyksbj1yLmxlbmd0aCxvPWcoZSxuKTtyZXR1cm4gbmV3KFUocixyW2dlXSkpKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCtvKnIuQllURVNfUEVSX0VMRU1FTlQsaCgodm9pZCAwPT09dD9uOmcodCxuKSktbykpfX0sRWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWUodGhpcyxsZS5jYWxsKE9lKHRoaXMpLGUsdCkpfSxUZT1mdW5jdGlvbihlKXtPZSh0aGlzKTt2YXIgdD1rZShhcmd1bWVudHNbMV0sMSkscj10aGlzLmxlbmd0aCxuPXcoZSksbz1oKG4ubGVuZ3RoKSxpPTA7aWYobyt0PnIpdGhyb3cgRygiV3JvbmcgbGVuZ3RoISIpO2Zvcig7aTxvOyl0aGlzW3QraV09bltpKytdfSxDZT17ZW50cmllczpmdW5jdGlvbigpe3JldHVybiBpZS5jYWxsKE9lKHRoaXMpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBvZS5jYWxsKE9lKHRoaXMpKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhbGwoT2UodGhpcykpfX0scWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUihlKSYmZVtfZV0mJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LEZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFlKGUsdD1iKHQsITApKT9sKDIsZVt0XSk6QihlLHQpfSxIZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIShxZShlLHQ9Yih0LCEwKSkmJlIocikmJl8ociwidmFsdWUiKSl8fF8ociwiZ2V0Iil8fF8ociwic2V0Iil8fHIuY29uZmlndXJhYmxlfHxfKHIsIndyaXRhYmxlIikmJiFyLndyaXRhYmxlfHxfKHIsImVudW1lcmFibGUiKSYmIXIuZW51bWVyYWJsZT9OKGUsdCxyKTooZVt0XT1yLnZhbHVlLGUpfTtiZXx8KEguZj1GZSxGLmY9SGUpLHMocy5TK3MuRiohYmUsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpGZSxkZWZpbmVQcm9wZXJ0eTpIZX0pLGkoZnVuY3Rpb24oKXtkZS5jYWxsKHt9KX0pJiYoZGU9cGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2FsbCh0aGlzKX0pO3ZhciBOZT1wKHt9LEllKTtwKE5lLENlKSxkKE5lLHllLENlLnZhbHVlcykscChOZSx7c2xpY2U6RWUsc2V0OlRlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7fSx0b1N0cmluZzpkZSx0b0xvY2FsZVN0cmluZzpqZX0pLHhlKE5lLCJidWZmZXIiLCJiIikseGUoTmUsImJ5dGVPZmZzZXQiLCJvIikseGUoTmUsImJ5dGVMZW5ndGgiLCJsIikseGUoTmUsImxlbmd0aCIsImUiKSxOKE5lLGhlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfZV19fSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHUpe3U9ISF1O3ZhciBjPWUrKHU/IkNsYW1wZWQiOiIiKSsiQXJyYXkiLGw9ImdldCIrZSxwPSJzZXQiK2UseT1vW2NdLGc9eXx8e30sYj15JiZPKHkpLF89IXl8fCFhLkFCVix3PXt9LFM9eSYmeS5wcm90b3R5cGUsTT1mdW5jdGlvbihlLHIpe3ZhciBuPWUuX2Q7cmV0dXJuIG4udltsXShyKnQrbi5vLHdlKX0sTD1mdW5jdGlvbihlLHIsbil7dmFyIG89ZS5fZDt1JiYobj0obj1NYXRoLnJvdW5kKG4pKTwwPzA6bj4yNTU/MjU1OjI1NSZuKSxvLnZbcF0ocip0K28ubyxuLHdlKX0seD1mdW5jdGlvbihlLHQpe04oZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEwodGhpcyx0LGUpfSxlbnVtZXJhYmxlOiEwfSl9O18/KHk9cihmdW5jdGlvbihlLHIsbixvKXtmKGUseSxjLCJfZCIpO3ZhciBpLHMsYSx1LGw9MCxwPTA7aWYoUihyKSl7aWYoIShyIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KHU9bShyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PXUpKXJldHVybiBfZSBpbiByP0xlKHkscik6QWUuY2FsbCh5LHIpO2k9cixwPWtlKG4sdCk7dmFyIGc9ci5ieXRlTGVuZ3RoO2lmKHZvaWQgMD09PW8pe2lmKGcldCl0aHJvdyBHKCJXcm9uZyBsZW5ndGghIik7aWYoKHM9Zy1wKTwwKXRocm93IEcoIldyb25nIGxlbmd0aCEiKX1lbHNlIGlmKChzPWgobykqdCkrcD5nKXRocm93IEcoIldyb25nIGxlbmd0aCEiKTthPXMvdH1lbHNlIGE9dihyKSxzPWEqdCxpPW5ldyBZKHMpO2ZvcihkKGUsIl9kIix7YjppLG86cCxsOnMsZTphLHY6bmV3IHooaSl9KTtsPGE7KXgoZSxsKyspfSksUz15LnByb3RvdHlwZT1rKE5lKSxkKFMsImNvbnN0cnVjdG9yIix5KSk6aShmdW5jdGlvbigpe3koMSl9KSYmaShmdW5jdGlvbigpe25ldyB5KC0xKX0pJiZFKGZ1bmN0aW9uKGUpe25ldyB5LG5ldyB5KG51bGwpLG5ldyB5KDEuNSksbmV3IHkoZSl9LCEwKXx8KHk9cihmdW5jdGlvbihlLHIsbixvKXtmKGUseSxjKTt2YXIgaTtyZXR1cm4gUihyKT9yIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KGk9bShyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PWk/dm9pZCAwIT09bz9uZXcgZyhyLGtlKG4sdCksbyk6dm9pZCAwIT09bj9uZXcgZyhyLGtlKG4sdCkpOm5ldyBnKHIpOl9lIGluIHI/TGUoeSxyKTpBZS5jYWxsKHkscik6bmV3IGcodihyKSl9KSxKKGIhPT1GdW5jdGlvbi5wcm90b3R5cGU/UChnKS5jb25jYXQoUChiKSk6UChnKSxmdW5jdGlvbihlKXtlIGluIHl8fGQoeSxlLGdbZV0pfSkseS5wcm90b3R5cGU9UyxufHwoUy5jb25zdHJ1Y3Rvcj15KSk7dmFyIEE9U1t5ZV0sRD0hIUEmJigidmFsdWVzIj09QS5uYW1lfHx2b2lkIDA9PUEubmFtZSksVT1DZS52YWx1ZXM7ZCh5LHZlLCEwKSxkKFMsX2UsYyksZChTLG1lLCEwKSxkKFMsZ2UseSksKHU/bmV3IHkoMSlbaGVdPT1jOmhlIGluIFMpfHxOKFMsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0pLHdbY109eSxzKHMuRytzLlcrcy5GKih5IT1nKSx3KSxzKHMuUyxjLHtCWVRFU19QRVJfRUxFTUVOVDp0fSkscyhzLlMrcy5GKmkoZnVuY3Rpb24oKXtnLm9mLmNhbGwoeSwxKX0pLGMse2Zyb206QWUsb2Y6RGV9KSwiQllURVNfUEVSX0VMRU1FTlQiaW4gU3x8ZChTLCJCWVRFU19QRVJfRUxFTUVOVCIsdCkscyhzLlAsYyxJZSksVChjKSxzKHMuUCtzLkYqU2UsYyx7c2V0OlRlfSkscyhzLlArcy5GKiFELGMsQ2UpLG58fFMudG9TdHJpbmc9PWRlfHwoUy50b1N0cmluZz1kZSkscyhzLlArcy5GKmkoZnVuY3Rpb24oKXtuZXcgeSgxKS5zbGljZSgpfSksYyx7c2xpY2U6RWV9KSxzKHMuUCtzLkYqKGkoZnVuY3Rpb24oKXtyZXR1cm5bMSwyXS50b0xvY2FsZVN0cmluZygpIT1uZXcgeShbMSwyXSkudG9Mb2NhbGVTdHJpbmcoKX0pfHwhaShmdW5jdGlvbigpe1MudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSksYyx7dG9Mb2NhbGVTdHJpbmc6amV9KSxJW2NdPUQ/QTpVLG58fER8fGQoUyx5ZSxVKX19ZWxzZSBlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNjkpLG89cigwKSxpPXIoNzkpKCJtZXRhZGF0YSIpLHM9aS5zdG9yZXx8KGkuc3RvcmU9bmV3KHIoMTcyKSkpLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXMuZ2V0KGUpO2lmKCFvKXtpZighcilyZXR1cm47cy5zZXQoZSxvPW5ldyBuKX12YXIgaT1vLmdldCh0KTtpZighaSl7aWYoIXIpcmV0dXJuO28uc2V0KHQsaT1uZXcgbil9cmV0dXJuIGl9LHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwIT09biYmbi5oYXMoZSl9LGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6bi5nZXQoZSl9LGY9ZnVuY3Rpb24oZSx0LHIsbil7YShyLG4sITApLnNldChlLHQpfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQsITEpLG49W107cmV0dXJuIHImJnIuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLG59LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV8fCJzeW1ib2wiPT10eXBlb2YgZT9lOlN0cmluZyhlKX0scD1mdW5jdGlvbihlKXtvKG8uUywiUmVmbGVjdCIsZSl9O2UuZXhwb3J0cz17c3RvcmU6cyxtYXA6YSxoYXM6dSxnZXQ6YyxzZXQ6ZixrZXlzOmwsa2V5OmQsZXhwOnB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MCksbz1yKDE4NCksaT1yKDEzNikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNDYpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PWkodCwhMCksbihyKSxvKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ4KSgibWV0YSIpLG89cig2KSxpPXIoMjMpLHM9cigxMSkuZixhPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIHUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYSx3Ont9fX0pfSxsPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFpKGUsbikpe2lmKCF1KGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7ZihlKX1yZXR1cm4gZVtuXS5pfSxkPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSxuKSl7aWYoIXUoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7ZihlKX1yZXR1cm4gZVtuXS53fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBjJiZ5Lk5FRUQmJnUoZSkmJiFpKGUsbikmJmYoZSksZX0seT1lLmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpsLGdldFdlYWs6ZCxvbkZyZWV6ZTpwfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITF9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpKCJ1bnNjb3BhYmxlcyIpLG89QXJyYXkucHJvdG90eXBlO3ZvaWQgMD09b1tuXSYmcigxOCkobyxuLHt9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7b1tuXVtlXT0hMH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4Myksbz1yKDEyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKG8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz0hcig2NikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTUwKSxvPXIoMTA1KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzNCksbz1NYXRoLm1heCxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP28oZSt0LDApOmkoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLG89cigxNTEpLGk9cigxMDUpLHM9cigxMDQpKCJJRV9QUk9UTyIpLGE9ZnVuY3Rpb24oKXt9LHU9ZnVuY3Rpb24oKXt2YXIgZSx0PXIoMTAyKSgiaWZyYW1lIiksbj1pLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDEwNikuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IixlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtpW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGEucHJvdG90eXBlPW4oZSkscj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1MCksbz1yKDEwNSkuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsbyl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNCksbz1yKDExKSxpPXIoMTApLHM9cig5KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uW2VdO2kmJnQmJiF0W3NdJiZvLmYodCxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09biYmbiBpbiBlKXRocm93IFR5cGVFcnJvcihyKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjgpLG89cigxNjIpLGk9cigxMTgpLHM9cigzKSxhPXIoMTIpLHU9cigxMjApLGM9e30sZj17fSx0PWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLGQpe3ZhciBwLHksaCx2LGc9ZD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLGwsdD8yOjEpLF89MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZyl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPl87XysrKWlmKCh2PXQ/YihzKHk9ZVtfXSlbMF0seVsxXSk6YihlW19dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PW8oaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG8gaW4gdCluKGUsbyx0W29dLHIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksbz1yKDc2KTtlLmV4cG9ydHM9cig0Nik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDU2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLmYsbz1yKDIzKSxpPXIoOSkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhbyhlPXI/ZTplLnByb3RvdHlwZSxpKSYmbihlLGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMzMpLGk9cig1KSxzPXIoMTA4KSxhPSJbIitzKyJdIix1PSLigIvChSIsYz1SZWdFeHAoIl4iK2ErYSsiKiIpLGY9UmVnRXhwKGErYSsiKiQiKSxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz17fSxhPWkoZnVuY3Rpb24oKXtyZXR1cm4hIXNbZV0oKXx8dVtlXSgpIT11fSksYz1vW2VdPWE/dChkKTpzW2VdO3ImJihvW3JdPWMpLG4obi5QK24uRiphLCJTdHJpbmciLG8pfSxkPWwudHJpbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhvKGUpKSwxJnQmJihlPWUucmVwbGFjZShjLCIiKSksMiZ0JiYoZT1lLnJlcGxhY2UoZiwiIikpLGV9O2UuZXhwb3J0cz1sfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSl8fGUuX3QhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE4Miksbz1yKDEzMyk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOTUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixvKXtyZXR1cm4gZS5jYWxsKHQscixuLG8pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoOTgpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkodCkpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgbj1yKDQ1OCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NjIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoOTgpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKyh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLHUuZGVmYXVsdCkodCkpKTtlLnByb3RvdHlwZT0oMCxzLmRlZmF1bHQpKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoby5kZWZhdWx0PygwLG8uZGVmYXVsdCkoZSx0KTplLl9fcHJvdG9fXz10KX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NjcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOSk7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSxmdW5jdGlvbihlLHQpe3QuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjkpLG89cig5KSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixhO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxvKSk/cjppP24odCk6Ik9iamVjdCI9PShhPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6YX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSxmdW5jdGlvbihlLHQpe3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gci5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITB9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LGZ1bmN0aW9uKGUsdCl7dC5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNyksbz1yKDQpLGk9b1siX19jb3JlLWpzX3NoYXJlZF9fIl18fChvWyJfX2NvcmUtanNfc2hhcmVkX18iXT17fSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjpuLnZlcnNpb24sbW9kZTpyKDQzKT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyNCksbz1yKDEyKSxpPXIoNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLHMpe3ZhciBhLHU9bih0KSxjPW8odS5sZW5ndGgpLGY9aShzLGMpO2lmKGUmJnIhPXIpe2Zvcig7Yz5mOylpZigoYT11W2YrK10pIT1hKXJldHVybiEwfWVsc2UgZm9yKDtjPmY7ZisrKWlmKChlfHxmIGluIHUpJiZ1W2ZdPT09cilyZXR1cm4gZXx8Znx8MDtyZXR1cm4hZSYmLTF9fX0sZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjkpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksbz1yKDI5KSxpPXIoOSkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuKGUpJiYodm9pZCAwIT09KHQ9ZVtpXSk/ISF0OiJSZWdFeHAiPT1vKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGUpe31yZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1uKHRoaXMpLHQ9IiI7cmV0dXJuIGUuZ2xvYmFsJiYodCs9ImciKSxlLmlnbm9yZUNhc2UmJih0Kz0iaSIpLGUubXVsdGlsaW5lJiYodCs9Im0iKSxlLnVuaWNvZGUmJih0Kz0idSIpLGUuc3RpY2t5JiYodCs9InkiKSx0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE4KSxvPXIoMTkpLGk9cig1KSxzPXIoMzMpLGE9cig5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciB1PWEoZSksYz1yKHMsdSwiIltlXSksZj1jWzBdLGw9Y1sxXTtpKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRbdV09ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9IiJbZV0odCl9KSYmKG8oU3RyaW5nLnByb3RvdHlwZSxlLGYpLG4oUmVnRXhwLnByb3RvdHlwZSx1LDI9PXQ/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbC5jYWxsKGUsdGhpcyx0KX06ZnVuY3Rpb24oZSl7cmV0dXJuIGwuY2FsbChlLHRoaXMpfSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMyksbz1yKDE2KSxpPXIoOSkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksbz1uLm5hdmlnYXRvcjtlLmV4cG9ydHM9byYmby51c2VyQWdlbnR8fCIifSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNCksbz1yKDApLGk9cigxOSkscz1yKDU2KSxhPXIoNDIpLHU9cig1NSksYz1yKDU0KSxmPXIoNiksbD1yKDUpLGQ9cig4NCkscD1yKDYwKSx5PXIoMTA5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaCx2LGcpe3ZhciBiPW5bZV0sXz1iLG09dj8ic2V0IjoiYWRkIixSPV8mJl8ucHJvdG90eXBlLHc9e30sUz1mdW5jdGlvbihlKXt2YXIgdD1SW2VdO2koUixlLCJkZWxldGUiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiEoZyYmIWYoZSkpJiZ0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiaGFzIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4hKGcmJiFmKGUpKSYmdC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImdldCI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIGcmJiFmKGUpP3ZvaWQgMDp0LmNhbGwodGhpcywwPT09ZT8wOmUpfToiYWRkIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gdC5jYWxsKHRoaXMsMD09PWU/MDplKSx0aGlzfTpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwodGhpcywwPT09ZT8wOmUsciksdGhpc30pfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgXyYmKGd8fFIuZm9yRWFjaCYmIWwoZnVuY3Rpb24oKXsobmV3IF8pLmVudHJpZXMoKS5uZXh0KCl9KSkpe3ZhciBrPW5ldyBfLE89a1ttXShnP3t9Oi0wLDEpIT1rLFA9bChmdW5jdGlvbigpe2suaGFzKDEpfSksTT1kKGZ1bmN0aW9uKGUpe25ldyBfKGUpfSksTD0hZyYmbChmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgXyx0PTU7dC0tOyllW21dKHQsdCk7cmV0dXJuIWUuaGFzKC0wKX0pO018fChfPXQoZnVuY3Rpb24odCxyKXtjKHQsXyxlKTt2YXIgbj15KG5ldyBiLHQsXyk7cmV0dXJuIHZvaWQgMCE9ciYmdShyLHYsblttXSxuKSxufSksXy5wcm90b3R5cGU9UixSLmNvbnN0cnVjdG9yPV8pLChQfHxMKSYmKFMoImRlbGV0ZSIpLFMoImhhcyIpLHYmJlMoImdldCIpKSwoTHx8TykmJlMobSksZyYmUi5jbGVhciYmZGVsZXRlIFIuY2xlYXJ9ZWxzZSBfPWguZ2V0Q29uc3RydWN0b3IodCxlLHYsbSkscyhfLnByb3RvdHlwZSxyKSxhLk5FRUQ9ITA7cmV0dXJuIHAoXyxlKSx3W2VdPV8sbyhvLkcrby5XK28uRiooXyE9YiksdyksZ3x8aC5zZXRTdHJvbmcoXyxlLHYpLF99fSxmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuLG89cig0KSxpPXIoMTgpLHM9cig0OCksYT1zKCJ0eXBlZF9hcnJheSIpLHU9cygidmlldyIpLGM9ISghby5BcnJheUJ1ZmZlcnx8IW8uRGF0YVZpZXcpLGY9YyxsPTAsZD0iSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXkiLnNwbGl0KCIsIik7bDw5Oykobj1vW2RbbCsrXV0pPyhpKG4ucHJvdG90eXBlLGEsITApLGkobi5wcm90b3R5cGUsdSwhMCkpOmY9ITE7ZS5leHBvcnRzPXtBQlY6YyxDT05TVFI6ZixUWVBFRDphLFZJRVc6dX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXIoNDMpfHwhcig1KShmdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCk7X19kZWZpbmVTZXR0ZXJfXy5jYWxsKG51bGwsZSxmdW5jdGlvbigpe30pLGRlbGV0ZSByKDQpW2VdfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTYpLGk9cigyOCkscz1yKDU1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG4sYSx1PWFyZ3VtZW50c1sxXTtyZXR1cm4gbyh0aGlzKSx0PXZvaWQgMCE9PXUsdCYmbyh1KSx2b2lkIDA9PWU/bmV3IHRoaXM6KHI9W10sdD8obj0wLGE9aSh1LGFyZ3VtZW50c1syXSwyKSxzKGUsITEsZnVuY3Rpb24oZSl7ci5wdXNoKGEoZSxuKyspKX0pKTpzKGUsITEsci5wdXNoLHIpLG5ldyB0aGlzKHIpKX19KX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KS5mLG89cig1NyksaT1yKDIyKSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0MzcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgbj1yKDQ0NCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NDYpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBzLmRlZmF1bHQmJiJzeW1ib2wiPT10eXBlb2Ygby5kZWZhdWx0P2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBzLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1zLmRlZmF1bHQmJmUhPT1zLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTt0LmRlZmF1bHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHMuZGVmYXVsdCYmInN5bWJvbCI9PT1hKG8uZGVmYXVsdCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/InVuZGVmaW5lZCI6YShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBzLmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT1zLmRlZmF1bHQmJmUhPT1zLmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnZvaWQgMD09PWU/InVuZGVmaW5lZCI6YShlKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QucnVudGltZVV0aWxzPXtydW50aW1lRGVzY3JpcHRvcjp7fSxydW50aW1lQ2FwYWJpbGl0aWVzOntjb25zdHJhaW50czp7fX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDgpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9Zi5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHA9dm9pZCAwLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBZGRyZXNzQWxsb2NhdGlvbihlLHQscil7aWYoKDAscy5kZWZhdWx0KSh0aGlzLEFkZHJlc3NBbGxvY2F0aW9uKSxwKXJldHVybiBwO3RoaXMuX3VybD1lKyIvYWRkcmVzcy1hbGxvY2F0aW9uIix0aGlzLl9idXM9dCx0aGlzLl9yZWdpc3RyeT1yLHA9dGhpc31yZXR1cm4oMCx1LmRlZmF1bHQpKEFkZHJlc3NBbGxvY2F0aW9uLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuIGk/ImJvb2xlYW4iPT10eXBlb2YgaT9pP3RoaXMuX3JldXNlQWxsb2NhdGVkQWRkcmVzcyhlLHQscixuLGkpOnRoaXMuX2FsbG9jYXRlTmV3QWRkcmVzcyhlLG4sdCk6InN0cmluZyI9PXR5cGVvZiBpJiYoMCxsLmlzVVJMKShpKT9uZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoe25ld0FkZHJlc3M6ITEsYWRkcmVzczpbaV19KX0pOnZvaWQgMDooZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb25dIC0gbmV3IGFkZHJlc3Mgd2lsbCBiZSBhbGxvY2F0ZWQiKSx0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQpKX19LHtrZXk6Il9yZXVzZUFsbG9jYXRlZEFkZHJlc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIHM9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGEpe3MuX3JlZ2lzdHJ5LmNoZWNrUmVnaXN0ZXJlZFVSTHMocixpKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpe2QuaW5mbygiW0FkZHJlc3NBbGxvY2F0aW9uIC0gIituKyJdIC0gUmV1c2UgVVJMIik7byh7bmV3QWRkcmVzczohMSxhZGRyZXNzOnJ9KX1lbHNlInN0cmluZyI9PXR5cGVvZiBpPyhkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtIHJldXNlVVJMXSAtIE9iamVjdCAiK2krIiBub3QgZm91bmQiKSxhKCJVUkwgTm90IEZvdW5kIikpOiJib29sZWFuIj09dHlwZW9mIGk/cy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KS50aGVuKG8pLmNhdGNoKGEpOmEoIlVSTCBOb3QgRm91bmQiKX0pfSl9fSx7a2V5OiJfYWxsb2NhdGVOZXdBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaSxzPVtdO2ZvcihpPTA7aTxyO2krKylzLnB1c2godCsiOi8vIitlKyIvIisoMCxsLmdlbmVyYXRlR1VJRCkoKSk7bih7bmV3QWRkcmVzczohMCxhZGRyZXNzOnN9KX0pfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ZSgyMDApfSl9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0sW3trZXk6Imluc3RhbmNlIixnZXQ6ZnVuY3Rpb24oKXtpZighcCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBhZGRyZXNzIGFsbG9jYXRpb24gd2FzIG5vdCBpbnN0YW50aWF0ZWQiKTtyZXR1cm4gcH19XSksQWRkcmVzc0FsbG9jYXRpb259KCk7dC5kZWZhdWx0PXksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDE0KSxkPXIoNDkyKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1mLmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDcnlwdG9NYW5hZ2VyKGUpeygwLHMuZGVmYXVsdCkodGhpcyxDcnlwdG9NYW5hZ2VyKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyPWUsdGhpcy51c2VyRGVmYXVsdEtleVJlZj0idXNlckFzeW1tZXRyaWNLZXkifXJldHVybigwLHUuZGVmYXVsdCkoQ3J5cHRvTWFuYWdlcixbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkscyxhKXt2YXIgdT10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW10gcnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFhKXRocm93IG5ldyBFcnJvcigicnVudGltZUZhY3RvcnkgaXMgbWlzc2luZyIpO3UuX3J1bnRpbWVVUkw9ZSx1Ll9jcnlwdG9NYW5hZ2VyVVJMPXUuX3J1bnRpbWVVUkwrIi9jcnlwdG9NYW5hZ2VyIix1LnN0b3JhZ2VNYW5hZ2VyPXIsdS5kYXRhT2JqZWN0c1N0b3JhZ2U9bix1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCx1Ll9ydW50aW1lRmFjdG9yeT1hLHUuX2RvbWFpbj0oMCxsLmRpdmlkZVVSTCkodS5fcnVudGltZVVSTCkuZG9tYWluLHUuY3J5cHRvPW5ldyBwLmRlZmF1bHQodS5fcnVudGltZUZhY3RvcnkpLHUuY2hhdEtleXM9e30sdS5kYXRhT2JqZWN0U2Vzc2lvbktleXM9e30sdS5pc1RvVXNlRW5jcnlwdGlvbj0hMCx1Ll9yZWdpc3RyeT1vLHUuX2NvcmVEaXNjb3Zlcnk9aSx1Ll9pZG09c319LHtrZXk6ImxvYWRTZXNzaW9uS2V5cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQpe2Uuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHIpe2UuZGF0YU9iamVjdFNlc3Npb25LZXlzPXJ8fHt9LHQoKX0pfSl9fSx7a2V5OiJfaXNGcm9tUmVtb3RlU00iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJydW50aW1lIj09PWUuc3BsaXQoIjovLyIpWzBdJiZlIT09dGhpcy5fcnVudGltZVVSTCsiL3NtIn19LHtrZXk6ImFkZENyeXB0b0dVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5fY3J5cHRvTWFuYWdlclVSTCxmdW5jdGlvbih0KXtpZigiZ2VuZXJhdGVSU0FLZXlQYWlyIj09PXQuYm9keS5tZXRob2QpcmV0dXJuIHZvaWQgZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe3kuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIGdlbmVyYXRlUlNBS2V5UGFpciBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9KX19LHtrZXk6Il9pc1RvRW5jcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt5LmluZm8oIltDcnlwdG9NYW5hZ2VyLmlzdG9DaHlwZXJNb2R1bGVdIixlKTt2YXIgcj0iY3JlYXRlIj09PWUudHlwZSxuPWUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpLG89ZS50by5pbmNsdWRlcygiaHlwZXJ0eTovLyIpLGk9KDAsbC5pc0RhdGFPYmplY3RVUkwpKGUudG8pLHM9dC5yZWdpc3RyeS5nZXREYXRhT2JqZWN0UmVwb3J0ZXIoZS50byksYT0hZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKXx8ZS5ib2R5Lm11dHVhbDtyZXR1cm4hIWEmJigobnVsbD09PXN8fCEoMCxsLmlzTGVnYWN5KShzKSkmJih0aGlzLmlzVG9Vc2VFbmNyeXB0aW9ufHwiaGFuZHNoYWtlIj09PWUudHlwZT8idXBkYXRlIj09PWUudHlwZT8oeS5pbmZvKCJ1cGRhdGU6ZW5jcnlwdGlvbiBkaXNhYmxlZCIpLCExKTohKDAsbC5pc0xlZ2FjeSkoZS50bykmJihyJiZuJiZvfHxyJiZuJiZpJiZhfHwiaGFuZHNoYWtlIj09PWUudHlwZXx8InVwZGF0ZSI9PT1lLnR5cGUmJmEpOih5LmluZm8oIm5vdCBoYW5kc2hha2U6IGVuY3J5cHRpb24gZGlzYWJsZWQiKSwhMSkpKX19LHtrZXk6Il9pc1RvRGVjcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe2lmKCJzdWJzY3JpYmUiPT09ZS50eXBlJnQuX2lzRnJvbVJlbW90ZVNNKGUuZnJvbSkpe3kubG9nKCJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMSIpO3ZhciBvPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFJlcG9ydGVyKGUudG8pO2lmKG51bGwhPT1vJiYoMCxsLmlzTGVnYWN5KShvKSlyZXR1cm4gcighMSk7dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMShlKS50aGVuKGZ1bmN0aW9uKCl7cighMSl9LGZ1bmN0aW9uKGUpe24oZSl9KX1lbHNlIGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiYic3RyaW5nIj09dHlwZW9mIGUuYm9keS52YWx1ZT8oeS5sb2coIl9pc1RvRGVjcnlwdDp0cnVlIikscighMCkpOih5LmxvZygiX2lzVG9EZWNyeXB0OmZhbHNlIikscighMSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW0NyeXB0b01hbmFnZXIuX2lzVG9EZWNyeXB0XSIsZSl9KX19LHtrZXk6ImVuY3J5cHRNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB5LmxvZygiZW5jcnlwdCBtZXNzYWdlICIpLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0iaGFuZHNoYWtlIj09PWUudHlwZTtpZighdC5faXNUb0VuY3J5cHQoZSkpcmV0dXJuIHIoZSk7dmFyIGk9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLHM9KDAsbC5pc0RhdGFPYmplY3RVUkwpKGkpLGE9KDAsbC5pc0xlZ2FjeSkoZS50byksdT0iaHlwZXJ0eSI9PT0oMCxsLmRpdmlkZVVSTCkoZS5mcm9tKS50eXBlLGM9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUudG8pLnR5cGU7aWYoInVwZGF0ZSI9PT1lLnR5cGUpcmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2U6IG1lc3NhZ2UgdHlwZSB1cGRhdGUiKSxyKGUpO2lmKGEpcihlKTtlbHNlIGlmKHUmJmMpe3ZhciBmPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO2lmKGYpe3ZhciBkPXQuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dO2lmKGR8fChkPXQuX25ld0NoYXRDcnlwdG8oZSxmKSx0LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT1kLGUuYm9keS5oYW5kc2hha2VQaGFzZT0ic3RhcnRIYW5kU2hha2UiKSxkLmF1dGhlbnRpY2F0ZWQmJiFvKXt2YXIgcD10LmNyeXB0by5nZW5lcmF0ZUlWKCk7dC5jcnlwdG8uZW5jcnlwdEFFUyhkLmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpLHApLnRoZW4oZnVuY3Rpb24obil7dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpKygwLGwuc3RyaW5naWZ5KShwKSxkLmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTt0LmNyeXB0by5oYXNoSE1BQyhkLmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LG8pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89e2l2OigwLGwuZW5jb2RlKShwKSx2YWx1ZTooMCxsLmVuY29kZSkobiksaGFzaDooMCxsLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxsLmVuY29kZSkobykscihlKX0pfSl9ZWxzZSBvP3IoZSk6dC5fZG9IYW5kU2hha2VQaGFzZShlLGQpLnRoZW4oZnVuY3Rpb24ocil7dC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109ci5jaGF0S2V5cyx0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIubWVzc2FnZSksbigiZW5jcnlwdCBoYW5kc2hha2UgcHJvdG9jb2wgcGhhc2UgIil9KX1lbHNlIG4oIkluIGVuY3J5cHRNZXNzYWdlOiBIeXBlcnR5IG93bmVyIFVSTCB3YXMgbm90IGZvdW5kIil9ZWxzZSB1JiZzJiZ0LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihvKXtvPSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShvfHx7fSk7dmFyIHM9bz9vW2ldOm51bGw7dC5kYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0RGF0YU9iamVjdChpKS50aGVuKGZ1bmN0aW9uKG8pe2lmKCFzJiZvLnJlcG9ydGVyJiZvLnJlcG9ydGVyPT09ZS5mcm9tKXt2YXIgYT10LmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3QuZGF0YU9iamVjdFNlc3Npb25LZXlzW2ldPXtzZXNzaW9uS2V5OmEsaXNUb0VuY3J5cHQ6ITB9O3ZhciB1PSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikodC5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiLDAsdSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2Qgc3RvcmFnZU1hbmFnZXIuc2V0IGVycm9yOiAiK2UpfSkscz10LmRhdGFPYmplY3RTZXNzaW9uS2V5c1tpXX1pZihzKWlmKHMuaXNUb0VuY3J5cHQpe3ZhciBjPXQuY3J5cHRvLmdlbmVyYXRlSVYoKSxmPSgwLGwuc3RyaW5naWZ5KShjKSxkPSgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpO3QuY3J5cHRvLmVuY3J5cHRBRVMocy5zZXNzaW9uS2V5LGQsYykudGhlbihmdW5jdGlvbihuKXtkZWxldGUgZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgZS5ib2R5LmlkZW50aXR5LmV4cGlyZXM7dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLGQrZik7dC5jcnlwdG8uaGFzaEhNQUMocy5zZXNzaW9uS2V5LG8pLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89e3ZhbHVlOigwLGwuZW5jb2RlKShuKSxpdjooMCxsLmVuY29kZSkoYyksaGFzaDooMCxsLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxsLnN0cmluZ2lmeSkobykscihlKX0pfSl9ZWxzZSByKGUpO2Vsc2UgbigiRGF0YSBvYmplY3Qga2V5IGNvdWxkIG5vdCBiZSBkZWZpbmVkOiBGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlICIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2QgZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJlbmNyeXB0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7eS5pbmZvKCJkYXRhT2JqZWN0IHZhbHVlIHRvIGVuY3J5cHQ6ICIsZSk7dmFyIGk9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpO3Iuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHQpe3Q9KDAsbC5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKHR8fHt9KTt2YXIgcz10P3RbaV06bnVsbDtpZighcylyZXR1cm4gbygiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsaSk7aWYoIXMuaXNUb0VuY3J5cHQpcmV0dXJuIHkuaW5mbygiVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCIpLG4oZSk7dmFyIGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpO3IuY3J5cHRvLmVuY3J5cHRBRVMocy5zZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlKSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt2YWx1ZTooMCxsLmVuY29kZSkoZSksaXY6KDAsbC5lbmNvZGUpKGEpfTtyZXR1cm4gbih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGVuY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIGVuY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJkZWNyeXB0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSJoYW5kc2hha2UiPT09ZS50eXBlO3QuX2lzVG9EZWNyeXB0KGUpLnRoZW4oZnVuY3Rpb24oaSl7aWYoIWkpcmV0dXJuIHIoZSk7dmFyIHM9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLGE9KDAsbC5pc0RhdGFPYmplY3RVUkwpKHMpLHU9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGwuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiByKGUpO2lmKHUmJmMpe3ZhciBmPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLnRvKTtpZihmKXt2YXIgZD10LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXTtpZihkfHwoZD10Ll9uZXdDaGF0Q3J5cHRvKGUsZiwiZGVjcnlwdCIpLHQuY2hhdEtleXNbZS50bysiPC0+IitlLmZyb21dPWQpLGQuYXV0aGVudGljYXRlZCYmIW8pe3ZhciBwPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLGg9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAuaXYpLHY9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAudmFsdWUpLGc9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHAuaGFzaCk7dC5jcnlwdG8uZGVjcnlwdEFFUyhkLmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSx2LGgpLnRoZW4oZnVuY3Rpb24obil7ZS5ib2R5LnZhbHVlPW47dmFyIG89dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4raCk7dC5jcnlwdG8udmVyaWZ5SE1BQyhkLmtleXMuaHlwZXJ0eVRvSGFzaEtleSxvLGcpLnRoZW4oZnVuY3Rpb24odCl7ZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pfSl9ZWxzZSBvP3QuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpeyJoYW5kU2hha2VFbmQiPT09cnx8KHQuY2hhdEtleXNbZS50bysiPC0+IitlLmZyb21dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpKX0pOm4oIndyb25nIG1lc3NhZ2UgZG8gZGVjcnlwdCIpfWVsc2UgbigiZXJyb3Igb24gZGVjcnlwdCBtZXNzYWdlIil9ZWxzZSB1JiZhP3Quc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKG8pe289KDAsbC5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKG98fHt9KTt2YXIgaT1vP29bc106bnVsbDtpZihpKWlmKGkuaXNUb0VuY3J5cHQpe3ZhciBhPSgwLGwucGFyc2UpKGUuYm9keS52YWx1ZSksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5pdiksYz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS52YWx1ZSksZj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5oYXNoKTt0LmNyeXB0by5kZWNyeXB0QUVTKGkuc2Vzc2lvbktleSxjLHUpLnRoZW4oZnVuY3Rpb24obyl7dmFyIHM9KDAsbC5wYXJzZSkobyk7ZS5ib2R5LnZhbHVlPXM7dmFyIGE9dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGwuc3RyaW5naWZ5KShzKSsoMCxsLnN0cmluZ2lmeSkodSkpO3QuY3J5cHRvLnZlcmlmeUhNQUMoaS5zZXNzaW9uS2V5LGEsZikudGhlbihmdW5jdGlvbih0KXt5LmxvZygiUmVjZWl2ZWQgbWVzc2FnZSBITUFDIHJlc3VsdCIsdCksZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk1lc3NhZ2UgSE1BQyBpcyBpbnZhbGlkOiAiK2UpfSl9KX1lbHNlIGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSk7ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpfSk6bigid3JvbmcgbWVzc2FnZSB0byBkZWNyeXB0Iil9KX0pfX0se2tleToiZGVjcnlwdERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKCFyLmlzVG9Vc2VFbmNyeXB0aW9uKXJldHVybiBuKGUpO3ZhciBpPSgwLGwucGFyc2VNZXNzYWdlVVJMKSh0KTtyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0KTt2YXIgcz10P3RbaV06bnVsbDtpZighcylyZXR1cm4gbygiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsaSk7aWYoIXMuaXNUb0VuY3J5cHQpcmV0dXJuIG4oZSk7dmFyIGE9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUuaXYpLHU9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVMocy5zZXNzaW9uS2V5LHUsYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD0oMCxsLnBhcnNlKShlKSxyPXt2YWx1ZTp0LGl2OigwLGwuZW5jb2RlKShhKX07cmV0dXJuIG4ocil9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBkZWNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX0pfX0se2tleToiX2RvTXV0dWFsQXV0aGVudGljYXRpb25QaGFzZTEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnRvLnNwbGl0KCIvIik7by5wb3AoKTt2YXIgaT1vWzBdKyIvLyIrb1syXSsiLyIrb1szXTt0Ll9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UyKGksZS5ib2R5LnN1YnNjcmliZXIpLnRoZW4oZnVuY3Rpb24oKXt0Ll9yZWdpc3RyeS5yZWdpc3RlclN1YnNjcmliZXIoaSxlLmJvZHkuc3Vic2NyaWJlcikscigpfSxmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6Il9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kuaW5mbygiZG9NdXR1YWxBdXRoZW50aWNhdGlvbjpzZW5kZXIgIixlKSx5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246cmVjZWl2ZXIgIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9dm9pZCAwLHM9ci5fcmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKGUpO3MmJihpPWUsZT1zKTt2YXIgYT17dG86dCxmcm9tOmUsY2FsbGJhY2s6dm9pZCAwLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzdGFydEhhbmRTaGFrZSIsaWdub3JlOiJpZ25vcmVNZXNzYWdlIn19O2lmKCFlfHwhdClyZXR1cm4gbygic2VuZGVyIG9yIHJlY2VpdmVyIG1pc3Npbmcgb24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiIpO3ZhciB1PXIuY2hhdEtleXNbZSsiPC0+Iit0XSxjPXIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKTtpZihjKXtpZighdSl7dmFyIGY9ZnVuY3Rpb24oZSl7bihlKX07YS5jYWxsYmFjaz1mLGEuZGF0YU9iamVjdFVSTD1pLHU9ci5fbmV3Q2hhdENyeXB0byhhLGMpLHIuY2hhdEtleXNbZSsiPC0+Iit0XT11fWlmKHUuYXV0aGVudGljYXRlZCl7dmFyIGw9e3RvOmUsZnJvbTp0fTt1LmRhdGFPYmplY3RVUkw9aSxyLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGwsdSkudGhlbihmdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUubWVzc2FnZSksbigiZXhjaGFuZ2Ugb2YgY2hhdCBzZXNzaW9uS2V5IGluaXRpYXRlZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiBmcm9tIG1ldGhvZCBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pfWVsc2Ugci5fZG9IYW5kU2hha2VQaGFzZShhLHUpfWVsc2UgbygiTXV0dWFsIGF1dGhlbnRpY2F0aW9uIGVycm9yOiBIeXBlcnR5IG93bmVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZCIpfSl9fSx7a2V5OiJfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXSxzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPXt9O2lmKGkpdT1pLnNlc3Npb25LZXk7ZWxzZXt1PXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCksci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXT17c2Vzc2lvbktleTp1LGlzVG9FbmNyeXB0OiEwfTt2YXIgZD0oMCxsLmNoYXRrZXlzVG9TdHJpbmdDbG9uZXIpKHIuZGF0YU9iamVjdFNlc3Npb25LZXlzKTtyLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLGQpLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldChkYXRhT2JqZWN0U2Vzc2lvbktleXMuLi4pIGVycm9yOiAiK2UpfSl9dHJ5e2E9KDAsbC5lbmNvZGUpKHt2YWx1ZTooMCxsLmVuY29kZSkodSksZGF0YU9iamVjdFVSTDp0LmRhdGFPYmplY3RVUkx9KX1jYXRjaChlKXtyZXR1cm4gbygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2Qgc3RvcmFnZU1hbmFnZXIuc2V0IGVycm9yIHZhbHVlVG9FbmNyeXB0OiAiK2UpfWM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLGYuaXY9KDAsbC5lbmNvZGUpKGMpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSxhLGMpLnRoZW4oZnVuY3Rpb24obil7cz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZXBvcnRlclNlc3Npb25LZXkiLHZhbHVlOigwLGwuZW5jb2RlKShuKX19O3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gocyxhK2MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksbyl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGwuZW5jb2RlKSh7dmFsdWU6cy5ib2R5LnZhbHVlLGhhc2g6KDAsbC5lbmNvZGUpKGUpLGl2OmYuaXZ9KTtzLmJvZHkudmFsdWU9cixuKHttZXNzYWdlOnMsY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBjaGFpbmVkIHByb21pc2VzIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJfZG9IYW5kU2hha2VQaGFzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9ZS5ib2R5LmhhbmRzaGFrZVBoYXNlLHM9dm9pZCAwLGE9dm9pZCAwLHU9e30sYz12b2lkIDAsZj12b2lkIDA7c3dpdGNoKHkuaW5mbygiaGFuZHNoYWtlIHBoYXNlOiAiLGkpLGkpe2Nhc2Uic3RhcnRIYW5kU2hha2UiOnQua2V5cy5mcm9tUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIGQ9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS50byxmcm9tOmUuZnJvbSxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVySGVsbG8iLHZhbHVlOigwLGwuZW5jb2RlKSh0LmtleXMuZnJvbVJhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChkLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSx0LmluaXRpYWxNZXNzYWdlP24oe21lc3NhZ2U6ZCxjaGF0S2V5czp0fSk6KHIuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXQsci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShkKSk7YnJlYWs7Y2FzZSJzZW5kZXJIZWxsbyI6eS5sb2coInNlbmRlckhlbGxvIiksdC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSksdC5rZXlzLmZyb21SYW5kb209KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGUuYm9keS52YWx1ZSksdC5rZXlzLnRvUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIHA9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJIZWxsbyIsdmFsdWU6KDAsbC5lbmNvZGUpKHQua2V5cy50b1JhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3RvcnkucmVjZWl2ZXJIZWxsbz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHAsdm9pZCAwLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLG4oe21lc3NhZ2U6cCxjaGF0S2V5czp0fSk7YnJlYWs7Y2FzZSJyZWNlaXZlckhlbGxvIjp5LmxvZygicmVjZWl2ZXJIZWxsbyIpLHIuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gZj1uLHQuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSksci5faWRtLnZhbGlkYXRlQXNzZXJ0aW9uKGUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdm9pZCAwLGUuYm9keS5pZGVudGl0eS5pZHAuZG9tYWluKX0pLnRoZW4oZnVuY3Rpb24obil7dmFyIG89InN0cmluZyI9PXR5cGVvZiBuLmNvbnRlbnRzP24uY29udGVudHM6bi5jb250ZW50cy5ub25jZSxpPSgwLGwucGFyc2VUb1VpbnQ4QXJyYXkpKG8pLHM9ci5jcnlwdG8uZ2VuZXJhdGVQTVMoKSxhPWUuYm9keS52YWx1ZTt0Lmh5cGVydHlUby5hc3NlcnRpb249ZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix0Lmh5cGVydHlUby5wdWJsaWNLZXk9aSx0Lmh5cGVydHlUby51c2VySUQ9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdC5rZXlzLnRvUmFuZG9tPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShhKSx0LmtleXMucHJlbWFzdGVyS2V5PXM7dmFyIHU9ci5jcnlwdG8uY29uY2F0UE1Td2l0aFJhbmRvbXMocyx0LmtleXMudG9SYW5kb20sdC5rZXlzLmZyb21SYW5kb20pO3JldHVybiByLmNyeXB0by5nZW5lcmF0ZU1hc3RlclNlY3JldCh1LCJtZXNzYWdlSGlzdG9yaWMiK3Qua2V5cy50b1JhbmRvbSt0LmtleXMuZnJvbVJhbmRvbSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmtleXMubWFzdGVyS2V5PWUsci5jcnlwdG8uZ2VuZXJhdGVLZXlzKGUsImtleSBleHBhbnNpb24iK3Qua2V5cy50b1JhbmRvbSt0LmtleXMuZnJvbVJhbmRvbSl9KS50aGVuKGZ1bmN0aW9uKG4pe3Qua2V5cy5oeXBlcnR5VG9TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMF0pLHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXk9bmV3IFVpbnQ4QXJyYXkoblsxXSksdC5rZXlzLmh5cGVydHlUb0hhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblsyXSksdC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleT1uZXcgVWludDhBcnJheShuWzNdKSxzPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSx1Lml2PSgwLGwuZW5jb2RlKShzKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fTtyZXR1cm4gYz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKG8sIm9rIitzLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksYyl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB1Lmhhc2g9KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2siLHMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5zeW1ldHJpY0VuY3J5cHRpb249KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LHQua2V5cy5wcmVtYXN0ZXJLZXkpfSkudGhlbihmdW5jdGlvbihuKXt1LmFzc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGwuZW5jb2RlKShuKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fSxpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gobyx0LmtleXMucHJlbWFzdGVyS2V5LHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5zaWduUlNBKGYsKDAsbC5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsbC5lbmNvZGUpKGkpKX0pLnRoZW4oZnVuY3Rpb24obyl7dS5zaWduYXR1cmU9KDAsbC5lbmNvZGUpKG8pO3ZhciBpPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckNlcnRpZmljYXRlIix2YWx1ZTooMCxsLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOmksY2hhdEtleXM6dH0pfSxmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pO2JyZWFrO2Nhc2Uic2VuZGVyQ2VydGlmaWNhdGUiOnkubG9nKCJzZW5kZXJDZXJ0aWZpY2F0ZSIpO3ZhciBoPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpO3IuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZj10LHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBvPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmFzc3ltZXRyaWNFbmNyeXB0aW9uKSxpPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Uscz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShpKTtyZXR1cm4gdC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PXMsdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHIuY3J5cHRvLmRlY3J5cHRSU0EoZixvKX0sZnVuY3Rpb24oZSl7bygiRXJyb3IgZHVyaW5nIGF1dGhlbnRpY2F0aW9uIG9mIGlkZW50aXR5OiAiLGUubWVzc2FnZSl9KS50aGVuKGZ1bmN0aW9uKG4pe3Qua2V5cy5wcmVtYXN0ZXJLZXk9bmV3IFVpbnQ4QXJyYXkobik7dmFyIG89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguc2lnbmF0dXJlKSxpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSx0LmtleXMucHJlbWFzdGVyS2V5KTtyZXR1cm4gci5jcnlwdG8udmVyaWZ5UlNBKHQuaHlwZXJ0eVRvLnB1YmxpY0tleSwoMCxsLmVuY29kZSkodC5oYW5kc2hha2VIaXN0b3J5KSsoMCxsLmVuY29kZSkoaSksbyl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBuPXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKHQua2V5cy5wcmVtYXN0ZXJLZXksdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQobiwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXt0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KGVbMF0pLHQua2V5cy5oeXBlcnR5VG9TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KGVbMV0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoZVsyXSksdC5rZXlzLmh5cGVydHlUb0hhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoZVszXSkscz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoaC5pdik7dmFyIG49KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguc3ltZXRyaWNFbmNyeXB0aW9uKTtyZXR1cm4gci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxuLHMpfSkudGhlbihmdW5jdGlvbihuKXt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rcyk7dmFyIG89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaGFzaCk7cmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rcyksci5jcnlwdG8udmVyaWZ5SE1BQyh0LmtleXMuaHlwZXJ0eVRvSGFzaEtleSxjLG8pfSkudGhlbihmdW5jdGlvbihuKXt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSJ9fTtyZXR1cm4gcz1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxsLmVuY29kZSkocyksYz1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKG8sIm9rISIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5oYXNoPSgwLGwuZW5jb2RlKShlKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksIm9rISIscyl9KS50aGVuKGZ1bmN0aW9uKG8pe3UudmFsdWU9KDAsbC5lbmNvZGUpKG8pO3ZhciBpPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIix2YWx1ZTooMCxsLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3RvcnkucmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksdC5hdXRoZW50aWNhdGVkPSEwLG4oe21lc3NhZ2U6aSxjaGF0S2V5czp0fSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHNlbmRlckNlcnRpZmljYXRlIGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSI6dC5hdXRoZW50aWNhdGVkPSEwLHU9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSkscz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkodS5pdik7dmFyIHY9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUudmFsdWUpO2E9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaGFzaCksci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSx2LHMpLnRoZW4oZnVuY3Rpb24oaSl7dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxpK3MpO3ZhciB1PXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxpK3MpO3IuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksdSxhKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuaW5pdGlhbE1lc3NhZ2Upe3ZhciBzPXt0eXBlOiJjcmVhdGUiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7dmFsdWU6dC5pbml0aWFsTWVzc2FnZS5ib2R5LnZhbHVlfX07bih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX1lbHNlIHIuX3NlbmRSZXBvcnRlclNlc3Npb25LZXkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX0pO2JyZWFrO2Nhc2UicmVwb3J0ZXJTZXNzaW9uS2V5Ijp5LmxvZygicmVwb3J0ZXJTZXNzaW9uS2V5Iik7dmFyIGc9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSk7YT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy5oYXNoKSxzPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShnLml2KTt2YXIgYj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy52YWx1ZSksXz12b2lkIDAsbT12b2lkIDAsUj12b2lkIDAsdz12b2lkIDA7ci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxiLHMpLnRoZW4oZnVuY3Rpb24obil7Xz0oMCxsLmRlY29kZSkobiksbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoXy52YWx1ZSksUj1fLmRhdGFPYmplY3RVUkw7dmFyIG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rcyk7cmV0dXJuIHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksbyxhKX0pLnRoZW4oZnVuY3Rpb24oZSl7ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbUl09e3Nlc3Npb25LZXk6bSxpc1RvRW5jcnlwdDohMH07dmFyIG49KDAsbC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7cmV0dXJuIHIuc3RvcmFnZU1hbmFnZXIuc2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiLDAsbikuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX3NlbmRSZXBvcnRlclNlc3Npb25LZXkgZnJvbSBtZXRob2QgcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSkscz1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxsLmVuY29kZSkocyksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEhIixzKX0pLnRoZW4oZnVuY3Rpb24obil7dz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckFja25vd2xlZGdlIn19LHUudmFsdWU9KDAsbC5lbmNvZGUpKG4pO3ZhciBvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2godywib2shISIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTtyZXR1cm4gci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxvKX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9KDAsbC5lbmNvZGUpKHt2YWx1ZTp1LnZhbHVlLGhhc2g6KDAsbC5lbmNvZGUpKGUpLGl2OnUuaXZ9KTt3LmJvZHkudmFsdWU9cixuKHttZXNzYWdlOncsY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZXBvcnRlclNlc3Npb25LZXkgZXJyb3I6ICIrZSl9KTticmVhaztjYXNlInJlY2VpdmVyQWNrbm93bGVkZ2UiOnkubG9nKCJyZWNlaXZlckFja25vd2xlZGdlIik7dmFyIFM9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSksaz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoUy5oYXNoKTtzPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShTLml2KTt2YXIgTz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoUy52YWx1ZSk7ci5jcnlwdG8uZGVjcnlwdEFFUyh0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleSxPLHMpLnRoZW4oZnVuY3Rpb24obil7dmFyIG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLG4rcyk7cmV0dXJuIHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksbyxrKX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9dC5jYWxsYmFjaztyJiZyKCJoYW5kU2hha2VFbmQiKSxuKCJoYW5kU2hha2VFbmQiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVjZWl2ZXJBY2tub3dsZWRnZSBlcnJvcjogIitlKX0pO2JyZWFrO2RlZmF1bHQ6byhlKX19KX19LHtrZXk6Il9maWx0ZXJNZXNzYWdlVG9IYXNoIix2YWx1ZTpmdW5jdGlvbihlLHQscil7cmV0dXJue3R5cGU6ZS50eXBlLGZyb206ZS5mcm9tLHRvOmUudG8sYm9keTp7aWRlbnRpdHk6cnx8ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR8fGUuYm9keS52YWx1ZSxoYW5kc2hha2VQaGFzZTplLmJvZHkuaGFuZHNoYWtlUGhhc2V9fX19LHtrZXk6Il9uZXdDaGF0Q3J5cHRvIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPXI/ZS50bzplLmZyb20saT1yP2UuZnJvbTplLnRvLHM9bi5faWRtLmdldElkZW50aXR5KHQpO3JldHVybntoeXBlcnR5RnJvbTp7aHlwZXJ0eTpvLHVzZXJJRDpzLnVzZXJQcm9maWxlLnVzZXJVUkwsYXNzZXJ0aW9uOnMuYXNzZXJ0aW9uLG1lc3NhZ2VJbmZvOnN9LGh5cGVydHlUbzp7aHlwZXJ0eTppLHVzZXJJRDp2b2lkIDAscHVibGljS2V5OnZvaWQgMCxhc3NlcnRpb246dm9pZCAwfSxrZXlzOntoeXBlcnR5VG9TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5RnJvbVNlc3Npb25LZXk6dm9pZCAwLGh5cGVydHlUb0hhc2hLZXk6dm9pZCAwLGh5cGVydHlGcm9tSGFzaEtleTp2b2lkIDAsdG9SYW5kb206dm9pZCAwLGZyb21SYW5kb206dm9pZCAwLHByZW1hc3RlcktleTp2b2lkIDAsbWFzdGVyS2V5OnZvaWQgMH0saGFuZHNoYWtlSGlzdG9yeTp7c2VuZGVySGVsbG86dm9pZCAwLHJlY2VpdmVySGVsbG86dm9pZCAwLHNlbmRlckNlcnRpZmljYXRlOnZvaWQgMCxyZWNlaXZlckZpbmlzaGVkTWVzc2FnZTp2b2lkIDB9LGluaXRpYWxNZXNzYWdlOmUuYm9keS5pZ25vcmU/dm9pZCAwOmUsY2FsbGJhY2s6ZS5jYWxsYmFjayxhdXRoZW50aWNhdGVkOiExLGRhdGFPYmplY3RVUkw6ZS5kYXRhT2JqZWN0VVJMfX19LHtrZXk6ImdldE15UHVibGljS2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnVzZXJEZWZhdWx0S2V5UmVmLHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuZ2V0KGUpLnRoZW4oZnVuY3Rpb24obyl7aWYobylyZXR1cm4gcihvLnB1YmxpYyk7dC5fZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IoZS5wdWJsaWMpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5Ol9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQdWJsaWNLZXk6c3RvcmFnZU1hbmFnZXI6ZXJyXTogIitlLm1lc3NhZ2UpLG4oZSl9KX0pfX0se2tleToiZ2V0TXlQcml2YXRlS2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnVzZXJEZWZhdWx0S2V5UmVmLHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuZ2V0KGUpLnRoZW4oZnVuY3Rpb24obyl7aWYobylyZXR1cm4gcihvLnByaXZhdGUpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHJpdmF0ZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQcml2YXRlS2V5Ol9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbZ2V0TXlQcml2YXRlS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6Il9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dm9pZCAwO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dC5jcnlwdG8uZ2VuZXJhdGVSU0FLZXlQYWlyKCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4geS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5R2VuZXJhdGVkIixuKSxyPW4sdC5zdG9yYWdlTWFuYWdlci5zZXQoZSwwLG4pfSkudGhlbihmdW5jdGlvbihlKXt5LmxvZygiX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXk6dXNlckFzeW1tZXRyaWNLZXlTdWNjZXNzIixlKSxuKHIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW19nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OmVycl06ICIrZS5tZXNzYWdlKSxvKGUpfSl9KX19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9tZXNzYWdlQnVzPWUsdC5hZGRDcnlwdG9HVUlMaXN0ZW5lcnMoKX19LHtrZXk6ImNvcmVEaXNjb3ZlcnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlRGlzY292ZXJ5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29yZURpc2NvdmVyeT1lfX0se2tleToicmVnaXN0cnkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWdpc3RyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlZ2lzdHJ5PWV9fV0pLENyeXB0b01hbmFnZXJ9KCk7dC5kZWZhdWx0PW5ldyBoLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cig0KS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksbz1yKDI3KSxpPXIoNDMpLHM9cigxNDkpLGE9cigxMSkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9by5TeW1ib2x8fChvLlN5bWJvbD1pP3t9Om4uU3ltYm9sfHx7fSk7Il8iPT1lLmNoYXJBdCgwKXx8ZSBpbiB0fHxhKHQsZSx7dmFsdWU6cy5mKGUpfSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3OSkoImtleXMiKSxvPXIoNDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0KS5kb2N1bWVudDtlLmV4cG9ydHM9biYmbi5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cigzKSxpPWZ1bmN0aW9uKGUsdCl7aWYobyhlKSwhbih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07ZS5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGUsdCxuKXt0cnl7bj1yKDI4KShGdW5jdGlvbi5jYWxsLHIoMjUpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gaShlLHIpLHQ/ZS5fX3Byb3RvX189cjpuKGUsciksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iXHRcblx2XGZcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFx1MjAyOFx1MjAyOVx1ZmVmZiJ9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cigxMDcpLnNldDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHM9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gcyE9PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYoaT1zLnByb3RvdHlwZSkhPT1yLnByb3RvdHlwZSYmbihpKSYmbyYmbyhlLGkpLGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzQpLG89cigzMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PVN0cmluZyhvKHRoaXMpKSxyPSIiLGk9bihlKTtpZihpPDB8fGk9PTEvMCl0aHJvdyBSYW5nZUVycm9yKCJDb3VudCBjYW4ndCBiZSBuZWdhdGl2ZSIpO2Zvcig7aT4wOyhpPj4+PTEpJiYodCs9dCkpMSZpJiYocis9dCk7cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1NYXRoLnNpZ258fGZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSl8fGUhPWU/ZTplPDA/LTE6MX19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5leHBtMTtlLmV4cG9ydHM9IXJ8fHIoMTApPjIyMDI1LjQ2NTc5NDgwNjcxOHx8cigxMCk8MjIwMjUuNDY1Nzk0ODA2NzE4fHwtMmUtMTchPXIoLTJlLTE3KT9mdW5jdGlvbihlKXtyZXR1cm4gMD09KGU9K2UpP2U6ZT4tMWUtNiYmZTwxZS02P2UrZSplLzI6TWF0aC5leHAoZSktMX06cn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzQpLG89cigzMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksdT1uKHIpLGM9YS5sZW5ndGg7cmV0dXJuIHU8MHx8dT49Yz9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09Y3x8KHM9YS5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQodSk6aTplP2Euc2xpY2UodSx1KzIpOnMtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNil9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQzKSxvPXIoMCksaT1yKDE5KSxzPXIoMTgpLGE9cig2MiksdT1yKDExNSksYz1yKDYwKSxmPXIoMjYpLGw9cig5KSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHksaCx2LGcpe3Uocix0LHkpO3ZhciBiLF8sbSxSPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIE8pcmV0dXJuIE9bZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LHc9dCsiIEl0ZXJhdG9yIixTPSJ2YWx1ZXMiPT1oLGs9ITEsTz1lLnByb3RvdHlwZSxQPU9bbF18fE9bIkBAaXRlcmF0b3IiXXx8aCYmT1toXSxNPVB8fFIoaCksTD1oP1M/UigiZW50cmllcyIpOk06dm9pZCAwLHg9IkFycmF5Ij09dD9PLmVudHJpZXN8fFA6UDtpZih4JiYobT1mKHguY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJm0ubmV4dCYmKGMobSx3LCEwKSxufHwiZnVuY3Rpb24iPT10eXBlb2YgbVtsXXx8cyhtLGwscCkpLFMmJlAmJiJ2YWx1ZXMiIT09UC5uYW1lJiYoaz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFAuY2FsbCh0aGlzKX0pLG4mJiFnfHwhZCYmIWsmJk9bbF18fHMoTyxsLE0pLGFbdF09TSxhW3ddPXAsaClpZihiPXt2YWx1ZXM6Uz9NOlIoInZhbHVlcyIpLGtleXM6dj9NOlIoImtleXMiKSxlbnRyaWVzOkx9LGcpZm9yKF8gaW4gYilfIGluIE98fGkoTyxfLGJbX10pO2Vsc2UgbyhvLlArby5GKihkfHxrKSx0LGIpO3JldHVybiBifX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUxKSxvPXIoNDcpLGk9cig2MCkscz17fTtyKDE4KShzLHIoOSkoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihzLHtuZXh0Om8oMSxyKX0pLGkoZSx0KyIgSXRlcmF0b3IiKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgzKSxvPXIoMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobih0KSl0aHJvdyBUeXBlRXJyb3IoIlN0cmluZyMiK3IrIiBkb2Vzbid0IGFjY2VwdCByZWdleCEiKTtyZXR1cm4gU3RyaW5nKG8oZSkpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOSkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gocil7dHJ5e3JldHVybiB0W25dPSExLCEiLy4vIltlXSh0KX1jYXRjaChlKXt9fXJldHVybiEwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjIpLG89cig5KSgiaXRlcmF0b3IiKSxpPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihuLkFycmF5PT09ZXx8aVtvXT09PWUpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDExKSxvPXIoNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsbygwLHIpKTplW3RdPXJ9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Miksbz1yKDkpKCJpdGVyYXRvciIpLGk9cig2Mik7ZS5leHBvcnRzPXIoMjcpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW24oZSldfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzA1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KG4oZSkpKHQpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE1KSxvPXIoNTApLGk9cigxMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uKHRoaXMpLHI9aSh0Lmxlbmd0aCkscz1hcmd1bWVudHMubGVuZ3RoLGE9byhzPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyKSx1PXM+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGM9dm9pZCAwPT09dT9yOm8odSxyKTtjPmE7KXRbYSsrXT1lO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ0KSxvPXIoMTY1KSxpPXIoNjIpLHM9cigyNCk7ZS5leHBvcnRzPXIoMTE0KShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1zKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxvKDEpKToia2V5cyI9PXQ/bygwLHIpOiJ2YWx1ZXMiPT10P28oMCxlW3JdKTpvKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksaS5Bcmd1bWVudHM9aS5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSxmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9cigyOCksYT1yKDE1NSksdT1yKDEwNiksYz1yKDEwMiksZj1yKDQpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLHk9Zi5NZXNzYWdlQ2hhbm5lbCxoPWYuRGlzcGF0Y2gsdj0wLGc9e30sYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGcuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWdbZV07ZGVsZXRlIGdbZV0sdCgpfX0sXz1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGdbKyt2XT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwicHJvY2VzcyI9PXIoMjkpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OmgmJmgubm93P249ZnVuY3Rpb24oZSl7aC5ub3cocyhiLGUsMSkpfTp5PyhvPW5ldyB5LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1fLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLF8sITEpKTpuPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksbz1yKDEyNCkuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYT1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoMjkpKHMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFpfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihhJiZhLnJlc29sdmUpe3ZhciBmPWEucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBQcm9taXNlQ2FwYWJpbGl0eShlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgVHlwZUVycm9yKCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9bih0KSx0aGlzLnJlamVjdD1uKHIpfXZhciBuPXIoMTYpO2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHBhY2tJRUVFNzU0KGUsdCxyKXt2YXIgbixvLGkscz1uZXcgQXJyYXkociksYT04KnItdC0xLHU9KDE8PGEpLTEsYz11Pj4xLGY9MjM9PT10P00oMiwtMjQpLU0oMiwtNzcpOjAsbD0wLGQ9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPVAoZSksZSE9ZXx8ZT09PWs/KG89ZSE9ZT8xOjAsbj11KToobj1MKHgoZSkvQSksZSooaT1NKDIsLW4pKTwxJiYobi0tLGkqPTIpLGUrPW4rYz49MT9mL2k6ZipNKDIsMS1jKSxlKmk+PTImJihuKyssaS89MiksbitjPj11PyhvPTAsbj11KTpuK2M+PTE/KG89KGUqaS0xKSpNKDIsdCksbis9Yyk6KG89ZSpNKDIsYy0xKSpNKDIsdCksbj0wKSk7dD49ODtzW2wrK109MjU1Jm8sby89MjU2LHQtPTgpO2ZvcihuPW48PHR8byxhKz10O2E+MDtzW2wrK109MjU1Jm4sbi89MjU2LGEtPTgpO3JldHVybiBzWy0tbF18PTEyOCpkLHN9ZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChlLHQscil7dmFyIG4sbz04KnItdC0xLGk9KDE8PG8pLTEscz1pPj4xLGE9by03LHU9ci0xLGM9ZVt1LS1dLGY9MTI3JmM7Zm9yKGM+Pj03O2E+MDtmPTI1NipmK2VbdV0sdS0tLGEtPTgpO2ZvcihuPWYmKDE8PC1hKS0xLGY+Pj0tYSxhKz10O2E+MDtuPTI1NipuK2VbdV0sdS0tLGEtPTgpO2lmKDA9PT1mKWY9MS1zO2Vsc2V7aWYoZj09PWkpcmV0dXJuIG4/TmFOOmM/LWs6aztuKz1NKDIsdCksZi09c31yZXR1cm4oYz8tMToxKSpuKk0oMixmLXQpfWZ1bmN0aW9uIHVucGFja0kzMihlKXtyZXR1cm4gZVszXTw8MjR8ZVsyXTw8MTZ8ZVsxXTw8OHxlWzBdfWZ1bmN0aW9uIHBhY2tJOChlKXtyZXR1cm5bMjU1JmVdfWZ1bmN0aW9uIHBhY2tJMTYoZSl7cmV0dXJuWzI1NSZlLGU+PjgmMjU1XX1mdW5jdGlvbiBwYWNrSTMyKGUpe3JldHVyblsyNTUmZSxlPj44JjI1NSxlPj4xNiYyNTUsZT4+MjQmMjU1XX1mdW5jdGlvbiBwYWNrRjY0KGUpe3JldHVybiBwYWNrSUVFRTc1NChlLDUyLDgpfWZ1bmN0aW9uIHBhY2tGMzIoZSl7cmV0dXJuIHBhY2tJRUVFNzU0KGUsMjMsNCl9ZnVuY3Rpb24gYWRkR2V0dGVyKGUsdCxyKXtoKGVbYl0sdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcl19fSl9ZnVuY3Rpb24gZ2V0KGUsdCxyLG4pe3ZhciBvPStyLGk9cChvKTtpZihpK3Q+ZVtVXSl0aHJvdyBTKF8pO3ZhciBzPWVbRF0uX2IsYT1pK2Vbal0sdT1zLnNsaWNlKGEsYSt0KTtyZXR1cm4gbj91OnUucmV2ZXJzZSgpfWZ1bmN0aW9uIHNldChlLHQscixuLG8saSl7dmFyIHM9K3IsYT1wKHMpO2lmKGErdD5lW1VdKXRocm93IFMoXyk7Zm9yKHZhciB1PWVbRF0uX2IsYz1hK2Vbal0sZj1uKCtvKSxsPTA7bDx0O2wrKyl1W2MrbF09ZltpP2w6dC1sLTFdfXZhciBuPXIoNCksbz1yKDEwKSxpPXIoNDMpLHM9cig5MCksYT1yKDE4KSx1PXIoNTYpLGM9cig1KSxmPXIoNTQpLGw9cigzNCksZD1yKDEyKSxwPXIoMTc0KSx5PXIoNTIpLmYsaD1yKDExKS5mLHY9cigxMjIpLGc9cig2MCksYj0icHJvdG90eXBlIixfPSJXcm9uZyBpbmRleCEiLG09bi5BcnJheUJ1ZmZlcixSPW4uRGF0YVZpZXcsdz1uLk1hdGgsUz1uLlJhbmdlRXJyb3Isaz1uLkluZmluaXR5LE89bSxQPXcuYWJzLE09dy5wb3csTD13LmZsb29yLHg9dy5sb2csQT13LkxOMixEPW8/Il9iIjoiYnVmZmVyIixVPW8/Il9sIjoiYnl0ZUxlbmd0aCIsaj1vPyJfbyI6ImJ5dGVPZmZzZXQiO2lmKHMuQUJWKXtpZighYyhmdW5jdGlvbigpe20oMSl9KXx8IWMoZnVuY3Rpb24oKXtuZXcgbSgtMSl9KXx8YyhmdW5jdGlvbigpe3JldHVybiBuZXcgbSxuZXcgbSgxLjUpLG5ldyBtKE5hTiksIkFycmF5QnVmZmVyIiE9bS5uYW1lfSkpe209ZnVuY3Rpb24oZSl7cmV0dXJuIGYodGhpcyxtKSxuZXcgTyhwKGUpKX07Zm9yKHZhciBJLEU9bVtiXT1PW2JdLFQ9eShPKSxDPTA7VC5sZW5ndGg+QzspKEk9VFtDKytdKWluIG18fGEobSxJLE9bSV0pO2l8fChFLmNvbnN0cnVjdG9yPW0pfXZhciBxPW5ldyBSKG5ldyBtKDIpKSxGPVJbYl0uc2V0SW50ODtxLnNldEludDgoMCwyMTQ3NDgzNjQ4KSxxLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhcS5nZXRJbnQ4KDApJiZxLmdldEludDgoMSl8fHUoUltiXSx7c2V0SW50ODpmdW5jdGlvbihlLHQpe0YuY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX0sc2V0VWludDg6ZnVuY3Rpb24oZSx0KXtGLmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSwhMCl9ZWxzZSBtPWZ1bmN0aW9uKGUpe2YodGhpcyxtLCJBcnJheUJ1ZmZlciIpO3ZhciB0PXAoZSk7dGhpcy5fYj12LmNhbGwobmV3IEFycmF5KHQpLDApLHRoaXNbVV09dH0sUj1mdW5jdGlvbihlLHQscil7Zih0aGlzLFIsIkRhdGFWaWV3IiksZihlLG0sIkRhdGFWaWV3Iik7dmFyIG49ZVtVXSxvPWwodCk7aWYobzwwfHxvPm4pdGhyb3cgUygiV3Jvbmcgb2Zmc2V0ISIpO2lmKHI9dm9pZCAwPT09cj9uLW86ZChyKSxvK3I+bil0aHJvdyBTKCJXcm9uZyBsZW5ndGghIik7dGhpc1tEXT1lLHRoaXNbal09byx0aGlzW1VdPXJ9LG8mJihhZGRHZXR0ZXIobSwiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ1ZmZlciIsIl9iIiksYWRkR2V0dGVyKFIsImJ5dGVMZW5ndGgiLCJfbCIpLGFkZEdldHRlcihSLCJieXRlT2Zmc2V0IiwiX28iKSksdShSW2JdLHtnZXRJbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdPDwyND4+MjR9LGdldFVpbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4odFsxXTw8OHx0WzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0KHRoaXMsMixlLGFyZ3VtZW50c1sxXSk7cmV0dXJuIHRbMV08PDh8dFswXX0sZ2V0SW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0kzMihnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSl9LGdldFVpbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKT4+PjB9LGdldEZsb2F0MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSksMjMsNCl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsOCxlLGFyZ3VtZW50c1sxXSksNTIsOCl9LHNldEludDg6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywxLGUscGFja0k4LHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldEludDE2OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMixlLHBhY2tJMTYsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldEludDMyOmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsNCxlLHBhY2tJMzIsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0YzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0NjQ6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw4LGUscGFja0Y2NCx0LGFyZ3VtZW50c1syXSl9fSk7ZyhtLCJBcnJheUJ1ZmZlciIpLGcoUiwiRGF0YVZpZXciKSxhKFJbYl0scy5WSUVXLCEwKSx0LkFycmF5QnVmZmVyPW0sdC5EYXRhVmlldz1SfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzMCksbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5jZWlsLG49TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOnIpKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTMyKSgia2V5cyIpLG89cig5NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1vKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxvPXIoMTcpLGk9b1siX19jb3JlLWpzX3NoYXJlZF9fIl18fChvWyJfX2NvcmUtanNfc2hhcmVkX18iXT17fSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjpuLnZlcnNpb24sbW9kZTpyKDc1KT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSksbz1yKDEzKSxpPXIoNjYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShvLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKmkoZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksbz1yKDE3KS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MjEpKCEwKTtyKDE4NikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLG89cig0MjMpLGk9cigxMzMpLHM9cigxMzEpKCJJRV9QUk9UTyIpLGE9ZnVuY3Rpb24oKXt9LHU9ZnVuY3Rpb24oKXt2YXIgZSx0PXIoMTM1KSgiaWZyYW1lIiksbj1pLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDE4OCkuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IixlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtpW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGEucHJvdG90eXBlPW4oZSkscj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOm8ocix0KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX12YXIgbj1yKDk1KTtlLmV4cG9ydHMuZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KGUpfX0sZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDIyKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTcpLG89cigxMyksaT1yKDc1KSxzPXIoMTQxKSxhPXIoMzkpLmY7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpuLlN5bWJvbHx8e30pOyJfIj09ZS5jaGFyQXQoMCl8fGUgaW4gdHx8YSh0LGUse3ZhbHVlOnMuZihlKX0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzgpLG89cig3NiksaT1yKDQ1KSxzPXIoMTM2KSxhPXIoNTcpLHU9cigxODQpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cig0Nik/YzpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksdSl0cnl7cmV0dXJuIGMoZSx0KX1jYXRjaChlKXt9aWYoYShlLHQpKXJldHVybiBvKCFuLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lQ29uZmlndXJhdGlvbj17c3RvcmFnZVNjaGVtYXM6e2NhcGFiaWxpdGllczp7Y2FwYWJpbGl0aWVzOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHN1YnNjcmlwdGlvbnM6e3N1YnNjcmlwdGlvbnM6ImtleSx2ZXJzaW9uLHZhbHVlIn0scnVudGltZTp7InJ1bnRpbWU6VVJMIjoia2V5LHZlcnNpb24sdmFsdWUiLCJwMnBIYW5kbGVyOlVSTCI6ImtleSx2ZXJzaW9uLHZhbHVlIn0scmVnaXN0cnk6eyJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmVnaXN0cnk6SHlwZXJ0eVVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGNyeXB0b01hbmFnZXI6e3VzZXJBc3ltbWV0cmljS2V5OiJrZXksdmVyc2lvbix2YWx1ZSIsZGF0YU9iamVjdFNlc3Npb25LZXlzOiJrZXksdmVyc2lvbix2YWx1ZSJ9LGlkZW50aXR5OnthY2Nlc3NUb2tlbnM6ImtleSx2ZXJzaW9uLHZhbHVlIixpZGVudGl0aWVzOiJ1c2VyVVJMLCB1c2VyUHJvZmlsZS5lbWFpbCwgdXNlclByb2ZpbGUudXNlclVSTCwgdXNlclByb2ZpbGUubmFtZSJ9LHJ1bnRpbWVDYXRhbG9ndWU6e3J1bnRpbWVDYXRhbG9ndWU6IiZjZ3VpZCwgYWNjZXNzQ29udHJvbFBvbGljeSwgY29uc3RyYWludHMsIGRhdGFPYmplY3RzLCBoeXBlcnR5VHlwZSwgb2JqZWN0TmFtZSwgc291cmNlUGFja2FnZSwgdmVyc2lvbiJ9LHBvbGljeTp7InJldGhpbms6YWN0aXZlUG9saWN5Ijoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOmdyb3VwcyI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazp1c2VyUG9saWNpZXMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6c3BQb2xpY2llcyI6ImtleSx2ZXJzaW9uLHZhbHVlIn0sc3luY2hlck1hbmFnZXI6eyJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUifSxoeXBlcnR5UmVzb3VyY2VzOntoeXBlcnR5UmVzb3VyY2VzOiImcmVzb3VyY2VVUkwsIG5hbWUsIGNvbnRlbnRVcmwsIGNvbnRlbnQsIGNyZWF0ZWQsIHJlcG9ydGVyLCByZXNvdXJjZVR5cGUifX0scnVudGltZVVSTFM6e3JlZ2lzdHJ5OntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiJyZWdpc3RyeSJ9LGlkZW50aXR5TW9kdWxlOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvaWRtIn0scnVudGltZVVBOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvdWEifSxjYXRhbG9ndWU6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9jYXRhbG9ndWUifSxncmFwaENvbm5lY3Rvcjp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2dyYXBoIn0sc3luY01hbmFnZXI6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9zbSJ9fSxjYXRhbG9ndWVVUkxzOntwcm90b2NvbHN0dWI6e3ByZWZpeDoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuIixzdWZmaXg6Ii8ud2VsbC1rbm93bi9wcm90b2NvbHN0dWIvIixmYWxsYmFjazoiaHlwZXJ0eS1jYXRhbG9ndWU6Ly9jYXRhbG9ndWUuJWRvbWFpbiUvLndlbGwta25vd24vcHJvdG9jb2xzdHViLyJ9LGlkcFByb3h5OntwcmVmaXg6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIsc3VmZml4OiIvLndlbGwta25vd24vaWRwLXByb3h5LyIsZmFsbGJhY2s6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiVkb21haW4lLy53ZWxsLWtub3duL2lkcC1wcm94eS8ifX0sbXNnTm9kZVVSTDp7cHJlZml4OiJkb21haW46Ly9tc2ctbm9kZS4iLHN1ZmZpeDoiIixoeXBlcnR5QWRkcmVzc0FsbG9jYXRpb246Ii9oeXBlcnR5LWFkZHJlc3MtYWxsb2NhdGlvbiIsb2JqZWN0QWRkcmVzc0FsbG9jYXRpb246Ii9vYmplY3QtYWRkcmVzcy1hbGxvY2F0aW9uIixzdWJzY3JpcHRpb25NYW5hZ2VtZW50OiIvc20ifSxkb21haW5SZWdpc3RyeVVSTDp7cHJlZml4OiJkb21haW46Ly9yZWdpc3RyeS4iLHN1ZmZpeDoiIn0sZ2xvYmFsUmVnaXN0cnlVUkw6Imdsb2JhbDovL3JlZ2lzdHJ5LiJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcGVyYXRvcnMoKXsoMCxvLmRlZmF1bHQpKHRoaXMsT3BlcmF0b3JzKX1yZXR1cm4oMCxzLmRlZmF1bHQpKE9wZXJhdG9ycyxbe2tleToiYW5kIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXX19LHtrZXk6ImJldHdlZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGVbMF1bMF0pLHI9cGFyc2VJbnQoZVswXVsxXSksbj1lWzFdO3JldHVybiByPHQmJihuPW48dD9uKz0yNDAwOm4scis9MjQwMCksbj50JiZuPHJ9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiIqIj09PVN0cmluZyhlWzBdKXx8U3RyaW5nKGVbMF0pPT09U3RyaW5nKGVbMV0pfX0se2tleToiZ3JlYXRlclRoYW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPmVbMF19fSx7a2V5OiJpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT4tMX19LHtrZXk6Imxlc3NUaGFuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXTxlWzBdfX0se2tleToibm90Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hZVswXX19LHtrZXk6Im9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXXx8ZVsxXX19XSksT3BlcmF0b3JzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDE0NSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb25kaXRpb24oZSx0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxDb25kaXRpb24pLHRoaXMuYXR0cmlidXRlPWUsdGhpcy5vcGVyYXRvcj10LHRoaXMucGFyYW1zPXIsdGhpcy5vcGVyYXRvcnM9bmV3IHUuZGVmYXVsdH1yZXR1cm4oMCxzLmRlZmF1bHQpKENvbmRpdGlvbixbe2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2VbdGhpcy5hdHRyaWJ1dGVdPXttZXNzYWdlOnR9O3ZhciByPWVbdGhpcy5hdHRyaWJ1dGVdLG49dm9pZCAwO3JldHVybiJpbiIhPT10aGlzLm9wZXJhdG9yfHxBcnJheS5pc0FycmF5KHRoaXMucGFyYW1zKT90aGlzLm9wZXJhdG9yc1t0aGlzLm9wZXJhdG9yXShbdGhpcy5wYXJhbXMscl0pOihuPWUuZ2V0R3JvdXAodGhpcy5wYXJhbXMsdC50byksdGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW24scl0pKX19XSksQ29uZGl0aW9ufSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7dmFyIHI7cj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtyPXJ8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fCgwLGV2YWwpKCJ0aGlzIil9Y2F0Y2goZSl7Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoMTApJiYhcig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMDIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDkpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMyksbz1yKDI0KSxpPXIoODApKCExKSxzPXIoMTA0KSgiSUVfUFJPVE8iKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPW8oZSksdT0wLGM9W107Zm9yKHIgaW4gYSlyIT1zJiZuKGEscikmJmMucHVzaChyKTtmb3IoO3QubGVuZ3RoPnU7KW4oYSxyPXRbdSsrXSkmJih+aShjLHIpfHxjLnB1c2gocikpO3JldHVybiBjfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cigzKSxpPXIoNDkpO2UuZXhwb3J0cz1yKDEwKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe28oZSk7Zm9yKHZhciByLHM9aSh0KSxhPXMubGVuZ3RoLHU9MDthPnU7KW4uZihlLHI9c1t1KytdLHRbcl0pO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjQpLG89cig1MikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaChlKXtyZXR1cm4gcy5zbGljZSgpfX07ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ5KSxvPXIoODEpLGk9cig3MSkscz1yKDE1KSxhPXIoNzApLHU9T2JqZWN0LmFzc2lnbjtlLmV4cG9ydHM9IXV8fHIoNSkoZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LHI9U3ltYm9sKCksbj0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiO3JldHVybiBlW3JdPTcsbi5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPWV9KSw3IT11KHt9LGUpW3JdfHxPYmplY3Qua2V5cyh1KHt9LHQpKS5qb2luKCIiKSE9bn0pP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXMoZSksdT1hcmd1bWVudHMubGVuZ3RoLGM9MSxmPW8uZixsPWkuZjt1PmM7KWZvcih2YXIgZCxwPWEoYXJndW1lbnRzW2MrK10pLHk9Zj9uKHApLmNvbmNhdChmKHApKTpuKHApLGg9eS5sZW5ndGgsdj0wO2g+djspbC5jYWxsKHAsZD15W3YrK10pJiYocltkXT1wW2RdKTtyZXR1cm4gcn06dX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE2KSxvPXIoNiksaT1yKDE1NSkscz1bXS5zbGljZSxhPXt9LHU9ZnVuY3Rpb24oZSx0LHIpe2lmKCEodCBpbiBhKSl7Zm9yKHZhciBuPVtdLG89MDtvPHQ7bysrKW5bb109ImFbIitvKyJdIjthW3RdPUZ1bmN0aW9uKCJGLGEiLCJyZXR1cm4gbmV3IEYoIituLmpvaW4oIiwiKSsiKSIpfXJldHVybiBhW3RdKGUscil9O2UuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbihlKXt2YXIgdD1uKHRoaXMpLHI9cy5jYWxsKGFyZ3VtZW50cywxKSxhPWZ1bmN0aW9uKCl7dmFyIG49ci5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2YgYT91KHQsbi5sZW5ndGgsbik6aSh0LG4sZSl9O3JldHVybiBvKHQucHJvdG90eXBlKSYmKGEucHJvdG90eXBlPXQucHJvdG90eXBlKSxhfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCkucGFyc2VJbnQsbz1yKDYxKS50cmltLGk9cigxMDgpLHM9L15bLStdPzBbeFhdLztlLmV4cG9ydHM9OCE9PW4oaSsiMDgiKXx8MjIhPT1uKGkrIjB4MTYiKT9mdW5jdGlvbihlLHQpe3ZhciByPW8oU3RyaW5nKGUpLDMpO3JldHVybiBuKHIsdD4+PjB8fChzLnRlc3Qocik/MTY6MTApKX06bn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCkucGFyc2VGbG9hdCxvPXIoNjEpLnRyaW07ZS5leHBvcnRzPTEvbihyKDEwOCkrIi0wIikhPS0xLzA/ZnVuY3Rpb24oZSl7dmFyIHQ9byhTdHJpbmcoZSksMykscj1uKHQpO3JldHVybiAwPT09ciYmIi0iPT10LmNoYXJBdCgwKT8tMDpyfTpufSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYiTnVtYmVyIiE9bihlKSl0aHJvdyBUeXBlRXJyb3IodCk7cmV0dXJuK2V9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxvPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiFuKGUpJiZpc0Zpbml0ZShlKSYmbyhlKT09PWV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1NYXRoLmxvZzFwfHxmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSk+LTFlLTgmJmU8MWUtOD9lLWUqZS8yOk1hdGgubG9nKDErZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMTEpLG89TWF0aC5wb3csaT1vKDIsLTUyKSxzPW8oMiwtMjMpLGE9bygyLDEyNykqKDItcyksdT1vKDIsLTEyNiksYz1mdW5jdGlvbihlKXtyZXR1cm4gZSsxL2ktMS9pfTtlLmV4cG9ydHM9TWF0aC5mcm91bmR8fGZ1bmN0aW9uKGUpe3ZhciB0LHIsbz1NYXRoLmFicyhlKSxmPW4oZSk7cmV0dXJuIG88dT9mKmMoby91L3MpKnUqczoodD0oMStzL2kpKm8scj10LSh0LW8pLHI+YXx8ciE9cj9mKigxLzApOmYqcil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKHQpe3ZhciBpPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm4oaS5jYWxsKGUpKSx0fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE2KSxvPXIoMTUpLGk9cig3MCkscz1yKDEyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSx1KXtuKHQpO3ZhciBjPW8oZSksZj1pKGMpLGw9cyhjLmxlbmd0aCksZD11P2wtMTowLHA9dT8tMToxO2lmKHI8Milmb3IoOzspe2lmKGQgaW4gZil7YT1mW2RdLGQrPXA7YnJlYWt9aWYoZCs9cCx1P2Q8MDpsPD1kKXRocm93IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWZvcig7dT9kPj0wOmw+ZDtkKz1wKWQgaW4gZiYmKGE9dChhLGZbZF0sZCxjKSk7cmV0dXJuIGF9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTUpLG89cig1MCksaT1yKDEyKTtlLmV4cG9ydHM9W10uY29weVdpdGhpbnx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1uKHRoaXMpLHM9aShyLmxlbmd0aCksYT1vKGUscyksdT1vKHQscyksYz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxmPU1hdGgubWluKCh2b2lkIDA9PT1jP3M6byhjLHMpKS11LHMtYSksbD0xO2Zvcih1PGEmJmE8dStmJiYobD0tMSx1Kz1mLTEsYSs9Zi0xKTtmLS0gPjA7KXUgaW4gcj9yW2FdPXJbdV06ZGVsZXRlIHJbYV0sYSs9bCx1Kz1sO3JldHVybiByfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSxmdW5jdGlvbihlLHQscil7cigxMCkmJiJnIiE9Ly4vZy5mbGFncyYmcigxMSkuZihSZWdFeHAucHJvdG90eXBlLCJmbGFncyIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6cig4NSl9KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDMpLG89cig2KSxpPXIoMTI2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihuKGUpLG8odCkmJnQuY29uc3RydWN0b3I9PT1lKXJldHVybiB0O3ZhciByPWkuZihlKTtyZXR1cm4oMCxyLnJlc29sdmUpKHQpLHIucHJvbWlzZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzApLG89cig2Myk7ZS5leHBvcnRzPXIoODkpKCJNYXAiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2dldDpmdW5jdGlvbihlKXt2YXIgdD1uLmdldEVudHJ5KG8odGhpcywiTWFwIiksZSk7cmV0dXJuIHQmJnQudn0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZGVmKG8odGhpcywiTWFwIiksMD09PWU/MDplLHQpfX0sbiwhMCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMSkuZixvPXIoNTEpLGk9cig1Nikscz1yKDI4KSxhPXIoNTQpLHU9cig1NSksYz1yKDExNCksZj1yKDE2NSksbD1yKDUzKSxkPXIoMTApLHA9cig0MikuZmFzdEtleSx5PXIoNjMpLGg9ZD8iX3MiOiJzaXplIix2PWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1wKHQpO2lmKCJGIiE9PW4pcmV0dXJuIGUuX2lbbl07Zm9yKHI9ZS5fZjtyO3I9ci5uKWlmKHIuaz09dClyZXR1cm4gcn07ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQscixjKXt2YXIgZj1lKGZ1bmN0aW9uKGUsbil7YShlLGYsdCwiX2kiKSxlLl90PXQsZS5faT1vKG51bGwpLGUuX2Y9dm9pZCAwLGUuX2w9dm9pZCAwLGVbaF09MCx2b2lkIDAhPW4mJnUobixyLGVbY10sZSl9KTtyZXR1cm4gaShmLnByb3RvdHlwZSx7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9eSh0aGlzLHQpLHI9ZS5faSxuPWUuX2Y7bjtuPW4ubiluLnI9ITAsbi5wJiYobi5wPW4ucC5uPXZvaWQgMCksZGVsZXRlIHJbbi5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbaF09MH0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciByPXkodGhpcyx0KSxuPXYocixlKTtpZihuKXt2YXIgbz1uLm4saT1uLnA7ZGVsZXRlIHIuX2lbbi5pXSxuLnI9ITAsaSYmKGkubj1vKSxvJiYoby5wPWkpLHIuX2Y9PW4mJihyLl9mPW8pLHIuX2w9PW4mJihyLl9sPWkpLHJbaF0tLX1yZXR1cm4hIW59LGZvckVhY2g6ZnVuY3Rpb24oZSl7eSh0aGlzLHQpO2Zvcih2YXIgcixuPXMoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyPXI/ci5uOnRoaXMuX2Y7KWZvcihuKHIudixyLmssdGhpcyk7ciYmci5yOylyPXIucH0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhdih5KHRoaXMsdCksZSl9fSksZCYmbihmLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdClbaF19fSksZn0sZGVmOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGk9dihlLHQpO3JldHVybiBpP2kudj1yOihlLl9sPWk9e2k6bz1wKHQsITApLGs6dCx2OnIscDpuPWUuX2wsbjp2b2lkIDAscjohMX0sZS5fZnx8KGUuX2Y9aSksbiYmKG4ubj1pKSxlW2hdKyssIkYiIT09byYmKGUuX2lbb109aSkpLGV9LGdldEVudHJ5OnYsc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxyKXtjKGUsdCxmdW5jdGlvbihlLHIpe3RoaXMuX3Q9eShlLHQpLHRoaXMuX2s9cix0aGlzLl9sPXZvaWQgMH0sZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWUuX2sscj1lLl9sO3ImJnIucjspcj1yLnA7cmV0dXJuIGUuX3QmJihlLl9sPXI9cj9yLm46ZS5fdC5fZik/ImtleXMiPT10P2YoMCxyLmspOiJ2YWx1ZXMiPT10P2YoMCxyLnYpOmYoMCxbci5rLHIudl0pOihlLl90PXZvaWQgMCxmKDEpKX0scj8iZW50cmllcyI6InZhbHVlcyIsIXIsITApLGwodCl9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3MCksbz1yKDYzKTtlLmV4cG9ydHM9cig4OSkoIlNldCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZihvKHRoaXMsIlNldCIpLGU9MD09PWU/MDplLGUpfX0sbil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4sbz1yKDM2KSgwKSxpPXIoMTkpLHM9cig0MiksYT1yKDE1MyksdT1yKDE3MyksYz1yKDYpLGY9cig1KSxsPXIoNjMpLGQ9cy5nZXRXZWFrLHA9T2JqZWN0LmlzRXh0ZW5zaWJsZSx5PXUudWZzdG9yZSxoPXt9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSxnPXtnZXQ6ZnVuY3Rpb24oZSl7aWYoYyhlKSl7dmFyIHQ9ZChlKTtyZXR1cm4hMD09PXQ/eShsKHRoaXMsIldlYWtNYXAiKSkuZ2V0KGUpOnQ/dFt0aGlzLl9pXTp2b2lkIDB9fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5kZWYobCh0aGlzLCJXZWFrTWFwIiksZSx0KX19LGI9ZS5leHBvcnRzPXIoODkpKCJXZWFrTWFwIix2LGcsdSwhMCwhMCk7ZihmdW5jdGlvbigpe3JldHVybiA3IT0obmV3IGIpLnNldCgoT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KShoKSw3KS5nZXQoaCl9KSYmKG49dS5nZXRDb25zdHJ1Y3Rvcih2LCJXZWFrTWFwIiksYShuLnByb3RvdHlwZSxnKSxzLk5FRUQ9ITAsbyhbImRlbGV0ZSIsImhhcyIsImdldCIsInNldCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWIucHJvdG90eXBlLHI9dFtlXTtpKHQsZSxmdW5jdGlvbih0LG8pe2lmKGModCkmJiFwKHQpKXt0aGlzLl9mfHwodGhpcy5fZj1uZXcgbik7dmFyIGk9dGhpcy5fZltlXSh0LG8pO3JldHVybiJzZXQiPT1lP3RoaXM6aX1yZXR1cm4gci5jYWxsKHRoaXMsdCxvKX0pfSkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTYpLG89cig0MikuZ2V0V2VhayxpPXIoMykscz1yKDYpLGE9cig1NCksdT1yKDU1KSxjPXIoMzYpLGY9cigyMyksbD1yKDYzKSxkPWMoNSkscD1jKDYpLHk9MCxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9sfHwoZS5fbD1uZXcgdil9LHY9ZnVuY3Rpb24oKXt0aGlzLmE9W119LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZChlLmEsZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSl9O3YucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Zyh0aGlzLGUpO2lmKHQpcmV0dXJuIHRbMV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIWcodGhpcyxlKX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Zyh0aGlzLGUpO3I/clsxXT10OnRoaXMuYS5wdXNoKFtlLHRdKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXAodGhpcy5hLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPT09ZX0pO3JldHVybn50JiZ0aGlzLmEuc3BsaWNlKHQsMSksISF+dH19LGUuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGM9ZShmdW5jdGlvbihlLG4pe2EoZSxjLHQsIl9pIiksZS5fdD10LGUuX2k9eSsrLGUuX2w9dm9pZCAwLHZvaWQgMCE9biYmdShuLHIsZVtpXSxlKX0pO3JldHVybiBuKGMucHJvdG90eXBlLHtkZWxldGU6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9byhlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmRlbGV0ZShlKTpyJiZmKHIsdGhpcy5faSkmJmRlbGV0ZSByW3RoaXMuX2ldfSxoYXM6ZnVuY3Rpb24oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHI9byhlKTtyZXR1cm4hMD09PXI/aChsKHRoaXMsdCkpLmhhcyhlKTpyJiZmKHIsdGhpcy5faSl9fSksY30sZGVmOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vKGkodCksITApO3JldHVybiEwPT09bj9oKGUpLnNldCh0LHIpOm5bZS5faV09cixlfSx1ZnN0b3JlOmh9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzNCksbz1yKDEyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gMDt2YXIgdD1uKGUpLHI9byh0KTtpZih0IT09cil0aHJvdyBSYW5nZUVycm9yKCJXcm9uZyBsZW5ndGghIik7cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1Miksbz1yKDgxKSxpPXIoMykscz1yKDQpLlJlZmxlY3Q7ZS5leHBvcnRzPXMmJnMub3duS2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9bi5mKGkoZSkpLHI9by5mO3JldHVybiByP3QuY29uY2F0KHIoZSkpOnR9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGZsYXR0ZW5JbnRvQXJyYXkoZSx0LHIsdSxjLGYsbCxkKXtmb3IodmFyIHAseSxoPWMsdj0wLGc9ISFsJiZzKGwsZCwzKTt2PHU7KXtpZih2IGluIHIpe2lmKHA9Zz9nKHJbdl0sdix0KTpyW3ZdLHk9ITEsbyhwKSYmKHk9cFthXSx5PXZvaWQgMCE9PXk/ISF5Om4ocCkpLHkmJmY+MCloPWZsYXR0ZW5JbnRvQXJyYXkoZSx0LHAsaShwLmxlbmd0aCksaCxmLTEpLTE7ZWxzZXtpZihoPj05MDA3MTk5MjU0NzQwOTkxKXRocm93IFR5cGVFcnJvcigpO2VbaF09cH1oKyt9disrfXJldHVybiBofXZhciBuPXIoODIpLG89cig2KSxpPXIoMTIpLHM9cigyOCksYT1yKDkpKCJpc0NvbmNhdFNwcmVhZGFibGUiKTtlLmV4cG9ydHM9ZmxhdHRlbkludG9BcnJheX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTIpLG89cigxMTApLGk9cigzMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHMpe3ZhciBhPVN0cmluZyhpKGUpKSx1PWEubGVuZ3RoLGM9dm9pZCAwPT09cj8iICI6U3RyaW5nKHIpLGY9bih0KTtpZihmPD11fHwiIj09YylyZXR1cm4gYTt2YXIgbD1mLXUsZD1vLmNhbGwoYyxNYXRoLmNlaWwobC9jLmxlbmd0aCkpO3JldHVybiBkLmxlbmd0aD5sJiYoZD1kLnNsaWNlKDAsbCkpLHM/ZCthOmErZH19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ5KSxvPXIoMjQpLGk9cig3MSkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixzPW8odCksYT1uKHMpLHU9YS5sZW5ndGgsYz0wLGY9W107dT5jOylpLmNhbGwocyxyPWFbYysrXSkmJmYucHVzaChlP1tyLHNbcl1dOnNbcl0pO3JldHVybiBmfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDcyKSxvPXIoMTgwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobih0aGlzKSE9ZSl0aHJvdyBUeXBlRXJyb3IoZSsiI3RvSlNPTiBpc24ndCBnZW5lcmljIik7cmV0dXJuIG8odGhpcyl9fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBuKGUsITEsci5wdXNoLHIsdCkscn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPU1hdGguc2NhbGV8fGZ1bmN0aW9uKGUsdCxyLG4sbyl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxlIT1lfHx0IT10fHxyIT1yfHxuIT1ufHxvIT1vP05hTjplPT09MS8wfHxlPT09LTEvMD9lOihlLXQpKihvLW4pLyhyLXQpK259fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nyksbz1yKDQ1KSxpPXIoNDE4KSghMSkscz1yKDEzMSkoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1vKGUpLHU9MCxjPVtdO2ZvcihyIGluIGEpciE9cyYmbihhLHIpJiZjLnB1c2gocik7Zm9yKDt0Lmxlbmd0aD51OyluKGEscj10W3UrK10pJiYofmkoYyxyKXx8Yy5wdXNoKHIpKTtyZXR1cm4gY319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc0KTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoNDYpJiYhcig2NikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTM1KSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNzUpLG89cigyMSksaT1yKDE4Nykscz1yKDU4KSxhPXIoNzcpLHU9cig0MjIpLGM9cig5NiksZj1yKDE4OSksbD1yKDIyKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHksaCx2LGcpe3Uocix0LHkpO3ZhciBiLF8sbSxSPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIE8pcmV0dXJuIE9bZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LHc9dCsiIEl0ZXJhdG9yIixTPSJ2YWx1ZXMiPT1oLGs9ITEsTz1lLnByb3RvdHlwZSxQPU9bbF18fE9bIkBAaXRlcmF0b3IiXXx8aCYmT1toXSxNPVB8fFIoaCksTD1oP1M/UigiZW50cmllcyIpOk06dm9pZCAwLHg9IkFycmF5Ij09dD9PLmVudHJpZXN8fFA6UDtpZih4JiYobT1mKHguY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJm0ubmV4dCYmKGMobSx3LCEwKSxufHwiZnVuY3Rpb24iPT10eXBlb2YgbVtsXXx8cyhtLGwscCkpLFMmJlAmJiJ2YWx1ZXMiIT09UC5uYW1lJiYoaz0hMCxNPWZ1bmN0aW9uKCl7cmV0dXJuIFAuY2FsbCh0aGlzKX0pLG4mJiFnfHwhZCYmIWsmJk9bbF18fHMoTyxsLE0pLGFbdF09TSxhW3ddPXAsaClpZihiPXt2YWx1ZXM6Uz9NOlIoInZhbHVlcyIpLGtleXM6dj9NOlIoImtleXMiKSxlbnRyaWVzOkx9LGcpZm9yKF8gaW4gYilfIGluIE98fGkoTyxfLGJbX10pO2Vsc2UgbyhvLlArby5GKihkfHxrKSx0LGIpO3JldHVybiBifX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDU4KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTcpLmRvY3VtZW50O2UuZXhwb3J0cz1uJiZuLmRvY3VtZW50RWxlbWVudH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTcpLG89cig3MyksaT1yKDEzMSkoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPW8oZSksbihlLGkpP2VbaV06ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDI0KTtmb3IodmFyIG49cigxNyksbz1yKDU4KSxpPXIoNzcpLHM9cigyMikoInRvU3RyaW5nVGFnIiksYT0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIiksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgYz1hW3VdLGY9bltjXSxsPWYmJmYucHJvdG90eXBlO2wmJiFsW3NdJiZvKGwscyxjKSxpW2NdPWkuQXJyYXl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3NCksbz1yKDIyKSgidG9TdHJpbmdUYWciKSxpPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSkscz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixhO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9cyh0PU9iamVjdChlKSxvKSk/cjppP24odCk6Ik9iamVjdCI9PShhPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6YX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKHQpe3ZhciBpPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm4oaS5jYWxsKGUpKSx0fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDc3KSxvPXIoMjIpKCJpdGVyYXRvciIpLGk9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxpW29dPT09ZSl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxOTEpLG89cigyMikoIml0ZXJhdG9yIiksaT1yKDc3KTtlLmV4cG9ydHM9cigxMykuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MCksbz1yKDk1KSxpPXIoMjIpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbaV0pP3Q6byhyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvLGkscz1yKDY1KSxhPXIoNDMwKSx1PXIoMTg4KSxjPXIoMTM1KSxmPXIoMTcpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLHk9Zi5NZXNzYWdlQ2hhbm5lbCxoPWYuRGlzcGF0Y2gsdj0wLGc9e30sYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKGcuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWdbZV07ZGVsZXRlIGdbZV0sdCgpfX0sXz1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07ZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGdbKyt2XT1mdW5jdGlvbigpe2EoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih2KSx2fSxwPWZ1bmN0aW9uKGUpe2RlbGV0ZSBnW2VdfSwicHJvY2VzcyI9PXIoNzQpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OmgmJmgubm93P249ZnVuY3Rpb24oZSl7aC5ub3cocyhiLGUsMSkpfTp5PyhvPW5ldyB5LGk9by5wb3J0MixvLnBvcnQxLm9ubWVzc2FnZT1fLG49cyhpLnBvc3RNZXNzYWdlLGksMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLF8sITEpKTpuPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlOiExLHY6ZSgpfX1jYXRjaChlKXtyZXR1cm57ZTohMCx2OmV9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQwKSxvPXIoNDEpLGk9cigxMzkpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG4oZSksbyh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIHI9aS5mKGUpO3JldHVybigwLHIucmVzb2x2ZSkodCksci5wcm9taXNlfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2kucmV0dXJuPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX0saVtuXT1mdW5jdGlvbigpe3JldHVybiBzfSxlKGkpfWNhdGNoKGUpe31yZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQubG9nPXZvaWQgMDt2YXIgbj1yKDcpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxpPW8uZGVmYXVsdC5nZXRMb2dnZXIoImFkZHJlc3MtYWxsb2NhdGlvbiIpLHM9by5kZWZhdWx0LmdldExvZ2dlcigiQnVzIiksYT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJNZXNzYWdlQnVzIiksdT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJDb3JlRGlzY292ZXJ5IiksYz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJHcmFwaENvbm5lY3RvciIpLGY9by5kZWZhdWx0LmdldExvZ2dlcigiSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UiKSxsPW8uZGVmYXVsdC5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksZD1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQRVAiKSxwPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIikseT1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLGg9by5kZWZhdWx0LmdldExvZ2dlcigiUnVudGltZVVBIiksdj1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJMb2FkZXIiKSxnPW8uZGVmYXVsdC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIiksYj1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxfPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLG09by5kZWZhdWx0LmdldExvZ2dlcigiU3Vic2NyaXB0aW9uTWFuYWdlciIpLFI9by5kZWZhdWx0LmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSx3PW8uZGVmYXVsdC5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTeW5TdWJzY3JpcHRpb24iKSxrPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlN5bmNoZXJNYW5hZ2VyIiksTz1vLmRlZmF1bHQuZ2V0TG9nZ2VyKCJJZGVudGl0eU1hbmFnZXIiKSxQPW8uZGVmYXVsdC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxNPW8uZGVmYXVsdC5nZXRMb2dnZXIoIlBpcGVsaW5lIik7dC5sb2c9by5kZWZhdWx0LGkuc2V0TGV2ZWwoMykscy5zZXRMZXZlbCgzKSxhLnNldExldmVsKDMpLHUuc2V0TGV2ZWwoNSksYy5zZXRMZXZlbCg1KSxmLnNldExldmVsKDMpLGwuc2V0TGV2ZWwoMyksZC5zZXRMZXZlbCgzKSxwLnNldExldmVsKDMpLHkuc2V0TGV2ZWwoMyksaC5zZXRMZXZlbCgzKSx2LnNldExldmVsKDMpLGcuc2V0TGV2ZWwoMyksYi5zZXRMZXZlbCgzKSxfLnNldExldmVsKDMpLG0uc2V0TGV2ZWwoMyksUi5zZXRMZXZlbCgzKSx3LnNldExldmVsKDMpLFMuc2V0TGV2ZWwoMyksay5zZXRMZXZlbCgzKSxPLnNldExldmVsKDMpLFAuc2V0TGV2ZWwoMyksTS5zZXRMZXZlbCgzKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTgyKSxvPXIoMTMzKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIkJ1cyIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCdXMoKXsoMCxzLmRlZmF1bHQpKHRoaXMsQnVzKTt2YXIgZT10aGlzO2UuX21zZ0lkPTAsZS5fc3Vic2NyaXB0aW9ucz17fSxlLl9yZXNwb25zZVRpbWVPdXQ9M2U0LGUuX3Jlc3BvbnNlQ2FsbGJhY2tzPXt9LGUuX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lcigpfXJldHVybigwLHUuZGVmYXVsdCkoQnVzLFt7a2V5OiJhZGRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49bmV3IHAoci5fc3Vic2NyaXB0aW9ucyxlLHQpLG89ci5fc3Vic2NyaXB0aW9uc1tlXTtyZXR1cm4gb3x8KG89W10sci5fc3Vic2NyaXB0aW9uc1tlXT1vKSxvLnB1c2gobiksbn19LHtrZXk6ImFkZFJlc3BvbnNlTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tlK3RdPXJ9fSx7a2V5OiJyZW1vdmVSZXNwb25zZUxpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2RlbGV0ZSB0aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tlK3RdfX0se2tleToicmVtb3ZlQWxsTGlzdGVuZXJzT2YiLHZhbHVlOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9zdWJzY3JpcHRpb25zW2VdfX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz10aGlzO3JldHVybnt0aGlzTGlzdGVuZXI6by5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKGUpe3IucG9zdE1lc3NhZ2UoZSl9KSx0YXJnZXRMaXN0ZW5lcjpyLmFkZExpc3RlbmVyKHQsZnVuY3Rpb24oZSl7by5wb3N0TWVzc2FnZShlKX0pLHVuYmluZDpmdW5jdGlvbigpe24udGhpc0xpc3RlbmVyLnJlbW92ZSgpLG4udGFyZ2V0TGlzdGVuZXIucmVtb3ZlKCl9fX19LHtrZXk6Il9wdWJsaXNoT25EZWZhdWx0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zdWJzY3JpcHRpb25zWyIqIl07dCYmdGhpcy5fcHVibGlzaE9uKHQsZSl9fSx7a2V5OiJfcHVibGlzaE9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9jYWxsYmFjayh0KX0pfX0se2tleToiX3Jlc3BvbnNlQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXSxuPXRoaXM7aWYodCl7dmFyIG89ZS5mcm9tK2UuaWQ7bi5fcmVzcG9uc2VDYWxsYmFja3Nbb109dCxyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bi5fcmVzcG9uc2VDYWxsYmFja3Nbb107aWYoZGVsZXRlIG4uX3Jlc3BvbnNlQ2FsbGJhY2tzW29dLHQpe3Qoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDA4LGRlc2M6IlJlc3BvbnNlIHRpbWVvdXQhIix2YWx1ZTplfX0pfX0sbi5fcmVzcG9uc2VUaW1lT3V0KX19fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigicmVzcG9uc2UiPT09ZS50eXBlKXt2YXIgcj1lLnRvK2UuaWQsbj10Ll9yZXNwb25zZUNhbGxiYWNrc1tyXTtpZihlLmJvZHkuY29kZT49MjAwJiZkZWxldGUgdC5fcmVzcG9uc2VDYWxsYmFja3Nbcl0sbilyZXR1cm4gbihlKSwhMH1yZXR1cm4hMX19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj90Ll9wdWJsaXNoT24ocixlKTp0Ll9wdWJsaXNoT25EZWZhdWx0KGUpfX19LHtrZXk6Il9nZW5JZCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5pZCYmMCE9PWUuaWR8fCh0aGlzLl9tc2dJZCsrLGUuaWQ9dGhpcy5fbXNnSWQpfX0se2tleToicG9zdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleToicG9zdE1lc3NhZ2VXaXRoUmV0cmllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT0wLHM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0LG8pe24ucG9zdE1lc3NhZ2UoZSxmdW5jdGlvbihuKXs0MDg9PT1uLmJvZHkuY29kZXx8NTAwPT09bi5ib2R5LmNvZGU/bygpOihsLmluZm8oIltCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllc10gbXNnIGRlbGl2ZXJlZDogIixlKSxyKG4pLHQoKSl9KX0pfTshZnVuY3Rpb24gdHJ5QWdhaW4oKXtzKCkudGhlbihmdW5jdGlvbigpe30sZnVuY3Rpb24oKXtpZihsLndhcm4oIltCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllc10gTWVzc2FnZSBCb3VuY2VkIChyZXRyeSAiK2krIik6ICciLGUpLCEoaSsrPHQpKXt2YXIgcj0iW0Vycm9yXSBNZXNzYWdlIEJvdW5jZWQgKGRlbGl2ZXJ5IGF0dGVtcHRzICIrdCsiKTogJyI7dGhyb3cgbmV3IEVycm9yKHIrZSl9dHJ5QWdhaW4oKX0pfSgpfX0se2tleToiX29uUG9zdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6Il9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxCdXN9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIE1zZ0xpc3RlbmVyKGUsdCxyKXsoMCxzLmRlZmF1bHQpKHRoaXMsTXNnTGlzdGVuZXIpO3ZhciBuPXRoaXM7bi5fc3Vic2NyaXB0aW9ucz1lLG4uX3VybD10LG4uX2NhbGxiYWNrPXJ9cmV0dXJuKDAsdS5kZWZhdWx0KShNc2dMaXN0ZW5lcixbe2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLl9zdWJzY3JpcHRpb25zW2UuX3VybF07aWYodCl7dmFyIHI9dC5pbmRleE9mKGUpO3Quc3BsaWNlKHIsMSksMD09PXQubGVuZ3RoJiZkZWxldGUgZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdfX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksTXNnTGlzdGVuZXJ9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1OSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNjcpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNjgpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNDY4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiBIeXBlcnR5SW5zdGFuY2UoZSx0LHIsbixpLGEsdSxjLGwsZCxwLHksaCx2LGcpeygwLHMuZGVmYXVsdCkodGhpcyxIeXBlcnR5SW5zdGFuY2UpO3ZhciBiPSgwLGYuZGVmYXVsdCkodGhpcywoSHlwZXJ0eUluc3RhbmNlLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UpKS5jYWxsKHRoaXMsZSx0LHIscCx2LGcpKSxfPWI7cmV0dXJuIF8uX2Rlc2NyaXB0b3I9bixfLl9oeXBlcnR5VVJMPWksXy5fdXNlcj1hLF8uX2d1aWQ9dSxfLl9ydW50aW1lPWMsXy5fY29udGV4dD1sLF8uX3AycEhhbmRsZXI9ZCxfLl9kYXRhU2NoZW1lcz15LF8uX3Jlc291cmNlcz1oLGJ9cmV0dXJuKDAsZC5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsZSksKDAsdS5kZWZhdWx0KShIeXBlcnR5SW5zdGFuY2UsW3trZXk6InVzZXIiLHNldDpmdW5jdGlvbihlKXt0aGlzLnVzZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJ9fSx7a2V5OiJoeXBlcnR5VVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eVVSTH19LHtrZXk6ImRlc2NyaXB0b3IiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yfX0se2tleToib2JqZWN0TmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3IuX29iamVjdE5hbWV9fSx7a2V5OiJwMnBIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwSGFuZGxlcn19LHtrZXk6ImRhdGFTY2hlbWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVNjaGVtZXN9fSx7a2V5OiJyZXNvdXJjZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXNvdXJjZXN9fSx7a2V5OiJydW50aW1lVVJMIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZX19XSksSHlwZXJ0eUluc3RhbmNlfSh5LmRlZmF1bHQpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXshZnVuY3Rpb24odCxyKXtlLmV4cG9ydHM9cigpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIG89cltuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsdCksby5sPSEwLG8uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5kPWZ1bmN0aW9uKGUscixuKXt0Lm8oZSxyKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciByPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQociwiYSIscikscn0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9IiIsdCh0LnM9MTk5KX0oezA6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LDE6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LDEwOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sMTE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOCksbz1yKDE2KTtlLmV4cG9ydHM9cig0KT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsbygxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LDEyMzpmdW5jdGlvbihlLHQpeyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKGUsdCxyLG4sbyxpKXtmdW5jdGlvbiB1KGUsbil7aWYodS5kZWxheT1uLCF1LnBhdXNlJiZhLmNoYW5nZXNldC5sZW5ndGg+MCl7aWYoIWUpe3ZhciBvPWEuY2hhbmdlc2V0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hcnx8ci5pbmRleE9mKGUudHlwZSk+PTB9KTtvLmxlbmd0aD4wJiZ0KG8pfWEuY2hhbmdlc2V0PVtdfX12YXIgcyxhPXRoaXM7cmV0dXJuIHUucGF1c2U9byx1LmRlbGF5PWksYS5nZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iX19vYnNlcnZlcl9fIj09PXQ/YToidW5vYnNlcnZlIj09PXQ/ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnVub2JzZXJ2ZShlKSxlfToiZGVsaXZlciI9PT10P3U6ZVt0XX0sYS50YXJnZXQ9ZSxhLmNoYW5nZXNldD1bXSxhLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX198fChPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlckNhbGxiYWNrc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlcnNfXyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiExLHZhbHVlOltdfSkpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5wdXNoKHQpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJzX18ucHVzaCh0aGlzKSxzPW5ldyBQcm94eShlLGEpLHUoITEsaSksc31PYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIFByb3h5fHwoZS5wcm90b3R5cGUuZGVsaXZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChudWxsLCJkZWxpdmVyIil9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7dmFyIG49ZVt0XSxvPXZvaWQgMD09PW4/ImFkZCI6InVwZGF0ZSI7aWYoZVt0XT1yLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYoIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2Yobyk+PTApKXt2YXIgaT17b2JqZWN0OmUsbmFtZTp0LHR5cGU6b30scz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGE9dGhpcy5kZWxpdmVyKCk7InVwZGF0ZSI9PT1vJiYoaS5vbGRWYWx1ZT1uKSx0aGlzLmNoYW5nZXNldC5wdXNoKGkpLHMmJmEoITEsIm51bWJlciI9PXR5cGVvZiBhLmRlbGF5P2EuZGVsYXk6MTApfXJldHVybiEwfSxlLnByb3RvdHlwZS5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3ZhciByPWVbdF07aWYoZGVsZXRlIGVbdF0sZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJkZWxldGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJkZWxldGUiLG9sZFZhbHVlOnJ9LG89MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxpPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksbyYmaSghMSwibnVtYmVyIj09dHlwZW9mIGkuZGVsYXk/aS5kZWxheToxMCl9cmV0dXJuITB9LGUucHJvdG90eXBlLmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCxyKXtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicmVjb25maWd1cmUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJyZWNvbmZpZ3VyZSJ9LG89MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxpPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksbyYmaSghMSwibnVtYmVyIj09dHlwZW9mIGkuZGVsYXk/aS5kZWxheToxMCl9cmV0dXJuITB9LGUucHJvdG90eXBlLnNldFByb3RvdHlwZU9mPWZ1bmN0aW9uKGUsdCl7dmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigic2V0UHJvdG90eXBlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOiJfX3Byb3RvX18iLHR5cGU6InNldFByb3RvdHlwZSIsb2xkVmFsdWU6cn0sbz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGk9dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxvJiZpKCExLCJudW1iZXIiPT10eXBlb2YgaS5kZWxheT9pLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKGUpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicHJldmVudEV4dGVuc2lvbnMiKT49MCl7dmFyIHQ9e29iamVjdDplLHR5cGU6InByZXZlbnRFeHRlbnNpb25zIn0scj0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG49dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaCh0KSxyJiZuKCExLCJudW1iZXIiPT10eXBlb2Ygbi5kZWxheT9uLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JqZWN0Lm9ic2VydmU9ZnVuY3Rpb24odCxyLG4sbyxpLHMpe3JldHVybiBuZXcgZSh0LHIsbixvLGkscyl9LE9iamVjdC51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtpZihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXyl7aWYoIXQpcmV0dXJuIGUuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZSgwLGUuX19vYnNlcnZlckNhbGxiYWNrc19fLmxlbmd0aCksdm9pZCBlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyc19fLmxlbmd0aCk7ZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uZm9yRWFjaChmdW5jdGlvbihyLG4pe3Q9PT1yJiYoZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKG4sMSksZGVsZXRlIGUuX19vYnNlcnZlcnNfX1tuXS5jYWxsYmFjayxlLl9fb2JzZXJ2ZXJzX18uc3BsaWNlKG4sMSkpfSl9fSxBcnJheS5vYnNlcnZlPWZ1bmN0aW9uKGUsdCxyLG4sbyxpKXtpZighKGUgaW5zdGFuY2VvZiBBcnJheXx8QXJyYXkuaXNBcnJheShlKSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgdG8gQXJyYXkub2JzZXJ2ZXIgaXMgbm90IGFuIEFycmF5Iik7cj1yfHxbImFkZCIsInVwZGF0ZSIsImRlbGV0ZSIsInNwbGljZSJdO3ZhciBzPW5ldyBQcm94eShlLHtnZXQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4idW5vYnNlcnZlIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIGU/T2JqZWN0LnVub2JzZXJ2ZSh0LGUpOnQudW5vYnNlcnZlKCl9OiJzcGxpY2UiPT09bj9mdW5jdGlvbihuLG8pe2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8Im51bWJlciIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IHR3byBhcmd1bWVudHMgdG8gQXJyYXkgc3BsaWNlIGFyZSBub3QgbnVtYmVyLCBudW1iZXIiKTt2YXIgaT10aGlzLnNsaWNlKG4sbitvKSxzPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHMubGVuZ3RoLTI6MCx1PXtvYmplY3Q6ZSx0eXBlOiJzcGxpY2UiLGluZGV4Om4scmVtb3ZlZDppLGFkZGVkQ291bnQ6c307aWYodC5zcGxpY2UuYXBwbHkodCxhcmd1bWVudHMpLHIuaW5kZXhPZigic3BsaWNlIik+PTApe3ZhciBuPTA9PT1hLl9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQubGVuZ3RoLGM9YS5fX29ic2VydmVyX18uZGVsaXZlcigpO2EuX19vYnNlcnZlcl9fLmNoYW5nZXNldC5wdXNoKHUpLG4mJmMoITEsIm51bWJlciI9PXR5cGVvZiBjLmRlbGF5P2MuZGVsYXk6MTApfX06InB1c2giPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgsMCxlKX06InBvcCI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLTEsMSl9OiJ1bnNoaWZ0Ij09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxlKX06InNoaWZ0Ij09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwxKX06dFtuXX19KSxhPU9iamVjdC5vYnNlcnZlKHMsZnVuY3Rpb24oZSl7dmFyIG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImxlbmd0aCIhPT1lLm5hbWUmJiJhZGQiIT09ZS5uYW1lJiYoIXJ8fHIuaW5kZXhPZihlLnR5cGUpPj0wKX0pO24ubGVuZ3RoPjAmJnQobil9LHIsbixvLGkpO3JldHVybiBhfSxBcnJheS51bm9ic2VydmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51bm9ic2VydmUodCl9KSxPYmplY3QuZGVlcE9ic2VydmU9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSxyKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCgib2JqZWN0Ij09PWkoZVtuXSl8fCJhcnJheSI9PT1pKGVbbl0pKSYmIWVbbl0uaGFzT3duUHJvcGVydHkoIl9fb2JzZXJ2ZXJzX18iKSl7dmFyIG89ci5zbGljZSgwKTtvLnB1c2gobiksZVtuXT1PYmplY3QuZGVlcE9ic2VydmUoZVtuXSx0LG8pfX0pfW49bnx8W107dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiByKGUsbiksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihlKXtmdW5jdGlvbiBvKGUsdCxyLG4scyl7aWYobiBpbnN0YW5jZW9mIE9iamVjdClPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKCFyfHxyW2FdIT09blthXSl7dmFyIHU9ciYmdm9pZCAwIT09clthXT9yW2FdOnZvaWQgMCxjPXZvaWQgMD09PXU/ImFkZCI6InVwZGF0ZSIsZj1zKyIuIithO2kucHVzaCh7bmFtZTplLG9iamVjdDp0LHR5cGU6YyxvbGRWYWx1ZTp1LG5ld1ZhbHVlOm5bYV0sa2V5cGF0aDpmfSksbyhlLHQsdSxuW2FdLGYpfX0pO2Vsc2UgaWYociBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIGE9T2JqZWN0LmtleXMocik7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciB1PW51bGw9PT1uPyJ1cGRhdGUiOiJkZWxldGUiLGM9cysiLiIrYTtpLnB1c2goe25hbWU6ZSxvYmplY3Q6dCx0eXBlOnUsb2xkVmFsdWU6clthXSxuZXdWYWx1ZTpuLGtleXBhdGg6Y30pLG8oZSx0LHJbYV0sdm9pZCAwLGMpfSl9fXZhciBpPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0obi5sZW5ndGg+MD9uLmpvaW4oIi4iKSsiLiI6IiIpK2UubmFtZTsidXBkYXRlIiE9PWUudHlwZSYmImFkZCIhPT1lLnR5cGV8fHIoZS5vYmplY3QsbiksaS5wdXNoKHtuYW1lOmUubmFtZSxvYmplY3Q6ZS5vYmplY3QsdHlwZTplLnR5cGUsb2xkVmFsdWU6ZS5vbGRWYWx1ZSxuZXdWYWx1ZTplLm9iamVjdFtlLm5hbWVdLGtleXBhdGg6dH0pLG8oZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQoaSl9KX19KCl9LDEzOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwxNDpmdW5jdGlvbihlLHQscil7dmFyIG49cigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwxNjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LDE5OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LldhdGNoaW5nWW91PXZvaWQgMDt2YXIgbj1yKDIwMCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuV2F0Y2hpbmdZb3U9by5kZWZhdWx0fSwyMDA6ZnVuY3Rpb24odCxuLG8peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9bygzKSxzPXIoaSksYT1vKDUpLHU9cihhKTtvKDEyMyk7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAscy5kZWZhdWx0KSh0aGlzLGUpLHRoaXMuX3dhdGNoaW5nPXt9LHRoaXMuX29ic2VydmVycz1bXX1yZXR1cm4oMCx1LmRlZmF1bHQpKGUsW3trZXk6IndhdGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3JldHVybiB0aGlzLl93YXRjaGluZ1tlXT1uP09iamVjdC5kZWVwT2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pOk9iamVjdC5vYnNlcnZlKHQsZnVuY3Rpb24odCl7dC5ldmVyeShmdW5jdGlvbih0KXtyLl9maXJlRXZlbnQoZSx0KX0pfSksdGhpcy5fd2F0Y2hpbmdbZV19fSx7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5wdXNoKHtrZXk6ZSxjYWxsYmFjazp0fSl9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayh0KX0pfX1dKSxlfSgpO24uZGVmYXVsdD1jLHQuZXhwb3J0cz1uLmRlZmF1bHR9LDI0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSwyNzpmdW5jdGlvbihlLHQscil7dmFyIG49cig3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4gZTt2YXIgcixvO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4obz1yLmNhbGwoZSkpKXJldHVybiBvO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSwyODpmdW5jdGlvbihlLHQscil7dmFyIG49cig3KSxvPXIoMSkuZG9jdW1lbnQsaT1uKG8pJiZuKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDM6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSwzOTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDQpJiYhcigxMykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMjgpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sNDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDEzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDU6ZnVuY3Rpb24odCxyLG4peyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITA7dmFyIG89big1OSksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pO3IuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGkuZGVmYXVsdCkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCl9LDU5OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig2MSksX19lc01vZHVsZTohMH19LDY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMSksbz1yKDApLGk9cigxNCkscz1yKDExKSxhPXIoMTApLHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBjLGYsbCxkPWUmdS5GLHA9ZSZ1LkcseT1lJnUuUyxoPWUmdS5QLHY9ZSZ1LkIsZz1lJnUuVyxiPXA/bzpvW3RdfHwob1t0XT17fSksXz1iLnByb3RvdHlwZSxtPXA/bjp5P25bdF06KG5bdF18fHt9KS5wcm90b3R5cGU7cCYmKHI9dCk7Zm9yKGMgaW4gcikoZj0hZCYmbSYmdm9pZCAwIT09bVtjXSkmJmEoYixjKXx8KGw9Zj9tW2NdOnJbY10sYltjXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgbVtjXT9yW2NdOnYmJmY/aShsLG4pOmcmJm1bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGwpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP2koRnVuY3Rpb24uY2FsbCxsKTpsLGgmJigoYi52aXJ0dWFsfHwoYi52aXJ0dWFsPXt9KSlbY109bCxlJnUuUiYmXyYmIV9bY10mJnMoXyxjLGwpKSl9O3UuRj0xLHUuRz0yLHUuUz00LHUuUD04LHUuQj0xNix1Llc9MzIsdS5VPTY0LHUuUj0xMjgsZS5leHBvcnRzPXV9LDYxOmZ1bmN0aW9uKGUsdCxyKXtyKDYyKTt2YXIgbj1yKDApLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LDYyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpO24obi5TK24uRiohcig0KSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6cig4KS5mfSl9LDc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sODpmdW5jdGlvbihlLHQscil7dmFyIG49cig5KSxvPXIoMzkpLGk9cigyNykscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNCk/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChlKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LDk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19fSl9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig0NzMpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoOCksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig5NyksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigxKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNyksdj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpLGc9cigxNCksYj1yKDIwNCksXz12LmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdGllcyhlLHQpeygwLGQuZGVmYXVsdCkodGhpcyxJZGVudGl0aWVzKTt2YXIgcj10aGlzO3IuX3dhdGNoaW5nWW91PW5ldyBiLldhdGNoaW5nWW91LHIuX3N0b3JhZ2VNYW5hZ2VyPXQsci5fZ3VpZCxyLl90eXBlPWUsci5faWRlbnRpdGllcz17fSxyLl9hY2Nlc3NUb2tlbnM9ci53YXRjaGluZ1lvdS53YXRjaCgiYWNjZXNzVG9rZW5zIix7fSwhMCl9cmV0dXJuKDAseS5kZWZhdWx0KShJZGVudGl0aWVzLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pZGVudGl0aWVzPXt9LHRoaXMuY3VycmVudElkZW50aXR5PXZvaWQgMCx0aGlzLmRlZmF1bHRJZGVudGl0eT12b2lkIDB9fSx7a2V5OiJnZXRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKDAsZi5kZWZhdWx0KSh7fSx0aGlzLl9pZGVudGl0aWVzW2VdKX19LHtrZXk6ImxvYWRJZGVudGl0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KG51bGwsbnVsbCwiaWRlbnRpdGllcyIpLnRoZW4oZnVuY3Rpb24ocil7Xy5pbmZvKCJbSWRlbnRpdGllcy5Mb2FkIElkZW50aXRpZXNdIGlkZW50aXRpZXM6ICIsciksciYmKGUuX2lkZW50aXRpZXM9cixlLmlkZW50aWZpZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9KDAsZy5zZWNvbmRzU2luY2VFcG9jaCkoKSxuPWUuX2lkZW50aXRpZXNbdF0sbz1uLmV4cGlyZXM7ZS5kZWZhdWx0SWRlbnRpdHk9dCxwYXJzZUludChvKT5yJiYoZS5kZWZhdWx0SWRlbnRpdHkuZXhwaXJlcz1wYXJzZUludChvKSxlLmN1cnJlbnRJZGVudGl0eT10KX0pKSx0KCl9KX0pfX0se2tleToibG9hZEFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2VNYW5hZ2VyLmdldCgiYWNjZXNzVG9rZW5zIikudGhlbihmdW5jdGlvbihyKXtyJiYoZS5fYWNjZXNzVG9rZW5zPXIpLHQoKX0pfSl9fSx7a2V5OiJhZGRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXtpZihyLl9pc1ZhbGlkKGUpKXt2YXIgaT1lLmlkZW50aWZpZXJzWzBdOygwLGYuZGVmYXVsdCkodC5faWRlbnRpdGllc1tpXSxlKSx0Ll9zdG9yZUlkZW50aXR5KGUpLnRoZW4oZnVuY3Rpb24oKXt0Ll9pZGVudGl0aWVzW2ldLnN0YXR1cz0iY3JlYXRlZCIsbigpfSl9ZWxzZSBvKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBJZEFzc2VydGlvbiIpfSl9fSx7a2V5OiJhZGRBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoci5faXNWYWxpZChlKSl7ZS51c2VyUHJvZmlsZS5ndWlkPXIuX2d1aWQ7dmFyIGk9ZS51c2VyUHJvZmlsZS51c2VyVVJMO3IuaWRlbnRpdGllc1tpXT9yLmlkZW50aXRpZXNbaV09ZTpyLl9pZGVudGl0aWVzW2ldPWUsci5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7dC5faWRlbnRpdGllc1tpXS5zdGF0dXM9ImNyZWF0ZWQiLDA9PXIuZGVmYXVsdElkZW50aXR5JiYoci5kZWZhdWx0SWRlbnRpdHk9aSksbihlKX0pfWVsc2UgbygiW0lkZW50aXRpZXMuYWRkQXNzZXJ0aW9uXSBpbnZhbGlkIElkQXNzZXJ0aW9uOiAiLGUpfSl9fSx7a2V5OiJyZW1vdmVJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe2RlbGV0ZSB0LmlkZW50aXRpZXNbZV0sdC5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6ImFkZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLmluZm8oIltJZGVudGl0aWVzLmFkZEFjY2Vzc1Rva2VuXSAiLGUpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9pc1ZhbGlkQWNjZXNzVG9rZW4oZSk/KHQuX2FjY2Vzc1Rva2Vuc1tlLmRvbWFpbl09ZSx0Ll9zdG9yZUFjY2Vzc1Rva2VucygpLnRoZW4oZnVuY3Rpb24oKXt0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dLnN0YXR1cz0iY3JlYXRlZCIscihlKX0pKTpuKCJbSWRlbnRpdGllcy5hZGRJZGVudGl0eV0gaW52YWxpZCBBY2Nlc3NUb2tlbjogIixlKX0pfX0se2tleToic2V0QWNjZXNzVG9rZW5JblByb2dyZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9hY2Nlc3NUb2tlbnNbZV0/dGhpcy5fYWNjZXNzVG9rZW5zW2VdLnN0YXR1cz0iaW4tcHJvZ3Jlc3MiOnRoaXMuX2FjY2Vzc1Rva2Vuc1tlXT17c3RhdHVzOiJpbi1wcm9ncmVzcyJ9fX0se2tleToiZ2V0QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fYWNjZXNzVG9rZW5zW2VdO3JldHVybiByP3QuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPXIucmVzb3VyY2VzLmluZGV4T2YoZSl9KT90aGlzLl9hY2Nlc3NUb2tlbnNbZV06bmV3IEVycm9yKCJbSWRlbnRpdGllcy5nZXRBY2Nlc3NUb2tlbl0gTm90IGZvdW5kIGZvciAiLGUpOnZvaWQgMH19LHtrZXk6InVwZGF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj1lLnVzZXJQcm9maWxlLnVzZXJVUkw7aWYoIXQuaWRlbnRpdGllc1tuXSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdGllcy51cGRhdGVBc3NlcnRpb25dIElkZW50aXR5IG5vdCBmb3VuZCBmb3IgIixuKTt0LmlkZW50aXRpZXNbbl09ZSx0Ll9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToidXBkYXRlQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8uaW5mbygiW0lkZW50aXRpZXMudXBkYXRlQWNjZXNzVG9rZW5dICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2lzVmFsaWRBY2Nlc3NUb2tlbihlKT8odC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5leHBpcmVzPWUuZXhwaXJlcyx0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dLmFjY2Vzc1Rva2VuPWUuYWNjZXNzVG9rZW4sdC5fc3RvcmVBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5zdGF0dXM9ImNyZWF0ZWQiLHIoZSl9KSk6bigiW0lkZW50aXRpZXMudXBkYXRlQWNjZXNzVG9rZW5dIGludmFsaWQgQWNjZXNzVG9rZW46ICIsZSl9KX19LHtrZXk6ImFkZElkQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLGk9bmV3IFIodCxyLG4pO28uaWRBc3NlcnRpb25MaXN0LnB1c2goaSl9fSx7a2V5OiJfaXNWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpKXJldHVybiExO3ZhciB0PWUuYXNzZXJ0aW9uLnNwbGl0KCIuIik7dHJ5e3RbMV0/KDAsZy5kZWNvZGUpKHRbMV0pOigwLGcuZGVjb2RlKShlLmFzc2VydGlvbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSx7a2V5OiJfaXNWYWxpZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWUuaGFzT3duUHJvcGVydHkoImFjY2Vzc1Rva2VuIikmJighIWUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYoISghZS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2VzIil8fCFBcnJheS5pc0FycmF5KGUucmVzb3VyY2VzKSkmJighKCFlLmhhc093blByb3BlcnR5KCJleHBpcmVzIil8fCEoMCxzLmRlZmF1bHQpKGUuZXhwaXJlcykpJiYhIWUuaGFzT3duUHJvcGVydHkoImlucHV0IikpKSl9fSx7a2V5OiJfc3RvcmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxvLmRlZmF1bHQpKGUuX2lkZW50aXRpZXMpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gdC5fc3RvcmFnZU1hbmFnZXIuc2V0KHIsMCxlLl9pZGVudGl0aWVzW3JdLCJpZGVudGl0aWVzIil9KTt1LmRlZmF1bHQuYWxsKGkpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yZUlkZW50aXR5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9zdG9yZUFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dmFyIG49KDAsZy5kZWVwQ2xvbmUpKGUuX2FjY2Vzc1Rva2Vucyk7ZS5fc3RvcmFnZU1hbmFnZXIuc2V0KCJhY2Nlc3NUb2tlbnMiLDAsbikudGhlbihmdW5jdGlvbigpe3QoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3IoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JlSWRlbnRpdHkgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9fSx7a2V5OiJhY2Nlc3NUb2tlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3NUb2tlbnN9fSx7a2V5OiJ3YXRjaGluZ1lvdSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhdGNoaW5nWW91fX0se2tleToiZ3VpZCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2d1aWQ9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aWR9fSx7a2V5OiJkZWZhdWx0SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IG5ldyBFcnJvcigiW0lkZW50aXRpZXMuc2V0IGRlZmF1bHRJZGVudGl0eSBdIEVycm9yOiBpZGVudGl0eSBkb2VzIG5vdCBleGlzdCBoZXJlOiAiLGUpO3RoaXMuX2RlZmF1bHRJZGVudGl0eT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2RlZmF1bHRJZGVudGl0eSYmKDAsZi5kZWZhdWx0KSh7fSx0aGlzLmlkZW50aXRpZXNbdGhpcy5fZGVmYXVsdElkZW50aXR5XSl9fSx7a2V5OiJjdXJyZW50SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IGU7dGhpcy5fY3VycmVudElkZW50aXR5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybigwLGYuZGVmYXVsdCkoe30sdGhpcy5pZGVudGl0aWVzW3RoaXMuX2N1cnJlbnRJZGVudGl0eV0pfX0se2tleToiaWRlbnRpZmllcnMiLGdldDpmdW5jdGlvbigpe3JldHVybigwLG8uZGVmYXVsdCkodGhpcy5faWRlbnRpdGllcyl9fV0pLElkZW50aXRpZXN9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIElkQXNzZXJ0aW9uKGUsdCxyKXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRBc3NlcnRpb24pO3ZhciBuPXRoaXM7bi5fYXNzZXJ0aW9uPWUsbi5faWRwPXQsbi5fdXNlclByb2ZpbGU9cn1yZXR1cm4oMCx5LmRlZmF1bHQpKElkQXNzZXJ0aW9uLFt7a2V5OiJhc3NlcnRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hc3NlcnRpb259fSx7a2V5OiJpZHAiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZHB9fSx7a2V5OiJ1c2VyUHJvZmlsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJQcm9maWxlfX1dKSxJZEFzc2VydGlvbn0oKTshZnVuY3Rpb24oKXtmdW5jdGlvbiBJZFZhbGlkYXRpb24oZSx0KXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRWYWxpZGF0aW9uKTt2YXIgcj10aGlzO3IuaWRlbnRpdHk9ZSxyLmNvbnRlbnRzPXR9KDAseS5kZWZhdWx0KShJZFZhbGlkYXRpb24sW3trZXk6InZhbGlkYXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fV0pfSgpO3QuZGVmYXVsdD1tLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIEFsbG93T3ZlcnJpZGVzKCl7KDAsby5kZWZhdWx0KSh0aGlzLEFsbG93T3ZlcnJpZGVzKX1yZXR1cm4oMCxzLmRlZmF1bHQpKEFsbG93T3ZlcnJpZGVzLFt7a2V5OiJjb21iaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZighMCl8fC0xPT09ZS5pbmRleE9mKCExKSYmIk5vdCBBcHBsaWNhYmxlIn19XSksQWxsb3dPdmVycmlkZXN9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQmxvY2tPdmVycmlkZXMoKXsoMCxvLmRlZmF1bHQpKHRoaXMsQmxvY2tPdmVycmlkZXMpfXJldHVybigwLHMuZGVmYXVsdCkoQmxvY2tPdmVycmlkZXMsW3trZXk6ImNvbWJpbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCExKSYmKC0xIT09ZS5pbmRleE9mKCEwKXx8Ik5vdCBBcHBsaWNhYmxlIil9fV0pLEJsb2NrT3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZpcnN0QXBwbGljYWJsZSgpeygwLG8uZGVmYXVsdCkodGhpcyxGaXJzdEFwcGxpY2FibGUpfXJldHVybigwLHMuZGVmYXVsdCkoRmlyc3RBcHBsaWNhYmxlLFt7a2V5OiJjb21iaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZigiTm90IEFwcGxpY2FibGUiIT09ZVt0XSlyZXR1cm4gZVt0XTtyZXR1cm4iTm90IEFwcGxpY2FibGUifX1dKSxGaXJzdEFwcGxpY2FibGV9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDUwMiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig1MDkpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cig3KSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSksYz11LmdldExvZ2dlcigiU3luU3Vic2NyaXB0aW9uIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbihlLHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBzPXRoaXMsYT1yKyIvY2hpbGRyZW4vIix1PXIrIi9jaGFuZ2VzIjtzLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pO3ZhciBvPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTtlLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7Yy5sb2coIlN1YnNjcmlwdGlvbi1ERUxFVEUtUkVQTFk6ICIsZSksMjAwPT09ZS5ib2R5LmNvZGUmJnMuX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0pLHMuX2NoYW5nZUxpc3RlbmVyPWk/ZS5hZGRQdWJsaXNoKHUpOmUuYWRkRm9yd2FyZCh1LHQpLHMuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLGMubG9nKCJbU3Vic2NyaXB0aW9uXSAtIGNoaWxkSUQiLG4pLG4uZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj1hK3I7Yy5sb2coIltTdWJzY3JpcHRpb25dIC0gY2hpbGRJRCIsYSxuLHIpO3ZhciBvPWUuYWRkUHVibGlzaChuKTtpZihzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG8pLCFpKXt2YXIgdT1lLmFkZEZvcndhcmQobix0KTtzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKHUpfX0pfXJldHVybigwLHMuZGVmYXVsdCkoU3Vic2NyaXB0aW9uLFt7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2RlbGV0ZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pfX1dKSxTdWJzY3JpcHRpb259KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe3IoMjEzKSxlLmV4cG9ydHM9cig0MTUpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiBkZWZpbmUoZSxyLG4pe2Vbcl18fE9iamVjdFt0XShlLHIse3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTpufSl9aWYocigyMTQpLHIoNDExKSxyKDQxMiksZS5fYmFiZWxQb2x5ZmlsbCl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgb25lIGluc3RhbmNlIG9mIGJhYmVsLXBvbHlmaWxsIGlzIGFsbG93ZWQiKTtlLl9iYWJlbFBvbHlmaWxsPSEwO3ZhciB0PSJkZWZpbmVQcm9wZXJ0eSI7ZGVmaW5lKFN0cmluZy5wcm90b3R5cGUsInBhZExlZnQiLCIiLnBhZFN0YXJ0KSxkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwicGFkUmlnaHQiLCIiLnBhZEVuZCksInBvcCxyZXZlcnNlLHNoaWZ0LGtleXMsdmFsdWVzLGVudHJpZXMsaW5kZXhPZixldmVyeSxzb21lLGZvckVhY2gsbWFwLGZpbHRlcixmaW5kLGZpbmRJbmRleCxpbmNsdWRlcyxqb2luLHNsaWNlLGNvbmNhdCxwdXNoLHNwbGljZSx1bnNoaWZ0LHNvcnQsbGFzdEluZGV4T2YscmVkdWNlLHJlZHVjZVJpZ2h0LGNvcHlXaXRoaW4sZmlsbCIuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1tdW2VdJiZkZWZpbmUoQXJyYXksZSxGdW5jdGlvbi5jYWxsLmJpbmQoW11bZV0pKX0pfSkuY2FsbCh0LHIoMTQ3KSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDIxNSkscigyMTcpLHIoMjE4KSxyKDIxOSkscigyMjApLHIoMjIxKSxyKDIyMikscigyMjMpLHIoMjI0KSxyKDIyNSkscigyMjYpLHIoMjI3KSxyKDIyOCkscigyMjkpLHIoMjMwKSxyKDIzMSkscigyMzMpLHIoMjM0KSxyKDIzNSkscigyMzYpLHIoMjM3KSxyKDIzOCkscigyMzkpLHIoMjQwKSxyKDI0MSkscigyNDIpLHIoMjQzKSxyKDI0NCkscigyNDUpLHIoMjQ2KSxyKDI0NykscigyNDgpLHIoMjQ5KSxyKDI1MCkscigyNTEpLHIoMjUyKSxyKDI1MykscigyNTQpLHIoMjU1KSxyKDI1NikscigyNTcpLHIoMjU4KSxyKDI1OSkscigyNjApLHIoMjYxKSxyKDI2MikscigyNjMpLHIoMjY0KSxyKDI2NSkscigyNjYpLHIoMjY3KSxyKDI2OCkscigyNjkpLHIoMjcwKSxyKDI3MSkscigyNzIpLHIoMjczKSxyKDI3NCkscigyNzUpLHIoMjc2KSxyKDI3NykscigyNzgpLHIoMjc5KSxyKDI4MCkscigyODEpLHIoMjgyKSxyKDI4MykscigyODQpLHIoMjg1KSxyKDI4NikscigyODcpLHIoMjg4KSxyKDI4OSkscigyOTApLHIoMjkxKSxyKDI5MikscigyOTMpLHIoMjk1KSxyKDI5NikscigyOTgpLHIoMjk5KSxyKDMwMCkscigzMDEpLHIoMzAyKSxyKDMwMykscigzMDQpLHIoMzA2KSxyKDMwNykscigzMDgpLHIoMzA5KSxyKDMxMCkscigzMTEpLHIoMzEyKSxyKDMxMykscigzMTQpLHIoMzE1KSxyKDMxNikscigzMTcpLHIoMzE4KSxyKDEyMykscigzMTkpLHIoMzIwKSxyKDE2NikscigzMjEpLHIoMzIyKSxyKDMyMykscigzMjQpLHIoMzI1KSxyKDE2OSkscigxNzEpLHIoMTcyKSxyKDMyNikscigzMjcpLHIoMzI4KSxyKDMyOSkscigzMzApLHIoMzMxKSxyKDMzMikscigzMzMpLHIoMzM0KSxyKDMzNSkscigzMzYpLHIoMzM3KSxyKDMzOCkscigzMzkpLHIoMzQwKSxyKDM0MSkscigzNDIpLHIoMzQzKSxyKDM0NCkscigzNDUpLHIoMzQ2KSxyKDM0NykscigzNDgpLHIoMzQ5KSxyKDM1MCkscigzNTEpLHIoMzUyKSxyKDM1MykscigzNTQpLHIoMzU1KSxyKDM1NikscigzNTcpLHIoMzU4KSxyKDM1OSkscigzNjApLHIoMzYxKSxyKDM2MikscigzNjMpLHIoMzY0KSxyKDM2NSkscigzNjYpLHIoMzY3KSxyKDM2OCkscigzNjkpLHIoMzcwKSxyKDM3MSkscigzNzIpLHIoMzczKSxyKDM3NCkscigzNzUpLHIoMzc2KSxyKDM3NykscigzNzgpLHIoMzc5KSxyKDM4MCkscigzODEpLHIoMzgyKSxyKDM4MykscigzODQpLHIoMzg1KSxyKDM4NikscigzODcpLHIoMzg4KSxyKDM4OSkscigzOTApLHIoMzkxKSxyKDM5MikscigzOTMpLHIoMzk0KSxyKDM5NSkscigzOTYpLHIoMzk3KSxyKDM5OCkscigzOTkpLHIoNDAwKSxyKDQwMSkscig0MDIpLHIoNDAzKSxyKDQwNCkscig0MDUpLHIoNDA2KSxyKDQwNykscig0MDgpLHIoNDA5KSxyKDQxMCksZS5leHBvcnRzPXIoMjcpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNCksbz1yKDIzKSxpPXIoMTApLHM9cigwKSxhPXIoMTkpLHU9cig0MikuS0VZLGM9cig1KSxmPXIoNzkpLGw9cig2MCksZD1yKDQ4KSxwPXIoOSkseT1yKDE0OSksaD1yKDEwMyksdj1yKDIxNiksZz1yKDgyKSxiPXIoMyksXz1yKDYpLG09cigyNCksUj1yKDMyKSx3PXIoNDcpLFM9cig1MSksaz1yKDE1MiksTz1yKDI1KSxQPXIoMTEpLE09cig0OSksTD1PLmYseD1QLmYsQT1rLmYsRD1uLlN5bWJvbCxVPW4uSlNPTixqPVUmJlUuc3RyaW5naWZ5LEk9cCgiX2hpZGRlbiIpLEU9cCgidG9QcmltaXRpdmUiKSxUPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEM9Zigic3ltYm9sLXJlZ2lzdHJ5IikscT1mKCJzeW1ib2xzIiksRj1mKCJvcC1zeW1ib2xzIiksSD1PYmplY3QucHJvdG90eXBlLE49ImZ1bmN0aW9uIj09dHlwZW9mIEQsQj1uLlFPYmplY3QsRz0hQnx8IUIucHJvdG90eXBlfHwhQi5wcm90b3R5cGUuZmluZENoaWxkLEs9aSYmYyhmdW5jdGlvbigpe3JldHVybiA3IT1TKHgoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49TChILHQpO24mJmRlbGV0ZSBIW3RdLHgoZSx0LHIpLG4mJmUhPT1IJiZ4KEgsdCxuKX06eCxWPWZ1bmN0aW9uKGUpe3ZhciB0PXFbZV09UyhELnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSx0fSxXPU4mJiJzeW1ib2wiPT10eXBlb2YgRC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRH0sWT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZZKEYsdCxyKSxiKGUpLHQ9Uih0LCEwKSxiKHIpLG8ocSx0KT8oci5lbnVtZXJhYmxlPyhvKGUsSSkmJmVbSV1bdF0mJihlW0ldW3RdPSExKSxyPVMocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihvKGUsSSl8fHgoZSxJLHcoMSx7fSkpLGVbSV1bdF09ITApLEsoZSx0LHIpKTp4KGUsdCxyKX0sej1mdW5jdGlvbihlLHQpe2IoZSk7Zm9yKHZhciByLG49dih0PW0odCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspWShlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxKPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/UyhlKTp6KFMoZSksdCl9LFo9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZT1SKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZvKHEsZSkmJiFvKEYsZSkpJiYoISh0fHwhbyh0aGlzLGUpfHwhbyhxLGUpfHxvKHRoaXMsSSkmJnRoaXNbSV1bZV0pfHx0KX0sUT1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PVIodCwhMCksZSE9PUh8fCFvKHEsdCl8fG8oRix0KSl7dmFyIHI9TChlLHQpO3JldHVybiFyfHwhbyhxLHQpfHxvKGUsSSkmJmVbSV1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSwkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPUEobShlKSksbj1bXSxpPTA7ci5sZW5ndGg+aTspbyhxLHQ9cltpKytdKXx8dD09SXx8dD09dXx8bi5wdXNoKHQpO3JldHVybiBufSxYPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT1ILG49QShyP0Y6bShlKSksaT1bXSxzPTA7bi5sZW5ndGg+czspIW8ocSx0PW5bcysrXSl8fHImJiFvKEgsdCl8fGkucHVzaChxW3RdKTtyZXR1cm4gaX07Tnx8KEQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgRCl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1IJiZ0LmNhbGwoRixyKSxvKHRoaXMsSSkmJm8odGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEsodGhpcyxlLHcoMSxyKSl9O3JldHVybiBpJiZHJiZLKEgsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShELnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxQLmY9WSxyKDUyKS5mPWsuZj0kLHIoNzEpLmY9WixyKDgxKS5mPVgsaSYmIXIoNDMpJiZhKEgsInByb3BlcnR5SXNFbnVtZXJhYmxlIixaLCEwKSx5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFYocChlKSl9KSxzKHMuRytzLlcrcy5GKiFOLHtTeW1ib2w6RH0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOylwKGVlW3RlKytdKTtmb3IodmFyIHJlPU0ocC5zdG9yZSksbmU9MDtyZS5sZW5ndGg+bmU7KWgocmVbbmUrK10pO3Mocy5TK3MuRiohTiwiU3ltYm9sIix7Zm9yOmZ1bmN0aW9uKGUpe3JldHVybiBvKEMsZSs9IiIpP0NbZV06Q1tlXT1EKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYoIVcoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBzeW1ib2whIik7Zm9yKHZhciB0IGluIEMpaWYoQ1t0XT09PWUpcmV0dXJuIHR9LHVzZVNldHRlcjpmdW5jdGlvbigpe0c9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0c9ITF9fSkscyhzLlMrcy5GKiFOLCJPYmplY3QiLHtjcmVhdGU6SixkZWZpbmVQcm9wZXJ0eTpZLGRlZmluZVByb3BlcnRpZXM6eixnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6USxnZXRPd25Qcm9wZXJ0eU5hbWVzOiQsZ2V0T3duUHJvcGVydHlTeW1ib2xzOlh9KSxVJiZzKHMuUytzLkYqKCFOfHxjKGZ1bmN0aW9uKCl7dmFyIGU9RCgpO3JldHVybiJbbnVsbF0iIT1qKFtlXSl8fCJ7fSIhPWooe2E6ZX0pfHwie30iIT1qKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bZV0sbz0xO2FyZ3VtZW50cy5sZW5ndGg+bzspbi5wdXNoKGFyZ3VtZW50c1tvKytdKTtpZihyPXQ9blsxXSwoXyh0KXx8dm9pZCAwIT09ZSkmJiFXKGUpKXJldHVybiBnKHQpfHwodD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiYodD1yLmNhbGwodGhpcyxlLHQpKSwhVyh0KSlyZXR1cm4gdH0pLG5bMV09dCxqLmFwcGx5KFUsbil9fSksRC5wcm90b3R5cGVbRV18fHIoMTgpKEQucHJvdG90eXBlLEUsRC5wcm90b3R5cGUudmFsdWVPZiksbChELCJTeW1ib2wiKSxsKE1hdGgsIk1hdGgiLCEwKSxsKG4uSlNPTiwiSlNPTiIsITApfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0OSksbz1yKDgxKSxpPXIoNzEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9by5mO2lmKHIpZm9yKHZhciBzLGE9cihlKSx1PWkuZixjPTA7YS5sZW5ndGg+YzspdS5jYWxsKGUscz1hW2MrK10pJiZ0LnB1c2gocyk7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7Y3JlYXRlOnIoNTEpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TK24uRiohcigxMCksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OnIoMTEpLmZ9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMrbi5GKiFyKDEwKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydGllczpyKDE1MSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjQpLG89cigyNSkuZjtyKDM1KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1KSxvPXIoMjYpO3IoMzUpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8obihlKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1KSxvPXIoNDkpO3IoMzUpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoMzUpKCJnZXRPd25Qcm9wZXJ0eU5hbWVzIixmdW5jdGlvbigpe3JldHVybiByKDE1MikuZn0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxvPXIoNDIpLm9uRnJlZXplO3IoMzUpKCJmcmVlemUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKG8odCkpOnR9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cig0Mikub25GcmVlemU7cigzNSkoInNlYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKG8odCkpOnR9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLG89cig0Mikub25GcmVlemU7cigzNSkoInByZXZlbnRFeHRlbnNpb25zIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUmJm4odCk/ZShvKHQpKTp0fX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtyKDM1KSgiaXNGcm96ZW4iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtyKDM1KSgiaXNTZWFsZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2KTtyKDM1KSgiaXNFeHRlbnNpYmxlIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuISFuKHQpJiYoIWV8fGUodCkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUytuLkYsIk9iamVjdCIse2Fzc2lnbjpyKDE1Myl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse2lzOnIoMjMyKX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT1lJiZ0IT10fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse3NldFByb3RvdHlwZU9mOnIoMTA3KS5zZXR9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDcyKSxvPXt9O29bcig5KSgidG9TdHJpbmdUYWciKV09InoiLG8rIiIhPSJbb2JqZWN0IHpdIiYmcigxOSkoT2JqZWN0LnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIituKHRoaXMpKyJdIn0sITApfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCwiRnVuY3Rpb24iLHtiaW5kOnIoMTU0KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMSkuZixvPUZ1bmN0aW9uLnByb3RvdHlwZSxpPS9eXHMqZnVuY3Rpb24gKFteIChdKikvOyJuYW1lImluIG98fHIoMTApJiZuKG8sIm5hbWUiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybigiIit0aGlzKS5tYXRjaChpKVsxXX1jYXRjaChlKXtyZXR1cm4iIn19fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2KSxvPXIoMjYpLGk9cig5KSgiaGFzSW5zdGFuY2UiKSxzPUZ1bmN0aW9uLnByb3RvdHlwZTtpIGluIHN8fHIoMTEpLmYocyxpLHt2YWx1ZTpmdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdGhpc3x8IW4oZSkpcmV0dXJuITE7aWYoIW4odGhpcy5wcm90b3R5cGUpKXJldHVybiBlIGluc3RhbmNlb2YgdGhpcztmb3IoO2U9byhlKTspaWYodGhpcy5wcm90b3R5cGU9PT1lKXJldHVybiEwO3JldHVybiExfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTU2KTtuKG4uRytuLkYqKHBhcnNlSW50IT1vKSx7cGFyc2VJbnQ6b30pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTU3KTtuKG4uRytuLkYqKHBhcnNlRmxvYXQhPW8pLHtwYXJzZUZsb2F0Om99KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQpLG89cigyMyksaT1yKDI5KSxzPXIoMTA5KSxhPXIoMzIpLHU9cig1KSxjPXIoNTIpLmYsZj1yKDI1KS5mLGw9cigxMSkuZixkPXIoNjEpLnRyaW0scD1uLk51bWJlcix5PXAsaD1wLnByb3RvdHlwZSx2PSJOdW1iZXIiPT1pKHIoNTEpKGgpKSxnPSJ0cmltImluIFN0cmluZy5wcm90b3R5cGUsYj1mdW5jdGlvbihlKXt2YXIgdD1hKGUsITEpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmdC5sZW5ndGg+Mil7dD1nP3QudHJpbSgpOmQodCwzKTt2YXIgcixuLG8saT10LmNoYXJDb2RlQXQoMCk7aWYoNDM9PT1pfHw0NT09PWkpe2lmKDg4PT09KHI9dC5jaGFyQ29kZUF0KDIpKXx8MTIwPT09cilyZXR1cm4gTmFOfWVsc2UgaWYoNDg9PT1pKXtzd2l0Y2godC5jaGFyQ29kZUF0KDEpKXtjYXNlIDY2OmNhc2UgOTg6bj0yLG89NDk7YnJlYWs7Y2FzZSA3OTpjYXNlIDExMTpuPTgsbz01NTticmVhaztkZWZhdWx0OnJldHVybit0fWZvcih2YXIgcyx1PXQuc2xpY2UoMiksYz0wLGY9dS5sZW5ndGg7YzxmO2MrKylpZigocz11LmNoYXJDb2RlQXQoYykpPDQ4fHxzPm8pcmV0dXJuIE5hTjtyZXR1cm4gcGFyc2VJbnQodSxuKX19cmV0dXJuK3R9O2lmKCFwKCIgMG8xIil8fCFwKCIwYjEiKXx8cCgiKzB4MSIpKXtwPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8MT8wOmUscj10aGlzO3JldHVybiByIGluc3RhbmNlb2YgcCYmKHY/dShmdW5jdGlvbigpe2gudmFsdWVPZi5jYWxsKHIpfSk6Ik51bWJlciIhPWkocikpP3MobmV3IHkoYih0KSkscixwKTpiKHQpfTtmb3IodmFyIF8sbT1yKDEwKT9jKHkpOiJNQVhfVkFMVUUsTUlOX1ZBTFVFLE5hTixORUdBVElWRV9JTkZJTklUWSxQT1NJVElWRV9JTkZJTklUWSxFUFNJTE9OLGlzRmluaXRlLGlzSW50ZWdlcixpc05hTixpc1NhZmVJbnRlZ2VyLE1BWF9TQUZFX0lOVEVHRVIsTUlOX1NBRkVfSU5URUdFUixwYXJzZUZsb2F0LHBhcnNlSW50LGlzSW50ZWdlciIuc3BsaXQoIiwiKSxSPTA7bS5sZW5ndGg+UjtSKyspbyh5LF89bVtSXSkmJiFvKHAsXykmJmwocCxfLGYoeSxfKSk7cC5wcm90b3R5cGU9aCxoLmNvbnN0cnVjdG9yPXAscigxOSkobiwiTnVtYmVyIixwKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMzQpLGk9cigxNTgpLHM9cigxMTApLGE9MS4udG9GaXhlZCx1PU1hdGguZmxvb3IsYz1bMCwwLDAsMCwwLDBdLGY9Ik51bWJlci50b0ZpeGVkOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiLGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9LTEsbj10Oysrcjw2OyluKz1lKmNbcl0sY1tyXT1uJTFlNyxuPXUobi8xZTcpfSxkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD02LHI9MDstLXQ+PTA7KXIrPWNbdF0sY1t0XT11KHIvZSkscj1yJWUqMWU3fSxwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTYsdD0iIjstLWU+PTA7KWlmKCIiIT09dHx8MD09PWV8fDAhPT1jW2VdKXt2YXIgcj1TdHJpbmcoY1tlXSk7dD0iIj09PXQ/cjp0K3MuY2FsbCgiMCIsNy1yLmxlbmd0aCkrcn1yZXR1cm4gdH0seT1mdW5jdGlvbihlLHQscil7cmV0dXJuIDA9PT10P3I6dCUyPT0xP3koZSx0LTEsciplKTp5KGUqZSx0LzIscil9LGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj1lO3I+PTQwOTY7KXQrPTEyLHIvPTQwOTY7Zm9yKDtyPj0yOyl0Kz0xLHIvPTI7cmV0dXJuIHR9O24obi5QK24uRiooISFhJiYoIjAuMDAwIiE9PThlLTUudG9GaXhlZCgzKXx8IjEiIT09LjkudG9GaXhlZCgwKXx8IjEuMjUiIT09MS4yNTUudG9GaXhlZCgyKXx8IjEwMDAwMDAwMDAwMDAwMDAxMjgiIT09KDB4ZGUwYjZiM2E3NjQwMDgwKS50b0ZpeGVkKDApKXx8IXIoNSkoZnVuY3Rpb24oKXthLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b0ZpeGVkOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHU9aSh0aGlzLGYpLGM9byhlKSx2PSIiLGc9IjAiO2lmKGM8MHx8Yz4yMCl0aHJvdyBSYW5nZUVycm9yKGYpO2lmKHUhPXUpcmV0dXJuIk5hTiI7aWYodTw9LTFlMjF8fHU+PTFlMjEpcmV0dXJuIFN0cmluZyh1KTtpZih1PDAmJih2PSItIix1PS11KSx1PjFlLTIxKWlmKHQ9aCh1KnkoMiw2OSwxKSktNjkscj10PDA/dSp5KDIsLXQsMSk6dS95KDIsdCwxKSxyKj00NTAzNTk5NjI3MzcwNDk2LCh0PTUyLXQpPjApe2ZvcihsKDAsciksbj1jO24+PTc7KWwoMWU3LDApLG4tPTc7Zm9yKGwoeSgxMCxuLDEpLDApLG49dC0xO24+PTIzOylkKDE8PDIzKSxuLT0yMztkKDE8PG4pLGwoMSwxKSxkKDIpLGc9cCgpfWVsc2UgbCgwLHIpLGwoMTw8LXQsMCksZz1wKCkrcy5jYWxsKCIwIixjKTtyZXR1cm4gYz4wPyhhPWcubGVuZ3RoLGc9disoYTw9Yz8iMC4iK3MuY2FsbCgiMCIsYy1hKStnOmcuc2xpY2UoMCxhLWMpKyIuIitnLnNsaWNlKGEtYykpKTpnPXYrZyxnfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDUpLGk9cigxNTgpLHM9MS4udG9QcmVjaXNpb247bihuLlArbi5GKihvKGZ1bmN0aW9uKCl7cmV0dXJuIjEiIT09cy5jYWxsKDEsdm9pZCAwKX0pfHwhbyhmdW5jdGlvbigpe3MuY2FsbCh7fSl9KSksIk51bWJlciIse3RvUHJlY2lzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcywiTnVtYmVyI3RvUHJlY2lzaW9uOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gdm9pZCAwPT09ZT9zLmNhbGwodCk6cy5jYWxsKHQsZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtFUFNJTE9OOk1hdGgucG93KDIsLTUyKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNCkuaXNGaW5pdGU7bihuLlMsIk51bWJlciIse2lzRmluaXRlOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmbyhlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDE1OSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzTmFOOmZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTU5KSxpPU1hdGguYWJzO24obi5TLCJOdW1iZXIiLHtpc1NhZmVJbnRlZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpJiZpKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7TUFYX1NBRkVfSU5URUdFUjo5MDA3MTk5MjU0NzQwOTkxfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtNSU5fU0FGRV9JTlRFR0VSOi05MDA3MTk5MjU0NzQwOTkxfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNTcpO24obi5TK24uRiooTnVtYmVyLnBhcnNlRmxvYXQhPW8pLCJOdW1iZXIiLHtwYXJzZUZsb2F0Om99KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE1Nik7bihuLlMrbi5GKihOdW1iZXIucGFyc2VJbnQhPW8pLCJOdW1iZXIiLHtwYXJzZUludDpvfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNjApLGk9TWF0aC5zcXJ0LHM9TWF0aC5hY29zaDtuKG4uUytuLkYqIShzJiY3MTA9PU1hdGguZmxvb3IocyhOdW1iZXIuTUFYX1ZBTFVFKSkmJnMoMS8wKT09MS8wKSwiTWF0aCIse2Fjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihlPStlKTwxP05hTjplPjk0OTA2MjY1LjYyNDI1MTU2P01hdGgubG9nKGUpK01hdGguTE4yOm8oZS0xK2koZS0xKSppKGUrMSkpfX0pfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYXNpbmgoZSl7cmV0dXJuIGlzRmluaXRlKGU9K2UpJiYwIT1lP2U8MD8tYXNpbmgoLWUpOk1hdGgubG9nKGUrTWF0aC5zcXJ0KGUqZSsxKSk6ZX12YXIgbj1yKDApLG89TWF0aC5hc2luaDtuKG4uUytuLkYqIShvJiYxL28oMCk+MCksIk1hdGgiLHthc2luaDphc2luaH0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguYXRhbmg7bihuLlMrbi5GKiEobyYmMS9vKC0wKTwwKSwiTWF0aCIse2F0YW5oOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSk/ZTpNYXRoLmxvZygoMStlKS8oMS1lKSkvMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDExMSk7bihuLlMsIk1hdGgiLHtjYnJ0OmZ1bmN0aW9uKGUpe3JldHVybiBvKGU9K2UpKk1hdGgucG93KE1hdGguYWJzKGUpLDEvMyl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7Y2x6MzI6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+Pj49MCk/MzEtTWF0aC5mbG9vcihNYXRoLmxvZyhlKy41KSpNYXRoLkxPRzJFKTozMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLmV4cDtuKG4uUywiTWF0aCIse2Nvc2g6ZnVuY3Rpb24oZSl7cmV0dXJuKG8oZT0rZSkrbygtZSkpLzJ9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxMTIpO24obi5TK24uRioobyE9TWF0aC5leHBtMSksIk1hdGgiLHtleHBtMTpvfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7ZnJvdW5kOnIoMTYxKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguYWJzO24obi5TLCJNYXRoIix7aHlwb3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpPTAscz0wLGE9YXJndW1lbnRzLmxlbmd0aCx1PTA7czxhOylyPW8oYXJndW1lbnRzW3MrK10pLHU8cj8obj11L3IsaT1pKm4qbisxLHU9cik6cj4wPyhuPXIvdSxpKz1uKm4pOmkrPXI7cmV0dXJuIHU9PT0xLzA/MS8wOnUqTWF0aC5zcXJ0KGkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPU1hdGguaW11bDtuKG4uUytuLkYqcig1KShmdW5jdGlvbigpe3JldHVybi01IT1vKDQyOTQ5NjcyOTUsNSl8fDIhPW8ubGVuZ3RofSksIk1hdGgiLHtpbXVsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxvPTY1NTM1JnIsaT02NTUzNSZuO3JldHVybiAwfG8qaSsoKDY1NTM1JnI+Pj4xNikqaStvKig2NTUzNSZuPj4+MTYpPDwxNj4+PjApfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2xvZzEwOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzEwRX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtsb2cxcDpyKDE2MCl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtsb2cyOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKS9NYXRoLkxOMn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduOnIoMTExKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTEyKSxpPU1hdGguZXhwO24obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuLTJlLTE3IT0hTWF0aC5zaW5oKC0yZS0xNyl9KSwiTWF0aCIse3Npbmg6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU9K2UpPDE/KG8oZSktbygtZSkpLzI6KGkoZS0xKS1pKC1lLTEpKSooTWF0aC5FLzIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTEyKSxpPU1hdGguZXhwO24obi5TLCJNYXRoIix7dGFuaDpmdW5jdGlvbihlKXt2YXIgdD1vKGU9K2UpLHI9bygtZSk7cmV0dXJuIHQ9PTEvMD8xOnI9PTEvMD8tMToodC1yKS8oaShlKStpKC1lKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dHJ1bmM6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+MD9NYXRoLmZsb29yOk1hdGguY2VpbCkoZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cig1MCksaT1TdHJpbmcuZnJvbUNoYXJDb2RlLHM9U3RyaW5nLmZyb21Db2RlUG9pbnQ7bihuLlMrbi5GKighIXMmJjEhPXMubGVuZ3RoKSwiU3RyaW5nIix7ZnJvbUNvZGVQb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQscj1bXSxuPWFyZ3VtZW50cy5sZW5ndGgscz0wO24+czspe2lmKHQ9K2FyZ3VtZW50c1tzKytdLG8odCwxMTE0MTExKSE9PXQpdGhyb3cgUmFuZ2VFcnJvcih0KyIgaXMgbm90IGEgdmFsaWQgY29kZSBwb2ludCIpO3IucHVzaCh0PDY1NTM2P2kodCk6aSg1NTI5NisoKHQtPTY1NTM2KT4+MTApLHQlMTAyNCs1NjMyMCkpfXJldHVybiByLmpvaW4oIiIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjQpLGk9cigxMik7bihuLlMsIlN0cmluZyIse3JhdzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9byhlLnJhdykscj1pKHQubGVuZ3RoKSxuPWFyZ3VtZW50cy5sZW5ndGgscz1bXSxhPTA7cj5hOylzLnB1c2goU3RyaW5nKHRbYSsrXSkpLGE8biYmcy5wdXNoKFN0cmluZyhhcmd1bWVudHNbYV0pKTtyZXR1cm4gcy5qb2luKCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDYxKSgidHJpbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywzKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDExMykoITApO3IoMTE0KShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fdCxyPXRoaXMuX2k7cmV0dXJuIHI+PXQubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9bih0LHIpLHRoaXMuX2krPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDExMykoITEpO24obi5QLCJTdHJpbmciLHtjb2RlUG9pbnRBdDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDEyKSxpPXIoMTE2KSxzPSIiLmVuZHNXaXRoO24obi5QK24uRipyKDExNykoImVuZHNXaXRoIiksIlN0cmluZyIse2VuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlLCJlbmRzV2l0aCIpLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1vKHQubGVuZ3RoKSxhPXZvaWQgMD09PXI/bjpNYXRoLm1pbihvKHIpLG4pLHU9U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LHUsYSk6dC5zbGljZShhLXUubGVuZ3RoLGEpPT09dX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMTYpO24obi5QK24uRipyKDExNykoImluY2x1ZGVzIiksIlN0cmluZyIse2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiEhfm8odGhpcyxlLCJpbmNsdWRlcyIpLmluZGV4T2YoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJTdHJpbmciLHtyZXBlYXQ6cigxMTApfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTIpLGk9cigxMTYpLHM9IiIuc3RhcnRzV2l0aDtuKG4uUCtuLkYqcigxMTcpKCJzdGFydHNXaXRoIiksIlN0cmluZyIse3N0YXJ0c1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzLGUsInN0YXJ0c1dpdGgiKSxyPW8oTWF0aC5taW4oYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdC5sZW5ndGgpKSxuPVN0cmluZyhlKTtyZXR1cm4gcz9zLmNhbGwodCxuLHIpOnQuc2xpY2UocixyK24ubGVuZ3RoKT09PW59fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoImFuY2hvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImEiLCJuYW1lIix0KX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDIwKSgiYmlnIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiaWciLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDIwKSgiYmxpbmsiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImJsaW5rIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoImJvbGQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImIiLCIiLCIiKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDIwKSgiZml4ZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInR0IiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoImZvbnRjb2xvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJjb2xvciIsdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoImZvbnRzaXplIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiZm9udCIsInNpemUiLHQpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjApKCJpdGFsaWNzIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJpIiwiIiwiIil9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoImxpbmsiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJhIiwiaHJlZiIsdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyMCkoInNtYWxsIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzbWFsbCIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjApKCJzdHJpa2UiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN0cmlrZSIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjApKCJzdWIiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1YiIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMjApKCJzdXAiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1cCIsIiIsIiIpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiRGF0ZSIse25vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE1KSxpPXIoMzIpO24obi5QK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1uZXcgRGF0ZShOYU4pLnRvSlNPTigpfHwxIT09RGF0ZS5wcm90b3R5cGUudG9KU09OLmNhbGwoe3RvSVNPU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDF9fSl9KSwiRGF0ZSIse3RvSlNPTjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLHI9aSh0KTtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHJ8fGlzRmluaXRlKHIpP3QudG9JU09TdHJpbmcoKTpudWxsfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjk0KTtuKG4uUCtuLkYqKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nIT09byksIkRhdGUiLHt0b0lTT1N0cmluZzpvfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1KSxvPURhdGUucHJvdG90eXBlLmdldFRpbWUsaT1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyxzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjk/ZToiMCIrZX07ZS5leHBvcnRzPW4oZnVuY3Rpb24oKXtyZXR1cm4iMDM4NS0wNy0yNVQwNzowNjozOS45OTlaIiE9aS5jYWxsKG5ldyBEYXRlKC01ZTEzLTEpKX0pfHwhbihmdW5jdGlvbigpe2kuY2FsbChuZXcgRGF0ZShOYU4pKX0pP2Z1bmN0aW9uKCl7aWYoIWlzRmluaXRlKG8uY2FsbCh0aGlzKSkpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCB0aW1lIHZhbHVlIik7dmFyIGU9dGhpcyx0PWUuZ2V0VVRDRnVsbFllYXIoKSxyPWUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksbj10PDA/Ii0iOnQ+OTk5OT8iKyI6IiI7cmV0dXJuIG4rKCIwMDAwMCIrTWF0aC5hYnModCkpLnNsaWNlKG4/LTY6LTQpKyItIitzKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIrcyhlLmdldFVUQ0RhdGUoKSkrIlQiK3MoZS5nZXRVVENIb3VycygpKSsiOiIrcyhlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK3MoZS5nZXRVVENTZWNvbmRzKCkpKyIuIisocj45OT9yOiIwIitzKHIpKSsiWiJ9Oml9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1EYXRlLnByb3RvdHlwZSxvPW4udG9TdHJpbmcsaT1uLmdldFRpbWU7bmV3IERhdGUoTmFOKSsiIiE9IkludmFsaWQgRGF0ZSImJnIoMTkpKG4sInRvU3RyaW5nIixmdW5jdGlvbigpe3ZhciBlPWkuY2FsbCh0aGlzKTtyZXR1cm4gZT09PWU/by5jYWxsKHRoaXMpOiJJbnZhbGlkIERhdGUifSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpKCJ0b1ByaW1pdGl2ZSIpLG89RGF0ZS5wcm90b3R5cGU7biBpbiBvfHxyKDE4KShvLG4scigyOTcpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMpLG89cigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT09ZSYmIm51bWJlciIhPT1lJiYiZGVmYXVsdCIhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0IGhpbnQiKTtyZXR1cm4gbyhuKHRoaXMpLCJudW1iZXIiIT1lKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJBcnJheSIse2lzQXJyYXk6cig4Mil9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI4KSxvPXIoMCksaT1yKDE1KSxzPXIoMTYyKSxhPXIoMTE4KSx1PXIoMTIpLGM9cigxMTkpLGY9cigxMjApO28oby5TK28uRiohcig4NCkoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIse2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQscixvLGwsZD1pKGUpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx5PWFyZ3VtZW50cy5sZW5ndGgsaD15PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PWgsZz0wLGI9ZihkKTtpZih2JiYoaD1uKGgseT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09Ynx8cD09QXJyYXkmJmEoYikpZm9yKHQ9dShkLmxlbmd0aCkscj1uZXcgcCh0KTt0Pmc7ZysrKWMocixnLHY/aChkW2ddLGcpOmRbZ10pO2Vsc2UgZm9yKGw9Yi5jYWxsKGQpLHI9bmV3IHA7IShvPWwubmV4dCgpKS5kb25lO2crKyljKHIsZyx2P3MobCxoLFtvLnZhbHVlLGddLCEwKTpvLnZhbHVlKTtyZXR1cm4gci5sZW5ndGg9ZyxyfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDExOSk7bihuLlMrbi5GKnIoNSkoZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fXJldHVybiEoQXJyYXkub2YuY2FsbChGKWluc3RhbmNlb2YgRil9KSwiQXJyYXkiLHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldygiZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5KSh0KTt0PmU7KW8ocixlLGFyZ3VtZW50c1tlKytdKTtyZXR1cm4gci5sZW5ndGg9dCxyfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDI0KSxpPVtdLmpvaW47bihuLlArbi5GKihyKDcwKSE9T2JqZWN0fHwhcigzMCkoaSkpLCJBcnJheSIse2pvaW46ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChvKHRoaXMpLHZvaWQgMD09PWU/IiwiOmUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDEwNiksaT1yKDI5KSxzPXIoNTApLGE9cigxMiksdT1bXS5zbGljZTtuKG4uUCtuLkYqcig1KShmdW5jdGlvbigpe28mJnUuY2FsbChvKX0pLCJBcnJheSIse3NsaWNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YSh0aGlzLmxlbmd0aCksbj1pKHRoaXMpO2lmKHQ9dm9pZCAwPT09dD9yOnQsIkFycmF5Ij09bilyZXR1cm4gdS5jYWxsKHRoaXMsZSx0KTtmb3IodmFyIG89cyhlLHIpLGM9cyh0LHIpLGY9YShjLW8pLGw9bmV3IEFycmF5KGYpLGQ9MDtkPGY7ZCsrKWxbZF09IlN0cmluZyI9PW4/dGhpcy5jaGFyQXQobytkKTp0aGlzW28rZF07cmV0dXJuIGx9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTYpLGk9cigxNSkscz1yKDUpLGE9W10uc29ydCx1PVsxLDIsM107bihuLlArbi5GKihzKGZ1bmN0aW9uKCl7dS5zb3J0KHZvaWQgMCl9KXx8IXMoZnVuY3Rpb24oKXt1LnNvcnQobnVsbCl9KXx8IXIoMzApKGEpKSwiQXJyYXkiLHtzb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2EuY2FsbChpKHRoaXMpKTphLmNhbGwoaSh0aGlzKSxvKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigzNikoMCksaT1yKDMwKShbXS5mb3JFYWNoLCEwKTtuKG4uUCtuLkYqIWksIkFycmF5Iix7Zm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNiksbz1yKDgyKSxpPXIoOSkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG8oZSkmJih0PWUuY29uc3RydWN0b3IsImZ1bmN0aW9uIiE9dHlwZW9mIHR8fHQhPT1BcnJheSYmIW8odC5wcm90b3R5cGUpfHwodD12b2lkIDApLG4odCkmJm51bGw9PT0odD10W2ldKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9BcnJheTp0fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigzNikoMSk7bihuLlArbi5GKiFyKDMwKShbXS5tYXAsITApLCJBcnJheSIse21hcDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigzNikoMik7bihuLlArbi5GKiFyKDMwKShbXS5maWx0ZXIsITApLCJBcnJheSIse2ZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigzNikoMyk7bihuLlArbi5GKiFyKDMwKShbXS5zb21lLCEwKSwiQXJyYXkiLHtzb21lOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDM2KSg0KTtuKG4uUCtuLkYqIXIoMzApKFtdLmV2ZXJ5LCEwKSwiQXJyYXkiLHtldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNjMpO24obi5QK24uRiohcigzMCkoW10ucmVkdWNlLCEwKSwiQXJyYXkiLHtyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCExKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNjMpO24obi5QK24uRiohcigzMCkoW10ucmVkdWNlUmlnaHQsITApLCJBcnJheSIse3JlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50c1sxXSwhMCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoODApKCExKSxpPVtdLmluZGV4T2Yscz0hIWkmJjEvWzFdLmluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHN8fCFyKDMwKShpKSksIkFycmF5Iix7aW5kZXhPZjpmdW5jdGlvbihlKXtyZXR1cm4gcz9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDpvKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDI0KSxpPXIoMzQpLHM9cigxMiksYT1bXS5sYXN0SW5kZXhPZix1PSEhYSYmMS9bMV0ubGFzdEluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHV8fCFyKDMwKShhKSksIkFycmF5Iix7bGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSl7aWYodSlyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIHQ9byh0aGlzKSxyPXModC5sZW5ndGgpLG49ci0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU1hdGgubWluKG4saShhcmd1bWVudHNbMV0pKSksbjwwJiYobj1yK24pO24+PTA7bi0tKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG58fDA7cmV0dXJuLTF9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJBcnJheSIse2NvcHlXaXRoaW46cigxNjQpfSkscig0NCkoImNvcHlXaXRoaW4iKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7ZmlsbDpyKDEyMil9KSxyKDQ0KSgiZmlsbCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDM2KSg1KSxpPSEwOyJmaW5kImluW10mJkFycmF5KDEpLmZpbmQoZnVuY3Rpb24oKXtpPSExfSksbihuLlArbi5GKmksIkFycmF5Iix7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDQpKCJmaW5kIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMzYpKDYpLGk9ImZpbmRJbmRleCIscz0hMDtpIGluW10mJkFycmF5KDEpW2ldKGZ1bmN0aW9uKCl7cz0hMX0pLG4obi5QK24uRipzLCJBcnJheSIse2ZpbmRJbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDQpKGkpfSxmdW5jdGlvbihlLHQscil7cig1MykoIkFycmF5Iil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLG89cigxMDkpLGk9cigxMSkuZixzPXIoNTIpLmYsYT1yKDgzKSx1PXIoODUpLGM9bi5SZWdFeHAsZj1jLGw9Yy5wcm90b3R5cGUsZD0vYS9nLHA9L2EvZyx5PW5ldyBjKGQpIT09ZDtpZihyKDEwKSYmKCF5fHxyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIHBbcig5KSgibWF0Y2giKV09ITEsYyhkKSE9ZHx8YyhwKT09cHx8Ii9hL2kiIT1jKGQsImkiKX0pKSl7Yz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMgaW5zdGFuY2VvZiBjLG49YShlKSxpPXZvaWQgMD09PXQ7cmV0dXJuIXImJm4mJmUuY29uc3RydWN0b3I9PT1jJiZpP2U6byh5P25ldyBmKG4mJiFpP2Uuc291cmNlOmUsdCk6Zigobj1lIGluc3RhbmNlb2YgYyk/ZS5zb3VyY2U6ZSxuJiZpP3UuY2FsbChlKTp0KSxyP3RoaXM6bCxjKX07Zm9yKHZhciBoPXMoZiksdj0wO2gubGVuZ3RoPnY7KSFmdW5jdGlvbihlKXtlIGluIGN8fGkoYyxlLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbZV19LHNldDpmdW5jdGlvbih0KXtmW2VdPXR9fSl9KGhbdisrXSk7bC5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlPWwscigxOSkobiwiUmVnRXhwIixjKX1yKDUzKSgiUmVnRXhwIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigxNjYpO3ZhciBuPXIoMyksbz1yKDg1KSxpPXIoMTApLHM9Ly4vLnRvU3RyaW5nLGE9ZnVuY3Rpb24oZSl7cigxOSkoUmVnRXhwLnByb3RvdHlwZSwidG9TdHJpbmciLGUsITApfTtyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIi9hL2IiIT1zLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KT9hKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKTtyZXR1cm4iLyIuY29uY2F0KGUuc291cmNlLCIvIiwiZmxhZ3MiaW4gZT9lLmZsYWdzOiFpJiZlIGluc3RhbmNlb2YgUmVnRXhwP28uY2FsbChlKTp2b2lkIDApfSk6InRvU3RyaW5nIiE9cy5uYW1lJiZhKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbihlLHQscil7cig4NikoIm1hdGNoIiwxLGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5bZnVuY3Rpb24ocil7InVzZSBzdHJpY3QiO3ZhciBuPWUodGhpcyksbz12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PW8/by5jYWxsKHIsbik6bmV3IFJlZ0V4cChyKVt0XShTdHJpbmcobikpfSxyXX0pfSxmdW5jdGlvbihlLHQscil7cig4NikoInJlcGxhY2UiLDIsZnVuY3Rpb24oZSx0LHIpe3JldHVybltmdW5jdGlvbihuLG8peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKHRoaXMpLHM9dm9pZCAwPT1uP3ZvaWQgMDpuW3RdO3JldHVybiB2b2lkIDAhPT1zP3MuY2FsbChuLGksbyk6ci5jYWxsKFN0cmluZyhpKSxuLG8pfSxyXX0pfSxmdW5jdGlvbihlLHQscil7cig4NikoInNlYXJjaCIsMSxmdW5jdGlvbihlLHQscil7cmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLG89dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1vP28uY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sZnVuY3Rpb24oZSx0LHIpe3IoODYpKCJzcGxpdCIsMixmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBvPXIoODMpLGk9bixzPVtdLnB1c2gsYT0ibGVuZ3RoIjtpZigiYyI9PSJhYmJjIi5zcGxpdCgvKGIpKi8pWzFdfHw0IT0idGVzdCIuc3BsaXQoLyg/OikvLC0xKVthXXx8MiE9ImFiIi5zcGxpdCgvKD86YWIpKi8pW2FdfHw0IT0iLiIuc3BsaXQoLyguPykoLj8pLylbYV18fCIuIi5zcGxpdCgvKCkoKS8pW2FdPjF8fCIiLnNwbGl0KC8uPy8pW2FdKXt2YXIgdT12b2lkIDA9PT0vKCk/Py8uZXhlYygiIilbMV07bj1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyh0aGlzKTtpZih2b2lkIDA9PT1lJiYwPT09dClyZXR1cm5bXTtpZighbyhlKSlyZXR1cm4gaS5jYWxsKHIsZSx0KTt2YXIgbixjLGYsbCxkLHA9W10seT0oZS5pZ25vcmVDYXNlPyJpIjoiIikrKGUubXVsdGlsaW5lPyJtIjoiIikrKGUudW5pY29kZT8idSI6IiIpKyhlLnN0aWNreT8ieSI6IiIpLGg9MCx2PXZvaWQgMD09PXQ/NDI5NDk2NzI5NTp0Pj4+MCxnPW5ldyBSZWdFeHAoZS5zb3VyY2UseSsiZyIpO2Zvcih1fHwobj1uZXcgUmVnRXhwKCJeIitnLnNvdXJjZSsiJCg/IVxccykiLHkpKTsoYz1nLmV4ZWMocikpJiYhKChmPWMuaW5kZXgrY1swXVthXSk+aCYmKHAucHVzaChyLnNsaWNlKGgsYy5pbmRleCkpLCF1JiZjW2FdPjEmJmNbMF0ucmVwbGFjZShuLGZ1bmN0aW9uKCl7Zm9yKGQ9MTtkPGFyZ3VtZW50c1thXS0yO2QrKyl2b2lkIDA9PT1hcmd1bWVudHNbZF0mJihjW2RdPXZvaWQgMCl9KSxjW2FdPjEmJmMuaW5kZXg8clthXSYmcy5hcHBseShwLGMuc2xpY2UoMSkpLGw9Y1swXVthXSxoPWYscFthXT49dikpOylnLmxhc3RJbmRleD09PWMuaW5kZXgmJmcubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1yW2FdPyFsJiZnLnRlc3QoIiIpfHxwLnB1c2goIiIpOnAucHVzaChyLnNsaWNlKGgpKSxwW2FdPnY/cC5zbGljZSgwLHYpOnB9fWVsc2UiMCIuc3BsaXQodm9pZCAwLDApW2FdJiYobj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYwPT09dD9bXTppLmNhbGwodGhpcyxlLHQpfSk7cmV0dXJuW2Z1bmN0aW9uKHIsbyl7dmFyIGk9ZSh0aGlzKSxzPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09cz9zLmNhbGwocixpLG8pOm4uY2FsbChTdHJpbmcoaSkscixvKX0sbl19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGkscyxhPXIoNDMpLHU9cig0KSxjPXIoMjgpLGY9cig3MiksbD1yKDApLGQ9cig2KSxwPXIoMTYpLHk9cig1NCksaD1yKDU1KSx2PXIoODcpLGc9cigxMjQpLnNldCxiPXIoMTI1KSgpLF89cigxMjYpLG09cigxNjcpLFI9cig4OCksdz1yKDE2OCksUz11LlR5cGVFcnJvcixrPXUucHJvY2VzcyxPPWsmJmsudmVyc2lvbnMsUD1PJiZPLnY4fHwiIixNPXUuUHJvbWlzZSxMPSJwcm9jZXNzIj09ZihrKSx4PWZ1bmN0aW9uKCl7fSxBPW89Xy5mLEQ9ISFmdW5jdGlvbigpe3RyeXt2YXIgZT1NLnJlc29sdmUoMSksdD0oZS5jb25zdHJ1Y3Rvcj17fSlbcig5KSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHgseCl9O3JldHVybihMfHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmZS50aGVuKHgpaW5zdGFuY2VvZiB0JiYwIT09UC5pbmRleE9mKCI2LjYiKSYmLTE9PT1SLmluZGV4T2YoIkNocm9tZS82NiIpfWNhdGNoKGUpe319KCksVT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFkKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0saj1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7YihmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LG89MT09ZS5fcyxpPTA7ci5sZW5ndGg+aTspIWZ1bmN0aW9uKHQpe3ZhciByLGkscyxhPW8/dC5vazp0LmZhaWwsdT10LnJlc29sdmUsYz10LnJlamVjdCxmPXQuZG9tYWluO3RyeXthPyhvfHwoMj09ZS5faCYmVChlKSxlLl9oPTEpLCEwPT09YT9yPW46KGYmJmYuZW50ZXIoKSxyPWEobiksZiYmKGYuZXhpdCgpLHM9ITApKSxyPT09dC5wcm9taXNlP2MoUygiUHJvbWlzZS1jaGFpbiBjeWNsZSIpKTooaT1VKHIpKT9pLmNhbGwocix1LGMpOnUocikpOmMobil9Y2F0Y2goZSl7ZiYmIXMmJmYuZXhpdCgpLGMoZSl9fShyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmSShlKX0pfX0sST1mdW5jdGlvbihlKXtnLmNhbGwodSxmdW5jdGlvbigpe3ZhciB0LHIsbixvPWUuX3YsaT1FKGUpO2lmKGkmJih0PW0oZnVuY3Rpb24oKXtMP2suZW1pdCgidW5oYW5kbGVkUmVqZWN0aW9uIixvLGUpOihyPXUub251bmhhbmRsZWRyZWplY3Rpb24pP3Ioe3Byb21pc2U6ZSxyZWFzb246b30pOihuPXUuY29uc29sZSkmJm4uZXJyb3ImJm4uZXJyb3IoIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiIsbyl9KSxlLl9oPUx8fEUoZSk/MjoxKSxlLl9hPXZvaWQgMCxpJiZ0LmUpdGhyb3cgdC52fSl9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLl9oJiYwPT09KGUuX2F8fGUuX2MpLmxlbmd0aH0sVD1mdW5jdGlvbihlKXtnLmNhbGwodSxmdW5jdGlvbigpe3ZhciB0O0w/ay5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD11Lm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLGoodCwhMCkpfSxxPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7dHJ5e2lmKHI9PT1lKXRocm93IFMoIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmIik7KHQ9VShlKSk/YihmdW5jdGlvbigpe3ZhciBuPXtfdzpyLF9kOiExfTt0cnl7dC5jYWxsKGUsYyhxLG4sMSksYyhDLG4sMSkpfWNhdGNoKGUpe0MuY2FsbChuLGUpfX0pOihyLl92PWUsci5fcz0xLGoociwhMSkpfWNhdGNoKGUpe0MuY2FsbCh7X3c6cixfZDohMX0sZSl9fX07RHx8KE09ZnVuY3Rpb24oZSl7eSh0aGlzLE0sIlByb21pc2UiLCJfaCIpLHAoZSksbi5jYWxsKHRoaXMpO3RyeXtlKGMocSx0aGlzLDEpLGMoQyx0aGlzLDEpKX1jYXRjaChlKXtDLmNhbGwodGhpcyxlKX19LG49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9cig1NikoTS5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1BKHYodGhpcyxNKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPUw/ay5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmaih0aGlzLCExKSxyLnByb21pc2V9LGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLGk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhxLGUsMSksdGhpcy5yZWplY3Q9YyhDLGUsMSl9LF8uZj1BPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09TXx8ZT09PXM/bmV3IGkoZSk6byhlKX0pLGwobC5HK2wuVytsLkYqIUQse1Byb21pc2U6TX0pLHIoNjApKE0sIlByb21pc2UiKSxyKDUzKSgiUHJvbWlzZSIpLHM9cigyNykuUHJvbWlzZSxsKGwuUytsLkYqIUQsIlByb21pc2UiLHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9QSh0aGlzKTtyZXR1cm4oMCx0LnJlamVjdCkoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooYXx8IUQpLCJQcm9taXNlIix7cmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gdyhhJiZ0aGlzPT09cz9NOnRoaXMsZSl9fSksbChsLlMrbC5GKiEoRCYmcig4NCkoZnVuY3Rpb24oZSl7TS5hbGwoZSkuY2F0Y2goeCl9KSksIlByb21pc2UiLHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUEodCksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPW0oZnVuY3Rpb24oKXt2YXIgcj1bXSxpPTAscz0xO2goZSwhMSxmdW5jdGlvbihlKXt2YXIgYT1pKyssdT0hMTtyLnB1c2godm9pZCAwKSxzKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dXx8KHU9ITAsclthXT1lLC0tc3x8bihyKSl9LG8pfSksLS1zfHxuKHIpfSk7cmV0dXJuIGkuZSYmbyhpLnYpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9QSh0KSxuPXIucmVqZWN0LG89bShmdW5jdGlvbigpe2goZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBvLmUmJm4oby52KSxyLnByb21pc2V9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzMpLG89cig2Myk7cig4OSkoIldlYWtTZXQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWYobyh0aGlzLCJXZWFrU2V0IiksZSwhMCl9fSxuLCExLCEwKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cig5MCksaT1yKDEyNykscz1yKDMpLGE9cig1MCksdT1yKDEyKSxjPXIoNiksZj1yKDQpLkFycmF5QnVmZmVyLGw9cig4NyksZD1pLkFycmF5QnVmZmVyLHA9aS5EYXRhVmlldyx5PW8uQUJWJiZmLmlzVmlldyxoPWQucHJvdG90eXBlLnNsaWNlLHY9by5WSUVXO24obi5HK24uVytuLkYqKGYhPT1kKSx7QXJyYXlCdWZmZXI6ZH0pLG4obi5TK24uRiohby5DT05TVFIsIkFycmF5QnVmZmVyIix7aXNWaWV3OmZ1bmN0aW9uKGUpe3JldHVybiB5JiZ5KGUpfHxjKGUpJiZ2IGluIGV9fSksbihuLlArbi5VK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIW5ldyBkKDIpLnNsaWNlKDEsdm9pZCAwKS5ieXRlTGVuZ3RofSksIkFycmF5QnVmZmVyIix7c2xpY2U6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1oJiZ2b2lkIDA9PT10KXJldHVybiBoLmNhbGwocyh0aGlzKSxlKTtmb3IodmFyIHI9cyh0aGlzKS5ieXRlTGVuZ3RoLG49YShlLHIpLG89YSh2b2lkIDA9PT10P3I6dCxyKSxpPW5ldyhsKHRoaXMsZCkpKHUoby1uKSksYz1uZXcgcCh0aGlzKSxmPW5ldyBwKGkpLHk9MDtuPG87KWYuc2V0VWludDgoeSsrLGMuZ2V0VWludDgobisrKSk7cmV0dXJuIGl9fSkscig1MykoIkFycmF5QnVmZmVyIil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5HK24uVytuLkYqIXIoOTApLkFCVix7RGF0YVZpZXc6cigxMjcpLkRhdGFWaWV3fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDM3KSgiSW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cigzNykoIlVpbnQ4IiwxLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDM3KSgiVWludDgiLDEsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19LCEwKX0sZnVuY3Rpb24oZSx0LHIpe3IoMzcpKCJJbnQxNiIsMixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cigzNykoIlVpbnQxNiIsMixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cigzNykoIkludDMyIiw0LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDM3KSgiVWludDMyIiw0LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LGZ1bmN0aW9uKGUsdCxyKXtyKDM3KSgiRmxvYXQzMiIsNCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSxmdW5jdGlvbihlLHQscil7cigzNykoIkZsb2F0NjQiLDgsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE2KSxpPXIoMykscz0ocig0KS5SZWZsZWN0fHx7fSkuYXBwbHksYT1GdW5jdGlvbi5hcHBseTtuKG4uUytuLkYqIXIoNSkoZnVuY3Rpb24oKXtzKGZ1bmN0aW9uKCl7fSl9KSwiUmVmbGVjdCIse2FwcGx5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1vKGUpLHU9aShyKTtyZXR1cm4gcz9zKG4sdCx1KTphLmNhbGwobix0LHUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNTEpLGk9cigxNikscz1yKDMpLGE9cig2KSx1PXIoNSksYz1yKDE1NCksZj0ocig0KS5SZWZsZWN0fHx7fSkuY29uc3RydWN0LGw9dShmdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9cmV0dXJuIShmKGZ1bmN0aW9uKCl7fSxbXSxGKWluc3RhbmNlb2YgRil9KSxkPSF1KGZ1bmN0aW9uKCl7ZihmdW5jdGlvbigpe30pfSk7bihuLlMrbi5GKihsfHxkKSwiUmVmbGVjdCIse2NvbnN0cnVjdDpmdW5jdGlvbihlLHQpe2koZSkscyh0KTt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDM/ZTppKGFyZ3VtZW50c1syXSk7aWYoZCYmIWwpcmV0dXJuIGYoZSx0LHIpO2lmKGU9PXIpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHRbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IGUodFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG5ldyBlKHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyBlKHRbMF0sdFsxXSx0WzJdLHRbM10pfXZhciBuPVtudWxsXTtyZXR1cm4gbi5wdXNoLmFwcGx5KG4sdCksbmV3KGMuYXBwbHkoZSxuKSl9dmFyIHU9ci5wcm90b3R5cGUscD1vKGEodSk/dTpPYmplY3QucHJvdG90eXBlKSx5PUZ1bmN0aW9uLmFwcGx5LmNhbGwoZSxwLHQpO3JldHVybiBhKHkpP3k6cH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cigwKSxpPXIoMykscz1yKDMyKTtvKG8uUytvLkYqcig1KShmdW5jdGlvbigpe1JlZmxlY3QuZGVmaW5lUHJvcGVydHkobi5mKHt9LDEse3ZhbHVlOjF9KSwxLHt2YWx1ZToyfSl9KSwiUmVmbGVjdCIse2RlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpKGUpLHQ9cyh0LCEwKSxpKHIpO3RyeXtyZXR1cm4gbi5mKGUsdCxyKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigyNSkuZixpPXIoMyk7bihuLlMsIlJlZmxlY3QiLHtkZWxldGVQcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPW8oaShlKSx0KTtyZXR1cm4hKHImJiFyLmNvbmZpZ3VyYWJsZSkmJmRlbGV0ZSBlW3RdfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDMpLGk9ZnVuY3Rpb24oZSl7dGhpcy5fdD1vKGUpLHRoaXMuX2k9MDt2YXIgdCxyPXRoaXMuX2s9W107Zm9yKHQgaW4gZSlyLnB1c2godCl9O3IoMTE1KShpLCJPYmplY3QiLGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLHI9dC5faztkb3tpZih0Ll9pPj1yLmxlbmd0aClyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fXdoaWxlKCEoKGU9clt0Ll9pKytdKWluIHQuX3QpKTtyZXR1cm57dmFsdWU6ZSxkb25lOiExfX0pLG4obi5TLCJSZWZsZWN0Iix7ZW51bWVyYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaShlKX19KX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGdldChlLHQpe3ZhciByLHMsYz1hcmd1bWVudHMubGVuZ3RoPDM/ZTphcmd1bWVudHNbMl07cmV0dXJuIHUoZSk9PT1jP2VbdF06KHI9bi5mKGUsdCkpP2kociwidmFsdWUiKT9yLnZhbHVlOnZvaWQgMCE9PXIuZ2V0P3IuZ2V0LmNhbGwoYyk6dm9pZCAwOmEocz1vKGUpKT9nZXQocyx0LGMpOnZvaWQgMH12YXIgbj1yKDI1KSxvPXIoMjYpLGk9cigyMykscz1yKDApLGE9cig2KSx1PXIoMyk7cyhzLlMsIlJlZmxlY3QiLHtnZXQ6Z2V0fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI1KSxvPXIoMCksaT1yKDMpO28oby5TLCJSZWZsZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZihpKGUpLHQpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMjYpLGk9cigzKTtuKG4uUywiUmVmbGVjdCIse2dldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBvKGkoZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiUmVmbGVjdCIse2hhczpmdW5jdGlvbihlLHQpe3JldHVybiB0IGluIGV9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigzKSxpPU9iamVjdC5pc0V4dGVuc2libGU7bihuLlMsIlJlZmxlY3QiLHtpc0V4dGVuc2libGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSksIWl8fGkoZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJSZWZsZWN0Iix7b3duS2V5czpyKDE3NSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDMpLGk9T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO24obi5TLCJSZWZsZWN0Iix7cHJldmVudEV4dGVuc2lvbnM6ZnVuY3Rpb24oZSl7byhlKTt0cnl7cmV0dXJuIGkmJmkoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gc2V0KGUsdCxyKXt2YXIgYSxsLGQ9YXJndW1lbnRzLmxlbmd0aDw0P2U6YXJndW1lbnRzWzNdLHA9by5mKGMoZSksdCk7aWYoIXApe2lmKGYobD1pKGUpKSlyZXR1cm4gc2V0KGwsdCxyLGQpO3A9dSgwKX1pZihzKHAsInZhbHVlIikpe2lmKCExPT09cC53cml0YWJsZXx8IWYoZCkpcmV0dXJuITE7aWYoYT1vLmYoZCx0KSl7aWYoYS5nZXR8fGEuc2V0fHwhMT09PWEud3JpdGFibGUpcmV0dXJuITE7YS52YWx1ZT1yLG4uZihkLHQsYSl9ZWxzZSBuLmYoZCx0LHUoMCxyKSk7cmV0dXJuITB9cmV0dXJuIHZvaWQgMCE9PXAuc2V0JiYocC5zZXQuY2FsbChkLHIpLCEwKX12YXIgbj1yKDExKSxvPXIoMjUpLGk9cigyNikscz1yKDIzKSxhPXIoMCksdT1yKDQ3KSxjPXIoMyksZj1yKDYpO2EoYS5TLCJSZWZsZWN0Iix7c2V0OnNldH0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTA3KTtvJiZuKG4uUywiUmVmbGVjdCIse3NldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUsdCl7by5jaGVjayhlLHQpO3RyeXtyZXR1cm4gby5zZXQoZSx0KSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoODApKCEwKTtuKG4uUCwiQXJyYXkiLHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDQpKCJpbmNsdWRlcyIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE3NiksaT1yKDE1KSxzPXIoMTIpLGE9cigxNiksdT1yKDEyMSk7bihuLlAsIkFycmF5Iix7ZmxhdE1hcDpmdW5jdGlvbihlKXt2YXIgdCxyLG49aSh0aGlzKTtyZXR1cm4gYShlKSx0PXMobi5sZW5ndGgpLHI9dShuLDApLG8ocixuLG4sdCwwLDEsZSxhcmd1bWVudHNbMV0pLHJ9fSkscig0NCkoImZsYXRNYXAiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNzYpLGk9cigxNSkscz1yKDEyKSxhPXIoMzQpLHU9cigxMjEpO24obi5QLCJBcnJheSIse2ZsYXR0ZW46ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHNbMF0sdD1pKHRoaXMpLHI9cyh0Lmxlbmd0aCksbj11KHQsMCk7cmV0dXJuIG8obix0LHQsciwwLHZvaWQgMD09PWU/MTphKGUpKSxufX0pLHIoNDQpKCJmbGF0dGVuIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTEzKSghMCk7bihuLlAsIlN0cmluZyIse2F0OmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTc3KSxpPXIoODgpO24obi5QK24uRiovVmVyc2lvblwvMTBcLlxkKyhcLlxkKyk/IFNhZmFyaVwvLy50ZXN0KGkpLCJTdHJpbmciLHtwYWRTdGFydDpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsITApfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE3NyksaT1yKDg4KTtuKG4uUCtuLkYqL1ZlcnNpb25cLzEwXC5cZCsoXC5cZCspPyBTYWZhcmlcLy8udGVzdChpKSwiU3RyaW5nIix7cGFkRW5kOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwhMSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cig2MSkoInRyaW1MZWZ0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLDEpfX0sInRyaW1TdGFydCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoNjEpKCJ0cmltUmlnaHQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsMil9fSwidHJpbUVuZCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDMzKSxpPXIoMTIpLHM9cig4MyksYT1yKDg1KSx1PVJlZ0V4cC5wcm90b3R5cGUsYz1mdW5jdGlvbihlLHQpe3RoaXMuX3I9ZSx0aGlzLl9zPXR9O3IoMTE1KShjLCJSZWdFeHAgU3RyaW5nIixmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3IuZXhlYyh0aGlzLl9zKTtyZXR1cm57dmFsdWU6ZSxkb25lOm51bGw9PT1lfX0pLG4obi5QLCJTdHJpbmciLHttYXRjaEFsbDpmdW5jdGlvbihlKXtpZihvKHRoaXMpLCFzKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgcmVnZXhwISIpO3ZhciB0PVN0cmluZyh0aGlzKSxyPSJmbGFncyJpbiB1P1N0cmluZyhlLmZsYWdzKTphLmNhbGwoZSksbj1uZXcgUmVnRXhwKGUuc291cmNlLH5yLmluZGV4T2YoImciKT9yOiJnIityKTtyZXR1cm4gbi5sYXN0SW5kZXg9aShlLmxhc3RJbmRleCksbmV3IGMobix0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3IoMTAzKSgiYXN5bmNJdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7cigxMDMpKCJvYnNlcnZhYmxlIil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNzUpLGk9cigyNCkscz1yKDI1KSxhPXIoMTE5KTtuKG4uUywiT2JqZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPWkoZSksdT1zLmYsYz1vKG4pLGY9e30sbD0wO2MubGVuZ3RoPmw7KXZvaWQgMCE9PShyPXUobix0PWNbbCsrXSkpJiZhKGYsdCxyKTtyZXR1cm4gZn19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDE3OCkoITEpO24obi5TLCJPYmplY3QiLHt2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLG89cigxNzgpKCEwKTtuKG4uUywiT2JqZWN0Iix7ZW50cmllczpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxNSksaT1yKDE2KSxzPXIoMTEpO3IoMTApJiZuKG4uUCtyKDkxKSwiT2JqZWN0Iix7X19kZWZpbmVHZXR0ZXJfXzpmdW5jdGlvbihlLHQpe3MuZihvKHRoaXMpLGUse2dldDppKHQpLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxvPXIoMTUpLGk9cigxNikscz1yKDExKTtyKDEwKSYmbihuLlArcig5MSksIk9iamVjdCIse19fZGVmaW5lU2V0dGVyX186ZnVuY3Rpb24oZSx0KXtzLmYobyh0aGlzKSxlLHtzZXQ6aSh0KSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE1KSxpPXIoMzIpLHM9cigyNiksYT1yKDI1KS5mO3IoMTApJiZuKG4uUCtyKDkxKSwiT2JqZWN0Iix7X19sb29rdXBHZXR0ZXJfXzpmdW5jdGlvbihlKXt2YXIgdCxyPW8odGhpcyksbj1pKGUsITApO2Rve2lmKHQ9YShyLG4pKXJldHVybiB0LmdldH13aGlsZShyPXMocikpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDE1KSxpPXIoMzIpLHM9cigyNiksYT1yKDI1KS5mO3IoMTApJiZuKG4uUCtyKDkxKSwiT2JqZWN0Iix7X19sb29rdXBTZXR0ZXJfXzpmdW5jdGlvbihlKXt2YXIgdCxyPW8odGhpcyksbj1pKGUsITApO2Rve2lmKHQ9YShyLG4pKXJldHVybiB0LnNldH13aGlsZShyPXMocikpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUCtuLlIsIk1hcCIse3RvSlNPTjpyKDE3OSkoIk1hcCIpfSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QK24uUiwiU2V0Iix7dG9KU09OOnIoMTc5KSgiU2V0Iil9KX0sZnVuY3Rpb24oZSx0LHIpe3IoOTIpKCJNYXAiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTIpKCJTZXQiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTIpKCJXZWFrTWFwIil9LGZ1bmN0aW9uKGUsdCxyKXtyKDkyKSgiV2Vha1NldCIpfSxmdW5jdGlvbihlLHQscil7cig5MykoIk1hcCIpfSxmdW5jdGlvbihlLHQscil7cig5MykoIlNldCIpfSxmdW5jdGlvbihlLHQscil7cig5MykoIldlYWtNYXAiKX0sZnVuY3Rpb24oZSx0LHIpe3IoOTMpKCJXZWFrU2V0Iil9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5HLHtnbG9iYWw6cig0KX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiU3lzdGVtIix7Z2xvYmFsOnIoNCl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1yKDI5KTtuKG4uUywiRXJyb3IiLHtpc0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJFcnJvciI9PT1vKGUpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTtuKG4uUywiTWF0aCIse2NsYW1wOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTWF0aC5taW4ocixNYXRoLm1heCh0LGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtERUdfUEVSX1JBRDpNYXRoLlBJLzE4MH0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPTE4MC9NYXRoLlBJO24obi5TLCJNYXRoIix7ZGVncmVlczpmdW5jdGlvbihlKXtyZXR1cm4gZSpvfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTgxKSxpPXIoMTYxKTtuKG4uUywiTWF0aCIse2ZzY2FsZTpmdW5jdGlvbihlLHQscixuLHMpe3JldHVybiBpKG8oZSx0LHIsbixzKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7aWFkZGg6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZT4+PjAsaT10Pj4+MCxzPXI+Pj4wO3JldHVybiBpKyhuPj4+MCkrKChvJnN8KG98cykmfihvK3M+Pj4wKSk+Pj4zMSl8MH19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtpc3ViaDpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1lPj4+MCxpPXQ+Pj4wLHM9cj4+PjA7cmV0dXJuIGktKG4+Pj4wKS0oKH5vJnN8fihvXnMpJm8tcz4+PjApPj4+MzEpfDB9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7aW11bGg6ZnVuY3Rpb24oZSx0KXt2YXIgcj0rZSxuPSt0LG89NjU1MzUmcixpPTY1NTM1Jm4scz1yPj4xNixhPW4+PjE2LHU9KHMqaT4+PjApKyhvKmk+Pj4xNik7cmV0dXJuIHMqYSsodT4+MTYpKygobyphPj4+MCkrKDY1NTM1JnUpPj4xNil9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7UkFEX1BFUl9ERUc6MTgwL01hdGguUEl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksbz1NYXRoLlBJLzE4MDtuKG4uUywiTWF0aCIse3JhZGlhbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqb319KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzY2FsZTpyKDE4MSl9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHt1bXVsaDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3Qsbz02NTUzNSZyLGk9NjU1MzUmbixzPXI+Pj4xNixhPW4+Pj4xNix1PShzKmk+Pj4wKSsobyppPj4+MTYpO3JldHVybiBzKmErKHU+Pj4xNikrKChvKmE+Pj4wKSsoNjU1MzUmdSk+Pj4xNil9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5TLCJNYXRoIix7c2lnbmJpdDpmdW5jdGlvbihlKXtyZXR1cm4oZT0rZSkhPWU/ZTowPT1lPzEvZT09MS8wOmU+MH19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigyNyksaT1yKDQpLHM9cig4NyksYT1yKDE2OCk7bihuLlArbi5SLCJQcm9taXNlIix7ZmluYWxseTpmdW5jdGlvbihlKXt2YXIgdD1zKHRoaXMsby5Qcm9taXNlfHxpLlByb21pc2UpLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGU7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX06ZSxyP2Z1bmN0aW9uKHIpe3JldHVybiBhKHQsZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcn0pfTplKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLG89cigxMjYpLGk9cigxNjcpO24obi5TLCJQcm9taXNlIix7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PW8uZih0aGlzKSxyPWkoZSk7cmV0dXJuKHIuZT90LnJlamVjdDp0LnJlc29sdmUpKHIudiksdC5wcm9taXNlfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOCksbz1yKDMpLGk9bi5rZXkscz1uLnNldDtuLmV4cCh7ZGVmaW5lTWV0YWRhdGE6ZnVuY3Rpb24oZSx0LHIsbil7cyhlLHQsbyhyKSxpKG4pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigzKSxpPW4ua2V5LHM9bi5tYXAsYT1uLnN0b3JlO24uZXhwKHtkZWxldGVNZXRhZGF0YTpmdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6aShhcmd1bWVudHNbMl0pLG49cyhvKHQpLHIsITEpO2lmKHZvaWQgMD09PW58fCFuLmRlbGV0ZShlKSlyZXR1cm4hMTtpZihuLnNpemUpcmV0dXJuITA7dmFyIHU9YS5nZXQodCk7cmV0dXJuIHUuZGVsZXRlKHIpLCEhdS5zaXplfHxhLmRlbGV0ZSh0KX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigzKSxpPXIoMjYpLHM9bi5oYXMsYT1uLmdldCx1PW4ua2V5LGM9ZnVuY3Rpb24oZSx0LHIpe2lmKHMoZSx0LHIpKXJldHVybiBhKGUsdCxyKTt2YXIgbj1pKHQpO3JldHVybiBudWxsIT09bj9jKGUsbixyKTp2b2lkIDB9O24uZXhwKHtnZXRNZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBjKGUsbyh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnUoYXJndW1lbnRzWzJdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3MSksbz1yKDE4MCksaT1yKDM4KSxzPXIoMyksYT1yKDI2KSx1PWkua2V5cyxjPWkua2V5LGY9ZnVuY3Rpb24oZSx0KXt2YXIgcj11KGUsdCksaT1hKGUpO2lmKG51bGw9PT1pKXJldHVybiByO3ZhciBzPWYoaSx0KTtyZXR1cm4gcy5sZW5ndGg/ci5sZW5ndGg/byhuZXcgbihyLmNvbmNhdChzKSkpOnM6cn07aS5leHAoe2dldE1ldGFkYXRhS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gZihzKGUpLGFyZ3VtZW50cy5sZW5ndGg8Mj92b2lkIDA6Yyhhcmd1bWVudHNbMV0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigzKSxpPW4uZ2V0LHM9bi5rZXk7bi5leHAoe2dldE93bk1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSxvKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6cyhhcmd1bWVudHNbMl0pKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzgpLG89cigzKSxpPW4ua2V5cyxzPW4ua2V5O24uZXhwKHtnZXRPd25NZXRhZGF0YUtleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkobyhlKSxhcmd1bWVudHMubGVuZ3RoPDI/dm9pZCAwOnMoYXJndW1lbnRzWzFdKSl9fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM4KSxvPXIoMyksaT1yKDI2KSxzPW4uaGFzLGE9bi5rZXksdT1mdW5jdGlvbihlLHQscil7aWYocyhlLHQscikpcmV0dXJuITA7dmFyIG49aSh0KTtyZXR1cm4gbnVsbCE9PW4mJnUoZSxuLHIpfTtuLmV4cCh7aGFzTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdShlLG8odCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDphKGFyZ3VtZW50c1syXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOCksbz1yKDMpLGk9bi5oYXMscz1uLmtleTtuLmV4cCh7aGFzT3duTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLG8odCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDpzKGFyZ3VtZW50c1syXSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigzOCksbz1yKDMpLGk9cigxNikscz1uLmtleSxhPW4uc2V0O24uZXhwKHttZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe2EoZSx0LCh2b2lkIDAhPT1uP286aSkocikscyhuKSl9fX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTI1KSgpLGk9cig0KS5wcm9jZXNzLHM9InByb2Nlc3MiPT1yKDI5KShpKTtuKG4uRyx7YXNhcDpmdW5jdGlvbihlKXt2YXIgdD1zJiZpLmRvbWFpbjtvKHQ/dC5iaW5kKGUpOmUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksbz1yKDQpLGk9cigyNykscz1yKDEyNSkoKSxhPXIoOSkoIm9ic2VydmFibGUiKSx1PXIoMTYpLGM9cigzKSxmPXIoNTQpLGw9cig1NiksZD1yKDE4KSxwPXIoNTUpLHk9cC5SRVRVUk4saD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6dShlKX0sdj1mdW5jdGlvbihlKXt2YXIgdD1lLl9jO3QmJihlLl9jPXZvaWQgMCx0KCkpfSxnPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lLl9vfSxiPWZ1bmN0aW9uKGUpe2coZSl8fChlLl9vPXZvaWQgMCx2KGUpKX0sXz1mdW5jdGlvbihlLHQpe2MoZSksdGhpcy5fYz12b2lkIDAsdGhpcy5fbz1lLGU9bmV3IG0odGhpcyk7dHJ5e3ZhciByPXQoZSksbj1yO251bGwhPXImJigiZnVuY3Rpb24iPT10eXBlb2Ygci51bnN1YnNjcmliZT9yPWZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZSgpfTp1KHIpLHRoaXMuX2M9cil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZS5lcnJvcih0KX1nKHRoaXMpJiZ2KHRoaXMpfTtfLnByb3RvdHlwZT1sKHt9LHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe2IodGhpcyl9fSk7dmFyIG09ZnVuY3Rpb24oZSl7dGhpcy5fcz1lfTttLnByb3RvdHlwZT1sKHt9LHtuZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoIWcodCkpe3ZhciByPXQuX287dHJ5e3ZhciBuPWgoci5uZXh0KTtpZihuKXJldHVybiBuLmNhbGwocixlKX1jYXRjaChlKXt0cnl7Yih0KX1maW5hbGx5e3Rocm93IGV9fX19LGVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoZyh0KSl0aHJvdyBlO3ZhciByPXQuX287dC5fbz12b2lkIDA7dHJ5e3ZhciBuPWgoci5lcnJvcik7aWYoIW4pdGhyb3cgZTtlPW4uY2FsbChyLGUpfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX0sY29tcGxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcztpZighZyh0KSl7dmFyIHI9dC5fbzt0Ll9vPXZvaWQgMDt0cnl7dmFyIG49aChyLmNvbXBsZXRlKTtlPW4/bi5jYWxsKHIsZSk6dm9pZCAwfWNhdGNoKGUpe3RyeXt2KHQpfWZpbmFsbHl7dGhyb3cgZX19cmV0dXJuIHYodCksZX19fSk7dmFyIFI9ZnVuY3Rpb24oZSl7Zih0aGlzLFIsIk9ic2VydmFibGUiLCJfZiIpLl9mPXUoZSl9O2woUi5wcm90b3R5cGUse3N1YnNjcmliZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IF8oZSx0aGlzLl9mKX0sZm9yRWFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcoaS5Qcm9taXNlfHxvLlByb21pc2UpKGZ1bmN0aW9uKHIsbil7dShlKTt2YXIgbz10LnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goZSl7bihlKSxvLnVuc3Vic2NyaWJlKCl9fSxlcnJvcjpuLGNvbXBsZXRlOnJ9KX0pfX0pLGwoUix7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOlIscj1oKGMoZSlbYV0pO2lmKHIpe3ZhciBuPWMoci5jYWxsKGUpKTtyZXR1cm4gbi5jb25zdHJ1Y3Rvcj09PXQ/bjpuZXcgdChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdWJzY3JpYmUoZSl9KX1yZXR1cm4gbmV3IHQoZnVuY3Rpb24odCl7dmFyIHI9ITE7cmV0dXJuIHMoZnVuY3Rpb24oKXtpZighcil7dHJ5e2lmKHAoZSwhMSxmdW5jdGlvbihlKXtpZih0Lm5leHQoZSkscilyZXR1cm4geX0pPT09eSlyZXR1cm59Y2F0Y2goZSl7aWYocil0aHJvdyBlO3JldHVybiB2b2lkIHQuZXJyb3IoZSl9dC5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7cj0hMH19KX0sb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodCk7ZTx0OylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiBuZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpSKShmdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gcyhmdW5jdGlvbigpe2lmKCF0KXtmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbilpZihlLm5leHQocltuXSksdClyZXR1cm47ZS5jb21wbGV0ZSgpfX0pLGZ1bmN0aW9uKCl7dD0hMH19KX19KSxkKFIucHJvdG90eXBlLGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG4obi5HLHtPYnNlcnZhYmxlOlJ9KSxyKDUzKSgiT2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxvPXIoMCksaT1yKDg4KSxzPVtdLnNsaWNlLGE9L01TSUUgLlwuLy50ZXN0KGkpLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yLG89ISFuJiZzLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBlKG4/ZnVuY3Rpb24oKXsoImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpGdW5jdGlvbih0KSkuYXBwbHkodGhpcyxvKX06dCxyKX19O28oby5HK28uQitvLkYqYSx7c2V0VGltZW91dDp1KG4uc2V0VGltZW91dCksc2V0SW50ZXJ2YWw6dShuLnNldEludGVydmFsKX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoMTI0KTtuKG4uRytuLkIse3NldEltbWVkaWF0ZTpvLnNldCxjbGVhckltbWVkaWF0ZTpvLmNsZWFyfSl9LGZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cigxMjMpLG89cig0OSksaT1yKDE5KSxzPXIoNCksYT1yKDE4KSx1PXIoNjIpLGM9cig5KSxmPWMoIml0ZXJhdG9yIiksbD1jKCJ0b1N0cmluZ1RhZyIpLGQ9dS5BcnJheSxwPXtDU1NSdWxlTGlzdDohMCxDU1NTdHlsZURlY2xhcmF0aW9uOiExLENTU1ZhbHVlTGlzdDohMSxDbGllbnRSZWN0TGlzdDohMSxET01SZWN0TGlzdDohMSxET01TdHJpbmdMaXN0OiExLERPTVRva2VuTGlzdDohMCxEYXRhVHJhbnNmZXJJdGVtTGlzdDohMSxGaWxlTGlzdDohMSxIVE1MQWxsQ29sbGVjdGlvbjohMSxIVE1MQ29sbGVjdGlvbjohMSxIVE1MRm9ybUVsZW1lbnQ6ITEsSFRNTFNlbGVjdEVsZW1lbnQ6ITEsTWVkaWFMaXN0OiEwLE1pbWVUeXBlQXJyYXk6ITEsTmFtZWROb2RlTWFwOiExLE5vZGVMaXN0OiEwLFBhaW50UmVxdWVzdExpc3Q6ITEsUGx1Z2luOiExLFBsdWdpbkFycmF5OiExLFNWR0xlbmd0aExpc3Q6ITEsU1ZHTnVtYmVyTGlzdDohMSxTVkdQYXRoU2VnTGlzdDohMSxTVkdQb2ludExpc3Q6ITEsU1ZHU3RyaW5nTGlzdDohMSxTVkdUcmFuc2Zvcm1MaXN0OiExLFNvdXJjZUJ1ZmZlckxpc3Q6ITEsU3R5bGVTaGVldExpc3Q6ITAsVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRvdWNoTGlzdDohMX0seT1vKHApLGg9MDtoPHkubGVuZ3RoO2grKyl7dmFyIHYsZz15W2hdLGI9cFtnXSxfPXNbZ10sbT1fJiZfLnByb3RvdHlwZTtpZihtJiYobVtmXXx8YShtLGYsZCksbVtsXXx8YShtLGwsZyksdVtnXT1kLGIpKWZvcih2IGluIG4pbVt2XXx8aShtLHYsblt2XSwhMCl9fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gd3JhcChlLHQscixuKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvcj90OkdlbmVyYXRvcixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IENvbnRleHQobnx8W10pO3JldHVybiBpLl9pbnZva2U9bWFrZUludm9rZU1ldGhvZChlLHIscyksaX1mdW5jdGlvbiB0cnlDYXRjaChlLHQscil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxyKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fWZ1bmN0aW9uIEdlbmVyYXRvcigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpe31mdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpe31mdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfX0pfWZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZSl7ZnVuY3Rpb24gaW52b2tlKHQscixuLGkpe3ZhciBzPXRyeUNhdGNoKGVbdF0sZSxyKTtpZigidGhyb3ciIT09cy50eXBlKXt2YXIgYT1zLmFyZyx1PWEudmFsdWU7cmV0dXJuIHUmJiJvYmplY3QiPT10eXBlb2YgdSYmby5jYWxsKHUsIl9fYXdhaXQiKT9Qcm9taXNlLnJlc29sdmUodS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKGUpe2ludm9rZSgibmV4dCIsZSxuLGkpfSxmdW5jdGlvbihlKXtpbnZva2UoInRocm93IixlLG4saSl9KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihmdW5jdGlvbihlKXthLnZhbHVlPWUsbihhKX0saSl9aShzLmFyZyl9ZnVuY3Rpb24gZW5xdWV1ZShlLHQpe2Z1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7aW52b2tlKGUsdCxyLG4pfSl9cmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl9Im9iamVjdCI9PXR5cGVvZiB0LnByb2Nlc3MmJnQucHJvY2Vzcy5kb21haW4mJihpbnZva2U9dC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSkpO3ZhciByO3RoaXMuX2ludm9rZT1lbnF1ZXVlfWZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSx0LHIpe3ZhciBuPWw7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYobj09PXApdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobj09PXkpe2lmKCJ0aHJvdyI9PT1vKXRocm93IGk7cmV0dXJuIGRvbmVSZXN1bHQoKX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGE9bWF5YmVJbnZva2VEZWxlZ2F0ZShzLHIpO2lmKGEpe2lmKGE9PT1oKWNvbnRpbnVlO3JldHVybiBhfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobj09PWwpdGhyb3cgbj15LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bj1wO3ZhciB1PXRyeUNhdGNoKGUsdCxyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobj1yLmRvbmU/eTpkLHUuYXJnPT09aCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihuPXksci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYobj09PXIpe2lmKHQuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09dC5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYodC5tZXRob2Q9InJldHVybiIsdC5hcmc9cixtYXliZUludm9rZURlbGVnYXRlKGUsdCksInRocm93Ij09PXQubWV0aG9kKSlyZXR1cm4gaDt0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gaH12YXIgbz10cnlDYXRjaChuLGUuaXRlcmF0b3IsdC5hcmcpO2lmKCJ0aHJvdyI9PT1vLnR5cGUpcmV0dXJuIHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9by5hcmcsdC5kZWxlZ2F0ZT1udWxsLGg7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyh0W2UucmVzdWx0TmFtZV09aS52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9ciksdC5kZWxlZ2F0ZT1udWxsLGgpOmk6KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIENvbnRleHQoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGUpe3ZhciB0PWVbc107aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsaT1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKG8uY2FsbChlLG4pKXJldHVybiBuZXh0LnZhbHVlPWVbbl0sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITAsbmV4dH07cmV0dXJuIGkubmV4dD1pfX1yZXR1cm57bmV4dDpkb25lUmVzdWx0fX1mdW5jdGlvbiBkb25lUmVzdWx0KCl7cmV0dXJue3ZhbHVlOnIsZG9uZTohMH19dmFyIHIsbj1PYmplY3QucHJvdG90eXBlLG89bi5oYXNPd25Qcm9wZXJ0eSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHM9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixjPSJvYmplY3QiPT10eXBlb2YgZSxmPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGYpcmV0dXJuIHZvaWQoYyYmKGUuZXhwb3J0cz1mKSk7Zj10LnJlZ2VuZXJhdG9yUnVudGltZT1jP2UuZXhwb3J0czp7fSxmLndyYXA9d3JhcDt2YXIgbD0ic3VzcGVuZGVkU3RhcnQiLGQ9InN1c3BlbmRlZFlpZWxkIixwPSJleGVjdXRpbmciLHk9ImNvbXBsZXRlZCIsaD17fSx2PXt9O3Zbc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIGc9T2JqZWN0LmdldFByb3RvdHlwZU9mLGI9ZyYmZyhnKHZhbHVlcyhbXSkpKTtiJiZiIT09biYmby5jYWxsKGIscykmJih2PWIpO3ZhciBfPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZT1HZW5lcmF0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodik7R2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlPV8uY29uc3RydWN0b3I9R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3I9R2VuZXJhdG9yRnVuY3Rpb24sR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdV09R2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWU9IkdlbmVyYXRvckZ1bmN0aW9uIixmLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PUdlbmVyYXRvckZ1bmN0aW9ufHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxmLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk6KGUuX19wcm90b19fPUdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLHUgaW4gZXx8KGVbdV09IkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoXyksZX0sZi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxmLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvcixmLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPW5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoZSx0LHIsbikpO3JldHVybiBmLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/bzpvLm5leHQoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTpvLm5leHQoKX0pfSxkZWZpbmVJdGVyYXRvck1ldGhvZHMoXyksX1t1XT0iR2VuZXJhdG9yIixfW3NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LF8udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0sZi5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbmV4dCgpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbmV4dC52YWx1ZT1yLG5leHQuZG9uZT0hMSxuZXh0fXJldHVybiBuZXh0LmRvbmU9ITAsbmV4dH19LGYudmFsdWVzPXZhbHVlcyxDb250ZXh0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q29udGV4dCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1yLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXIsdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksIWUpZm9yKHZhciB0IGluIHRoaXMpInQiPT09dC5jaGFyQXQoMCkmJm8uY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT1yKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0sdD1lLmNvbXBsZXRpb247aWYoInRocm93Ij09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtmdW5jdGlvbiBoYW5kbGUobixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSx0Lm5leHQ9bixvJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLCEhb31pZih0aGlzLmRvbmUpdGhyb3cgZTtmb3IodmFyIHQ9dGhpcyxuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW25dLHM9aS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWkudHJ5TG9jKXJldHVybiBoYW5kbGUoImVuZCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBhPW8uY2FsbChpLCJjYXRjaExvYyIpLHU9by5jYWxsKGksImZpbmFsbHlMb2MiKTtpZihhJiZ1KXtpZih0aGlzLnByZXY8aS5jYXRjaExvYylyZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpfWVsc2UgaWYoYSl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8aS5maW5hbGx5TG9jKXJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG49dGhpcy50cnlFbnRyaWVzW3JdO2lmKG4udHJ5TG9jPD10aGlzLnByZXYmJm8uY2FsbChuLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxuLmZpbmFsbHlMb2Mpe3ZhciBpPW47YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgcz1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gcy50eXBlPWUscy5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxoKTp0aGlzLmNvbXBsZXRlKHMpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGh9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYykscmVzZXRUcnlFbnRyeShyKSxofX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIudHJ5TG9jPT09ZSl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBvPW4uYXJnO3Jlc2V0VHJ5RW50cnkocil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjp2YWx1ZXMoZSkscmVzdWx0TmFtZTp0LG5leHRMb2M6bn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1yKSxofX19KCJvYmplY3QiPT10eXBlb2YgdD90OiJvYmplY3QiPT10eXBlb2Ygd2luZG93P3dpbmRvdzoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodCxyKDE0NykpfSxmdW5jdGlvbihlLHQscil7cig0MTMpLGUuZXhwb3J0cz1yKDI3KS5SZWdFeHAuZXNjYXBlfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxvPXIoNDE0KSgvW1xcXiQqKz8uKCl8W1xde31dL2csIlxcJCYiKTtuKG4uUywiUmVnRXhwIix7ZXNjYXBlOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfX0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXQ9PT1PYmplY3QodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19OnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShlLHIpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoOCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cig5NyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoMjAwKSx5PXIoNyksaD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHkpLHY9cig0NDMpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoNDcyKSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYiksbT1yKDQ3OCksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLHc9cig0NzkpLFM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh3KSxrPXIoNDkwKSxPPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoayksUD1yKDE0KSxNPXIoMTAwKSxMPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTSkseD1yKDEwMSksQT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHgpLEQ9cig0OTQpLFU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChEKSxqPXIoNDk1KSxJPXIoNDk2KSxFPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoSSksVD1yKDE0NCksQz1yKDQ5NykscT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEMpLEY9cig5OSksSD1yKDQ5OCksTj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KEgpLEI9cig1MDApLEc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChCKSxLPXIoNTAxKSxWPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoSyksVz1yKDUwNSksWT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFcpLHo9cig1MDgpLEo9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh6KSxaPXIoNTE0KSxRPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoWiksJD1yKDUxNiksWD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KCQpLGVlPWguZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSx0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJ1bnRpbWVVQShlLHQscil7aWYoKDAsZi5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVVQSksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgcnVudGltZSBkZXNjcmlwdG9yIGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVGhlIHNhbmRib3ggZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRoZSBkb21haW4gb2YgcnVudGltZSIpO2lmKHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249KDAsdS5kZWZhdWx0KSh7ZG9tYWluOnJ9LFQucnVudGltZUNvbmZpZ3VyYXRpb24pLHRoaXMucnVudGltZUZhY3Rvcnk9dCx0aGlzLmxvZz1lZSx0aGlzLmxvZ0xldmVscz1wLmxvZyxlLnAycEhhbmRsZXJTdHViJiYic3RyaW5nIj09dHlwZW9mIGUucDJwSGFuZGxlclN0dWImJmUucDJwSGFuZGxlclN0dWIuaW5jbHVkZXMoIjovLyIpP3RoaXMucDJwPSEwOnRoaXMucDJwPSExLEYucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yPWUsdGhpcy5ydW50aW1lVXRpbHM9Ri5ydW50aW1lVXRpbHMsdGhpcy5zdG9yYWdlcz17fSwiZnVuY3Rpb24iIT10eXBlb2YgdC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUnVudGltZSBDYXRhbG9ndWUgaW1wbGVtZW50YXRpb24iKTtpZih0aGlzLnJ1bnRpbWVDYXRhbG9ndWU9dC5jcmVhdGVSdW50aW1lQ2F0YWxvZ3VlKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQucGVyc2lzdGVuY2VNYW5hZ2VyKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgUGVyc2lzdGVuY2UgTWFuYWdlciBpbXBsZW1lbnRhdGlvbiIpO2lmKHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyPXQucGVyc2lzdGVuY2VNYW5hZ2VyKCksImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3RvcmFnZU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKCJDaGVjayB5b3VyIFJ1bnRpbWUgRmFjdG9yeSBiZWNhdXNlIGl0IG5lZWRzIHRoZSBTdG9yYWdlIE1hbmFnZXIgaW1wbGVtZW50YXRpb24iKTt0aGlzLnN0b3JhZ2VzPSgwLGouc3RvcmFnZSkodCksImZ1bmN0aW9uIj09dHlwZW9mIHQucnVudGltZUNhcGFiaWxpdGllcz90aGlzLnJ1bnRpbWVDYXBhYmlsaXRpZXM9dC5ydW50aW1lQ2FwYWJpbGl0aWVzKHRoaXMuc3RvcmFnZXMuY2FwYWJpbGl0aWVzKTplZS5pbmZvKCJDaGVjayB5b3VyIFJ1bnRpbWVGYWN0b3J5IGJlY2F1c2UgaXQgbmVlZHMgdGhlIFJ1bnRpbWUgQ2FwYWJpbGl0aWVzIGltcGxlbWVudGF0aW9uIil9cmV0dXJuKDAsZC5kZWZhdWx0KShSdW50aW1lVUEsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbih0LHIpe2UuZG9tYWluPWUucnVudGltZUNvbmZpZ3VyYXRpb24uZG9tYWluO3RyeXt2YXIgbj1lLnJ1bnRpbWVDYXBhYmlsaXRpZXMuZ2V0UnVudGltZUNhcGFiaWxpdGllcygpLG89ZS5zdG9yYWdlcy5ydW50aW1lLmdldCgicnVudGltZTpVUkwiKSxpPWUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiksYT1lLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMuZ2V0KCksYz1lLnN0b3JhZ2VzLnJ1bnRpbWUuZ2V0KCJwMnBIYW5kbGVyOlVSTCIpO3MuZGVmYXVsdC5hbGwoW28sbixpLGEsY10pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucnVudGltZVVSTD10WzBdP3RbMF0ucnVudGltZVVSTDp0WzBdLGUucnVudGltZVVSTHx8KGUucnVudGltZVVSTD0icnVudGltZTovLyIrZS5kb21haW4rIi8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLGUuc3RvcmFnZXMucnVudGltZS5zZXQoInJ1bnRpbWU6VVJMIiwxLHtydW50aW1lVVJMOmUucnVudGltZVVSTH0pKSxlLmNhcGFiaWxpdGllcz10WzFdLCgwLHUuZGVmYXVsdCkoRi5ydW50aW1lVXRpbHMucnVudGltZUNhcGFiaWxpdGllcy5jb25zdHJhaW50cyx0WzFdKSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2U9bmV3IFYuZGVmYXVsdChlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLHRbMl18fHt9KSxlLl9oeXBlcnR5UmVzb3VyY2VzPXRbM118fHt9LGUucDJwSGFuZGxlclVSTD10WzRdP3RbNF0ucDJwSGFuZGxlclVSTDp0WzRdLGUucDJwSGFuZGxlclVSTHx8KGUucDJwSGFuZGxlclVSTD1lLnJ1bnRpbWVVUkwrIi9wMnBoYW5kbGVyLyIrKDAsUC5nZW5lcmF0ZUdVSUQpKCksZWUuaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIFAyUEhhbmRsZXJVUkw6ICIsZS5wMnBIYW5kbGVyVVJMKSxlLnN0b3JhZ2VzLnJ1bnRpbWUuc2V0KCJwMnBIYW5kbGVyOlVSTCIsMSx7cDJwSGFuZGxlclVSTDplLnAycEhhbmRsZXJVUkx9KSksZS5fbG9hZENvbXBvbmVudHMoKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuX2h5cGVydHlSZXNvdXJjZXNTdG9yYWdlPW5ldyBZLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMsZS5faHlwZXJ0eVJlc291cmNlcyksZS5wMnA/KGVlLmluZm8oIltSdW50aW1lVUEgLSBpbml0XSBsb2FkIHAycEhhbmRsZXI6ICIsdCksZS5fbG9hZFAyUEhhbmRsZXIoKSk6KGVlLmluZm8oIltSdW50aW1lVUEgLSBpbml0XSBQMlAgbm90IHN1cHBvcnRlZCIpLCJQMlAgTm90IFN1cHBvcnRlZCIpfSkudGhlbihmdW5jdGlvbihlKXtlZS5pbmZvKCJbcnVudGltZSB1YSAtIGluaXRdIC0gc3RhdHVzOiAiLGUpLHQoITApfSxmdW5jdGlvbihlKXtlZS5lcnJvcigiRVJST1I6ICIsZSksdCghMCl9KX1jYXRjaChlKXtyKGUpfX0pfX0se2tleToiX2xvYWRQMlBIYW5kbGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24odCl7dmFyIHI9Ri5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3Isbj1yLnAycEhhbmRsZXJTdHViLG89e2lzSGFuZGxlclN0dWI6ITAscnVudGltZVVSTDplLnJ1bnRpbWVVUkx9O2VlLmxvZygiW1J1bnRpbWVVQSBsb2FkUDJQSGFuZGxlcl0gUDJQU3R1YkhhbmRsZXI6ICIsbiksZS5sb2FkZXIubG9hZFN0dWIobixvKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPWUucnVudGltZVVSTCsiL3VhIixvPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206bix0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlLmRvbWFpbisiL3NtIixib2R5OntzdWJzY3JpYmU6W3IudXJsXSxzb3VyY2U6ZS5ydW50aW1lVVJMfX07ZS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKG4sZnVuY3Rpb24oZSl7ZWUubG9nKCJbcnVudGltZSB1YSAtIGxpc3RlbmVyXSAtIHJlY2VpdmUgbXNnOiAiLGUpfSksZS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7ZWUubG9nKCJbcnVudGltZSB1YSAtIHBvc3RNZXNzYWdlXSAtIHJlcGx5OiAiLGUpfSksZWUuaW5mbygiW3J1bnRpbWUgdWEgLSBwMnAgaW5zdGFsbGF0aW9uXSAtIHN1Y2Nlc3M6ICIsciksdCghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtlZS5pbmZvKCJbcnVudGltZSB1YSAtIHAycCBpbnN0YWxsYXRpb25dIC0gZmFpbDogIixlKSx0KCExKX0pfSl9fSx7a2V5OiJfbG9hZENvbXBvbmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbih0LHIpe3RyeXtlLmRlc2NyaXB0b3JJbnN0YW5jZT1uZXcgRS5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5ydW50aW1lQ29uZmlndXJhdGlvbiksZS5sb2FkZXI9bmV3IFUuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ29uZmlndXJhdGlvbixlLmRlc2NyaXB0b3JJbnN0YW5jZSksZS5pZGVudGl0eU1vZHVsZT1uZXcgXy5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5pZGVudGl0eSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsQS5kZWZhdWx0LGUucnVudGltZUNhdGFsb2d1ZSk7dmFyIG49ZS5ydW50aW1lRmFjdG9yeS5jcmVhdGVBcHBTYW5kYm94KCk7ZS5yZWdpc3RyeT1uZXcgZy5kZWZhdWx0KGUucnVudGltZVVSTCxuLGUuaWRlbnRpdHlNb2R1bGUsZS5ydW50aW1lQ2F0YWxvZ3VlLGUucnVudGltZUNhcGFiaWxpdGllcyxlLnN0b3JhZ2VzLnJlZ2lzdHJ5LGUucDJwSGFuZGxlclVSTCksZS5yZWdpc3RyeS5sb2FkZXI9ZS5sb2FkZXIsZS5tZXNzYWdlQnVzPW5ldyBPLmRlZmF1bHQoZS5yZWdpc3RyeSksZS5hZGRyZXNzQWxsb2NhdGlvbj1uZXcgTC5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5yZWdpc3RyeSksZS5wb2xpY3lFbmdpbmU9bmV3IFMuZGVmYXVsdChuZXcgWC5kZWZhdWx0KGUucnVudGltZVVSTCxlLmlkZW50aXR5TW9kdWxlLGUucmVnaXN0cnksZS5zdG9yYWdlcy5wb2xpY3ksZS5ydW50aW1lQ2FwYWJpbGl0aWVzKSksZS5jb3JlRGlzY292ZXJ5PW5ldyBHLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLmdyYXBoQ29ubmVjdG9yLGUucnVudGltZUZhY3RvcnksZS5yZWdpc3RyeSksZS5pZGVudGl0eU1hbmFnZXI9bmV3IFIuZGVmYXVsdChlLmlkZW50aXR5TW9kdWxlKSxBLmRlZmF1bHQuaW5pdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMuY3J5cHRvTWFuYWdlcixlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsZS5yZWdpc3RyeSxlLmNvcmVEaXNjb3ZlcnksZS5pZGVudGl0eU1vZHVsZSxlLnJ1bnRpbWVGYWN0b3J5KSxlLmdyYXBoQ29ubmVjdG9yPW5ldyBOLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnN0b3JhZ2VNYW5hZ2VyKSxlLmhhbmRsZXJzPW5ldyBxLmRlZmF1bHQoZS5wb2xpY3lFbmdpbmUsZS5pZGVudGl0eU1hbmFnZXIsQS5kZWZhdWx0KSxlLm1lc3NhZ2VCdXMucGlwZWxpbmVPdXQuaGFuZGxlcnM9W2UuaGFuZGxlcnMuaWRtSGFuZGxlcixlLmhhbmRsZXJzLnBlcE91dEhhbmRsZXIsZS5oYW5kbGVycy5lbmNyeXB0SGFuZGxlcl0sZS5tZXNzYWdlQnVzLnBpcGVsaW5lSW4uaGFuZGxlcnM9W2UuaGFuZGxlcnMuZGVjcnlwdEhhbmRsZXIsZS5oYW5kbGVycy5wZXBJbkhhbmRsZXJdLG4uYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKHQpe2UubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0KX0pLEEuZGVmYXVsdC5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5Lm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUucG9saWN5RW5naW5lLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUuaWRlbnRpdHlNb2R1bGUubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsZS5pZGVudGl0eU1vZHVsZS5yZWdpc3RyeT1lLnJlZ2lzdHJ5LGUuaWRlbnRpdHlNb2R1bGUuY29yZURpc2NvdmVyeT1lLmNvcmVEaXNjb3ZlcnksZS5ydW50aW1lRmFjdG9yeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLnN5bmNoZXJNYW5hZ2VyPW5ldyBKLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5LGUucnVudGltZUNhdGFsb2d1ZSxlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLG51bGwsZS5fZGF0YU9iamVjdHNTdG9yYWdlLGUuaWRlbnRpdHlNb2R1bGUpLGUubG9hZGVyLnJ1bnRpbWVVUkw9ZS5ydW50aW1lVVJMLGUubG9hZGVyLm1lc3NhZ2VCdXM9ZS5tZXNzYWdlQnVzLGUubG9hZGVyLnJlZ2lzdHJ5PWUucmVnaXN0cnksZS5sb2FkZXIucnVudGltZUNhdGFsb2d1ZT1lLnJ1bnRpbWVDYXRhbG9ndWUsZS5sb2FkZXIucnVudGltZUZhY3Rvcnk9ZS5ydW50aW1lRmFjdG9yeSxlLnN1YnNjcmlwdGlvbk1hbmFnZXI9bmV3IFEuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5tZXNzYWdlQnVzLGUuc3RvcmFnZXMuc3Vic2NyaXB0aW9ucyk7dmFyIG89W107by5wdXNoKGUuc3Vic2NyaXB0aW9uTWFuYWdlci5pbml0KCkpLG8ucHVzaChlLmlkZW50aXR5TW9kdWxlLmluaXQoKSksby5wdXNoKEEuZGVmYXVsdC5sb2FkU2Vzc2lvbktleXMoKSkscy5kZWZhdWx0LmFsbChvKS50aGVuKGZ1bmN0aW9uKGUpezM9PT1lLmxlbmd0aD90KCEwKTpyKCJbUnVudGltZVVBLl9sb2FkQ29tcG9uZW50c10gRXJyb3IgXSAiLGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoZSl9KX1jYXRjaChlKXtyKGUpfX0pfX0se2tleToibG9hZEh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJIeXBlcnR5IGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZEh5cGVydHkoZSx0LHIpfX0se2tleToibG9hZFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUHJvdG9TdHViIGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gdGhpcy5sb2FkZXIubG9hZFN0dWIoZSl9fSx7a2V5OiJsb2FkSWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGVlLmxvZygiaXBkUHJveHlDYXRhbG9ndWVVUkwiLGUpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIElEUCBQcm94eSBVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyLCBjb3VsZCBiZSBhIERPTUFJTiBvciBhIFVSTCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkSWRwUHJveHkoZSl9fSx7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4hMD09PWUmJnRoaXMuaWRlbnRpdHlNYW5hZ2VyLnJlc2V0KCksZWUuaW5mbygiVW5yZWdpc3RlciBhbGwgaHlwZXJ0aWVzIiksbmV3IHMuZGVmYXVsdChmdW5jdGlvbihlLHIpe3QucmVnaXN0cnkudW5yZWdpc3RlckFsbEh5cGVydGllcygpLnRoZW4oZnVuY3Rpb24odCl7ZWUuaW5mbygiQWxsIHRoZSBoeXBlcnRpZXMgYXJlIHVucmVnaXN0ZWQgd2l0aCBTdWNjZXNzOiIsdCksZSghMCl9KS5jYXRjaChmdW5jdGlvbihlKXtlZS5lcnJvcigiRmFpbGVkIHRvIHVucmVnaXN0ZXIgdGhlIGh5cGVydGllcyIsZSkscighMSl9KX0pfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZS5zdG9yYWdlcy5pZGVudGl0eS5nZXQoITEsITEsImlkZW50aXRpZXMiKS50aGVuKGZ1bmN0aW9uKG4peygwLG8uZGVmYXVsdCkobikuZm9yRWFjaChmdW5jdGlvbihyKXt0LnB1c2goZS5zdG9yYWdlcy5pZGVudGl0eS5kZWxldGUociwhMSwiaWRlbnRpdGllcyIpKX0pLHQucHVzaChlLnN0b3JhZ2VzLmNhcGFiaWxpdGllcy5kZWxldGUoImNhcGFiaWxpdGllcyIpKSx0LnB1c2goZS5zdG9yYWdlcy5jcnlwdG9NYW5hZ2VyLmRlbGV0ZSgidXNlckFzeW1tZXRyaWNLZXkiKSksdC5wdXNoKGUuc3RvcmFnZXMuaHlwZXJ0eVJlc291cmNlcy5kZWxldGUoImh5cGVydHlSZXNvdXJjZXMiKSksdC5wdXNoKGUuc3RvcmFnZXMuaWRlbnRpdHkuZGVsZXRlKCJhY2Nlc3NUb2tlbnMiKSksdC5wdXNoKGUuc3RvcmFnZXMucmVnaXN0cnkuZGVsZXRlKCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIpKSx0LnB1c2goZS5zdG9yYWdlcy5yZWdpc3RyeS5kZWxldGUoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIikpLHQucHVzaChlLnN0b3JhZ2VzLnJ1bnRpbWUuZGVsZXRlKCJwMnBIYW5kbGVyOlVSTCIpKSx0LnB1c2goZS5zdG9yYWdlcy5ydW50aW1lLmRlbGV0ZSgicnVudGltZTpVUkwiKSksdC5wdXNoKGUuc3RvcmFnZXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoInN1YnNjcmlwdGlvbnMiKSksdC5wdXNoKGUuc3RvcmFnZXMuc3luY2hlck1hbmFnZXIuZGVsZXRlKCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIikpLHMuZGVmYXVsdC5hbGwodCkudGhlbihmdW5jdGlvbihlKXtlZS5pbmZvKCJBbGwgREJzIHdlcmUgcmVzZXQgd2l0aCBTdWNjZXNzOiIsZSkscighMCl9KS5jYXRjaChmdW5jdGlvbihlKXtlZS5lcnJvcigiRmFpbGVkIHRvIHJlc2V0IGFsbCBEQnMiLGUpLHIoITEpfSl9KX0pfX1dKSxSdW50aW1lVUF9KCk7dC5kZWZhdWx0PXRlLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtyKDQxNyksZS5leHBvcnRzPXIoMTMpLk9iamVjdC5rZXlzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig3Myksbz1yKDY0KTtyKDEzNCkoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0NSksbz1yKDEyOSksaT1yKDQxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGEsdT1uKHQpLGM9byh1Lmxlbmd0aCksZj1pKHMsYyk7aWYoZSYmciE9cil7Zm9yKDtjPmY7KWlmKChhPXVbZisrXSkhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2M+ZjtmKyspaWYoKGV8fGYgaW4gdSkmJnVbZl09PT1yKXJldHVybiBlfHxmfHwwO3JldHVybiFlJiYtMX19fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzApLG89TWF0aC5tYXgsaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9vKGUrdCwwKTppKGUsdCl9fSxmdW5jdGlvbihlLHQscil7cigxODUpLHIoMTM3KSxyKDE5MCkscig0MjcpLHIoNDM1KSxyKDQzNiksZS5leHBvcnRzPXIoMTMpLlByb21pc2V9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzMCksbz1yKDEyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBpLHMsYT1TdHJpbmcobyh0KSksdT1uKHIpLGM9YS5sZW5ndGg7cmV0dXJuIHU8MHx8dT49Yz9lPyIiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQodSksaTw1NTI5Nnx8aT41NjMxOXx8dSsxPT09Y3x8KHM9YS5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQodSk6aTplP2Euc2xpY2UodSx1KzIpOnMtNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNil9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzOCksbz1yKDc2KSxpPXIoOTYpLHM9e307cig1OCkocyxyKDIyKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLG89cig0MCksaT1yKDY0KTtlLmV4cG9ydHM9cig0Nik/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgcixzPWkodCksYT1zLmxlbmd0aCx1PTA7YT51OyluLmYoZSxyPXNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MjUpLG89cig0MjYpLGk9cig3Nykscz1yKDQ1KTtlLmV4cG9ydHM9cigxODYpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLG8saSxzLGE9cig3NSksdT1yKDE3KSxjPXIoNjUpLGY9cigxOTEpLGw9cigyMSksZD1yKDQxKSxwPXIoOTUpLHk9cig0MjgpLGg9cig0MjkpLHY9cigxOTUpLGc9cigxOTYpLnNldCxiPXIoNDMxKSgpLF89cigxMzkpLG09cigxOTcpLFI9cig0MzIpLHc9cigxOTgpLFM9dS5UeXBlRXJyb3Isaz11LnByb2Nlc3MsTz1rJiZrLnZlcnNpb25zLFA9TyYmTy52OHx8IiIsTT11LlByb21pc2UsTD0icHJvY2VzcyI9PWYoaykseD1mdW5jdGlvbigpe30sQT1vPV8uZixEPSEhZnVuY3Rpb24oKXt0cnl7dmFyIGU9TS5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoMjIpKCJzcGVjaWVzIildPWZ1bmN0aW9uKGUpe2UoeCx4KX07cmV0dXJuKEx8fCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpJiZlLnRoZW4oeClpbnN0YW5jZW9mIHQmJjAhPT1QLmluZGV4T2YoIjYuNiIpJiYtMT09PVIuaW5kZXhPZigiQ2hyb21lLzY2Iil9Y2F0Y2goZSl7fX0oKSxVPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIWQoZSl8fCJmdW5jdGlvbiIhPXR5cGVvZih0PWUudGhlbikpJiZ0fSxqPWZ1bmN0aW9uKGUsdCl7aWYoIWUuX24pe2UuX249ITA7dmFyIHI9ZS5fYztiKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWUuX3Ysbz0xPT1lLl9zLGk9MDtyLmxlbmd0aD5pOykhZnVuY3Rpb24odCl7dmFyIHIsaSxzLGE9bz90Lm9rOnQuZmFpbCx1PXQucmVzb2x2ZSxjPXQucmVqZWN0LGY9dC5kb21haW47dHJ5e2E/KG98fCgyPT1lLl9oJiZUKGUpLGUuX2g9MSksITA9PT1hP3I9bjooZiYmZi5lbnRlcigpLHI9YShuKSxmJiYoZi5leGl0KCkscz0hMCkpLHI9PT10LnByb21pc2U/YyhTKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVUocikpP2kuY2FsbChyLHUsYyk6dShyKSk6YyhuKX1jYXRjaChlKXtmJiYhcyYmZi5leGl0KCksYyhlKX19KHJbaSsrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZJKGUpfSl9fSxJPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQscixuLG89ZS5fdixpPUUoZSk7aWYoaSYmKHQ9bShmdW5jdGlvbigpe0w/ay5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9dS5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49dS5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9THx8RShlKT8yOjEpLGUuX2E9dm9pZCAwLGkmJnQuZSl0aHJvdyB0LnZ9KX0sRT1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxUPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7TD9rLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sQz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSksaih0LCEwKSl9LHE9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgUygiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1VKGUpKT9iKGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSxjKHEsbiwxKSxjKEMsbiwxKSl9Y2F0Y2goZSl7Qy5jYWxsKG4sZSl9fSk6KHIuX3Y9ZSxyLl9zPTEsaihyLCExKSl9Y2F0Y2goZSl7Qy5jYWxsKHtfdzpyLF9kOiExfSxlKX19fTtEfHwoTT1mdW5jdGlvbihlKXt5KHRoaXMsTSwiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhxLHRoaXMsMSksYyhDLHRoaXMsMSkpfWNhdGNoKGUpe0MuY2FsbCh0aGlzLGUpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1yKDQzMykoTS5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1BKHYodGhpcyxNKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPUw/ay5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmaih0aGlzLCExKSxyLnByb21pc2V9LGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLGk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhxLGUsMSksdGhpcy5yZWplY3Q9YyhDLGUsMSl9LF8uZj1BPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09TXx8ZT09PXM/bmV3IGkoZSk6byhlKX0pLGwobC5HK2wuVytsLkYqIUQse1Byb21pc2U6TX0pLHIoOTYpKE0sIlByb21pc2UiKSxyKDQzNCkoIlByb21pc2UiKSxzPXIoMTMpLlByb21pc2UsbChsLlMrbC5GKiFELCJQcm9taXNlIix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PUEodGhpcyk7cmV0dXJuKDAsdC5yZWplY3QpKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqKGF8fCFEKSwiUHJvbWlzZSIse3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHcoYSYmdGhpcz09PXM/TTp0aGlzLGUpfX0pLGwobC5TK2wuRiohKEQmJnIoMTk5KShmdW5jdGlvbihlKXtNLmFsbChlKS5jYXRjaCh4KX0pKSwiUHJvbWlzZSIse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9QSh0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9bShmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPWkrKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0sbyl9KSwtLXN8fG4ocil9KTtyZXR1cm4gaS5lJiZvKGkudiksci5wcm9taXNlfSxyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1BKHQpLG49ci5yZWplY3Qsbz1tKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIG8uZSYmbihvLnYpLHIucHJvbWlzZX19KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY1KSxvPXIoMTkyKSxpPXIoMTkzKSxzPXIoNDApLGE9cigxMjkpLHU9cigxOTQpLGM9e30sZj17fSx0PWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixsLGQpe3ZhciBwLHksaCx2LGc9ZD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLGwsdD8yOjEpLF89MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZyl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPl87XysrKWlmKCh2PXQ/YihzKHk9ZVtfXSlbMF0seVsxXSk6YihlW19dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PW8oaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwPT09cjtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbj9lKCk6ZS5jYWxsKHIpO2Nhc2UgMTpyZXR1cm4gbj9lKHRbMF0pOmUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gbj9lKHRbMF0sdFsxXSk6ZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0pO2Nhc2UgNDpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdLHRbM10pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdLHRbM10pfXJldHVybiBlLmFwcGx5KHIsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNyksbz1yKDE5Nikuc2V0LGk9bi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIscz1uLnByb2Nlc3MsYT1uLlByb21pc2UsdT0icHJvY2VzcyI9PXIoNzQpKHMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlLHQscixjPWZ1bmN0aW9uKCl7dmFyIG4sbztmb3IodSYmKG49cy5kb21haW4pJiZuLmV4aXQoKTtlOyl7bz1lLmZuLGU9ZS5uZXh0O3RyeXtvKCl9Y2F0Y2gobil7dGhyb3cgZT9yKCk6dD12b2lkIDAsbn19dD12b2lkIDAsbiYmbi5lbnRlcigpfTtpZih1KXI9ZnVuY3Rpb24oKXtzLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFpfHxuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihhJiZhLnJlc29sdmUpe3ZhciBmPWEucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpe28uY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBpKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBvPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PW8pLGV8fChlPW8scigpKSx0PW99fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTcpLG89bi5uYXZpZ2F0b3I7ZS5leHBvcnRzPW8mJm8udXNlckFnZW50fHwiIn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcpLG89cigxMyksaT1yKDM5KSxzPXIoNDYpLGE9cigyMikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIG9bZV0/b1tlXTpuW2VdO3MmJnQmJiF0W2FdJiZpLmYodCxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjEpLG89cigxMyksaT1yKDE3KSxzPXIoMTk1KSxhPXIoMTk4KTtuKG4uUCtuLlIsIlByb21pc2UiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PXModGhpcyxvLlByb21pc2V8fGkuUHJvbWlzZSkscj0iZnVuY3Rpb24iPT10eXBlb2YgZTtyZXR1cm4gdGhpcy50aGVuKHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfTplLHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByfSl9OmUpfX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjEpLG89cigxMzkpLGk9cigxOTcpO24obi5TLCJQcm9taXNlIix7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PW8uZih0aGlzKSxyPWkoZSk7cmV0dXJuKHIuZT90LnJlamVjdDp0LnJlc29sdmUpKHIudiksdC5wcm9taXNlfX0pfSxmdW5jdGlvbihlLHQscil7cig0MzgpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cig0MzkpfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2NCksbz1yKDE0MCksaT1yKDc4KSxzPXIoNzMpLGE9cigxODMpLHU9T2JqZWN0LmFzc2lnbjtlLmV4cG9ydHM9IXV8fHIoNjYpKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtyXT03LG4uc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbigiIikhPW59KT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1zKGUpLHU9YXJndW1lbnRzLmxlbmd0aCxjPTEsZj1vLmYsbD1pLmY7dT5jOylmb3IodmFyIGQscD1hKGFyZ3VtZW50c1tjKytdKSx5PWY/bihwKS5jb25jYXQoZihwKSk6bihwKSxoPXkubGVuZ3RoLHY9MDtoPnY7KWwuY2FsbChwLGQ9eVt2KytdKSYmKHJbZF09cFtkXSk7cmV0dXJuIHJ9OnV9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0NDIpO3ZhciBuPXIoMTMpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRlZmluZVByb3BlcnR5KGUsdCxyKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKTtuKG4uUytuLkYqIXIoNDYpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDM5KS5mfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOTgpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMzEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoOCksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHApLGg9cig5OSksdj1yKDQ1NSksZz1yKDEwMCksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89cigyMDMpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxSPXIoNDY5KSx3PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoUiksUz1yKDQ3MCksaz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFMpLE89cigxNCk7cig0NzEpO3ZhciBQPXIoMjA0KSxNPXkuZ2V0TG9nZ2VyKCJSZWdpc3RyeSIpLEw9e0NSRUFURUQ6ImNyZWF0ZWQiLExJVkU6ImxpdmUiLERFUExPWUlORzoiZGVwbG95aW5nIixERVBMT1lFRDoiZGVwbG95ZWQiLFBST0dSRVNTOiJpbi1wcm9ncmVzcyIsRElTQ09OTkVDVEVEOiJkaXNjb25uZWN0ZWQiLEZBSUxFRDoiZGVwbG95bWVudC1mYWlsZWQiLERFQUQ6ImRlYWQifSx4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVnaXN0cnkoZSx0LHIsbixvLGkscyxhKXtpZigoMCxmLmRlZmF1bHQpKHRoaXMsUmVnaXN0cnkpLCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFpKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZy4iKTt2YXIgdT10aGlzO3UucmVnaXN0cnlVUkw9ZSsiL3JlZ2lzdHJ5LyIsdS5hcHBTYW5kYm94PXQsdS5ydW50aW1lVVJMPWUsdS5wMnBIYW5kbGVyVVJMPXMsdS5ydW50aW1lQ2F0YWxvZ3VlPW4sdS5yZW1vdGVSZWdpc3RyeT1hLHUuaWRNb2R1bGU9cix1LnN0b3JhZ2VNYW5hZ2VyPWksdS5ydW50aW1lQ2FwYWJpbGl0aWVzPW8sdS5pZGVudGlmaWVyPSgwLE8uZ2VuZXJhdGVHVUlEKSgpLHUuaHlwZXJ0aWVzTGlzdFRvUmVtb3ZlPXt9LHUuaHlwZXJ0aWVzTGlzdD1bXSx1LnJlbW90ZUh5cGVydHlMaXN0PVtdLHUucmVtb3RlRGF0YU9iamVjdExpc3Q9W10sdS5pZHBMZWdhY3lQcm94eUxpc3Q9e30sdS53YXRjaGluZ1lvdT1uZXcgUC5XYXRjaGluZ1lvdSx1LnAycEhhbmRsZXJTdHViPXt9LHUucDJwUmVxdWVzdGVyU3R1Yj11LndhdGNoaW5nWW91LndhdGNoKCJwMnBSZXF1ZXN0ZXJTdHViIix7fSwhMCksdS5wMnBDb25uZWN0aW9uTGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJwMnBDb25uZWN0aW9uTGlzdCIse30sITApLHUucDJwSGFuZGxlckFzc29jaWF0aW9uPXt9LHUucHJvdG9zdHVic0xpc3Q9dS53YXRjaGluZ1lvdS53YXRjaCgicHJvdG9zdHVic0xpc3QiLHt9LCEwKSx1LmlkcFByb3h5TGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJpZHBQcm94eUxpc3QiLHt9LCEwKSx1LmRhdGFPYmplY3RMaXN0PXt9LHUuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0PXt9LHUuc2FuZGJveGVzTGlzdD17c2FuZGJveDp7fSxhcHBTYW5kYm94Ont9fSx1LnBlcExpc3Q9e30sdS5yZWdpc3RyaWVzPXt9LHUuX2RvbWFpbj0oMCxPLmRpdmlkZVVSTCkodS5yZWdpc3RyeVVSTCkuZG9tYWluLHUuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2VdPXQ7dmFyIGM9bmV3IGsuZGVmYXVsdCh1KTt1Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZT1jfXJldHVybigwLGQuZGVmYXVsdCkoUmVnaXN0cnksW3trZXk6Il9nZXRJZGVudGl0eUFzc29jaWF0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gci5oeXBlcnRpZXNMaXN0KXt2YXIgbz1yLmh5cGVydGllc0xpc3Rbbl07aWYoby5faHlwZXJ0eVVSTD09PXQpc3dpdGNoKGUpe2Nhc2UidXNlcm5hbWUiOnJldHVybiBvLl91c2VyLnVzZXJuYW1lO2Nhc2UiY24iOnJldHVybiBvLl91c2VyLmNuO2Nhc2UibG9jYWxlIjpyZXR1cm4gby5fdXNlci5sb2NhbGU7Y2FzZSJhdmF0YXIiOnJldHVybiBvLl91c2VyLmF2YXRhcjtjYXNlInVzZXJVUkwiOnJldHVybiBvLl91c2VyLnVzZXJVUkw7Y2FzZSIuIjpyZXR1cm4gby5fdXNlcjtkZWZhdWx0OnJldHVybiIifX1yZXR1cm4iIn19LHtrZXk6ImdldEFwcFNhbmRib3giLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwU2FuZGJveH19LHtrZXk6ImdldEh5cGVydHlPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztmb3IodmFyIHIgaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgbj10Lmh5cGVydGllc0xpc3Rbcl07aWYobi5oeXBlcnR5VVJMPT09ZSlyZXR1cm4gbi51c2VyLnVzZXJVUkx9fX0se2tleToiZ2V0RGF0YU9iamVjdFJlcG9ydGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsTy5yZW1vdmVQYXRoRnJvbVVSTCkoZSk7Zm9yKHZhciBuIGluIHQuZGF0YU9iamVjdExpc3Qpe3ZhciBvPXQuZGF0YU9iamVjdExpc3Rbbl07aWYoby51cmw9PT1yKXJldHVybiBvLnJlcG9ydGVyfXJldHVybiBudWxsfX0se2tleToiZ2V0SHlwZXJ0eU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0iaHlwZXJ0eSI9PT0oMCxPLmRpdmlkZVVSTCkoZSkudHlwZSxuPXZvaWQgMCxvPXI/ZTp0LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtmb3IodmFyIGkgaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgcz10Lmh5cGVydGllc0xpc3RbaV07aWYocy5oeXBlcnR5VVJMPT09byl7bj1zLm9iamVjdE5hbWU7YnJlYWt9fXJldHVybiBufX0se2tleToiZ2V0UmVwb3J0ZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz10LmRhdGFPYmplY3RMaXN0W2VdO28/cihvLnJlcG9ydGVyKTpuKCJObyByZXBvcnRlciB3YXMgZm91bmQiKX0pfX0se2tleToiZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtyZXR1cm4gcj9yLnJlcG9ydGVyOnZvaWQgMH19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdfX0se2tleToicmVnaXN0ZXJTdWJzY3JpYmVkRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PXIuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdJiYoci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV09dCl9fSx7a2V5OiJnZXRQcmVBdXRoU3Vic2NyaWJlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdLG49W107cmV0dXJuIHImJihuPXIuYXV0aG9yaXNlKSxufX0se2tleToidW5yZWdpc3RlckFsbEh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtmb3IodmFyIG8gaW4gZS5oeXBlcnRpZXNMaXN0KXt2YXIgaT1lLmh5cGVydGllc0xpc3Rbb10scz1lLnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2UoaS5oeXBlcnR5VVJMKTt0LnB1c2gocyl9dS5kZWZhdWx0LmFsbCh0KS50aGVuKGZ1bmN0aW9uKCl7cigic3VjY2Vzc2Z1bGx5IHVucmVnaXN0ZXJlZCBhbGwgaHlwZXJ0aWVzIil9LGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToidW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJleGVjdXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ZSxib2R5OnttZXRob2Q6ImNsb3NlIn19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtNLmxvZygiW1JlZ2lzdHJ5LnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2VdIENsb3NlIFJlcGx5IixyKSx0Ll9kb21haW5SZWdpc3RyYXRpb24udW5yZWdpc3Rlckh5cGVydHkoZSl9KX19LHtrZXk6InVucmVnaXN0ZXJEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9kb21haW5SZWdpc3RyYXRpb24udW5yZWdpc3RlckRhdGFPYmplY3QoZSl9fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuZGF0YU9iamVjdExpc3RbZV07biYmKG4uc3Vic2NyaWJlcnN8fChuLnN1YnNjcmliZXJzPVtdKSxuLnN1YnNjcmliZXJzLnB1c2godCksci5kYXRhT2JqZWN0TGlzdFtlXT1uKX19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV07aWYocilyZXR1cm4gci5zdWJzY3JpYmVyczt0aHJvdyJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCJ9fSx7a2V5OiJyZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxPLmRlZXBDbG9uZSkoZSk7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixvKXt0LmRhdGFPYmplY3RMaXN0W2UudXJsXT1lLHQuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIpLnRoZW4oZnVuY3Rpb24oaSl7aXx8KGk9e30pLGlbZS5uYW1lK2Uuc2NoZW1hK2UucmVzb3VyY2VzK2UucmVwb3J0ZXJdPWUudXJsLHQuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIsMCxpKS50aGVuKGZ1bmN0aW9uKCl7dC5pc0ludGVyd29ya2luZ1Byb3RvU3R1YihyLnJlcG9ydGVyKSYmKHIuaW50ZXJ3b3JraW5nPSEwKTt2YXIgbz0hMDtyLmhhc093blByb3BlcnR5KCJkb21haW5fcmVnaXN0cmF0aW9uIikmJihvPXIuZG9tYWluX3JlZ2lzdHJhdGlvbiksbz90Ll9kb21haW5SZWdpc3RyYXRpb24ucmVnaXN0ZXJEYXRhT2JqZWN0KHIsZS5yZXN1bWUsdC5wMnBIYW5kbGVyU3R1YikudGhlbihmdW5jdGlvbihlKXtuKGUpfSk6bihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe00uZXJyb3IoIltSZWdpc3RyeSByZWdpc3RlckRhdGFPYmplY3RdIEVycm9yOiAiLGUpLG8oZSl9KX0pfSl9fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQW5kU2NoZW1lcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyKXt2YXIgbj12b2lkIDA7InN0cmluZyI9PXR5cGVvZiBlLmh5cGVydHlUeXBlPyhuPVtdLG4ucHVzaChlLmh5cGVydHlUeXBlKSk6bj1lLmh5cGVydHlUeXBlO3ZhciBvPWUub2JqZWN0TmFtZSxpPWUuZGF0YU9iamVjdHMscz1bXTtmb3IodmFyIGEgaW4gaSlzLnB1c2godC5ydW50aW1lQ2F0YWxvZ3VlLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKGlbYV0pKTt1LmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBpIGluIGUpe3ZhciBzPWVbaV07dC5wdXNoKHMuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMuc2NoZW1lLmNvbnN0YW50KX1yKHtyZXNvdXJjZXM6bixkYXRhU2NoZW1hOnQsbmFtZTpvfSl9KX0pfX0se2tleToiY2hlY2tSZWdpc3RlcmVkVVJMcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4pe3ZhciBvPWUucmVwb3J0ZXI/InJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIjoicmVnaXN0cnk6SHlwZXJ0eVVSTHMiOyJzdHJpbmciPT10eXBlb2YgdCYmKG89dCYmImh5cGVydHkiIT09KDAsTy5kaXZpZGVVUkwpKHQpLnR5cGU/InJlZ2lzdHJ5OkRhdGFPYmplY3RVUkxzIjoicmVnaXN0cnk6SHlwZXJ0eVVSTHMiKSxyLnN0b3JhZ2VNYW5hZ2VyLmdldChvKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGl8fChpPXt9KSwic3RyaW5nIj09dHlwZW9mIHQpe00uaW5mbygiW1JlZ2lzdHJ5IC0gY2hlY2tSZWdpc3RlcmVkVVJMc10gLSBsb29rIGZvciAiK3QrIiBvbiAiLGkpO3ZhciBhPSgwLHMuZGVmYXVsdCkoaSkubWFwKGZ1bmN0aW9uKGUpe3ZhciByPWlbZV0uaW5kZXhPZih0KTtyZXR1cm4gaVtlXVtyXX0pO3JldHVybiBNLmluZm8oIltSZWdpc3RyeSAtIGNoZWNrUmVnaXN0ZXJlZFVSTHNdIC0gZm91bmQgIithLmxlbmd0aCsiIHJlc3VsdHMgb24gIixhKSxuKDE9PT1hLmxlbmd0aD9hOnZvaWQgMCl9aWYoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIiE9PW8pe3ZhciB1PWUubmFtZStlLnNjaGVtYStlLnJlc291cmNlcytlLnJlcG9ydGVyO2lmKGlbdV0pe2lmKCJzdHJpbmciPT10eXBlb2YgaVt1XSl7dmFyIGM9W107cmV0dXJuIGMucHVzaChpW3VdKSxuKGMpfXJldHVybiBuKGlbdV0pfXJldHVybiBuKHZvaWQgMCl9ci5fZ2V0UmVzb3VyY2VzQW5kU2NoZW1lcyhlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuKGlbZS5yZXNvdXJjZXMrZS5kYXRhU2NoZW1hK2UubmFtZV0/aVtlLnJlc291cmNlcytlLmRhdGFTY2hlbWErZS5uYW1lXTp2b2lkIDApfSl9KX0pfX0se2tleToicmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXRoaXMsYT12b2lkIDA7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odSxjKXtpLmlkTW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uKG8pLnRoZW4oZnVuY3Rpb24obyl7dmFyIGY9by51c2VyUHJvZmlsZTt2b2lkIDA9PT1pLl9tZXNzYWdlQnVzP2MoIltSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIE1lc3NhZ2VCdXMgaXMgdW5kZWZpbmVkIik6aS5zdG9yYWdlTWFuYWdlci5nZXQoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIikudGhlbihmdW5jdGlvbihvKXtpLl9nZXRSZXNvdXJjZXNBbmRTY2hlbWVzKHIpLnRoZW4oZnVuY3Rpb24obCl7YT1sLG98fChvPXt9KSxvW2EucmVzb3VyY2VzK2EuZGF0YVNjaGVtYSthLm5hbWVdPW4uYWRkcmVzcyxpLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmVnaXN0cnk6SHlwZXJ0eVVSTHMiLDAsbykudGhlbihmdW5jdGlvbigpeyJhcHAiPT09ZS50eXBlP2kuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W24uYWRkcmVzc1swXV09ZToibm9ybWFsIj09PWUudHlwZT9pLnNhbmRib3hlc0xpc3Quc2FuZGJveFtuLmFkZHJlc3NbMF1dPWU6YygiV3JvbmcgU2FuZGJveFR5cGUiKTt2YXIgbz12b2lkIDAsbD12b2lkIDA7MCE9PSgwLHMuZGVmYXVsdCkoaS5wMnBIYW5kbGVyU3R1YikubGVuZ3RoJiYobz1pLnAycEhhbmRsZXJTdHViW2kucnVudGltZVVSTF0udXJsLGw9aC5ydW50aW1lVXRpbHMucnVudGltZURlc2NyaXB0b3IucDJwUmVxdWVzdGVyU3R1Yik7dmFyIGQ9bmV3IG0uZGVmYXVsdChpLmlkZW50aWZpZXIsaS5yZWdpc3RyeVVSTCx0LHIsbi5hZGRyZXNzWzBdLGYsImd1aWQiLGkucnVudGltZVVSTCwiY3R4IixvLGwsYS5kYXRhU2NoZW1hLGEucmVzb3VyY2VzKTtpLmh5cGVydGllc0xpc3QucHVzaChkKTt2YXIgcD0hMDtyLmhhc093blByb3BlcnR5KCJfY29uZmlndXJhdGlvbiIpJiZyLmNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkoImRvbWFpbl9yZWdpc3RyYXRpb24iKSYmKHA9ci5jb25maWd1cmF0aW9uLmRvbWFpbl9yZWdpc3RyYXRpb24pLHA/aS5fZG9tYWluUmVnaXN0cmF0aW9uLnJlZ2lzdGVySHlwZXJ0eShkLG4ubmV3QWRkcmVzcykudGhlbihmdW5jdGlvbihlKXt1KGUpfSk6dSh7dXJsOmQuaHlwZXJ0eVVSTH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7YyhlKX0pfSl9KX0sZnVuY3Rpb24oZSl7YygiW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gIixlKX0pfSl9fSx7a2V5OiJ1bnJlZ2lzdGVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPSExLGk9MDtmb3IoaT0wO2k8dC5oeXBlcnRpZXNMaXN0Lmxlbmd0aDtpKyspe3ZhciBzPXQuaHlwZXJ0aWVzTGlzdFtpXTtpZih2b2lkIDAhPT1zJiZzLmh5cGVydHlVUkw9PT1lKXtvPSEwO2JyZWFrfX0hMT09PW8/bigiSHlwZXJ0eSBub3QgZm91bmQiKTooZGVsZXRlIHQuaHlwZXJ0aWVzTGlzdFtpXSxyKCJIeXBlcnR5IHN1Y2Nlc3NmdWxseSBkZWxldGVkIikpfSl9fSx7a2V5OiJkaXNjb3ZlclByb3Rvc3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJQYXJhbWV0ZXIgdXJsIG5lZWRlZCIpO3ZhciB0PXRoaXMscj0oMCxPLmRpdmlkZVVSTCkoZSksbj1yLmRvbWFpbjtpZih0LnByb3Rvc3R1YnNMaXN0Lmhhc093blByb3BlcnR5KG4pJiZ0LnByb3Rvc3R1YnNMaXN0W25dLnN0YXR1cz09PUwuTElWRSlyZXR1cm4gdC5wcm90b3N0dWJzTGlzdFtuXTt0aHJvdyB0LnByb3Rvc3R1YnNMaXN0W25dPXtzdGF0dXM6TC5ERVBMT1lJTkd9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQcm90b1N0dWIgXSBNZXNzYWdlIE5vZGUgUHJvdG9zdHViIE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9fSx7a2V5OiJkaXNjb3ZlclAyUFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZSl7aWYodC5wMnBSZXF1ZXN0ZXJTdHViLmhhc093blByb3BlcnR5KGUpJiZ0LnAycFJlcXVlc3RlclN0dWJbZV0uc3RhdHVzPT09TC5MSVZFKXJldHVybiB0LnAycFJlcXVlc3RlclN0dWJbZV07dGhyb3cgdC5wMnBSZXF1ZXN0ZXJTdHViW2VdPXtzdGF0dXM6TC5DUkVBVEVEfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUDJQU3R1YiBdIFAyUCBSZXF1ZXN0ZXIgU3R1YiBOb3QgRm91bmQuIENyZWF0aW5nIG9uZSIpfWlmKHQucDJwSGFuZGxlclN0dWIuaGFzT3duUHJvcGVydHkodC5ydW50aW1lVVJMKSlyZXR1cm4gdC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdO3Rocm93IHQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXT17c3RhdHVzOkwuQ1JFQVRFRH0sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclAyUFN0dWIgXSBQMlAgSGFuZGxlciBTdHViIE5vdCBGb3VuZC4iKX19LHtrZXk6InJlZ2lzdGVyU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz10aGlzLGE9aTtyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbih1LGMpe3ZhciBmPXZvaWQgMDt2b2lkIDA9PT1zLl9tZXNzYWdlQnVzJiZjKCJNZXNzYWdlQnVzIG5vdCBmb3VuZCBvbiByZWdpc3RlclN0dWIiKSxNLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1Yl0gLSBzdHViSUQgIix0KTt2YXIgbD12b2lkIDA7aWYocilpZihyLmhhc093blByb3BlcnR5KCJpc0hhbmRsZXJTdHViIikmJnIuaXNIYW5kbGVyU3R1YilmPXMucDJwSGFuZGxlclVSTCxzLnAycEhhbmRsZXJTdHViW3RdPXt1cmw6ZixzdGF0dXM6TC5DUkVBVEVEfSxzLnAycEhhbmRsZXJBc3NvY2lhdGlvbltzLnJ1bnRpbWVVUkxdPVtdLHMuc2FuZGJveGVzTGlzdC5zYW5kYm94W2ZdPWUsTS5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBQMlBIYW5kbGVyU3R1Yl0gLSAiLHQsIiAtICIsZiksdShzLnAycEhhbmRsZXJTdHViW3RdKTtlbHNle2w9ci5wMnBSZXF1ZXN0ZXJTdHViLGY9InJ1bnRpbWU6Ly8iKygwLE8uZGl2aWRlVVJMKShyLnJlbW90ZVJ1bnRpbWVVUkwpLmRvbWFpbisiL3AycHJlcXVlc3Rlci8iKygwLE8uZ2VuZXJhdGVHVUlEKSgpLE0uaW5mbygiW1JlZ2lzdHJ5IC0gcmVnaXN0ZXJTdHViIC0gUDJQUmVxdWVzdGVyU3R1Yl0gLSAiLGwsIiAtICIsZikscy5wMnBIYW5kbGVyQXNzb2NpYXRpb25bcy5ydW50aW1lVVJMXS5wdXNoKGYpLHMucDJwUmVxdWVzdGVyU3R1Ylt0XT17dXJsOmYsc3RhdHVzOkwuQ1JFQVRFRH0scy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbZl09ZTt2YXIgZD17dHlwZToic3Vic2NyaWJlIixmcm9tOnMucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrcy5fZG9tYWluKyIvc20iLGJvZHk6e3N1YnNjcmliZTpbZl0sc291cmNlOnMucmVnaXN0cnlVUkx9fTtzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQsZnVuY3Rpb24oZSl7fSksdShzLnAycFJlcXVlc3RlclN0dWJbdF0pfWVsc2UgZj0ic3RyaW5nIj09PSEodm9pZCAwPT09aT8idW5kZWZpbmVkIjooMCxvLmRlZmF1bHQpKGkpKSYmaS5oYXNPd25Qcm9wZXJ0eSgiX2ludGVyd29ya2luZyIpJiZpLl9pbnRlcndvcmtpbmc/InJ1bnRpbWU6Ly8iK3QrIi9wcm90b3N0dWIvc2NoZW1lMSI6InJ1bnRpbWU6Ly8iK3QrIi9wcm90b3N0dWIvIisoMCxPLmdlbmVyYXRlR1VJRCkoKSxNLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIE5vcm1hbCBTdHViXSAtICIsdCkscy5wcm90b3N0dWJzTGlzdFt0XT17dXJsOmYsc3RhdHVzOkwuREVQTE9ZSU5HfSxuJiYocy5wcm90b3N0dWJzTGlzdFt0XS5kZXNjcmlwdG9yVVJMPW4pLGEmJmEuaW50ZXJ3b3JraW5nJiYocy5wcm90b3N0dWJzTGlzdFt0XS5pbnRlcndvcmtpbmc9YS5pbnRlcndvcmtpbmcpLHMuc2FuZGJveGVzTGlzdC5zYW5kYm94W2ZdPWUsdShzLnByb3Rvc3R1YnNMaXN0W3RdKTtzLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGYrIi9zdGF0dXMiLGZ1bmN0aW9uKGUpe3MuX29uUHJvdG9zdHViU3RhdHVzRXZlbnQoZSl9KX0pfX0se2tleToiX29uUHJvdG9zdHViU3RhdHVzRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb207aWYoIWUudG8uaW5jbHVkZXMoIi9zdGF0dXMiKSlyZXR1cm4gdm9pZCBNLmVycm9yKCJbUmVnaXN0cnkgb25Qcm90b3N0dWJTdGF0dXNFdmVudF0gTm90IFN0YXR1cyBFdmVudDogIixlKTtpZihyLmluY2x1ZGVzKCIvcHJvdG9zdHViLyIpKSgwLHMuZGVmYXVsdCkodC5wcm90b3N0dWJzTGlzdCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3Rvc3R1YnNMaXN0W2VdLnVybD09PXJ9KS5tYXAoZnVuY3Rpb24ocil7dC5wcm90b3N0dWJzTGlzdFtyXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfSk7ZWxzZSBpZihlLmJvZHkucmVzb3VyY2Upe3ZhciBuPWUuYm9keS5yZXNvdXJjZTtpZih0LnAycENvbm5lY3Rpb25MaXN0W25dKXQucDJwQ29ubmVjdGlvbkxpc3Rbbl0uc3RhdHVzPWUuYm9keS52YWx1ZSx0LnAycENvbm5lY3Rpb25MaXN0W25dLnVybD1yO2Vsc2V7dmFyIG89e3N0YXR1czplLmJvZHkudmFsdWUsdXJsOnJ9O3QucDJwQ29ubmVjdGlvbkxpc3Rbbl09b31yLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpP3QucDJwUmVxdWVzdGVyU3R1YltuXS5zdGF0dXM9ZS5ib2R5LnZhbHVlOiJkaXNjb25uZWN0ZWQiPT09ZS5ib2R5LnZhbHVlJiZkZWxldGUgdC5wMnBDb25uZWN0aW9uTGlzdFtuXX1lbHNle2lmKHIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIikpcmV0dXJuIHZvaWQgTS5lcnJvcigiW1JlZ2lzdHJ5IG9uUHJvdG9zdHViU3RhdHVzRXZlbnRdIHJlc291cmNlIG1pc3Npbmc6ICIsZSk7dC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdLnN0YXR1cz1lLmJvZHkudmFsdWV9fX0se2tleToidW5yZWdpc3RlclN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnByb3Rvc3R1YnNMaXN0Lmhhc093blByb3BlcnR5KGUpPyhkZWxldGUgdC5wcm90b3N0dWJzTGlzdFtlXSxyKCJQcm90b3N0dWJVUkwgcmVtb3ZlZCIpKTpuKCJFcnJvciBvbiB1bnJlZ2lzdGVyU3R1YjogSHlwZXJ0eSBub3QgZm91bmQiKX0pfX0se2tleToicmVnaXN0ZXJJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9dm9pZCAwO3ZvaWQgMD09PXIuX21lc3NhZ2VCdXMmJm8oIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLGk9ImRvbWFpbi1pZHA6Ly8iK3QrIi9zdHViLyIrKDAsTy5nZW5lcmF0ZUdVSUQpKCksci5pZHBQcm94eUxpc3RbdF09e3VybDppLHN0YXR1czpMLkRFUExPWUlOR30sci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbaV09ZSxuKGkpLHIuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoaSsiL3N0YXR1cyIsZnVuY3Rpb24oZSl7ci5fb25JZHBQcm94eVN0YXR1c0V2ZW50KGUpfSl9KX19LHtrZXk6Il9vbklkcFByb3h5U3RhdHVzRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb207aWYoIWUudG8uaW5jbHVkZXMoIi9zdGF0dXMiKSlyZXR1cm4gdm9pZCBNLmVycm9yKCJbUmVnaXN0cnkgb25JZHBQcm94eVN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpOygwLHMuZGVmYXVsdCkodC5pZHBQcm94eUxpc3QpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pZHBQcm94eUxpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LmlkcFByb3h5TGlzdFtyXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfSl9fSx7a2V5OiJkaXNjb3ZlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLE8uZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KG4pJiZ0LmlkcFByb3h5TGlzdFtuXS5zdGF0dXM9PT1MLkxJVkUpcmV0dXJuIHQuaWRwUHJveHlMaXN0W25dO3Rocm93IHQuaWRwUHJveHlMaXN0W25dPXtzdGF0dXM6TC5QUk9HUkVTU30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlcklkcFByb3h5IF0gSWRwIFByb3h5IE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9fSx7a2V5OiJyZWdpc3RlclBFUCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4pe3IucGVwTGlzdFt0XT1lLG4oIlBFUCByZWdpc3RlcmVkIHdpdGggc3VjY2VzcyIpfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyUEVQIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dm9pZCAwPT09dC5wZXBMaXN0W2VdP24oIlBlcCBOb3QgZm91bmQuIik6cigiUEVQIHN1Y2Nlc3NmdWxseSByZW1vdmVkLiIpfSl9fSx7a2V5OiJnZXRTYW5kYm94Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9dm9pZCAwO2lmKCEoaT1yLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFtlXSkmJiEoaT1yLnNhbmRib3hlc0xpc3Quc2FuZGJveFtlXSkpe3ZhciBhPXZvaWQgMDthPWUuaW5jbHVkZXMoIjovLyIpPygwLE8uZGl2aWRlVVJMKShlKS5kb21haW46ZTtmb3IodmFyIHUgaW4gci5zYW5kYm94ZXNMaXN0LnNhbmRib3gpaWYodS5pbmNsdWRlcyhhKSYmci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbdV0ubWF0Y2hlcyh0KSl7dmFyIGM9ZnVuY3Rpb24oKXt2YXIgZT1yLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XTtyZXR1cm4oMCxzLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4iYnJvd3NlciI9PT10JiZlLnR5cGU9PT12LlNhbmRib3hUeXBlLk5PUk1BTHx8IndpbmRvd1NhbmJveCI9PT10JiZlLnR5cGU9PT12LlNhbmRib3hUeXBlLldJTkRPV30pLmxlbmd0aD4wJiYoaT1lKSwiYnJlYWsifSgpO2lmKCJicmVhayI9PT1jKWJyZWFrfX1pP24oaSk6bygibm8gc2FuZGJveCBmb3VuZCBmb3I6ICIrZSl9KX19LHtrZXk6InJlc29sdmVOb3JtYWxTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89KDAsTy5kaXZpZGVVUkwpKGUpLGk9by5kb21haW4scz1vLnR5cGU7ZS5pbmNsdWRlcyh0LnJ1bnRpbWVVUkwpJiYoTS5lcnJvcigiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gVVJMIHRvIGJlIHJlc29sdmVkIHNob3VsZCBoYXZlIGxpc3RlbmVycyAiLGUpLG4oIltSZWdpc3RyeSAtIHJlc29sdmVdIFVSTCB0byBiZSByZXNvbHZlZCBzaG91bGQgaGF2ZSBsaXN0ZW5lcnMgIixlKSksZS5pbmNsdWRlcygiZ2xvYmFsOi8vcmVnaXN0cnkiKT9pPXQuX2RvbWFpbjppLmluZGV4T2YoIm1zZy1ub2RlLiIpJiZpLmluZGV4T2YoInJlZ2lzdHJ5LiIpfHwoaT1pLnN1YnN0cmluZyhpLmluZGV4T2YoIi4iKSsxKSksdC5pc0xlZ2FjeShlKS50aGVuKGZ1bmN0aW9uKG8pe28mJiJkb21haW4taWRwIiE9PXMmJihpPXMrIi4iKygwLE8uZ2V0VXNlcklkZW50aXR5RG9tYWluKShlKSksTS5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gZG9tYWluVXJsOiIsaSk7dmFyIGE9dm9pZCAwO2E9ImRvbWFpbi1pZHAiPT09cz8hIXQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KGkpJiZ0LmlkcFByb3h5TGlzdFtpXTohIXQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkoaSkmJnQucHJvdG9zdHVic0xpc3RbaV0sTS5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gcmVnaXN0cmVkOiIsYSksYSYmYS5oYXNPd25Qcm9wZXJ0eSgic3RhdHVzIikmJihhLnN0YXR1cz09PUwuREVQTE9ZRUR8fGEuc3RhdHVzPT09TC5DUkVBVEVEfHxhLnN0YXR1cz09PUwuTElWRXx8YS5zdGF0dXM9PT1MLkRJU0NPTk5FQ1RFRCk/KE0uaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVdIFJlc29sdmVkOiAiLGEudXJsLGEuc3RhdHVzKSxyKGEudXJsKSk6ImRvbWFpbi1pZHAiPT09cz8odC53YXRjaGluZ1lvdS5vYnNlcnZlKCJpZHBQcm94eUxpc3QiLGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5cGF0aDtuLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG49bi5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG49PT1pJiYic3RhdHVzIj09PWUubmFtZSYmZS5uZXdWYWx1ZT09PUwuQ1JFQVRFRCYmcih0LmlkcFByb3h5TGlzdFtpXS51cmwpfSksYXx8KE0uaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVOb3JtYWxTdHViXSBkZXBsb3kgbmV3IElEUFByb3h5OiAiLGkpLHQubG9hZGVyLmxvYWRJZHBQcm94eShpKS50aGVuKGZ1bmN0aW9uKCl7TS5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIElkUCBQcm94eSBkZXBsb3llZDogIix0LmlkcFByb3h5TGlzdFtpXSl9KS5jYXRjaChmdW5jdGlvbihlKXtNLmVycm9yKCJbUmVnaXN0cnkucmVzb2x2ZV0gRXJyb3IgcmVzb2x2aW5nIExvYWQgSURQUHJveHk6ICIsZSksdC5pZHBQcm94eUxpc3RbaV0uc3RhdHVzPSJkZXBsb3ltZW50LWZhaWxlZCIsbihlKX0pKSk6KHQud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgicHJvdG9zdHVic0xpc3QiLGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5cGF0aDtuLmluY2x1ZGVzKCJzdGF0dXMiKSYmKG49bi5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLG49PT1pJiYic3RhdHVzIj09PWUubmFtZSYmZS5uZXdWYWx1ZT09PUwuQ1JFQVRFRCYmcih0LnByb3Rvc3R1YnNMaXN0W2ldLnVybCl9KSxhfHwoTS5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gdHJpZ2dlciBuZXcgUHJvdG9jb2xTdHViOiAiLGkpLHQubG9hZGVyLmxvYWRTdHViKGkpLnRoZW4oZnVuY3Rpb24oKXt9KS5jYXRjaChmdW5jdGlvbihlKXtNLmVycm9yKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIEVycm9yIHJlc29sdmluZyBMb2FkIFByb3RvY29sU3R1YjogIixlKSxuKGUpfSkpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe00uZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgaXNsZWdhY3k6ICIsZSksbihlKX0pfSl9fSx7a2V5OiJyZXNvbHZlIix2YWx1ZTpmdW5jdGlvbihlKXtNLmluZm8oIltSZWdpc3RyeSAtIFJlc29sdmVdIC0gICIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPWUudG8/ZS50bzplLGk9ISghZS5ib2R5fHwhZS5ib2R5LnAycCkmJmUuYm9keS5wMnA7IXQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXXx8KDAsTy5pc0JhY2tlbmRTZXJ2aWNlVVJMKShvKXx8by5pbmNsdWRlcyh0LnJ1bnRpbWVVUkwpfHxvLmluY2x1ZGVzKCIvcDJwaGFuZGxlci8iKXx8by5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKT8oTS5pbmZvKCJbUmVnaXN0cnkgLSByZXNvbHZlXSAtIFJlc29sdmUgbm9ybWFsIHN0dWI6ICIsdC5wMnBIYW5kbGVyU3R1Yix0LnJ1bnRpbWVVUkwsKDAsTy5pc0JhY2tlbmRTZXJ2aWNlVVJMKShvKSxpLG8pLHQucmVzb2x2ZU5vcm1hbFN0dWIobykudGhlbihmdW5jdGlvbihlKXtyKGUpfSkpOihNLmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gY2hlY2tQMlA6ICIsaSxvLHQuX3AycENvbm5lY3Rpb25SZXNvbHZlKSx0Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZS5jaGVja1AyUChlKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBzPXQucDJwQ29ubmVjdGlvbkxpc3Rbbi5ydW50aW1lXTtzd2l0Y2goc3x8KHM9bix0LnAycENvbm5lY3Rpb25MaXN0W24ucnVudGltZV09cykscy5zdGF0dXMpe2Nhc2UgTC5MSVZFOmUuYm9keS5wZWVyPW4ucnVudGltZSxyKHMudXJsLGUpO2JyZWFrO2Nhc2UgTC5DUkVBVEVEOmNhc2UgTC5QUk9HUkVTUzp0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pO2JyZWFrO2Nhc2UgTC5ESVNDT05ORUNURUQ6TS5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIHAycENvbm5lY3Rpb24gaXMgZGlzY29ubmVjdGVkIGxldHMgdHJ5IHRvIHJlY29ubmVjdCIpLHQuX3AycENvbm5lY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3RlcihzKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9LGZ1bmN0aW9uKGUpe00uaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihvKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pO2JyZWFrO2RlZmF1bHQ6TS5pbmZvKCJbUmVnaXN0cnkgLSByZXNvbHZlXSAtIFAyUDogIixpKSxpP3QuX3NldHVwUDJQUmVxdWVzdGVyKG4pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7TS5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKG8pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSk6dC5yZXNvbHZlTm9ybWFsU3R1YihvKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX19LGZ1bmN0aW9uKGUpe00uaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihvKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pKX0pfX0se2tleToiX3NldHVwUDJQUmVxdWVzdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBNLmxvZygiW1JlZ2lzdHJ5Ll9zZXR1cFAyUENvbm5lY3Rpb25dIGxvYWRTdHViIHdpdGggcDJwUmVxdWVzdGVyOiAiLGUpLG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz1lLnJ1bnRpbWUsaT17cmVtb3RlUnVudGltZVVSTDpvLHAycEhhbmRsZXI6ZS5wMnBIYW5kbGVyLHAycFJlcXVlc3RlclN0dWI6ITB9O3Qud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgicDJwUmVxdWVzdGVyU3R1YiIsZnVuY3Rpb24oZSl7TS5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5wMnBSZXF1ZXN0ZXJTdHViKSxlLmtleXBhdGguc3BsaXQoIi4iKVswXT09PW8mJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TC5MSVZFJiYoTS5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgaXMgbGl2ZSAiK3QucDJwUmVxdWVzdGVyU3R1YltvXSkscih0LnAycFJlcXVlc3RlclN0dWJbb10udXJsKSl9KSx0LmxvYWRlci5sb2FkU3R1YihlLnAycFJlcXVlc3RlcixpKS50aGVuKGZ1bmN0aW9uKCl7TS5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgZGVwbG95ZWQ6ICIsdC5wMnBSZXF1ZXN0ZXJTdHViW29dKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiaXNMZWdhY3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlPT09dC5fZG9tYWluKXJldHVybiByKCExKTtNLmxvZygiW1JlZ2lzdHJ5XSBbUmVnaXN0cnkuUmVnaXN0cnkuaXNMZWdhY3ldICIsZSk7dmFyIG89WyJoeXBlcnR5LXJ1bnRpbWUiLCJkb21haW4iLCJnbG9iYWwiLCJoeXBlcnR5Il0saT0oMCxPLmRpdmlkZVVSTCkoZSk7aWYoLTEhPT1vLmluZGV4T2YoaS50eXBlKXx8aS5kb21haW49PT10Ll9kb21haW4pcmV0dXJuIHIoITEpO2lmKGUuc3BsaXQoIkAiKS5sZW5ndGg+MSl7dmFyIHM9aS5kb21haW47aWYodC5pZHBMZWdhY3lQcm94eUxpc3QuaGFzT3duUHJvcGVydHkocykpe3ZhciBhPXQuaWRwTGVnYWN5UHJveHlMaXN0W3NdO3JldHVybiByKGEuaW50ZXJ3b3JraW5nP2EuaW50ZXJ3b3JraW5nOiExKX10Ll9sb2FkZXIuZGVzY3JpcHRvcnMuZ2V0SWRwUHJveHlEZXNjcmlwdG9yKHMpLnRoZW4oZnVuY3Rpb24oZSl7ZS5pbnRlcndvcmtpbmc/KHQuaWRwTGVnYWN5UHJveHlMaXN0W3NdPWUscihlLmludGVyd29ya2luZykpOnIoITEpfSkuY2F0Y2goZnVuY3Rpb24oZSl7TS53YXJuKCJwcm9ibGVtIGxvYWRpbmcgaWRwIHByb3h5IGRlc2NyaXB0b3IgZm9yIGRvbWFpbjoiLHMsIiBiZWNhdXNlICIsZSksbihlKX0pfWVsc2Ugcih0LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKGUpKX0pfX0se2tleToiaXNMb2NhbCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJoeXBlcnR5LXJ1bnRpbWUiLCJydW50aW1lIl0scj1bImh5cGVydHkiXSxuPWUuc3BsaXQoIjovLyIpWzBdO2lmKC0xIT09dC5pbmRleE9mKG4pKXJldHVybiBlLmluY2x1ZGVzKHRoaXMucnVudGltZVVSTCk7aWYoLTEhPT1yLmluZGV4T2Yobikpe2Zvcih2YXIgbyBpbiB0aGlzLmh5cGVydGllc0xpc3Qpe2lmKHRoaXMuaHlwZXJ0aWVzTGlzdFtvXS5oeXBlcnR5VVJMPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX1lLmluY2x1ZGVzKCIvc3Vic2NyaXB0aW9uIikmJihlPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCIvc3Vic2NyaXB0aW9uIikpKTt2YXIgaT10aGlzLmRhdGFPYmplY3RMaXN0W2VdO3JldHVybiEhaSYmKCFpLmludGVyd29ya2luZ3x8IWkuaW50ZXJ3b3JraW5nKX19LHtrZXk6ImlzSW50ZXJ3b3JraW5nUHJvdG9TdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiJib29sZWFuIiE9dHlwZW9mIGUmJighIWUuaW5jbHVkZXMoIi9wcm90b3N0dWIvIikmJigwLHMuZGVmYXVsdCkodC5wcm90b3N0dWJzTGlzdCkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiB0LnByb3Rvc3R1YnNMaXN0W3JdLnVybD09PWV9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuISF0LnByb3Rvc3R1YnNMaXN0W2VdLmhhc093blByb3BlcnR5KCJpbnRlcndvcmtpbmciKSYmdC5wcm90b3N0dWJzTGlzdFtlXS5pbnRlcndvcmtpbmd9KVswXSl9fSx7a2V5OiJsb2FkZXIiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9sb2FkZXI9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlcn19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9tZXNzYWdlQnVzPWUsdC5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcih0LnJlZ2lzdHJ5VVJMLGZ1bmN0aW9uKGUpeygwLE8uaXNIeXBlcnR5VVJMKShlLmZyb20pLGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgiY3JpdGVyaWEiKTtlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc291cmNlIikmJiIuIiE9PWUuYm9keS5yZXNvdXJjZSYmKCgwLE8uaXNVUkwpKGUuYm9keS5yZXNvdXJjZSksKDAsTy5pc1VzZXJVUkwpKGUuYm9keS5yZXNvdXJjZSksKDAsTy5pc0h5cGVydHlVUkwpKGUuYm9keS5yZXNvdXJjZSkpO2UudHlwZTtpZihlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJihlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSxlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoInVzZXIiKSksInJlc3BvbnNlIj09PWUudHlwZSlyZXR1cm4gdm9pZCBNLmVycm9yKCJbUmVnaXN0ZXIgbGlzdGVuZXJdIHNraXBwaW5nICIsZSk7dmFyIHI9dC5fZ2V0SWRlbnRpdHlBc3NvY2lhdGVkKGUuYm9keS5yZXNvdXJjZSxlLmJvZHkuY3JpdGVyaWEpLG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7cmVzb3VyY2U6cn19O24uYm9keS5jb2RlPXI/MjAwOjQwNCx0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG4pfSk7dmFyIHI9Yi5kZWZhdWx0Lmluc3RhbmNlO3QuYWRkcmVzc0FsbG9jYXRpb249cix0Ll9kb21haW5SZWdpc3RyYXRpb249bmV3IHcuZGVmYXVsdCh0LnJ1bnRpbWVVUkwsdC5yZWdpc3RyeVVSTCx0Ll9kb21haW4sZSl9fV0pLFJlZ2lzdHJ5fSgpO3QuZGVmYXVsdD14LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDUpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cigxMzcpLHIoMTkwKSxlLmV4cG9ydHM9cigxNDEpLmYoIml0ZXJhdG9yIil9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0NDgpLHIoMTg1KSxyKDQ1Mykscig0NTQpLGUuZXhwb3J0cz1yKDEzKS5TeW1ib2x9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNyksbz1yKDU3KSxpPXIoNDYpLHM9cigyMSksYT1yKDE4NyksdT1yKDQ0OSkuS0VZLGM9cig2NiksZj1yKDEzMiksbD1yKDk2KSxkPXIoOTQpLHA9cigyMikseT1yKDE0MSksaD1yKDE0Miksdj1yKDQ1MCksZz1yKDQ1MSksYj1yKDQwKSxfPXIoNDEpLG09cig0NSksUj1yKDEzNiksdz1yKDc2KSxTPXIoMTM4KSxrPXIoNDUyKSxPPXIoMTQzKSxQPXIoMzkpLE09cig2NCksTD1PLmYseD1QLmYsQT1rLmYsRD1uLlN5bWJvbCxVPW4uSlNPTixqPVUmJlUuc3RyaW5naWZ5LEk9cCgiX2hpZGRlbiIpLEU9cCgidG9QcmltaXRpdmUiKSxUPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEM9Zigic3ltYm9sLXJlZ2lzdHJ5IikscT1mKCJzeW1ib2xzIiksRj1mKCJvcC1zeW1ib2xzIiksSD1PYmplY3QucHJvdG90eXBlLE49ImZ1bmN0aW9uIj09dHlwZW9mIEQsQj1uLlFPYmplY3QsRz0hQnx8IUIucHJvdG90eXBlfHwhQi5wcm90b3R5cGUuZmluZENoaWxkLEs9aSYmYyhmdW5jdGlvbigpe3JldHVybiA3IT1TKHgoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geCh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49TChILHQpO24mJmRlbGV0ZSBIW3RdLHgoZSx0LHIpLG4mJmUhPT1IJiZ4KEgsdCxuKX06eCxWPWZ1bmN0aW9uKGUpe3ZhciB0PXFbZV09UyhELnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSx0fSxXPU4mJiJzeW1ib2wiPT10eXBlb2YgRC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRH0sWT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9PT1IJiZZKEYsdCxyKSxiKGUpLHQ9Uih0LCEwKSxiKHIpLG8ocSx0KT8oci5lbnVtZXJhYmxlPyhvKGUsSSkmJmVbSV1bdF0mJihlW0ldW3RdPSExKSxyPVMocix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihvKGUsSSl8fHgoZSxJLHcoMSx7fSkpLGVbSV1bdF09ITApLEsoZSx0LHIpKTp4KGUsdCxyKX0sej1mdW5jdGlvbihlLHQpe2IoZSk7Zm9yKHZhciByLG49dih0PW0odCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspWShlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxKPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/UyhlKTp6KFMoZSksdCl9LFo9ZnVuY3Rpb24oZSl7dmFyIHQ9VC5jYWxsKHRoaXMsZT1SKGUsITApKTtyZXR1cm4hKHRoaXM9PT1IJiZvKHEsZSkmJiFvKEYsZSkpJiYoISh0fHwhbyh0aGlzLGUpfHwhbyhxLGUpfHxvKHRoaXMsSSkmJnRoaXNbSV1bZV0pfHx0KX0sUT1mdW5jdGlvbihlLHQpe2lmKGU9bShlKSx0PVIodCwhMCksZSE9PUh8fCFvKHEsdCl8fG8oRix0KSl7dmFyIHI9TChlLHQpO3JldHVybiFyfHwhbyhxLHQpfHxvKGUsSSkmJmVbSV1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9fSwkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPUEobShlKSksbj1bXSxpPTA7ci5sZW5ndGg+aTspbyhxLHQ9cltpKytdKXx8dD09SXx8dD09dXx8bi5wdXNoKHQpO3JldHVybiBufSxYPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWU9PT1ILG49QShyP0Y6bShlKSksaT1bXSxzPTA7bi5sZW5ndGg+czspIW8ocSx0PW5bcysrXSl8fHImJiFvKEgsdCl8fGkucHVzaChxW3RdKTtyZXR1cm4gaX07Tnx8KEQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgRCl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1IJiZ0LmNhbGwoRixyKSxvKHRoaXMsSSkmJm8odGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEsodGhpcyxlLHcoMSxyKSl9O3JldHVybiBpJiZHJiZLKEgsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShELnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxQLmY9WSxyKDIwMSkuZj1rLmY9JCxyKDc4KS5mPVoscigxNDApLmY9WCxpJiYhcig3NSkmJmEoSCwicHJvcGVydHlJc0VudW1lcmFibGUiLFosITApLHkuZj1mdW5jdGlvbihlKXtyZXR1cm4gVihwKGUpKX0pLHMocy5HK3MuVytzLkYqIU4se1N5bWJvbDpEfSk7Zm9yKHZhciBlZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIiksdGU9MDtlZS5sZW5ndGg+dGU7KXAoZWVbdGUrK10pO2Zvcih2YXIgcmU9TShwLnN0b3JlKSxuZT0wO3JlLmxlbmd0aD5uZTspaChyZVtuZSsrXSk7cyhzLlMrcy5GKiFOLCJTeW1ib2wiLHtmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oQyxlKz0iIik/Q1tlXTpDW2VdPUQoZSl9LGtleUZvcjpmdW5jdGlvbihlKXtpZighVyhlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIHN5bWJvbCEiKTtmb3IodmFyIHQgaW4gQylpZihDW3RdPT09ZSlyZXR1cm4gdH0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Rz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Rz0hMX19KSxzKHMuUytzLkYqIU4sIk9iamVjdCIse2NyZWF0ZTpKLGRlZmluZVByb3BlcnR5OlksZGVmaW5lUHJvcGVydGllczp6LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpRLGdldE93blByb3BlcnR5TmFtZXM6JCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6WH0pLFUmJnMocy5TK3MuRiooIU58fGMoZnVuY3Rpb24oKXt2YXIgZT1EKCk7cmV0dXJuIltudWxsXSIhPWooW2VdKXx8Int9IiE9aih7YTplfSl8fCJ7fSIhPWooT2JqZWN0KGUpKX0pKSwiSlNPTiIse3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQscixuPVtlXSxvPTE7YXJndW1lbnRzLmxlbmd0aD5vOyluLnB1c2goYXJndW1lbnRzW28rK10pO2lmKHI9dD1uWzFdLChfKHQpfHx2b2lkIDAhPT1lKSYmIVcoZSkpcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LGouYXBwbHkoVSxuKX19KSxELnByb3RvdHlwZVtFXXx8cig1OCkoRC5wcm90b3R5cGUsRSxELnByb3RvdHlwZS52YWx1ZU9mKSxsKEQsIlN5bWJvbCIpLGwoTWF0aCwiTWF0aCIsITApLGwobi5KU09OLCJKU09OIiwhMCl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDk0KSgibWV0YSIpLG89cig0MSksaT1yKDU3KSxzPXIoMzkpLmYsYT0wLHU9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hcig2NikoZnVuY3Rpb24oKXtyZXR1cm4gdShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGY9ZnVuY3Rpb24oZSl7cyhlLG4se3ZhbHVlOntpOiJPIisgKythLHc6e319fSl9LGw9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxuKSl7aWYoIXUoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtmKGUpfXJldHVybiBlW25dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtmKGUpfXJldHVybiBlW25dLnd9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGMmJnkuTkVFRCYmdShlKSYmIWkoZSxuKSYmZihlKSxlfSx5PWUuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmwsZ2V0V2VhazpkLG9uRnJlZXplOnB9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cig2NCksbz1yKDE0MCksaT1yKDc4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlKSxyPW8uZjtpZihyKWZvcih2YXIgcyxhPXIoZSksdT1pLmYsYz0wO2EubGVuZ3RoPmM7KXUuY2FsbChlLHM9YVtjKytdKSYmdC5wdXNoKHMpO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzQpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDUpLG89cigyMDEpLmYsaT17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2goZSl7cmV0dXJuIHMuc2xpY2UoKX19O2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09aS5jYWxsKGUpP2EoZSk6byhuKGUpKX19LGZ1bmN0aW9uKGUsdCxyKXtyKDE0MikoImFzeW5jSXRlcmF0b3IiKX0sZnVuY3Rpb24oZSx0LHIpe3IoMTQyKSgib2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlNhbmRib3hUeXBlPXZvaWQgMDt2YXIgbj1yKDMxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoNTkpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY3KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDY4KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQ2NSksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLF89cig0NjYpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfKSxSPSh0LlNhbmRib3hUeXBlPXtBUFA6ImFwcCIsTk9STUFMOiJub3JtYWwiLFdJTkRPVzoid2luZG93In0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gU2FuZGJveChlKXsoMCxmLmRlZmF1bHQpKHRoaXMsU2FuZGJveCk7dmFyIHQ9KDAseS5kZWZhdWx0KSh0aGlzLChTYW5kYm94Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShTYW5kYm94KSkuY2FsbCh0aGlzKSkscj10O3JldHVybiBlJiYoci5jYXBhYmlsaXRpZXM9ZSksdH1yZXR1cm4oMCx2LmRlZmF1bHQpKFNhbmRib3gsZSksKDAsZC5kZWZhdWx0KShTYW5kYm94LFt7a2V5OiJkZXBsb3lDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXt2YXIgYT17dHlwZToiY3JlYXRlIixmcm9tOmIuZGVmYXVsdC5FeHRlcm5hbERlcGxveUFkZHJlc3MsdG86Yi5kZWZhdWx0LkludGVybmFsRGVwbG95QWRkcmVzcyxib2R5Ont1cmw6dCxzb3VyY2VDb2RlOmUsY29uZmlnOnIsbGliczpufX07by5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpezIwMD09PWUuYm9keS5jb2RlP2koImRlcGxveWVkIik6cyhlLmJvZHkuZGVzYyl9KX0pfX0se2tleToicmVtb3ZlQ29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89e3R5cGU6ImRlbGV0ZSIsZnJvbTpiLmRlZmF1bHQuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzLHRvOmIuZGVmYXVsdC5JbnRlcm5hbERlcGxveUFkZHJlc3MsYm9keTp7dXJsOmV9fTt0LnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/cigidW5kZXBsb3llZCIpOm4oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im1hdGNoZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxvLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4hKHQuY2FwYWJpbGl0aWVzW3JdJiZ0LmNhcGFiaWxpdGllc1tyXT09PWVbcl0pfSk7cmV0dXJuIDA9PT1yLmxlbmd0aHx8IWVbcl19fV0pLFNhbmRib3h9KG0uZGVmYXVsdCkpO3QuZGVmYXVsdD1SfSxmdW5jdGlvbihlLHQscil7cig0NTcpLGUuZXhwb3J0cz1yKDEzKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDczKSxvPXIoMTg5KTtyKDEzNCkoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbyhuKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ1OSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXtyKDQ2MCksZS5leHBvcnRzPXIoMTMpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjpyKDQ2MSkuc2V0fSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQxKSxvPXIoNDApLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oZSx0LG4pe3RyeXtuPXIoNjUpKEZ1bmN0aW9uLmNhbGwscigxNDMpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gaShlLHIpLHQ/ZS5fX3Byb3RvX189cjpuKGUsciksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOml9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDYzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpe3IoNDY0KTt2YXIgbj1yKDEzKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSk7bihuLlMsIk9iamVjdCIse2NyZWF0ZTpyKDEzOCl9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2FuZGJveFJlZ2lzdHJ5KGUpeygwLG8uZGVmYXVsdCkodGhpcyxTYW5kYm94UmVnaXN0cnkpO3ZhciB0PXRoaXM7dC5fYnVzPWUsdC5fY29tcG9uZW50cz17fSxlLmFkZExpc3RlbmVyKFNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsZnVuY3Rpb24oZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJjcmVhdGUiOnQuX29uRGVwbG95KGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjp0Ll9vblJlbW92ZShlKX19KX1yZXR1cm4oMCxzLmRlZmF1bHQpKFNhbmRib3hSZWdpc3RyeSxbe2tleToiX3Jlc3BvbnNlTXNnIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206U2FuZGJveFJlZ2lzdHJ5LkludGVybmFsRGVwbG95QWRkcmVzcyx0bzpTYW5kYm94UmVnaXN0cnkuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzfSxvPXt9O3JldHVybiB0JiYoby5jb2RlPXQpLHImJihvLmRlc2M9ciksbi5ib2R5PW8sbn19LHtrZXk6Il9vbkRlcGxveSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5jb25maWcsbj1lLmJvZHkudXJsLG89ZS5ib2R5LnNvdXJjZUNvZGUsaT12b2lkIDAscz12b2lkIDA7aWYodC5fY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShuKSlpPTUwMCxzPSJJbnN0YW5jZSAiK24rIiBhbHJlYWR5IGV4aXN0ISI7ZWxzZSB0cnl7dC5fY29tcG9uZW50c1tuXT10Ll9jcmVhdGUobixvLHIpLGk9MjAwfWNhdGNoKGUpe2k9NTAwLHM9ZX12YXIgYT10Ll9yZXNwb25zZU1zZyhlLGkscyk7dC5fYnVzLnBvc3RNZXNzYWdlKGEpfX0se2tleToiX29uUmVtb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnVybCxuPXZvaWQgMCxvPXZvaWQgMDt0Ll9jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpPyhkZWxldGUgdC5fY29tcG9uZW50c1tyXSx0Ll9idXMucmVtb3ZlQWxsTGlzdGVuZXJzT2Yociksbj0yMDApOihuPTUwMCxvPSJJbnN0YW5jZSAiK3IrIiBkb2Vzbid0IGV4aXN0ISIpO3ZhciBpPXQuX3Jlc3BvbnNlTXNnKGUsbixvKTt0Ll9idXMucG9zdE1lc3NhZ2UoaSl9fSx7a2V5OiJfY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7fX0se2tleToiY29tcG9uZW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHN9fV0pLFNhbmRib3hSZWdpc3RyeX0oKTthLkV4dGVybmFsRGVwbG95QWRkcmVzcz0iaHlwZXJ0eS1ydW50aW1lOi8vc2FuZGJveC9leHRlcm5hbCIsYS5JbnRlcm5hbERlcGxveUFkZHJlc3M9Imh5cGVydHktcnVudGltZTovL3NhbmRib3gvaW50ZXJuYWwiLHQuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNTkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDY3KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIwMikseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gTWluaUJ1cygpe3JldHVybigwLHMuZGVmYXVsdCkodGhpcyxNaW5pQnVzKSwoMCxmLmRlZmF1bHQpKHRoaXMsKE1pbmlCdXMuX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKE1pbmlCdXMpKS5jYWxsKHRoaXMpKX1yZXR1cm4oMCxkLmRlZmF1bHQpKE1pbmlCdXMsZSksKDAsdS5kZWZhdWx0KShNaW5pQnVzLFt7a2V5OiJwb3N0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG4uX2dlbklkKGUpLG4uX3Jlc3BvbnNlQ2FsbGJhY2soZSx0LHIpLG4uX29uUG9zdE1lc3NhZ2UoZSksZS5pZH19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj8odC5fcHVibGlzaE9uKHIsZSksZS50by5zdGFydHNXaXRoKCJoeXBlcnR5Iil8fHQuX3B1Ymxpc2hPbkRlZmF1bHQoZSkpOnQuX3B1Ymxpc2hPbkRlZmF1bHQoZSl9fX1dKSxNaW5pQnVzfSh5LmRlZmF1bHQpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzKSxvPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnN0cmluZ2lmeS5hcHBseShvLGFyZ3VtZW50cyl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSZWdpc3RyeURhdGFNb2RlbChlLHQscixuLGkscyxhLHUsYyl7KDAsby5kZWZhdWx0KSh0aGlzLFJlZ2lzdHJ5RGF0YU1vZGVsKTt2YXIgZj10aGlzO2YuX2lkPWUsZi5fdXJsPXQsZi5fZGVzY3JpcHRvclVSTD1yLGYuX3N0YXJ0aW5nVGltZT1pLGYuX2xhc3RNb2RpZmllZD1zLGYuX3N0YXR1cz1hLGYuX3N0dWJzPXUsZi5fc3R1YnNDb25maWd1cmF0aW9uPWMsZi5fcDJwUmVxdWVzdGVyPW59cmV0dXJuKDAscy5kZWZhdWx0KShSZWdpc3RyeURhdGFNb2RlbCxbe2tleToiaWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19LHtrZXk6ImRlc2NyaXB0b3JVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yVVJMfX0se2tleToicDJwUmVxdWVzdGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDJwUmVxdWVzdGVyfX0se2tleToibGFzdE1vZGlmaWVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdE1vZGlmaWVkfX1dKSxSZWdpc3RyeURhdGFNb2RlbH0oKTt0LmRlZmF1bHQ9YSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoOTkpLHk9cigyMDMpLGg9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksZC5nZXRMb2dnZXIoIlJlZ2lzdHJ5IikpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEb21haW5SZWdpc3RyYXRpb24oZSx0LHIsbil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLERvbWFpblJlZ2lzdHJhdGlvbiksIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJyZWdpc3RyeVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiZG9tYWluIGlzIG1pc3NpbmcuIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlQnVzIGlzIG1pc3NpbmcuIik7dmFyIG89dGhpcztvLnJlZ2lzdHJ5VVJMPXQsby5ydW50aW1lVVJMPWUsby5fcmVnaXN0cmF0aW9uUmV0cmllcz01LG8uZXhwaXJlc1RpbWU9MzYwMCxvLl9kb21haW49cixvLl9tZXNzYWdlQnVzPW59cmV0dXJuKDAsZi5kZWZhdWx0KShEb21haW5SZWdpc3RyYXRpb24sW3trZXk6InVucmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6InVwZGF0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3QuX2RvbWFpbixib2R5OntyZXNvdXJjZToiL2h5cGVydHkvIitlLHZhbHVlOiJkaXNjb25uZWN0ZWQiLGF0dHJpYnV0ZToic3RhdHVzIn19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtoLmxvZygiW0RvbWFpblJlZ2lzdHJhdGlvbl0gdW5yZWdpc3RlciBoeXBlcnR5IFJlcGx5IixlKX0pfX0se2tleToidW5yZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUsdmFsdWU6e3N0YXR1czoiZGlzY29ubmVjdGVkIn19fTt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24oZSl7aC5sb2coIltEb21haW5SZWdpc3RyYXRpb25dIHVucmVnaXN0ZXIgZGF0YU9iamVjdCBSZXBseSIsZSl9KX19LHtrZXk6ImRlbGV0ZURhdGFPYmplY3RJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOiJkZWxldGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIit0Ll9kb21haW4sYm9keTp7dmFsdWU6e25hbWU6ZX19fTt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24oZSl7aC5sb2coIltEb21haW5SZWdpc3RyYXRpb25dIHVucmVnaXN0ZXIgZGF0YU9iamVjdCBSZXBseSIsZSl9KX19LHtrZXk6InVwZGF0ZUh5cGVydHlJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e3R5cGU6IlVQREFURSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5OntyZXNvdXJjZTplLHZhbHVlOnR9fTtyLl9tZXNzYWdlQnVzLnBvc3QucG9zdE1lc3NhZ2UobixmdW5jdGlvbihlKXt9KX19LHtrZXk6InJlZ2lzdGVyRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsaT12b2lkIDAsYT12b2lkIDA7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocyx1KXt2YXIgYz1bXSxmPWUudXJsLnNwbGl0KCI6Iik7Yy5wdXNoKGZbMF0pLDAhPT0oMCxvLmRlZmF1bHQpKHIpLmxlbmd0aCYmKGk9cltuLnJ1bnRpbWVVUkxdLnVybCxhPXAucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLnAycFJlcXVlc3RlclN0dWIpLGUuc3RhcnRpbmdUaW1lPWUuY3JlYXRlZCxkZWxldGUgZS5hdXRob3Jpc2UsZGVsZXRlIGUuY3JlYXRlZCxkZWxldGUgZS5tdXR1YWwsZGVsZXRlIGUucmVzdW1lLGUuZXhwaXJlc3x8KGUuZXhwaXJlcz1uLmV4cGlyZXNUaW1lKSxlLmRhdGFTY2hlbWVzPWMsaSYmKGUucDJwSGFuZGxlcj1pLGUucDJwUmVxdWVzdGVyPWEpLGUuc3RhdHVzPSJsaXZlIjt2YXIgbD12b2lkIDA7dD8oaC5sb2coIltSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdIHJlZ2lzdGVyaW5nIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBkYXRhIG9iamVjdCBVUkwiLGUpLGw9e3R5cGU6InVwZGF0ZSIsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbi5fZG9tYWluLGZyb206bi5yZWdpc3RyeVVSTCxib2R5OntyZXNvdXJjZTplLnVybCx2YWx1ZTp7c3RhdHVzOiJsaXZlIn19fSk6KGgubG9nKCJbUmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0XSByZWdpc3RlcmluZyBuZXcgZGF0YSBvYmplY3QgVVJMIixlKSxsPXt0eXBlOiJjcmVhdGUiLGZyb206bi5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLl9kb21haW4sYm9keTp7dmFsdWU6ZSxwb2xpY3k6InBvbGljeSJ9fSk7dHJ5e24uX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhsLG4uX3JlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24odCl7MjAwPT09dC5ib2R5LmNvZGU/cyhlKTp1KCJlcnJvciBvbiByZWdpc3RlciBEYXRhT2JqZWN0Iil9KX1jYXRjaChlKXtoLmVycm9yKGUpLHUoZSl9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgdD17dHlwZToidXBkYXRlIixmcm9tOm4ucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbi5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUudXJsLHZhbHVlOntzdGF0dXM6ImxpdmUifSxtZXRob2Q6InJlZnJlc2gifX07bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKGUpe30pfSxlLmV4cGlyZXMvMS4xLzIqMWUzKX0pfX0se2tleToicmVnaXN0ZXJIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1yLnJ1bnRpbWVVUkwscz12b2lkIDAsYT1yLmV4cGlyZXNUaW1lLHU9e3VzZXI6ZS51c2VyLmVtYWlsLGRlc2NyaXB0b3I6ZS5kZXNjcmlwdG9yVVJMLHVybDplLmh5cGVydHlVUkwsZXhwaXJlczphLHJlc291cmNlczplLnJlc291cmNlcyxkYXRhU2NoZW1lczplLmRhdGFTY2hlbWVzLHJ1bnRpbWU6aSxzdGF0dXM6ImxpdmUifTtlLnAycEhhbmRsZXImJih1LnAycEhhbmRsZXI9ZS5wMnBIYW5kbGVyLHUucDJwUmVxdWVzdGVyPWUucDJwUmVxdWVzdGVyKSxlLmRlc2NyaXB0b3IuY29uZmlndXJhdGlvbiYmZS5kZXNjcmlwdG9yLmNvbmZpZ3VyYXRpb24uZXhwaXJlcyYmKGE9ZS5kZXNjcmlwdG9yLmNvbmZpZ3VyYXRpb24uZXhwaXJlcyksdD8ocz17dHlwZToidXBkYXRlIix0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9kb21haW4sZnJvbTpyLnJlZ2lzdHJ5VVJMLGJvZHk6e3Jlc291cmNlOmUuaHlwZXJ0eVVSTCx2YWx1ZTp7c3RhdHVzOiJsaXZlIix1c2VyOmUudXNlci5lbWFpbH19fSxlLnAycEhhbmRsZXImJihzLmJvZHkudmFsdWUucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIscy5ib2R5LnZhbHVlLnAycFJlcXVlc3Rlcj1lLnAycFJlcXVlc3RlcikpOnM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5Ont2YWx1ZTp1LHBvbGljeToicG9saWN5In19O3RyeXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMocyxyLl9yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKHQpe2lmKDIwMD09PXQuYm9keS5jb2RlKXt2YXIgaT17dXJsOmUuaHlwZXJ0eVVSTH07ZS5wMnBIYW5kbGVyJiYoaS5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcixpLnAycFJlcXVlc3Rlcj1lLnAycFJlcXVlc3RlciksbihpKX1lbHNle2lmKDQwNCE9PXQuYm9keS5jb2RlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlZ2lzdGVyIGFuIEh5cGVydHkgdG8gZG9tYWluOiAiLHQpO3M9e3R5cGU6ImNyZWF0ZSIsZnJvbTpyLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX2RvbWFpbixib2R5Ont2YWx1ZTp1LHBvbGljeToicG9saWN5In19O3RyeXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMocyxyLl9yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKHQpe2lmKDIwMCE9PXQuYm9keS5jb2RlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlZ2lzdGVyIGFuIEh5cGVydHk6ICIrdCk7dmFyIHI9e3VybDplLmh5cGVydHlVUkx9O2UucDJwSGFuZGxlciYmKHIucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIsci5wMnBSZXF1ZXN0ZXI9ZS5wMnBSZXF1ZXN0ZXIpLG4ocil9KX1jYXRjaChlKXtoLmVycm9yKGUpLG8oZSl9fX0pfWNhdGNoKGUpe2guZXJyb3IoZSksbyhlKX1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PXt0eXBlOiJ1cGRhdGUiLGZyb206ci5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9kb21haW4sYm9keTp7cmVzb3VyY2U6ZS5oeXBlcnR5VVJMLHZhbHVlOntzdGF0dXM6ImxpdmUifSxtZXRob2Q6InJlZnJlc2gifX07ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh0LGZ1bmN0aW9uKGUpe30pfSxhLzEuMS8yKjFlMyl9KX19XSksRG9tYWluUmVnaXN0cmF0aW9ufSgpO3QuZGVmYXVsdD12LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9Zi5nZXRMb2dnZXIoIlAyUENvbm5lY3Rpb25SZXNvbHZlIiksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIFAyUENvbm5lY3Rpb25SZXNvbHZlKGUpeygwLHMuZGVmYXVsdCkodGhpcyxQMlBDb25uZWN0aW9uUmVzb2x2ZSk7dmFyIHQ9dGhpczt0Ll9yZWdpc3RyeT1lLHQuX3JlbW90ZVAyUEVudGl0aWVzPXt9fXJldHVybigwLHUuZGVmYXVsdCkoUDJQQ29ubmVjdGlvblJlc29sdmUsW3trZXk6ImNoZWNrUDJQIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5oYXNPd25Qcm9wZXJ0eSgidG8iKSlyZXR1cm4gby5kZWZhdWx0LnJlamVjdCgiVGhlIHAycCB2ZXJpZmljYXRpb24gd2FzIGZhaWxlZCIpO3ZhciB0PWUudG8uc3BsaXQoIjovLyIpWzBdLHI9ZS50by5zcGxpdCgiOi8vIilbMV0uc3BsaXQoIi8iKVsyXSxuPXZvaWQgMDtuPXI/ZS50by5zdWJzdHJpbmcoMCxlLnRvLmluZGV4T2YoIi8iK3IpKTplLnRvO3ZhciBpPXt9O3N3aXRjaChlLmJvZHkmJmUuYm9keS5wMnAmJihpLnAycD1lLmJvZHkucDJwKSxlLmJvZHkmJmUuYm9keS5wMnBIYW5kbGVyJiZlLmJvZHkucDJwUmVxdWVzdGVyJiYoaS5wMnBIYW5kbGVyPWUuYm9keS5wMnBIYW5kbGVyLGkucDJwUmVxdWVzdGVyPWUuYm9keS5wMnBSZXF1ZXN0ZXIsaS5ydW50aW1lPWUuYm9keS5wMnBIYW5kbGVyLnNwbGl0KCIvcDJwaGFuZGxlci8iKVswXSksdCl7Y2FzZSJydW50aW1lIjpyZXR1cm4gdGhpcy5jaGVja1AyUFJ1bnRpbWUobixpKTtkZWZhdWx0OnJldHVybiB0aGlzLmNoZWNrUDJQRW50aXR5KG4saSl9fX0se2tleToiY2hlY2tQMlBFbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3JlbW90ZVAyUEVudGl0aWVzW2VdO2lmKGkpbihpKTtlbHNlIGlmKHQucnVudGltZSluKHQpO2Vsc2UgaWYodC5wMnApe2wubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEVudGl0eV0gLSBzZWFyY2ggaW4gRG9tYWluIFJlZ2lzdHJ5OiAiLGUpO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOnIuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX3JlZ2lzdHJ5Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZX19O3IuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24oZSl7aWYobC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQRW50aXR5XSBEb21haW4gUmVnaXN0cnkgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpe3ZhciB0PWUuYm9keS52YWx1ZTt0Lmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bih0KTpvKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBvKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIEh5cGVydHkgd2l0aCBQMlBIYW5kbGVyIG5vdCBmb3VuZCIsZS5ib2R5LmNvZGUpfSl9ZWxzZSBvKCJbUmVnaXN0cnkgY2hlY2tQMlBFbnRpdHldIE5vIFAyUCBDb25uZWN0aW9uIGF2YWlsYWJsZSBmb3IgIixlKX0pfX0se2tleToiY2hlY2tQMlBSdW50aW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17fTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe3IuX3JlZ2lzdHJ5LnAycENvbm5lY3Rpb25MaXN0W2VdP28oe3J1bnRpbWU6ZX0pOnQucnVudGltZT8obj10LG8obikpOmkoIltSZWdpc3RyeS5QMlBDb25uZWN0aW9uUmVzb2x2ZS5jaGVja1AyUFJ1bnRpbWVdIE5vIFAyUCBDb25uZWN0aW9uIGZvdW5kIHRvICIsZSl9KX19LHtrZXk6ImNoZWNrUDJQSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9dm9pZCAwO2Zvcih2YXIgcyBpbiByLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdClpZihpPXIuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0W3NdLGwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEh5cGVydHldIC0gZm9yIGVhY2ggSHlwZXJ0eTogIixpKSxpLmh5cGVydHlJRD09PWUpcmV0dXJuIHZvaWQoaS5oYXNPd25Qcm9wZXJ0eSgicDJwSGFuZGxlciIpP24oaSk6bygiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsaSkpO2lmKCFpJiZ0LnJ1bnRpbWUpbih0KTtlbHNlIGlmKCFpJiZ0LnAycCl7bC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gLSBzZWFyY2ggaW4gRG9tYWluIFJlZ2lzdHJ5OiAiLGkpO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOnIuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX3JlZ2lzdHJ5Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZX19O3IuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24oZSl7aWYobC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQSHlwZXJ0eV0gRG9tYWluIFJlZ2lzdHJ5IHJlcGx5IixlKSwidmFsdWUiaW4gZS5ib2R5KXt2YXIgdD1lLmJvZHkudmFsdWU7ci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3QucHVzaCh0KSx0Lmhhc093blByb3BlcnR5KCJwMnBIYW5kbGVyIik/bih0KTpvKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixlLmJvZHkudmFsdWUpfWVsc2UgbygiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gSHlwZXJ0eSB3aXRoIFAyUEhhbmRsZXIgbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIE5vIFAyUCBDb25uZWN0aW9uIGF2YWlsYWJsZSBmb3IgIixlKX0pfX0se2tleToiY2hlY2tQMlBEYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt2YXIgaT1yLl9yZWdpc3RyeS5yZW1vdGVEYXRhT2JqZWN0TGlzdC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHIuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0W3RdLnVybD09PWV9KTtpZigwIT09aS5sZW5ndGgmJmlbMF0ucDJwUmVxdWVzdGVyKW4oaVswXSk7ZWxzZSBpZigwIT09aS5sZW5ndGgpbygiW1JlZ2lzdHJ5IGNoZWNrUDJQRGF0YU9iamVjdF0gRGF0YSBPYmplY3QgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGlbMF0pO2Vsc2UgaWYoMD09PWkubGVuZ3RoJiZ0LnJ1bnRpbWUpbih0KTtlbHNlIGlmKGkubGVuZ3RoJiZ0LnAycCl7dmFyIHM9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZihsLmxvZygiZGlzY292ZXIgZGF0YSBvYmplY3QgcGVyIHVybCByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0LnB1c2godCksdC5wMnBSZXF1ZXN0ZXI/bih0KTpvKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBEYXRhIE9iamVjdCBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIG8oIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIG5vdCBmb3VuZCIsZS5ib2R5LmNvZGUpfSl9ZWxzZSBvKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBubyBQMlAgQ29ubmVjdGlvbiBmb3VuZCIpfSl9fSx7a2V5OiJhZGRSZW1vdGVQMlBFbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVtb3RlUDJQRW50aXRpZXNbZV09dH19LHtrZXk6InJlbW92ZVJlbW90ZVAyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX3JlbW90ZVAyUEVudGl0aWVzW2VdfX0se2tleToicmVjb25uZWN0UDJQUmVxdWVzdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gbGV0cyB0cnkgdG8gcmVjb25uZWN0IFAyUCBSZXF1ZXN0ZXIgU3R1YjogIixlKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89ZS5ydW50aW1lLGk9e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ZS51cmwsYm9keTp7bWV0aG9kOiJjb25uZWN0IixwYXJhbXM6W2UucDJwSGFuZGxlcl19fTt0Ll9yZWdpc3RyeS53YXRjaGluZ1lvdS5vYnNlcnZlKCJwMnBSZXF1ZXN0ZXJTdHViIixmdW5jdGlvbihlKXtpZihsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyU3R1YnMgY2hhbmdlZCAiK3QuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWIpLGUua2V5cGF0aC5zcGxpdCgiLiIpWzBdPT09byYmInN0YXR1cyI9PT1lLm5hbWUpc3dpdGNoKGUubmV3VmFsdWUpe2Nhc2UibGl2ZSI6bC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlciBpcyBsaXZlICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltvXSkscih0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW29dLnVybCk7YnJlYWs7Y2FzZSJmYWlsZWQiOmwubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXIgcmVjb25uZWN0IGZhaWxlZCAiK3QuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbb10pLG4oIlAyUCBSZXF1ZXN0ZXIgcmVjb25uZWN0IGZhaWxlZCIpfX0pLHQuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7bC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHJlY29ubmVjdCByZXF1ZXN0IHJlcGx5IixlKX0pfSl9fV0pLFAyUENvbm5lY3Rpb25SZXNvbHZlfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIE9ic2VydmVyKGUsdCxyLG4sbyxpKXtmdW5jdGlvbiBkZWxpdmVyKGUsbil7aWYoZGVsaXZlci5kZWxheT1uLCFkZWxpdmVyLnBhdXNlJiZhLmNoYW5nZXNldC5sZW5ndGg+MCl7aWYoIWUpe3ZhciBvPWEuY2hhbmdlc2V0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hcnx8ci5pbmRleE9mKGUudHlwZSk+PTB9KTtvLmxlbmd0aD4wJiZ0KG8pfWEuY2hhbmdlc2V0PVtdfX12YXIgcyxhPXRoaXM7cmV0dXJuIGRlbGl2ZXIucGF1c2U9byxkZWxpdmVyLmRlbGF5PWksYS5nZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iX19vYnNlcnZlcl9fIj09PXQ/YToidW5vYnNlcnZlIj09PXQ/ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnVub2JzZXJ2ZShlKSxlfToiZGVsaXZlciI9PT10P2RlbGl2ZXI6ZVt0XX0sYS50YXJnZXQ9ZSxhLmNoYW5nZXNldD1bXSxhLnRhcmdldC5fX29ic2VydmVyQ2FsbGJhY2tzX198fChPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlckNhbGxiYWNrc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19vYnNlcnZlcnNfXyIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiExLHZhbHVlOltdfSkpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5wdXNoKHQpLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJzX18ucHVzaCh0aGlzKSxzPW5ldyBQcm94eShlLGEpLGRlbGl2ZXIoITEsaSksc31PYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIFByb3h5fHwoT2JzZXJ2ZXIucHJvdG90eXBlLmRlbGl2ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQobnVsbCwiZGVsaXZlciIpfSxPYnNlcnZlci5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lW3RdLG89dm9pZCAwPT09bj8iYWRkIjoidXBkYXRlIjtpZihlW3RdPXIsZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJighdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZihvKT49MCkpe3ZhciBpPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZTpvfSxzPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsYT10aGlzLmRlbGl2ZXIoKTsidXBkYXRlIj09PW8mJihpLm9sZFZhbHVlPW4pLHRoaXMuY2hhbmdlc2V0LnB1c2goaSkscyYmYSghMSwibnVtYmVyIj09dHlwZW9mIGEuZGVsYXk/YS5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3ZhciByPWVbdF07aWYoZGVsZXRlIGVbdF0sZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJkZWxldGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6dCx0eXBlOiJkZWxldGUiLG9sZFZhbHVlOnJ9LG89MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxpPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2gobiksbyYmaSghMSwibnVtYmVyIj09dHlwZW9mIGkuZGVsYXk/aS5kZWxheToxMCl9cmV0dXJuITB9LE9ic2VydmVyLnByb3RvdHlwZS5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihlLHQscil7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxyKSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInJlY29uZmlndXJlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZToicmVjb25maWd1cmUifSxvPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsaT10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLG8mJmkoITEsIm51bWJlciI9PXR5cGVvZiBpLmRlbGF5P2kuZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYoT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJzZXRQcm90b3R5cGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6Il9fcHJvdG9fXyIsdHlwZToic2V0UHJvdG90eXBlIixvbGRWYWx1ZTpyfSxvPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsaT10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLG8mJmkoITEsIm51bWJlciI9PXR5cGVvZiBpLmRlbGF5P2kuZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKGUpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigicHJldmVudEV4dGVuc2lvbnMiKT49MCl7dmFyIHQ9e29iamVjdDplLHR5cGU6InByZXZlbnRFeHRlbnNpb25zIn0scj0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG49dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaCh0KSxyJiZuKCExLCJudW1iZXIiPT10eXBlb2Ygbi5kZWxheT9uLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JqZWN0Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixvLGkpe3JldHVybiBuZXcgT2JzZXJ2ZXIoZSx0LHIsbixvLGkpfSxPYmplY3QudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7aWYoZS5fX29ic2VydmVyQ2FsbGJhY2tzX18pe2lmKCF0KXJldHVybiBlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5sZW5ndGgpLHZvaWQgZS5fX29ic2VydmVyc19fLnNwbGljZSgwLGUuX19vYnNlcnZlcnNfXy5sZW5ndGgpO2UuX19vYnNlcnZlckNhbGxiYWNrc19fLmZvckVhY2goZnVuY3Rpb24ocixuKXt0PT09ciYmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fLnNwbGljZShuLDEpLGRlbGV0ZSBlLl9fb2JzZXJ2ZXJzX19bbl0uY2FsbGJhY2ssZS5fX29ic2VydmVyc19fLnNwbGljZShuLDEpKX0pfX0sQXJyYXkub2JzZXJ2ZT1mdW5jdGlvbihlLHQscixuLG8saSl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXl8fEFycmF5LmlzQXJyYXkoZSkpKXRocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IHRvIEFycmF5Lm9ic2VydmVyIGlzIG5vdCBhbiBBcnJheSIpO3I9cnx8WyJhZGQiLCJ1cGRhdGUiLCJkZWxldGUiLCJzcGxpY2UiXTt2YXIgcz1uZXcgUHJveHkoZSx7Z2V0OmZ1bmN0aW9uKHQsbil7cmV0dXJuInVub2JzZXJ2ZSI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiBlP09iamVjdC51bm9ic2VydmUodCxlKTp0LnVub2JzZXJ2ZSgpfToic3BsaWNlIj09PW4/ZnVuY3Rpb24obixvKXtpZigibnVtYmVyIiE9dHlwZW9mIG58fCJudW1iZXIiIT10eXBlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCB0d28gYXJndW1lbnRzIHRvIEFycmF5IHNwbGljZSBhcmUgbm90IG51bWJlciwgbnVtYmVyIik7dmFyIGk9dGhpcy5zbGljZShuLG4rbykscz1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzLmxlbmd0aC0yOjAsdT17b2JqZWN0OmUsdHlwZToic3BsaWNlIixpbmRleDpuLHJlbW92ZWQ6aSxhZGRlZENvdW50OnN9O2lmKHQuc3BsaWNlLmFwcGx5KHQsYXJndW1lbnRzKSxyLmluZGV4T2YoInNwbGljZSIpPj0wKXt2YXIgbj0wPT09YS5fX29ic2VydmVyX18uY2hhbmdlc2V0Lmxlbmd0aCxjPWEuX19vYnNlcnZlcl9fLmRlbGl2ZXIoKTthLl9fb2JzZXJ2ZXJfXy5jaGFuZ2VzZXQucHVzaCh1KSxuJiZjKCExLCJudW1iZXIiPT10eXBlb2YgYy5kZWxheT9jLmRlbGF5OjEwKX19OiJwdXNoIj09PW4/ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMubGVuZ3RoLDAsZSl9OiJwb3AiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aC0xLDEpfToidW5zaGlmdCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSgwLDAsZSl9OiJzaGlmdCI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMSl9OnRbbl19fSksYT1PYmplY3Qub2JzZXJ2ZShzLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJsZW5ndGgiIT09ZS5uYW1lJiYiYWRkIiE9PWUubmFtZSYmKCFyfHxyLmluZGV4T2YoZS50eXBlKT49MCl9KTtuLmxlbmd0aD4wJiZ0KG4pfSxyLG4sbyxpKTtyZXR1cm4gYX0sQXJyYXkudW5vYnNlcnZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudW5vYnNlcnZlKHQpfSksT2JqZWN0LmRlZXBPYnNlcnZlPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiByZW9ic2VydmUoZSxyKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2lmKCgib2JqZWN0Ij09PW4oZVtvXSl8fCJhcnJheSI9PT1uKGVbb10pKSYmIWVbb10uaGFzT3duUHJvcGVydHkoIl9fb2JzZXJ2ZXJzX18iKSl7dmFyIGk9ci5zbGljZSgwKTtpLnB1c2gobyksZVtvXT1PYmplY3QuZGVlcE9ic2VydmUoZVtvXSx0LGkpfX0pfXI9cnx8W107dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiByZW9ic2VydmUoZSxyKSxPYmplY3Qub2JzZXJ2ZShlLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHJlY3Vyc2UoZSx0LHIsbyxpKXtpZihvIGluc3RhbmNlb2YgT2JqZWN0KXtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2lmKCFyfHxyW3NdIT09b1tzXSl7dmFyIGE9ciYmdm9pZCAwIT09cltzXT9yW3NdOnZvaWQgMCx1PXZvaWQgMD09PWE/ImFkZCI6InVwZGF0ZSIsYz1pKyIuIitzO24ucHVzaCh7bmFtZTplLG9iamVjdDp0LHR5cGU6dSxvbGRWYWx1ZTphLG5ld1ZhbHVlOm9bc10sa2V5cGF0aDpjfSkscmVjdXJzZShlLHQsYSxvW3NdLGMpfX0pfWVsc2UgaWYociBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIHM9T2JqZWN0LmtleXMocik7cy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3ZhciBhPW51bGw9PT1vPyJ1cGRhdGUiOiJkZWxldGUiLHU9aSsiLiIrcztuLnB1c2goe25hbWU6ZSxvYmplY3Q6dCx0eXBlOmEsb2xkVmFsdWU6cltzXSxuZXdWYWx1ZTpvLGtleXBhdGg6dX0pLHJlY3Vyc2UoZSx0LHJbc10sdm9pZCAwLHUpfSl9fXZhciBuPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0oci5sZW5ndGg+MD9yLmpvaW4oIi4iKSsiLiI6IiIpK2UubmFtZTsidXBkYXRlIiE9PWUudHlwZSYmImFkZCIhPT1lLnR5cGV8fHJlb2JzZXJ2ZShlLm9iamVjdCxyKSxuLnB1c2goe25hbWU6ZS5uYW1lLG9iamVjdDplLm9iamVjdCx0eXBlOmUudHlwZSxvbGRWYWx1ZTplLm9sZFZhbHVlLG5ld1ZhbHVlOmUub2JqZWN0W2UubmFtZV0sa2V5cGF0aDp0fSkscmVjdXJzZShlLm5hbWUsZS5vYmplY3QsZS5vbGRWYWx1ZSxlLm9iamVjdFtlLm5hbWVdLHQpfSksdChuKX0pfX0oKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDE0KSxkPXIoMTQ0KSxwPXIoMjA1KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDQ3Nyksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9Zi5nZXRMb2dnZXIoIklkZW50aXR5TW9kdWxlIiksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIElkZW50aXR5TW9kdWxlKGUsdCxyLG4sbyxpKXsoMCxzLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlNb2R1bGUpO3ZhciBhPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJjcnlwdG9NYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVDYXRhbG9ndWUgaXMgbWlzc2luZyIpO2EuX3J1bnRpbWVVUkw9ZSxhLl9ydW50aW1lQ2F0YWxvZ3VlPWksYS5kYXRhT2JqZWN0c1N0b3JhZ2U9bixhLl9pZG1VUkw9YS5fcnVudGltZVVSTCsiL2lkbSIsYS5fZ3VpVVJMPWEuX3J1bnRpbWVVUkwrIi9pZGVudGl0eS1ndWkiLGEucnVudGltZUNhcGFiaWxpdGllcz10LGEuX2RvbWFpbj0oMCxsLmRpdmlkZVVSTCkoYS5fcnVudGltZVVSTCkuZG9tYWluLGEuX2lkZW50aXRpZXM9bmV3IHkuZGVmYXVsdCgiaHVtYW4iLHIpLGEuX2NyeXB0bz1vLGEuZGF0YU9iamVjdHNJZGVudGl0eT17fSxhLl9saXN0T2ZJZHBzPVtdLGEuZ3VpRGVwbG95ZWQ9ITF9cmV0dXJuKDAsdS5kZWZhdWx0KShJZGVudGl0eU1vZHVsZSxbe2tleToiZ2V0SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMuZ2V0SWRlbnRpdHkoZSl9fSx7a2V5OiJnZXRJZGVudGl0aWVzVG9DaG9vc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbih0KXt2YXIgcj1kLnJ1bnRpbWVDb25maWd1cmF0aW9uLmNhdGFsb2d1ZVVSTHMuaWRwUHJveHkucHJlZml4K2UuX2RvbWFpbitkLnJ1bnRpbWVDb25maWd1cmF0aW9uLmNhdGFsb2d1ZVVSTHMuaWRwUHJveHkuc3VmZml4O28uZGVmYXVsdC5hbGwoW2UucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgiYnJvd3NlciIpLGUucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgibm9kZSIpXSkudGhlbihmdW5jdGlvbihuKXt2YXIgbz1uWzBdLGk9blsxXSxzPXtjb25zdHJhaW50czp7fX07cy5jb25zdHJhaW50cy5ub2RlPWkscy5jb25zdHJhaW50cy5icm93c2VyPW8sZS5fcnVudGltZUNhdGFsb2d1ZS5nZXRUeXBlTGlzdChyLHMpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjplLHR5cGU6ImlkVG9rZW4ifX0pO3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjpnZXRJZGVudGl0aWVzVG9DaG9vc2VdIixyLG4pLGUuX2xpc3RPZklkcHM9bix0KHtkZWZhdWx0SWRlbnRpdHk6ZS5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSxpZGVudGl0aWVzOmUuaWRlbnRpdGllcy5pZGVudGl0aWVzLGlkcHM6bn0pfSl9KX0pfX0se2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX2lkZW50aXRpZXMubG9hZElkZW50aXRpZXMoKS50aGVuKGZ1bmN0aW9uKCl7ZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXtlLl9jcnlwdG8uY3J5cHRvLl9zaGEyNTYoKDAsbC5zdHJpbmdpZnkpKHIpKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPSJ1c2VyLWd1aWQ6Ly8iK3I7ZS5pZGVudGl0aWVzLmd1aWQ9bixlLl9pZGVudGl0aWVzLmxvYWRBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt9KX0pfSl9KX19LHtrZXk6ImdldElkZW50aXR5QXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uOmlkZW50aXR5QnVuZGxlXSIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgiYnJvd3NlciIpLnRoZW4oZnVuY3Rpb24obyl7aWYoZy5sb2coInJ1bnRpbWUgYnJvd3NlciBpZGVudGl0eSBhY3F1aXNpdGlvbiIsbyksbylpZihlJiZlLmhhc093blByb3BlcnR5KCJpZHAiKSl7dmFyIGk9ZS5pZHAscz1lLmhhc093blByb3BlcnR5KCJvcmlnaW4iKT9lLm9yaWdpbjoib3JpZ2luIixhPWUuaGFzT3duUHJvcGVydHkoImlkSGludCIpP2UuaWRIaW50OiIiO2lmKHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkpe3ZhciB1PXQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHk7aWYodS5leHBpcmVzPigwLGwuc2Vjb25kc1NpbmNlRXBvY2gpKCkpcmV0dXJuIHIodSk7dS5oYXNPd25Qcm9wZXJ0eSgicmVmcmVzaCIpPyhnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uXSByZWZyZXNoaW5nIGFzc2VydGlvbjogIix1KSx0Ll9yZWZyZXNoSWRBc3NlcnRpb24oKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uXSByZWZyZXNoZWQgYXNzZXJ0aW9uLiIsZSkscihlKX0pKTp0Ll9nZXRJZEFzc2VydGlvbkZvckRvbWFpbihzLGksYSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSxmdW5jdGlvbihlKXtuKGUpfSl9ZWxzZSB0Ll9nZXRJZEFzc2VydGlvbkZvckRvbWFpbihzLGksYSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSxmdW5jdGlvbihlKXtuKGUpfSl9ZWxzZSBpZih0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5KXt2YXIgYz10LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5O2lmKGMuZXhwaXJlcz4oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpKXJldHVybiByKGMpO2MuaGFzT3duUHJvcGVydHkoInJlZnJlc2giKT8oZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSByZWZyZXNoaW5nIGFzc2VydGlvbjogIixjKSx0Ll9yZWZyZXNoSWRBc3NlcnRpb24oYykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbl0gcmVmcmVzaGVkIGFzc2VydGlvbi4iLGUpLHIoZSl9KSk6dC5zZWxlY3RJZGVudGl0eUZyb21HVUkoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBmcm9tIEdVSS4iKSx0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5PWUudXNlclByb2ZpbGUudXNlclVSTCxyKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pfWVsc2UgdC5zZWxlY3RJZGVudGl0eUZyb21HVUkoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBmcm9tIEdVSS4iKSx0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5PWUudXNlclByb2ZpbGUudXNlclVSTCxyKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGcuZXJyb3IoIkVycm9yIG9uIGlkZW50aXR5IGFjcXVpc2l0aW9uICIsZSksbihlKX0pLHQucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgibm9kZSIpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZy5sb2coIm5vZGUgaWRlbnRpdHkgYWNxdWlzaXRpb24iLGUpLGUpe2lmKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpcmV0dXJuIHIodC5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eSk7Zy5sb2coImdldElkZW50aXR5QXNzZXJ0aW9uIGZvciBub2RlanMiKTt2YXIgbz17dHlwZToiaWRwIix2YWx1ZToibm9kZWpzLWlkcCIsY29kZToyMDAsYXV0aDohMX07dC5jYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzKG8udmFsdWUsIm9yaWdpbiIpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0sZnVuY3Rpb24oZSl7bihlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIkVycm9yIG9uIGlkZW50aXR5IGFjcXVpc2l0aW9uICIsZSksbihlKX0pfSl9fSx7a2V5OiJfZ2V0SWRBc3NlcnRpb25Gb3JEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5zZWxlY3RJZGVudGl0eUZvckh5cGVydHkoZSx0LHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldElkQXNzZXJ0aW9uRm9yRG9tYWluXSBJZGVudGl0eSBzZWxlY3RlZCBieSBoeXBlcnR5LiIpLG8oZSl9LGZ1bmN0aW9uKGUpe24uc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0SWRBc3NlcnRpb25Gb3JEb21haW5dIElkZW50aXR5IHNlbGVjdGVkIGJ5IGh5cGVydHkuIiksbyhlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KX0pfSl9fSx7a2V5OiJfcmVmcmVzaElkQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5zZW5kUmVmcmVzaE1lc3NhZ2UoZSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIHJlZnJlc2hlZCBhc3NlcnRpb246ICIsZSksdC5pZGVudGl0aWVzLnVwZGF0ZUFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKCl7cihlKX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHVwZGF0aW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciByZWZyZXNoaW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSl9KX19LHtrZXk6ImdldFVzZXJzSURzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkZW50aXRpZXMuaWRlbnRpZmllcnN9fSx7a2V5OiJkZWxldGVJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaWRlbnRpdGllcy5yZW1vdmVJZGVudGl0eShlKX19LHtrZXk6InJlcXVlc3RJZGVudGl0eVRvR1VJIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUucmVxdWVzdElkZW50aXR5VG9HVUk6aWRlbnRpdGllc10iLGUpLGcubG9nKCJbSWRlbnRpdHlNb2R1bGUucmVxdWVzdElkZW50aXR5VG9HVUk6aWRwc10iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpZighMT09PXIuZ3VpRGVwbG95ZWQpe3ZhciBpPXIuX2d1aVVSTCxzPW5ldyB2LmRlZmF1bHQoaSxyLl9tZXNzYWdlQnVzKTtyLmd1aUZha2U9cyxyLmd1aURlcGxveWVkPSEwfXZhciBhPXt0eXBlOiJjcmVhdGUiLHRvOnIuX2d1aVVSTCxmcm9tOnIuX2lkbVVSTCxib2R5Ont2YWx1ZTp7aWRlbnRpdGllczplLGlkcHM6dH19fSx1PWZ1bmN0aW9uKGUpe2lmKHIuX21lc3NhZ2VCdXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyLl9pZG1VUkwsZS5pZCksMjAwPT09ZS5ib2R5LmNvZGUpe3ZhciB0PWUuYm9keTtnLmxvZygic2VsZWN0ZWRJZGVudGl0eTogIix0LnZhbHVlKSxuKHQpfWVsc2UgbygiZXJyb3Igb24gcmVxdWVzdGluZyBhbiBpZGVudGl0eSB0byB0aGUgR1VJIil9O3RyeXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsdSwhMSl9Y2F0Y2goZSl7bygiSW4gbWV0aG9kIGNhbGxJZGVudGl0eU1vZHVsZUZ1bmMgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kczppZHBdIixlKSxnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6b3JpZ2luXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXZvaWQgMDtyLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6a2V5XSIsbiksaT0oMCxsLnN0cmluZ2lmeSkobiksZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzXSBOT19VUkwiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKGksdCwidXJsIixlKX0pLnRoZW4oZnVuY3Rpb24oZSl7ZT9uKGUpOm8oIkVycm9yIG9uIG9idGFpbmluZyBJZGVudGl0eSIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5sb2coZSksbyhlKX0pfSl9fSx7a2V5OiJjYWxsR2VuZXJhdGVNZXRob2RzIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbEdlbmVyYXRlTWV0aG9kczppZHBdIixlKSxnLmxvZygiW2NhbGxHZW5lcmF0ZU1ldGhvZHM6b3JpZ2luXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXZvaWQgMDtyLl9jcnlwdG8uZ2V0TXlQdWJsaWNLZXkoKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6a2V5XSIsbiksaT0oMCxsLnN0cmluZ2lmeSkobiksZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOm5vX2hpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKGksdCwiIixlKX0pLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHIubXlIaW50PW4sZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOmhpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKGksdCxuLGUpfSkudGhlbihmdW5jdGlvbihlKXtlP24oZSk6bygiRXJyb3Igb24gb2J0YWluaW5nIElkZW50aXR5Iil9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKGUpLG8oZSl9KX0pfX0se2tleToibG9naW5TZWxlY3RlZElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpwdWJsaWNLZXldIixlKSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpvcmlnaW5dIix0KSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTppZHBdIixyKSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpsb2dpblVybF0iLG4pO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxzKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBvcGVuUG9wdXAiKSxpLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOm59KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlfSxmdW5jdGlvbihlKXtyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoZSl9KS50aGVuKGZ1bmN0aW9uKG4pe2kuc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQsbixyKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSlyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoIkNvdWxkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGFzc2VydGlvbiBmb3Igc2VsZWN0ZWQgaWRlbnRpdHkuIik7aS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKGUpe28oIkxvZ2luIHdhcyBzdWNjZXNzZnVsbCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cygiTG9naW4gaGFzIGZhaWxlZDoiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtzKCJPbiBsb2dpblNlbGVjdGVkSWRlbnRpdHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pfSl9fSx7a2V5OiJzZWxlY3RJZGVudGl0eUZvckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTpvcmlnaW5dIixlKSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZHBdIix0KSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZEhpbnRdIixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7bi5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihzKXt2YXIgYT0oMCxsLnN0cmluZ2lmeSkocyk7bi5zZW5kR2VuZXJhdGVNZXNzYWdlKGEsZSxyLHQpLnRoZW4oZnVuY3Rpb24ocil7ci5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIik/bi5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKHIpfSxmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pOnIuaGFzT3duUHJvcGVydHkoImxvZ2luVXJsIik/bi5sb2dpblNlbGVjdGVkSWRlbnRpdHkoYSxlLHQsci5sb2dpblVybCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KTooZy5sb2coIlByb2NlZWRpbmcgYnkgbG9nZ2luZyBpbi4iKSxuLmNhbGxHZW5lcmF0ZU1ldGhvZHModCxlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIHNlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eSBmcm9tIG1ldGhvZCBzZW5kR2VuZXJhdGVNZXNzYWdlIGVycm9yOiAgIitlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5IGZyb20gbWV0aG9kIGdlbmVyYXRlUlNBS2V5UGFpciBlcnJvcjogICIrZSl9KX0pfX0se2tleToic2VsZWN0SWRlbnRpdHlGcm9tR1VJIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuc2VsZWN0SWRlbnRpdHlGcm9tR1VJOm9yaWdpbl0iLGUpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXt0LmdldElkZW50aXRpZXNUb0Nob29zZSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVxdWVzdElkZW50aXR5VG9HVUkoZS5pZGVudGl0aWVzLGUuaWRwcyl9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKCJpZGVudGl0eSI9PT10LnR5cGUpci5pZGVudGl0aWVzLmlkZW50aXRpZXNbdC52YWx1ZV0/bihyLmlkZW50aXRpZXMuaWRlbnRpdGllc1t0LnZhbHVlXSk6bygiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSV0gaWRlbnRpdHkgbm90IGZvdW5kOiAiLHQudmFsdWUpO2Vsc2V7aWYoImlkcCIhPT10LnR5cGUpcmV0dXJuIG8oImVycm9yIG9uIEdVSSByZWNlaXZlZCBtZXNzYWdlLiIpO3IuY2FsbEdlbmVyYXRlTWV0aG9kcyh0LnZhbHVlLGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSl9fSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gc2VsZWN0SWRlbnRpdHlGcm9tR1VJIGZyb20gbWV0aG9kIHJlcXVlc3RJZGVudGl0eVRvR1VJIGVycm9yOiAgIitlKX0pfSl9fSx7a2V5OiJjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbElkZW50aXR5TW9kdWxlRnVuYzptZXRob2ROYW1lXSIsZSksZy5sb2coIltjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOnBhcmFtZXRlcnNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9e3R5cGU6ImV4ZWN1dGUiLHRvOnIuX2d1aVVSTCxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDplLHBhcmFtczp0fX0scz1mdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5faWRtVVJMLGUuaWQpO3ZhciB0PWUuYm9keS52YWx1ZTtuKHQpfTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLHMsITEpfWNhdGNoKGUpe28oIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiZ2V0VG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLnRvO3JldHVybiBlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLCJmb3J3YXJkIj09PWUudHlwZSYmKHI9ZS5ib2R5LmZyb20pLGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gZm9yIG1zZyAiLGUpLHQucmVnaXN0cnkuaXNMZWdhY3kobikudGhlbihmdW5jdGlvbihuKXtuP3QuX2dldEFjY2Vzc1Rva2VuKGUpLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gYWNjZXNzIHRva2VuICIsZSksbygoMCxsLmRlZXBDbG9uZSkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiW0lkZW50aXR5TW9kdWxlLmdldFRva2VuXSBBY2Nlc3MgVG9rZW4gZXJyb3IgIitlKX0pOnQuX2dldFZhbGlkVG9rZW4ocikudGhlbihmdW5jdGlvbihlKXtvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gZ2V0VG9rZW4gZnJvbSBtZXRob2QgX2dldFZhbGlkVG9rZW4gZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGdldFRva2VuIGZyb20gbWV0aG9kIGlzTGVnYWN5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6ImdldElkVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe2cuaW5mbygiZ2V0SWRUb2tlbjpoeXBlcnR5VVJMICIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPWUuc3BsaXQoIjovLyIpLGk9dm9pZCAwO2lmKCJoeXBlcnR5Ij09PW9bMF0pe2lmKGk9dC5yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSkpe3ZhciBzPXQuaWRlbnRpdGllcy5nZXRJZGVudGl0eShpKTtyZXR1cm4gcz9yKHMpOm4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBJZGVudGl0eSBub3QgZm91bmQgZm9yOiAiLGkpfXJldHVybiBuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRUb2tlbl0gVXNlciBub3QgZm91bmQgZm9yIGh5cGVydHk6ICIsaSl9dC5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoaT10LnJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKSl7dmFyIG89dC5pZGVudGl0aWVzLmdldElkZW50aXR5KGkpO3JldHVybiBvP3Iobyk6bigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIElkZW50aXR5IG5vdCBmb3VuZCBmb3I6ICIsaSl9cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBVc2VyIG5vdCBmb3VuZCBmb3IgaHlwZXJ0eTogIixlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBFcnJvcjogIixlKSxuKGUpfSl9KX19LHtrZXk6Il9nZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50byxyPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKSlyZXR1cm4gcmVqZWN0KCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuXSBtaXNzaW5nIG1hbmRhdG9yeSBtc2cgYm9keTogIixlKTtpZighZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpKXJldHVybiByZWplY3QoIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIG1pc3NpbmcgbWFuZGF0b3J5IG1zZyBib2R5IHZhbHVlOiAiLGUpO2lmKCFlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoInJlc291cmNlcyIpKXJldHVybiByZWplY3QoIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIG1pc3NpbmcgbWFuZGF0b3J5IG1zZyBib2R5IHZhbHVlIHJlc291cmNlczogIixlKTt2YXIgbz0oMCxsLmRpdmlkZVVSTCkodCkuZG9tYWluO3QuaW5jbHVkZXMoInByb3Rvc3R1YiIpJiYobz1vLnJlcGxhY2Uoby5zcGxpdCgiLiIpWzBdKyIuIiwiIikpO3ZhciBpPWUuYm9keS52YWx1ZS5yZXNvdXJjZXM7ci5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW4obyxpKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXt0cnl7bj1yLmlkZW50aXRpZXMuZ2V0QWNjZXNzVG9rZW4oZSx0KX1jYXRjaChlKXtyZXR1cm4gaSgiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbl0gQWNjZXNzIFRva2VuIGVycm9yICIrZXJyKX1pZihuKXtpZigiaW4tcHJvZ3Jlc3MiPT09bi5zdGF0dXMpcmV0dXJuIG8oci5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuKGUsdCkpO3ZhciBzPSgwLGwuc2Vjb25kc1NpbmNlRXBvY2gpKCk7aWYoZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW5dIGZvdW5kICBBY2Nlc3MgVG9rZW4gIixuKSwhKHM+PW4uZXhwaXJlcykpcmV0dXJuIG8oKDAsbC5kZWVwQ2xvbmUpKG4pKTtpZighbi5oYXNPd25Qcm9wZXJ0eSgicmVmcmVzaCIpKXJldHVybiBvKHIuX2dldE5ld0FjY2Vzc1Rva2VuKGUsdCkpO3IuX3JlZnJlc2hBY2Nlc3NUb2tlbigoMCxsLmRlZXBDbG9uZSkobikpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8oci5pZGVudGl0aWVzLnVwZGF0ZUFjY2Vzc1Rva2VuKGUpKX0pfWVsc2Ugci5fZ2V0TmV3QWNjZXNzVG9rZW4oZSx0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbkZvckRvbWFpbl0gbmV3IEFjY2VzcyBUb2tlbiAiLGUpLG8oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJbSWRlbnRpdHlNb2R1bGUuX2dldEFjY2Vzc1Rva2VuRm9yRG9tYWluXSBvbiBnZXROZXdBY2Nlc3NUb2tlbiAiK2UpfSl9KX19LHtrZXk6Il9pblByb2dyZXNzQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmlkZW50aXRpZXMud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgiYWNjZXNzVG9rZW5zIixmdW5jdGlvbihuKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9pblByb2dyZXNzQWNjZXNzVG9rZW5dIGFjY2Vzc1Rva2VucyBjaGFuZ2VkICIrci5pZGVudGl0aWVzLmFjY2Vzc1Rva2Vucyk7dmFyIG89bi5rZXlwYXRoO2lmKG8uaW5jbHVkZXMoInN0YXR1cyIpJiYobz1vLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbz09PWUmJiJzdGF0dXMiPT09bi5uYW1lJiYiY3JlYXRlZCI9PT1uLm5ld1ZhbHVlKXJldHVybiByLmlkZW50aXRpZXMuZ2V0QWNjZXNzVG9rZW4oZSx0KX0pfX0se2tleToiX2dldE5ld0FjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtyLmlkZW50aXRpZXMuc2V0QWNjZXNzVG9rZW5JblByb2dyZXNzKGUpO3ZhciBpPXt0eXBlOiJleGVjdXRlIix0bzpyLl9yZXNvbHZlRG9tYWluKGUpLGZyb206ci5faWRtVVJMLGJvZHk6e21ldGhvZDoiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiLHBhcmFtczp0fX07ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKGUpe2lmKGUuYm9keS5jb2RlPjI5OSlyZXR1cm4gbygiW0lkZW50aXR5TW9kdWxlLl9nZXROZXdBY2Nlc3NUb2tlbl0gRXJyb3Igb24gZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQgZnJvbSBJZFAgUHJveHk6ICIsZS5ib2R5LmRlc2MpO3IuY2FsbElkZW50aXR5TW9kdWxlRnVuYygib3BlblBvcHVwIix7dXJscmVjZWl2ZWQ6ZS5ib2R5LnZhbHVlfSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOmNhbGxJZGVudGl0eU1vZHVsZUZ1bmM6b3BlblBvcHVwXSBhdWh0b3Jpc2F0aW9uIHJlc3VsdDogIixlKSxpLmJvZHkubWV0aG9kPSJnZXRBY2Nlc3NUb2tlbiIsaS5ib2R5LnBhcmFtcz17cmVzb3VyY2VzOnQsbG9naW46ZX0sci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpLGZ1bmN0aW9uKGUpe2lmKGUuYm9keS5jb2RlPjI5OSlyZXR1cm4gbygiW0lkZW50aXR5TW9kdWxlLl9nZXROZXdBY2Nlc3NUb2tlbl0gRXJyb3Igb24gZ2V0QWNjZXNzVG9rZW4gZnJvbSBJZFAgUHJveHk6ICIsZS5ib2R5LmRlc2MpO3IuaWRlbnRpdGllcy5hZGRBY2Nlc3NUb2tlbihlLmJvZHkudmFsdWUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGcuaW5mbygiW0lkZW50aXR5TW9kdWxlLl9nZXROZXdBY2Nlc3NUb2tlbl0gcmVzb2x2aW5nIHRva2VuOiAiLHQpLG4oZS5ib2R5LnZhbHVlKX0sZnVuY3Rpb24oZSl7byhlKX0pfSl9LGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJfcmVmcmVzaEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBnLmxvZygiSWRlbnRpdHlNb2R1bGUuX3JlZnJlc2hBY2Nlc3NUb2tlbjpvdXRkYXRlZFRva2VuIixlKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dC5fcmVzb2x2ZURvbWFpbihlLmRvbWFpbiksaT12b2lkIDA7aT17dHlwZToiZXhlY3V0ZSIsdG86byxmcm9tOnQuX2lkbVVSTCxib2R5OnttZXRob2Q6InJlZnJlc2hBY2Nlc3NUb2tlbiIscGFyYW1zOnt0b2tlbjplfX19O3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IodCl9KX1jYXRjaChlKXtuKCJJbiBJZGVudGl0eU1vZHVsZS5fcmVmcmVzaEFjY2Vzc1Rva2VuIG9uIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToic2VuZFJlZnJlc2hNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBnLmxvZygic2VuZFJlZnJlc2hNZXNzYWdlOm9sZElkZW50aXR5IixlKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIG89dC5fcmVzb2x2ZURvbWFpbihlLmlkcC5kb21haW4pLGk9dm9pZCAwLHM9dC5nZXRJZGVudGl0eShlLnVzZXJQcm9maWxlLnVzZXJVUkwpO2cuaW5mbygic2VuZFJlZnJlc2hNZXNzYWdlOm9sZElkZW50aXR5IixlKSxpPXt0eXBlOiJleGVjdXRlIix0bzpvLGZyb206dC5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJyZWZyZXNoQXNzZXJ0aW9uIixwYXJhbXM6e2lkZW50aXR5OnN9fX07dHJ5e3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7cih0KX0pfWNhdGNoKGUpe24oIkluIHNlbmRSZWZyZXNoTWVzc2FnZSBvbiBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIltnZXRBY2Nlc3NUb2tlbjppZHBEb21haW5dIixlKTt2YXIgbj10aGlzO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIHM9bi5fcmVzb2x2ZURvbWFpbihlKSxhPXZvaWQgMDthPXt0eXBlOiJleGVjdXRlIix0bzpzLGZyb206bi5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJnZXRBY2Nlc3NUb2tlbiIscGFyYW1zOntyZXNvdXJjZXM6dCxsb2dpbjpyfX19O3RyeXtuLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO28odCl9KX1jYXRjaChlKXtpKCJJZGVudGl0eU1vZHVsZS5JbiBnZXRBY2Nlc3NUb2tlbjogIitlKX19KX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQ6aWRwRG9tYWluXSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuX3Jlc29sdmVEb21haW4odCkscz12b2lkIDA7cz17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiLHBhcmFtczp7cmVzb3VyY2VzOmV9fX07dHJ5e3IuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7bih0KX0pfWNhdGNoKGUpe28oIkluIGdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50OiAiK2UpfX0pfX0se2tleToic2VuZEdlbmVyYXRlTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOmNvbnRlbnRzXSIsZSksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOm9yaWdpbl0iLHQpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6aWRwRG9tYWluXSIsbiksZy5sb2coInNlbmRHZW5lcmF0ZU1lc3NhZ2VfaGludCIpO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxzKXt2YXIgYT1pLl9yZXNvbHZlRG9tYWluKG4pLHU9dm9pZCAwO3U9e3R5cGU6ImV4ZWN1dGUiLHRvOmEsZnJvbTppLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ImdlbmVyYXRlQXNzZXJ0aW9uIixwYXJhbXM6e2NvbnRlbnRzOmUsb3JpZ2luOnQsdXNlcm5hbWVIaW50OnJ9fX07dHJ5e2kuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodSxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7byh0KX0pfWNhdGNoKGUpe3MoIkluIHNlbmRHZW5lcmF0ZU1lc3NhZ2U6ICIrZSl9fSl9fSx7a2V5OiJnZW5lcmF0ZUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjpjb250ZW50c10iLGUpLGcubG9nKCJbZ2VuZXJhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOmlkcERvbWFpbl0iLG4pO3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxzKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOnNlbmRHZW5lcmF0ZU1lc3NhZ2U6c2VuZEdlbmVyYXRlTWVzc2FnZV0iLHIpLGkuc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQscixuKS50aGVuKGZ1bmN0aW9uKGUpe2UubG9naW5Vcmw/aS5jYWxsSWRlbnRpdHlNb2R1bGVGdW5jKCJvcGVuUG9wdXAiLHt1cmxyZWNlaXZlZDplLmxvZ2luVXJsfSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlOmNhbGxJZGVudGl0eU1vZHVsZUZ1bmM6b3BlblBvcHVwXSIsciksbyhlKX0sZnVuY3Rpb24oZSl7cyhlKX0pOmU/aS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKHQpe28oZSl9LGZ1bmN0aW9uKGUpe3MoZSl9KTpzKCJlcnJvciBvbiBvYnRhaW5pbmcgaWRlbnRpdHkgaW5mb3JtYXRpb24iKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3MoIk9uIGdlbmVyYXRlQXNzZXJ0aW9uIGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICIrZSl9KX0pfX0se2tleToidmFsaWRhdGVBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOmFzc2VydGlvbl0iLGUpLGcubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246b3JpZ2luXSIsdCksZy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjppZHBEb21haW5dIixyKTt2YXIgbj10aGlzLGk9bi5fcmVzb2x2ZURvbWFpbihyKSxzPXt0eXBlOiJleGVjdXRlIix0bzppLGZyb206bi5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJ2YWxpZGF0ZUFzc2VydGlvbiIscGFyYW1zOnthc3NlcnRpb246ZSxvcmlnaW46dH19fTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe3RyeXtuLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24ocil7MjAwPT09ci5ib2R5LmNvZGU/ZShyLmJvZHkudmFsdWUpOnQoImVycm9yIixyLmJvZHkuY29kZSl9KX1jYXRjaChlKXt0KCJPbiB2YWxpZGF0ZUFzc2VydGlvbiBmcm9tIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6ImFkZEdVSUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5faWRtVVJMLGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keS5tZXRob2Q7Zy5sb2coIltJZGVudGl0eU1vZHVsZTphZGRHVUlMaXN0ZW5lcnNdIix0LHQuYm9keSxyKTt2YXIgbj12b2lkIDA7aWYoImRlcGxveUdVSSI9PT1yKW49ZS5kZXBsb3lHVUkoKTtlbHNle2lmKCJnZXRJZGVudGl0aWVzVG9DaG9vc2UiPT09cilyZXR1cm4gdm9pZCBlLmdldElkZW50aXRpZXNUb0Nob29zZSgpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KTtpZigidW5yZWdpc3RlcklkZW50aXR5Ij09PXIpe3ZhciBvPXQuYm9keS5wYXJhbXMuZW1haWw7bj1lLnVucmVnaXN0ZXJJZGVudGl0eShvKX1lbHNle2lmKCJnZXRNeVB1YmxpY0tleSI9PT1yKXJldHVybiB2b2lkIGUuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7cj0oMCxsLnN0cmluZ2lmeSkocik7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBnZW5lcmF0ZVJTQUtleVBhaXIgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pO2lmKCJzZW5kR2VuZXJhdGVNZXNzYWdlIj09PXIpe3ZhciBpPXQuYm9keS5wYXJhbXMuY29udGVudHMscz10LmJvZHkucGFyYW1zLm9yaWdpbixhPXQuYm9keS5wYXJhbXMudXNlcm5hbWVIaW50LHU9dC5ib2R5LnBhcmFtcy5pZHBEb21haW47cmV0dXJuIHZvaWQgZS5zZW5kR2VuZXJhdGVNZXNzYWdlKGkscyxhLHUpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzZW5kR2VuZXJhdGVNZXNzYWdlIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX1pZigiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiPT09cil7dmFyIGM9dC5ib2R5LnBhcmFtcy5zY29wZSxmPXQuYm9keS5wYXJhbXMuaWRwRG9tYWluO3JldHVybiB2b2lkIGUuZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQoYyxmKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxvPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uobyl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc2VuZEdlbmVyYXRlTWVzc2FnZSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImFkZEFjY2Vzc1Rva2VuIj09PXIpe3ZhciBkPXQuYm9keS5wYXJhbXM7cmV0dXJuIHZvaWQgZS5pZGVudGl0aWVzLmFkZEFjY2Vzc1Rva2VuKGQpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX1pZigiZ2V0QWNjZXNzVG9rZW4iPT09cil7dmFyIHA9dC5ib2R5LnBhcmFtcy5pZHBEb21haW4seT10LmJvZHkucGFyYW1zLnJlc291cmNlcyxoPXQuYm9keS5wYXJhbXMubG9naW47cmV0dXJuIHZvaWQgZS5nZXRBY2Nlc3NUb2tlbihwLHksaCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0sbz17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJhZGRBc3NlcnRpb24iPT09cil7dmFyIHY9dC5ib2R5LnBhcmFtcztyZXR1cm4gdm9pZCBlLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKHYpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LG89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX1pZigicmVmcmVzaEFjY2Vzc1Rva2VuIj09PXIpe3ZhciBiPXQuYm9keS5wYXJhbXMuZG9tYWluLF89dC5ib2R5LnBhcmFtcy5yZXNvdXJjZXM7cmV0dXJuIHZvaWQgZS5fZ2V0QWNjZXNzVG9rZW5Gb3JEb21haW4oYixfKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6e3ZhbHVlOnIuYWNjZXNzVG9rZW4sY29kZToyMDB9fTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShuKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZm9yIHJlZnJlc2hBY2Nlc3NUb2tlbiByZXF1ZXN0OiAiK2UpfX0pfX19dmFyIG09e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOm4sY29kZToyMDB9LFI9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTptfTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShSKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6ImRlcGxveUdVSSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmd1aURlcGxveWVkPSEwfX0se2tleToiX2dldFZhbGlkVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldFZhbGlkVG9rZW5dOmh5cGVydHlVUkwiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LmdldElkVG9rZW4oZSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLl9nZXRWYWxpZFRva2VuXSByZXRyaWV2ZWQgSWRBc3NlcnRpb24iLGUpO3ZhciBvPSgwLGwuc2Vjb25kc1NpbmNlRXBvY2gpKCk7aWYoIWUuaGFzT3duUHJvcGVydHkoImV4cGlyZXMiKSlyZXR1cm4gcihlKTt2YXIgaT1lLmV4cGlyZXM7Zy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBUb2tlbiBleHBpcmVzIGluIixpKSxnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIHRpbWUgbm93OiIsbyksbz49aT9lLmhhc093blByb3BlcnR5KCJyZWZyZXNoIik/KGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gcmVmcmVzaGluZyBhc3NlcnRpb246ICIsZSksdC5zZW5kUmVmcmVzaE1lc3NhZ2UoZSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIHJlZnJlc2hlZCBhc3NlcnRpb246ICIsZSksdC5pZGVudGl0aWVzLnVwZGF0ZUFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKCl7cihlKX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHVwZGF0aW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciByZWZyZXNoaW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSkpOnQuY2FsbEdlbmVyYXRlTWV0aG9kcyhlLmlkcC5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciB3aGVuIGdlbmVyYXRpbmcgYSBuZXcgYXNzZXJ0aW9uICIrZSl9KTpyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIG9uIGdldElkVG9rZW4iLGUpLG4oZSl9KX0pfX0se2tleToiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3RVUkwiLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0oMCxsLmRpdmlkZVVSTCkoZSksaT1vLmRvbWFpbixzPSgwLGwucGFyc2VNZXNzYWdlVVJMKShlKSxhPXQucmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKHMpO2lmKGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpyZXBvcnRlclVSTCIsYSksYSlyKGEpO2Vsc2V7dmFyIHU9dC5kYXRhT2JqZWN0c0lkZW50aXR5W3NdO2lmKGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpzdG9yZWRSZXBvcnRlclVSTCIsdSksdSlyKHUpO2Vsc2V7dmFyIGM9dC5yZWdpc3RyeS5nZXREYXRhT2JqZWN0U3Vic2NyaWJlckh5cGVydHkoZSk7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN1YnNjcmliZXJIeXBlcnR5IixjKSxjP3IoYyk6dC5fY29yZURpc2NvdmVyeS5kaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwocyxpKS50aGVuKGZ1bmN0aW9uKGUpe2cuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0IixlKSx0LmRhdGFPYmplY3RzSWRlbnRpdHlbc109ZS5yZXBvcnRlcixnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6ZGF0YU9iamVjdC5yZXBvcnRlciIsZS5yZXBvcnRlcikscihlLnJlcG9ydGVyKX0sZnVuY3Rpb24oZSl7bihlKX0pfX19KX19LHtrZXk6Il9yZXNvbHZlRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iZG9tYWluLWlkcDovLyIrZToiZG9tYWluLWlkcDovL2dvb2dsZS5jb20ifX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX21lc3NhZ2VCdXM9ZSx0LmFkZEdVSUxpc3RlbmVycygpfX0se2tleToiY29yZURpc2NvdmVyeSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmVEaXNjb3Zlcnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb3JlRGlzY292ZXJ5PWV9fSx7a2V5OiJyZWdpc3RyeSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZ2lzdHJ5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVnaXN0cnk9ZX19LHtrZXk6ImlkZW50aXRpZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVudGl0aWVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faWRlbnRpdGllcz1lfX0se2tleToiaWRwcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpc3RPZklkcHN9fV0pLElkZW50aXR5TW9kdWxlfSgpO3QuZGVmYXVsdD1iLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzQpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0NzUpLGUuZXhwb3J0cz1yKDEzKS5OdW1iZXIuaXNJbnRlZ2VyfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyMSk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDQ3Nil9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLG89TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIW4oZSkmJmlzRmluaXRlKGUpJiZvKGUpPT09ZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLGk9cig3KSxzPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaSksYT1zLmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSx1PWZ1bmN0aW9uIEd1aUZha2UoZSx0KXsoMCxvLmRlZmF1bHQpKHRoaXMsR3VpRmFrZSksYS5sb2coIkZha2VHVUlfZGVwbG95ZWQiKTt2YXIgcj10aGlzO3IuX3VybD1lLHIuX3dhaXRUaW1lPTFlNCxyLl9tZXNzYWdlQnVzPXQsci5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihyLl91cmwsZnVuY3Rpb24oZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpJiYiY3JlYXRlIj09PWUudHlwZSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiZlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImlkZW50aXRpZXMiKSYmZS5ib2R5LnZhbHVlLmhhc093blByb3BlcnR5KCJpZHBzIikpe3ZhciB0PWUuYm9keS52YWx1ZS5pZGVudGl0aWVzLG49ZS5ib2R5LnZhbHVlLmlkcHMsbz12b2lkIDA7bz12b2lkIDAhPT10WzBdP3t0eXBlOiJpZGVudGl0eSIsdmFsdWU6dFswXSxjb2RlOjIwMH06e3R5cGU6ImlkcCIsdmFsdWU6blsxXS5kb21haW4sY29kZToyMDB9O3ZhciBpPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6b307IndhaXQiPT09ZS5ib2R5LnZhbHVlP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfSxyLl93YWl0VGltZSk6ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1lbHNlIGEubG9nKCJJZ25vcmluZyBtZXNzYWdlcyBub3QgaW50ZW5kZWQgdG8gRmFrZUdVSS4iLGUpfSl9O3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cigyMDUpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPWYuZ2V0TG9nZ2VyKCJJZGVudGl0eU1hbmFnZXIiKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdHlNYW5hZ2VyKGUpeygwLHMuZGVmYXVsdCkodGhpcyxJZGVudGl0eU1hbmFnZXIpLHRoaXMuX2lkbT1lfXJldHVybigwLHUuZGVmYXVsdCkoSWRlbnRpdHlNYW5hZ2VyLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pZG0uaWRlbnRpdGllcz1uZXcgZC5kZWZhdWx0KHRoaXMuX2lkbS5pZGVudGl0aWVzLl90eXBlLHRoaXMuX2lkbS5pZGVudGl0aWVzLl9zdG9yYWdlTWFuYWdlcil9fSx7a2V5OiJfaXNUb1NldElEIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImRvbWFpbi1pZHAiLCJydW50aW1lIiwiZG9tYWluIl0scj1lLmZyb207aWYoZS5ib2R5JiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInNvdXJjZSIpJiYocj1lLmJvZHkuc291cmNlKSxlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3Vic2NyaWJlciIpJiYocj1lLmJvZHkuc3Vic2NyaWJlciksImZvcndhcmQiPT09ZS50eXBlKXJldHVybiExO2lmKHIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIil8fHIuaW5jbHVkZXMoIi9wMnBoYW5kbGVyLyIpKXJldHVybiExO3ZhciBuPXIuc3BsaXQoIjovLyIpLG89blswXTtyZXR1cm4tMT09PXQuaW5kZXhPZihvKX19LHtrZXk6InByb2Nlc3NNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBwLmxvZygiW0lkZW50aXR5TWFuYWdlci5wcm9jZXNzTWVzc2FnZV0gIixlKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYoIXQuX2lzVG9TZXRJRChlKSlyZXR1cm4gcihlKTt0Ll9pZG0uZ2V0VG9rZW4oZSkudGhlbihmdW5jdGlvbih0KXtlLmhhc093blByb3BlcnR5KCJib2R5Iil8fChlLmJvZHk9e30pLGUuYm9keS5pZGVudGl0eT10LHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtwLmVycm9yKGUpLG4oZSl9KX0pfX1dKSxJZGVudGl0eU1hbmFnZXJ9KCk7dC5kZWZhdWx0PXksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDQ4MCksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig0ODEpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDgyKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz0ocigxNCksZi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gUEVQKGUpeygwLHMuZGVmYXVsdCkodGhpcyxQRVApO3ZhciB0PXRoaXM7dC5wZHA9bmV3IHkuZGVmYXVsdChlKSx0LmFjdGlvbnNTZXJ2aWNlPW5ldyBkLmRlZmF1bHQoZSksdC5jb250ZXh0PWUsZS5wZXA9dCxlLmxvYWRDb25maWd1cmF0aW9ucygpfXJldHVybigwLHUuZGVmYXVsdCkoUEVQLFt7a2V5OiJhZGRHVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNvbnRleHQubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihlLmNvbnRleHQucGVwVVJMLGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keS5tZXRob2Qsbj12b2lkIDA7aWYoImFkZFRvR3JvdXAiPT09cil7dmFyIG89dC5ib2R5LnBhcmFtcy5ncm91cE5hbWUsaT10LmJvZHkucGFyYW1zLnVzZXJFbWFpbDtuPWUuY29udGV4dC5hZGRUb0dyb3VwKG8saSl9ZWxzZSBpZigiY3JlYXRlR3JvdXAiPT09cil7dmFyIHM9dC5ib2R5LnBhcmFtcy5ncm91cE5hbWU7bj1lLmNvbnRleHQuY3JlYXRlR3JvdXAocyl9ZWxzZSBpZigiYWRkUG9saWN5Ij09PXIpe3ZhciBhPXQuYm9keS5wYXJhbXMuc291cmNlLHU9dC5ib2R5LnBhcmFtcy5rZXksYz10LmJvZHkucGFyYW1zLnBvbGljeSxmPXQuYm9keS5wYXJhbXMuY29tYmluaW5nQWxnb3JpdGhtO249ZS5hZGRQb2xpY3koYSx1LGMsZil9ZWxzZSBpZigiZGVsZXRlR3JvdXAiPT09cil7dmFyIGw9dC5ib2R5LnBhcmFtcy5ncm91cE5hbWU7bj1lLmNvbnRleHQuZGVsZXRlR3JvdXAobCl9ZWxzZSBpZigicmVtb3ZlUG9saWN5Ij09PXIpe3ZhciBkPXQuYm9keS5wYXJhbXMuc291cmNlLHA9dC5ib2R5LnBhcmFtcy5rZXk7bj1lLnJlbW92ZVBvbGljeShkLHApfWVsc2UgaWYoInNhdmVQb2xpY2llcyI9PT1yKXt2YXIgeT10LmJvZHkucGFyYW1zLnNvdXJjZTtuPWUuY29udGV4dC5zYXZlUG9saWNpZXMoeSl9ZWxzZSBpZigidXNlclBvbGljaWVzIj09PXIpbj1lLmNvbnRleHQudXNlclBvbGljaWVzO2Vsc2UgaWYoImFjdGl2ZVVzZXJQb2xpY3kiPT09cil7dmFyIGg9dC5ib2R5LnBhcmFtcy51c2VyUG9saWN5O2gmJihlLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeT1oKSxuPWUuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5fWVsc2UgaWYoInVzZXJQb2xpY3kiPT09cil7dmFyIHY9dC5ib2R5LnBhcmFtcy5rZXk7bj1lLmNvbnRleHQudXNlclBvbGljaWVzW3ZdfWVsc2Uic2F2ZUFjdGl2ZVBvbGljeSI9PT1yP249ZS5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKToiZ2V0TXlFbWFpbHMiPT09cj9uPWUuY29udGV4dC5nZXRNeUVtYWlscygpOiJnZXRNeUh5cGVydGllcyI9PT1yP249ZS5jb250ZXh0LmdldE15SHlwZXJ0aWVzKCk6Imdyb3VwcyI9PT1yP249ZS5jb250ZXh0Lmdyb3VwczoiZ2V0R3JvdXBzTmFtZXMiPT09ciYmKG49ZS5jb250ZXh0LmdldEdyb3Vwc05hbWVzKCkpO2lmKCJyZW1vdmVGcm9tR3JvdXAiPT09cil7dmFyIGc9dC5ib2R5LnBhcmFtcy5ncm91cE5hbWUsYj10LmJvZHkucGFyYW1zLnVzZXJFbWFpbDtuPWUuY29udGV4dC5yZW1vdmVGcm9tR3JvdXAoZyxiKX12YXIgXz17dHlwZToiZXhlY3V0ZSIsdmFsdWU6bixjb2RlOjIwMH0sbT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Ol99O2UuY29udGV4dC5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG0pfSl9fSx7a2V5OiJhZGRQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFlKXRocm93IG5ldyBFcnJvcigic291cmNlIGlzIG5vdCBkZWZpbmVkIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJrZXkgaXMgbm90IGRlZmluZWQiKTtzd2l0Y2godm9pZCAwPT09cj9yPW5ldyB2LmRlZmF1bHQodCxbXSxbXSxuKTpyIGluc3RhbmNlb2Ygdi5kZWZhdWx0fHwocj1uZXcgdi5kZWZhdWx0KHIua2V5LHIucnVsZXMsci5hY3Rpb25zLHIuY29tYmluaW5nQWxnb3JpdGhtKSksZSl7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjp0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKGUscix0KTticmVhaztjYXNlIlVTRVIiOnRoaXMuY29udGV4dC51c2VyUG9saWNpZXNbdF09cix0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gcG9saWN5IHNvdXJjZTogIitlKX19fSx7a2V5OiJhdXRob3Jpc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UgaXMgbm90IGRlZmluZWQiKTtpZighZS5mcm9tKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS5mcm9tIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUudG8pdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLnRvIGlzIG5vdCBkZWZpbmVkIik7aWYoIWUudHlwZSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UudHlwZSBpcyBub3QgZGVmaW5lZCIpO3JldHVybiBlLmJvZHk9ZS5ib2R5fHx7fSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ZS5ib2R5PWUuYm9keXx8e307dmFyIGk9cixzPWkucGRwLmV2YWx1YXRlUG9saWNpZXMoZSx0KTsiTm90IEFwcGxpY2FibGUiPT09cyYmKHM9aS5jb250ZXh0LmRlZmF1bHRCZWhhdmlvdXIsZS5ib2R5LmF1dGg9ITEpLGkuYWN0aW9uc1NlcnZpY2UuZW5mb3JjZVBvbGljaWVzKGUsdCkudGhlbihmdW5jdGlvbih0KXtmb3IodmFyIHIgaW4gdClpZihlPXRbcl0scyllLmJvZHkuYXV0aD12b2lkIDA9PT1lLmJvZHkuYXV0aHx8ZS5ib2R5LmF1dGgsbihlKTtlbHNle3ZhciBpPXtib2R5Ontjb2RlOjQwMyxkZXNjcmlwdGlvbjoiQmxvY2tlZCBieSBwb2xpY3kifSxmcm9tOmUudG8sdG86ZS5mcm9tLHR5cGU6InJlc3BvbnNlIn07byhpKX19LGZ1bmN0aW9uKGUpe28oZSl9KX0pfX0se2tleToiYXV0aG9yaXNlU3luYyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO3JldHVybiBlLmJvZHk9ZS5ib2R5fHx7fSx0PXRoaXMucGRwLmV2YWx1YXRlUG9saWNpZXMoZSwhMCksIk5vdCBBcHBsaWNhYmxlIj09PXQmJih0PXRoaXMuY29udGV4dC5kZWZhdWx0QmVoYXZpb3VyKSx0fX0se2tleToicmVtb3ZlUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigic291cmNlIGlzIG5vdCBkZWZpbmVkIik7aWYoIioiIT09ZSYmIXQpdGhyb3cgbmV3IEVycm9yKCJrZXkgaXMgbm90IGRlZmluZWQiKTtzd2l0Y2goZSl7Y2FzZSIqIjp0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5PXt9LHRoaXMuY29udGV4dC51c2VyUG9saWNpZXM9e30sdGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9dm9pZCAwLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlVTRVIiKSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJTRVJWSUNFX1BST1ZJREVSIiksdGhpcy5jb250ZXh0LnNhdmVBY3RpdmVQb2xpY3koKTticmVhaztjYXNlIlNFUlZJQ0VfUFJPVklERVIiOmRlbGV0ZSB0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5W3RdLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoKTticmVhaztjYXNlIlVTRVIiOmRlbGV0ZSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdLHQ9PT10aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeSYmKHRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCx0aGlzLmNvbnRleHQuc2F2ZUFjdGl2ZVBvbGljeSgpKSx0aGlzLmNvbnRleHQuc2F2ZVBvbGljaWVzKCJVU0VSIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb250ZXh0Lm1lc3NhZ2VCdXM9ZSx0LmFkZEdVSUxpc3RlbmVycygpfX1dKSxQRVB9KCkpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWN0aW9uc1NlcnZpY2UoZSl7KDAscy5kZWZhdWx0KSh0aGlzLEFjdGlvbnNTZXJ2aWNlKSx0aGlzLmNvbnRleHQ9ZX1yZXR1cm4oMCx1LmRlZmF1bHQpKEFjdGlvbnNTZXJ2aWNlLFt7a2V5OiJlbmZvcmNlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPXIuY29udGV4dC5nZXRQb2xpY2llcyhlLHQpO3ZvaWQgMCE9PWk/dm9pZCAwIT09aS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k/aS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7byhlKX0pOnZvaWQgMCE9PWkudXNlclBvbGljeT9pLnVzZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7byhlKX0pOm4oW2VdKTpuKFtlXSl9KX19LHtrZXk6ImZvcndhcmRUb0lEIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkpdGhyb3cgbmV3IEVycm9yKCJmb3J3YXJkIG1lc3NhZ2UgdG8gZ2l2ZW4gSUQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCIpO3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT9yLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodCkudGhlbihmdW5jdGlvbih0KXtlLnRvPXQuaHlwZXJ0eVVSTCxlLmJvZHkudmlhPXZvaWQgMCxuKGUpLHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9LGZ1bmN0aW9uKGUpe28oZSl9KTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToiZm9yd2FyZFRvSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuKXtpZihyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Lmh5cGVydGllc0xpc3RbMF0uaHlwZXJ0eVVSTD09PWUudG8peyJydW50aW1lIiE9PWUudG8uc3BsaXQoIjovLyIpWzBdPyhlLnRvPXQsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpKTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToic2VuZEF1dG9tYXRpY01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgbz17ZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ont2YWx1ZTp0fSx0eXBlOmUudHlwZX07bihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfSl9fV0pLEFjdGlvbnNTZXJ2aWNlfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDE0NSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQRFAoZSl7KDAsby5kZWZhdWx0KSh0aGlzLFBEUCksdGhpcy5jb250ZXh0PWUsdGhpcy5vcGVyYXRvcnM9bmV3IHUuZGVmYXVsdH1yZXR1cm4oMCxzLmRlZmF1bHQpKFBEUCxbe2tleToiZXZhbHVhdGVQb2xpY2llcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmNvbnRleHQuZ2V0UG9saWNpZXMoZSx0KSxuPSJOb3QgQXBwbGljYWJsZSI7aWYodm9pZCAwIT09ciYmKChuPXRoaXMuZXZhbHVhdGVQb2xpY3koZSxyLnNlcnZpY2VQcm92aWRlclBvbGljeSx0KSl8fCJOb3QgQXBwbGljYWJsZSI9PT1uKSl7dmFyIG89dGhpcy5ldmFsdWF0ZVBvbGljeShlLHIudXNlclBvbGljeSx0KTsiTm90IEFwcGxpY2FibGUiIT09byYmKG49byl9cmV0dXJuIG59fSx7a2V5OiJldmFsdWF0ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSJOb3QgQXBwbGljYWJsZSI7cmV0dXJuIHQmJihuPXQuZXZhbHVhdGVSdWxlcyh0aGlzLmNvbnRleHQsZSxyKSksbn19XSksUERQfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMjA2KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIwNyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigyMDgpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDgzKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBvbGljeShlLHQscixuKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsUG9saWN5KSwhZSl0aHJvdyBuZXcgRXJyb3IoImtleSBpcyBub3QgZGVmaW5lZCIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiYWN0aW9ucyBhcmUgbm90IGRlZmluZWQiKTt0aGlzLmFjdGlvbnM9cix0aGlzLmtleT1lLHRoaXMuX3NldFJ1bGVzKHQpLHRoaXMuX3NldENvbWJpbmluZ0FsZ29yaXRobShuKX1yZXR1cm4oMCx1LmRlZmF1bHQpKFBvbGljeSxbe2tleToiYWRkQWN0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYWN0aW9ucy5wdXNoKHttZXRob2Q6ZSxwYXJhbTp0fSl9fSx7a2V5OiJjcmVhdGVSdWxlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe3ZvaWQgMD09PW8mJihvPXRoaXMuZ2V0TGFzdFByaW9yaXR5KCkrMSk7dmFyIGk9bmV3IHYuZGVmYXVsdChlLHQscixuLG8pO3RoaXMucnVsZXMucHVzaChpKX19LHtrZXk6ImRlbGV0ZVJ1bGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucnVsZXMuaW5kZXhPZihlKTt0aGlzLnJ1bGVzLnNwbGljZSh0LDEpfX0se2tleToiZW5mb3JjZUFjdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBzPVtdO2lmKDAhPT1yLmFjdGlvbnMubGVuZ3RoKXtmb3IodmFyIGEgaW4gci5hY3Rpb25zKXt2YXIgdT1lLnBlcC5hY3Rpb25zU2VydmljZVtyLmFjdGlvbnNbYV0ubWV0aG9kXSh0LHIuYWN0aW9uc1thXS5wYXJhbSk7cy5wdXNoKHUpfW8uZGVmYXVsdC5hbGwocykudGhlbihmdW5jdGlvbihlKXtuKGUpfSxmdW5jdGlvbihlKXtpKGUpfSl9ZWxzZSBuKFt0XSl9KX19LHtrZXk6ImV2YWx1YXRlUnVsZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bXTtmb3IodmFyIG8gaW4gdGhpcy5ydWxlcyluLnB1c2godGhpcy5ydWxlc1tvXS5ldmFsdWF0ZShlLHQscikpO3JldHVybiB0aGlzLmNvbWJpbmluZ0FsZ29yaXRobS5jb21iaW5lKG4pfX0se2tleToiZ2V0TGFzdFByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVtdO2lmKDAhPT10aGlzLnJ1bGVzLmxlbmd0aCl7Zm9yKHZhciB0IGluIHRoaXMucnVsZXMpZS5wdXNoKHRoaXMucnVsZXNbdF0ucHJpb3JpdHkpO3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGUpfXJldHVybi0xfX0se2tleToiZ2V0UnVsZUJ5UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLnJ1bGVzKWlmKFN0cmluZyh0aGlzLnJ1bGVzW3RdLnByaW9yaXR5KT09PVN0cmluZyhlKSlyZXR1cm4gdGhpcy5ydWxlc1t0XTt0aHJvdyBFcnJvcigiUnVsZSB3aXRoIHByaW9yaXR5ICIrZSsiIGRvZXMgbm90IGV4aXN0ISIpfX0se2tleToiX3NldENvbWJpbmluZ0FsZ29yaXRobSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGV8fChlPSJibG9ja092ZXJyaWRlcyIpLGUpe2Nhc2UiYmxvY2tPdmVycmlkZXMiOnRoaXMuY29tYmluaW5nQWxnb3JpdGhtPW5ldyBkLmRlZmF1bHQ7YnJlYWs7Y2FzZSJhbGxvd092ZXJyaWRlcyI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IGYuZGVmYXVsdDticmVhaztjYXNlImZpcnN0QXBwbGljYWJsZSI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IHkuZGVmYXVsdDticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIGFsZ29yaXRobTogIitlKX19fSx7a2V5OiJfc2V0UnVsZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucnVsZXM9W107Zm9yKHZhciB0IGluIGUpe3ZhciByPWVbdF07dm9pZCAwPT09ci5wcmlvcml0eSYmKHIucHJpb3JpdHk9dGhpcy5nZXRMYXN0UHJpb3JpdHkoKSsxKSxyIGluc3RhbmNlb2Ygdi5kZWZhdWx0fHwocj1uZXcgdi5kZWZhdWx0KHIuZGVjaXNpb24sci5jb25kaXRpb24sci5zY29wZSxyLnRhcmdldCxyLnByaW9yaXR5KSksdGhpcy5ydWxlcy5wdXNoKHIpfX19LHtrZXk6InNvcnRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydWxlcy5zb3J0KGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wcmlvcml0eSxuPXQucHJpb3JpdHk7cmV0dXJuIHI8bj8tMTpyPm4/MTowfSl9fV0pLFBvbGljeX0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cig0ODQpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMTQ2KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDE0KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVsZShlLHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxSdWxlKSx0aGlzLmRlY2lzaW9uPWUsdGhpcy5zZXRDb25kaXRpb24odCksdGhpcy5wcmlvcml0eT1pLHRoaXMuc2NvcGU9cix0aGlzLnRhcmdldD1ufXJldHVybigwLHMuZGVmYXVsdCkoUnVsZSxbe2tleToic2V0Q29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZi5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0KXRoaXMuY29uZGl0aW9uPWU7ZWxzZXtzd2l0Y2goZS5hdHRyaWJ1dGUpe2Nhc2Uic3Vic2NyaXB0aW9uIjp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpO2JyZWFrO2Nhc2Ugdm9pZCAwOnRoaXMuY29uZGl0aW9uPW5ldyB1LmRlZmF1bHQoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNvbmRpdGlvbj1uZXcgZi5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpfX19fSx7a2V5OiJldmFsdWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/dC50bzp0LmZyb20sbz12b2lkIDA7c3dpdGNoKHRoaXMuc2NvcGUpe2Nhc2UiZ2xvYmFsIjpicmVhaztjYXNlImh5cGVydHkiOmlmKCgwLGwuaXNEYXRhT2JqZWN0VVJMKShuKSl7dmFyIGk9ZS5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKCgwLGwucmVtb3ZlUGF0aEZyb21VUkwpKG4pKTt2b2lkIDAhPT1pJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShpKSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYobz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZSgoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSkpO2lmKG89PT10aGlzLnRhcmdldClicmVhaztyZXR1cm4iTm90IEFwcGxpY2FibGUiO2Nhc2UiaWRlbnRpdHkiOnZhciBzPXZvaWQgMDtpZigoMCxsLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBhPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7cz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoYSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYocz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoKDAsbC5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZih2b2lkIDAhPT1zJiYocz0oMCxsLmdldFVzZXJFbWFpbEZyb21VUkwpKHMpKSxzPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn1yZXR1cm4gdGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGUsdCx0aGlzLnNjb3BlLHRoaXMudGFyZ2V0KT90aGlzLmRlY2lzaW9uOiJOb3QgQXBwbGljYWJsZSJ9fV0pLFJ1bGV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMTQ2KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDE0NSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig0ODUpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWR2YW5jZWRDb25kaXRpb24oZSl7KDAsby5kZWZhdWx0KSh0aGlzLEFkdmFuY2VkQ29uZGl0aW9uKSx0aGlzLm9wZXJhdG9ycz1uZXcgZi5kZWZhdWx0LHZvaWQgMCE9PWUub3BlcmF0b3JzJiYoZT1lLmNvbmRpdGlvbiksZT10aGlzLmJ1aWxkQ29uZGl0aW9uKGUpLHRoaXMuY29uZGl0aW9uPWV9cmV0dXJuKDAscy5kZWZhdWx0KShBZHZhbmNlZENvbmRpdGlvbixbe2tleToiYnVpbGRDb25kaXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGVbMV0pP2VbMV09dGhpcy5idWlsZENvbmRpdGlvbihlWzFdKToic3Vic2NyaXB0aW9uIj09PWVbMV0uYXR0cmlidXRlP2VbMV09bmV3IGQuZGVmYXVsdChlWzFdLmF0dHJpYnV0ZSxlWzFdLm9wZXJhdG9yLGVbMV0ucGFyYW1zKTplWzFdPW5ldyB1LmRlZmF1bHQoZVsxXS5hdHRyaWJ1dGUsZVsxXS5vcGVyYXRvcixlWzFdLnBhcmFtcyksdm9pZCAwIT09ZVsyXSYmKEFycmF5LmlzQXJyYXkoZVsyXSk/ZVsyXT10aGlzLmJ1aWxkQ29uZGl0aW9uKGVbMl0pOiJzdWJzY3JpcHRpb24iPT09ZVsyXS5hdHRyaWJ1dGU/ZVsyXT1uZXcgZC5kZWZhdWx0KGVbMl0uYXR0cmlidXRlLGVbMl0ub3BlcmF0b3IsZVsyXS5wYXJhbXMpOmVbMl09bmV3IHUuZGVmYXVsdChlWzJdLmF0dHJpYnV0ZSxlWzJdLm9wZXJhdG9yLGVbMl0ucGFyYW1zKSksZX19LHtrZXk6ImlzQXBwbGljYWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkscyl7Zm9yKG98fChvPXRoaXMuY29uZGl0aW9uWzBdLGk9dGhpcy5jb25kaXRpb25bMV0scz10aGlzLmNvbmRpdGlvblsyXSk7IShpIGluc3RhbmNlb2YgdS5kZWZhdWx0KSYhKGkgaW5zdGFuY2VvZiBkLmRlZmF1bHQpJiJib29sZWFuIiE9dHlwZW9mIGk7KWk9dGhpcy5pc0FwcGxpY2FibGUoZSx0LHIsbixpWzBdLGlbMV0saVsyXSk7aWYodm9pZCAwIT09cylmb3IoOyEocyBpbnN0YW5jZW9mIHUuZGVmYXVsdCkmIShzIGluc3RhbmNlb2YgZC5kZWZhdWx0KSYiYm9vbGVhbiIhPXR5cGVvZiBzOylzPXRoaXMuaXNBcHBsaWNhYmxlKGUsdCxyLG4sc1swXSxzWzFdLHNbMl0pO3ZhciBhPSJib29sZWFuIj09dHlwZW9mIGk/aTppLmlzQXBwbGljYWJsZShlLHQscixuKSxjPXZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cyYmKGM9ImJvb2xlYW4iPT10eXBlb2Ygcz9zOnMuaXNBcHBsaWNhYmxlKGUsdCxyLG4pKSx0aGlzLm9wZXJhdG9yc1tvXShbYSxjXSl9fV0pLEFkdmFuY2VkQ29uZGl0aW9ufSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNTkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDY3KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDQ4NiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2OCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cigxNDYpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbkNvbmRpdGlvbihlLHQscil7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbkNvbmRpdGlvbiksKDAsZi5kZWZhdWx0KSh0aGlzLChTdWJzY3JpcHRpb25Db25kaXRpb24uX19wcm90b19ffHwoMCxvLmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbikpLmNhbGwodGhpcyxlLHQscikpfXJldHVybigwLHkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLGUpLCgwLHUuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLFt7a2V5OiJpc0FwcGxpY2FibGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISEoInN1YnNjcmliZSI9PT10LnR5cGUmZS5pc0Zyb21SZW1vdGVTTSh0LmZyb20pKSYmKDAsZC5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlLl9fcHJvdG9fX3x8KDAsby5kZWZhdWx0KShTdWJzY3JpcHRpb25Db25kaXRpb24ucHJvdG90eXBlKSwiaXNBcHBsaWNhYmxlIix0aGlzKS5jYWxsKHRoaXMsZSx0KX19XSksU3Vic2NyaXB0aW9uQ29uZGl0aW9ufSh2LmRlZmF1bHQpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNTkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNDg3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSk7dC5kZWZhdWx0PWZ1bmN0aW9uIGdldChlLHQscil7bnVsbD09PWUmJihlPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG49KDAscy5kZWZhdWx0KShlLHQpO2lmKHZvaWQgMD09PW4pe3ZhciBpPSgwLG8uZGVmYXVsdCkoZSk7cmV0dXJuIG51bGw9PT1pP3ZvaWQgMDpnZXQoaSx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBhPW4uZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChyKX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0ODgpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7cig0ODkpO3ZhciBuPXIoMTMpLk9iamVjdDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ1KSxvPXIoMTQzKS5mO3IoMTM0KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKG4oZSksdCl9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoNTkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY3KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjAyKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksXz1yKDQ5MSksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF8pLFI9di5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIE1lc3NhZ2VCdXMoZSl7KDAsdS5kZWZhdWx0KSh0aGlzLE1lc3NhZ2VCdXMpO3ZhciB0PSgwLGQuZGVmYXVsdCkodGhpcywoTWVzc2FnZUJ1cy5fX3Byb3RvX198fCgwLHMuZGVmYXVsdCkoTWVzc2FnZUJ1cykpLmNhbGwodGhpcykpO3JldHVybiB0Ll9yZWdpc3RyeT1lLHQuX2ZvcndhcmRzPXt9LHQuX3BpcGVsaW5lSW49bmV3IG0uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxvLmRlZmF1bHQpKGUpKX0pLHQuX3BpcGVsaW5lT3V0PW5ldyBtLmRlZmF1bHQoZnVuY3Rpb24oZSl7Ui5lcnJvcigiUElQRUxJTkUtRVJST1I6ICIsKDAsby5kZWZhdWx0KShlKSl9KSx0fXJldHVybigwLHkuZGVmYXVsdCkoTWVzc2FnZUJ1cyxlKSwoMCxmLmRlZmF1bHQpKE1lc3NhZ2VCdXMsW3trZXk6InBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Ui5pbmZvKCJvblBPU1RNZXNzYWdlOiAiLGUpO3ZhciBuPXRoaXMsbz1mdW5jdGlvbihvKXtpZihuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSwhbi5fb25SZXNwb25zZShvKSl7dmFyIGk9bi5fc3Vic2NyaXB0aW9uc1tvLnRvXTtpP24uX3B1Ymxpc2hPbihpLG8pOm4uX29uUG9zdE1lc3NhZ2Uobyl9fTtpZihuLl9nZW5JZChlKSxuLl9pc1RvUHJvY2VzcyhlKSl7bi5faXNJbmNvbWluZ01lc3NhZ2UoZSk/bi5fcGlwZWxpbmVJbi5wcm9jZXNzKGUsbyk6bi5fcGlwZWxpbmVPdXQucHJvY2VzcyhlLG8pfWVsc2UgbyhlKTtyZXR1cm4gZS5pZH19LHtrZXk6Il9pc1RvUHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJkb21haW4iLCJkb21haW4taWRwIiwiZ2xvYmFsIiwiaHlwZXJ0eS1ydW50aW1lIiwicnVudGltZSJdLHI9ZS5mcm9tLnNwbGl0KCI6Ly8iKSxuPXJbMF0sbz1lLnRvLnNwbGl0KCI6Ly8iKSxpPW9bMF0scz1lLmZyb20sYT1lLnRvO3JldHVybiBlLmJvZHkmJmUuYm9keS5zb3VyY2UmJihzPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5LnN1YnNjcmliZXImJihzPWUuYm9keS5zdWJzY3JpYmVyKSwtMT09PXMuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09cy5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYtMT09PWEuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09YS5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYoKCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHMpfHwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChlLnRvKSkmJighKGUuZnJvbT09PW58fGUudG89PT1pfHwicmVhZCI9PT1lLnR5cGV8fCJyZXNwb25zZSI9PT1lLnR5cGV8fGUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpJiYiZGVsZXRlIj09PWUudHlwZSkmJigtMT09PXQuaW5kZXhPZihuKXx8LTE9PT10LmluZGV4T2YoaSkpKSl9fSx7a2V5OiJfaXNJbmNvbWluZ01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4iZm9yd2FyZCI9PT1lLnR5cGU/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLnR5cGU6ICIsZS50eXBlKSx0PWUuYm9keS5mcm9tKTplLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJmUuYm9keS5zb3VyY2U/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc291cmNlOiAiLGUuYm9keS5zb3VyY2UpLHQ9ZS5ib2R5LnNvdXJjZSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmZS5ib2R5LnN1YnNjcmliZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc3Vic2NyaWJlcjogIixlLmJvZHkuc3Vic2NyaWJlciksdD1lLmJvZHkuc3Vic2NyaWJlcik6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikmJmUuYm9keS5yZXBvcnRlcj8oUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuYm9keS5yZXBvcnRlcjogIixlLmJvZHkucmVwb3J0ZXIpLHQ9ZS5ib2R5LnJlcG9ydGVyKTooUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuZnJvbSAiLGUuZnJvbSksdD1lLmZyb20pLFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBjaGVjayBpZiBpc0xvY2FsOiAiLHQpLCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHQpfX0se2tleToiYWRkUHVibGlzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1yLl9mb3J3YXJkc1tlXTtpZighbil7bj17Y291bnRlcjowLGZsOnIuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbih0KXtSLmluZm8oIk1CLVBVQkxJU0g6ICggIitlKyIgKSIpLHIuX29uUG9zdE1lc3NhZ2UodCl9KSxyZW1vdmU6ZnVuY3Rpb24oKXswPT09LS10LmNvdW50ZXImJih0LmZsLnJlbW92ZSgpLGRlbGV0ZSByLl9mb3J3YXJkc1tlXSl9fSxyLl9mb3J3YXJkc1tlXT1ufXJldHVybiBuLmNvdW50ZXIrKyxufX0se2tleToiYWRkRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiByLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24obil7Ui5pbmZvKCJNQi1GT1JXQVJEOiAoICIrZSsiIHRvICIrdCsiICkiKSxyLmZvcndhcmQodCxuKX0pfX0se2tleToiZm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5fc3Vic2NyaXB0aW9uc1tlXTtuJiZyLl9wdWJsaXNoT24obix0KX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX3JlZ2lzdHJ5LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihyLG4pe24/dC5mb3J3YXJkKHIsbik6dC5mb3J3YXJkKHIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtSLmVycm9yKCJSRVNPTFZFLUVSUk9SOiAiLGUpfSl9fSx7a2V5OiJwaXBlbGluZUluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVJbn19LHtrZXk6InBpcGVsaW5lT3V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVPdXR9fV0pLE1lc3NhZ2VCdXN9KGIuZGVmYXVsdCk7dC5kZWZhdWx0PXcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9KHIoMTQpLHUuZ2V0TG9nZ2VyKCJQaXBlbGluZSIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gUGlwZWxpbmUoZSl7KDAsby5kZWZhdWx0KSh0aGlzLFBpcGVsaW5lKTt2YXIgdD10aGlzO3QuaGFuZGxlcnM9W10sdC5vbkZhaWw9ZX1yZXR1cm4oMCxzLmRlZmF1bHQpKFBpcGVsaW5lLFt7a2V5OiJwcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5oYW5kbGVycy5sZW5ndGg+MCl7dmFyIG49bmV3IGwoci5oYW5kbGVycyk7bi5uZXh0KG5ldyBmKHIsbixlLHQpKX1lbHNlIHQoZSl9fV0pLFBpcGVsaW5lfSgpKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUGlwZUNvbnRleHQoZSx0LHIsbil7KDAsby5kZWZhdWx0KSh0aGlzLFBpcGVDb250ZXh0KTt2YXIgaT10aGlzO2kuX2luU3RvcD0hMSxpLl9waXBlbGluZT1lLGkuX2l0ZXI9dCxpLl9tc2c9cixpLl9vbkRlbGl2ZXI9bn1yZXR1cm4oMCxzLmRlZmF1bHQpKFBpcGVDb250ZXh0LFt7a2V5OiJuZXh0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faXRlci5oYXNOZXh0P2UuX2l0ZXIubmV4dChlKTplLl9vbkRlbGl2ZXIoZS5fbXNnKSl9fSx7a2V5OiJkZWxpdmVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faW5TdG9wPSEwLGUuX29uRGVsaXZlcihlLl9tc2cpKX19LHtrZXk6ImZhaWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5faW5TdG9wfHwodC5faW5TdG9wPSEwLHQuX3BpcGVsaW5lLm9uRmFpbCYmdC5fcGlwZWxpbmUub25GYWlsKGUpKX19LHtrZXk6InBpcGVsaW5lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmV9fSx7a2V5OiJtc2ciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tc2d9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tc2c9ZX19XSksUGlwZUNvbnRleHR9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIEl0ZXJhdG9yKGUpeygwLG8uZGVmYXVsdCkodGhpcyxJdGVyYXRvciksdGhpcy5faW5kZXg9LTEsdGhpcy5fYXJyYXk9ZX1yZXR1cm4oMCxzLmRlZmF1bHQpKEl0ZXJhdG9yLFt7a2V5OiJoYXNOZXh0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXg8dGhpcy5fYXJyYXkubGVuZ3RoLTF9fSx7a2V5OiJuZXh0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXgrKyx0aGlzLl9hcnJheVt0aGlzLl9pbmRleF19fV0pLEl0ZXJhdG9yfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoOCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDkzKSxkPXIoNykscD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGQpLHk9cC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ3J5cHRvKGUpeygwLHUuZGVmYXVsdCkodGhpcyxDcnlwdG8pO3ZhciB0PXRoaXM7ImZ1bmN0aW9uIj09dHlwZW9mIGUuY3JlYXRlV2ViY3J5cHRvP3QuX2NyeXB0bz1lLmNyZWF0ZVdlYmNyeXB0bygpOnQuX2NyeXB0bz1jcnlwdG99cmV0dXJuKDAsZi5kZWZhdWx0KShDcnlwdG8sW3trZXk6ImVuY3J5cHRSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7eS5sb2coImVuY3J5cHRSU0E6cHViS2V5IixlKSx5LmxvZygiZW5jcnlwdFJTQTpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5faW1wb3J0UlNBZW5jcnlwdEtleShuZXcgVWludDhBcnJheShlKSkudGhlbihmdW5jdGlvbihlKXtyLl9jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6IlJTQS1PQUVQIn0sZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhlKX0pfSl9KX19LHtrZXk6ImRlY3J5cHRSU0EiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7eS5sb2coImRlY3J5cHRSU0E6cHJpdktleSIsZSkseS5sb2coImRlY3J5cHRSU0E6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe3IuX2ltcG9ydFJTQWRlY3J5cHRLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyLl9jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6IlJTQS1PQUVQIn0sZSx0KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpO24odCl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToic2lnblJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7ci5faW1wb3J0UlNBc2lnbktleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUifSxlLCgwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7bihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKGUpfSl9KX0pfX0se2tleToidmVyaWZ5UlNBIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2ltcG9ydFJTQXZlcmlmeUtleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUudmVyaWZ5KHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSJ9LGUsciwoMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKGUpfSl9KX0pfX0se2tleToiZW5jcnlwdEFFUyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3kubG9nKCJlbmNyeXB0QUVTOmtleSIsZSkseS5sb2coImVuY3J5cHRBRVM6ZGF0YSIsdCkseS5sb2coImVuY3J5cHRBRVM6aXYiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLl9pbXBvcnRBRVNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6IkFFUy1DQkMiLGl2OnJ9LGUsKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXtvKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJkZWNyeXB0QUVTIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coImRlY3J5cHRBRVM6a2V5IixlKSx5LmxvZygiZGVjcnlwdEFFUzpkYXRhIix0KSx5LmxvZygiZGVjcnlwdEFFUzppdiIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihvLGkpe24uX2ltcG9ydEFFU2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiQUVTLUNCQyIsaXY6cn0sZSx0KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwuZGVjb2RlVVRGOCkobmV3IFVpbnQ4QXJyYXkoZSkpO3kubG9nKCJjcnlwdG8tZGVjcnlwdEFFUyIsdCksbyh0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJoYXNoSE1BQyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiaGFzaEhNQUM6a2V5IixlKSx5LmxvZygiaGFzaEhNQUM6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpeyJzdHJpbmciIT10eXBlb2YgdCYmKHQ9KDAsby5kZWZhdWx0KSh0KSx5LmxvZygiQ29udmVydGluZyBoYXNoSE1BQyBpbnB1cmVkIERBVEEiKSx5LmxvZygiSEhhc2hITUFDOiIsdCkpLHIuX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtyLl9jcnlwdG8uc3VidGxlLnNpZ24oe25hbWU6IkhNQUMifSxlLCgwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coIkhhc2hITUFDIHNpZ25hdHVyZToiLG5ldyBVaW50OEFycmF5KGUpKSxuKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koZSl9KX0pfSl9fSx7a2V5OiJ2ZXJpZnlITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coInZlcmlmeUhNQUM6a2V5IixlKSx5LmxvZygidmVyaWZ5SE1BQzpkYXRhIix0KSx5LmxvZygidmVyaWZ5SE1BQzpzaWduYXR1cmUiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtuLl9pbXBvcnRITUFDa2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxvLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIHZlcmlmeUhNQUMgaW5wdXRlZCBEQVRBOiIsdCkpLG4uX2NyeXB0by5zdWJ0bGUudmVyaWZ5KHtuYW1lOiJITUFDIn0sZSxyLCgwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coInZlcmlmeUhNQUMgcmVzdWx0IixlKSxlP2koZSk6cyhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by12ZXJpZnlITUFDIixlKSxzKGUpfSl9KX0pfX0se2tleToiZ2VuZXJhdGVSU0FLZXlQYWlyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX2NyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoe25hbWU6IlJTQS1QU1MiLG1vZHVsdXNMZW5ndGg6MjA0OCxwdWJsaWNFeHBvbmVudDpuZXcgVWludDhBcnJheShbMSwwLDFdKSxoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsic2lnbiIsInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKG8pe2UuX2NyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCJzcGtpIixvLnB1YmxpY0tleSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gdC5wdWJsaWM9bmV3IFVpbnQ4QXJyYXkociksZS5fY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoInBrY3M4IixvLnByaXZhdGVLZXkpfSkudGhlbihmdW5jdGlvbihlKXt0LnByaXZhdGU9bmV3IFVpbnQ4QXJyYXkoZSkscih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcihlKSxuKGUpfSl9KX19LHtrZXk6ImdlbmVyYXRlSVYiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gZS5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KSx0fX0se2tleToiZ2VuZXJhdGVSYW5kb20iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBVaW50OEFycmF5KDMyKTtlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpO2Zvcih2YXIgcj1EYXRlLm5vdygpLG49KDAsbC5lbmNvZGVVVEY4KShyLnRvU3RyaW5nKCkpLG89bi5zbGljZShuLmxlbmd0aC00LG4ubGVuZ3RoKSxpPTA7aTw0O2krKyl0W2ldPW9baV07cmV0dXJuIHR9fSx7a2V5OiJnZW5lcmF0ZVBNUyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoNDgpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZU1hc3RlclNlY3JldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIGk9bmV3IFVpbnQ4QXJyYXkoNDgpLHM9dDtyLl9kaWdlc3QoZSkudGhlbihmdW5jdGlvbihlKXtyLmhhc2hITUFDKGUscykudGhlbihmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPDMyO24rKylpW25dPXRbbl07cmV0dXJuIHIuaGFzaEhNQUMoZSxzK3QpfSkudGhlbihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PDE2O3QrKylpW3QrMzJdPWVbdF07bihpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfSl9fSx7a2V5OiJnZW5lcmF0ZUtleXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe3ZhciBpPVtdLHM9dDtyLmhhc2hITUFDKGUscykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5wdXNoKHQpLHIuaGFzaEhNQUMoZSxzK3QpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5wdXNoKHQpLHIuaGFzaEhNQUMoZSxzK3QpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5wdXNoKHQpLHIuaGFzaEhNQUMoZSxzK3QpfSkudGhlbihmdW5jdGlvbihlKXtpLnB1c2goZSksbihpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQXNpZ25LZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgicGtjczgiLGUse25hbWU6IlJTQVNTQS1QS0NTMS12MV81IixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsic2lnbiJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQXNpZ25LZXkiLGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQXZlcmlmeUtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJzcGtpIixlLHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCxbInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQXZlcmlmeUtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZW5jcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJzcGtpIixlLHtuYW1lOiJSU0EtT0FFUCIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCxbImVuY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiY3J5cHRvLV9pbXBvcnRSU0FlbmNyeXB0S2V5IixlLm5hbWUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydFJTQWRlY3J5cHRLZXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmltcG9ydEtleSgicGtjczgiLGUse25hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLFsiZGVjcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWRlY3J5cHRLZXkiLGUpLG4oZSl9KX0pfX0se2tleToiY29uY2F0UE1Td2l0aFJhbmRvbXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgrdC5sZW5ndGgrci5sZW5ndGgpLG89MDtvPGUubGVuZ3RoO28rKyluW29dPWVbb107Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspbltpK2UubGVuZ3RoXT1lW2ldO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKW5bcytlLmxlbmd0aCt0Lmxlbmd0aF09ZVtzXTtyZXR1cm4gbn19LHtrZXk6Il9nZW5lcmF0ZTI1NmJpdEtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoMzIpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJfaW1wb3J0SE1BQ2tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2RpZ2VzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLGUse25hbWU6IkhNQUMiLGhhc2g6e25hbWU6IlNIQS0yNTYifSxsZW5ndGg6MjU2fSwhMCxbInNpZ24iLCJ2ZXJpZnkiXSkudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9KX19LHtrZXk6Il9kaWdlc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9jcnlwdG8uc3VidGxlLmRpZ2VzdCh7bmFtZToiU0hBLTI1NiJ9LGUpLnRoZW4oZnVuY3Rpb24oZSl7cihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydEFFU2tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLGUse25hbWU6IkFFUy1DQkMifSwhMCxbImVuY3J5cHQiLCJkZWNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1pbXBvcnRBRVNrZXkiLGUpLG4oZSl9KX0pfX0se2tleToiX3NoYTI1NiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBUZXh0RW5jb2RlcigidXRmLTgiKS5lbmNvZGUoZSk7cmV0dXJuIHQuX2NyeXB0by5zdWJ0bGUuZGlnZXN0KCJTSEEtMjU2IixyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9oZXgoZSl9KX19LHtrZXk6Il9oZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPW5ldyBEYXRhVmlldyhlKSxuPTA7bjxyLmJ5dGVMZW5ndGg7bis9NCl7dmFyIG89ci5nZXRVaW50MzIobiksaT1vLnRvU3RyaW5nKDE2KSxzPSgiMDAwMDAwMDAiK2kpLnNsaWNlKC0iMDAwMDAwMDAiLmxlbmd0aCk7dC5wdXNoKHMpfXJldHVybiB0LmpvaW4oIiIpfX1dKSxDcnlwdG99KCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlbmNvZGVVVEY4KGUpe2Zvcih2YXIgdD0wLHI9bmV3IFVpbnQ4QXJyYXkoNCplLmxlbmd0aCksbj0wO24hPWUubGVuZ3RoO24rKyl7dHJ5e2UuY2hhckNvZGVBdChuKX1jYXRjaChlKXtyZXR1cm59dmFyIG89ZS5jaGFyQ29kZUF0KG4pO2lmKG88MTI4KXJbdCsrXT1vO2Vsc2V7aWYobzwyMDQ4KXJbdCsrXT1vPj42fDE5MjtlbHNle2lmKG8+NTUyOTUmJm88NTYzMjApe2lmKCsrbj09ZS5sZW5ndGgpdGhyb3ciVVRGLTggZW5jb2RlOiBpbmNvbXBsZXRlIHN1cnJvZ2F0ZSBwYWlyIjt2YXIgaT1lLmNoYXJDb2RlQXQobik7aWYoaTw1NjMyMHx8aT41NzM0Myl0aHJvdyJVVEYtOCBlbmNvZGU6IHNlY29uZCBjaGFyIGNvZGUgMHgiK2kudG9TdHJpbmcoMTYpKyIgYXQgaW5kZXggIituKyIgaW4gc3Vycm9nYXRlIHBhaXIgb3V0IG9mIHJhbmdlIjtvPTY1NTM2KygoMTAyMyZvKTw8MTApKygxMDIzJmkpLHJbdCsrXT1vPj4xOHwyNDAsclt0KytdPW8+PjEyJjYzfDEyOH1lbHNlIHJbdCsrXT1vPj4xMnwyMjQ7clt0KytdPW8+PjYmNjN8MTI4fXJbdCsrXT02MyZvfDEyOH19cmV0dXJuIHIuc3ViYXJyYXkoMCx0KX1mdW5jdGlvbiBkZWNvZGVVVEY4KGUpe2Zvcih2YXIgdD0iIixyPTA7cjxlLmxlbmd0aDspe3ZhciBuPWVbcisrXTtpZihuPjEyNyl7aWYobj4xOTEmJm48MjI0KXtpZihyPj1lLmxlbmd0aCl0aHJvdyJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgMi1ieXRlIHNlcXVlbmNlIjtuPSgzMSZuKTw8Nnw2MyZlW3JdfWVsc2UgaWYobj4yMjMmJm48MjQwKXtpZihyKzE+PWUubGVuZ3RoKXRocm93IlVURi04IGRlY29kZTogaW5jb21wbGV0ZSAzLWJ5dGUgc2VxdWVuY2UiO249KDE1Jm4pPDwxMnwoNjMmZVtyXSk8PDZ8NjMmZVsrK3JdfWVsc2V7aWYoIShuPjIzOSYmbjwyNDgpKXRocm93IlVURi04IGRlY29kZTogdW5rbm93biBtdWx0aWJ5dGUgc3RhcnQgMHgiK24udG9TdHJpbmcoMTYpKyIgYXQgaW5kZXggIisoci0xKTtpZihyKzI+PWUubGVuZ3RoKXRocm93IlVURi04IGRlY29kZTogaW5jb21wbGV0ZSA0LWJ5dGUgc2VxdWVuY2UiO249KDcmbik8PDE4fCg2MyZlW3JdKTw8MTJ8KDYzJmVbKytyXSk8PDZ8NjMmZVsrK3JdfSsrcn1pZihuPD02NTUzNSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pO2Vsc2V7aWYoIShuPD0xMTE0MTExKSl0aHJvdyJVVEYtOCBkZWNvZGU6IGNvZGUgcG9pbnQgMHgiK24udG9TdHJpbmcoMTYpKyIgZXhjZWVkcyBVVEYtMTYgcmVhY2giO24tPTY1NTM2LHQrPVN0cmluZy5mcm9tQ2hhckNvZGUobj4+MTB8NTUyOTYpLHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTAyMyZufDU2MzIwKX19cmV0dXJuIHR9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZW5jb2RlVVRGOD1lbmNvZGVVVEY4LHQuZGVjb2RlVVRGOD1kZWNvZGVVVEY4fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDk3KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cigxMDApLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJsb2FkZXIiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTG9hZGVyKGUsdCxyKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsTG9hZGVyKSwhdCl0aHJvdyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgY29uZmlndXJhdGlvbiIpO2lmKCFyKXRocm93IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSBEZXNjcmlwdG9yIGluc3RhbmNlIik7dGhpcy5sb2c9dix0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPXQsdGhpcy5kZXNjcmlwdG9ycz1yfXJldHVybigwLGYuZGVmYXVsdCkoTG9hZGVyLFt7a2V5OiJsb2FkSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPXRoaXMsbj1hcmd1bWVudHNbMl07YXJndW1lbnRzWzNdO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGkscyl7dmFyIGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGw9ITEsZD1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gU29tZXRoaW5nIGZhaWxlZCBvbiB0aGUgZGVwbG95IGh5cGVydHk6ICIsZSkscyhlKX0seT1mdW5jdGlvbihlKXtsPSEwLHMoZSl9O3JldHVybiB2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tIEh5cGVydHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEdldCBoeXBlcnR5IGRlc2NyaXB0b3IgZm9yIDoiLGUpLHIuZGVzY3JpcHRvcnMuZ2V0SHlwZXJ0eURlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMTogcmV0dXJuIGh5cGVydHkgZGVzY3JpcHRvciIpLGM9ZTt2YXIgdD1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXQ/ZS5zb3VyY2VQYWNrYWdlOnIucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCh0KX0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAyOiByZXR1cm4gaHlwZXJ0eSBzb3VyY2UgY29kZSIpLGY9ZTtyZXR1cm4hMH0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAzOiByZXR1cm4gcG9saWN5IGVuZ2luZSByZXN1bHQiK2UpO3JldHVybiByLnJlZ2lzdHJ5LmdldEFwcFNhbmRib3goKX0seSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA0OiByZXR1cm4gdGhlIHNhbmRib3giLGUpLGUpfSxmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA0LjE6IFRyeSB0byByZWdpc3RlciBhIG5ldyBzYW5kYm94Iik7dmFyIHQ9e307cmV0dXJuIGMmJmMuaGFzT3duUHJvcGVydHkoImNhcGFiaWxpdGllcyIpJiYodD1jLnN0dWJDYXBhYmlsaXRpZXMpLHIuX3J1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3godCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRMaXN0ZW5lcigiKiIsZnVuY3Rpb24oZSl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSksZX0pfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDU6IHJldHVybiBzYW5kYm94IGFuZCByZWdpc3RlciIpLHU9ZTtyZXR1cm4gci5fYWRkcmVzc0FsbG9jYXRpb24uY3JlYXRlKHIuX3JlZ2lzdHJ5Ll9kb21haW4sMSxjLCJoeXBlcnR5Iix0KX0seSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA2OiByZXR1cm4gdGhlIGFkZHJlc3NlcyBmb3IgdGhlIGh5cGVydHkiLHQpLHIucmVnaXN0cnkucmVnaXN0ZXJIeXBlcnR5KHUsZSxjLHQsbikpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDc6IHJlZ2lzdHJhdGlvbiByZXN1bHQiLGUpLGE9ZS51cmw7dmFyIHQ9e307aWYoISgwLHAuZW1wdHlPYmplY3QpKGMuY29uZmlndXJhdGlvbikpdHJ5e3Q9KDAsby5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKGMuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe3Q9Yy5jb25maWd1cmF0aW9ufXQucnVudGltZVVSTD1yLl9ydW50aW1lVVJMLGUucDJwSGFuZGxlciYmKHQucDJwSGFuZGxlcj1lLnAycEhhbmRsZXIsdC5wMnBSZXF1ZXN0ZXI9ZS5wMnBSZXF1ZXN0ZXIpO3RyeXtyZXR1cm4gdS5kZXBsb3lDb21wb25lbnQoZi5zb3VyY2VDb2RlLGEsdCl9Y2F0Y2goZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEVycm9yIG9uIGRlcGxveSBjb21wb25lbnQ6IixlKSxzKGUpfX0seSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA4OiBEZXBsb3kgY29tcG9uZW50IHN0YXR1cyBmb3IgaHlwZXJ0eTogIixlKSxyLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYSxmdW5jdGlvbihlKXt1LnBvc3RNZXNzYWdlKGUpfSk7dmFyIHQ9e3J1bnRpbWVIeXBlcnR5VVJMOmEsc3RhdHVzOmV9O3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBIeXBlcnR5OiAiLHQpLGkodCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIil9LHkpLmNhdGNoKGQpfSl9fSx7a2V5OiJsb2FkU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdUHJvdG9TdHViIGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBzPSgwLHAuZGl2aWRlVVJMKShlKS5kb21haW47c3x8KHM9ZSk7dmFyIGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGw9ITEsZD12b2lkIDAseT1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1Tb21ldGhpbmcgZmFpbGVkIG9uIHRoZSBkZXBsb3kgb2YgcHJvdG9jb2xzdHViOiAiLGUpLGkoZSl9LGg9ZnVuY3Rpb24oZSl7bD0hMCxpKGUpfSxnPXZvaWQgMCxiPXt9O3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBzdGFydGluZyBsb2FkaW5nIGZvciAiLGUsIiB3aXRoIHAycGNvbmZpZyAiLHQpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXURpc2NvdmVyIG9yIENyZWF0ZSBhIG5ldyBQcm90b1N0dWIgZm9yIGRvbWFpbjogIixzKTt0cnl7aWYodClpZih0Lmhhc093blByb3BlcnR5KCJpc0hhbmRsZXJTdHViIikmJnQuaXNIYW5kbGVyU3R1YikhMCxkPXIucnVudGltZVVSTCxnPXIucmVnaXN0cnkuZGlzY292ZXJQMlBTdHViKCk7ZWxzZXshMDt2YXIgXz10LnJlbW90ZVJ1bnRpbWVVUkw7ZD1fLGc9ci5yZWdpc3RyeS5kaXNjb3ZlclAyUFN0dWIoXyl9ZWxzZSBkPXMsZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUHJvdG9zdHViKHMpO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTEuIFByb3RvIFN0dWIgRGlzY292ZXJlZCBmb3IgIixlLCI6ICIsZyksbihnKSx2LmluZm8oIiBbUnVudGltZS5Mb2FkZXJdLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX1jYXRjaChnKXt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0xLiBQcm90byBTdHViIG5vdCBmb3VuZCAiK2cpLHIuZGVzY3JpcHRvcnMuZ2V0U3R1YkRlc2NyaXB0b3IoZSkudGhlbihmdW5jdGlvbihlKXtpZihsKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTIuIHJldHVybiB0aGUgUHJvdG9TdHViIGRlc2NyaXB0b3IiKSx1PWU7dmFyIHQ9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT10P2Uuc291cmNlUGFja2FnZTpyLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwodCl9LGgpLmNhdGNoKHkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIWwmJih1JiZ1LmNvbnN0cmFpbnRzJiYoYj11LmNvbnN0cmFpbnRzKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0zLiByZXR1cm4gdGhlIFByb3RvU3R1YiBTb3VyY2UgQ29kZSIpLGY9ZSxyLnJlZ2lzdHJ5LmdldFNhbmRib3gocyxiKSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCAiLGUpLGE9ZSxlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNS4gU2FuZGJveCB3YXMgbm90IGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUgIixlKSxyLl9ydW50aW1lRmFjdG9yeS5jcmVhdGVTYW5kYm94KGIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRkTGlzdGVuZXIoIioiLGZ1bmN0aW9uKGUpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlKX0pLGV9KSl9KS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNi4gcmV0dXJuIHRoZSBzYW5kYm94IGluc3RhbmNlIGFuZCByZWdpc3RlciIsbiwidG8gZG9tYWluICIscyksYT1uLHIucmVnaXN0cnkucmVnaXN0ZXJTdHViKGEsZCx0LGUsdSkpfSxoKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIDcuIHJldHVybiB0aGUgcnVudGltZSBwcm90b3N0dWIgdXJsOiAiLGUpLGM9ZS51cmw7dmFyIG49e307aWYoISgwLHAuZW1wdHlPYmplY3QpKHUuY29uZmlndXJhdGlvbikpdHJ5e249KDAsby5kZWZhdWx0KSh7fSxKU09OLnBhcnNlKHUuY29uZmlndXJhdGlvbikpfWNhdGNoKGUpe249dS5jb25maWd1cmF0aW9ufWlmKHQpdHJ5e249KDAsby5kZWZhdWx0KShuLEpTT04ucGFyc2UodCkpfWNhdGNoKGUpe249KDAsby5kZWZhdWx0KShuLHQpfW4ucnVudGltZVVSTD1yLl9ydW50aW1lVVJMO3RyeXtyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIDg6IGFkZGluZyBzYW5kYm94IGxpc3RlbmVyIHRvIHByb3Rvc3R1YlVSTCA6ICIsYyksci5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGMsZnVuY3Rpb24oZSl7YS5wb3N0TWVzc2FnZShlKX0pLGEuZGVwbG95Q29tcG9uZW50KGYuc291cmNlQ29kZSxjLG4pfWNhdGNoKGUpe3YuZXJyb3IoIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gRXJyb3Igb24gZGVwbG95IGNvbXBvbmVudDoiLGUpLGkoZSl9fSxoKS50aGVuKGZ1bmN0aW9uKCl7aWYobClyZXR1cm4hMTt2YXIgZT12b2lkIDA7dD8odi5sb2coIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gcDJwQ29uZmlnOiAiLHQpLHQuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmKGU9ci5yZWdpc3RyeS5wMnBIYW5kbGVyU3R1YltyLl9ydW50aW1lVVJMXSksdC5oYXNPd25Qcm9wZXJ0eSgicDJwUmVxdWVzdGVyU3R1YiIpJiYoZT1yLnJlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbdC5yZW1vdGVSdW50aW1lVVJMXSkpOmU9ci5yZWdpc3RyeS5wcm90b3N0dWJzTGlzdFtzXSx2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBTdHViOiAiLGUpLG4oZSksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX0saCkuY2F0Y2goeSl9fSl9fSx7a2V5OiJsb2FkSWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMuX3JlYWR5VG9Vc2UoKSlyZXR1cm4hMTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gSWRwUHJveHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbjtpfHwoaT1lKTt2YXIgcz12b2lkIDAsYT12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAsZj0hMSxsPWZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBTb21ldGhpbmcgZmFpbGVkIG9uIHRoZSBkZXBsb3kgb2YgSWRwUHJveHk6ICIsZSksbihlKX0sZD1mdW5jdGlvbihlKXtmPSEwLG4oZSl9O3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAtLS0tLS0tLS0tLS0tLS0tLS0tIElEUCBQcm94eSBEZXBsb3kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IElkcFByb3h5IGZvciBkb21haW4vVVJMOiAiLGkpO3RyeXt2YXIgeT10LnJlZ2lzdHJ5LmRpc2NvdmVySWRwUHJveHkoaSk7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDEuIElEUFByb3h5IERpc2NvdmVyZWQ6ICIseSk7dmFyIGg9dC5yZWdpc3RyeS5pZHBQcm94eUxpc3RbaV07di5sb2coIkRlcGxveWVkOiAiLGgpLHIoaCksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIil9Y2F0Y2goeSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDEuIElkcFByb3h5IG5vdCBmb3VuZDoiLHkpLHQuZGVzY3JpcHRvcnMuZ2V0SWRwUHJveHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDIuIFJldHVybiB0aGUgSURQUHJveHkgZGVzY3JpcHRvciIpLGE9ZTt2YXIgcj1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXI/ZS5zb3VyY2VQYWNrYWdlOnQucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTChyKX0sZCkudGhlbihmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAzLiByZXR1cm4gdGhlIElEUFByb3h5IHNvdXJjZSBwYWNrYWdlIiksYz1lO3JldHVybiEwfSxkKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiZ0LnJlZ2lzdHJ5LmdldFNhbmRib3goaSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQuIGlmIHRoZSBzYW5kYm94IGlzIHJlZ2lzdGVyZWQgdGhlbiByZXR1cm4gdGhlIHNhbmRib3giLGUpLHM9ZSxlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDUuIFNhbmRib3ggd2FzIG5vdCBmb3VuZCwgY3JlYXRpbmcgYSBuZXcgb25lIixlKTt2YXIgcj17fTtyZXR1cm4gYSYmYS5oYXNPd25Qcm9wZXJ0eSgiY2FwYWJpbGl0aWVzIikmJihhPWEuc3R1YkNhcGFiaWxpdGllcyksdC5fcnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveChyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbihlKXt0Lm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9KSxlfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFmJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDYuIHJldHVybiB0aGUgc2FuZGJveCBpbnN0YW5jZSBhbmQgcmVnaXN0ZXIiLGUsInRvIGRvbWFpbiAiLGkpLHM9ZSx0LnJlZ2lzdHJ5LnJlZ2lzdGVySWRwUHJveHkoZSxpKSl9LGQpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNy4gUmV0dXJuIHRoZSBydW50aW1lIElkcCBQcm94eSBVUkw6ICIsZSksdT1lO3ZhciByPXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KShhLmNvbmZpZ3VyYXRpb24pKXRyeXtyPSgwLG8uZGVmYXVsdCkoe30sSlNPTi5wYXJzZShhLmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXtyPWEuY29uZmlndXJhdGlvbn1yLnJ1bnRpbWVVUkw9dC5fcnVudGltZVVSTDt0cnl7cmV0dXJuIHQubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcih1LGZ1bmN0aW9uKGUpe3MucG9zdE1lc3NhZ2UoZSl9KSxzLmRlcGxveUNvbXBvbmVudChjLnNvdXJjZUNvZGUsZSxyKX1jYXRjaChlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gRXJyb3Igb24gZGVwbG95IGNvbXBvbmVudDoiLGUpLG4oZSl9fSxkKS50aGVuKGZ1bmN0aW9uKCl7aWYoZilyZXR1cm4hMTt2YXIgZT10LnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtpXTt2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRJZHBQcm94eV0gODogbG9hZGVkOiAiLGUpLHIoZSksdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZElkcFByb3h5XSAtLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfSxkKS5jYXRjaChsKX19KX19LHtrZXk6Il9yZWFkeVRvVXNlIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9ydW50aW1lVVJMKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIHJ1bnRpbWUgdXJsIGFkZHJlc3MiKTtpZighdGhpcy5fbWVzc2FnZXNCdXMpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgbWVzc2FnZUJ1cyBjb21wb25lbnQiKTtpZighdGhpcy5fcmVnaXN0cnkpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBsb2FkZXIgbmVlZCB0aGUgcmVnaXN0cnkgY29tcG9uZW50Iik7aWYoIXRoaXMuX3J1bnRpbWVGYWN0b3J5KXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIHJ1bnRpbWUgZmFjdG9yeSBjb21wb25lbnQiKTtyZXR1cm4hMH19LHtrZXk6InJ1bnRpbWVVUkwiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9ydW50aW1lVVJMPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVVJMfX0se2tleToicmVnaXN0cnkiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lO3ZhciB0PWguZGVmYXVsdC5pbnN0YW5jZTt0aGlzLl9hZGRyZXNzQWxsb2NhdGlvbj10LHYubG9nKCJbTG9hZGVyIC0gQWRkcmVzc0FsbG9jYXRpb25dIC0gIix0KX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZ2lzdHJ5fX0se2tleToibWVzc2FnZUJ1cyIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lc3NhZ2VzQnVzPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlc0J1c319LHtrZXk6InJ1bnRpbWVGYWN0b3J5IixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcnVudGltZUZhY3Rvcnk9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVGYWN0b3J5fX1dKSxMb2FkZXJ9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBzdG9yYWdlKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiVGhlIHJ1bnRpbWUgZmFjdG9yeSBpcyBhIG5lZWRlZCBwYXJhbWV0ZXIiKTtyZXR1cm4oMCxvLmRlZmF1bHQpKGkucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXMpLmZvckVhY2goZnVuY3Rpb24odCl7cy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHNbdF09ZS5zdG9yYWdlTWFuYWdlcih0LGkucnVudGltZUNvbmZpZ3VyYXRpb24uc3RvcmFnZVNjaGVtYXNbdF0pKX0pLHN9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMzEpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LnN0b3JhZ2U9c3RvcmFnZTt2YXIgaT1yKDE0NCkscz17fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig4KSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxNCksZj1yKDk5KSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9ZC5nZXRMb2dnZXIoIkRlc2NyaXB0b3JzIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIERlc2NyaXB0b3JzKGUsdCxyKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsRGVzY3JpcHRvcnMpLCFlKXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkIHRvIGtub3cgdGhlIHJ1bnRpbWUgdXJsIHRvIGJlIHVzZWQiKTtpZighdCl0aHJvdyBFcnJvcigiVGhlIGRlc2NyaXB0b3IgbmVlZHMgdGhlIGNhdGFsb2d1ZSBpbnN0YW5jZSIpO2lmKCFyKXRocm93IEVycm9yKCJUaGUgZGVzY3JpcHRvciBuZWVkcyB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uIik7dGhpcy5sb2c9cCx0aGlzLnJ1bnRpbWVDb25maWd1cmF0aW9uPXIsdGhpcy5ydW50aW1lVVJMPWUsdGhpcy5jYXRhbG9ndWU9dCx0aGlzLmNvbnN0cmFpbnRzPWYucnVudGltZVV0aWxzLnJ1bnRpbWVDYXBhYmlsaXRpZXN9cmV0dXJuKDAsdS5kZWZhdWx0KShEZXNjcmlwdG9ycyxbe2tleToiZ2V0SHlwZXJ0eURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNhdGFsb2d1ZS5nZXRIeXBlcnR5RGVzY3JpcHRvcihlLCEwLHRoaXMuY29uc3RyYWludHMpfX0se2tleToiZ2V0U3R1YkRlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz12b2lkIDAsaT12b2lkIDAscz12b2lkIDAsYT0oMCxjLmRpdmlkZVVSTCkodC5ydW50aW1lVVJMKSx1PWEuZG9tYWluO2lmKGUuaW5jbHVkZXMoIjovLyIpKXt2YXIgZj0oMCxjLmRpdmlkZVVSTCkoZSk7bz1mLmRvbWFpbjt2YXIgbD1mLmlkZW50aXR5O2k9bD9sLnN1YnN0cmluZyhsLmxhc3RJbmRleE9mKCIvIikrMSk6ImRlZmF1bHQifWVsc2UgaT0iZGVmYXVsdCIsbz1lO2lmKHM9KDAsYy5idWlsZFVSTCkodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIsaSksbyE9PXQucnVudGltZUNvbmZpZ3VyYXRpb24uZG9tYWluKWlmKGUuaW5kZXhPZigiaHR0cHMiKSYmZS5pbmRleE9mKCJoeXBlcnR5LWNhdGFsb2d1ZSIpKXt2YXIgZD0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiKTtzPWQucHJlZml4K28rZC5zdWZmaXgraX1lbHNlIHM9ZTtyZXR1cm4gcC5sb2coIkxvYWQgUHJvdG9jb2xTdHViIGZvciBkb21haW4sICIrbysiIDogIixzKSx0LmNhdGFsb2d1ZS5nZXRTdHViRGVzY3JpcHRvcihzLCEwLHQuY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2k9byxvPXU7dmFyIHI9KDAsYy5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIik7cmV0dXJuIHM9ci5wcmVmaXgrbytyLnN1ZmZpeCtpLHQuY2F0YWxvZ3VlLmdldFN0dWJEZXNjcmlwdG9yKHMsITAsdC5jb25zdHJhaW50cyl9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6ImdldElkcFByb3h5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBvPXZvaWQgMCxpPXZvaWQgMCxzPSgwLGMuZGl2aWRlVVJMKSh0LnJ1bnRpbWVVUkwpLGE9cy5kb21haW4sdT10LmNvbnN0cmFpbnRzO2lmKHUuY29uc3RyYWludHMub25seUFjY2Vzc1Rva2VuPSEwLHUuY29uc3RyYWludHMub25seUlkQXNzZXJ0aW9uVmFsaWRhdGlvbj0hMCxlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIGY9KDAsYy5kaXZpZGVVUkwpKGUpO289Zi5kb21haW47dmFyIGw9Zi5pZGVudGl0eTtpPWw/bC5zdWJzdHJpbmcobC5sYXN0SW5kZXhPZigiLyIpKzEpOiJkZWZhdWx0In1lbHNlIGk9ImRlZmF1bHQiLG89ZTt2YXIgZD0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJpZHBQcm94eSIpO3JldHVybiBlPWQucHJlZml4K28rZC5zdWZmaXgraSx0LmNhdGFsb2d1ZS5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSwhMCx1KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBpPW8sbz1hLGU9KDAsYy5idWlsZFVSTCkodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsImlkcFByb3h5IixpKSx0LmNhdGFsb2d1ZS5nZXRJZHBQcm94eURlc2NyaXB0b3IoZSwhMCx1KX0pLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX1dKSxEZXNjcmlwdG9yc30oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9KHIoMjAwKSxyKDcpKSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSksYz11LmdldExvZ2dlcigiUnVudGltZVVBIiksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIE1zZ0J1c0hhbmRsZXJzKGUsdCxyKXtpZigoMCxvLmRlZmF1bHQpKHRoaXMsTXNnQnVzSGFuZGxlcnMpLCFlKXRocm93IEVycm9yKCJbTXNnQnVzSGFuZGxlcnNdIHBlcCBpbnB1dCBwYXJhbWVudGVyIGlzIG1hbmRhdG9yeSIpO2lmKCF0KXRocm93IEVycm9yKCJbTXNnQnVzSGFuZGxlcnNdIGlkbSBpbnB1dCBwYXJhbWVudGUgaXMgbWFuZGF0b3J5Iik7aWYoIXIpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gY3J5cHRvIGlucHV0IHBhcmFtZW50ZSBpcyBtYW5kYXRvcnkiKTt0aGlzLnBvbGljeUVuZ2luZT1lLHRoaXMuaWRlbnRpdHlNYW5hZ2VyPXQsdGhpcy5jcnlwdG9NYW5hZ2VyPXJ9cmV0dXJuKDAscy5kZWZhdWx0KShNc2dCdXNIYW5kbGVycyxbe2tleToicGVwSW5IYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UodC5tc2csITApLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToicGVwT3V0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5wb2xpY3lFbmdpbmUuYXV0aG9yaXNlKHQubXNnLCExKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6ImlkbUhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuaWRlbnRpdHlNYW5hZ2VyLnByb2Nlc3NNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLmVycm9yKGUpLHQuZmFpbChlKX0pfX19LHtrZXk6ImVuY3J5cHRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLmNyeXB0b01hbmFnZXIuZW5jcnlwdE1lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiZGVjcnlwdEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuY3J5cHRvTWFuYWdlci5kZWNyeXB0TWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy53YXJuKGUpLHQuZmFpbChlKX0pfX19XSksTXNnQnVzSGFuZGxlcnN9KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0OTkpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9by5kZWZhdWx0LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLGk9ZnVuY3Rpb24gR3JhcGhDb25uZWN0b3IoZSx0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxHcmFwaENvbm5lY3Rvcil9O3QuZGVmYXVsdD1pLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOCksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cigxNCksZD1mLmdldExvZ2dlcigiQ29yZURpc2NvdmVyeSIpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb3JlRGlzY292ZXJ5KGUsdCxyLG4sbyl7aWYoKDAscy5kZWZhdWx0KSh0aGlzLENvcmVEaXNjb3ZlcnkpLCFuKXRocm93IEVycm9yKCJUaGUgY2F0YWxvZ3VlIG5lZWRzIHRoZSBydW50aW1lRmFjdG9yeSIpO3ZhciBpPXRoaXM7dGhpcy5fbWVzc2FnZUJ1cz10LGkuZ3JhcGhDb25uZWN0b3I9cixpLmh0dHBSZXF1ZXN0PW4uY3JlYXRlSHR0cFJlcXVlc3QoKSxpLmRvbWFpbj0oMCxsLmRpdmlkZVVSTCkoZSkuZG9tYWluLGkuZGlzY292ZXJ5VVJMPWUrIi9kaXNjb3ZlcnkvIixpLnJlZ2lzdHJ5PW8saS5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGkuZGlzY292ZXJ5VVJMLGZ1bmN0aW9uKGUpe2kuZGlzY292ZXJ5TWFuYWdlcihlKS50aGVuKGZ1bmN0aW9uKHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMCx2YWx1ZTp0fX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwLG49dm9pZCAwOyJHcmFwaENvbm5lY3RvciI9PT10PyhyPSJUaGlzIHNlYXJjaCBpcyBub3QgYXZhaWxhYmxlIGF0IHRoZSBtb21lbnQuIFRyeSBsYXRlci4iLG49NTAwKToocj0iTm90IEZvdW5kIixuPTQwNCksaS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6bixkZXNjcmlwdGlvbjpyfX0pfSl9KX1yZXR1cm4oMCx1LmRlZmF1bHQpKENvcmVEaXNjb3ZlcnksW3trZXk6ImRpc2NvdmVyeU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oKDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluLGUuYm9keS5yZXNvdXJjZS5zcGxpdCgiLyIpLmZpbHRlcihCb29sZWFuKSksbj1bXSxpPVtdO3N3aXRjaChkLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJ5TWFuYWdlcl0gcmVjZWl2ZWQ6ICIsZSksZS5ib2R5LmNyaXRlcmlhJiYoZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyYmKG49ZS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcyksZS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzJiYoaT1lLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXMpKSxyWzFdKXtjYXNlInVzZXIiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlci8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJ1cmwiOnJldHVybiJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0eVBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTp0LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVybC8iKVsxXSxlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlIm5hbWUiOnJldHVybiB0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJOYW1lKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgibmFtZS8iKVsxXSxpLG4sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJyZXBvcnRlciI6cmV0dXJuIHQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgicmVwb3J0ZXIvIilbMV0saSxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UiZ3VpZCI6cmV0dXJuIHZvaWQgMCE9PXQuZ3JhcGhDb25uZWN0b3ImJm51bGwhPT10LmdyYXBoQ29ubmVjdG9yPyJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6dC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRChlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXItZ3VpZDovLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKTtjYXNlInVzZXJwcm9maWxlIjpyZXR1cm4gdm9pZCAwIT09dC5ncmFwaENvbm5lY3RvciYmbnVsbCE9PXQuZ3JhcGhDb25uZWN0b3I/Imh5cGVydHkiPT1yWzBdP3QuZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VycHJvZmlsZS8iKVsxXSxpLG4pOnQuZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXJwcm9maWxlLyIpWzFdLGksbik6by5kZWZhdWx0LnJlamVjdCgiR3JhcGhDb25uZWN0b3IiKX19fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllc1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLHQscikudGhlbihmdW5jdGlvbihlKXtvKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7byhbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHMoIk5vIGh5cGVydGllcyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obyxpKXtuLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gZGF0YU9iamVjdHMgd2VyZSBmb3VuZCIpO2kodCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJIeXBlcnRpZXMoZS51SUQsdCxyLGUuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe28oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKFtdKX0pfSl9KTtvLmRlZmF1bHQuYWxsKGEpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W10uY29uY2F0LmFwcGx5KFtdLGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcygiTm8gaHlwZXJ0aWVzIHdlcmUgZm91bmQiKTtpKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtuLmRpc2NvdmVyVXNlcklkc1BlckdVSUQoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihvLGkpe24uZGlzY292ZXJEYXRhT2JqZWN0cyhlLnVJRCx0LHIsZS5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7byhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe28oW10pfSl9KX0pO28uZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBzKCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7aSh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMscz12b2lkIDA7cz1ufHxpLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzLGJvZHk6e319O3JldHVybiBlLmluZGV4T2YoInVzZXI6Ly8iKT4tMT9hLmJvZHkucmVzb3VyY2U9ZTphLmJvZHkucmVzb3VyY2U9Ii9oeXBlcnR5L2lkcC1pZGVudGlmaWVyLyIrZSx0Lmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxzPXZvaWQgMCxhPVtdO3JldHVybiBzPW58fGkuZG9tYWluLG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obix1KXtpLmRpc2NvdmVySHlwZXJ0aWVzKGUsW10sW10scykudGhlbihmdW5jdGlvbihlKXt2YXIgYz1bXTtmb3IodmFyIGYgaW4gZSljLnB1c2goZVtmXSk7dmFyIGw9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24obixvKXtpLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihlLmh5cGVydHlJRCx0LHIscykudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihbXSl9KX0pfSk7by5kZWZhdWx0LmFsbChsKS50aGVuKGZ1bmN0aW9uKGUpe1tdLmNvbmNhdC5hcHBseShbXSxlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EucHVzaChlKX0pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBhKXQucHVzaChhW3JdKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHUoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTtuKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdShlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBpPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiBuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZTtpZighbilyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTtlKG4pfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdFBlclVSTCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dm9pZCAwO249dHx8ci5kb21haW47dmFyIGk9e3R5cGU6InJlYWQiLGZyb206ci5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrbixib2R5OntyZXNvdXJjZTplfX07cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWU7aWYoIW4pcmV0dXJuIHQoIkRhdGFPYmplY3Qgbm90IGZvdW5kIik7ZShuKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcyxzPXZvaWQgMDtzPW58fGkuZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOmkuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MsYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiB0Lmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLnJlc291cmNlcz1yKSxuZXcgby5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7aS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocil7dmFyIG49ci5ib2R5LnZhbHVlLG89W107Zm9yKHZhciBpIGluIG4pby5wdXNoKG5baV0pO2lmKCEoby5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIERhdGFPYmplY3Qgd2FzIGZvdW5kIik7ZShvKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzUGVyUmVwb3J0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMscz12b2lkIDA7cz1ufHxpLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTppLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzLGJvZHk6e3Jlc291cmNlOiIvY29tbSIsY3JpdGVyaWE6e3JlcG9ydGVyOmV9fX07cmV0dXJuIHQubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWEuZGF0YVNjaGVtZXM9dCksci5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IG8uZGVmYXVsdChmdW5jdGlvbihlLHQpe2kubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZSxvPVtdO2Zvcih2YXIgaSBpbiBuKW8ucHVzaChuW2ldKTtpZighKG8ubGVuZ3RoPjApKXJldHVybiB0KCJObyBEYXRhT2JqZWN0IHdhcyBmb3VuZCIpO2Uobyl9KX0pfX0se2tleToiZGlzY292ZXJVc2VySWRzUGVyR1VJRCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8uZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ3JhcGhDb25uZWN0b3IucXVlcnlHbG9iYWxSZWdpc3RyeShlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZXx8IWUpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciB1c2VySURzIGJ5IEdVSUQiKTt2YXIgdD1lLnVzZXJJRHM7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuKCJVc2VySURzIG5vdCBhdmFpbGFibGUiKTtyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToiZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Lmh0dHBSZXF1ZXN0LmdldCgiaHR0cHM6Ly9yZXRoaW5rLnRsYWJzY2xvdWQuY29tL2Rpc2NvdmVyeS9yZXN0L2Rpc2NvdmVyL2xvb2t1cD9zZWFyY2hxdWVyeT0iK2UpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKSxvPXQucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZS5yZXRoaW5rSUR9KTtpZigwPT09by5sZW5ndGgpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciBHVUlEIGJ5IHVzZXIgaWRlbnRpZmllciIpO3ZhciBpPW8ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldGhpbmtJRH0pO3JldHVybiByKGkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fV0pLENvcmVEaXNjb3Zlcnl9KCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMDkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoMzEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoOCksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig5OCksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig5NyksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigxKSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPXIoNyksYj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGcpLF89cigxNCksbT1iLmdldExvZ2dlcigiRGF0YU9iamVjdHNTdG9yYWdlIiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGFPYmplY3RzU3RvcmFnZShlLHQpe2lmKCgwLHkuZGVmYXVsdCkodGhpcyxEYXRhT2JqZWN0c1N0b3JhZ2UpLCFlKXRocm93IG5ldyBFcnJvcigiW1N0b3JlIERhdGEgT2JqZWN0c10gLSBOZWVkcyB0aGUgc3RvcmFnZU1hbmFnZXIgY29tcG9uZW50Iik7dGhpcy5fc3RvcmFnZU1hbmFnZXI9ZSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9dCx0aGlzLl9jYWNoZT17fX1yZXR1cm4oMCx2LmRlZmF1bHQpKERhdGFPYmplY3RzU3RvcmFnZSxbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zdG9yZURhdGFPYmplY3Qscj10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZS5pc1JlcG9ydGVyKTtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09e30pLHRbcl0uaGFzT3duUHJvcGVydHkoZS51cmwpfHwodFtyXVtlLnVybF09e30sdFtyXVtlLnVybF0uc3Vic2NyaXB0aW9ucz1bXSx0W3JdW2UudXJsXS5zdWJzY3JpYmVyVXNlcnM9W10sdFtyXVtlLnVybF0uY2hpbGRyZW5PYmplY3RzPXt9LHRbcl1bZS51cmxdLmRhdGE9e30pLCgwLGQuZGVmYXVsdCkodFtyXVtlLnVybF0sZSksZGVsZXRlIHRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2VyLGRlbGV0ZSB0W3JdW2UudXJsXS5zdWJzY3JpYmVySHlwZXJ0eSxlLnN1YnNjcmliZXJIeXBlcnR5JiYhZS5pc1JlcG9ydGVyJiZ0aGlzLl91cGRhdGVUb0FycmF5KHRbcl0sZS51cmwsInN1YnNjcmlwdGlvbnMiLGUuc3Vic2NyaWJlckh5cGVydHkpLGUuc3Vic2NyaWJlclVzZXImJnRbcl1bZS51cmxdLnN1YnNjcmliZXJVc2Vycy5pbmRleE9mKGUuc3Vic2NyaWJlclVzZXIpJiZ0aGlzLl91cGRhdGVUb0FycmF5KHRbcl0sZS51cmwsInN1YnNjcmliZXJVc2VycyIsZS5zdWJzY3JpYmVyVXNlciksdGhpcy5fc3RvcmVEYXRhT2JqZWN0PXQsdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLHQpLHRbcl1bZS51cmxdfX0se2tleToic2F2ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighb3x8IW9baV18fCFvW2ldW3RdKXJldHVybiB2b2lkIG0ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmUgZGF0YV0gLSBub3Qgc2F2ZWQiKTtpZihtLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBzYXZlRGF0YV0gLSAiLGUsaSx0LHIsbiksb1tpXVt0XS5oYXNPd25Qcm9wZXJ0eSgiZGF0YSIpfHwob1tpXVt0XS5kYXRhPXt9KSxyKXt2YXIgcz12b2lkIDA7cz0ib2JqZWN0Ij09PSh2b2lkIDA9PT1uPyJ1bmRlZmluZWQiOigwLGYuZGVmYXVsdCkobikpPygwLF8uZGVlcENsb25lKShuKTpuLCgwLF8uYXNzaWduKShvW2ldW3RdLmRhdGEscixzKX1lbHNlIG9baV1bdF0uZGF0YT0oMCxfLmRlZXBDbG9uZSkobil8fHt9O3JldHVybiB0aGlzLl9zdG9yZURhdGFPYmplY3Q9byx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsbyksb1tpXVt0XX19LHtrZXk6InNhdmVDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtyZXR1cm4gbyYmb1tpXSYmb1tpXVt0XT8ob1tpXVt0XS5oYXNPd25Qcm9wZXJ0eSgiY2hpbGRyZW5zIil8fChvW2ldW3RdLmNoaWxkcmVuT2JqZWN0cz17fSkscj8oMCxfLmFzc2lnbikob1tpXVt0XS5jaGlsZHJlbk9iamVjdHMsciwoMCxfLmRlZXBDbG9uZSkobikpOm9baV1bdF0uY2hpbGRyZW5PYmplY3RzPSgwLF8uZGVlcENsb25lKShuKXx8e30sdGhpcy5fc3RvcmVEYXRhT2JqZWN0PW8sdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLG8pLG9baV1bdF0pOnZvaWQgbS5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZSBjaGlsZHJlbnNdIC0gbm90IHNhdmVkIil9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMuX3N0b3JlRGF0YU9iamVjdCxpPXRoaXMuX2dldFR5cGVPZk9iamVjdChlKTtpZighb3x8IW9baV18fCFvW2ldW3RdKXJldHVybiB2b2lkIG0ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHVwZGF0ZV0gLSBub3Qgc2F2ZWQiKTtpZihtLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSB1cGRhdGVdIC0gIixlLGksdCxyLG4pLG9baV0mJm9baV1bdF0mJnQmJnImJm4pe2lmKCJzdWJzY3JpcHRpb25zIj09PXJ8fCJzdWJzY3JpYmVyVXNlcnMiPT09cil7dmFyIHM9ITA7InN1YnNjcmlwdGlvbnMiPT09ciYmKHM9IXRoaXMuX2lzT3duZXIob1tpXVt0XSxuKSkscyYmdGhpcy5fdXBkYXRlVG9BcnJheShvW2ldLHQscixuKX1lbHNlIG9baV1bdF1bcl09bjtyZXR1cm4gdGhpcy5fc3RvcmVEYXRhT2JqZWN0PW8sdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLG8pLG9baV1bdF19fX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLl9zdG9yZURhdGFPYmplY3QsaT10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZSk7cmV0dXJuIG8mJm9baV0mJm9baV1bdF0/b1tpXSYmb1tpXVt0XSYmdCYmciYmbj8oInN1YnNjcmlwdGlvbnMiPT09cnx8InN1YnNjcmliZXJVc2VycyI9PT1yP3RoaXMuX3JlbW92ZUZyb21BcnJheShvW2ldLHQscixuKTpkZWxldGUgb1tpXVt0XVtyXSx0aGlzLl9zdG9yZURhdGFPYmplY3Q9byx0aGlzLl9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsbyksb1tpXVt0XSk6dm9pZCAwOnZvaWQgbS5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gZGVsZXRlXSAtIG5vdCBzYXZlZCIpfX0se2tleToiZGVsZXRlUmVzb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlKXJldHVybiB0LmdldEFsbCgpLnRoZW4oZnVuY3Rpb24obil7dmFyIG89KDAsZC5kZWZhdWx0KShuLHQuX3N0b3JlRGF0YU9iamVjdHx8e30pO3JldHVybiBvLmhhc093blByb3BlcnR5KCJvYnNlcnZlcnMiKSYmby5vYnNlcnZlcnMuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSBvLm9ic2VydmVyc1tlXSx0Ll9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsbyksdC5fc3RvcmVEYXRhT2JqZWN0PW8scihvLm9ic2VydmVyc1tlXSkpOm8uaGFzT3duUHJvcGVydHkoInJlcG9ydGVycyIpJiZvLnJlcG9ydGVycy5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIG8ucmVwb3J0ZXJzW2VdLHQuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxvKSx0Ll9zdG9yZURhdGFPYmplY3Q9byxyKG8ucmVwb3J0ZXJzW2VdKSk6dm9pZCByKCJUaGUgIitlKyIgZG9zZW5cdCBleGlzdHMsIG5vdGhpbmcgd2FzIGRlbGV0ZWQiKX0pO24obmV3IEVycm9yKCJbU3RvcmVEYXRhT2JqZWN0c10gLSBDYW4ndCBkZWxldGUgdGhpcyAiK2UpKX0pfX0se2tleToiZ2V0QWxsIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yYWdlTWFuYWdlci5nZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKX19LHtrZXk6ImdldERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Ll9zdG9yYWdlTWFuYWdlci5nZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPXQuaGFzT3duUHJvcGVydHkoIm9ic2VydmVycyIpP3Qub2JzZXJ2ZXJzOnt9LGk9dC5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXJzIik/dC5yZXBvcnRlcnM6e30sYT0oMCxzLmRlZmF1bHQpKGkpLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSksdT0oMCxzLmRlZmF1bHQpKG8pLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSksYz12b2lkIDA7cmV0dXJuIHUmJihjPXQub2JzZXJ2ZXJzW3VdKSxhJiYoYz10LnJlcG9ydGVyc1thXSksbS5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gZm9yIG9ic2VydmVyOiAiLHUpLG0uaW5mbygiW1N0b3JlRGF0YU9iamVjdHMgLSBnZXREYXRhT2JqZWN0XSAtIGZvciByZXBvcnRlcnM6ICIsYSksbS5pbmZvKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGdldERhdGFPYmplY3RdIC0gcmVzb2x2ZTogIixjKSxjP3IoYyk6bigiTm8gZGF0YU9iamVjdCB3YXMgZm91bmQiKX0pfSl9fSx7a2V5OiJnZXRSZXNvdXJjZXNCeUNyaXRlcmlhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89ci5fZ2V0VHlwZU9mT2JqZWN0KHQpO3IuZ2V0QWxsKCkudGhlbihmdW5jdGlvbih0KXtpZighdClyZXR1cm4gbS5sb2coIltEYXRhT2JqZWN0c1N0b3JhZ2UuZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYV0gZG9uJ3QgaGF2ZSBzdG9yZWQgZGF0YSBvYmplY3RzIiksbihudWxsKTtpZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIikmJiFlLmJvZHkucmVzdW1lKXJldHVybiBuKG51bGwpO3ZhciBpPVtdLGE9ci5faGFzU3Vic2NyaXB0aW9uKHRbb10sZS5mcm9tKSx1PXIuX3NlYXJjaE93bmVyKHRbb10sZS5mcm9tKSxjPXIuX2NoZWNrUHJvdG9zdHViUmVzdW1lKHQsZSk7aWYobS5sb2coIltTdG9yZWREYXRhT2JqZWN0cyAtIGdldFJlc291cmNlc0J5Q3JpdGVyaWFdOiIsdCxlLGEsdSksIShlLmhhc093blByb3BlcnR5KCJmcm9tIikmJmF8fHV8fGMpKXJldHVybiBuKG51bGwpO3ZhciBmPXZvaWQgMDtmPXU/ci5fZ2V0UmVzb3VyY2VzQnlPd25lcih0W29dLGUuZnJvbSk6ci5fZ2V0UmVzb3VyY2VzQnlTdWJzY3JpcHRpb24odFtvXSxlLmZyb20pO3ZhciBsPVtdO2UuYm9keSYmZS5ib2R5LmlkZW50aXR5JiYobD1yLl9nZXRSZXNvdXJjZXNCeUlkZW50aXR5KHRbb10sZS5ib2R5LmlkZW50aXR5KSk7dmFyIGQ9W107ZS5ib2R5JiZlLmJvZHkuc2NoZW1hJiYoZD1yLl9nZXRSZXNvdXJjZXNCeVNjaGVtYSh0W29dLGUuYm9keS5zY2hlbWEpKTt2YXIgcD1bXTtpZihlLmJvZHkmJmUuYm9keS52YWx1ZSl7dmFyIHk9ZS5ib2R5LnZhbHVlO2RlbGV0ZSB5LmRhdGEscD1yLl9nZXRSZXNvdXJjZXNCeU1ldGFkYXRhKHRbb10seSl9dmFyIGg9W107aWYoZS5ib2R5JiZlLmJvZHkudmFsdWUmJmUuYm9keS52YWx1ZS5kYXRhJiYoaD1yLl9nZXRSZXNvdXJjZXNCeURhdGEodFtvXSxlLmJvZHkudmFsdWUuZGF0YSkpLGk9ci5faW50ZXJzZWN0aW9uKGYsbCxkLGgscCksMD09aS5sZW5ndGgmJmMmJiJvYnNlcnZlcnMiPT1vJiZlLmZyb20uc3BsaXQoInByb3Rvc3R1YiIpLmxlbmd0aD4wKXt2YXIgdj10W29dLGc9KDAsXy5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluOygwLHMuZGVmYXVsdCkodikuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PXZbZV0uc3Vic2NyaXB0aW9uczt0LmZvckVhY2goZnVuY3Rpb24odCl7KDAsXy5kaXZpZGVVUkwpKHQpLmRvbWFpbj09ZyYmaS5wdXNoKGUpfSl9KX12YXIgYj17fTtpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dFtvXVtlXTtyZXR1cm4gYltlXT1yLGJ9KSxtLmxvZygiW1N0b3JlIERhdGEgT2JqZWN0c10gLSAiLGIpLG4oYil9KX0pfX0se2tleToiX2dldFJlc291cmNlc0J5SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaWJlclVzZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeU93bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnJlcG9ydGVyPT09dH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmlwdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5U2NoZW1hIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybigwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInNjaGVtYSI9PT1lJiZuW2VdPT09dH0pLmxlbmd0aH0pfX0se2tleToiX2dldFJlc291cmNlc0J5TWV0YWRhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtyZXR1cm4oMCxzLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4oMCxzLmRlZmF1bHQpKHQpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZT09PXImJm5bZV09PT10W3JdfSkubGVuZ3RofSkubGVuZ3RofSk6W119fSx7a2V5OiJfZ2V0UmVzb3VyY2VzQnlEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0PygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl0uaGFzT3duUHJvcGVydHkoImRhdGEiKT9lW3JdLmRhdGE6e307cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuKDAscy5kZWZhdWx0KSh0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGU9PT1yJiZuW2VdPT09dFtyXX0pLmxlbmd0aH0pLmxlbmd0aH0pOltdfX0se2tleToiX2hhc1N1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJigwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmlwdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pLmxlbmd0aD4wfX0se2tleToiX3NlYXJjaE93bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZSYmKDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0ucmVwb3J0ZXI9PT10fSkubGVuZ3RoPjB9fSx7a2V5OiJfY2hlY2tQcm90b3N0dWJSZXN1bWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7aWYodC5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZ0LmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJnQuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgicmVwb3J0ZXIiKSl7dmFyIHI9dC5ib2R5LnZhbHVlLnJlcG9ydGVyO2lmKGUuaGFzT3duUHJvcGVydHkoInJlcG9ydGVycyIpKXt2YXIgbj1lLnJlcG9ydGVycztyZXR1cm4oMCxzLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbltlXS5yZXBvcnRlcj09PXJ9KS5sZW5ndGg+MH1yZXR1cm4hMX1pZihlLmhhc093blByb3BlcnR5KCJvYnNlcnZlcnMiKSl7dmFyIG89ZS5vYnNlcnZlcnMsaT0oMCxfLmRpdmlkZVVSTCkodC5mcm9tKS5kb21haW47cmV0dXJuKDAscy5kZWZhdWx0KShvKS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXS5zdWJzY3JpcHRpb25zLHI9ITE7aWYodC5mb3JFYWNoKGZ1bmN0aW9uKGUpeygwLF8uZGl2aWRlVVJMKShlKS5kb21haW49PWkmJihyPSEwKX0pLHIpcmV0dXJuITB9KS5sZW5ndGg+MH19fSx7a2V5OiJfaXNPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJmUucmVwb3J0ZXI9PT10fX0se2tleToiX2ludGVyc2VjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0oMCxvLmRlZmF1bHQpKGFyZ3VtZW50cyksdD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLmZpbHRlcihmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KTtyZXR1cm4gbS5sb2coIkRhdGFPYmplY3RzU3RvcmFnZS5faW50ZXJzZWN0aW9uXSBSZXN1bHQgYW4gdW5pcXVlIGFycmF5IG9mIHN0cmluZ3M6ICIsdCksdH19LHtrZXk6Il91cGRhdGVUb0FycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXttLmxvZygiW0RhdGFPYmplY3RzU3RvcmFnZV0gLSBfdXBkYXRlVG9BcnJheTogIixlLHQscixuKSwtMT09PWVbdF1bcl0uaW5kZXhPZihuKSYmZVt0XVtyXS5wdXNoKG4pfX0se2tleToiX3JlbW92ZUZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZVt0XVtyXS5pbmRleE9mKG4pOy0xPT09byYmZVt0XVtyXS5zcGxpY2UobywxKX19LHtrZXk6Il9oYXNWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpJiZlW3RdPT09cn19LHtrZXk6Il9nZXRUeXBlT2ZPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJyZXBvcnRlcnMiOiJvYnNlcnZlcnMifX1dKSxEYXRhT2JqZWN0c1N0b3JhZ2V9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe3IoMTM3KSxyKDUwMyksZS5leHBvcnRzPXIoMTMpLkFycmF5LmZyb219LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2NSksbz1yKDIxKSxpPXIoNzMpLHM9cigxOTIpLGE9cigxOTMpLHU9cigxMjkpLGM9cig1MDQpLGY9cigxOTQpO28oby5TK28uRiohcigxOTkpKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSwiQXJyYXkiLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxsLGQ9aShlKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkseT1hcmd1bWVudHMubGVuZ3RoLGg9eT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1oLGc9MCxiPWYoZCk7aWYodiYmKGg9bihoLHk+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSx2b2lkIDA9PWJ8fHA9PUFycmF5JiZhKGIpKWZvcih0PXUoZC5sZW5ndGgpLHI9bmV3IHAodCk7dD5nO2crKyljKHIsZyx2P2goZFtnXSxnKTpkW2ddKTtlbHNlIGZvcihsPWIuY2FsbChkKSxyPW5ldyBwOyEobz1sLm5leHQoKSkuZG9uZTtnKyspYyhyLGcsdj9zKGwsaCxbby52YWx1ZSxnXSwhMCk6by52YWx1ZSk7cmV0dXJuIHIubGVuZ3RoPWcscn19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDM5KSxvPXIoNzYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsbygwLHIpKTplW3RdPXJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDMxKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cig1MDYpLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZShlLHQscixuKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UpLCFyKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlIGNvbnN0cnVjdG9yXSBtYW5kYXRvcnkgc3RvcmFnZU1hbmFnZXIgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IHJ1bnRpbWVVUkwgcGFyYW1ldGVyIG1pc3NpbmciKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IGJ1cyBwYXJhbWV0ZXIgbWlzc2luZyIpO3ZhciBvPXRoaXM7by5fYnVzPXQsby5fc3RvcmFnZUxpbWl0PS45LG8uX3VybD1lKyIvc3RvcmFnZSIsby5fc3RvcmFnZU1hbmFnZXI9cixvLnByb21pc2VRdWV1ZT1uZXcgaC5kZWZhdWx0LG8uX2h5cGVydHlSZXNvdXJjZXM9bix0LmFkZExpc3RlbmVyKG8uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2VdIE1lc3NhZ2UgUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOm8uX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UicmVhZCI6by5fb25SZWFkKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjpvLl9vbkRlbGV0ZShlKX19KX1yZXR1cm4oMCxmLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlLFt7a2V5OiJjaGVja1N0b3JhZ2VRdW90YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aWYoZS5fYXZhaWxhYmxlUXVvdGEmJmUuX3VzYWdlKXJldHVybiB0KCgwLHAuYXZhaWxhYmxlU3BhY2UpKGUuX3VzYWdlLGUuX2F2YWlsYWJsZVF1b3RhKSk7bmF2aWdhdG9yJiZuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fYXZhaWxhYmxlUXVvdGE9ci5xdW90YSxlLl91c2FnZT1yLnVzYWdlLHQoKDAscC5hdmFpbGFibGVTcGFjZSkoZS5fdXNhZ2UsZS5fYXZhaWxhYmxlUXVvdGEpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3YuZXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gQ2hlY2tTdG9yYWdlUXVvdGEgZXJyb3I6ICIsZSkscihlKX0pfSl9fSx7a2V5OiJfb25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25DcmVhdGVdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgdmFsdWUgbWlzc2luZzogIixlKTt2YXIgcj1lLmJvZHkudmFsdWUsbj1yLmNvbnRlbnRVUkwsbz0iIjtpZihuKXt2YXIgaT1uWzBdLHM9aS5zdWJzdHIoaS5sYXN0SW5kZXhPZigiLyIpKzEpO289dC5fdXJsKyIvIitzfWVsc2Ugbj1bXSxvPXQuX3VybCsiLyIrKDAscC5nZW5lcmF0ZUdVSUQpKCk7dC5faHlwZXJ0eVJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShvKXx8KG4ucHVzaChvKSxyLmNvbnRlbnRVUkw9biksdGhpcy5faHlwZXJ0eVJlc291cmNlc1tvXT1yLHRoaXMucHJvbWlzZVF1ZXVlLmFkZCh0aGlzLl90b1NhdmUobyxlLHIpKX19LHtrZXk6Il90b1NhdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8saSl7dmFyIHM9ZnVuY3Rpb24ocil7dmFyIG89e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjUwMCxkZXNjcmlwdGlvbjpyfX07cmV0dXJuIG4uX2J1cy5wb3N0TWVzc2FnZShvKSxpKHIpfTtuLmNoZWNrU3RvcmFnZVF1b3RhKCkudGhlbihmdW5jdGlvbihlKXtpZihyLnNpemU+ZS5xdW90YSl7dmFyIHQ9IlRoZSBzdG9yYWdlIGRvIG5vdCBoYXZlIHNwYWNlIHRvIHN0b3JlIHRoYXQgcmVzb3VyY2UiO3Rocm93IHModCksRXJyb3IodCl9dmFyIG89ZS5xdW90YSxpPWUudXNhZ2Urci5zaXplO3JldHVybiEoZS5wZXJjZW50Pj1uLl9zdG9yYWdlTGltaXR8fGk+byl8fG4uX2dldE9sZGVyUmVzb3VyY2VzKHIuc2l6ZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JhZ2VNYW5hZ2VyLnNldChlLDEscil9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHI9e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjIwMH19O3JldHVybiBuLl9idXMucG9zdE1lc3NhZ2Uociksdi5sb2coIlN1Y2Nlc3MiKSxvKCl9KS5jYXRjaChzKX0pfX0se2tleToiX2dldE9sZGVyUmVzb3VyY2VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fc3RvcmFnZU1hbmFnZXIuZ2V0KCkudGhlbihmdW5jdGlvbihpKXt2YXIgYT0oMCxvLmRlZmF1bHQpKGkpLHU9MCxjPWEuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBpW2VdLmNyZWF0ZWQ8aVt0XS5jcmVhdGVkfSkucmVkdWNlKGZ1bmN0aW9uKHIsbil7dmFyIG89dC5faHlwZXJ0eVJlc291cmNlc1tuXTtyZXR1cm4gdi5sb2coIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gX2dldE9sZGVyUmVzb3VyY2VzOiAiLHUsZSxuLHQuX2F2YWlsYWJsZVF1b3RhKSx1PD1lJiYodSs9by5zaXplLHIucHVzaChuKSkscn0sW10pLGY9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3N0b3JhZ2VNYW5hZ2VyLmRlbGV0ZShlKX0pO3MuZGVmYXVsdC5hbGwoZikudGhlbihmdW5jdGlvbigpe3IoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9KX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS5yZXNvdXJjZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IHJlc291cmNlIG1pc3Npbmc6ICIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7fX07di5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uUmVhZF0gZ2V0IHJlc291cmNlVVJMOiIsciksdGhpcy5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZXNvdXJjZVVSTCIscikudGhlbihmdW5jdGlvbihlKXt2LmluZm8oIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBmb3VuZCBjb250ZW50OiIsZSksZT8iZmlsZSI9PT1lLnJlc291cmNlVHlwZT90Ll9vblJlYWRGaWxlKG4sZSk6KG4uYm9keS5jb2RlPTIwMCxuLmJvZHkucDJwPSEwLG4uYm9keS52YWx1ZT1lLHQuX2J1cy5wb3N0TWVzc2FnZShuKSk6KG4uYm9keS5jb2RlPTQwNCxuLmJvZHkuZGVzYz0iQ29udGVudCBOb3QgRm91bmQgZm9yICIrcix0Ll9idXMucG9zdE1lc3NhZ2UobikpfSl9fSx7a2V5OiJfb25SZWFkRmlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49bmV3IEZpbGVSZWFkZXI7aWYobi5vbmxvYWQ9ZnVuY3Rpb24obil7di5pbmZvKCJbRmlsZUh5cGVydHlSZXNvdXJjZS5pbml0XSBmaWxlIGxvYWRlZCAiLG4pLGUuYm9keS5jb2RlPTIwMCxlLmJvZHkucDJwPSEwLGUuYm9keS52YWx1ZT0oMCxwLmRlZXBDbG9uZSkodCksZS5ib2R5LnZhbHVlLmNvbnRlbnQ9bi50YXJnZXQucmVzdWx0LHIuX2J1cy5wb3N0TWVzc2FnZShlKX0sdC5taW1ldHlwZS5pbmNsdWRlcygidGV4dC8iKSluLnJlYWRBc1RleHQodC5jb250ZW50KTtlbHNle3ZhciBvPXQuY29udGVudCxpPXZvaWQgMDtpPUFycmF5LmlzQXJyYXkobyk/bmV3IEJsb2Iobyx7dHlwZTp0Lm1pbWV0eXBlfSk6bmV3IEJsb2IoW29dLHt0eXBlOnQubWltZXR5cGV9KSxuLnJlYWRBc0FycmF5QnVmZmVyKGkpfX19LHtrZXk6Il9vbkRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5KXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkRlbGV0ZV0gbWFuZGF0b3J5IG1lc3NhZ2UgYm9keSBtaXNzaW5nOiAiLGUpO2lmKGUuYm9keS5yZXNvdXJjZSlkZWxldGUgdC5faHlwZXJ0eVJlc291cmNlc1tlLmJvZHkucmVzb3VyY2VdO2Vsc2V7aWYoIWUuYm9keS5yZXNvdXJjZXMpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uRGVsZXRlXSBtYW5kYXRvcnkgcmVzb3VyY2UgbWlzc2luZzogIixlKTtlLmJvZHkucmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIHQuX2h5cGVydHlSZXNvdXJjZXNbZV19KX10Ll9zdG9yYWdlTWFuYWdlci5kZWxldGUoInJlc291cmNlVVJMIixlLmJvZHkucmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oKXt2YXIgcj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjIwMH19O3QuX2J1cy5wb3N0TWVzc2FnZShyKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe3ZhciBuPXtmcm9tOmUudG8sdG86ZS5mcm9tLGlkOmUuaWQsdHlwZToicmVzcG9uc2UiLGJvZHk6e2NvZGU6NDAwLGRlc2NyaXB0aW9uOnJ9fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX19XSksSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2V9KCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig1MDcpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoOCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHJvbWlzZVF1ZXVlKGUpeygwLHUuZGVmYXVsdCkodGhpcyxQcm9taXNlUXVldWUpLHRoaXMuZmx1c2hpbmc9ITEsdGhpcy5Qcm9taXNlPXMuZGVmYXVsdCx0aGlzLmNvbmN1cnJlbmN5PSJudW1iZXIiIT10eXBlb2YgZT8xOmUsdGhpcy5wcm9taXNlcz1bXSx0aGlzLnF1ZXVlPVtdLHRoaXMuaXNQcm9jZXNzaW5nPSExfXJldHVybigwLGYuZGVmYXVsdCkoUHJvbWlzZVF1ZXVlLFt7a2V5OiJkb25lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrPWV9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5xdWV1ZS5wdXNoKGUpLCF0aGlzLmlzUHJvY2Vzc2luZylyZXR1cm4gdGhpcy5xdWV1ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuW10uY29uY2F0KCgwLG8uZGVmYXVsdCkoZSksW3RdKX0pfSl9LHMuZGVmYXVsdC5yZXNvbHZlKFtdKSkudGhlbihmdW5jdGlvbihlKXt0LmlzUHJvY2Vzc2luZz0hMX0pfX1dKSxQcm9taXNlUXVldWV9KCk7dC5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyMDkpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAscj1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspclt0XT1lW3RdO3JldHVybiByfXJldHVybigwLG8uZGVmYXVsdCkoZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTApLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoOCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigzMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoMTQpLHY9cigxMDApLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoNTEyKSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYiksbT1yKDUxMyksUj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLHc9cigxMDEpLFM9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodyksaz15LmdldExvZ2dlcigiU3luY2hlck1hbmFnZXIiKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3luY2hlck1hbmFnZXIoZSx0LHIsbixvLGkscyxhKXtpZigoMCxmLmRlZmF1bHQpKHRoaXMsU3luY2hlck1hbmFnZXIpLCFlKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgcnVudGltZVVSTCBwYXJhbWV0ZXIiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIE1lc3NhZ2VCdXMgaW5zdGFuY2UiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIFJlZ2lzdHJ5IGluc3RhbmNlIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBSdW50aW1lQ2F0YWxvZ3VlIGluc3RhbmNlIik7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWQgdGhlIHN0b3JhZ2VNYW5hZ2VyIGluc3RhbmNlIik7dmFyIHU9dGhpczt1Ll9idXM9dCx1Ll9yZWdpc3RyeT1yLHUuX2NhdGFsb2c9bix1Ll9zdG9yYWdlTWFuYWdlcj1vLHUuX2lkZW50aXR5TW9kdWxlPWEsdS5ydW50aW1lVVJMPWUsdS5fdXJsPWUrIi9zbSIsdS5fb2JqZWN0VVJMPWUrIi9vYmplY3QtYWxsb2NhdGlvbiIsdS5fcmVwb3J0ZXJzPXt9LHUuX29ic2VydmVycz17fSx1Ll9kYXRhT2JqZWN0c1N0b3JhZ2U9cyx1Ll9kb21haW49KDAsaC5kaXZpZGVVUkwpKGUpLmRvbWFpbix1Ll9hbGxvY2F0b3I9aXx8Zy5kZWZhdWx0Lmluc3RhbmNlLGsubG9nKCJbU3luY2hlck1hbmFnZXIgLSBBZGRyZXNzQWxsb2NhdGlvbl0gLSAiLHUuX2FsbG9jYXRvciksdC5hZGRMaXN0ZW5lcih1Ll91cmwsZnVuY3Rpb24oZSl7c3dpdGNoKGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyXSBSQ1Y6ICIsZSksZS50eXBlKXtjYXNlImNyZWF0ZSI6dS5fb25DcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOnUuX29uRGVsZXRlKGUpO2JyZWFrO2Nhc2Uic3Vic2NyaWJlIjp1Ll9vbkxvY2FsU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOnUuX29uTG9jYWxVblN1YnNjcmliZShlKX19KX1yZXR1cm4oMCxkLmRlZmF1bHQpKFN5bmNoZXJNYW5hZ2VyLFt7a2V5OiJfb25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLnRvO2UuYm9keS5hdHRyaWJ1dGU/dGhpcy5fc3RvcmVDaGlsZHJlbnMoZSk6IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIil8fGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzdW1lIikmJiFlLmJvZHkucmVzdW1lP2UuYm9keS5hdXRob3Jpc2U/KHRoaXMuX2F1dGhvcmlzZShlKSxrLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkNyZWF0ZSAtIGludml0ZSBvYnNlcnZlcnNdIixlKSk6KGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyLm9uQ3JlYXRlIC0gQ3JlYXRlIE5ldyBPYmplY3RdIixlKSx0aGlzLl9uZXdDcmVhdGUoZSkpOnRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITApLnRoZW4oZnVuY3Rpb24oaSl7aWYoay5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0gLSBSZXNvdXJjZXNCeUNyaXRlcmlhIHwgTWVzc2FnZTogIixlLCIgcmVzdWx0OiAiLGkpLGkmJigwLHUuZGVmYXVsdCkoaSkubGVuZ3RoPjApe3ZhciBhPVtdOygwLHUuZGVmYXVsdCkoaSkuZm9yRWFjaChmdW5jdGlvbihyKXthLnB1c2godC5fcmVzdW1lQ3JlYXRlKGUsaVtyXSkpfSkscy5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGkpe2subG9nKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0iLGkpO3ZhciBzPSgwLG8uZGVmYXVsdCkoaSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX0pO2suaW5mbygiW1N5bmNoZXJNYW5hZ2VyLm9uQ3JlYXRlXSByZXR1cm5pbmcgcmVzdW1lZCBvYmplY3RzIDogIixzKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206bix0bzpyLGJvZHk6e2NvZGU6MjAwLHZhbHVlOnN9fSl9KX1lbHNle3ZhciBjPXt9O2MuaWQ9ZS5pZCxjLmZyb209ZS50byxjLnRvPWUuZnJvbSxjLnR5cGU9InJlc3BvbnNlIixjLmJvZHk9e2NvZGU6NDA0LGRlc2M6Ik5vIGRhdGEgb2JqZWN0cyByZXBvcnRlcnMgdG8gYmUgcmVzdW1lZCJ9LHQuX2J1cy5wb3N0TWVzc2FnZShjKX19KX19LHtrZXk6Il9zdG9yZUNoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPWUuYm9keS5hdHRyaWJ1dGU7ImNoaWxkcmVuT2JqZWN0cyI9PT1uP3QuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCExLHIsdm9pZCAwLGUuYm9keS52YWx1ZSk6dC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITAscixuLGUuYm9keS52YWx1ZSl9fSx7a2V5OiJfbmV3Q3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcyxuPWUuZnJvbSxvPSgwLGguZGl2aWRlVVJMKShlLmZyb20pLmRvbWFpbjtyLl9yZWdpc3RyeS5pc0ludGVyd29ya2luZ1Byb3RvU3R1YihlLmZyb20pJiYobz0oMCxoLmRpdmlkZVVSTCkoci5ydW50aW1lVVJMKS5kb21haW4pO3ZhciBpPSFlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImRvbWFpbl9yZWdpc3RyYXRpb24iKXx8ZS5ib2R5LnZhbHVlLmRvbWFpbl9yZWdpc3RyYXRpb247ci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKHMpe3ZhciBhPXMuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsdT1hLnNjaGVtZT9hLnNjaGVtZS5jb25zdGFudDoicmVzb3VyY2UiLGM9YS5jaGlsZHJlbj9hLmNoaWxkcmVuLmNvbnN0YW50OltdLGY9e25hbWU6ZS5ib2R5LnZhbHVlLm5hbWUsc2NoZW1hOmUuYm9keS52YWx1ZS5zY2hlbWEscmVwb3J0ZXI6ZS5ib2R5LnZhbHVlLnJlcG9ydGVyLHJlc291cmNlczplLmJvZHkudmFsdWUucmVzb3VyY2VzfSxsPWUuYm9keS52YWx1ZS5yZXNvdXJjZTtyLl9hbGxvY2F0b3IuY3JlYXRlKG8sMSxmLHUsbCkudGhlbihmdW5jdGlvbihvKXt2YXIgcz0oMCxoLmRlZXBDbG9uZSkoZS5ib2R5LnZhbHVlKTtzLnVybD1vLmFkZHJlc3NbMF0scy5hdXRob3Jpc2U9ZS5ib2R5LmF1dGhvcmlzZSxzLmNoaWxkcmVucz1jLGRlbGV0ZSBzLmRhdGEsay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBBTExPQ0FUT1IgQ1JFQVRFOiIsbyk7dmFyIGE9cy51cmwrIi9zdWJzY3JpcHRpb24iO2subG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gU3Vic2NyaXB0aW9uIFVSTCIsYSksay5pbmZvKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gUmVnaXN0ZXIgT2JqZWN0OiAiLHMpLHIuX3JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdChzKS50aGVuKGZ1bmN0aW9uKG8pe2subG9nKCJbU3luY2hlck1hbmFnZXIuX25ld0NyZWF0ZV0gRGF0YU9iamVjdCBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCIsbyk7dmFyIHU9dm9pZCAwO3U9dC5fcmVwb3J0ZXJzW3MudXJsXT90Ll9yZXBvcnRlcnNbcy51cmxdOm5ldyBfLmRlZmF1bHQocixuLHMudXJsKSxrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gbmV3IENyZWF0ZV0gLSAiLGUpO3ZhciBmPXZvaWQgMDtmPWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdHkiKSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTD9lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTDpyLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS5mcm9tKTt2YXIgbD0oMCxoLmRlZXBDbG9uZSkocyk7bC5zdWJzY3JpYmVyVXNlcj1mLGwuaXNSZXBvcnRlcj0hMCxyLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2V0KGwpLGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3RvcmUiKSYmZS5ib2R5LnN0b3JlJiYodS5pc1RvU2F2ZURhdGE9ITAsci5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCxzLnVybCwiaXNUb1NhdmVEYXRhIiwhMCksZS5ib2R5LnZhbHVlLmRhdGEmJnIuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMCxzLnVybCxudWxsLGUuYm9keS52YWx1ZS5kYXRhKSk7dmFyIGQ9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpuLGJvZHk6e2NvZGU6MjAwLHJlc291cmNlOnMudXJsLGNoaWxkcmVuUmVzb3VyY2VzOmN9fTtpP3UuZm9yd2FyZFN1YnNjcmliZShbcy51cmwsYV0pLnRoZW4oZnVuY3Rpb24oKXt1LmFkZENoaWxkcmVucyhjKS50aGVuKGZ1bmN0aW9uKCl7ci5fcmVwb3J0ZXJzW3MudXJsXT11LHIuX2J1cy5wb3N0TWVzc2FnZShkKX0pfSk6dS5hZGRDaGlsZHJlbnMoYykudGhlbihmdW5jdGlvbigpe3IuX3JlcG9ydGVyc1tzLnVybF09dSxyLl9idXMucG9zdE1lc3NhZ2UoZCl9KX0sZnVuY3Rpb24oZSl7ay5lcnJvcihlKX0pfSl9KS5jYXRjaChmdW5jdGlvbih0KXt2YXIgbz17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOm4sYm9keTp7Y29kZTo1MDAsZGVzYzp0fX07ci5fYnVzLnBvc3RNZXNzYWdlKG8pfSl9fSx7a2V5OiJfcmVzdW1lQ3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8pe3ZhciBpPWUuZnJvbSxzPXQuc2NoZW1hLGE9dC51cmwsdT0hdC5oYXNPd25Qcm9wZXJ0eSgiZG9tYWluX3JlZ2lzdHJhdGlvbiIpfHx0LmRvbWFpbl9yZWdpc3RyYXRpb247dC5kYXRhO2subG9nKCJbU3luY2hlck1hbmFnZXJdIC0gcmVzdW1lIGNyZWF0ZSIsZSx0KSxuLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKHMpLnRoZW4oZnVuY3Rpb24ocyl7dmFyIGM9cy5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxmPShjLnNjaGVtZSYmYy5zY2hlbWUuY29uc3RhbnQsYy5jaGlsZHJlbj9jLmNoaWxkcmVuLmNvbnN0YW50OltdKTtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyXSAtIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLHMsZik7dmFyIGw9dm9pZCAwO2w9ci5fcmVwb3J0ZXJzW2FdP3IuX3JlcG9ydGVyc1thXTpuZXcgXy5kZWZhdWx0KG4saSxhKSxsLmlzVG9TYXZlRGF0YT10LmlzVG9TYXZlRGF0YSx1P2wuZm9yd2FyZFN1YnNjcmliZShbdC51cmxdKS50aGVuKGZ1bmN0aW9uKCl7byhuLl9yZXN1bWVSZXBvcnRlclN1YnNjcmlwdGlvbnMoZSx0LGwsZix1KSl9KTpvKG4uX3Jlc3VtZVJlcG9ydGVyU3Vic2NyaXB0aW9ucyhlLHQsbCxmLHUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2suZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gZmFpbCBvbiBnZXREYXRhU2NoZW1hRGVzY3JpcHRvcjogIixlKSxvKCExKX0pfSl9fSx7a2V5OiJfcmVzdW1lUmVwb3J0ZXJTdWJzY3JpcHRpb25zIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe3ZhciBpPXRoaXMsYT10LnVybCx1PSgwLGguZGVlcENsb25lKShlLmJvZHkudmFsdWUpO3JldHVybiB1LnVybD10LnVybCx1LmV4cGlyZXM9dC5leHBpcmVzLHUuZG9tYWluX3JlZ2lzdHJhdGlvbj1vLGRlbGV0ZSB1LmRhdGEsbmV3IHMuZGVmYXVsdChmdW5jdGlvbihlKXtyLmFkZENoaWxkcmVucyhuKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzdW1lU3Vic2NyaXB0aW9ucyh0LnN1YnNjcmlwdGlvbnMpLGkuX3JlcG9ydGVyc1thXT1yLGsuaW5mbygiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSByZXNvbHZlZCByZXN1bWVkOiAiLHQpLGkuX2RlY3J5cHRDaGlsZHJlbnModCxuKX0pLnRoZW4oZnVuY3Rpb24odCl7ay5pbmZvKCJbU3luY2hlck1hbmFnZXIuX3Jlc3VtZUNyZWF0ZV0gUmVnaXN0ZXIgT2JqZWN0OiAiLHUpLGkuX3JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdCh1KS50aGVuKGZ1bmN0aW9uKHIpe2subG9nKCJbU3luY2hlck1hbmFnZXIuX3Jlc3VtZUNyZWF0ZV0gRGF0YU9iamVjdCByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQiLHIpLGUodCl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2suZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gZmFpbCBvbiBhZGRDaGlsZHJlbnM6ICIsdCksZSghMSl9KX0pfX0se2tleToiX2RlY3J5cHRDaGlsZHJlbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocil7aWYodCl7MD09PSgwLHUuZGVmYXVsdCkoZS5jaGlsZHJlbk9iamVjdHMpLmxlbmd0aCYmcihlKSx0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5jaGlsZHJlbk9iamVjdHNbdF07ay5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZGF0YU9iamVjdENoaWxkcyB0byBkZWNyeXB0ICIsbik7dmFyIG89W107KDAsdS5kZWZhdWx0KShuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW5bdF0saT10LnNwbGl0KCIjIilbMF07aWYoInN0cmluZyI9PXR5cGVvZiByLnZhbHVlKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBjcmVhdGVkQnkgIixpLCIgb2JqZWN0OiAiLHIudmFsdWUpO3ZhciBzPVMuZGVmYXVsdC5kZWNyeXB0RGF0YU9iamVjdChKU09OLnBhcnNlKHIudmFsdWUpLGUudXJsKTtvLnB1c2gocyl9fSkscy5kZWZhdWx0LmFsbChvKS50aGVuKGZ1bmN0aW9uKG4pe2subG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIHJldHVybmluZyBkZWNyeXB0ZWQgIixuKSxuLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ci52YWx1ZS51cmw7ZS5jaGlsZHJlbk9iamVjdHNbdF1bbl0udmFsdWU9ci52YWx1ZX0pLGsubG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIHN0b3JlZE9iamVjdCAiLGUpLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtrLndhcm4oIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZmFpbGVkIDogIixlKX0pfSl9ZWxzZSByKGUpfSl9fSx7a2V5OiJfYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlLmJvZHkucmVzb3VyY2UpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlck1hbmFnZXIuX2F1dGhvcmlzZV0gaW52aXRhdGlvbiByZXF1ZXN0IHdpdGhvdXQgZGF0YSBvYmplY3QgdXJsOiIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlKyIvc3Vic2NyaXB0aW9uIixuPSEhZS5ib2R5LnAycCYmZS5ib2R5LnAycDtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gIGF1dGhvcmlzZV0gLSAiLGUpLGUuYm9keS5hdXRob3Jpc2UmJmUuYm9keS5hdXRob3Jpc2UuZm9yRWFjaChmdW5jdGlvbihvKXt0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImNyZWF0ZSIsZnJvbTpyLHRvOm8sYm9keTp7cDJwOm4saWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHNvdXJjZTplLmZyb20sdmFsdWU6ZS5ib2R5LnZhbHVlLHNjaGVtYTplLmJvZHkuc2NoZW1hfX0sZnVuY3Rpb24ocil7dmFyIG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOnIudHlwZSxib2R5OnIuYm9keX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSl9KX19LHtrZXk6Il9vbkRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXQuX3JlcG9ydGVyc1tyXTtuJiYobi5kZWxldGUoKSx0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZGVsZXRlUmVzb3VyY2UocikudGhlbihmdW5jdGlvbihuKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gb25EZWxldGVdIC0gZGVsZXRlUmVzb3VyY2U6ICIsbiksdC5fcmVnaXN0cnkudW5yZWdpc3RlckRhdGFPYmplY3QociksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pfSkpfX0se2tleToiX29uTG9jYWxTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLmdldFJlc291cmNlc0J5Q3JpdGVyaWEoZSwhMSkudGhlbihmdW5jdGlvbihyKXtpZihrLmluZm8oIltTeW5jaGVyTWFuYWdlciAtIFN1YnNjcmliZV0gLSBSZXNvdXJjZXNCeUNyaXRlcmlhIHwgTWVzc2FnZTogIixlLCIgcmVzdWx0OiAiLHIpLHImJigwLHUuZGVmYXVsdCkocikubGVuZ3RoPjApe3ZhciBuPVtdOygwLHUuZGVmYXVsdCkocikuZm9yRWFjaChmdW5jdGlvbihvKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIFN1YnNjcmliZV0gLSByZXVzZSBjdXJyZW50IG9iamVjdCB1cmw6ICIscltvXSksbi5wdXNoKHQuX3Jlc3VtZVN1YnNjcmlwdGlvbihlLHJbb10pKX0pLHMuZGVmYXVsdC5hbGwobikudGhlbihmdW5jdGlvbihyKXtrLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gT2JzZXJ2ZXJzIFJlc3VtZWRdIixyKTt2YXIgbj0oMCxvLmRlZmF1bHQpKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWV9KTt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6bn19KX0pfWVsc2UgaWYoZS5ib2R5LnNjaGVtYSYmZS5ib2R5LnJlc291cmNlKWsubG9nKCJbU3luY2hlck1hbmFnZXIub25Mb2NhbFN1YnNjcmliZSAtIG5ldyBTdWJzY3JpYmVdIC0gIixlLmJvZHkuc2NoZW1hLGUuYm9keS5yZXNvdXJjZSksdC5fbmV3U3Vic2NyaXB0aW9uKGUpO2Vsc2V7dmFyIGk9e307aS5pZD1lLmlkLGkuZnJvbT1lLnRvLGkudG89ZS5mcm9tLGkudHlwZT0icmVzcG9uc2UiLGkuYm9keT17Y29kZTo0MDQsZGVzYzoiTm8gZGF0YSBvYmplY3RzIG9ic2VydmVycyB0byBiZSByZXN1bWVkIn0sdC5fYnVzLnBvc3RNZXNzYWdlKGkpfX0pfX0se2tleToiX25ld1N1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPWUuZnJvbSxvPSgwLGguZGl2aWRlVVJMKShyKS5kb21haW4saT0hZS5ib2R5Lmhhc093blByb3BlcnR5KCJkb21haW5fc3Vic2NyaXB0aW9uIil8fGUuYm9keS5kb21haW5fc3Vic2NyaXB0aW9uLHM9cisiL2NoaWxkcmVuLyI7dC5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciB1PWEuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsYz11LmNoaWxkcmVuP3UuY2hpbGRyZW4uY29uc3RhbnQ6W10sZj1bXTtpZihmLnB1c2gocisiL2NoYW5nZXMiKSxjLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGYucHVzaChzK2UpfSksaSl7dmFyIGw9e3R5cGU6InN1YnNjcmliZSIsZnJvbTp0Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrbysiL3NtIixib2R5OntpZGVudGl0eTplLmJvZHkuaWRlbnRpdHkscmVzb3VyY2VzOmYsc291cmNlOm59fTt0Ll9idXMucG9zdE1lc3NhZ2UobCxmdW5jdGlvbihvKXtrLmxvZygibm9kZS1zdWJzY3JpYmUtcmVzcG9uc2Uob2JzZXJ2ZXIpOiAiLG8pLDIwMD09PW8uYm9keS5jb2RlP3QuX25ld1JlcG9ydGVyU3Vic2NyaWJlKGUsbixyLGMpOnQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOm4sYm9keTpvLmJvZHl9KX0pfWVsc2UgdC5fbmV3UmVwb3J0ZXJTdWJzY3JpYmUoZSxuLHIsYyl9KX19LHtrZXk6Il9uZXdSZXBvcnRlclN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxpPXRoaXMscz1yKyIvc3Vic2NyaXB0aW9uIjtpLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzp0LGJvZHk6e2NvZGU6MTAwLGNoaWxkcmVuUmVzb3VyY2VzOm4sc2NoZW1hOmUuYm9keS5zY2hlbWEscmVzb3VyY2U6ZS5ib2R5LnJlc291cmNlfX0pO3ZhciBhPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206aS5fdXJsLHRvOnMsYm9keTp7aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHN1YnNjcmliZXI6dH19O2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihhLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLGsubG9nKCJbU3luY2hlck1hbmFnZXIuX25ld1N1YnNjcmlwdGlvbl0iLGEsZSksaS5fYnVzLnBvc3RNZXNzYWdlKGEsZnVuY3Rpb24ocyl7aWYoay5sb2coInJlcG9ydGVyLXN1YnNjcmliZS1yZXNwb25zZS1uZXc6ICIscyksMjAwPT09cy5ib2R5LmNvZGUpe2subG9nKCJbU3luY2hlck1hbmFnZXIuX25ld1N1YnNjcmlwdGlvbl0gLSBvYnNlcnZlcnM6ICIsaS5fb2JzZXJ2ZXJzLHIsaS5fb2JzZXJ2ZXJzW3JdKTt2YXIgYT1pLl9vYnNlcnZlcnNbcl07YXx8KGE9bmV3IFIuZGVmYXVsdChpLHIsbiksay5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSAtIG9ic2VydmVyczogY3JlYXRlIG5ldyBPYnNlcnZlck9iamVjdDogIixhKSxpLl9vYnNlcnZlcnNbcl09YSxhLmFkZFN1YnNjcmlwdGlvbih0KSxhLmFkZENoaWxkcmVucyhuKSk7dmFyIHU9ITEsYz12b2lkIDA7ZS5ib2R5Lmhhc093blByb3BlcnR5KCJpZGVudGl0eSIpJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMPyhjPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLGMuaW5jbHVkZXMoInVzZXI6Ly8iKXx8KHU9ITApKTooYz1pLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS5mcm9tKSl8fCh1PSEwKTt2YXIgZj0oMCxoLmRlZXBDbG9uZSkocy5ib2R5LnZhbHVlKTtkZWxldGUgZi5kYXRhLGRlbGV0ZSBmLmNoaWxkcmVuT2JqZWN0cyxmLmNoaWxkcmVucz1uLGYuc3Vic2NyaWJlclVzZXI9YyxmLmlzUmVwb3J0ZXI9ITEsZi5zdWJzY3JpYmVySHlwZXJ0eT10LHV8fChpLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2V0KGYpLChmLmhhc093blByb3BlcnR5KCJzdG9yZSIpJiZmLnN0b3JlfHxmLmhhc093blByb3BlcnR5KCJpc1RvU2F2ZURhdGEiKSYmZi5pc1RvU2F2ZURhdGEpJiYoYS5pc1RvU2F2ZURhdGE9ITAsaS5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxyLCJpc1RvU2F2ZURhdGEiLCEwKSxpLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITEscixudWxsLHMuYm9keS52YWx1ZS5kYXRhKSkpLHMuaWQ9ZS5pZCxzLmZyb209aS5fdXJsLHMudG89dCxzLmJvZHkuc2NoZW1hPWUuYm9keS5zY2hlbWEscy5ib2R5LnJlc291cmNlPWUuYm9keS5yZXNvdXJjZSxlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYocy5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsKSxrLmxvZygiW3N1YnNjcmliZV0gLSBuZXcgc3Vic2NyaXB0aW9uOiAiLGUscyxhKSxvLl9idXMucG9zdE1lc3NhZ2Uocyl9fSl9fSx7a2V5OiJfcmVzdW1lU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIG89dC51cmwsaT10LnNjaGVtYSxzPWUuZnJvbSxhPW8rIi9jaGlsZHJlbi8iO2subG9nKCJbU3luY2hlck1hbmFnZXIgLSBSZXVzZVN1YnNjcmlwdGlvbl0gLSBvYmpVUkw6ICIsbywiIC0gc2NoZW1hOiIsaSksci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihpKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciB1PW4uc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsYz11LmNoaWxkcmVuP3UuY2hpbGRyZW4uY29uc3RhbnQ6W10sZj1bXTtmLnB1c2gobysiL2NoYW5nZXMiKSxjLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGYucHVzaChhK2UpfSksci5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86cyxib2R5Ontjb2RlOjEwMCxjaGlsZHJlblJlc291cmNlczpjLHNjaGVtYTppLHJlc291cmNlOm99fSk7dmFyIGw9ci5fb2JzZXJ2ZXJzW29dO3JldHVybiBsfHwobD1uZXcgUi5kZWZhdWx0KHIsbyxjKSxsLmlzVG9TYXZlRGF0YT10LmlzVG9TYXZlRGF0YSxyLl9vYnNlcnZlcnNbb109bCksbC5hZGRTdWJzY3JpcHRpb24ocyksbC5hZGRDaGlsZHJlbnMoYyksci5fZGVjcnlwdENoaWxkcmVucyh0LGMpfSkudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7ay5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIHN1YnNjcmlwdGlvbl0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLG4oITEpfSl9KX19LHtrZXk6Il9vbkxvY2FsVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oZS5mcm9tLGUuYm9keS5yZXNvdXJjZSksbj10Ll9vYnNlcnZlcnNbcl07biYmKG4ucmVtb3ZlU3Vic2NyaXB0aW9uKGUpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KSx0aGlzLl9kYXRhT2JqZWN0c1N0b3JhZ2UuZGVsZXRlUmVzb3VyY2UociksZGVsZXRlIHQuX29ic2VydmVyc1tyXSl9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9fV0pLFN5bmNoZXJNYW5hZ2VyfSgpO3QuZGVmYXVsdD1PLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtyKDUxMCksZS5leHBvcnRzPXIoMTMpLk9iamVjdC52YWx1ZXN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIxKSxvPXIoNTExKSghMSk7bihuLlMsIk9iamVjdCIse3ZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX19KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjQpLG89cig0NSksaT1yKDc4KS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciByLHM9byh0KSxhPW4ocyksdT1hLmxlbmd0aCxjPTAsZj1bXTt1PmM7KWkuY2FsbChzLHI9YVtjKytdKSYmZi5wdXNoKGU/W3Isc1tyXV06c1tyXSk7cmV0dXJuIGZ9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjkpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxpPXIoOCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGkpLGE9cigzMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoMTQpLHY9cigyMTEpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoMTAxKSxfPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGIpLG09eS5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlcG9ydGVyT2JqZWN0KGUsdCxyKXsoMCxmLmRlZmF1bHQpKHRoaXMsUmVwb3J0ZXJPYmplY3QpO3ZhciBuPXRoaXM7bi5fcGFyZW50PWUsbi5fb3duZXI9dCxuLl91cmw9cixuLl9idXM9ZS5fYnVzLG4uX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkocikuZG9tYWluLG4uX29ialN1YnNjcmlwdG9yVVJMPW4uX3VybCsiL3N1YnNjcmlwdGlvbiIsbi5fc3Vic2NyaXB0aW9ucz17fSxuLl9jaGlsZHJlbnM9W10sbi5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sbi5fZm9yd2FyZHM9e30sbi5faXNUb1NhdmVEYXRhPSExLG4uX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsZC5kZWZhdWx0KShSZXBvcnRlck9iamVjdCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzO3QuX3N1YnNjcmlwdGlvbkxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcih0Ll9vYmpTdWJzY3JpcHRvclVSTCxmdW5jdGlvbihlKXtzd2l0Y2gobS5pbmZvKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWQgXSIsZSksZS50eXBlKXtjYXNlInN1YnNjcmliZSI6dC5fb25SZW1vdGVTdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJ1bnN1YnNjcmliZSI6dC5fb25SZW1vdGVVblN1YnNjcmliZShlKTticmVhaztjYXNlInJlc3BvbnNlIjp0Ll9vblJlbW90ZVJlc3BvbnNlKGUpfX0pO3ZhciByPXQuX3VybCsiL2NoYW5nZXMiO3QuX2NoYW5nZUxpc3RlbmVyPXQuX2J1cy5hZGRMaXN0ZW5lcihyLGZ1bmN0aW9uKG4pe20uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXItIityKyItUkNWOiAiLG4pLGUuX2lzVG9TYXZlRGF0YSYmbi5ib2R5LmF0dHJpYnV0ZSYmKG0ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlciAtIHNhdmUgZGF0YTogIixuKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJ2ZXJzaW9uIixuLmJvZHkudmVyc2lvbiksdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwibGFzdE1vZGlmaWVkIixuLmJvZHkubGFzdE1vZGlmaWVkKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMCx0Ll91cmwsbi5ib2R5LmF0dHJpYnV0ZSxuLmJvZHkudmFsdWUpKX0pfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9zdWJzY3JpcHRpb25MaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKSxlLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSwoMCx1LmRlZmF1bHQpKGUuX2ZvcndhcmRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZm9yd2FyZFVuU3Vic2NyaWJlKHQpfSksKDAsdS5kZWZhdWx0KShlLl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX3N1YnNjcmlwdGlvbnNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicmVzdW1lU3Vic2NyaXB0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYoMCx1LmRlZmF1bHQpKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ZVtyXTttLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSAtIHJlc3VtZSBzdWJzY3JpcHRpb25zIix0LG4sdC5fY2hpbGRyZW5zKSx0Ll9zdWJzY3JpcHRpb25zW25dfHwodC5fc3Vic2NyaXB0aW9uc1tuXT1uZXcgZy5kZWZhdWx0KHQuX2J1cyx0Ll9vd25lcix0Ll91cmwsdC5fY2hpbGRyZW5zLCEwKSl9KX19LHtrZXk6ImZvcndhcmRTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6ZSxzb3VyY2U6dC5fb3duZXJ9fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe2lmKG0ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtc3Vic2NyaWJlLXJlc3BvbnNlKHJlcG9ydGVyKTogIixyKSwyMDA9PT1yLmJvZHkuY29kZSl7dmFyIGk9dC5fYnVzLmFkZEZvcndhcmQodC5fdXJsLHQuX293bmVyKTt0Ll9mb3J3YXJkc1tlWzBdXT1pLG4oKX1lbHNlIG8oIkVycm9yIG9uIG1zZy1ub2RlIHN1YnNjcmlwdGlvbjogIityLmJvZHkuZGVzYyl9KX0pfX0se2tleToiZm9yd2FyZFVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2ZvcndhcmRzW2VdLnJlbW92ZSgpLGRlbGV0ZSB0Ll9mb3J3YXJkc1tlXTt2YXIgcj17dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdC5fZG9tYWluKyIvc20iLGJvZHk6e3Jlc291cmNlczpbZV0sc291cmNlOnQuX293bmVyfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiYWRkQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCBuKCk7dmFyIHM9ci5fdXJsKyIvY2hpbGRyZW4vIjttLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLHMpLGUuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9jaGlsZHJlbnMucHVzaChlKX0pO3ZhciBhPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gYS5wdXNoKHMrZSl9KTt2YXIgdT17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3IuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6YSxzb3VyY2U6ci5fb3duZXJ9fTtyLl9idXMucG9zdE1lc3NhZ2UodSxmdW5jdGlvbihlKXttLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IF1ub2RlLXN1YnNjcmliZS1yZXNwb25zZShyZXBvcnRlcik6IixlKSwyMDA9PT1lLmJvZHkuY29kZT8oYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXIuX2J1cy5hZGRMaXN0ZW5lcihlLGZ1bmN0aW9uKGUpe2lmKG0ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWRdIixlKSwiY3JlYXRlIj09PWUudHlwZSYmZS50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmdC5faXNUb1NhdmVEYXRhKXt2YXIgbj0oMCxoLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxpPW4udXJsOyJzdHJpbmciIT10eXBlb2YgZS5ib2R5LnZhbHVlPyhtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixlLmJvZHkudmFsdWUpLF8uZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChlLmJvZHkudmFsdWUsaSkudGhlbihmdW5jdGlvbih0KXttLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSwoMCxvLmRlZmF1bHQpKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe20ud2FybigiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBmYWlsZWQgOiAiLHQsIiBTdG9yaW5nIHVuZW5jcnlwdGVkIiksci5fc3RvcmVDaGlsZE9iamVjdChlLGUuYm9keS52YWx1ZSl9KSk6ci5fc3RvcmVDaGlsZE9iamVjdChlLGUuYm9keS52YWx1ZSl9fSk7ci5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChuKTt2YXIgaT1yLl9idXMuYWRkRm9yd2FyZChlLHIuX293bmVyKTtyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSksbigpKTppKCJFcnJvciBvbiBtc2ctbm9kZSBzdWJzY3JpcHRpb246ICIrZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Il9zdG9yZUNoaWxkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj0oMCxoLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxvPW4udXJsLGk9bi5yZXNvdXJjZSxzPXtpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksdmFsdWU6dH0sYT1lLmJvZHkucmVzb3VyY2UsdT1pO2EmJih1Kz0iLiIrYSksZGVsZXRlIHMuaWRlbnRpdHkuYXNzZXJ0aW9uLGRlbGV0ZSBzLmlkZW50aXR5LmV4cGlyZXMsci5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxvLHUscyl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSgwLGguZGl2aWRlVVJMKShlLl9vd25lcikuZG9tYWluO2UuX2J1cy5wb3N0TWVzc2FnZSh7dHlwZToiZGVsZXRlIixmcm9tOmUuX29ialN1YnNjcmlwdG9yVVJMLHRvOmUuX3VybCsiL2NoYW5nZXMifSksZS5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJkZWxldGUiLGZyb206ZS5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdCsiL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24iLGJvZHk6e3Jlc291cmNlOmUuX3VybCxjaGlsZHJlblJlc291cmNlczplLl9jaGlsZHJlbnN9fSksZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9wYXJlbnQuX3JlcG9ydGVyc1tlLl91cmxdfX0se2tleToiX29uUmVtb3RlUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86dC5fdXJsLGJvZHk6e2NvZGU6ZS5ib2R5LmNvZGUsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHNvdXJjZTplLmZyb219fSl9fSx7a2V5OiJfb25SZW1vdGVTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuc3Vic2NyaWJlcjt0Ll9zdWJzY3JpcHRpb25zW3JdJiZ0Ll9zdWJzY3JpcHRpb25zW3JdLl9yZWxlYXNlTGlzdGVuZXJzKCk7dmFyIG49e3R5cGU6ImZvcndhcmQiLGZyb206dC5fdXJsLHRvOnQuX293bmVyLGJvZHk6e3R5cGU6ZS50eXBlLGZyb206cix0bzp0Ll91cmwsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fX07ZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKG4uYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksdC5fYnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24obil7bS5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdZm9yd2FyZC1yZXBseTogIixuKSwyMDA9PT1uLmJvZHkuY29kZSYmKHQuX3N1YnNjcmlwdGlvbnNbcl18fChtLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSAtIF9vblJlbW90ZVN1YnNjcmliZToiLHQuX2NoaWxkcmVucyksdC5fc3Vic2NyaXB0aW9uc1tyXT1uZXcgZy5kZWZhdWx0KHQuX2J1cyx0Ll9vd25lcix0Ll91cmwsdC5fY2hpbGRyZW5zLCEwKSkpO3ZhciBvPXZvaWQgMDtlLmJvZHkuaWRlbnRpdHkmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMJiYobz1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpYmVyVXNlcnMiLG8pKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiZ0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJtdXR1YWwiLGUuYm9keS5tdXR1YWwpLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsInN1YnNjcmlwdGlvbnMiLHIpLG4uYm9keS5vd25lcj10Ll9vd25lcix0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTpuLmJvZHl9KX0pfX0se2tleToiX29uUmVtb3RlVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkuc291cmNlLG49dC5fc3Vic2NyaXB0aW9uc1tyXTtpZihuKXtuLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl07dmFyIG89e3R5cGU6ImZvcndhcmQiLGZyb206dC5fdXJsLHRvOnQuX293bmVyLGJvZHk6e3R5cGU6ZS50eXBlLGZyb206cix0bzp0Ll91cmwsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fX07dC5fYnVzLnBvc3RNZXNzYWdlKG8pfX19LHtrZXk6ImlzVG9TYXZlRGF0YSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzVG9TYXZlRGF0YT1lfX1dKSxSZXBvcnRlck9iamVjdH0oKTt0LmRlZmF1bHQ9UixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2OSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig4KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig3KSxkPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGwpLHA9cigxNCkseT1yKDIxMSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9cigxMDEpLGc9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodiksYj1kLmdldExvZ2dlcigiT2JzZXJ2ZXJPYmplY3QiKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JzZXJ2ZXJPYmplY3QoZSx0LHIpe3ZhciBuPXRoaXM7KDAsdS5kZWZhdWx0KSh0aGlzLE9ic2VydmVyT2JqZWN0KTt2YXIgbz10aGlzO28uX3BhcmVudD1lLG8uX3VybD10LG8uX2NoaWxkcmVucz1yLG8uX2J1cz1lLl9idXMsby5fc3Vic2NyaXB0aW9ucz17fSxvLl9zdG9yYWdlU3Vic2NyaXB0aW9ucz17fSxvLl9jaGlsZHJlbkxpc3RlbmVycz1bXSx0aGlzLl9pc1RvU2F2ZURhdGE9ITE7dmFyIGk9by5fdXJsKyIvY2hhbmdlcyI7by5fY2hhbmdlTGlzdGVuZXI9by5fYnVzLmFkZExpc3RlbmVyKGksZnVuY3Rpb24oZSl7Yi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyLSIraSsiLVJDVjogIixlKSxuLl9pc1RvU2F2ZURhdGEmJmUuYm9keS5hdHRyaWJ1dGUmJihiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXIgLSBzYXZlIGRhdGE6ICIsZSksby5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLG8uX3VybCwidmVyc2lvbiIsZS5ib2R5LnZlcnNpb24pLG8uX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMSxvLl91cmwsImxhc3RNb2RpZmllZCIsZS5ib2R5Lmxhc3RNb2RpZmllZCksby5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZURhdGEoITEsby5fdXJsLGUuYm9keS5hdHRyaWJ1dGUsZS5ib2R5LnZhbHVlKSl9KX1yZXR1cm4oMCxmLmRlZmF1bHQpKE9ic2VydmVyT2JqZWN0LFt7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5fc3Vic2NyaXB0aW9uc1tlXTtiLmxvZygiW09ic2VydmVyIE9iamVjdCAtIG5ldyBzdWJzY3JpcHRpb25dIC0gIix0Ll9zdWJzY3JpcHRpb25zLGUsdC5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShlKSkscnx8KHQuX3N1YnNjcmlwdGlvbnNbZV09bmV3IGguZGVmYXVsdCh0Ll9idXMsZSx0Ll91cmwsdC5fY2hpbGRyZW5zLCExKSl9fSx7a2V5OiJhZGRTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25ld1N1YnNjcmlwdGlvbihlKX19LHtrZXk6ImFkZENoaWxkcmVucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obil7aWYoMD09PWUubGVuZ3RoKXJldHVybiBuKCk7dmFyIGk9ci5fdXJsKyIvY2hpbGRyZW4vIjtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLGkpLGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIoaStlLGZ1bmN0aW9uKGUpe2lmKGIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgcmVjZWl2ZWRdIixlKSwiY3JlYXRlIj09PWUudHlwZSYmZS50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmdC5faXNUb1NhdmVEYXRhKXt2YXIgaT0oMCxwLnNwbGl0T2JqZWN0VVJMKShlLnRvKSxzPWkudXJsOyJzdHJpbmciIT10eXBlb2YgZS5ib2R5LnZhbHVlPyhiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixlLmJvZHkudmFsdWUpLGcuZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChlLmJvZHkudmFsdWUscykudGhlbihmdW5jdGlvbih0KXtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSwoMCxvLmRlZmF1bHQpKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2Iud2FybigiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9lbmNyeXB0Q2hpbGRdIGZhaWxlZCwgc3RvcmluZyB1bmVuY3J5cHRlZCAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfWIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgY2hpbGRyZW4gTGlzdGVuZXJzXSIsci5fY2hpbGRyZW5MaXN0ZW5lcnMsbiksLTE9PT1yLl9jaGlsZHJlbkxpc3RlbmVycy5pbmRleE9mKG4pJiZyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG4pfSl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLHAuc3BsaXRPYmplY3RVUkwpKGUudG8pLG89bi51cmwsaT1uLnJlc291cmNlLHM9e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fTtkZWxldGUgcy5pZGVudGl0eS5hc3NlcnRpb24sZGVsZXRlIHMuaWRlbnRpdHkuZXhwaXJlczt2YXIgYT1lLmJvZHkucmVzb3VyY2UsdT1pO2EmJih1Kz0iLiIrYSksYi5sb2coIltTeW5jaGVyTWFuYWdlci5PYnNlcnZlck9iamVjdC5fc3RvcmVDaGlsZE9iamVjdF0gOiAiLG8sdSxzKSxyLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlQ2hpbGRyZW5zKCExLG8sdSxzKX19LHtrZXk6InJlbW92ZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPSgwLHAuZGl2aWRlVVJMKShyKS5kb21haW4sbz10Ll91cmwrIi9zdWJzY3JpcHRpb24iLGk9dC5fc3Vic2NyaXB0aW9uc1tyXTtpJiYodC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzpvLGJvZHk6e3NvdXJjZTpyLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19KSx0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK24rIi9zbSIsYm9keTp7cmVzb3VyY2U6dC5fdXJsLGNoaWxkcmVuUmVzb3VyY2VzOnQuX2NoaWxkcmVuc319KSxpLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIHQuX3N1YnNjcmlwdGlvbnNbcl0pfX0se2tleToiaXNUb1NhdmVEYXRhIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNUb1NhdmVEYXRhPWV9fV0pLE9ic2VydmVyT2JqZWN0fSgpO3QuZGVmYXVsdD1fLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjEwKSxvPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksaT1yKDgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPXIoMTQpLHk9cig1MTUpLGg9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh5KSx2PWQuZ2V0TG9nZ2VyKCJTdWJzY3JpcHRpb25NYW5hZ2VyIiksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvbk1hbmFnZXIoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb25NYW5hZ2VyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIG5lZWRzIHRoZSBydW50aW1lVVJMIHBhcmFtZXRlciIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIE1lc3NhZ2VCdXMgaW5zdGFuY2UiKTt2YXIgbj10aGlzO24uX2J1cz10LG4uX3N0b3JhZ2U9cixuLl9zdWJzY3JpcHRpb25zPXt9LG4uX3N1YnNjcmlwdGlvbnNTdG9yYWdlPXt9LG4ucnVudGltZVVSTD1lLG4uX3VybD1lKyIvc3Vic2NyaXB0aW9ucyIsbi5fZG9tYWluPSgwLHAuZGl2aWRlVVJMKShlKS5kb21haW4sdC5hZGRMaXN0ZW5lcihuLl91cmwsZnVuY3Rpb24oZSl7c3dpdGNoKHYuaW5mbygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIFJDVjogIixlKSxlLnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjpuLl9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjpuLl9vblVuU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UicmVhZCI6bi5fb25SZWFkKGUpfX0pfXJldHVybigwLGYuZGVmYXVsdCkoU3Vic2NyaXB0aW9uTWFuYWdlcixbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQpe2UuX3N0b3JhZ2UuZ2V0KCJzdWJzY3JpcHRpb25zIikudGhlbihmdW5jdGlvbihyKXt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuaW5pdF0gcmVzdW1lIHN1YnNjcmlwdGlvbnM6ICIsciksciYmKGUuX3N1YnNjcmlwdGlvbnNTdG9yYWdlPXIsKDAsby5kZWZhdWx0KShyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NyZWF0ZVN1YnNjcmlwdGlvbih0LmRvbWFpbix0LnJlc291cmNlcyx0LnN1YnNjcmliZXIsdC5pZGVudGl0eSl9KSksdCgpfSl9KX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZXMsbj1lLmZyb20sbz0oMCxwLmRpdmlkZVVSTCkoclswXSkuZG9tYWluLGk9ZS5ib2R5LmlkZW50aXR5O3QuX2NyZWF0ZVN1YnNjcmlwdGlvbihvLHIsbixpKS50aGVuKGZ1bmN0aW9uKHMpe3MuaWQ9ZS5pZCxzLmZyb209dC5fdXJsLHMudG89bixzLmJvZHk9ZS5ib2R5LHMuYm9keS5jb2RlPTIwMCx2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gY3JhZXRlU3Vic2NyaXB0aW9uOiAiLGUscyxuKSx0Ll9idXMucG9zdE1lc3NhZ2UocyksdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0/ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dLnJlc291cmNlcy5pbmNsdWRlcyhlKXx8dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl0ucmVzb3VyY2VzLnB1c2goZSl9KTp0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXT17ZG9tYWluOm8scmVzb3VyY2VzOnIsc3Vic2NyaWJlcjpuLGlkZW50aXR5Oml9LHQuX3N0b3JhZ2Uuc2V0KCJzdWJzY3JpcHRpb25zIiwxLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlKX0pfX0se2tleToiX2NyZWF0ZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpKXt2YXIgcz17dHlwZToic3Vic2NyaWJlIixmcm9tOm8uX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlKyIvc20iLGJvZHk6e2lkZW50aXR5Om4scmVzb3VyY2VzOnQsc291cmNlOnJ9fTtvLl9idXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIG5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlOiAiLGUpO3ZhciBuPW8uX3N1YnNjcmlwdGlvbnNbcl07di5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtICIsby5fc3Vic2NyaXB0aW9ucyx0LG8uX3N1YnNjcmlwdGlvbnMuaGFzT3duUHJvcGVydHkocikpLG58fChvLl9zdWJzY3JpcHRpb25zW3JdPXt9KSx0LmZvckVhY2goZnVuY3Rpb24oZSl7by5fc3Vic2NyaXB0aW9uc1tyXVtlXT1uZXcgaC5kZWZhdWx0KG8uX2J1cyxyLGUpfSksaShlKX0pfSl9fSx7a2V5OiJfb25VblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPWUuYm9keS5yZXNvdXJjZTtpZih0Ll9zdWJzY3JpcHRpb25zW3JdJiZ0Ll9zdWJzY3JpcHRpb25zW3JdW25dKXt2YXIgbz0oMCxwLmRpdmlkZVVSTCkobikuZG9tYWluLGk9dC5fc3Vic2NyaXB0aW9uc1tyXVtuXTtpZih0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitvKyIvc20iLGJvZHk6e3Jlc291cmNlczpbbl0sc291cmNlOnJ9fSksaS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdW25dLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdKXt2YXIgcz10Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXS5yZXNvdXJjZXMuaW5kZXhPZihuKTstMSE9cyYmdC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0ucmVzb3VyY2VzLnNwbGljZShzLDEpLHQuX3N0b3JhZ2Uuc2V0KCJzdWJzY3JpcHRpb25zIiwxLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlKX19dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pfX0se2tleToiX29uUmVhZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5yZXNvdXJjZSxuPXZvaWQgMDt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gcmVxdWVzdCB0byByZWFkIFN1YnNjcmlwdGlvbnM6ICIsZSksdC5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKG8pe2lmKG8mJm9bcl0pe3ZhciBpPW9bcl0ucmVzb3VyY2VzO249e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6aX19fWVsc2Ugbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxkZXNjcmlwdGlvbjoiTm90IEZvdW5kIn19O3QuX2J1cy5wb3N0TWVzc2FnZShuKX0pfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX1dKSxTdWJzY3JpcHRpb25NYW5hZ2VyfSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDcpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShhKSxjPXUuZ2V0TG9nZ2VyKCJTdWJzY3JpcHRpb24iKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGUsdCxyKXsoMCxvLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uKTt2YXIgbj10aGlzO24uX3N1YnNjcmliZXI9dCxuLnJlc291cmNlPXIsYy5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyLlN1YnNjcmlwdGlvbl0gbmV3OiAiLHQsciksbi5fbGlzdGVuZXI9ZS5hZGRGb3J3YXJkKHIsdCl9cmV0dXJuKDAscy5kZWZhdWx0KShTdWJzY3JpcHRpb24sW3trZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVyLnJlbW92ZSgpfX1dKSxTdWJzY3JpcHRpb259KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2OSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cig4KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDU5KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDEpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2NykseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig2OCksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cig3KSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksXz1yKDIwNiksbT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF8pLFI9cigyMDcpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChSKSxTPXIoMTQpLGs9cigyMDgpLE89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChrKSxQPXIoNTE3KSxNPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoUCksTD0oYi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFJ1bnRpbWVDb3JlQ3R4KGUsdCxyLG4sbyl7KDAsZi5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVDb3JlQ3R4KTt2YXIgaT0oMCx5LmRlZmF1bHQpKHRoaXMsKFJ1bnRpbWVDb3JlQ3R4Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCkpLmNhbGwodGhpcykpO3JldHVybiBpLl9ydW50aW1lVVJMPWUsaS5fcGVwVVJMPWkuX3J1bnRpbWVVUkwrIi9wZXAiLGkuX2d1aVVSTD1pLl9ydW50aW1lVVJMKyIvcG9saWN5LWd1aSIsaS5pZE1vZHVsZT10LGkucnVudGltZVJlZ2lzdHJ5PXIsaS5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCxpLnNlcnZpY2VQcm92aWRlclBvbGljeT17fSxpLnVzZXJQb2xpY2llcz17fSxpLnN0b3JhZ2VNYW5hZ2VyPW4saS5ydW50aW1lQ2FwYWJpbGl0aWVzPW8saX1yZXR1cm4oMCx2LmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4LGUpLCgwLGQuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgsW3trZXk6ImxvYWRDb25maWd1cmF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQscil7ZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6YWN0aXZlUG9saWN5IikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5hY3RpdmVVc2VyUG9saWN5PXQsZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6Z3JvdXBzIil9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXQ7cmV0dXJuIGUuZ3JvdXBzPXZvaWQgMD09PXI/e306cixlLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazpzcFBvbGljaWVzIil9KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXI7ZS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9dm9pZCAwPT09bj97fTpuLGUuX2xvYWRVc2VyUG9saWNpZXMoKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSl9KX0pfX0se2tleToiZ2V0UG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIHZvaWQgMCE9PXRoaXMuYWN0aXZlVXNlclBvbGljeSYmKHIudXNlclBvbGljeT10aGlzLnVzZXJQb2xpY2llc1t0aGlzLmFjdGl2ZVVzZXJQb2xpY3ldKSxyLnNlcnZpY2VQcm92aWRlclBvbGljeT10aGlzLmdldFNlcnZpY2VQcm92aWRlclBvbGljeShlLHQpLHJ9fSx7a2V5OiJfaXNWYWxpZFVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuZnJvbS5zcGxpdCgiOi8vIikubGVuZ3RoPjE/dC5pZE1vZHVsZS5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUuZnJvbSkudGhlbihmdW5jdGlvbih0KXt0PT09ZS5ib2R5LnNvdXJjZT9yKGUpOm4oIlRoZSBzb3VyY2Ugb2YgdGhlIG1lc3NhZ2UgaXMgbm90IHZhbGlkLiIpfSxmdW5jdGlvbihlKXtuKGUpfSk6cihlKX0pfX0se2tleToiZ2V0TXlFbWFpbHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pZE1vZHVsZS5nZXRJZGVudGl0aWVzKCksdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2goKDAsUy5nZXRVc2VyRW1haWxGcm9tVVJMKShlW3JdLmlkZW50aXR5KSk7cmV0dXJuIHR9fSx7a2V5OiJnZXRNeUh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0LHQ9W107Zm9yKHZhciByIGluIGUpe3ZhciBuPWVbcl0ub2JqZWN0TmFtZTstMT09PXQuaW5kZXhPZihuKSYmdC5wdXNoKG4pfXJldHVybiB0fX0se2tleToiZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMDtpZih0KXt2YXIgbj10aGlzLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShlLnRvKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W25dfWVsc2V7dmFyIG89dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoZS5mcm9tKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W29dfXJldHVybiByfX0se2tleToiZ2V0VVJMIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbMF0rIi8vIit0WzJdKyIvIit0WzNdfX0se2tleToiX2xvYWRVc2VyUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazp1c2VyUG9saWNpZXMiKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQ7aWYodm9pZCAwIT09bilmb3IodmFyIG8gaW4gbillLnBlcC5hZGRQb2xpY3koIlVTRVIiLG8sbltvXSk7cigpfSl9KX19LHtrZXk6Il9nZXRMYXN0Q29tcG9uZW50T2ZVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX19LHtrZXk6Il9nZXRQb2xpY2llc0pTT04iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1lW3RdLmNvbWJpbmluZ0FsZ29yaXRobTtyIGluc3RhbmNlb2Ygdy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJibG9ja092ZXJyaWRlcyI6ciBpbnN0YW5jZW9mIG0uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iYWxsb3dPdmVycmlkZXMiOnIgaW5zdGFuY2VvZiBPLmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImZpcnN0QXBwbGljYWJsZSI6ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09dm9pZCAwfXJldHVybiBlfX0se2tleToic2F2ZUFjdGl2ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmFjdGl2ZVBvbGljeSIsMCxlLmFjdGl2ZVVzZXJQb2xpY3kpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToic2F2ZUdyb3VwcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmdyb3VwcyIsMCxlLmdyb3VwcykudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJzYXZlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA7c3dpdGNoKGUpe2Nhc2UiVVNFUiI6bj0oMCxvLmRlZmF1bHQpKHRoaXMudXNlclBvbGljaWVzKSxuPXRoaXMuX2dldFBvbGljaWVzSlNPTihKU09OLnBhcnNlKG4pKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazp1c2VyUG9saWNpZXMiLDAsbik7YnJlYWs7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjp2b2lkIDAhPT10JnZvaWQgMCE9PXImJih0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtyXT10KSxuPSgwLG8uZGVmYXVsdCkodGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kpLG49dGhpcy5fZ2V0UG9saWNpZXNKU09OKEpTT04ucGFyc2UobikpLHRoaXMuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOnNwUG9saWNpZXMiLDAsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6ImdldEdyb3Vwc05hbWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ3JvdXBzLHQ9W107aWYodm9pZCAwIT09ZSlmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHR9fSx7a2V5OiJnZXRHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZigicHJlYXV0aG9yaXNlZCI9PT1lKXt2YXIgbj10LnNwbGl0KCIvIik7bi5wb3AoKSxuPW5bMF0rIi8vIituWzJdLHI9dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0UHJlQXV0aFN1YnNjcmliZXJzKG4pfWVsc2Ugdm9pZCAwIT09dGhpcy5ncm91cHNbZV0mJihyPXRoaXMuZ3JvdXBzW2VdKTtyZXR1cm4gcn19LHtrZXk6ImNyZWF0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdyb3Vwc1tlXT1bXSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6ImRlbGV0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5ncm91cHNbZV0sdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJhZGRUb0dyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzO2lmKHZvaWQgMD09PXJbZV0pdGhyb3cgRXJyb3IoJ0dyb3VwICInK2UrJyIgZG9lcyBub3QgZXhpc3QhJyk7LTE9PT1yW2VdLmluZGV4T2YodCkmJihyW2VdLnB1c2godCksdGhpcy5zYXZlR3JvdXBzKCkpfX0se2tleToicmVtb3ZlRnJvbUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzW2VdO3Iuc3BsaWNlKHIuaW5kZXhPZih0KSwxKSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6InBlcFVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcFVSTH19LHtrZXk6Imd1aVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aVVSTH19LHtrZXk6InJ1bnRpbWVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVVJMfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fSx7a2V5OiJzdWJzY3JpcHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zdWJzY3JpcHRpb249ZS5tZXNzYWdlLmJvZHkuc3Vic2NyaWJlcn19XSksUnVudGltZUNvcmVDdHh9KE0uZGVmYXVsdCkpO3QuZGVmYXVsdD1MLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksbz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLGk9cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaSksYT1yKDE0KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmVUaGlua0N0eCgpeygwLG8uZGVmYXVsdCkodGhpcyxSZVRoaW5rQ3R4KSx0aGlzLmRlZmF1bHRCZWhhdmlvdXI9ITAsdGhpcy5ncm91cHM9e319cmV0dXJuKDAscy5kZWZhdWx0KShSZVRoaW5rQ3R4LFt7a2V5OiJzY2hlbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlbWV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2UuZnJvbTsoMCxhLmlzRGF0YU9iamVjdFVSTCkodCk/dGhpcy5fc2NoZW1lPSgwLGEuZGl2aWRlVVJMKSh0KS50eXBlOnRoaXMuX3NjaGVtZT12b2lkIDB9fSx7a2V5OiJkYXRlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlLHI9U3RyaW5nKHQuZ2V0RGF0ZSgpKTsxPT09ci5sZW5ndGgmJihyPSIwIityKTt2YXIgbj1TdHJpbmcodC5nZXRNb250aCgpKzEpOzE9PT1uLmxlbmd0aCYmKG49IjAiK24pLHRoaXMuX2RhdGU9cisiLyIrbisiLyIrdC5nZXRGdWxsWWVhcigpfX0se2tleToiZG9tYWluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tYWlufSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9kb21haW49KDAsYS5kaXZpZGVFbWFpbCkoZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpLmRvbWFpbil9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWVzc2FnZTt2b2lkIDAhPT10LmJvZHkudmFsdWUmJih0aGlzLl90eXBlPXQuYm9keS52YWx1ZS5yZXNvdXJjZVR5cGUpfX0se2tleToic291cmNlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkmJih0aGlzLl9zb3VyY2U9ZS5tZXNzYWdlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlcm5hbWUpfX0se2tleToidGltZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LHNldDpmdW5jdGlvbihlKXtlPW5ldyBEYXRlO3ZhciB0PVN0cmluZyhlLmdldE1pbnV0ZXMoKSk7MT09PXQubGVuZ3RoJiYodD0iMCIrdCksdGhpcy5fdGltZT1wYXJzZUludChTdHJpbmcoZS5nZXRIb3VycygpKSt0KX19LHtrZXk6IndlZWtkYXkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWVrZGF5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd2Vla2RheT1TdHJpbmcoKG5ldyBEYXRlKS5nZXREYXkoKSl9fV0pLFJlVGhpbmtDdHh9KCk7dC5kZWZhdWx0PXUsZS5leHBvcnRzPXQuZGVmYXVsdH1dKX0pOw==",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "12.50",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "",
    "p2pRequesterStub": "",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}