{
  "Runtime": {
    "sourcePackage": {
      "sourceCode": "Ly8gdmVyc2lvbjogMC4xMi4wCi8vIGRhdGU6IFR1ZSBKdWwgMTAgMjAxOCAxMToxNDozMCBHTVQrMDEwMCAoV2VzdGVybiBFdXJvcGVhbiBTdW1tZXIgVGltZSkKLy8gbGljZW5jZTogCi8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwoKCiFmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJSdW50aW1lIixbXSx0KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SdW50aW1lPXQoKTplLlJ1bnRpbWU9dCgpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7LyoqKioqKi8KcmV0dXJuIGZ1bmN0aW9uKGUpey8qKioqKiovCi8qKioqKiovCi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovCmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18ocil7LyoqKioqKi8KLyoqKioqKi8KLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovCmlmKHRbcl0pLyoqKioqKi8KcmV0dXJuIHRbcl0uZXhwb3J0czsvKioqKioqLwovLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQovKioqKioqLwp2YXIgbj10W3JdPXsvKioqKioqLwppOnIsLyoqKioqKi8KbDohMSwvKioqKioqLwpleHBvcnRzOnt9fTsvKioqKioqLwovKioqKioqLwovLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLwpyZXR1cm4gZVtyXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxuLmw9ITAsbi5leHBvcnRzfS8vIHdlYnBhY2tCb290c3RyYXAKLyoqKioqKi8KLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLwp2YXIgdD17fTsvKioqKioqLwovKioqKioqLwovLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8KLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzCi8qKioqKiovCi8qKioqKiovCi8qKioqKiovCi8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbAovKioqKioqLwovKioqKioqLwovKioqKioqLwovLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLwpyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPWUsX193ZWJwYWNrX3JlcXVpcmVfXy5jPXQsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGUsdCxyKXsvKioqKioqLwpfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZSx0KXx8LyoqKioqKi8KT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7LyoqKioqKi8KY29uZmlndXJhYmxlOiExLC8qKioqKiovCmVudW1lcmFibGU6ITAsLyoqKioqKi8KZ2V0OnJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKGUpey8qKioqKiovCnZhciB0PWUmJmUuX19lc01vZHVsZT8vKioqKioqLwpmdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9Oi8qKioqKiovCmZ1bmN0aW9uKCl7cmV0dXJuIGV9Oy8qKioqKiovCi8qKioqKiovCnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQodCwiYSIsdCksdH0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9IiIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9MjEzKX0oWy8qIDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksaT1yKDI3KSxvPXIoMTgpLHM9cigxOSksYT1yKDI4KSx1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxmLGwsZCxwPWUmdS5GLHk9ZSZ1LkcsaD1lJnUuUyx2PWUmdS5QLGc9ZSZ1LkIsYj15P246aD9uW3RdfHwoblt0XT17fSk6KG5bdF18fHt9KS5wcm90b3R5cGUsbT15P2k6aVt0XXx8KGlbdF09e30pLF89bS5wcm90b3R5cGV8fChtLnByb3RvdHlwZT17fSk7eSYmKHI9dCk7Zm9yKGMgaW4gcikKLy8gY29udGFpbnMgaW4gbmF0aXZlCmY9IXAmJmImJnZvaWQgMCE9PWJbY10sCi8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkCmw9KGY/YjpyKVtjXSwKLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHQKZD1nJiZmP2EobCxuKTp2JiYiZnVuY3Rpb24iPT10eXBlb2YgbD9hKEZ1bmN0aW9uLmNhbGwsbCk6bCwKLy8gZXh0ZW5kIGdsb2JhbApiJiZzKGIsYyxsLGUmdS5VKSwKLy8gZXhwb3J0Cm1bY10hPWwmJm8obSxjLGQpLHYmJl9bY10hPWwmJihfW2NdPWwpfTtuLmNvcmU9aSwKLy8gdHlwZSBiaXRtYXAKdS5GPTEsLy8gZm9yY2VkCnUuRz0yLC8vIGdsb2JhbAp1LlM9NCwvLyBzdGF0aWMKdS5QPTgsLy8gcHJvdG8KdS5CPTE2LC8vIGJpbmQKdS5XPTMyLC8vIHdyYXAKdS5VPTY0LC8vIHNhZmUKdS5SPTEyOCwvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgCmUuZXhwb3J0cz11fSwvKiAxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0sLyogMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIwMCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLCgwLGkuZGVmYXVsdCkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZkZWZpbmVQcm9wZXJ0aWVzKGUsciksZX19KCl9LC8qIDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LC8qIDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjgKdmFyIHI9ZS5leHBvcnRzPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOyJudW1iZXIiPT10eXBlb2YgX19nJiYoX19nPXIpfSwvKiA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwvKiA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LC8qIDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGk7LyoKKiBsb2dsZXZlbCAtIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbAoqCiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeQoqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KKi8KIWZ1bmN0aW9uKG8scyl7InVzZSBzdHJpY3QiO249cyx2b2lkIDAhPT0oaT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwodCxyLHQsZSk6bikmJihlLmV4cG9ydHM9aSl9KDAsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8vIENyb3NzLWJyb3dzZXIgYmluZCBlcXVpdmFsZW50IHRoYXQgd29ya3MgYXQgbGVhc3QgYmFjayB0byBJRTYKZnVuY3Rpb24gYmluZE1ldGhvZChlLHQpe3ZhciByPWVbdF07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIuYmluZClyZXR1cm4gci5iaW5kKGUpO3RyeXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChyLGUpfWNhdGNoKHQpewovLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nCnJldHVybiBmdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkocixbZSxhcmd1bWVudHNdKX19fQovLyBCdWlsZCB0aGUgYmVzdCBsb2dnaW5nIG1ldGhvZCBwb3NzaWJsZSBmb3IgdGhpcyBlbnYKLy8gV2hlcmV2ZXIgcG9zc2libGUgd2Ugd2FudCB0byBiaW5kLCBub3Qgd3JhcCwgdG8gcHJlc2VydmUgc3RhY2sgdHJhY2VzCmZ1bmN0aW9uIHJlYWxNZXRob2Qocil7cmV0dXJuImRlYnVnIj09PXImJihyPSJsb2ciKSx0eXBlb2YgY29uc29sZSE9PXQmJih2b2lkIDAhPT1jb25zb2xlW3JdP2JpbmRNZXRob2QoY29uc29sZSxyKTp2b2lkIDAhPT1jb25zb2xlLmxvZz9iaW5kTWV0aG9kKGNvbnNvbGUsImxvZyIpOmUpfQovLyBUaGVzZSBwcml2YXRlIGZ1bmN0aW9ucyBhbHdheXMgbmVlZCBgdGhpc2AgdG8gYmUgc2V0IHByb3Blcmx5CmZ1bmN0aW9uIHJlcGxhY2VMb2dnaW5nTWV0aG9kcyh0LG4pey8qanNoaW50IHZhbGlkdGhpczp0cnVlICovCmZvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldO3RoaXNbb109aTx0P2U6dGhpcy5tZXRob2RGYWN0b3J5KG8sdCxuKX0KLy8gRGVmaW5lIGxvZy5sb2cgYXMgYW4gYWxpYXMgZm9yIGxvZy5kZWJ1Zwp0aGlzLmxvZz10aGlzLmRlYnVnfQovLyBJbiBvbGQgSUUgdmVyc2lvbnMsIHRoZSBjb25zb2xlIGlzbid0IHByZXNlbnQgdW50aWwgeW91IGZpcnN0IG9wZW4gaXQuCi8vIFdlIGJ1aWxkIHJlYWxNZXRob2QoKSByZXBsYWNlbWVudHMgaGVyZSB0aGF0IHJlZ2VuZXJhdGUgbG9nZ2luZyBtZXRob2RzCmZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMoZSxyLG4pe3JldHVybiBmdW5jdGlvbigpe3R5cGVvZiBjb25zb2xlIT09dCYmKHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHRoaXMscixuKSx0aGlzW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fQovLyBCeSBkZWZhdWx0LCB3ZSB1c2UgY2xvc2VseSBib3VuZCByZWFsIG1ldGhvZHMgd2hlcmV2ZXIgcG9zc2libGUsIGFuZAovLyBvdGhlcndpc2Ugd2Ugd2FpdCBmb3IgYSBjb25zb2xlIHRvIGFwcGVhciwgYW5kIHRoZW4gdHJ5IGFnYWluLgpmdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShlLHQscil7Lypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi8KcmV0dXJuIHJlYWxNZXRob2QoZSl8fGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIExvZ2dlcihlLG4saSl7ZnVuY3Rpb24gcGVyc2lzdExldmVsSWZQb3NzaWJsZShlKXt2YXIgbj0ocltlXXx8InNpbGVudCIpLnRvVXBwZXJDYXNlKCk7aWYodHlwZW9mIHdpbmRvdyE9PXQpewovLyBVc2UgbG9jYWxTdG9yYWdlIGlmIGF2YWlsYWJsZQp0cnl7cmV0dXJuIHZvaWQod2luZG93LmxvY2FsU3RvcmFnZVthXT1uKX1jYXRjaChlKXt9Ci8vIFVzZSBzZXNzaW9uIGNvb2tpZSBhcyBmYWxsYmFjawp0cnl7d2luZG93LmRvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK24rIjsifWNhdGNoKGUpe319fWZ1bmN0aW9uIGdldFBlcnNpc3RlZExldmVsKCl7dmFyIGU7aWYodHlwZW9mIHdpbmRvdyE9PXQpe3RyeXtlPXdpbmRvdy5sb2NhbFN0b3JhZ2VbYV19Y2F0Y2goZSl7fQovLyBGYWxsYmFjayB0byBjb29raWVzIGlmIGxvY2FsIHN0b3JhZ2UgZ2l2ZXMgdXMgbm90aGluZwppZih0eXBlb2YgZT09PXQpdHJ5e3ZhciByPXdpbmRvdy5kb2N1bWVudC5jb29raWUsbj1yLmluZGV4T2YoZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9Iik7LTEhPT1uJiYoZT0vXihbXjtdKykvLmV4ZWMoci5zbGljZShuKSlbMV0pfWNhdGNoKGUpe30KLy8gSWYgdGhlIHN0b3JlZCBsZXZlbCBpcyBub3QgdmFsaWQsIHRyZWF0IGl0IGFzIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC4KcmV0dXJuIHZvaWQgMD09PXMubGV2ZWxzW2VdJiYoZT12b2lkIDApLGV9fXZhciBvLHM9dGhpcyxhPSJsb2dsZXZlbCI7ZSYmKGErPSI6IitlKSwvKgogICAgICAgKgogICAgICAgKiBQdWJsaWMgbG9nZ2VyIEFQSSAtIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWwgZm9yIGRldGFpbHMKICAgICAgICoKICAgICAgICovCnMubmFtZT1lLHMubGV2ZWxzPXtUUkFDRTowLERFQlVHOjEsSU5GTzoyLFdBUk46MyxFUlJPUjo0LFNJTEVOVDo1fSxzLm1ldGhvZEZhY3Rvcnk9aXx8ZGVmYXVsdE1ldGhvZEZhY3Rvcnkscy5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiBvfSxzLnNldExldmVsPWZ1bmN0aW9uKHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiByJiZ2b2lkIDAhPT1zLmxldmVsc1tyLnRvVXBwZXJDYXNlKCldJiYocj1zLmxldmVsc1tyLnRvVXBwZXJDYXNlKCldKSwhKCJudW1iZXIiPT10eXBlb2YgciYmcj49MCYmcjw9cy5sZXZlbHMuU0lMRU5UKSl0aHJvdyJsb2cuc2V0TGV2ZWwoKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGxldmVsOiAiK3I7aWYobz1yLCExIT09biYmLy8gZGVmYXVsdHMgdG8gdHJ1ZQpwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKHIpLHJlcGxhY2VMb2dnaW5nTWV0aG9kcy5jYWxsKHMscixlKSx0eXBlb2YgY29uc29sZT09PXQmJnI8cy5sZXZlbHMuU0lMRU5UKXJldHVybiJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZyJ9LHMuc2V0RGVmYXVsdExldmVsPWZ1bmN0aW9uKGUpe2dldFBlcnNpc3RlZExldmVsKCl8fHMuc2V0TGV2ZWwoZSwhMSl9LHMuZW5hYmxlQWxsPWZ1bmN0aW9uKGUpe3Muc2V0TGV2ZWwocy5sZXZlbHMuVFJBQ0UsZSl9LHMuZGlzYWJsZUFsbD1mdW5jdGlvbihlKXtzLnNldExldmVsKHMubGV2ZWxzLlNJTEVOVCxlKX07Ci8vIEluaXRpYWxpemUgd2l0aCB0aGUgcmlnaHQgbGV2ZWwKdmFyIHU9Z2V0UGVyc2lzdGVkTGV2ZWwoKTtudWxsPT11JiYodT1udWxsPT1uPyJXQVJOIjpuKSxzLnNldExldmVsKHUsITEpfQovLyBTbGlnaHRseSBkdWJpb3VzIHRyaWNrcyB0byBjdXQgZG93biBtaW5pbWl6ZWQgZmlsZSBzaXplCnZhciBlPWZ1bmN0aW9uKCl7fSx0PSJ1bmRlZmluZWQiLHI9WyJ0cmFjZSIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJlcnJvciJdLG49bmV3IExvZ2dlcixpPXt9O24uZ2V0TG9nZ2VyPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IiI9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci4iKTt2YXIgdD1pW2VdO3JldHVybiB0fHwodD1pW2VdPW5ldyBMb2dnZXIoZSxuLmdldExldmVsKCksbi5tZXRob2RGYWN0b3J5KSksdH07Ci8vIEdyYWIgdGhlIGN1cnJlbnQgZ2xvYmFsIGxvZyB2YXJpYWJsZSBpbiBjYXNlIG9mIG92ZXJ3cml0ZQp2YXIgbz10eXBlb2Ygd2luZG93IT09dD93aW5kb3cubG9nOnZvaWQgMDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3chPT10JiZ3aW5kb3cubG9nPT09biYmKHdpbmRvdy5sb2c9byksbn0sbi5nZXRMb2dnZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LG59KX0sLyogOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig4MCkoIndrcyIpLGk9cig0OSksbz1yKDQpLlN5bWJvbCxzPSJmdW5jdGlvbiI9PXR5cGVvZiBvOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPXMmJm9bZV18fChzP286aSkoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPW59LC8qIDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQxNyksX19lc01vZHVsZTohMH19LC8qIDEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjUuNyJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPXIpfSwvKiAxMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkKZS5leHBvcnRzPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogMTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMyksaT1yKDE0OCksbz1yKDMxKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cigxMSk/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9byh0LCEwKSxuKHIpLGkpdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChlKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LC8qIDEzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjE1IFRvTGVuZ3RoCnZhciBuPXIoMzMpLGk9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/aShuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSwvKiAxNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fS8qKgoqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQoqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCioqLwovKioKICogU3VwcG9ydCBtb2R1bGUgd2l0aCBzb21lIGZ1bmN0aW9ucyB3aWxsIGJlIHVzZWZ1bAogKiBAbW9kdWxlIHV0aWxzCiAqLwovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KLyoqCiAqIERpdmlkZSBhbiB1cmwgaW4gdHlwZSwgZG9tYWluIGFuZCBpZGVudGl0eQogKiBAcGFyYW0gIHtVUkwuVVJMfSB1cmwgLSB1cmwgYWRkcmVzcwogKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMCiAqLwpmdW5jdGlvbiBkaXZpZGVVUkwoZSl7ZnVuY3Rpb24gcmVjdXJzZShlKXt2YXIgdD0vKFthLXpBLVotXSopKDpcL1wvKD86XC4pP3w6KShbLWEtekEtWjAtOUA6JS5fK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fK34jPVwvXSopL2dpO3JldHVybiBlLnJlcGxhY2UodCwiJDEsJDMsJDQiKS5zcGxpdCgiLCIpfXZhciB0PXJlY3Vyc2UoZSk7Ci8vIElmIHRoZSB1cmwgaGFzIG5vIHNjaGVtZQppZih0WzBdPT09ZSYmIXRbMF0uaW5jbHVkZXMoIkAiKSl7cmV0dXJue3R5cGU6IiIsZG9tYWluOmUsaWRlbnRpdHk6IiJ9fQovLyBjaGVjayBpZiB0aGUgdXJsIGhhcyB0aGUgc2NoZW1lIGFuZCBpbmNsdWRlcyBhbiBACmlmKHRbMF09PT1lJiZ0WzBdLmluY2x1ZGVzKCJAIikpe3Q9cmVjdXJzZSgodFswXT09PWU/InNtdHAiOnRbMF0pKyI6Ly8iK3RbMF0pfQovLyBpZiB0aGUgZG9tYWluIGluY2x1ZGVzIGFuIEAsIGRpdmlkZSBpdCB0byBkb21haW4gYW5kIGlkZW50aXR5IHJlc3BlY3RpdmVseQpyZXR1cm4gdFsxXS5pbmNsdWRlcygiQCIpJiYodFsyXT10WzBdKyI6Ly8iK3RbMV0sdFsxXT10WzFdLnN1YnN0cih0WzFdLmluZGV4T2YoIkAiKSsxKSkse3R5cGU6dFswXSxkb21haW46dFsxXSxpZGVudGl0eTp0WzJdfX0vKioKICogQ2hlY2sgaWYgYW4gT2JqZWN0IGlzIGVtcHR5CiAqIEBwYXJhbSAge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBiZSBjaGVja2VkCiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIHN0YXR1cyBvZiBPYmplY3QsIGVtcHR5IG9yIG5vdCAodHJ1ZXxmYWxzZSk7CiAqLwpmdW5jdGlvbiBlbXB0eU9iamVjdChlKXtyZXR1cm4hKCgwLHMuZGVmYXVsdCkoZSkubGVuZ3RoPjApfWZ1bmN0aW9uIHNlY29uZHNTaW5jZUVwb2NoKCl7cmV0dXJuIE1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpfS8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShlKXsKLy9UT0RPOiBzaW1wbGUgYnV0IGluZWZmaWNpZW50IEpTT04gZGVlcCBjbG9uZS4uLgppZihlKXJldHVybiBKU09OLnBhcnNlKCgwLGkuZGVmYXVsdCkoZSkpfWZ1bmN0aW9uIHJlbW92ZVBhdGhGcm9tVVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFswXSsiLy8iK3RbMl0rIi8iK3RbM119LyoqCiAqIE9idGFpbnMgdGhlIHVzZXIgVVJMIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBlbWFpbAogKiBAcGFyYW0gIHtzdHJpbmd9IHVzZXJFbWFpbCBUaGUgdXNlciBlbWFpbAogKiBAcmV0dXJuIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTAogKi8KZnVuY3Rpb24gZ2V0VXNlclVSTEZyb21FbWFpbChlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm4idXNlcjovLyIrZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKSsiLyIrZS5zdWJzdHJpbmcoMCx0KX0vKioKICogT2J0YWlucyB0aGUgdXNlciBlbWFpbCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gVVJMCiAqIEBwYXJhbSAge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMCiAqIEByZXR1cm4ge3N0cmluZ30gdXNlckVtYWlsIFRoZSB1c2VyIGVtYWlsCiAqLwpmdW5jdGlvbiBnZXRVc2VyRW1haWxGcm9tVVJMKGUpe3ZhciB0PWRpdmlkZVVSTChlKTtyZXR1cm4gdC5pZGVudGl0eS5yZXBsYWNlKCIvIiwiIikrIkAiK3QuZG9tYWlufS8qKgogKiBDaGVjayBpZiB0aGUgdXNlciBpZGVudGlmaWVyIGlzIGFscmVhZHkgaW4gdGhlIFVSTCBmb3JtYXQsIGlmIG5vdCwgY29udmVydCB0byBVUkwgZm9ybWF0CiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudGlmaWVyICB1c2VyIGlkZW50aWZpZXIKICogQHJldHVybiB7c3RyaW5nfSAgIHVzZXJVUkwgICAgdGhlIHVzZXIgVVJMCiAqLwpmdW5jdGlvbiBjb252ZXJ0VG9Vc2VyVVJMKGUpewovLyBjaGVjayBpZiB0aGUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGluIHRoZSB1cmwgZm9ybWF0CmlmKCJ1c2VyOi8vIj09PWUuc3Vic3RyaW5nKDAsNykpe3ZhciB0PWRpdmlkZVVSTChlKTsKLy9jaGVjayBpZiB0aGUgdXJsIGlzIHdlbGwgZm9ybWF0ZWQKaWYodC5kb21haW4mJnQuaWRlbnRpdHkpcmV0dXJuIGU7dGhyb3cidXNlclVSTCB3aXRoIHdyb25nIGZvcm1hdCJ9cmV0dXJuIGdldFVzZXJVUkxGcm9tRW1haWwoZSl9ZnVuY3Rpb24gaXNEYXRhT2JqZWN0VVJMKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iLCJoeXBlcnR5Il0scj1lLnNwbGl0KCI6Ly8iKSxuPXJbMF07cmV0dXJuLTE9PT10LmluZGV4T2Yobil9ZnVuY3Rpb24gaXNMZWdhY3koZSl7cmV0dXJuIGUuc3BsaXQoIkAiKS5sZW5ndGg+MX1mdW5jdGlvbiBpc1VSTChlKXtyZXR1cm4gZS5zcGxpdCgiLyIpLmxlbmd0aD49M31mdW5jdGlvbiBpc1VzZXJVUkwoZSl7cmV0dXJuInVzZXIiPT09ZGl2aWRlVVJMKGUpLnR5cGV9ZnVuY3Rpb24gaXNIeXBlcnR5VVJMKGUpe3JldHVybiJoeXBlcnR5Ij09PWRpdmlkZVVSTChlKS50eXBlfS8qKgogKiBnZXQgaW5mb3JtYXRpb24gcmVsYXRpdmUgZWFjaCBjb21wb25lbnQgY29uZmlndXJlZCBvbiBydW50aW1lIGNvbmZpZ3VyYXRpb247CiAqIEBwYXJhbSAge29iamVjdH0gY29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBhbGwgY29uZmlndXJhdGlvbgogKiBAcGFyYW0gIHtzdHJpbmd9IGNvbXBvbmVudCAgICAgc3RyaW5nIHdpdGggdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGNvbmZpZ3VyYXRpb24sIGxpa2UsIHJ1bnRpbWVVUkxTLCBjYXRhbG9ndWVVUkxzLCBtc2dOb2RlVVJMLCBkb21haW5SZWdpc3RyeVVSTDsKICogQHBhcmFtICB7c3RyaW5nfSByZXNvdXJjZSAgICAgIHR5cGUgb2YgcmVzb3VyY2UgdG8gZ2V0LCBsaWtlLCBjYXRhbG9ndWUsIHJ1bnRpbWVVQSwgcHJvdG9jb2xzdHViLCBpZHBQcm94eQogKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAgICAgICAgcmV0dXJuIGFuIG9iamVjdCB3aXRoIGFsbCBjb25maWd1cmF0aW9uczsKICovCmZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMoZSx0LHIpe3JldHVybiBlW3RdW3JdfS8qKgogKiBCdWlsZCBhIGZ1bGwgdXJsIHdpdGggdGhlIHJ1bnRpbWUgY29uZmlndXJhdGlvbjsKICogQHBhcmFtICB7b2JqZWN0fSBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGFsbCBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50ICAgICBzdHJpbmcgd2l0aCB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiwgbGlrZSwgcnVudGltZVVSTFMsIGNhdGFsb2d1ZVVSTHMsIG1zZ05vZGVVUkwsIGRvbWFpblJlZ2lzdHJ5VVJMOwogKiBAcGFyYW0gIHtzdHJpbmd9IHJlc291cmNlICAgICAgdHlwZSBvZiByZXNvdXJjZSB0byBnZXQsIGxpa2UsIGNhdGFsb2d1ZSwgcnVudGltZVVBLCBwcm90b2NvbHN0dWIsIGlkcFByb3h5CiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSAgICAgICAgICByZXNvdXJjZSB0byBnZXQsIGxpa2UgYSBoeXBlcnR5IG5hbWUgb3IgcHJvdG9jb2xzdHViIG5hbWU7CiAqIEBwYXJhbSAge2Jvb2xlYW59IHVzZUZhbGxiYWNrICBpZiB0cnVlIHRoZSBmdW5jdGlvbiB3aWxsIGNoZWNrIGlmIGhhdmUgYSBmYWxsYmFjayB1cmw7CiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgICAgICBwYXJ0aWFsIHVybCB0byBjb250YWN0IHRoZSByZXNvdXJjZTsKICovCmZ1bmN0aW9uIGJ1aWxkVVJMKGUsdCxyLG4pe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0scz1lW3RdLGE9dm9pZCAwO2lmKCFzLmhhc093blByb3BlcnR5KHIpKXRocm93IEVycm9yKCJUaGUgY29uZmlndXJhdGlvbiAiKygwLGkuZGVmYXVsdCkocywiIiwyKSsiIGRvbid0IGhhdmUgdGhlICIrcisiIHJlc291cmNlIHlvdSBhcmUgbG9va2luZyBmb3IiKTt2YXIgdT1zW3JdOwovLyBjb25zb2xlLmxvZyh1cmwpOwpyZXR1cm4gbj8oYT11LnByZWZpeCtlLmRvbWFpbit1LnN1ZmZpeCtuLHUuaGFzT3duUHJvcGVydHkoImZhbGxiYWNrIikmJm8mJihhPXUuZmFsbGJhY2suaW5kZXhPZigiJWRvbWFpbiUiKT91LmZhbGxiYWNrLnJlcGxhY2UoLyglZG9tYWluJSkvZyxlLmRvbWFpbikrbjp1LmZhbGxiYWNrK24pKTphPXUucHJlZml4K2UuZG9tYWluK3Uuc3VmZml4LGF9LyoqCiAqIEdlbmVyYXRlIGEgR2xvYmFsIFVuaXF1ZSBJRAogKgogKiBAcmV0dXJucyBTdHJpbmc7CiAqLwpmdW5jdGlvbiBnZW5lcmF0ZUdVSUQoKXtmdW5jdGlvbiBzNCgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBzNCgpK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrIi0iK3M0KCkrczQoKStzNCgpfWZ1bmN0aW9uIGdldFVzZXJJZGVudGl0eURvbWFpbihlKXt2YXIgdD1kaXZpZGVVUkwoZSkscj10LmRvbWFpbi5zcGxpdCgiLiIpLG49ci5sZW5ndGg7cmV0dXJuIDE9PW4/cltuLTFdOnJbbi0yXSsiLiIrcltuLTFdfS8qKgogKiBDaGVjayBpZiBVUkwgaXMgZnJvbSBhIGJhY2tlbmQgc2VydmljZQogKiBAcGFyYW0gIHtzdHJpbmd9IHVybCAgICAgVVJMIHRvIGJlIHByb2Nlc3NlZAogKiBAcmV0dXJuIHtib29sZWFufQogKi8KZnVuY3Rpb24gaXNCYWNrZW5kU2VydmljZVVSTChlKXt2YXIgdD1kaXZpZGVVUkwoZSkscj10LmRvbWFpbi5zcGxpdCgiLiIpLG49WyJkb21haW4iLCJnbG9iYWwiLCJkb21haW4taWRwIl0saT1bInJlZ2lzdHJ5IiwibXNnLW5vZGUiXSxvPXZvaWQgMDtyZXR1cm4gci5sZW5ndGg+MSYmKG89ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1pLmluZGV4T2YoZSl9KVswXSksISghb3x8LTE9PT1pLmluZGV4T2YobykpfHwhIXQudHlwZSYmLTEhPT1uLmluZGV4T2YodC50eXBlKX1mdW5jdGlvbiBkaXZpZGVFbWFpbChlKXt2YXIgdD1lLmluZGV4T2YoIkAiKTtyZXR1cm57dXNlcm5hbWU6ZS5zdWJzdHJpbmcoMCx0KSxkb21haW46ZS5zdWJzdHJpbmcodCsxLGUubGVuZ3RoKX19ZnVuY3Rpb24gYXNzaWduKGUsdCxyKXtlfHwoZT17fSksInN0cmluZyI9PXR5cGVvZiB0JiYodD1wYXJzZUF0dHJpYnV0ZXModCkpO2Zvcih2YXIgbj10Lmxlbmd0aC0xLGk9MDtpPG47KytpKXt2YXIgbz10W2ldO28gaW4gZXx8KGVbb109e30pLGU9ZVtvXX1lW3Rbbl1dPXJ9ZnVuY3Rpb24gc3BsaXRPYmplY3RVUkwoZSl7dmFyIHQ9ZS5zcGxpdCgiLyIpLHI9dFswXSsiLy8iK3RbMl0rIi8iK3RbM10sbj10WzVdLGk9e3VybDpyLHJlc291cmNlOm59O3JldHVybiBpfWZ1bmN0aW9uIGNoZWNrQXR0cmlidXRlKGUpe3ZhciB0PS8oKChbYS16QS1aXSspOlwvXC8oWzAtOWEtekEtWl1bLVx3XSpbMC05YS16QS1aXVwuKStbYS16QS1aXXsyLDl9KVwvW2EtekEtWjAtOS5dK0BbYS16QS1aMC05XSsoLSk/W2EtekEtWjAtOV0rKFwuKT9bYS16QS1aMC05XXsyLDEwfT9cLlthLXpBLVpdezIsMTB9KSguKyg/PS5pZGVudGl0eSkpPy9nbSxyPVtdLG49W107aWYobnVsbD09ZS5tYXRjaCh0KSluPWUuc3BsaXQoIi4iKTtlbHNle2Zvcih2YXIgaT12b2lkIDA7bnVsbCE9PShpPXQuZXhlYyhlKSk7KQovLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wcyB3aXRoIHplcm8td2lkdGggbWF0Y2hlcwppLmluZGV4PT09dC5sYXN0SW5kZXgmJnQubGFzdEluZGV4KyssCi8vIFRoZSByZXN1bHQgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhlIGBtYC12YXJpYWJsZS4KaS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7MD09PXQmJnIucHVzaChlKX0pO3ZhciBvPXZvaWQgMDtyLmZvckVhY2goZnVuY3Rpb24odCl7bz1lLnJlcGxhY2UodCwiKi0qIiksbj1vLnNwbGl0KCIuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIqLSoiPT09ZT90OmV9KX0pfXJldHVybiBufWZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlcyhlKXt2YXIgdD0vKFswLTlhLXpBLVpdWy1cd10qKTpcL1wvL2c7aWYoZS5pbmNsdWRlcygiOi8vIikpe3ZhciByPWUuc3BsaXQodClbMF0sbj1yLnNwbGl0KCIuIiksaT1lLnJlcGxhY2UociwiIik7aWYoZS5pbmNsdWRlcygiaWRlbnRpdHkiKSl7dmFyIG89aS5zcGxpdCgiaWRlbnRpdHkuIik7aT1vWzBdLnNsaWNlKCIuIiwtMSksbz1vWzFdLnNwbGl0KCIuIiksbi5wdXNoKGksImlkZW50aXR5Iiksbj1uLmNvbmNhdChvKX1lbHNlIG4ucHVzaChpKTtyZXR1cm4gbi5maWx0ZXIoQm9vbGVhbil9cmV0dXJuIGUuc3BsaXQoIi4iKX1mdW5jdGlvbiBpc0VtcHR5KGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuITE7cmV0dXJuKDAsaS5kZWZhdWx0KShlKT09PSgwLGkuZGVmYXVsdCkoe30pfWZ1bmN0aW9uIGNoYXRrZXlzVG9TdHJpbmdDbG9uZXIoZSl7dmFyIHQ9e30scj0oMCxzLmRlZmF1bHQpKGUpO2lmKHIpdHJ5e2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO3RbaV09e30sdFtpXS5zZXNzaW9uS2V5PWVbaV0uc2Vzc2lvbktleS50b1N0cmluZygpLHRbaV0uaXNUb0VuY3J5cHQ9ZVtpXS5pc1RvRW5jcnlwdH19Y2F0Y2goZSl7fXJldHVybiB0fWZ1bmN0aW9uIGNoYXRrZXlzVG9BcnJheUNsb25lcihlKXt2YXIgdD17fSxyPSgwLHMuZGVmYXVsdCkoZSk7aWYocil0cnl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07dFtpXT17fTt2YXIgbz1KU09OLnBhcnNlKCJbIitlW2ldLnNlc3Npb25LZXkrIl0iKTt0W2ldLnNlc3Npb25LZXk9bmV3IFVpbnQ4QXJyYXkobyksdFtpXS5pc1RvRW5jcnlwdD1lW2ldLmlzVG9FbmNyeXB0fX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gcGFyc2VNZXNzYWdlVVJMKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdC5sZW5ndGg8PTY/dFswXSsiLy8iK3RbMl0rIi8iK3RbM106dFswXSsiLy8iK3RbMl0rIi8iK3RbM10rIi8iK3RbNF19ZnVuY3Rpb24gYXZhaWxhYmxlU3BhY2UoZSx0KXt2YXIgcj0oZS90KS50b0ZpeGVkKDIpO3JldHVybntxdW90YTp0LHVzYWdlOmUscGVyY2VudDpOdW1iZXIocil9fS8qKgoqIEVuY29kZXMgYSBKUyBvYmplY3QgdG8gYmFzZSA2NCBlbmNvZGUKKiBAcGFyYW0gICB7T2JqZWN0fSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7c3RyaW5nfSAgIGVuY29kZWQgdmFsdWUKKi8KZnVuY3Rpb24gZW5jb2RlKGUpe3RyeXt2YXIgdD1zdHJpbmdpZnkoZSk7cmV0dXJuIGJ0b2EodCl9Y2F0Y2goZSl7dGhyb3cgZX19LyoqCiAgKiBEZWNvZGUgYSBiYXNlNjQgc3RyaW5nIHRvIG9iamVjdAogICogQHBhcmFtICAge3N0cmluZ19iNjR9ICAgIHZhbHVlICAgIHZhbHVlIGVuY29kZWQgaW4gYmFzZSA2NAogICogQHJldHVybiAge09iamVjdH0gZGVjb2RlZFZhbHVlCiAgKi8KZnVuY3Rpb24gZGVjb2RlKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShhdG9iKGUpKX1jYXRjaChlKXt0aHJvdyBlfX0vKioKKiBEZWNvZGUgYSBiYXNlNjQgc3RyaW5nIHRvIFVpbnQ4QXJyYXkKKiBAcGFyYW0gICB7c3RyaW5nX2I2NH0gICAgdmFsdWUgICAgYnl0ZUFycmF5IHZhbHVlCiogQHJldHVybiAge1VpbnQ4QXJyYXl9ICAgZW5jb2RlZCB2YWx1ZQoqLwpmdW5jdGlvbiBkZWNvZGVUb1VpbnQ4QXJyYXkoZSl7dHJ5e3JldHVybiBuZXcgVWludDhBcnJheShkZWNvZGUoZSkpfWNhdGNoKGUpe3Rocm93IGV9fS8qKgoqIENvbnZlcnRzIGEgSlMgb2JqZWN0IHRvIHN0cmluZwoqIE5PVEU6IFNwZWNpYWwgY29udmVyc2lvbiBmb3IgVWludDhBcnJheXMKKiBAcGFyYW0gICB7T2JqZWN0fSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNvZGVkIHZhbHVlCiovCmZ1bmN0aW9uIHN0cmluZ2lmeShlKXt0cnl7cmV0dXJuIGUuY29uc3RydWN0b3I9PT1VaW50OEFycmF5PyJbIitlLnRvU3RyaW5nKCkrIl0iOigwLGkuZGVmYXVsdCkoZSl9Y2F0Y2goZSl7dGhyb3cgZX19LyoqCiogQ29udmVydHMgYSBzdHJpbmdpZmllZCBvYmplY3QgdG8gb2JqZWN0CiogQHBhcmFtICAge1N0cmluZ30gICAgdmFsdWUgICAgYnl0ZUFycmF5IHZhbHVlCiogQHJldHVybiAge09iamVjdH0gICBlbmNvZGVkIHZhbHVlCiovCmZ1bmN0aW9uIHBhcnNlKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXt0aHJvdyBlfX0vKioKKiBDb252ZXJ0cyBhIHN0cmluZ2lmaWVkIG9iamVjdCB0byBvYmplY3QKKiBAcGFyYW0gICB7U3RyaW5nfSAgICB2YWx1ZSAgICBieXRlQXJyYXkgdmFsdWUKKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNvZGVkIHZhbHVlCiovCmZ1bmN0aW9uIHBhcnNlVG9VaW50OEFycmF5KGUpe3RyeXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocGFyc2UoZSkpfWNhdGNoKGUpe3Rocm93IGV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDM3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyk7dC5kaXZpZGVVUkw9ZGl2aWRlVVJMLHQuZW1wdHlPYmplY3Q9ZW1wdHlPYmplY3QsdC5zZWNvbmRzU2luY2VFcG9jaD1zZWNvbmRzU2luY2VFcG9jaCx0LmRlZXBDbG9uZT1kZWVwQ2xvbmUsdC5yZW1vdmVQYXRoRnJvbVVSTD1yZW1vdmVQYXRoRnJvbVVSTCx0LmdldFVzZXJVUkxGcm9tRW1haWw9Z2V0VXNlclVSTEZyb21FbWFpbCx0LmdldFVzZXJFbWFpbEZyb21VUkw9Z2V0VXNlckVtYWlsRnJvbVVSTCx0LmNvbnZlcnRUb1VzZXJVUkw9Y29udmVydFRvVXNlclVSTCx0LmlzRGF0YU9iamVjdFVSTD1pc0RhdGFPYmplY3RVUkwsdC5pc0xlZ2FjeT1pc0xlZ2FjeSx0LmlzVVJMPWlzVVJMLHQuaXNVc2VyVVJMPWlzVXNlclVSTCx0LmlzSHlwZXJ0eVVSTD1pc0h5cGVydHlVUkwsdC5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzPWdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMsdC5idWlsZFVSTD1idWlsZFVSTCx0LmdlbmVyYXRlR1VJRD1nZW5lcmF0ZUdVSUQsdC5nZXRVc2VySWRlbnRpdHlEb21haW49Z2V0VXNlcklkZW50aXR5RG9tYWluLHQuaXNCYWNrZW5kU2VydmljZVVSTD1pc0JhY2tlbmRTZXJ2aWNlVVJMLHQuZGl2aWRlRW1haWw9ZGl2aWRlRW1haWwsdC5hc3NpZ249YXNzaWduLHQuc3BsaXRPYmplY3RVUkw9c3BsaXRPYmplY3RVUkwsdC5jaGVja0F0dHJpYnV0ZT1jaGVja0F0dHJpYnV0ZSx0LnBhcnNlQXR0cmlidXRlcz1wYXJzZUF0dHJpYnV0ZXMsdC5pc0VtcHR5PWlzRW1wdHksdC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyPWNoYXRrZXlzVG9TdHJpbmdDbG9uZXIsdC5jaGF0a2V5c1RvQXJyYXlDbG9uZXI9Y2hhdGtleXNUb0FycmF5Q2xvbmVyLHQucGFyc2VNZXNzYWdlVVJMPXBhcnNlTWVzc2FnZVVSTCx0LmF2YWlsYWJsZVNwYWNlPWF2YWlsYWJsZVNwYWNlLHQuZW5jb2RlPWVuY29kZSx0LmRlY29kZT1kZWNvZGUsdC5kZWNvZGVUb1VpbnQ4QXJyYXk9ZGVjb2RlVG9VaW50OEFycmF5LHQuc3RyaW5naWZ5PXN0cmluZ2lmeSx0LnBhcnNlPXBhcnNlLHQucGFyc2VUb1VpbnQ4QXJyYXk9cGFyc2VUb1VpbnQ4QXJyYXl9LC8qIDE1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KQp2YXIgbj1yKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LC8qIDE2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSwvKiAxNyAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOAp2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LC8qIDE4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEyKSxpPXIoNDgpO2UuZXhwb3J0cz1yKDExKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsaSgxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LC8qIDE5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLGk9cigxOCksbz1yKDIzKSxzPXIoNDkpKCJzcmMiKSxhPUZ1bmN0aW9uLnRvU3RyaW5nLHU9KCIiK2EpLnNwbGl0KCJ0b1N0cmluZyIpO3IoMjcpLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuY2FsbChlKX0sKGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscixhKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgcjtjJiYobyhyLCJuYW1lIil8fGkociwibmFtZSIsdCkpLGVbdF0hPT1yJiYoYyYmKG8ocixzKXx8aShyLHMsZVt0XT8iIitlW3RdOnUuam9pbihTdHJpbmcodCkpKSksZT09PW4/ZVt0XT1yOmE/ZVt0XT9lW3RdPXI6aShlLHQscik6KGRlbGV0ZSBlW3RdLGkoZSx0LHIpKSl9KShGdW5jdGlvbi5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzJiZ0aGlzW3NdfHxhLmNhbGwodGhpcyl9KX0sLyogMjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCksaT1yKDUpLG89cigzMikscz0vIi9nLGE9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9U3RyaW5nKG8oZSkpLGE9IjwiK3Q7cmV0dXJuIiIhPT1yJiYoYSs9IiAiK3IrJz0iJytTdHJpbmcobikucmVwbGFjZShzLCImcXVvdDsiKSsnIicpLGErIj4iK2krIjwvIit0KyI+In07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cltlXT10KGEpLG4obi5QK24uRippKGZ1bmN0aW9uKCl7dmFyIHQ9IiJbZV0oJyInKTtyZXR1cm4gdCE9PXQudG9Mb3dlckNhc2UoKXx8dC5zcGxpdCgnIicpLmxlbmd0aD4zfSksIlN0cmluZyIscil9fSwvKiAyMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNyksaT1yKDEwKSxvPXIoNjUpLHM9cig1OCksYT1yKDU5KSx1PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYyxmLGwsZD1lJnUuRixwPWUmdS5HLHk9ZSZ1LlMsaD1lJnUuUCx2PWUmdS5CLGc9ZSZ1LlcsYj1wP2k6aVt0XXx8KGlbdF09e30pLG09Yi5wcm90b3R5cGUsXz1wP246eT9uW3RdOihuW3RdfHx7fSkucHJvdG90eXBlO3AmJihyPXQpO2ZvcihjIGluIHIpCi8vIGNvbnRhaW5zIGluIG5hdGl2ZQooZj0hZCYmXyYmdm9pZCAwIT09X1tjXSkmJmEoYixjKXx8KAovLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZApsPWY/X1tjXTpyW2NdLAovLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXMKYltjXT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgX1tjXT9yW2NdOnYmJmY/byhsLG4pOmcmJl9bY109PWw/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGwpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBsP28oRnVuY3Rpb24uY2FsbCxsKTpsLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSUKaCYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVtjXT1sLAovLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJQplJnUuUiYmbSYmIW1bY10mJnMobSxjLGwpKSl9OwovLyB0eXBlIGJpdG1hcAp1LkY9MSwvLyBmb3JjZWQKdS5HPTIsLy8gZ2xvYmFsCnUuUz00LC8vIHN0YXRpYwp1LlA9OCwvLyBwcm90bwp1LkI9MTYsLy8gYmluZAp1Llc9MzIsLy8gd3JhcAp1LlU9NjQsLy8gc2FmZQp1LlI9MTI4LC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAKZS5leHBvcnRzPXV9LC8qIDIyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEzNikoIndrcyIpLGk9cig5Niksbz1yKDE3KS5TeW1ib2wscz0iZnVuY3Rpb24iPT10eXBlb2YgbzsoZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZvW2VdfHwocz9vOmkpKCJTeW1ib2wuIitlKSl9KS5zdG9yZT1ufSwvKiAyMyAqLwovKioqLwpmdW5jdGlvbihlLHQpe3ZhciByPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiByLmNhbGwoZSx0KX19LC8qIDI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzCnZhciBuPXIoNzApLGk9cigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGkoZSkpfX0sLyogMjUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzEpLGk9cig0OCksbz1yKDI0KSxzPXIoMzEpLGE9cigyMyksdT1yKDE0OCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDExKT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCnZhciBuPXIoMjMpLGk9cigxNSksbz1yKDEwNCkoIklFX1BST1RPIikscz1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/czpudWxsfX0sLyogMjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNS43In07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9cil9LC8qIDI4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nCnZhciBuPXIoMTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sLyogMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LC8qIDMwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJm4oZnVuY3Rpb24oKXsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY2FsbAp0P2UuY2FsbChudWxsLGZ1bmN0aW9uKCl7fSwxKTplLmNhbGwobnVsbCl9KX19LC8qIDMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pCnZhciBuPXIoNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDMyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCmUuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LC8qIDMzICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlcwp2YXIgbj1yKDApLGk9cigyNyksbz1yKDUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShpLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0scz17fTtzW2VdPXQociksbihuLlMrbi5GKm8oZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIscyl9fSwvKiAzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDAgLT4gQXJyYXkjZm9yRWFjaAovLyAxIC0+IEFycmF5I21hcAovLyAyIC0+IEFycmF5I2ZpbHRlcgovLyAzIC0+IEFycmF5I3NvbWUKLy8gNCAtPiBBcnJheSNldmVyeQovLyA1IC0+IEFycmF5I2ZpbmQKLy8gNiAtPiBBcnJheSNmaW5kSW5kZXgKdmFyIG49cigyOCksaT1yKDcwKSxvPXIoMTUpLHM9cigxMyksYT1yKDEyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsYz0zPT1lLGY9ND09ZSxsPTY9PWUsZD01PT1lfHxsLHA9dHx8YTtyZXR1cm4gZnVuY3Rpb24odCxhLHkpe2Zvcih2YXIgaCx2LGc9byh0KSxiPWkoZyksbT1uKGEseSwzKSxfPXMoYi5sZW5ndGgpLFI9MCx3PXI/cCh0LF8pOnU/cCh0LDApOnZvaWQgMDtfPlI7UisrKWlmKChkfHxSIGluIGIpJiYoaD1iW1JdLHY9bShoLFIsZyksZSkpaWYocil3W1JdPXY7ZWxzZSBpZih2KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Ly8gc29tZQpjYXNlIDU6cmV0dXJuIGg7Ly8gZmluZApjYXNlIDY6cmV0dXJuIFI7Ly8gZmluZEluZGV4CmNhc2UgMjp3LnB1c2goaCl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBsPy0xOmN8fGY/Zjp3fX19LC8qIDM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LC8qIDM3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NTMpLF9fZXNNb2R1bGU6ITB9fSwvKiAzOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2lmKHIoMTEpKXt2YXIgbj1yKDQzKSxpPXIoNCksbz1yKDUpLHM9cigwKSxhPXIoOTEpLHU9cigxMjcpLGM9cigyOCksZj1yKDU1KSxsPXIoNDgpLGQ9cigxOCkscD1yKDU3KSx5PXIoMzMpLGg9cigxMyksdj1yKDE3NCksZz1yKDUxKSxiPXIoMzEpLG09cigyMyksXz1yKDcyKSxSPXIoNiksdz1yKDE1KSxTPXIoMTE4KSxQPXIoNTIpLE89cigyNiksTT1yKDUzKS5mLGs9cigxMjApLEw9cig0OSkseD1yKDgpLEU9cigzNSksQT1yKDgxKSxVPXIoODgpLEQ9cigxMjMpLEk9cig2Myksaj1yKDg1KSxUPXIoNTQpLEM9cigxMjIpLEY9cigxNjQpLE49cigxMikscT1yKDI1KSxIPU4uZixCPXEuZixLPWkuUmFuZ2VFcnJvcixHPWkuVHlwZUVycm9yLFY9aS5VaW50OEFycmF5LFc9QXJyYXkucHJvdG90eXBlLFk9dS5BcnJheUJ1ZmZlcix6PXUuRGF0YVZpZXcsSj1FKDApLCQ9RSgyKSxRPUUoMyksWD1FKDQpLFo9RSg1KSxlZT1FKDYpLHRlPUEoITApLHJlPUEoITEpLG5lPUQudmFsdWVzLGllPUQua2V5cyxvZT1ELmVudHJpZXMsc2U9Vy5sYXN0SW5kZXhPZixhZT1XLnJlZHVjZSx1ZT1XLnJlZHVjZVJpZ2h0LGNlPVcuam9pbixmZT1XLnNvcnQsbGU9Vy5zbGljZSxkZT1XLnRvU3RyaW5nLHBlPVcudG9Mb2NhbGVTdHJpbmcseWU9eCgiaXRlcmF0b3IiKSxoZT14KCJ0b1N0cmluZ1RhZyIpLHZlPUwoInR5cGVkX2NvbnN0cnVjdG9yIiksZ2U9TCgiZGVmX2NvbnN0cnVjdG9yIiksYmU9YS5DT05TVFIsbWU9YS5UWVBFRCxfZT1hLlZJRVcsUmU9RSgxLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1lKFUoZSxlW2dlXSksdCl9KSx3ZT1vKGZ1bmN0aW9uKCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgpyZXR1cm4gMT09PW5ldyBWKG5ldyBVaW50MTZBcnJheShbMV0pLmJ1ZmZlcilbMF19KSxTZT0hIVYmJiEhVi5wcm90b3R5cGUuc2V0JiZvKGZ1bmN0aW9uKCl7bmV3IFYoMSkuc2V0KHt9KX0pLFBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eShlKTtpZihyPDB8fHIldCl0aHJvdyBLKCJXcm9uZyBvZmZzZXQhIik7cmV0dXJuIHJ9LE9lPWZ1bmN0aW9uKGUpe2lmKFIoZSkmJm1lIGluIGUpcmV0dXJuIGU7dGhyb3cgRyhlKyIgaXMgbm90IGEgdHlwZWQgYXJyYXkhIil9LE1lPWZ1bmN0aW9uKGUsdCl7aWYoIShSKGUpJiZ2ZSBpbiBlKSl0aHJvdyBHKCJJdCBpcyBub3QgYSB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvciEiKTtyZXR1cm4gbmV3IGUodCl9LGtlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIExlKFUoZSxlW2dlXSksdCl9LExlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aCxpPU1lKGUsbik7bj5yOylpW3JdPXRbcisrXTtyZXR1cm4gaX0seGU9ZnVuY3Rpb24oZSx0LHIpe0goZSx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZFtyXX19KX0sRWU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGksbyxzLGE9dyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsZj11PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxsPXZvaWQgMCE9PWYsZD1rKGEpO2lmKHZvaWQgMCE9ZCYmIVMoZCkpe2ZvcihzPWQuY2FsbChhKSxuPVtdLHQ9MDshKG89cy5uZXh0KCkpLmRvbmU7dCsrKW4ucHVzaChvLnZhbHVlKTthPW59Zm9yKGwmJnU+MiYmKGY9YyhmLGFyZ3VtZW50c1syXSwyKSksdD0wLHI9aChhLmxlbmd0aCksaT1NZSh0aGlzLHIpO3I+dDt0KyspaVt0XT1sP2YoYVt0XSx0KTphW3RdO3JldHVybiBpfSxBZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aCxyPU1lKHRoaXMsdCk7dD5lOylyW2VdPWFyZ3VtZW50c1tlKytdO3JldHVybiByfSxVZT0hIVYmJm8oZnVuY3Rpb24oKXtwZS5jYWxsKG5ldyBWKDEpKX0pLERlPWZ1bmN0aW9uKCl7cmV0dXJuIHBlLmFwcGx5KFVlP2xlLmNhbGwoT2UodGhpcykpOk9lKHRoaXMpLGFyZ3VtZW50cyl9LEllPXtjb3B5V2l0aGluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYuY2FsbChPZSh0aGlzKSxlLHQsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApfSxldmVyeTpmdW5jdGlvbihlKXtyZXR1cm4gWChPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmlsbDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBDLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4ga2UodGhpcywkKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApKX0sZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gWihPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZm9yRWFjaDpmdW5jdGlvbihlKXtKKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxpbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiByZShPZSh0aGlzKSxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0saW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRlKE9lKHRoaXMpLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxqb2luOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIGNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LGxhc3RJbmRleE9mOmZ1bmN0aW9uKGUpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKcmV0dXJuIHNlLmFwcGx5KE9lKHRoaXMpLGFyZ3VtZW50cyl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gUmUoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHJlZHVjZTpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiBhZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZWR1Y2VSaWdodDpmdW5jdGlvbihlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnJldHVybiB1ZS5hcHBseShPZSh0aGlzKSxhcmd1bWVudHMpfSxyZXZlcnNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcyxyPU9lKHQpLmxlbmd0aCxuPU1hdGguZmxvb3Ioci8yKSxpPTA7aTxuOyllPXRbaV0sdFtpKytdPXRbLS1yXSx0W3JdPWU7cmV0dXJuIHR9LHNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIFEoT2UodGhpcyksZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LHNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZlLmNhbGwoT2UodGhpcyksZSl9LHN1YmFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9T2UodGhpcyksbj1yLmxlbmd0aCxpPWcoZSxuKTtyZXR1cm4gbmV3KFUocixyW2dlXSkpKHIuYnVmZmVyLHIuYnl0ZU9mZnNldCtpKnIuQllURVNfUEVSX0VMRU1FTlQsaCgodm9pZCAwPT09dD9uOmcodCxuKSktaSkpfX0samU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga2UodGhpcyxsZS5jYWxsKE9lKHRoaXMpLGUsdCkpfSxUZT1mdW5jdGlvbihlKXtPZSh0aGlzKTt2YXIgdD1QZShhcmd1bWVudHNbMV0sMSkscj10aGlzLmxlbmd0aCxuPXcoZSksaT1oKG4ubGVuZ3RoKSxvPTA7aWYoaSt0PnIpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2Zvcig7bzxpOyl0aGlzW3Qrb109bltvKytdfSxDZT17ZW50cmllczpmdW5jdGlvbigpe3JldHVybiBvZS5jYWxsKE9lKHRoaXMpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBpZS5jYWxsKE9lKHRoaXMpKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhbGwoT2UodGhpcykpfX0sRmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUihlKSYmZVttZV0mJiJzeW1ib2wiIT10eXBlb2YgdCYmdCBpbiBlJiZTdHJpbmcoK3QpPT1TdHJpbmcodCl9LE5lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZlKGUsdD1iKHQsITApKT9sKDIsZVt0XSk6QihlLHQpfSxxZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIShGZShlLHQ9Yih0LCEwKSkmJlIocikmJm0ociwidmFsdWUiKSl8fG0ociwiZ2V0Iil8fG0ociwic2V0Iil8fHIuY29uZmlndXJhYmxlfHxtKHIsIndyaXRhYmxlIikmJiFyLndyaXRhYmxlfHxtKHIsImVudW1lcmFibGUiKSYmIXIuZW51bWVyYWJsZT9IKGUsdCxyKTooZVt0XT1yLnZhbHVlLGUpfTtiZXx8KHEuZj1OZSxOLmY9cWUpLHMocy5TK3MuRiohYmUsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpOZSxkZWZpbmVQcm9wZXJ0eTpxZX0pLG8oZnVuY3Rpb24oKXtkZS5jYWxsKHt9KX0pJiYoZGU9cGU9ZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2FsbCh0aGlzKX0pO3ZhciBIZT1wKHt9LEllKTtwKEhlLENlKSxkKEhlLHllLENlLnZhbHVlcykscChIZSx7c2xpY2U6amUsc2V0OlRlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7fSx0b1N0cmluZzpkZSx0b0xvY2FsZVN0cmluZzpEZX0pLHhlKEhlLCJidWZmZXIiLCJiIikseGUoSGUsImJ5dGVPZmZzZXQiLCJvIikseGUoSGUsImJ5dGVMZW5ndGgiLCJsIikseGUoSGUsImxlbmd0aCIsImUiKSxIKEhlLGhlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1ttZV19fSksCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50cwplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSl7dT0hIXU7dmFyIGM9ZSsodT8iQ2xhbXBlZCI6IiIpKyJBcnJheSIsbD0iZ2V0IitlLHA9InNldCIrZSx5PWlbY10sZz15fHx7fSxiPXkmJk8oeSksbT0heXx8IWEuQUJWLHc9e30sUz15JiZ5LnByb3RvdHlwZSxrPWZ1bmN0aW9uKGUscil7dmFyIG49ZS5fZDtyZXR1cm4gbi52W2xdKHIqdCtuLm8sd2UpfSxMPWZ1bmN0aW9uKGUscixuKXt2YXIgaT1lLl9kO3UmJihuPShuPU1hdGgucm91bmQobikpPDA/MDpuPjI1NT8yNTU6MjU1Jm4pLGkudltwXShyKnQraS5vLG4sd2UpfSx4PWZ1bmN0aW9uKGUsdCl7SChlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBrKHRoaXMsdCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gTCh0aGlzLHQsZSl9LGVudW1lcmFibGU6ITB9KX07bT8oeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMsIl9kIik7dmFyIG8scyxhLHUsbD0wLHA9MDtpZihSKHIpKXtpZighKHIgaW5zdGFuY2VvZiBZfHwiQXJyYXlCdWZmZXIiPT0odT1fKHIpKXx8IlNoYXJlZEFycmF5QnVmZmVyIj09dSkpcmV0dXJuIG1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik7bz1yLHA9UGUobix0KTt2YXIgZz1yLmJ5dGVMZW5ndGg7aWYodm9pZCAwPT09aSl7aWYoZyV0KXRocm93IEsoIldyb25nIGxlbmd0aCEiKTtpZigocz1nLXApPDApdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpfWVsc2UgaWYoKHM9aChpKSp0KStwPmcpdGhyb3cgSygiV3JvbmcgbGVuZ3RoISIpO2E9cy90fWVsc2UgYT12KHIpLHM9YSp0LG89bmV3IFkocyk7Zm9yKGQoZSwiX2QiLHtiOm8sbzpwLGw6cyxlOmEsdjpuZXcgeihvKX0pO2w8YTspeChlLGwrKyl9KSxTPXkucHJvdG90eXBlPVAoSGUpLGQoUywiY29uc3RydWN0b3IiLHkpKTpvKGZ1bmN0aW9uKCl7eSgxKX0pJiZvKGZ1bmN0aW9uKCl7bmV3IHkoLTEpfSkmJmooZnVuY3Rpb24oZSl7bmV3IHksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkobnVsbCksLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKbmV3IHkoMS41KSwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpuZXcgeShlKX0sITApfHwoeT1yKGZ1bmN0aW9uKGUscixuLGkpe2YoZSx5LGMpO3ZhciBvOwovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQovLyBgd3NgIG1vZHVsZSBidWcsIHRlbXBvcmFyaWx5IHJlbW92ZSB2YWxpZGF0aW9uIGxlbmd0aCBmb3IgVWludDhBcnJheQovLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NQpyZXR1cm4gUihyKT9yIGluc3RhbmNlb2YgWXx8IkFycmF5QnVmZmVyIj09KG89XyhyKSl8fCJTaGFyZWRBcnJheUJ1ZmZlciI9PW8/dm9pZCAwIT09aT9uZXcgZyhyLFBlKG4sdCksaSk6dm9pZCAwIT09bj9uZXcgZyhyLFBlKG4sdCkpOm5ldyBnKHIpOm1lIGluIHI/TGUoeSxyKTpFZS5jYWxsKHkscik6bmV3IGcodihyKSl9KSxKKGIhPT1GdW5jdGlvbi5wcm90b3R5cGU/TShnKS5jb25jYXQoTShiKSk6TShnKSxmdW5jdGlvbihlKXtlIGluIHl8fGQoeSxlLGdbZV0pfSkseS5wcm90b3R5cGU9UyxufHwoUy5jb25zdHJ1Y3Rvcj15KSk7dmFyIEU9U1t5ZV0sQT0hIUUmJigidmFsdWVzIj09RS5uYW1lfHx2b2lkIDA9PUUubmFtZSksVT1DZS52YWx1ZXM7ZCh5LHZlLCEwKSxkKFMsbWUsYyksZChTLF9lLCEwKSxkKFMsZ2UseSksKHU/bmV3IHkoMSlbaGVdPT1jOmhlIGluIFMpfHxIKFMsaGUse2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0pLHdbY109eSxzKHMuRytzLlcrcy5GKih5IT1nKSx3KSxzKHMuUyxjLHtCWVRFU19QRVJfRUxFTUVOVDp0fSkscyhzLlMrcy5GKm8oZnVuY3Rpb24oKXtnLm9mLmNhbGwoeSwxKX0pLGMse2Zyb206RWUsb2Y6QWV9KSwiQllURVNfUEVSX0VMRU1FTlQiaW4gU3x8ZChTLCJCWVRFU19QRVJfRUxFTUVOVCIsdCkscyhzLlAsYyxJZSksVChjKSxzKHMuUCtzLkYqU2UsYyx7c2V0OlRlfSkscyhzLlArcy5GKiFBLGMsQ2UpLG58fFMudG9TdHJpbmc9PWRlfHwoUy50b1N0cmluZz1kZSkscyhzLlArcy5GKm8oZnVuY3Rpb24oKXtuZXcgeSgxKS5zbGljZSgpfSksYyx7c2xpY2U6amV9KSxzKHMuUCtzLkYqKG8oZnVuY3Rpb24oKXtyZXR1cm5bMSwyXS50b0xvY2FsZVN0cmluZygpIT1uZXcgeShbMSwyXSkudG9Mb2NhbGVTdHJpbmcoKX0pfHwhbyhmdW5jdGlvbigpe1MudG9Mb2NhbGVTdHJpbmcuY2FsbChbMSwyXSl9KSksYyx7dG9Mb2NhbGVTdHJpbmc6RGV9KSxJW2NdPUE/RTpVLG58fEF8fGQoUyx5ZSxVKX19ZWxzZSBlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSwvKiAzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNjkpLGk9cigwKSxvPXIoODApKCJtZXRhZGF0YSIpLHM9by5zdG9yZXx8KG8uc3RvcmU9bmV3KHIoMTcyKSkpLGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXMuZ2V0KGUpO2lmKCFpKXtpZighcilyZXR1cm47cy5zZXQoZSxpPW5ldyBuKX12YXIgbz1pLmdldCh0KTtpZighbyl7aWYoIXIpcmV0dXJuO2kuc2V0KHQsbz1uZXcgbil9cmV0dXJuIG99LHU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwIT09biYmbi5oYXMoZSl9LGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWEodCxyLCExKTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6bi5nZXQoZSl9LGY9ZnVuY3Rpb24oZSx0LHIsbil7YShyLG4sITApLnNldChlLHQpfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQsITEpLG49W107cmV0dXJuIHImJnIuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLG59LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV8fCJzeW1ib2wiPT10eXBlb2YgZT9lOlN0cmluZyhlKX0scD1mdW5jdGlvbihlKXtpKGkuUywiUmVmbGVjdCIsZSl9O2UuZXhwb3J0cz17c3RvcmU6cyxtYXA6YSxoYXM6dSxnZXQ6YyxzZXQ6ZixrZXlzOmwsa2V5OmQsZXhwOnB9fSwvKiA0MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSksaT1yKDE4NCksbz1yKDEzMikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoNDUpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gcyhlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSwvKiA0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LC8qIDQyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQ5KSgibWV0YSIpLGk9cig2KSxvPXIoMjMpLHM9cigxMikuZixhPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIHUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKGUpe3MoZSxuLHt2YWx1ZTp7aToiTyIrICsrYSwvLyBvYmplY3QgSUQKdzp7fX19KX0sbD1mdW5jdGlvbihlLHQpewovLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4CmlmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLG4pKXsKLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3QKaWYoIXUoZSkpcmV0dXJuIkYiOwovLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YQppZighdClyZXR1cm4iRSI7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0uaX0sZD1mdW5jdGlvbihlLHQpe2lmKCFvKGUsbikpewovLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdAppZighdShlKSlyZXR1cm4hMDsKLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGEKaWYoIXQpcmV0dXJuITE7Ci8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhCmYoZSl9cmV0dXJuIGVbbl0ud30scD1mdW5jdGlvbihlKXtyZXR1cm4gYyYmeS5ORUVEJiZ1KGUpJiYhbyhlLG4pJiZmKGUpLGV9LHk9ZS5leHBvcnRzPXtLRVk6bixORUVEOiExLGZhc3RLZXk6bCxnZXRXZWFrOmQsb25GcmVlemU6cH19LC8qIDQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSExfSwvKiA0NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc10KdmFyIG49cig4KSgidW5zY29wYWJsZXMiKSxpPUFycmF5LnByb3RvdHlwZTt2b2lkIDA9PWlbbl0mJnIoMTgpKGksbix7fSksZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lbbl1bZV09ITB9fSwvKiA0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkKZS5leHBvcnRzPSFyKDY2KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzCnZhciBuPXIoMTg3KSxpPXIoMTMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oaShlKSl9fSwvKiA0NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDY2KSxfX2VzTW9kdWxlOiEwfX0sLyogNDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSwvKiA0OSAqLwovKioqLwpmdW5jdGlvbihlLHQpe3ZhciByPTAsbj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK3IrbikudG9TdHJpbmcoMzYpKX19LC8qIDUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTUwKSxpPXIoMTA1KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA1MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksZTwwP2koZSt0LDApOm8oZSx0KX19LC8qIDUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCnZhciBuPXIoMyksaT1yKDE1MSksbz1yKDEwNSkscz1yKDEwNCkoIklFX1BST1RPIiksYT1mdW5jdGlvbigpe30sdT1mdW5jdGlvbigpewovLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Zwp2YXIgZSx0PXIoMTAyKSgiaWZyYW1lIiksbj1vLmxlbmd0aDtmb3IodC5zdHlsZS5kaXNwbGF5PSJub25lIixyKDEwNikuYXBwZW5kQ2hpbGQodCksdC5zcmM9ImphdmFzY3JpcHQ6IiwvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmwKLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDsKLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpOwplPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCxlLm9wZW4oKSxlLndyaXRlKCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFwvc2NyaXB0PiIpLGUuY2xvc2UoKSx1PWUuRjtuLS07KWRlbGV0ZSB1LnByb3RvdHlwZVtvW25dXTtyZXR1cm4gdSgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjsKLy8gYWRkICJfX3Byb3RvX18iIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGwKcmV0dXJuIG51bGwhPT1lPyhhLnByb3RvdHlwZT1uKGUpLHI9bmV3IGEsYS5wcm90b3R5cGU9bnVsbCxyW3NdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjppKHIsdCl9fSwvKiA1MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKdmFyIG49cigxNTApLGk9cigxMDUpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGkpfX0sLyogNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQpLGk9cigxMiksbz1yKDExKSxzPXIoOCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtvJiZ0JiYhdFtzXSYmaS5mKHQscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sLyogNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LC8qIDU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDI4KSxpPXIoMTYyKSxvPXIoMTE4KSxzPXIoMyksYT1yKDEzKSx1PXIoMTIwKSxjPXt9LGY9e30sdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbCxkKXt2YXIgcCx5LGgsdixnPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZX06dShlKSxiPW4ocixsLHQ/MjoxKSxtPTA7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGcpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgaXRlcmFibGUhIik7Ci8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvcgppZihvKGcpKXtmb3IocD1hKGUubGVuZ3RoKTtwPm07bSsrKWlmKCh2PXQ/YihzKHk9ZVttXSlbMF0seVsxXSk6YihlW21dKSk9PT1jfHx2PT09ZilyZXR1cm4gdn1lbHNlIGZvcihoPWcuY2FsbChlKTshKHk9aC5uZXh0KCkpLmRvbmU7KWlmKCh2PWkoaCxiLHkudmFsdWUsdCkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9O3QuQlJFQUs9Yyx0LlJFVFVSTj1mfSwvKiA1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdCluKGUsaSx0W2ldLHIpO3JldHVybiBlfX0sLyogNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLGk9cig3NCk7ZS5leHBvcnRzPXIoNDUpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sLyogNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSwvKiA2MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDU2KSxfX2VzTW9kdWxlOiEwfX0sLyogNjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTIpLmYsaT1yKDIzKSxvPXIoOCkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhaShlPXI/ZTplLnByb3RvdHlwZSxvKSYmbihlLG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSwvKiA2MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMzIpLG89cig1KSxzPXIoMTA4KSxhPSJbIitzKyJdIix1PSLigIvChSIsYz1SZWdFeHAoIl4iK2ErYSsiKiIpLGY9UmVnRXhwKGErYSsiKiQiKSxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT17fSxhPW8oZnVuY3Rpb24oKXtyZXR1cm4hIXNbZV0oKXx8dVtlXSgpIT11fSksYz1pW2VdPWE/dChkKTpzW2VdO3ImJihpW3JdPWMpLG4obi5QK24uRiphLCJTdHJpbmciLGkpfSxkPWwudHJpbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPVN0cmluZyhpKGUpKSwxJnQmJihlPWUucmVwbGFjZShjLCIiKSksMiZ0JiYoZT1lLnJlcGxhY2UoZiwiIikpLGV9O2UuZXhwb3J0cz1sfSwvKiA2MyAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sLyogNjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSl8fGUuX3QhPT10KXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK3QrIiByZXF1aXJlZCEiKTtyZXR1cm4gZX19LC8qIDY1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nCnZhciBuPXIoOTUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sLyogNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LC8qIDY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pCnZhciBuPXIoMTg2KSxpPXIoMTM3KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiA2OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDc5KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fX0sLyogNjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0NTgpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMjAzKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDc5KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIisodm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCx1LmRlZmF1bHQpKHQpKSk7ZS5wcm90b3R5cGU9KDAscy5kZWZhdWx0KSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKGkuZGVmYXVsdD8oMCxpLmRlZmF1bHQpKGUsdCk6ZS5fX3Byb3RvX189dCl9fSwvKiA3MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCnZhciBuPXIoMjkpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmUuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0sLyogNzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LC8qIDcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCkKdmFyIG49cigyOSksaT1yKDgpKCJ0b1N0cmluZ1RhZyIpLG89IkFyZ3VtZW50cyI9PW4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxzPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319O2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLGE7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yocj1zKHQ9T2JqZWN0KGUpLGkpKT9yOm8/bih0KToiT2JqZWN0Ij09KGE9bih0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjphfX0sLyogNzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITB9LC8qIDc0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sLyogNzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LC8qIDc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSwvKiA3NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudCkKdmFyIG49cigxMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4oZSkpfX0sLyogNzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LC8qIDc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNDQyKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDQ0NCkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ImZ1bmN0aW9uIj09dHlwZW9mIHMuZGVmYXVsdCYmInN5bWJvbCI9PXR5cGVvZiBpLmRlZmF1bHQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIHMuZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PXMuZGVmYXVsdCYmZSE9PXMuZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O3QuZGVmYXVsdD0iZnVuY3Rpb24iPT10eXBlb2Ygcy5kZWZhdWx0JiYic3ltYm9sIj09PWEoaS5kZWZhdWx0KT9mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT8idW5kZWZpbmVkIjphKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIHMuZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PXMuZGVmYXVsdCYmZSE9PXMuZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dm9pZCAwPT09ZT8idW5kZWZpbmVkIjphKGUpfX0sLyogODAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjcpLGk9cig0KSxvPWlbIl9fY29yZS1qc19zaGFyZWRfXyJdfHwoaVsiX19jb3JlLWpzX3NoYXJlZF9fIl09e30pOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gb1tlXXx8KG9bZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246bi52ZXJzaW9uLG1vZGU6cig0Myk/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAxOCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sLyogODEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mCi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzCnZhciBuPXIoMjQpLGk9cigxMyksbz1yKDUxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixzKXt2YXIgYSx1PW4odCksYz1pKHUubGVuZ3RoKSxmPW8ocyxjKTsKLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobQovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKGUmJnIhPXIpe2Zvcig7Yz5mOykKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppZigoYT11W2YrK10pIT1hKXJldHVybiEwfWVsc2UgZm9yKDtjPmY7ZisrKWlmKChlfHxmIGluIHUpJiZ1W2ZdPT09cilyZXR1cm4gZXx8Znx8MDtyZXR1cm4hZSYmLTF9fX0sLyogODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sLyogODMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KQp2YXIgbj1yKDI5KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LC8qIDg0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4yLjggSXNSZWdFeHAoYXJndW1lbnQpCnZhciBuPXIoNiksaT1yKDI5KSxvPXIoOCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LC8qIDg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDgpKCJpdGVyYXRvciIpLGk9ITE7dHJ5e3ZhciBvPVs3XVtuXSgpO28ucmV0dXJuPWZ1bmN0aW9uKCl7aT0hMH0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsCkFycmF5LmZyb20obyxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgbz1bN10scz1vW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LG9bbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShvKX1jYXRjaChlKXt9cmV0dXJuIHJ9fSwvKiA4NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4yLjUuMyBnZXQgUmVnRXhwLnByb3RvdHlwZS5mbGFncwp2YXIgbj1yKDMpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPW4odGhpcyksdD0iIjtyZXR1cm4gZS5nbG9iYWwmJih0Kz0iZyIpLGUuaWdub3JlQ2FzZSYmKHQrPSJpIiksZS5tdWx0aWxpbmUmJih0Kz0ibSIpLGUudW5pY29kZSYmKHQrPSJ1IiksZS5zdGlja3kmJih0Kz0ieSIpLHR9fSwvKiA4NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTgpLGk9cigxOSksbz1yKDUpLHM9cigzMiksYT1yKDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dmFyIHU9YShlKSxjPXIocyx1LCIiW2VdKSxmPWNbMF0sbD1jWzFdO28oZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdFt1XT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT0iIltlXSh0KX0pJiYoaShTdHJpbmcucHJvdG90eXBlLGUsZiksbihSZWdFeHAucHJvdG90eXBlLHUsMj09dD9mdW5jdGlvbihlLHQpe3JldHVybiBsLmNhbGwoZSx0aGlzLHQpfTpmdW5jdGlvbihlKXtyZXR1cm4gbC5jYWxsKGUsdGhpcyl9KSl9fSwvKiA4OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKQp2YXIgbj1yKDMpLGk9cigxNiksbz1yKDgpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIscz1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1zfHx2b2lkIDA9PShyPW4ocylbb10pP3Q6aShyKX19LC8qIDg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLGk9bi5uYXZpZ2F0b3I7ZS5leHBvcnRzPWkmJmkudXNlckFnZW50fHwiIn0sLyogOTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQpLGk9cigwKSxvPXIoMTkpLHM9cig1NyksYT1yKDQyKSx1PXIoNTYpLGM9cig1NSksZj1yKDYpLGw9cig1KSxkPXIoODUpLHA9cig2MSkseT1yKDEwOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGgsdixnKXt2YXIgYj1uW2VdLG09YixfPXY/InNldCI6ImFkZCIsUj1tJiZtLnByb3RvdHlwZSx3PXt9LFM9ZnVuY3Rpb24oZSl7dmFyIHQ9UltlXTtvKFIsZSwiZGVsZXRlIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4hKGcmJiFmKGUpKSYmdC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImhhcyI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIShnJiYhZihlKSkmJnQuY2FsbCh0aGlzLDA9PT1lPzA6ZSl9OiJnZXQiPT1lP2Z1bmN0aW9uKGUpe3JldHVybiBnJiYhZihlKT92b2lkIDA6dC5jYWxsKHRoaXMsMD09PWU/MDplKX06ImFkZCI9PWU/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2FsbCh0aGlzLDA9PT1lPzA6ZSksdGhpc306ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jYWxsKHRoaXMsMD09PWU/MDplLHIpLHRoaXN9KX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIG0mJihnfHxSLmZvckVhY2gmJiFsKGZ1bmN0aW9uKCl7KG5ldyBtKS5lbnRyaWVzKCkubmV4dCgpfSkpKXt2YXIgUD1uZXcgbSxPPVBbX10oZz97fTotMCwxKSE9UCxNPWwoZnVuY3Rpb24oKXtQLmhhcygxKX0pLGs9ZChmdW5jdGlvbihlKXtuZXcgbShlKX0pLEw9IWcmJmwoZnVuY3Rpb24oKXtmb3IoCi8vIFY4IH4gQ2hyb21pdW0gNDItIGZhaWxzIG9ubHkgd2l0aCA1KyBlbGVtZW50cwp2YXIgZT1uZXcgbSx0PTU7dC0tOyllW19dKHQsdCk7cmV0dXJuIWUuaGFzKC0wKX0pO2t8fChtPXQoZnVuY3Rpb24odCxyKXtjKHQsbSxlKTt2YXIgbj15KG5ldyBiLHQsbSk7cmV0dXJuIHZvaWQgMCE9ciYmdShyLHYsbltfXSxuKSxufSksbS5wcm90b3R5cGU9UixSLmNvbnN0cnVjdG9yPW0pLChNfHxMKSYmKFMoImRlbGV0ZSIpLFMoImhhcyIpLHYmJlMoImdldCIpKSwoTHx8TykmJlMoXyksCi8vIHdlYWsgY29sbGVjdGlvbnMgc2hvdWxkIG5vdCBjb250YWlucyAuY2xlYXIgbWV0aG9kCmcmJlIuY2xlYXImJmRlbGV0ZSBSLmNsZWFyfWVsc2UKLy8gY3JlYXRlIGNvbGxlY3Rpb24gY29uc3RydWN0b3IKbT1oLmdldENvbnN0cnVjdG9yKHQsZSx2LF8pLHMobS5wcm90b3R5cGUsciksYS5ORUVEPSEwO3JldHVybiBwKG0sZSksd1tlXT1tLGkoaS5HK2kuVytpLkYqKG0hPWIpLHcpLGd8fGguc2V0U3Ryb25nKG0sZSx2KSxtfX0sLyogOTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbixpPXIoNCksbz1yKDE4KSxzPXIoNDkpLGE9cygidHlwZWRfYXJyYXkiKSx1PXMoInZpZXciKSxjPSEoIWkuQXJyYXlCdWZmZXJ8fCFpLkRhdGFWaWV3KSxmPWMsbD0wLGQ9IkludDhBcnJheSxVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5Ii5zcGxpdCgiLCIpO2w8OTspKG49aVtkW2wrK11dKT8obyhuLnByb3RvdHlwZSxhLCEwKSxvKG4ucHJvdG90eXBlLHUsITApKTpmPSExO2UuZXhwb3J0cz17QUJWOmMsQ09OU1RSOmYsVFlQRUQ6YSxWSUVXOnV9fSwvKiA5MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBGb3JjZWQgcmVwbGFjZW1lbnQgcHJvdG90eXBlIGFjY2Vzc29ycyBtZXRob2RzCmUuZXhwb3J0cz1yKDQzKXx8IXIoNSkoZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnJhbmRvbSgpOwovLyBJbiBGRiB0aHJvd3Mgb25seSBkZWZpbmUgbWV0aG9kcwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYsIG5vLXVzZWxlc3MtY2FsbApfX2RlZmluZVNldHRlcl9fLmNhbGwobnVsbCxlLGZ1bmN0aW9uKCl7fSksZGVsZXRlIHIoNClbZV19KX0sLyogOTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLwp2YXIgbj1yKDApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtuKG4uUyxlLHtvZjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0pfX0sLyogOTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLwp2YXIgbj1yKDApLGk9cigxNiksbz1yKDI4KSxzPXIoNTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtuKG4uUyxlLHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHU9YXJndW1lbnRzWzFdO3JldHVybiBpKHRoaXMpLHQ9dm9pZCAwIT09dSx0JiZpKHUpLHZvaWQgMD09ZT9uZXcgdGhpczoocj1bXSx0PyhuPTAsYT1vKHUsYXJndW1lbnRzWzJdLDIpLHMoZSwhMSxmdW5jdGlvbihlKXtyLnB1c2goYShlLG4rKykpfSkpOnMoZSwhMSxyLnB1c2gsciksbmV3IHRoaXMocikpfX0pfX0sLyogOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiEiKTtyZXR1cm4gZX19LC8qIDk2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxuPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrcituKS50b1N0cmluZygzNikpfX0sLyogOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLmYsaT1yKDU5KSxvPXIoMjIpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZSYmIWkoZT1yP2U6ZS5wcm90b3R5cGUsbykmJm4oZSxvLHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pfX0sLyogOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQzNiksX19lc01vZHVsZTohMH19LC8qIDk5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzCnZhciBuPXIoMjEpLGk9cigxMCksbz1yKDY2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oaS5PYmplY3R8fHt9KVtlXXx8T2JqZWN0W2VdLHM9e307c1tlXT10KHIpLG4obi5TK24uRipvKGZ1bmN0aW9uKCl7cigxKX0pLCJPYmplY3QiLHMpfX0sLyogMTAwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNyksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLGw9cigxNCksZD1mLmdldExvZ2dlcigiYWRkcmVzcy1hbGxvY2F0aW9uIikscD12b2lkIDAseT1mdW5jdGlvbigpey8qIHByaXZhdGUKICBfdXJsOiBVUkwKICBfYnVzOiBNaW5pQnVzCiAgKi8KLyoqCiAgICogQ3JlYXRlIGFuIEFkZHJlc3MgQWxsb2NhdGlvbgogICAqIEBwYXJhbSAge1VSTC5VUkx9ICAgICAgdXJsIC0gdXJsIGZyb20gd2hvIGlzIHNlbmRpbmcgdGhlIG1lc3NhZ2UKICAgKiBAcGFyYW0gIHtNaW5pQnVzfSAgICAgIGJ1cyAtIE1pbmlCdXMgdXNlZCBmb3IgYWRkcmVzcyBhbGxvY2F0aW9uCiAgICovCmZ1bmN0aW9uIEFkZHJlc3NBbGxvY2F0aW9uKGUsdCxyKXtpZigoMCxzLmRlZmF1bHQpKHRoaXMsQWRkcmVzc0FsbG9jYXRpb24pLHApcmV0dXJuIHA7dGhpcy5fdXJsPWUrIi9hZGRyZXNzLWFsbG9jYXRpb24iLHRoaXMuX2J1cz10LHRoaXMuX3JlZ2lzdHJ5PXIscD10aGlzfXJldHVybigwLHUuZGVmYXVsdCkoQWRkcmVzc0FsbG9jYXRpb24sW3trZXk6ImNyZWF0ZSIsLyoqCiAgICAgKgogICAgICogQXNrIGZvciBjcmVhdGlvbiBvZiBhIG51bWJlciBvZiBIeXBlcnR5IGFkZHJlc3NlcywgdG8gdGhlIGRvbWFpbiBtZXNzYWdlIG5vZGUuCiAgICAgKgogICAgICogQHBhcmFtIHtEb21haW59IGRvbWFpbiAtIGRvbWFpbiBvZiB0aGUgbWVzc2FnZSBub2RlCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gbnVtYmVyIG9mIGFkZHJlc3MgdG8gYmUgYWxsb2NhdGVkCiAgICAgKiBAcGFyYW0ge0Rlc2NyaXB0b3J9IGluZm8gLSBkZXNjcmlwdG9yIHRvIHNlYXJjaCBmb3IgdGhlIGh5cGVydHkgKFRPRE86Ly8gdGhpcyBzaG91bGQgYmUgY29uZmlybWVkKQogICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L3NwZWNzL2Jsb2IvbWFzdGVyL2RhdGFtb2RlbC9jb3JlL2h5cGVydHktY2F0YWxvZ3VlL3JlYWRtZS5tZCNjYXRhbG9ndWUtZGF0YS1tb2RlbAogICAgICogQHBhcmFtIHtzY2hlbWV9IHNjaGVtZSAtIHNjaGVtZSBvZiBhZGRyZXNzIHRvIGJlIGNyZWF0ZWQgb3IgcmV1c2VkLCBsaWtlOiBoeXBlcnR5LCBjb21tLCBjb250ZXh0LCBldGM7CiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58VVJMLkh5cGVydHlVUkx9IHJldXNlVVJMIC0gcmV1c2VVUkwgaXMgdXNlZCB0byByZXVzZSB0aGUgaHlwZXJ0eVVSTCBwcmV2aW91c2x5IHJlZ2lzdHJlZDsKICAgICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fSB0aGlzIGlzIFByb21pc2UgYW5kIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIGFkZHJlc3MgaW5mb3JtYXRpb24KICAgICAqCiAgICAgKiBAbWVtYmVyT2YgQWRkcmVzc0FsbG9jYXRpb24KICAgICAqLwp2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pewovLyAvLyBjb25zb2xlLmxvZygndHlwZW9mKHJldXNlVVJMKScsIHR5cGVvZihyZXVzZVVSTCksIHJldXNlVVJMKTsKLy9kZWJ1Z2dlcjsKLy8gLy8gY29uc29sZS5sb2coJ3R5cGVvZihyZXVzZVVSTCknLCB0eXBlb2YocmV1c2VVUkwpLCByZXVzZVVSTCk7Ci8vZGVidWdnZXI7CnJldHVybiBvPyJib29sZWFuIj09dHlwZW9mIG8/bz90aGlzLl9yZXVzZUFsbG9jYXRlZEFkZHJlc3MoZSx0LHIsbixvKTp0aGlzLl9hbGxvY2F0ZU5ld0FkZHJlc3MoZSxuLHQpOiJzdHJpbmciPT10eXBlb2YgbyYmKDAsbC5pc1VSTCkobyk/bmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe3JldHVybiBlKHtuZXdBZGRyZXNzOiExLGFkZHJlc3M6W29dfSl9KTp2b2lkIDA6KGQuaW5mbygiW0FkZHJlc3NBbGxvY2F0aW9uXSAtIG5ldyBhZGRyZXNzIHdpbGwgYmUgYWxsb2NhdGVkIiksdGhpcy5fYWxsb2NhdGVOZXdBZGRyZXNzKGUsbix0KSl9fSx7a2V5OiJfcmV1c2VBbGxvY2F0ZWRBZGRyZXNzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe3ZhciBzPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxhKXtzLl9yZWdpc3RyeS5jaGVja1JlZ2lzdGVyZWRVUkxzKHIsbykudGhlbihmdW5jdGlvbihyKXtpZihyKXtkLmluZm8oIltBZGRyZXNzQWxsb2NhdGlvbiAtICIrbisiXSAtIFJldXNlIFVSTCIpO2koe25ld0FkZHJlc3M6ITEsYWRkcmVzczpyfSl9ZWxzZSJzdHJpbmciPT10eXBlb2Ygbz8oZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb24gLSByZXVzZVVSTF0gLSBPYmplY3QgIitvKyIgbm90IGZvdW5kIiksYSgiVVJMIE5vdCBGb3VuZCIpKToiYm9vbGVhbiI9PXR5cGVvZiBvP3MuX2FsbG9jYXRlTmV3QWRkcmVzcyhlLG4sdCkudGhlbihpKS5jYXRjaChhKTphKCJVUkwgTm90IEZvdW5kIil9KX0pfX0se2tleToiX2FsbG9jYXRlTmV3QWRkcmVzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXt2YXIgcz17dHlwZToiY3JlYXRlIixmcm9tOm4uX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlKyIvYWRkcmVzcy1hbGxvY2F0aW9uIixib2R5Ont2YWx1ZTp7bnVtYmVyOnJ9fX07Imh5cGVydHkiIT09dCYmKHMuYm9keS5zY2hlbWU9dCksZC5pbmZvKCJbQWRkcmVzc0FsbG9jYXRpb24gLSAiK3QrIl0gLSBSZXF1ZXN0IG5ldyBVUkwiKSxuLl9idXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZigyMDA9PT1lLmJvZHkuY29kZSl7dmFyIHQ9e25ld0FkZHJlc3M6ITAsYWRkcmVzczplLmJvZHkudmFsdWUuYWxsb2NhdGVkfTtpKHQpfWVsc2UgbyhlLmJvZHkuZGVzYyl9KX0pfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz17dHlwZToiZGVsZXRlIixmcm9tOnIuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIitlKyIvYWRkcmVzcy1hbGxvY2F0aW9uIixib2R5OntjaGlsZHJlblJlc291cmNlczp0fX07ci5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/bihlLmJvZHkuY29kZSk6aShlLmJvZHkuZGVzYyl9KX0pfX0se2tleToidXJsIiwvKioKICAgICAqIGdldCB0aGUgVVJMIHZhbHVlCiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1cmwgdmFsdWU7CiAgICAgKi8KZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSxbe2tleToiaW5zdGFuY2UiLGdldDpmdW5jdGlvbigpe2lmKCFwKXRocm93IG5ldyBFcnJvcigiVGhlIGFkZHJlc3MgYWxsb2NhdGlvbiB3YXMgbm90IGluc3RhbnRpYXRlZCIpO3JldHVybiBwfX1dKSxBZGRyZXNzQWxsb2NhdGlvbn0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAxMDEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDE0KSxkPXIoNDkxKSxwPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZCkseT1mLmdldExvZ2dlcigiQ3J5cHRvTWFuYWdlciIpLGg9ZnVuY3Rpb24oKXsvKioKICAqIFRoaXMgaXMgdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpc2UgdGhlIENyeXB0b01hbmFnZXIsIGl0IGRvZXMgbm90IHJlcXVpcmUgYW55IGlucHV0LgogICogVGhlIGluaXQoKSBtdXN0IGNhbGxlZCBpbiBvcmRlciB0byBzZXQgbWFuZGF0b3JpZXMgYXR0cmlidXRlcwogICovCmZ1bmN0aW9uIENyeXB0b01hbmFnZXIoZSl7KDAscy5kZWZhdWx0KSh0aGlzLENyeXB0b01hbmFnZXIpLHRoaXMuc3RvcmFnZU1hbmFnZXI9ZSx0aGlzLnVzZXJEZWZhdWx0S2V5UmVmPSJ1c2VyQXN5bW1ldHJpY0tleSJ9cmV0dXJuKDAsdS5kZWZhdWx0KShDcnlwdG9NYW5hZ2VyLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGksbyxzLGEpe3ZhciB1PXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbXSBydW50aW1lVVJMIGlzIG1pc3NpbmcuIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJzdG9yYWdlTWFuYWdlciBpcyBtaXNzaW5nIik7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJydW50aW1lRmFjdG9yeSBpcyBtaXNzaW5nIik7dS5fcnVudGltZVVSTD1lLHUuX2NyeXB0b01hbmFnZXJVUkw9dS5fcnVudGltZVVSTCsiL2NyeXB0b01hbmFnZXIiLAovL190aGlzLl9teVVSTCA9IF90aGlzLl9ydW50aW1lVVJMICsgJy9jcnlwdG8nOwp1LnN0b3JhZ2VNYW5hZ2VyPXIsdS5kYXRhT2JqZWN0c1N0b3JhZ2U9bix1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9dCx1Ll9ydW50aW1lRmFjdG9yeT1hLHUuX2RvbWFpbj0oMCxsLmRpdmlkZVVSTCkodS5fcnVudGltZVVSTCkuZG9tYWluLHUuY3J5cHRvPW5ldyBwLmRlZmF1bHQodS5fcnVudGltZUZhY3RvcnkpLAovLyBoYXNoVGFibGUgdG8gc3RvcmUgYWxsIHRoZSBjcnlwdG8gaW5mb3JtYXRpb24gYmV0d2VlbiB0d28gaHlwZXJ0aWVzCnUuY2hhdEtleXM9e30sCi8vIGhhc2hUYWJsZSB0byBzdG9yZSB0aGUgc3ltbWV0cmljIGtleXMgdG8gYmUgdXNlZCBpbiB0aGUgY2hhdCBncm91cAp1LmRhdGFPYmplY3RTZXNzaW9uS2V5cz17fSwKLy9mYWlsc2FmZSB0byBlbmFibGUvZGlzYWJsZSBhbGwgdGhlIGNyaXB0b2dyYXBoaWMgZnVuY3Rpb25zCnUuaXNUb1VzZUVuY3J5cHRpb249ITAsdS5fcmVnaXN0cnk9aSx1Ll9jb3JlRGlzY292ZXJ5PW8sdS5faWRtPXN9fSx7a2V5OiJsb2FkU2Vzc2lvbktleXMiLAovLyB0byBiZSB1c2VkIHRvIGluaXRpYWxpc2UgSURNIHdpdGggU2Vzc2lvbktleXMgdXNlZCBpbiBwcmV2aW91cyBzZXNzaW9uCnZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0KXtlLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihyKXtlLmRhdGFPYmplY3RTZXNzaW9uS2V5cz1yfHx7fSx0KCl9KX0pfX0se2tleToiX2lzRnJvbVJlbW90ZVNNIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4icnVudGltZSI9PT1lLnNwbGl0KCI6Ly8iKVswXSYmZSE9PXRoaXMuX3J1bnRpbWVVUkwrIi9zbSJ9fSx7a2V5OiJhZGRDcnlwdG9HVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7Ci8vVE9ETzogQ2hhbmdlIHRoZSBHVUkgaW52b2NhdGlvbiBvZiB0aGlzIG1ldGhvZAp2YXIgZT10aGlzO2UuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5fY3J5cHRvTWFuYWdlclVSTCxmdW5jdGlvbih0KXsKLy9sZXQgcmV0dXJuZWRWYWx1ZTsKaWYoImdlbmVyYXRlUlNBS2V5UGFpciI9PT10LmJvZHkubWV0aG9kKXJldHVybiB2b2lkIGUuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXt5LmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBnZW5lcmF0ZVJTQUtleVBhaXIgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfSl9fSx7a2V5OiJfaXNUb0VuY3J5cHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7eS5pbmZvKCJbQ3J5cHRvTWFuYWdlci5pc3RvQ2h5cGVyTW9kdWxlXSIsZSk7dmFyIHI9ImNyZWF0ZSI9PT1lLnR5cGUsbj1lLmZyb20uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxpPWUudG8uaW5jbHVkZXMoImh5cGVydHk6Ly8iKSxvPSgwLGwuaXNEYXRhT2JqZWN0VVJMKShlLnRvKSxzPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFJlcG9ydGVyKGUudG8pLGE9IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIil8fGUuYm9keS5tdXR1YWw7Ci8vaWYgaXMgbm90IHRvIGFwcGx5IGVuY3J5cHRpb24sIHRoZW4gcmV0dXJucyByZXNvbHZlCnJldHVybiEhYSYmKChudWxsPT09c3x8ISgwLGwuaXNMZWdhY3kpKHMpKSYmKHRoaXMuaXNUb1VzZUVuY3J5cHRpb258fCJoYW5kc2hha2UiPT09ZS50eXBlPyJ1cGRhdGUiPT09ZS50eXBlPyh5LmluZm8oInVwZGF0ZTplbmNyeXB0aW9uIGRpc2FibGVkIiksITEpOiEoMCxsLmlzTGVnYWN5KShlLnRvKSYmKHImJm4mJml8fHImJm4mJm8mJmF8fCJoYW5kc2hha2UiPT09ZS50eXBlfHwidXBkYXRlIj09PWUudHlwZSYmYSk6KHkuaW5mbygibm90IGhhbmRzaGFrZTogZW5jcnlwdGlvbiBkaXNhYmxlZCIpLCExKSkpfX0se2tleToiX2lzVG9EZWNyeXB0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYoInN1YnNjcmliZSI9PT1lLnR5cGUmdC5faXNGcm9tUmVtb3RlU00oZS5mcm9tKSl7eS5sb2coIl9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UxIik7dmFyIGk9dC5yZWdpc3RyeS5nZXREYXRhT2JqZWN0UmVwb3J0ZXIoZS50byk7aWYobnVsbCE9PWkmJigwLGwuaXNMZWdhY3kpKGkpKXJldHVybiByKCExKTt0Ll9kb011dHVhbEF1dGhlbnRpY2F0aW9uUGhhc2UxKGUpLnRoZW4oZnVuY3Rpb24oKXtyKCExKX0sZnVuY3Rpb24oZSl7bihlKX0pfWVsc2UgZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJiJzdHJpbmciPT10eXBlb2YgZS5ib2R5LnZhbHVlPyh5LmxvZygiX2lzVG9EZWNyeXB0OnRydWUiKSxyKCEwKSk6KHkubG9nKCJfaXNUb0RlY3J5cHQ6ZmFsc2UiKSxyKCExKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJbQ3J5cHRvTWFuYWdlci5faXNUb0RlY3J5cHRdIixlKX0pfX0se2tleToiZW5jcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpewovL2xvZy5pbmZvKCdlbmNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnZhciB0PXRoaXM7cmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2UgIiksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPSJoYW5kc2hha2UiPT09ZS50eXBlOwovL2lmIGlzIG5vdCB0byBhcHBseSBlbmNyeXB0aW9uLCB0aGVuIHJldHVybnMgcmVzb2x2ZQppZighdC5faXNUb0VuY3J5cHQoZSkpCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIHIoZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLHM9KDAsbC5pc0RhdGFPYmplY3RVUkwpKG8pLGE9KDAsbC5pc0xlZ2FjeSkoZS50byksdT0iaHlwZXJ0eSI9PT0oMCxsLmRpdmlkZVVSTCkoZS5mcm9tKS50eXBlLGM9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUudG8pLnR5cGU7aWYoInVwZGF0ZSI9PT1lLnR5cGUpcmV0dXJuIHkubG9nKCJlbmNyeXB0IG1lc3NhZ2U6IG1lc3NhZ2UgdHlwZSB1cGRhdGUiKSxyKGUpO2lmKGEpcihlKTtlbHNlIGlmKHUmJmMpe3ZhciBmPXQuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pO2lmKGYpewovLyBjaGVjayBpZiBleGlzdHMgYW55IGtleXMgYmV0d2VlbiB0d28gdXNlcnMKdmFyIGQ9dC5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b107aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYpLAovL2xvZy5sb2coJ2NyZWF0ZUNoYXRLZXkgZW5jcnlwdCcsIG1lc3NhZ2UuZnJvbSArIG1lc3NhZ2UudG8pOwp0LmNoYXRLZXlzW2UuZnJvbSsiPC0+IitlLnRvXT1kLGUuYm9keS5oYW5kc2hha2VQaGFzZT0ic3RhcnRIYW5kU2hha2UiKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD10LmNyeXB0by5nZW5lcmF0ZUlWKCk7dC5jcnlwdG8uZW5jcnlwdEFFUyhkLmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpLHApLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9dC5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLCgwLGwuc3RyaW5naWZ5KShlLmJvZHkudmFsdWUpKygwLGwuc3RyaW5naWZ5KShwKSxkLmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKTt0LmNyeXB0by5oYXNoSE1BQyhkLmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpLnRoZW4oZnVuY3Rpb24odCl7Ci8vbG9nLmxvZygncmVzdWx0IG9mIGhhc2ggJywgaGFzaCk7CnZhciBpPXtpdjooMCxsLmVuY29kZSkocCksdmFsdWU6KDAsbC5lbmNvZGUpKG4pLGhhc2g6KDAsbC5lbmNvZGUpKHQpfTtlLmJvZHkudmFsdWU9KDAsbC5lbmNvZGUpKGkpLHIoZSl9KX0pfWVsc2UgaT9yKGUpOnQuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpe3QuY2hhdEtleXNbZS5mcm9tKyI8LT4iK2UudG9dPXIuY2hhdEtleXMsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyLm1lc3NhZ2UpLG4oImVuY3J5cHQgaGFuZHNoYWtlIHByb3RvY29sIHBoYXNlICIpfSl9ZWxzZSBuKCJJbiBlbmNyeXB0TWVzc2FnZTogSHlwZXJ0eSBvd25lciBVUkwgd2FzIG5vdCBmb3VuZCIpfWVsc2UgdSYmcyYmCi8vbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBlbmNyeXB0OiAnLCBtZXNzYWdlLmJvZHkudmFsdWUpOwovL2xvZy5sb2coJ0lkZW50aXR5TW9kdWxlIC0gZW5jcnlwdCBmcm9tIGh5cGVydHkgdG8gZGF0YW9iamVjdCAnLCBtZXNzYWdlKTsKdC5zdG9yYWdlTWFuYWdlci5nZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIpLnRoZW4oZnVuY3Rpb24oaSl7aT0oMCxsLmNoYXRrZXlzVG9BcnJheUNsb25lcikoaXx8e30pO3ZhciBzPWk/aVtvXTpudWxsO3QuZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QobykudGhlbihmdW5jdGlvbihpKXsKLy9pZiBubyBrZXkgZXhpc3RzLCBjcmVhdGUgYSBuZXcgb25lIGlmIGlzIHRoZSByZXBvcnRlciBvZiBkYXRhT2JqZWN0CmlmKCFzJiZpLnJlcG9ydGVyJiZpLnJlcG9ydGVyPT09ZS5mcm9tKXt2YXIgYT10LmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpO3QuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dPXtzZXNzaW9uS2V5OmEsaXNUb0VuY3J5cHQ6ITB9O3ZhciB1PSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikodC5kYXRhT2JqZWN0U2Vzc2lvbktleXMpOwovL1RPRE86IGNoZWNrIGlmIHRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSBzdG9yZWQKdC5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCx1KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBlbmNyeXB0TWVzc2FnZSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQgZXJyb3I6ICIrZSl9KSxzPXQuZGF0YU9iamVjdFNlc3Npb25LZXlzW29dfQovL2NoZWNrIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBzZXNzaW9uIGtleSBmb3IgdGhlIGNoYXQgcm9vbQppZihzKQovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYocy5pc1RvRW5jcnlwdCl7dmFyIGM9dC5jcnlwdG8uZ2VuZXJhdGVJVigpLGY9KDAsbC5zdHJpbmdpZnkpKGMpLGQ9KDAsbC5zdHJpbmdpZnkpKGUuYm9keS52YWx1ZSk7dC5jcnlwdG8uZW5jcnlwdEFFUyhzLnNlc3Npb25LZXksZCxjKS50aGVuKGZ1bmN0aW9uKG4pe2RlbGV0ZSBlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLC8vVE9ETzogQ2hlY2sgd2h5IGFzc2VydGlvbiBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQpkZWxldGUgZS5ib2R5LmlkZW50aXR5LmV4cGlyZXM7Ly9UT0RPOiBDaGVjayB3aHkgZXhwaXJlcyBpcyBjb21taW5nIG9uIHRoZSBtZXNzYWdlIQp2YXIgaT10Ll9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsZCtmKTt0LmNyeXB0by5oYXNoSE1BQyhzLnNlc3Npb25LZXksaSkudGhlbihmdW5jdGlvbih0KXsKLy8gbG9nLmxvZygnaGFzaCAnLCBoYXNoKTsKdmFyIGk9e3ZhbHVlOigwLGwuZW5jb2RlKShuKSxpdjooMCxsLmVuY29kZSkoYyksaGFzaDooMCxsLmVuY29kZSkodCl9O2UuYm9keS52YWx1ZT0oMCxsLnN0cmluZ2lmeSkoaSkscihlKX0pfSl9ZWxzZSByKGUpO2Vsc2UgbigiRGF0YSBvYmplY3Qga2V5IGNvdWxkIG5vdCBiZSBkZWZpbmVkOiBGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlICIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiT24gZW5jcnlwdE1lc3NhZ2UgZnJvbSBtZXRob2QgZGF0YU9iamVjdHNTdG9yYWdlLmdldERhdGFPYmplY3QgZXJyb3I6ICIrZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oIk9uIGVuY3J5cHRNZXNzYWdlIGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLmdldCBlcnJvcjogIitlKX0pfSl9fSx7a2V5OiJlbmNyeXB0RGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7eS5pbmZvKCJkYXRhT2JqZWN0IHZhbHVlIHRvIGVuY3J5cHQ6ICIsZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpO3Iuc3RvcmFnZU1hbmFnZXIuZ2V0KCJkYXRhT2JqZWN0U2Vzc2lvbktleXMiKS50aGVuKGZ1bmN0aW9uKHQpe3Q9KDAsbC5jaGF0a2V5c1RvQXJyYXlDbG9uZXIpKHR8fHt9KTt2YXIgcz10P3Rbb106bnVsbDsKLy9jaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgc2Vzc2lvbiBrZXkgZm9yIHRoZSBjaGF0IHJvb20KaWYoIXMpcmV0dXJuIGkoIk5vIGRhdGFPYmplY3RLZXkgZm9yIHRoaXMgZGF0YU9iamVjdFVSTDoiLG8pOwovLyBhbmQgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbiwgZW5jcnlwdCB0aGUgbWVzc2FnZXMKaWYoIXMuaXNUb0VuY3J5cHQpcmV0dXJuIHkuaW5mbygiVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCIpLG4oZSk7dmFyIGE9ci5jcnlwdG8uZ2VuZXJhdGVJVigpO3IuY3J5cHRvLmVuY3J5cHRBRVMocy5zZXNzaW9uS2V5LCgwLGwuc3RyaW5naWZ5KShlKSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt2YWx1ZTooMCxsLmVuY29kZSkoZSksaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy9sb2cubG9nKCdlbmNyeXB0ZWQgZGF0YU9iamVjdCcsIG5ld1ZhbHVlKTsKcmV0dXJuIG4odCl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBlbmNyeXB0RGF0YU9iamVjdCBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5nZXQgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZGVjcnlwdE1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Ci8vICBsb2cubG9nKCdkZWNyeXB0TWVzc2FnZTptZXNzYWdlJywgbWVzc2FnZSk7CnJldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ImhhbmRzaGFrZSI9PT1lLnR5cGU7dC5faXNUb0RlY3J5cHQoZSkudGhlbihmdW5jdGlvbihvKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIW8pcmV0dXJuIHIoZSk7dmFyIHM9KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKGUudG8pLGE9KDAsbC5pc0RhdGFPYmplY3RVUkwpKHMpLHU9Imh5cGVydHkiPT09KDAsbC5kaXZpZGVVUkwpKGUuZnJvbSkudHlwZSxjPSJoeXBlcnR5Ij09PSgwLGwuZGl2aWRlVVJMKShlLnRvKS50eXBlO2lmKCJ1cGRhdGUiPT09ZS50eXBlKXJldHVybiByKGUpOwovL2lzIGlzIGh5cGVydHkgdG8gaHlwZXJ0eSBjb21tdW5pY2F0aW9uCmlmKHUmJmMpewovLyBsb2cubG9nKCdkZWNyeXB0IGh5cGVydHkgdG8gaHlwZXJ0eScpOwp2YXIgZj10Ll9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZS50byk7aWYoZil7dmFyIGQ9dC5jaGF0S2V5c1tlLnRvKyI8LT4iK2UuZnJvbV07aWYoZHx8KGQ9dC5fbmV3Q2hhdENyeXB0byhlLGYsImRlY3J5cHQiKSx0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1kKSxkLmF1dGhlbnRpY2F0ZWQmJiFpKXt2YXIgcD0oMCxsLmRlY29kZSkoZS5ib2R5LnZhbHVlKSxoPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLml2KSx2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLnZhbHVlKSxnPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShwLmhhc2gpO3QuY3J5cHRvLmRlY3J5cHRBRVMoZC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixoKS50aGVuKGZ1bmN0aW9uKG4pewovLyBsb2cubG9nKCdkZWNyeXB0ZWQgdmFsdWUgJywgZGVjcnlwdGVkRGF0YSk7CmUuYm9keS52YWx1ZT1uO3ZhciBpPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK2gpO3QuY3J5cHRvLnZlcmlmeUhNQUMoZC5rZXlzLmh5cGVydHlUb0hhc2hLZXksaSxnKS50aGVuKGZ1bmN0aW9uKHQpewovL2xvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiEgJywgcmVzdWx0KTsKZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pfSl9ZWxzZSBpP3QuX2RvSGFuZFNoYWtlUGhhc2UoZSxkKS50aGVuKGZ1bmN0aW9uKHIpewovL2lmIGl0IHdhcyBzdGFydGVkIGJ5IGRvTXV0dWFsQXV0aGVudGljYXRpb24gdGhlbiBlbmRzIHRoZSBwcm90b2NvbAoiaGFuZFNoYWtlRW5kIj09PXJ8fCh0LmNoYXRLZXlzW2UudG8rIjwtPiIrZS5mcm9tXT1yLmNoYXRLZXlzLHQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoci5tZXNzYWdlKSl9KTpuKCJ3cm9uZyBtZXNzYWdlIGRvIGRlY3J5cHQiKX1lbHNlIG4oImVycm9yIG9uIGRlY3J5cHQgbWVzc2FnZSIpfWVsc2UgdSYmYT8KLy8gbG9nLmxvZygnZGF0YU9iamVjdCB2YWx1ZSB0byBkZWNyeXB0OiAnLCBtZXNzYWdlLmJvZHkpOwp0LnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbihpKXtpPSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKShpfHx7fSk7dmFyIG89aT9pW3NdOm51bGw7aWYobykKLy9jaGVjayBpZiBpcyB0byBhcHBseSBlbmNyeXB0aW9uCmlmKG8uaXNUb0VuY3J5cHQpe3ZhciBhPSgwLGwucGFyc2UpKGUuYm9keS52YWx1ZSksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5pdiksYz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS52YWx1ZSksZj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYS5oYXNoKTt0LmNyeXB0by5kZWNyeXB0QUVTKG8uc2Vzc2lvbktleSxjLHUpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHM9KDAsbC5wYXJzZSkoaSk7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZCBWYWx1ZSwnLCBwYXJzZWRWYWx1ZSk7CmUuYm9keS52YWx1ZT1zO3ZhciBhPXQuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSwoMCxsLnN0cmluZ2lmeSkocykrKDAsbC5zdHJpbmdpZnkpKHUpKTt0LmNyeXB0by52ZXJpZnlITUFDKG8uc2Vzc2lvbktleSxhLGYpLnRoZW4oZnVuY3Rpb24odCl7eS5sb2coIlJlY2VpdmVkIG1lc3NhZ2UgSE1BQyByZXN1bHQiLHQpLGUuYm9keS5hc3NlcnRlZElkZW50aXR5PSEwLHIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJNZXNzYWdlIEhNQUMgaXMgaW52YWxpZDogIitlKX0pfSl9ZWxzZSBlLmJvZHkuYXNzZXJ0ZWRJZGVudGl0eT0hMCxyKGUpO2Vsc2UgZS5ib2R5LmFzc2VydGVkSWRlbnRpdHk9ITAscihlKX0pOm4oIndyb25nIG1lc3NhZ2UgdG8gZGVjcnlwdCIpfSl9KX19LHtrZXk6ImRlY3J5cHREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9pZiBpcyBub3QgdG8gYXBwbHkgZW5jcnlwdGlvbiwgdGhlbiByZXR1cm5zIHJlc29sdmUKaWYoIXIuaXNUb1VzZUVuY3J5cHRpb24pCi8vIGxvZy5sb2coJ2RlY3J5cHRpb24gZGlzYWJsZWQnKTsKcmV0dXJuIG4oZSk7dmFyIG89KDAsbC5wYXJzZU1lc3NhZ2VVUkwpKHQpOwovLyBsb2cubG9nKCdkYXRhT2JqZWN0IHZhbHVlIHRvIGRlY3J5cHQ6ICcsIGRhdGFPYmplY3QpOwpyLnN0b3JhZ2VNYW5hZ2VyLmdldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIikudGhlbihmdW5jdGlvbih0KXt0PSgwLGwuY2hhdGtleXNUb0FycmF5Q2xvbmVyKSh0KTt2YXIgcz10P3Rbb106bnVsbDtpZighcylyZXR1cm4gaSgiTm8gZGF0YU9iamVjdEtleSBmb3IgdGhpcyBkYXRhT2JqZWN0VVJMOiIsbyk7Ci8vY2hlY2sgaWYgaXMgdG8gYXBwbHkgZW5jcnlwdGlvbgppZighcy5pc1RvRW5jcnlwdCkKLy8gbG9nLmxvZygnVGhlIGRhdGFPYmplY3QgaXMgbm90IGVuY3J5cHRlZCcpOwpyZXR1cm4gbihlKTt2YXIgYT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5pdiksdT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS52YWx1ZSk7ci5jcnlwdG8uZGVjcnlwdEFFUyhzLnNlc3Npb25LZXksdSxhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PSgwLGwucGFyc2UpKGUpLHI9e3ZhbHVlOnQsaXY6KDAsbC5lbmNvZGUpKGEpfTsKLy8gbG9nLmxvZygnZGVjcnlwdGVkIGRhdGFPYmplY3QsJywgbmV3VmFsdWUpOwpyZXR1cm4gbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIGRlY3J5cHREYXRhT2JqZWN0IGZyb20gbWV0aG9kIGVuY3J5cHRBRVMgZXJyb3I6ICIrZSl9KX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8uc3BsaXQoIi8iKTsKLy9sZXQgc3Vic0luZGV4ID0gdG8uaW5kZXhPZignc3Vic2NyaXB0aW9uJyk7Ci8vbGV0IGlzRGF0YU9iamVjdFN1YnNjcmlwdGlvbiA9IHN1YnNJbmRleCAhPT0gLTE7CmkucG9wKCk7dmFyIG89aVswXSsiLy8iK2lbMl0rIi8iK2lbM107dC5fZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMihvLGUuYm9keS5zdWJzY3JpYmVyKS50aGVuKGZ1bmN0aW9uKCl7dC5fcmVnaXN0cnkucmVnaXN0ZXJTdWJzY3JpYmVyKG8sZS5ib2R5LnN1YnNjcmliZXIpLHIoKX0sZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJfZG9NdXR1YWxBdXRoZW50aWNhdGlvblBoYXNlMiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmluZm8oImRvTXV0dWFsQXV0aGVudGljYXRpb246c2VuZGVyICIsZSkseS5pbmZvKCJkb011dHVhbEF1dGhlbnRpY2F0aW9uOnJlY2VpdmVyICIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMCxzPXIuX3JlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtzJiYobz1lLGU9cyk7dmFyIGE9e3RvOnQsZnJvbTplLGNhbGxiYWNrOnZvaWQgMCxib2R5OntoYW5kc2hha2VQaGFzZToic3RhcnRIYW5kU2hha2UiLGlnbm9yZToiaWdub3JlTWVzc2FnZSJ9fTtpZighZXx8IXQpcmV0dXJuIGkoInNlbmRlciBvciByZWNlaXZlciBtaXNzaW5nIG9uIGRvTXV0dWFsQXV0aGVudGljYXRpb24iKTt2YXIgdT1yLmNoYXRLZXlzW2UrIjwtPiIrdF0sYz1yLl9yZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoZSk7aWYoYyl7aWYoIXUpewovLyBjYWxsYmFjayB0byByZXNvbHZlIHdoZW4gZmluaXNoIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24KdmFyIGY9ZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NhbGxiYWNrIHZhbHVlOicsIHZhbHVlKTsKbihlKX07YS5jYWxsYmFjaz1mLGEuZGF0YU9iamVjdFVSTD1vLHU9ci5fbmV3Q2hhdENyeXB0byhhLGMpLHIuY2hhdEtleXNbZSsiPC0+Iit0XT11fWlmKHUuYXV0aGVudGljYXRlZCl7dmFyIGw9e3RvOmUsZnJvbTp0fTt1LmRhdGFPYmplY3RVUkw9byxyLl9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5KGwsdSkudGhlbihmdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUubWVzc2FnZSksbigiZXhjaGFuZ2Ugb2YgY2hhdCBzZXNzaW9uS2V5IGluaXRpYXRlZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gZG9NdXR1YWxBdXRoZW50aWNhdGlvbiBmcm9tIG1ldGhvZCBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pfWVsc2Ugci5fZG9IYW5kU2hha2VQaGFzZShhLHUpfWVsc2UgaSgiTXV0dWFsIGF1dGhlbnRpY2F0aW9uIGVycm9yOiBIeXBlcnR5IG93bmVyIGNvdWxkIG5vdCBiZSByZXNvbHZlZCIpfSl9fSx7a2V5OiJfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ci5kYXRhT2JqZWN0U2Vzc2lvbktleXNbdC5kYXRhT2JqZWN0VVJMXSxzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPXt9OwovL2lmIHRoZXJlIGlzIG5vdCB5ZXQgYSBzZXNzaW9uIEtleSwgZ2VuZXJhdGVzIGEgbmV3IG9uZQppZihvKXU9by5zZXNzaW9uS2V5O2Vsc2V7dT1yLmNyeXB0by5nZW5lcmF0ZVJhbmRvbSgpLHIuZGF0YU9iamVjdFNlc3Npb25LZXlzW3QuZGF0YU9iamVjdFVSTF09e3Nlc3Npb25LZXk6dSxpc1RvRW5jcnlwdDohMH07dmFyIGQ9KDAsbC5jaGF0a2V5c1RvU3RyaW5nQ2xvbmVyKShyLmRhdGFPYmplY3RTZXNzaW9uS2V5cyk7ci5zdG9yYWdlTWFuYWdlci5zZXQoImRhdGFPYmplY3RTZXNzaW9uS2V5cyIsMCxkKS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yYWdlTWFuYWdlci5zZXQoZGF0YU9iamVjdFNlc3Npb25LZXlzLi4uKSBlcnJvcjogIitlKX0pfXRyeXthPSgwLGwuZW5jb2RlKSh7dmFsdWU6KDAsbC5lbmNvZGUpKHUpLGRhdGFPYmplY3RVUkw6dC5kYXRhT2JqZWN0VVJMfSl9Y2F0Y2goZSl7cmV0dXJuIGkoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JhZ2VNYW5hZ2VyLnNldCBlcnJvciB2YWx1ZVRvRW5jcnlwdDogIitlKX1jPXIuY3J5cHRvLmdlbmVyYXRlSVYoKSxmLml2PSgwLGwuZW5jb2RlKShjKSxyLmNyeXB0by5lbmNyeXB0QUVTKHQua2V5cy5oeXBlcnR5RnJvbVNlc3Npb25LZXksYSxjKS50aGVuKGZ1bmN0aW9uKG4pe3M9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVwb3J0ZXJTZXNzaW9uS2V5Iix2YWx1ZTooMCxsLmVuY29kZSkobil9fTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHMsYStjLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGkpfSkudGhlbihmdW5jdGlvbihlKXt2YXIgcj0oMCxsLmVuY29kZSkoe3ZhbHVlOnMuYm9keS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjpmLml2fSk7cy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gY2hhaW5lZCBwcm9taXNlcyBlbmNyeXB0QUVTIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9yZXNvbHZlRG9tYWluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8iZG9tYWluLWlkcDovLyIrZToiZG9tYWluLWlkcDovL2dvb2dsZS5jb20ifX0se2tleToiX2RvSGFuZFNoYWtlUGhhc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Ci8vIGxvZygnX2RvSGFuZFNoYWtlUGhhc2U6ZGF0YU9iamVjdCcsIG1lc3NhZ2UpOwovLwlsb2coJ19kb0hhbmRTaGFrZVBoYXNlOmNoYXRLZXlzJywgY2hhdEtleXMpOwp2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ZS5ib2R5LmhhbmRzaGFrZVBoYXNlLHM9dm9pZCAwLGE9dm9pZCAwLHU9e30sYz12b2lkIDAsZj12b2lkIDA7c3dpdGNoKHkuaW5mbygiaGFuZHNoYWtlIHBoYXNlOiAiLG8pLG8pe2Nhc2Uic3RhcnRIYW5kU2hha2UiOnQua2V5cy5mcm9tUmFuZG9tPXIuY3J5cHRvLmdlbmVyYXRlUmFuZG9tKCk7dmFyIGQ9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS50byxmcm9tOmUuZnJvbSxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVySGVsbG8iLHZhbHVlOigwLGwuZW5jb2RlKSh0LmtleXMuZnJvbVJhbmRvbSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChkLHZvaWQgMCx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSwKLy8gY2hlY2sgaWYgd2FzIHRoZSBlbmNyeXB0IGZ1bmN0aW9uIG9yIHRoZSBtdXR1YWwgYXV0aGVudGljYXRpb24gdGhhdCByZXF1ZXN0IHRoZQovLyBzdGFydCBvZiB0aGUgaGFuZFNoYWtlUGhhc2UuCnQuaW5pdGlhbE1lc3NhZ2U/bih7bWVzc2FnZTpkLGNoYXRLZXlzOnR9KTooci5jaGF0S2V5c1tlLmZyb20rIjwtPiIrZS50b109dCxyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQpKTticmVhaztjYXNlInNlbmRlckhlbGxvIjp5LmxvZygic2VuZGVySGVsbG8iKSx0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSx0LmtleXMuZnJvbVJhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZS5ib2R5LnZhbHVlKSx0LmtleXMudG9SYW5kb209ci5jcnlwdG8uZ2VuZXJhdGVSYW5kb20oKTt2YXIgcD17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckhlbGxvIix2YWx1ZTooMCxsLmVuY29kZSkodC5rZXlzLnRvUmFuZG9tKX19O3QuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckhlbGxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gocCx2b2lkIDAsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksbih7bWVzc2FnZTpwLGNoYXRLZXlzOnR9KTticmVhaztjYXNlInJlY2VpdmVySGVsbG8iOnkubG9nKCJyZWNlaXZlckhlbGxvIiksci5nZXRNeVByaXZhdGVLZXkoKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBmPW4sdC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVySGVsbG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlKSxyLl9pZG0udmFsaWRhdGVBc3NlcnRpb24oZS5ib2R5LmlkZW50aXR5LmFzc2VydGlvbix2b2lkIDAsZS5ib2R5LmlkZW50aXR5LmlkcC5kb21haW4pfSkudGhlbihmdW5jdGlvbihuKXsKLy9UT0RPIHJlbW92ZSBsYXRlciB0aGlzIHZlcmlmaWNhdGlvbiBhcyBzb29uIGFzIGFsbCB0aGUgSWRQIHByb3h5IGFyZSB1cGRhdGVkIGluIHRoZSBleGFtcGxlCnZhciBpPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Usbz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShpKSxzPXIuY3J5cHRvLmdlbmVyYXRlUE1TKCksYT1lLmJvZHkudmFsdWU7dC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PW8sdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHQua2V5cy50b1JhbmRvbT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoYSksdC5rZXlzLnByZW1hc3RlcktleT1zO3ZhciB1PXIuY3J5cHRvLmNvbmNhdFBNU3dpdGhSYW5kb21zKHMsdC5rZXlzLnRvUmFuZG9tLHQua2V5cy5mcm9tUmFuZG9tKTtyZXR1cm4gci5jcnlwdG8uZ2VuZXJhdGVNYXN0ZXJTZWNyZXQodSwibWVzc2FnZUhpc3RvcmljIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5rZXlzLm1hc3RlcktleT1lLHIuY3J5cHRvLmdlbmVyYXRlS2V5cyhlLCJrZXkgZXhwYW5zaW9uIit0LmtleXMudG9SYW5kb20rdC5rZXlzLmZyb21SYW5kb20pfSkudGhlbihmdW5jdGlvbihuKXt0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShuWzBdKSx0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5PW5ldyBVaW50OEFycmF5KG5bMV0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KG5bMl0pLHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXk9bmV3IFVpbnQ4QXJyYXkoblszXSkscz1yLmNyeXB0by5nZW5lcmF0ZUlWKCksdS5pdj0oMCxsLmVuY29kZSkocyk7dmFyIGk9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToic2VuZGVyQ2VydGlmaWNhdGUifX07Ci8vIGhhc2ggdGhlIHZhbHVlIGFuZCB0aGUgaXYKcmV0dXJuIGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxyLmNyeXB0by5oYXNoSE1BQyh0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5LGMpfSkudGhlbihmdW5jdGlvbihlKXsKLy9lbmNyeXB0IHRoZSBkYXRhCnJldHVybiB1Lmhhc2g9KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2siLHMpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5zeW1ldHJpY0VuY3J5cHRpb249KDAsbC5lbmNvZGUpKGUpLHIuY3J5cHRvLmVuY3J5cHRSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LHQua2V5cy5wcmVtYXN0ZXJLZXkpfSkudGhlbihmdW5jdGlvbihuKXt1LmFzc3ltZXRyaWNFbmNyeXB0aW9uPSgwLGwuZW5jb2RlKShuKTt2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJzZW5kZXJDZXJ0aWZpY2F0ZSJ9fSxvPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goaSx0LmtleXMucHJlbWFzdGVyS2V5LHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pO3JldHVybiByLmNyeXB0by5zaWduUlNBKGYsKDAsbC5lbmNvZGUpKHQuaGFuZHNoYWtlSGlzdG9yeSkrKDAsbC5lbmNvZGUpKG8pKX0pLnRoZW4oZnVuY3Rpb24oaSl7dS5zaWduYXR1cmU9KDAsbC5lbmNvZGUpKGkpO3ZhciBvPXt0eXBlOiJoYW5kc2hha2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7aGFuZHNoYWtlUGhhc2U6InNlbmRlckNlcnRpZmljYXRlIix2YWx1ZTooMCxsLmVuY29kZSkodSl9fTt0LmhhbmRzaGFrZUhpc3Rvcnkuc2VuZGVyQ2VydGlmaWNhdGU9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChvLCJvayIrcyx0Lmh5cGVydHlGcm9tLm1lc3NhZ2VJbmZvKSxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSxmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pO2JyZWFrO2Nhc2Uic2VuZGVyQ2VydGlmaWNhdGUiOnkubG9nKCJzZW5kZXJDZXJ0aWZpY2F0ZSIpO3ZhciBoPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpO3IuZ2V0TXlQcml2YXRlS2V5KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZj10LHIuX2lkbS52YWxpZGF0ZUFzc2VydGlvbihlLmJvZHkuaWRlbnRpdHkuYXNzZXJ0aW9uLHZvaWQgMCxlLmJvZHkuaWRlbnRpdHkuaWRwLmRvbWFpbil9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmFzc3ltZXRyaWNFbmNyeXB0aW9uKSxvPSJzdHJpbmciPT10eXBlb2Ygbi5jb250ZW50cz9uLmNvbnRlbnRzOm4uY29udGVudHMubm9uY2Uscz0oMCxsLnBhcnNlVG9VaW50OEFycmF5KShvKTtyZXR1cm4gdC5oeXBlcnR5VG8uYXNzZXJ0aW9uPWUuYm9keS5pZGVudGl0eS5hc3NlcnRpb24sdC5oeXBlcnR5VG8ucHVibGljS2V5PXMsdC5oeXBlcnR5VG8udXNlcklEPWUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMLHIuY3J5cHRvLmRlY3J5cHRSU0EoZixpKX0sZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coZXJyb3IpOwppKCJFcnJvciBkdXJpbmcgYXV0aGVudGljYXRpb24gb2YgaWRlbnRpdHk6ICIsZS5tZXNzYWdlKX0pLnRoZW4oZnVuY3Rpb24obil7dC5rZXlzLnByZW1hc3RlcktleT1uZXcgVWludDhBcnJheShuKTt2YXIgaT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoaC5zaWduYXR1cmUpLG89ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChlLHQua2V5cy5wcmVtYXN0ZXJLZXkpO3JldHVybiByLmNyeXB0by52ZXJpZnlSU0EodC5oeXBlcnR5VG8ucHVibGljS2V5LCgwLGwuZW5jb2RlKSh0LmhhbmRzaGFrZUhpc3RvcnkpKygwLGwuZW5jb2RlKShvKSxpKX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vbG9nLmxvZygnU2VuZGVyQ2VydGlmaWNhdGUgLSBzaWduYXR1cmUgdmFsaWRhdGlvbiByZXN1bHQgJywgc2lnblZhbGlkYXRpb25SZXN1bHQpOwp2YXIgbj1yLmNyeXB0by5jb25jYXRQTVN3aXRoUmFuZG9tcyh0LmtleXMucHJlbWFzdGVyS2V5LHQua2V5cy50b1JhbmRvbSx0LmtleXMuZnJvbVJhbmRvbSk7cmV0dXJuIHIuY3J5cHRvLmdlbmVyYXRlTWFzdGVyU2VjcmV0KG4sIm1lc3NhZ2VIaXN0b3JpYyIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQua2V5cy5tYXN0ZXJLZXk9ZSxyLmNyeXB0by5nZW5lcmF0ZUtleXMoZSwia2V5IGV4cGFuc2lvbiIrdC5rZXlzLnRvUmFuZG9tK3Qua2V5cy5mcm9tUmFuZG9tKX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzBdKSx0LmtleXMuaHlwZXJ0eVRvU2Vzc2lvbktleT1uZXcgVWludDhBcnJheShlWzFdKSx0LmtleXMuaHlwZXJ0eUZyb21IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbMl0pLHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5PW5ldyBVaW50OEFycmF5KGVbM10pLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKGguaXYpO3ZhciBuPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLnN5bWV0cmljRW5jcnlwdGlvbik7cmV0dXJuIHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksbixzKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ2RlY3J5cHRlZERhdGEnLCBkZWNyeXB0ZWREYXRhKTsKdC5oYW5kc2hha2VIaXN0b3J5LnNlbmRlckNlcnRpZmljYXRlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3ZhciBpPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShoLmhhc2gpO3JldHVybiBjPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpLHIuY3J5cHRvLnZlcmlmeUhNQUModC5rZXlzLmh5cGVydHlUb0hhc2hLZXksYyxpKX0pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ3Jlc3VsdCBvZiBoYXNoIHZlcmlmaWNhdGlvbiAnLCB2ZXJpZmllZEhhc2gpOwp2YXIgaT17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSJ9fTsKLy9sb2cubG9nKCdUSUFHTzogZG9IYW5kU2hha2VQaGFzZSB2ZXJpZmllZEhhc2gnKTsKcmV0dXJuIHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLGM9ci5fZmlsdGVyTWVzc2FnZVRvSGFzaChpLCJvayEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyksci5jcnlwdG8uaGFzaEhNQUModC5rZXlzLmh5cGVydHlGcm9tSGFzaEtleSxjKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHUuaGFzaD0oMCxsLmVuY29kZSkoZSksci5jcnlwdG8uZW5jcnlwdEFFUyh0LmtleXMuaHlwZXJ0eUZyb21TZXNzaW9uS2V5LCJvayEiLHMpfSkudGhlbihmdW5jdGlvbihpKXt1LnZhbHVlPSgwLGwuZW5jb2RlKShpKTt2YXIgbz17dHlwZToiaGFuZHNoYWtlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e2hhbmRzaGFrZVBoYXNlOiJyZWNlaXZlckZpbmlzaGVkTWVzc2FnZSIsdmFsdWU6KDAsbC5lbmNvZGUpKHUpfX07dC5oYW5kc2hha2VIaXN0b3J5LnJlY2VpdmVyRmluaXNoZWRNZXNzYWdlPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2gobywib2shIitzLHQuaHlwZXJ0eUZyb20ubWVzc2FnZUluZm8pLHQuYXV0aGVudGljYXRlZD0hMCxuKHttZXNzYWdlOm8sY2hhdEtleXM6dH0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSBzZW5kZXJDZXJ0aWZpY2F0ZSBlcnJvcjogIitlKX0pO2JyZWFrO2Nhc2UicmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2UiOnQuYXV0aGVudGljYXRlZD0hMCx1PSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLHM9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKHUuaXYpO3ZhciB2PSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1LnZhbHVlKTthPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KSh1Lmhhc2gpLHIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksdixzKS50aGVuKGZ1bmN0aW9uKG8pewovLyBsb2cubG9nKCdkZWNyeXB0ZWREYXRhJywgZGVjcnlwdGVkRGF0YSk7CnQuaGFuZHNoYWtlSGlzdG9yeS5yZWNlaXZlckZpbmlzaGVkTWVzc2FnZT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTt2YXIgdT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKGUsbytzKTtyLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LHUsYSkudGhlbihmdW5jdGlvbihvKXsKLy8gY2hlY2sgaWYgdGhlcmUgd2FzIGFuIGluaXRpYWwgbWVzc2FnZSB0aGF0IHdhcyBibG9ja2VkIGFuZCBzZW5kIGl0CmlmKHQuaW5pdGlhbE1lc3NhZ2Upe3ZhciBzPXt0eXBlOiJjcmVhdGUiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTp7dmFsdWU6dC5pbml0aWFsTWVzc2FnZS5ib2R5LnZhbHVlfX07bih7bWVzc2FnZTpzLGNoYXRLZXlzOnR9KX1lbHNlIHIuX3NlbmRSZXBvcnRlclNlc3Npb25LZXkoZSx0KS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpKCJPbiBfZG9IYW5kU2hha2VQaGFzZSBmcm9tIHJlY2VpdmVyRmluaXNoZWRNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX0pO2JyZWFrO2Nhc2UicmVwb3J0ZXJTZXNzaW9uS2V5Ijp5LmxvZygicmVwb3J0ZXJTZXNzaW9uS2V5Iik7dmFyIGc9KDAsbC5kZWNvZGUpKGUuYm9keS52YWx1ZSk7YT0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy5oYXNoKSxzPSgwLGwuZGVjb2RlVG9VaW50OEFycmF5KShnLml2KTt2YXIgYj0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoZy52YWx1ZSksbT12b2lkIDAsXz12b2lkIDAsUj12b2lkIDAsdz12b2lkIDA7Ci8vbG9nLmxvZygnW0lkZW50aXR5TW9kdWxlIHJlcG9ydGVyU2Vzc2lvbktleV0gLSBkZWNyeXB0QUVTOiAnLCBjaGF0S2V5cy5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksIGVuY3J5cHRlZFZhbHVlLCBpdik7CnIuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksYixzKS50aGVuKGZ1bmN0aW9uKG4pe209KDAsbC5kZWNvZGUpKG4pLF89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKG0udmFsdWUpLFI9bS5kYXRhT2JqZWN0VVJMO3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksYSl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoIHN1Y2Nlc3NmdWxseSB2YWxpZGF0ZWQgJywgaGFzaFJlc3VsdCk7CnIuZGF0YU9iamVjdFNlc3Npb25LZXlzW1JdPXtzZXNzaW9uS2V5Ol8saXNUb0VuY3J5cHQ6ITB9O3ZhciBuPSgwLGwuY2hhdGtleXNUb1N0cmluZ0Nsb25lcikoci5kYXRhT2JqZWN0U2Vzc2lvbktleXMpO3JldHVybiByLnN0b3JhZ2VNYW5hZ2VyLnNldCgiZGF0YU9iamVjdFNlc3Npb25LZXlzIiwwLG4pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHJlcG9ydGVyU2Vzc2lvbktleSBlcnJvcjogIitlKX0pLHM9ci5jcnlwdG8uZ2VuZXJhdGVJVigpLHUuaXY9KDAsbC5lbmNvZGUpKHMpLHIuY3J5cHRvLmVuY3J5cHRBRVModC5rZXlzLmh5cGVydHlGcm9tU2Vzc2lvbktleSwib2shISIscyl9KS50aGVuKGZ1bmN0aW9uKG4pe3c9e3R5cGU6ImhhbmRzaGFrZSIsdG86ZS5mcm9tLGZyb206ZS50byxib2R5OntoYW5kc2hha2VQaGFzZToicmVjZWl2ZXJBY2tub3dsZWRnZSJ9fSx1LnZhbHVlPSgwLGwuZW5jb2RlKShuKTt2YXIgaT1yLl9maWx0ZXJNZXNzYWdlVG9IYXNoKHcsIm9rISEiK3MsdC5oeXBlcnR5RnJvbS5tZXNzYWdlSW5mbyk7cmV0dXJuIHIuY3J5cHRvLmhhc2hITUFDKHQua2V5cy5oeXBlcnR5RnJvbUhhc2hLZXksaSl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPSgwLGwuZW5jb2RlKSh7dmFsdWU6dS52YWx1ZSxoYXNoOigwLGwuZW5jb2RlKShlKSxpdjp1Lml2fSk7dy5ib2R5LnZhbHVlPXIsbih7bWVzc2FnZTp3LGNoYXRLZXlzOnR9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koIk9uIF9kb0hhbmRTaGFrZVBoYXNlIGZyb20gcmVwb3J0ZXJTZXNzaW9uS2V5IGVycm9yOiAiK2UpfSk7YnJlYWs7Y2FzZSJyZWNlaXZlckFja25vd2xlZGdlIjp5LmxvZygicmVjZWl2ZXJBY2tub3dsZWRnZSIpO3ZhciBTPSgwLGwuZGVjb2RlKShlLmJvZHkudmFsdWUpLFA9KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMuaGFzaCk7cz0oMCxsLmRlY29kZVRvVWludDhBcnJheSkoUy5pdik7dmFyIE89KDAsbC5kZWNvZGVUb1VpbnQ4QXJyYXkpKFMudmFsdWUpO3IuY3J5cHRvLmRlY3J5cHRBRVModC5rZXlzLmh5cGVydHlUb1Nlc3Npb25LZXksTyxzKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPXIuX2ZpbHRlck1lc3NhZ2VUb0hhc2goZSxuK3MpO3JldHVybiByLmNyeXB0by52ZXJpZnlITUFDKHQua2V5cy5oeXBlcnR5VG9IYXNoS2V5LGksUCl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdoYXNoUmVzdWx0ICcsIGhhc2hSZXN1bHQpOwp2YXIgcj10LmNhbGxiYWNrO3ImJnIoImhhbmRTaGFrZUVuZCIpLG4oImhhbmRTaGFrZUVuZCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gX2RvSGFuZFNoYWtlUGhhc2UgZnJvbSByZWNlaXZlckFja25vd2xlZGdlIGVycm9yOiAiK2UpfSk7YnJlYWs7ZGVmYXVsdDppKGUpfX0pfX0se2tleToiX2ZpbHRlck1lc3NhZ2VUb0hhc2giLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57dHlwZTplLnR5cGUsZnJvbTplLmZyb20sdG86ZS50byxib2R5OntpZGVudGl0eTpyfHxlLmJvZHkuaWRlbnRpdHksdmFsdWU6dHx8ZS5ib2R5LnZhbHVlLGhhbmRzaGFrZVBoYXNlOmUuYm9keS5oYW5kc2hha2VQaGFzZX19fX0se2tleToiX25ld0NoYXRDcnlwdG8iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLGk9cj9lLnRvOmUuZnJvbSxvPXI/ZS5mcm9tOmUudG8scz1uLl9pZG0uZ2V0SWRlbnRpdHkodCk7cmV0dXJue2h5cGVydHlGcm9tOntoeXBlcnR5OmksdXNlcklEOnMudXNlclByb2ZpbGUudXNlclVSTCwKLy9wcml2YXRlS2V5OiAiZ2V0TXlQdWJsaWNLZXkiLAovL3B1YmxpY0tleTogImdldE15UHJpdmF0ZUtleSIsCmFzc2VydGlvbjpzLmFzc2VydGlvbixtZXNzYWdlSW5mbzpzfSxoeXBlcnR5VG86e2h5cGVydHk6byx1c2VySUQ6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDAsYXNzZXJ0aW9uOnZvaWQgMH0sa2V5czp7aHlwZXJ0eVRvU2Vzc2lvbktleTp2b2lkIDAsaHlwZXJ0eUZyb21TZXNzaW9uS2V5OnZvaWQgMCxoeXBlcnR5VG9IYXNoS2V5OnZvaWQgMCxoeXBlcnR5RnJvbUhhc2hLZXk6dm9pZCAwLHRvUmFuZG9tOnZvaWQgMCxmcm9tUmFuZG9tOnZvaWQgMCxwcmVtYXN0ZXJLZXk6dm9pZCAwLG1hc3RlcktleTp2b2lkIDB9LGhhbmRzaGFrZUhpc3Rvcnk6e3NlbmRlckhlbGxvOnZvaWQgMCxyZWNlaXZlckhlbGxvOnZvaWQgMCxzZW5kZXJDZXJ0aWZpY2F0ZTp2b2lkIDAscmVjZWl2ZXJGaW5pc2hlZE1lc3NhZ2U6dm9pZCAwfSxpbml0aWFsTWVzc2FnZTplLmJvZHkuaWdub3JlP3ZvaWQgMDplLGNhbGxiYWNrOmUuY2FsbGJhY2ssYXV0aGVudGljYXRlZDohMSxkYXRhT2JqZWN0VVJMOmUuZGF0YU9iamVjdFVSTH19fSx7a2V5OiJnZXRNeVB1YmxpY0tleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wdWJsaWMpO3QuX2dlbmVyYXRlQW5kU3RvcmVOZXdBc3ltZXRyaWNLZXkoZSkudGhlbihmdW5jdGlvbihlKXtyKGUucHVibGljKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltnZXRNeVB1YmxpY0tleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHVibGljS2V5OnN0b3JhZ2VNYW5hZ2VyOmVycl06ICIrZS5tZXNzYWdlKSxuKGUpfSl9KX19LHtrZXk6ImdldE15UHJpdmF0ZUtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy51c2VyRGVmYXVsdEtleVJlZix0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldChlKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHIoaS5wcml2YXRlKTt0Ll9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7cihlLnByaXZhdGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7eS5lcnJvcigiW2dldE15UHJpdmF0ZUtleTpzdG9yYWdlTWFuYWdlcjplcnJdOiAiK2UubWVzc2FnZSksbihlKX0pfSl9fSx7a2V5OiJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXZvaWQgMDtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuY3J5cHRvLmdlbmVyYXRlUlNBS2V5UGFpcigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHkubG9nKCJfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTp1c2VyQXN5bW1ldHJpY0tleUdlbmVyYXRlZCIsbikscj1uLHQuc3RvcmFnZU1hbmFnZXIuc2V0KGUsMCxuKX0pLnRoZW4oZnVuY3Rpb24oZSl7eS5sb2coIl9nZW5lcmF0ZUFuZFN0b3JlTmV3QXN5bWV0cmljS2V5OnVzZXJBc3ltbWV0cmljS2V5U3VjY2VzcyIsZSksbihyKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoIltfZ2VuZXJhdGVBbmRTdG9yZU5ld0FzeW1ldHJpY0tleTplcnJdOiAiK2UubWVzc2FnZSksaShlKX0pfSl9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkQ3J5cHRvR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX1dKSxDcnlwdG9NYW5hZ2VyfSgpOy8qCmNvbnN0IG5vZGVKU0tleVBhaXJQb3B1bGF0ZSA9IHsgcHVibGljOiBbNDgsIDEzMCwgMSwgMzQsIDQ4LCAxMywgNiwgOSwgNDIsIDEzNCwgNzIsIDEzNCwgMjQ3LCAxMywgMSwgMSwgMSwgNSwgMCwgMywgMTMwLCAxLCAxNSwgMCwgNDgsIDEzMCwgMSwgMTAsIDIsIDEzMCwgMSwgMSwgMCwgMjI4LCA0MywgMTAxLCAxMiwgMTIxLCA3LCAxNTcsIDcxLCA4MSwgNTgsIDIxOSwgMzIsIDEwLCAxMDgsIDE5MywgMTc5LCAyMTIsIDExNiwgMjU1LCA1OSwgMjE3LCAzMiwgMTYxLCAyMDEsIDUzLCAxNzEsIDIyNiwgMTk5LCAxMzcsIDIwMiwgMTcxLCA2MCwgODIsIDUzLCAxMjUsIDYyLCAxNzcsIDEyNiwgMTY1LCAyNCwgMTQxLCAzMCwgMTUsIDIyNiwgNTksIDEwNywgMzQsIDcsIDEzLCAxNDksIDExMiwgMTI1LCAxMCwgMjMwLCAxOTEsIDE1NiwgMTY0LCAxNzcsIDEwLCAxODUsIDEzLCA2NiwgMywgMjE3LCAxNjYsIDI0NCwgOTAsIDExOSwgMTExLCAyNywgMTQ1LCAxMDQsIDcxLCAxODksIDE2NiwgMjI2LCAyNTUsIDEzMywgODMsIDE1MSwgMjMxLCAxMDEsIDE1MSwgODksIDIyLCAxOSwgNjUsIDE1NCwgMTAsIDUzLCAyMDgsIDIxOCwgMjUyLCAyMTksIDM3LCA1MCwgMjEyLCA4NiwgMTQ1LCAxMDcsIDEzMiwgOTAsIDIzMywgMjAyLCAyMjcsIDEwOCwgMTE0LCAxNDEsIDI5LCA3MywgMTg3LCAzMSwgMTMsIDIzNCwgMCwgMjMyLCAyNCwgMTkxLCAzNSwgMTQ5LCAxNzksIDEzOCwgMjE0LCAxNTksIDI0NSwgMTYyLCAxNDgsIDIyMSwgMTE4LCAxNywgMTA1LCA4OSwgMTUxLCAxNDYsIDIwOSwgNTUsIDIzNiwgNjEsIDE0MywgMjMzLCAyMjgsIDEwLCAxMTUsIDgsIDgxLCAxOTcsIDQ1LCAxMjMsIDE4NywgMjIzLCAxNzYsIDI1NCwgMTY1LCA2OSwgMTQzLCAyOSwgMTAwLCAxMTQsIDE3LCAxMzAsIDIyNiwgMjIzLCAzMywgMTEsIDI0MCwgODEsIDYxLCAxNzIsIDE5MSwgMTU3LCAyNDYsIDIwMiwgODcsIDEzMSwgMjIxLCA4OCwgNDgsIDEyNywgMTU5LCAxMTksIDE2MCwgMTUyLCAxMTcsIDYxLCAyNTMsIDE3NCwgNjUsIDIxNCwgMjAzLCAyMTgsIDYzLCA1MCwgNzgsIDE2MCwgMTgxLCAyMjEsIDIxMSwgMTI4LCA3MCwgMTc4LCAxOTEsIDE3MCwgMCwgMTMsIDEyMiwgMTczLCAxMiwgMjAzLCAyNTIsIDQsIDE4NCwgMjI1LCAyNTIsIDcsIDYyLCA5NiwgMTE2LCAxNSwgMjE2LCAxNTgsIDU1LCA4NSwgNDgsIDE2LCA5LCAyMDYsIDExOSwgNzQsIDExMiwgMjQzLCAxMzYsIDg0LCAxODQsIDIyMywgMjU0LCAxMDEsIDkxLCA2MSwgMTAsIDkxLCA4NSwgMTkyLCAxNDcsIDE0NCwgNTcsIDI5LCA2NiwgMjM4LCAxOTksIDI0NCwgMTkzLCAxOTQsIDE1MCwgMjMyLCAyMDAsIDEwNywgMiwgMywgMSwgMCwgMV0sCiAgcHJpdmF0ZTogWzQ4LCAxMzAsIDQsIDE5MSwgMiwgMSwgMCwgNDgsIDEzLCA2LCA5LCA0MiwgMTM0LCA3MiwgMTM0LCAyNDcsIDEzLCAxLCAxLCAxLCA1LCAwLCA0LCAxMzAsIDQsIDE2OSwgNDgsIDEzMCwgNCwgMTY1LCAyLCAxLCAwLCAyLCAxMzAsIDEsIDEsIDAsIDIyOCwgNDMsIDEwMSwgMTIsIDEyMSwgNywgMTU3LCA3MSwgODEsIDU4LCAyMTksIDMyLCAxMCwgMTA4LCAxOTMsIDE3OSwgMjEyLCAxMTYsIDI1NSwgNTksIDIxNywgMzIsIDE2MSwgMjAxLCA1MywgMTcxLCAyMjYsIDE5OSwgMTM3LCAyMDIsIDE3MSwgNjAsIDgyLCA1MywgMTI1LCA2MiwgMTc3LCAxMjYsIDE2NSwgMjQsIDE0MSwgMzAsIDE1LCAyMjYsIDU5LCAxMDcsIDM0LCA3LCAxMywgMTQ5LCAxMTIsIDEyNSwgMTAsIDIzMCwgMTkxLCAxNTYsIDE2NCwgMTc3LCAxMCwgMTg1LCAxMywgNjYsIDMsIDIxNywgMTY2LCAyNDQsIDkwLCAxMTksIDExMSwgMjcsIDE0NSwgMTA0LCA3MSwgMTg5LCAxNjYsIDIyNiwgMjU1LCAxMzMsIDgzLCAxNTEsIDIzMSwgMTAxLCAxNTEsIDg5LCAyMiwgMTksIDY1LCAxNTQsIDEwLCA1MywgMjA4LCAyMTgsIDI1MiwgMjE5LCAzNywgNTAsIDIxMiwgODYsIDE0NSwgMTA3LCAxMzIsIDkwLCAyMzMsIDIwMiwgMjI3LCAxMDgsIDExNCwgMTQxLCAyOSwgNzMsIDE4NywgMzEsIDEzLCAyMzQsIDAsIDIzMiwgMjQsIDE5MSwgMzUsIDE0OSwgMTc5LCAxMzgsIDIxNCwgMTU5LCAyNDUsIDE2MiwgMTQ4LCAyMjEsIDExOCwgMTcsIDEwNSwgODksIDE1MSwgMTQ2LCAyMDksIDU1LCAyMzYsIDYxLCAxNDMsIDIzMywgMjI4LCAxMCwgMTE1LCA4LCA4MSwgMTk3LCA0NSwgMTIzLCAxODcsIDIyMywgMTc2LCAyNTQsIDE2NSwgNjksIDE0MywgMjksIDEwMCwgMTE0LCAxNywgMTMwLCAyMjYsIDIyMywgMzMsIDExLCAyNDAsIDgxLCA2MSwgMTcyLCAxOTEsIDE1NywgMjQ2LCAyMDIsIDg3LCAxMzEsIDIyMSwgODgsIDQ4LCAxMjcsIDE1OSwgMTE5LCAxNjAsIDE1MiwgMTE3LCA2MSwgMjUzLCAxNzQsIDY1LCAyMTQsIDIwMywgMjE4LCA2MywgNTAsIDc4LCAxNjAsIDE4MSwgMjIxLCAyMTEsIDEyOCwgNzAsIDE3OCwgMTkxLCAxNzAsIDAsIDEzLCAxMjIsIDE3MywgMTIsIDIwMywgMjUyLCA0LCAxODQsIDIyNSwgMjUyLCA3LCA2MiwgOTYsIDExNiwgMTUsIDIxNiwgMTU4LCA1NSwgODUsIDQ4LCAxNiwgOSwgMjA2LCAxMTksIDc0LCAxMTIsIDI0MywgMTM2LCA4NCwgMTg0LCAyMjMsIDI1NCwgMTAxLCA5MSwgNjEsIDEwLCA5MSwgODUsIDE5MiwgMTQ3LCAxNDQsIDU3LCAyOSwgNjYsIDIzOCwgMTk5LCAyNDQsIDE5MywgMTk0LCAxNTAsIDIzMiwgMjAwLCAxMDcsIDIsIDMsIDEsIDAsIDEsIDIsIDEzMCwgMSwgMCwgMTAzLCAyNDQsIDEzNywgMTE4LCAxMTYsIDgyLCAxNCwgMjAzLCAxMDIsIDEwNywgMjUzLCA4OCwgMTIsIDE5OSwgMjIyLCA2MCwgMjQzLCAxMzYsIDg2LCAxNTcsIDc0LCAyMjQsIDE5MCwgNTMsIDExMywgNTcsIDE1NywgMjUwLCA0OSwgMTMwLCA5NiwgMzEsIDI1MiwgMTM2LCAxNTIsIDcwLCAxNDMsIDE3LCAyMTUsIDk2LCAxMDMsIDUxLCAxOCwgMzUsIDE0MSwgMjEyLCAyMTAsIDIwNSwgOSwgMjE2LCA4MywgNzAsIDI0NSwgNzEsIDEzOCwgMTE5LCAxMTIsIDIyOSwgMTY0LCAxNzYsIDksIDM3LCA4MSwgMTYxLCAxOTMsIDE1NCwgNjgsIDI0OSwgMTE1LCAxMDYsIDIwMSwgNiwgMTIsIDIyNSwgMTQ0LCAxMjYsIDE0MSwgMjEwLCAxNDEsIDI0MiwgMTI4LCAxNTksIDIyMSwgMTYzLCAyMjIsIDIxLCAyMzMsIDIzMCwgMTY3LCAyMDYsIDU5LCAyNCwgMjUwLCAyMzMsIDgxLCAxMjIsIDEwMiwgMjYsIDYsIDIzMywgNzIsIDEzMywgNDcsIDc3LCAxNTUsIDIzOCwgODYsIDYsIDEzOSwgMjQsIDEzMSwgMTYzLCAxNzksIDExMiwgNDgsIDI0NywgMTQyLCA2LCAyMDcsIDIwNCwgMTczLCAyMjMsIDE0MCwgMTk5LCAxNTAsIDk1LCAxMjMsIDE1MiwgMjAyLCAxNTUsIDEzMSwgMjM4LCA2MiwgOTYsIDEzMywgNCwgMjE3LCA1MSwgMTIxLCAzMCwgMzgsIDE3OCwgMTg5LCAyMTYsIDQ0LCAzNSwgMjQxLCA5MywgNywgNjIsIDkwLCAxMTEsIDIxNiwgNjYsIDIwOSwgMjQzLCAxMjgsIDIzNCwgMTQxLCA4NCwgMTM1LCAxODEsIDEzLCAzOCwgMjIwLCAxMTQsIDI0NSwgMjQwLCAxNzgsIDk1LCAyMjAsIDIwNiwgMTEsIDE4NiwgMjM0LCAyMTMsIDY2LCAxMjEsIDgzLCA2OCwgODksIDc1LCA0NiwgMTgzLCAxNDUsIDE4MywgMTQ3LCAxNjAsIDIxNSwgMTE4LCAxOTgsIDEyNSwgMTgxLCAxNDYsIDMwLCAyNTEsIDU4LCA4NywgNDcsIDIwOSwgMjM3LCA5NywgMjQsIDQ3LCAxNzksIDYsIDExMCwgMjQyLCA5OSwgMTUwLCAyMjYsIDE0OCwgMTk4LCAxNzQsIDE0NiwgMTAxLCAyMTMsIDg3LCAxNzgsIDEwLCAyMjMsIDEwNSwgMTgsIDU2LCA1MywgMjIsIDIxMiwgMTU4LCAxNzAsIDE3NiwgNTEsIDg2LCAxNDUsIDEyNSwgMTI0LCA0NCwgOSwgODUsIDE5LCAxNDQsIDI0NiwgMTcwLCA3OCwgMTI0LCAzMCwgMzIsIDEyLCAxNjYsIDE3NCwgMTM5LCA3NywgNjMsIDE3MywgODIsIDEwLCAxNTMsIDIsIDEyOSwgMTI5LCAwLCAyNDgsIDE4LCAxNDMsIDI0NiwgMTM3LCAxMzYsIDE0NSwgMjE5LCAxNzgsIDM5LCAyNywgOTQsIDY0LCA5MCwgNDcsIDE2MywgMTE0LCA2MCwgNjMsIDE4NywgMTMxLCAxNDMsIDI0NCwgMTYsIDQyLCAxMjgsIDIzMSwgMTE3LCA5MiwgOTgsIDIxOSwgMTU1LCA2MiwgMTA3LCAyNTIsIDE3LCAyNDUsIDQ1LCAxNjAsIDIyNSwgMTAzLCAxNDIsIDcyLCAzNiwgMTkzLCAxNTAsIDIzNSwgMjE0LCAxNzUsIDYyLCAyMTIsIDU2LCA0NSwgOSwgMCwgNjAsIDExNCwgMTA3LCAxMzQsIDIyOCwgMjA0LCAxMzEsIDEzMSwgMjE0LCA5NCwgMjAxLCAxNDgsIDE1OSwgOTksIDEzOSwgMTgxLCAxMywgMTE5LCAzOCwgMzAsIDEwNywgMTY2LCAxNjUsIDIwMywgNDMsIDM0LCAyMCwgMjA3LCAxNzEsIDMyLCA1OCwgMTY3LCA2MiwgMTk2LCAxNTMsIDEwMywgMjA0LCAyMTMsIDI0NywgNDgsIDExMSwgMjI3LCA1OSwgOTUsIDk3LCAxOTQsIDE4NywgNTMsIDEwLCAyNDcsIDEwOCwgNTgsIDg2LCAyOCwgMjksIDExMywgOCwgMTEwLCAxNzEsIDIyMCwgMjQ1LCAxMSwgODIsIDIzMywgMjIzLCA5MSwgNjgsIDE2NiwgMTE3LCAxNzQsIDE4NywgNjIsIDc3LCAyLCAxMjksIDEyOSwgMCwgMjM1LCAxMTgsIDIsIDEwNSwgMjM5LCAyMTIsIDMwLCAxMDQsIDE1NywgNDEsIDEwOSwgMTEsIDI0OCwgMTUyLCAyMiwgMjM2LCA5NywgNDAsIDE1MywgMTMxLCAyMjgsIDUsIDg2LCAxODcsIDExMywgMTI2LCAxNDQsIDc2LCAxNDEsIDc5LCAxMTAsIDI1MCwgMTQ2LCAxNTIsIDQ5LCA1OCwgMTU2LCAyMDEsIDE3NiwgOTIsIDE4OSwgMjA5LCAzMCwgMTEyLCAxMDgsIDE3NSwgMjA0LCAyMDQsIDI0NywgMTY0LCA0NiwgMTI5LCAyMzksIDk4LCAxMjcsIDQ5LCAxNDUsIDIxOCwgNjMsIDE5MywgMTI0LCAxNzQsIDE4LCA5OCwgMjAxLCA5OSwgMTU0LCAxNjIsIDEzOCwgNzgsIDE1OSwgMjUzLCAzLCAyNDgsIDMsIDIwOSwgMzYsIDIzOSwgMTkzLCAxNTUsIDE5MywgNSwgMTksIDIzNiwgMzcsIDc4LCAxMTgsIDEzNSwgMjUwLCAxOTksIDcsIDE0MSwgMjQ4LCAxMjAsIDM2LCAxMzYsIDkzLCA5OCwgMTc0LCA2MCwgMTgsIDIxNSwgOTMsIDE3NCwgMTA3LCAxNDEsIDExNiwgMTQ1LCAxNjcsIDIyMSwgMjEwLCAxNjksIDI0NywgNjcsIDI1NCwgMjIyLCAxNjEsIDEzNCwgNjMsIDIyMSwgOTAsIDg3LCA0MiwgOTksIDIyNywgODEsIDE3MywgMTUxLCAyLCAxMjksIDEyOSwgMCwgMTMzLCAyMywgMTY4LCAxMDMsIDgzLCAyMzIsIDE0NiwgMTYwLCAxODEsIDIzLCA0MCwgMzgsIDIwNCwgMTMsIDIxNCwgMjAzLCA0OSwgNDEsIDE5NSwgMjI3LCAxODksIDE4MSwgOCwgMjQzLCAxMTksIDEwNiwgNzUsIDY3LCAyNTAsIDI1MCwgMTAsIDIzNCwgOTgsIDExOCwgMjYsIDI1MCwgMzUsIDEyMSwgMTMyLCAxMjQsIDEwLCA3NiwgMjYsIDE5OCwgMTY1LCAxNTQsIDEwOCwgMTksIDExNywgODgsIDIzLCAxNywgMTkyLCAxNDMsIDE4NCwgMTc3LCAxODEsIDE0MSwgMTU3LCA0LCAxODUsIDI0OCwgMTkzLCA3NywgMjA0LCAyNDMsIDcsIDE3MCwgMjQwLCA0LCAxMTEsIDExMywgMTgzLCAwLCAyNywgMTM2LCAyMCwgMTksIDE0OSwgNzQsIDMzLCAyNDEsIDIxOCwgMTA4LCAyMzYsIDgwLCAxNzEsIDE0OCwgMTYsIDExNiwgOTcsIDEwOSwgODMsIDc0LCA4OCwgMTQ1LCA5NCwgMjM5LCAxMDIsIDE5MiwgMTksIDExNCwgMjA3LCA1LCAxMjgsIDUxLCAxMTEsIDE2NCwgMjM3LCA4NiwgMTU0LCA5OSwgNTIsIDE5NywgNjIsIDU3LCAxODIsIDYsIDE1MiwgMjQ1LCA2MSwgMTM3LCA1OCwgMTA1LCAxNTksIDIsIDg0LCAxMDksIDIsIDEyOSwgMTI5LCAwLCAyMjYsIDY3LCAxMTEsIDEzMiwgOTUsIDkxLCAxMDEsIDE3NywgNjMsIDE4OSwgNDQsIDUzLCAxOTMsIDE4NCwgOTIsIDIzMCwgMjIzLCA5OCwgMTMzLCA3NCwgMjA5LCA4NiwgNTIsIDcsIDY1LCAxOTUsIDIwNiwgMTAwLCA4MSwgMTc4LCAxNDQsIDY1LCAxNjcsIDE1MSwgNDIsIDc5LCA4OSwgMTQ5LCAxOCwgMTczLCAxODgsIDIxLCAyNDQsIDI1MSwgNDksIDIzMCwgNDEsIDE1MCwgMTUzLCA0NiwgMzUsIDM4LCAyMzEsIDk5LCAxNzQsIDU2LCAxMTUsIDMyLCAyMTUsIDI1MywgODUsIDE0NywgMTA4LCAxOTcsIDE0NywgMzQsIDIzNiwgMjE2LCAyMjIsIDE3NywgNTcsIDkwLCAxMzYsIDExNCwgMjA3LCA0OCwgNDYsIDMxLCA5MCwgMjIwLCAxOCwgNTgsIDE0MywgMjM5LCAxMTEsIDIxNCwgMjcsIDk1LCA2LCAzNiwgNTMsIDIyOSwgNjIsIDEwOCwgNDUsIDM5LCAxLCAzMCwgNDcsIDE3OCwgNTYsIDE2NCwgMjA2LCA1NiwgNDIsIDIwOCwgNDYsIDE5MywgNjEsIDMxLCAxNDcsIDQ1LCAxNDcsIDIzLCAxODcsIDIyLCA1MCwgMjU1LCAxMTEsIDIyOSwgMTMyLCAxOTksIDE1MiwgNzUsIDE0MiwgMTM2LCAyMDksIDE1MSwgMiwgMTI5LCAxMjksIDAsIDE2NSwgNTYsIDIzMiwgNzYsIDU1LCA1NywgMjQwLCAxNTksIDkyLCAyMDcsIDIyMCwgMTQzLCAxMzAsIDMwLCA1NywgMjM0LCAyNTEsIDE3MiwgMTcxLCAxODAsIDU0LCAxNTksIDIyOSwgOTYsIDI0NiwgNzMsIDExMiwgMTQ2LCA3NSwgMTU3LCAyNDIsIDIwMSwgMTYxLCAyMTgsIDM3LCAxNzYsIDM1LCAxNzAsIDUwLCA5MCwgMTQ4LCAxMDIsIDE5MSwgMTk5LCAyMzksIDE3NCwgNzgsIDcyLCA2NywgODUsIDE5OSwgNDUsIDE0OSwgMTQ1LCAxMzIsIDE2MSwgMjEyLCAzMywgMTU3LCA3NSwgMjE2LCA3OSwgMzksIDIzMywgMTgsIDIxMCwgMjU1LCAyNiwgNzIsIDIyOSwgMjM5LCA0NCwgMTIsIDE0NywgMTU4LCAxNzYsIDE5MiwgOTUsIDEyNiwgMzIsIDE3NSwgMjMsIDIyNiwgMTMxLCAxMzksIDE5NywgMTc1LCAxOTMsIDYyLCA4LCAxNTEsIDI1MiwgNjgsIDE1NCwgOTQsIDg5LCAxODksIDEyNSwgOTAsIDMwLCAzNiwgMTc1LCA3MywgMjMwLCAxOTQsIDEzLCAyMzMsIDI0NywgMTIzLCA2MCwgMjQxLCA0NywgMTcxLCA1MSwgMTg5LCAxMTIsIDExMSwgMjEzLCAxNDEsIDg5LCA3MCwgMjQ5LCAyMzYsIDYzLCAyMzYsIDExMCwgMTE1LCAyMDhdfTsKKi8KdC5kZWZhdWx0PW5ldyBoLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDEwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig2KSxpPXIoNCkuZG9jdW1lbnQsbz1uKGkpJiZuKGkuY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudChlKTp7fX19LC8qIDEwMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMjcpLG89cig0Mykscz1yKDE0OSksYT1yKDEyKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDEwNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig4MCkoImtleXMiKSxpPXIoNDkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09aShlKSl9fSwvKiAxMDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5cwplLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sLyogMTA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLmRvY3VtZW50O2UuZXhwb3J0cz1uJiZuLmRvY3VtZW50RWxlbWVudH0sLyogMTA3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuCi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovCnZhciBuPXIoNiksaT1yKDMpLG89ZnVuY3Rpb24oZSx0KXtpZihpKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTtlLmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/Ly8gZXNsaW50LWRpc2FibGUtbGluZQpmdW5jdGlvbihlLHQsbil7dHJ5e249cigyOCkoRnVuY3Rpb24uY2FsbCxyKDI1KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIG8oZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sLyogMTA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSJcdFxuXHZcZlxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXHUyMDI4XHUyMDI5XHVmZWZmIn0sLyogMTA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cigxMDcpLnNldDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvLHM9dC5jb25zdHJ1Y3RvcjtyZXR1cm4gcyE9PXImJiJmdW5jdGlvbiI9PXR5cGVvZiBzJiYobz1zLnByb3RvdHlwZSkhPT1yLnByb3RvdHlwZSYmbihvKSYmaSYmaShlLG8pLGV9fSwvKiAxMTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMzKSxpPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcoaSh0aGlzKSkscj0iIixvPW4oZSk7aWYobzwwfHxvPT0xLzApdGhyb3cgUmFuZ2VFcnJvcigiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmUiKTtmb3IoO28+MDsobz4+Pj0xKSYmKHQrPXQpKTEmbyYmKHIrPXQpO3JldHVybiByfX0sLyogMTExICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeCkKZS5leHBvcnRzPU1hdGguc2lnbnx8ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIDA9PShlPStlKXx8ZSE9ZT9lOmU8MD8tMToxfX0sLyogMTEyICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciByPU1hdGguZXhwbTE7ZS5leHBvcnRzPSFyfHxyKDEwKT4yMjAyNS40NjU3OTQ4MDY3MTh8fHIoMTApPDIyMDI1LjQ2NTc5NDgwNjcxOHx8LTJlLTE3IT1yKC0yZS0xNyk/ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlPStlKT9lOmU+LTFlLTYmJmU8MWUtNj9lK2UqZS8yOk1hdGguZXhwKGUpLTF9OnJ9LC8qIDExMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzMyksaT1yKDMyKTsKLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0Ci8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdAplLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG8scyxhPVN0cmluZyhpKHQpKSx1PW4ociksYz1hLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1jP2U/IiI6dm9pZCAwOihvPWEuY2hhckNvZGVBdCh1KSxvPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1jfHwocz1hLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fHM+NTczNDM/ZT9hLmNoYXJBdCh1KTpvOmU/YS5zbGljZSh1LHUrMik6cy01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2KX19fSwvKiAxMTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQzKSxpPXIoMCksbz1yKDE5KSxzPXIoMTgpLGE9cig2MyksdT1yKDExNSksYz1yKDYxKSxmPXIoMjYpLGw9cig4KSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLHksaCx2LGcpe3Uocix0LHkpO3ZhciBiLG0sXyxSPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIE8pcmV0dXJuIE9bZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LHc9dCsiIEl0ZXJhdG9yIixTPSJ2YWx1ZXMiPT1oLFA9ITEsTz1lLnByb3RvdHlwZSxNPU9bbF18fE9bIkBAaXRlcmF0b3IiXXx8aCYmT1toXSxrPU18fFIoaCksTD1oP1M/UigiZW50cmllcyIpOms6dm9pZCAwLHg9IkFycmF5Ij09dD9PLmVudHJpZXN8fE06TTtpZigKLy8gRml4IG5hdGl2ZQp4JiYoXz1mKHguY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJl8ubmV4dCYmKAovLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCmMoXyx3LCEwKSwKLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzCm58fCJmdW5jdGlvbiI9PXR5cGVvZiBfW2xdfHxzKF8sbCxwKSksCi8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkYKUyYmTSYmInZhbHVlcyIhPT1NLm5hbWUmJihQPSEwLGs9ZnVuY3Rpb24oKXtyZXR1cm4gTS5jYWxsKHRoaXMpfSksCi8vIERlZmluZSBpdGVyYXRvcgpuJiYhZ3x8IWQmJiFQJiZPW2xdfHxzKE8sbCxrKSwKLy8gUGx1ZyBmb3IgbGlicmFyeQphW3RdPWssYVt3XT1wLGgpaWYoYj17dmFsdWVzOlM/azpSKCJ2YWx1ZXMiKSxrZXlzOnY/azpSKCJrZXlzIiksZW50cmllczpMfSxnKWZvcihtIGluIGIpbSBpbiBPfHxvKE8sbSxiW21dKTtlbHNlIGkoaS5QK2kuRiooZHx8UCksdCxiKTtyZXR1cm4gYn19LC8qIDExNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTIpLGk9cig0OCksbz1yKDYxKSxzPXt9OwovLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKQpyKDE4KShzLHIoOCkoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihzLHtuZXh0OmkoMSxyKX0pLG8oZSx0KyIgSXRlcmF0b3IiKX19LC8qIDExNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGhlbHBlciBmb3IgU3RyaW5nI3tzdGFydHNXaXRoLCBlbmRzV2l0aCwgaW5jbHVkZXN9CnZhciBuPXIoODQpLGk9cigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKHQpKXRocm93IFR5cGVFcnJvcigiU3RyaW5nIyIrcisiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4ISIpO3JldHVybiBTdHJpbmcoaShlKSl9fSwvKiAxMTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gocil7dHJ5e3JldHVybiB0W25dPSExLCEiLy4vIltlXSh0KX1jYXRjaChlKXt9fXJldHVybiEwfX0sLyogMTE4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvcgp2YXIgbj1yKDYzKSxpPXIoOCkoIml0ZXJhdG9yIiksbz1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fG9baV09PT1lKX19LC8qIDExOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTIpLGk9cig0OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt0IGluIGU/bi5mKGUsdCxpKDAscikpOmVbdF09cn19LC8qIDEyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3MiksaT1yKDgpKCJpdGVyYXRvciIpLG89cig2Myk7ZS5leHBvcnRzPXIoMjcpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9ZSlyZXR1cm4gZVtpXXx8ZVsiQEBpdGVyYXRvciJdfHxvW24oZSldfX0sLyogMTIxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gOS40LjIuMyBBcnJheVNwZWNpZXNDcmVhdGUob3JpZ2luYWxBcnJheSwgbGVuZ3RoKQp2YXIgbj1yKDMwNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyhuKGUpKSh0KX19LC8qIDEyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigxNSksaT1yKDUxKSxvPXIoMTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bih0aGlzKSxyPW8odC5sZW5ndGgpLHM9YXJndW1lbnRzLmxlbmd0aCxhPWkocz4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsciksdT1zPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxjPXZvaWQgMD09PXU/cjppKHUscik7Yz5hOyl0W2ErK109ZTtyZXR1cm4gdH19LC8qIDEyMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDQpLGk9cigxNjUpLG89cig2Mykscz1yKDI0KTsKLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKQovLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKQovLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpCi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKQplLmV4cG9ydHM9cigxMTQpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MCwvLyBuZXh0IGluZGV4CnRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGkoMSkpOiJrZXlzIj09dD9pKDAscik6InZhbHVlcyI9PXQ/aSgwLGVbcl0pOmkoMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSwKLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KQpvLkFyZ3VtZW50cz1vLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LC8qIDEyNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG4saSxvLHM9cigyOCksYT1yKDE1NSksdT1yKDEwNiksYz1yKDEwMiksZj1yKDQpLGw9Zi5wcm9jZXNzLGQ9Zi5zZXRJbW1lZGlhdGUscD1mLmNsZWFySW1tZWRpYXRlLHk9Zi5NZXNzYWdlQ2hhbm5lbCxoPWYuRGlzcGF0Y2gsdj0wLGc9e30sYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCmlmKGcuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PWdbZV07ZGVsZXRlIGdbZV0sdCgpfX0sbT1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07Ci8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZToKZCYmcHx8KGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIGdbKyt2XT1mdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKYSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKHYpLHZ9LHA9ZnVuY3Rpb24oZSl7ZGVsZXRlIGdbZV19LAovLyBOb2RlLmpzIDAuOC0KInByb2Nlc3MiPT1yKDI5KShsKT9uPWZ1bmN0aW9uKGUpe2wubmV4dFRpY2socyhiLGUsMSkpfTpoJiZoLm5vdz9uPWZ1bmN0aW9uKGUpe2gubm93KHMoYixlLDEpKX06eT8oaT1uZXcgeSxvPWkucG9ydDIsaS5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoby5wb3N0TWVzc2FnZSxvLDEpKTpmLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWYuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtmLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj0ib25yZWFkeXN0YXRlY2hhbmdlImluIGMoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYygic2NyaXB0IikpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3UucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChzKGIsZSwxKSwwKX0pLGUuZXhwb3J0cz17c2V0OmQsY2xlYXI6cH19LC8qIDEyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMTI0KS5zZXQsbz1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW4ucHJvY2VzcyxhPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09cigyOSkocyk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGM9ZnVuY3Rpb24oKXt2YXIgbixpO2Zvcih1JiYobj1zLmRvbWFpbikmJm4uZXhpdCgpO2U7KXtpPWUuZm4sZT1lLm5leHQ7dHJ5e2koKX1jYXRjaChuKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxufX10PXZvaWQgMCxuJiZuLmVudGVyKCl9OwovLyBOb2RlLmpzCmlmKHUpcj1mdW5jdGlvbigpe3MubmV4dFRpY2soYyl9O2Vsc2UgaWYoIW98fG4ubmF2aWdhdG9yJiZuLm5hdmlnYXRvci5zdGFuZGFsb25lKWlmKGEmJmEucmVzb2x2ZSl7Ci8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyCnZhciBmPWEucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpewovLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpCmkuY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBvKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3CnI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PWkpLGV8fChlPWkscigpKSx0PWl9fX0sLyogMTI2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX0KLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQykKdmFyIG49cigxNik7ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShlKX19LC8qIDEyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NApmdW5jdGlvbiBwYWNrSUVFRTc1NChlLHQscil7dmFyIG4saSxvLHM9bmV3IEFycmF5KHIpLGE9OCpyLXQtMSx1PSgxPDxhKS0xLGM9dT4+MSxmPTIzPT09dD9rKDIsLTI0KS1rKDIsLTc3KTowLGw9MCxkPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NKGUpLAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmUhPWV8fGU9PT1QPygKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppPWUhPWU/MTowLG49dSk6KG49TCh4KGUpL0UpLGUqKG89aygyLC1uKSk8MSYmKG4tLSxvKj0yKSxlKz1uK2M+PTE/Zi9vOmYqaygyLDEtYyksZSpvPj0yJiYobisrLG8vPTIpLG4rYz49dT8oaT0wLG49dSk6bitjPj0xPyhpPShlKm8tMSkqaygyLHQpLG4rPWMpOihpPWUqaygyLGMtMSkqaygyLHQpLG49MCkpO3Q+PTg7c1tsKytdPTI1NSZpLGkvPTI1Nix0LT04KTtmb3Iobj1uPDx0fGksYSs9dDthPjA7c1tsKytdPTI1NSZuLG4vPTI1NixhLT04KTtyZXR1cm4gc1stLWxdfD0xMjgqZCxzfWZ1bmN0aW9uIHVucGFja0lFRUU3NTQoZSx0LHIpe3ZhciBuLGk9OCpyLXQtMSxvPSgxPDxpKS0xLHM9bz4+MSxhPWktNyx1PXItMSxjPWVbdS0tXSxmPTEyNyZjO2ZvcihjPj49NzthPjA7Zj0yNTYqZitlW3VdLHUtLSxhLT04KTtmb3Iobj1mJigxPDwtYSktMSxmPj49LWEsYSs9dDthPjA7bj0yNTYqbitlW3VdLHUtLSxhLT04KTtpZigwPT09ZilmPTEtcztlbHNle2lmKGY9PT1vKXJldHVybiBuP05hTjpjPy1QOlA7bis9aygyLHQpLGYtPXN9cmV0dXJuKGM/LTE6MSkqbiprKDIsZi10KX1mdW5jdGlvbiB1bnBhY2tJMzIoZSl7cmV0dXJuIGVbM108PDI0fGVbMl08PDE2fGVbMV08PDh8ZVswXX1mdW5jdGlvbiBwYWNrSTgoZSl7cmV0dXJuWzI1NSZlXX1mdW5jdGlvbiBwYWNrSTE2KGUpe3JldHVyblsyNTUmZSxlPj44JjI1NV19ZnVuY3Rpb24gcGFja0kzMihlKXtyZXR1cm5bMjU1JmUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV19ZnVuY3Rpb24gcGFja0Y2NChlKXtyZXR1cm4gcGFja0lFRUU3NTQoZSw1Miw4KX1mdW5jdGlvbiBwYWNrRjMyKGUpe3JldHVybiBwYWNrSUVFRTc1NChlLDIzLDQpfWZ1bmN0aW9uIGFkZEdldHRlcihlLHQscil7aChlW2JdLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdfX0pfWZ1bmN0aW9uIGdldChlLHQscixuKXt2YXIgaT0rcixvPXAoaSk7aWYobyt0PmVbVV0pdGhyb3cgUyhtKTt2YXIgcz1lW0FdLl9iLGE9bytlW0RdLHU9cy5zbGljZShhLGErdCk7cmV0dXJuIG4/dTp1LnJldmVyc2UoKX1mdW5jdGlvbiBzZXQoZSx0LHIsbixpLG8pe3ZhciBzPStyLGE9cChzKTtpZihhK3Q+ZVtVXSl0aHJvdyBTKG0pO2Zvcih2YXIgdT1lW0FdLl9iLGM9YStlW0RdLGY9bigraSksbD0wO2w8dDtsKyspdVtjK2xdPWZbbz9sOnQtbC0xXX12YXIgbj1yKDQpLGk9cigxMSksbz1yKDQzKSxzPXIoOTEpLGE9cigxOCksdT1yKDU3KSxjPXIoNSksZj1yKDU1KSxsPXIoMzMpLGQ9cigxMykscD1yKDE3NCkseT1yKDUzKS5mLGg9cigxMikuZix2PXIoMTIyKSxnPXIoNjEpLGI9InByb3RvdHlwZSIsbT0iV3JvbmcgaW5kZXghIixfPW4uQXJyYXlCdWZmZXIsUj1uLkRhdGFWaWV3LHc9bi5NYXRoLFM9bi5SYW5nZUVycm9yLFA9bi5JbmZpbml0eSxPPV8sTT13LmFicyxrPXcucG93LEw9dy5mbG9vcix4PXcubG9nLEU9dy5MTjIsQT1pPyJfYiI6ImJ1ZmZlciIsVT1pPyJfbCI6ImJ5dGVMZW5ndGgiLEQ9aT8iX28iOiJieXRlT2Zmc2V0IjtpZihzLkFCVil7aWYoIWMoZnVuY3Rpb24oKXtfKDEpfSl8fCFjKGZ1bmN0aW9uKCl7bmV3IF8oLTEpfSl8fGMoZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwovLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwpyZXR1cm4gbmV3IF8sbmV3IF8oMS41KSxuZXcgXyhOYU4pLCJBcnJheUJ1ZmZlciIhPV8ubmFtZX0pKXtfPWZ1bmN0aW9uKGUpe3JldHVybiBmKHRoaXMsXyksbmV3IE8ocChlKSl9O2Zvcih2YXIgSSxqPV9bYl09T1tiXSxUPXkoTyksQz0wO1QubGVuZ3RoPkM7KShJPVRbQysrXSlpbiBffHxhKF8sSSxPW0ldKTtvfHwoai5jb25zdHJ1Y3Rvcj1fKX0KLy8gaU9TIFNhZmFyaSA3LnggYnVnCnZhciBGPW5ldyBSKG5ldyBfKDIpKSxOPVJbYl0uc2V0SW50ODtGLnNldEludDgoMCwyMTQ3NDgzNjQ4KSxGLnNldEludDgoMSwyMTQ3NDgzNjQ5KSwhRi5nZXRJbnQ4KDApJiZGLmdldEludDgoMSl8fHUoUltiXSx7c2V0SW50ODpmdW5jdGlvbihlLHQpe04uY2FsbCh0aGlzLGUsdDw8MjQ+PjI0KX0sc2V0VWludDg6ZnVuY3Rpb24oZSx0KXtOLmNhbGwodGhpcyxlLHQ8PDI0Pj4yNCl9fSwhMCl9ZWxzZSBfPWZ1bmN0aW9uKGUpe2YodGhpcyxfLCJBcnJheUJ1ZmZlciIpO3ZhciB0PXAoZSk7dGhpcy5fYj12LmNhbGwobmV3IEFycmF5KHQpLDApLHRoaXNbVV09dH0sUj1mdW5jdGlvbihlLHQscil7Zih0aGlzLFIsIkRhdGFWaWV3IiksZihlLF8sIkRhdGFWaWV3Iik7dmFyIG49ZVtVXSxpPWwodCk7aWYoaTwwfHxpPm4pdGhyb3cgUygiV3Jvbmcgb2Zmc2V0ISIpO2lmKHI9dm9pZCAwPT09cj9uLWk6ZChyKSxpK3I+bil0aHJvdyBTKCJXcm9uZyBsZW5ndGghIik7dGhpc1tBXT1lLHRoaXNbRF09aSx0aGlzW1VdPXJ9LGkmJihhZGRHZXR0ZXIoXywiYnl0ZUxlbmd0aCIsIl9sIiksYWRkR2V0dGVyKFIsImJ1ZmZlciIsIl9iIiksYWRkR2V0dGVyKFIsImJ5dGVMZW5ndGgiLCJfbCIpLGFkZEdldHRlcihSLCJieXRlT2Zmc2V0IiwiX28iKSksdShSW2JdLHtnZXRJbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdPDwyND4+MjR9LGdldFVpbnQ4OmZ1bmN0aW9uKGUpe3JldHVybiBnZXQodGhpcywxLGUpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbihlKXt2YXIgdD1nZXQodGhpcywyLGUsYXJndW1lbnRzWzFdKTtyZXR1cm4odFsxXTw8OHx0WzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0KHRoaXMsMixlLGFyZ3VtZW50c1sxXSk7cmV0dXJuIHRbMV08PDh8dFswXX0sZ2V0SW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0kzMihnZXQodGhpcyw0LGUsYXJndW1lbnRzWzFdKSl9LGdldFVpbnQzMjpmdW5jdGlvbihlKXtyZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLDQsZSxhcmd1bWVudHNbMV0pKT4+PjB9LGdldEZsb2F0MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsNCxlLGFyZ3VtZW50c1sxXSksMjMsNCl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsOCxlLGFyZ3VtZW50c1sxXSksNTIsOCl9LHNldEludDg6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywxLGUscGFja0k4LHQpfSxzZXRVaW50ODpmdW5jdGlvbihlLHQpe3NldCh0aGlzLDEsZSxwYWNrSTgsdCl9LHNldEludDE2OmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsMixlLHBhY2tJMTYsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MTY6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcywyLGUscGFja0kxNix0LGFyZ3VtZW50c1syXSl9LHNldEludDMyOmZ1bmN0aW9uKGUsdCl7c2V0KHRoaXMsNCxlLHBhY2tJMzIsdCxhcmd1bWVudHNbMl0pfSxzZXRVaW50MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0kzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0MzI6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw0LGUscGFja0YzMix0LGFyZ3VtZW50c1syXSl9LHNldEZsb2F0NjQ6ZnVuY3Rpb24oZSx0KXtzZXQodGhpcyw4LGUscGFja0Y2NCx0LGFyZ3VtZW50c1syXSl9fSk7ZyhfLCJBcnJheUJ1ZmZlciIpLGcoUiwiRGF0YVZpZXciKSxhKFJbYl0scy5WSUVXLCEwKSx0LkFycmF5QnVmZmVyPV8sdC5EYXRhVmlldz1SfSwvKiAxMjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQxOCkoITApOwovLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCnIoMTgzKShTdHJpbmcsIlN0cmluZyIsZnVuY3Rpb24oZSl7dGhpcy5fdD1TdHJpbmcoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0sLyogMTI5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIDcuMS40IFRvSW50ZWdlcgp2YXIgcj1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP246cikoZSl9fSwvKiAxMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkKZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiK2UpO3JldHVybiBlfX0sLyogMTMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM2KSxpPXIoMTcpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSwvKiAxMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSkKdmFyIG49cigzNik7Ci8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlCi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nCmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LC8qIDEzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQp2YXIgbj1yKDQxKSxpPXIoNDIwKSxvPXIoMTM3KSxzPXIoMTM1KSgiSUVfUFJPVE8iKSxhPWZ1bmN0aW9uKCl7fSx1PWZ1bmN0aW9uKCl7Ci8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnCnZhciBlLHQ9cigxMzEpKCJpZnJhbWUiKSxuPW8ubGVuZ3RoO2Zvcih0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHIoMTg4KS5hcHBlbmRDaGlsZCh0KSx0LnNyYz0iamF2YXNjcmlwdDoiLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybAovLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0OwovLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7CmU9dC5jb250ZW50V2luZG93LmRvY3VtZW50LGUub3BlbigpLGUud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8XC9zY3JpcHQ+IiksZS5jbG9zZSgpLHU9ZS5GO24tLTspZGVsZXRlIHUucHJvdG90eXBlW29bbl1dO3JldHVybiB1KCl9O2UuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciByOwovLyBhZGQgIl9fcHJvdG9fXyIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbApyZXR1cm4gbnVsbCE9PWU/KGEucHJvdG90eXBlPW4oZSkscj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLHJbc109ZSk6cj11KCksdm9pZCAwPT09dD9yOmkocix0KX19LC8qIDEzNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDcuMS4xNSBUb0xlbmd0aAp2YXIgbj1yKDEyOSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LC8qIDEzNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMzYpKCJrZXlzIiksaT1yKDk2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkoZSkpfX0sLyogMTM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEwKSxpPXIoMTcpLG89aVsiX19jb3JlLWpzX3NoYXJlZF9fIl18fChpWyJfX2NvcmUtanNfc2hhcmVkX18iXT17fSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBvW2VdfHwob1tlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjpuLnZlcnNpb24sbW9kZTpyKDczKT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSwvKiAxMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5cwplLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sLyogMTM4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoZSl7dmFyIHQscjt0aGlzLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1yKXRocm93IFR5cGVFcnJvcigiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPW4odCksdGhpcy5yZWplY3Q9bihyKX0KLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQykKdmFyIG49cig5NSk7ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShlKX19LC8qIDEzOSAqLwovKioqLwpmdW5jdGlvbihlLHQpe3QuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSwvKiAxNDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3QuZj1yKDIyKX0sLyogMTQxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3KSxpPXIoMTApLG89cig3Mykscz1yKDE0MCksYT1yKDQwKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fGEodCxlLHt2YWx1ZTpzLmYoZSl9KX19LC8qIDE0MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig3OCksaT1yKDc0KSxvPXIoNDYpLHM9cigxMzIpLGE9cig1OSksdT1yKDE4NCksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yKDQ1KT9jOmZ1bmN0aW9uKGUsdCl7aWYoZT1vKGUpLHQ9cyh0LCEwKSx1KXRyeXtyZXR1cm4gYyhlLHQpfWNhdGNoKGUpe31pZihhKGUsdCkpcmV0dXJuIGkoIW4uZi5jYWxsKGUsdCksZVt0XSl9fSwvKiAxNDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dC5ydW50aW1lVXRpbHM9e3J1bnRpbWVEZXNjcmlwdG9yOnt9LHJ1bnRpbWVDYXBhYmlsaXRpZXM6e2NvbnN0cmFpbnRzOnt9fX19LC8qIDE0NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt0LnJ1bnRpbWVDb25maWd1cmF0aW9uPXsKLy8gVE9ETyB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkIHdpdGggdGhlIGRlZmluaXRpb24gdXNlZCBmb3IgaW5kZXhlZGRiCi8vIGxvb2sgYXQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JREJPYmplY3RTdG9yZQovLyBOb3cgd2UgYXJlIHVzaW5nIHRoZSBkZWZpbml0aW9uIGZvciBEZXhpZTsgKGh0dHA6Ly9kZXhpZS5vcmcvZG9jcy9WZXJzaW9uL1ZlcnNpb24uc3RvcmVzKCkpCnN0b3JhZ2VTY2hlbWFzOntjYXBhYmlsaXRpZXM6e2NhcGFiaWxpdGllczoia2V5LHZlcnNpb24sdmFsdWUifSxzdWJzY3JpcHRpb25zOntzdWJzY3JpcHRpb25zOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHJ1bnRpbWU6eyJydW50aW1lOlVSTCI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicDJwSGFuZGxlcjpVUkwiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHJlZ2lzdHJ5OnsicmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJlZ2lzdHJ5Okh5cGVydHlVUkxzIjoia2V5LHZlcnNpb24sdmFsdWUifSxjcnlwdG9NYW5hZ2VyOnt1c2VyQXN5bW1ldHJpY0tleToia2V5LHZlcnNpb24sdmFsdWUiLGRhdGFPYmplY3RTZXNzaW9uS2V5czoia2V5LHZlcnNpb24sdmFsdWUifSxpZGVudGl0eTp7YWNjZXNzVG9rZW5zOiJrZXksdmVyc2lvbix2YWx1ZSIsaWRlbnRpdGllczoidXNlclVSTCwgdXNlclByb2ZpbGUuZW1haWwsIHVzZXJQcm9maWxlLnVzZXJVUkwsIHVzZXJQcm9maWxlLm5hbWUifSxydW50aW1lQ2F0YWxvZ3VlOntydW50aW1lQ2F0YWxvZ3VlOiImY2d1aWQsIGFjY2Vzc0NvbnRyb2xQb2xpY3ksIGNvbnN0cmFpbnRzLCBkYXRhT2JqZWN0cywgaHlwZXJ0eVR5cGUsIG9iamVjdE5hbWUsIHNvdXJjZVBhY2thZ2UsIHZlcnNpb24ifSxwb2xpY3k6eyJyZXRoaW5rOmFjdGl2ZVBvbGljeSI6ImtleSx2ZXJzaW9uLHZhbHVlIiwicmV0aGluazpncm91cHMiOiJrZXksdmVyc2lvbix2YWx1ZSIsInJldGhpbms6dXNlclBvbGljaWVzIjoia2V5LHZlcnNpb24sdmFsdWUiLCJyZXRoaW5rOnNwUG9saWNpZXMiOiJrZXksdmVyc2lvbix2YWx1ZSJ9LHN5bmNoZXJNYW5hZ2VyOnsic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyI6ImtleSx2ZXJzaW9uLHZhbHVlIn0saHlwZXJ0eVJlc291cmNlczp7aHlwZXJ0eVJlc291cmNlczoiJnJlc291cmNlVVJMLCBuYW1lLCBjb250ZW50VXJsLCBjb250ZW50LCBjcmVhdGVkLCByZXBvcnRlciwgcmVzb3VyY2VUeXBlIn19LHJ1bnRpbWVVUkxTOntyZWdpc3RyeTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoicmVnaXN0cnkifSxpZGVudGl0eU1vZHVsZTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL2lkbSJ9LHJ1bnRpbWVVQTp7cHJlZml4OiJoeXBlcnR5LXJ1bnRpbWU6Ly8iLHN1ZmZpeDoiL3VhIn0sY2F0YWxvZ3VlOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvY2F0YWxvZ3VlIn0sZ3JhcGhDb25uZWN0b3I6e3ByZWZpeDoiaHlwZXJ0eS1ydW50aW1lOi8vIixzdWZmaXg6Ii9ncmFwaCJ9LHN5bmNNYW5hZ2VyOntwcmVmaXg6Imh5cGVydHktcnVudGltZTovLyIsc3VmZml4OiIvc20ifX0sY2F0YWxvZ3VlVVJMczp7cHJvdG9jb2xzdHViOntwcmVmaXg6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiIsc3VmZml4OiIvLndlbGwta25vd24vcHJvdG9jb2xzdHViLyIsZmFsbGJhY2s6Imh5cGVydHktY2F0YWxvZ3VlOi8vY2F0YWxvZ3VlLiVkb21haW4lLy53ZWxsLWtub3duL3Byb3RvY29sc3R1Yi8ifSxpZHBQcm94eTp7cHJlZml4OiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4iLHN1ZmZpeDoiLy53ZWxsLWtub3duL2lkcC1wcm94eS8iLGZhbGxiYWNrOiJoeXBlcnR5LWNhdGFsb2d1ZTovL2NhdGFsb2d1ZS4lZG9tYWluJS8ud2VsbC1rbm93bi9pZHAtcHJveHkvIn19LG1zZ05vZGVVUkw6e3ByZWZpeDoiZG9tYWluOi8vbXNnLW5vZGUuIixzdWZmaXg6IiIsaHlwZXJ0eUFkZHJlc3NBbGxvY2F0aW9uOiIvaHlwZXJ0eS1hZGRyZXNzLWFsbG9jYXRpb24iLG9iamVjdEFkZHJlc3NBbGxvY2F0aW9uOiIvb2JqZWN0LWFkZHJlc3MtYWxsb2NhdGlvbiIsc3Vic2NyaXB0aW9uTWFuYWdlbWVudDoiL3NtIn0sZG9tYWluUmVnaXN0cnlVUkw6e3ByZWZpeDoiZG9tYWluOi8vcmVnaXN0cnkuIixzdWZmaXg6IiJ9LGdsb2JhbFJlZ2lzdHJ5VVJMOiJnbG9iYWw6Ly9yZWdpc3RyeS4ifX0sLyogMTQ1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIE9wZXJhdG9ycygpeygwLGkuZGVmYXVsdCkodGhpcyxPcGVyYXRvcnMpfXJldHVybigwLHMuZGVmYXVsdCkoT3BlcmF0b3JzLFt7a2V5OiJhbmQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdJiZlWzFdfX0se2tleToiYmV0d2VlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9cGFyc2VJbnQoZVswXVswXSkscj1wYXJzZUludChlWzBdWzFdKSxuPWVbMV07cmV0dXJuIHI8dCYmKG49bjx0P24rPTI0MDA6bixyKz0yNDAwKSxuPnQmJm48cn19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09U3RyaW5nKGVbMF0pfHxTdHJpbmcoZVswXSk9PT1TdHJpbmcoZVsxXSl9fSx7a2V5OiJncmVhdGVyVGhhbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0+ZVswXX19LHtrZXk6ImluIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS5pbmRleE9mKGVbMV0pPi0xfX0se2tleToibGVzc1RoYW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPGVbMF19fSx7a2V5OiJub3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiFlWzBdfX0se2tleToib3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfHxlWzFdfX1dKSxPcGVyYXRvcnN9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMTQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDE0NSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9ZnVuY3Rpb24oKXsvKioKICAqIENyZWF0ZXMgYSBuZXcgQ29uZGl0aW9uLgogICogQGNsYXNzCiAgKiBAcGFyYW0gIHtzdHJpbmd9ICBhdHRyaWJ1dGUKICAqIEBwYXJhbSAge3N0cmluZ30gIG9wZXJhdG9yCiAgKiBAcGFyYW0gIHsqfSAgICAgICBwYXJhbXMKICAqLwpmdW5jdGlvbiBDb25kaXRpb24oZSx0LHIpeygwLGkuZGVmYXVsdCkodGhpcyxDb25kaXRpb24pLHRoaXMuYXR0cmlidXRlPWUsdGhpcy5vcGVyYXRvcj10LHRoaXMucGFyYW1zPXIsdGhpcy5vcGVyYXRvcnM9bmV3IHUuZGVmYXVsdH0vKioKICAqIFZlcmlmaWVzIGlmIHRoZSBjb25kaXRpb24gaXMgYXBwbGljYWJsZSB0byB0aGUgbWVzc2FnZS4gRmlyc3QsIHRoZSBzeXN0ZW0gdmFsdWUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgYXR0cmlidXRlIGlzIHJldHJpZXZlZDsgdGhlbiwgdGhhdCB2YWx1ZSBpcyBjb21wYXJlZCB3aXRoIHRoZSBwYXJhbWV0ZXIgc3BlY2lmaWVkIGluIHRoZSBjb25kaXRpb24gYnkgZXhlY3V0aW5nIHRoZSBvcGVyYXRvciBpbXBsZW1lbnRhdGlvbi4gSWYgdGhlIG9wZXJhdG9yIGlzICdpbicgYW5kIHRoZSBuYW1lIG9mIGEgZ3JvdXAgaXMgZ2l2ZW4sIHRoZW4gdGhlIGFycmF5IGhvbGRpbmcgdGhlIG1lbWJlcnMgb2YgdGhlIGdyb3VwIGlzIHJldHJpZXZlZCBiZWZvcmUgdGhlIGNvbXBhcmlzb24uCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIGNvbnRleHQgICBlbnZpcm9ubWVudCB3aGVyZSB0aGUgUG9saWN5IEVuZ2luZSBpcyBiZWluZyB1c2VkCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIG1lc3NhZ2UKICAqLwpyZXR1cm4oMCxzLmRlZmF1bHQpKENvbmRpdGlvbixbe2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2VbdGhpcy5hdHRyaWJ1dGVdPXttZXNzYWdlOnR9O3ZhciByPWVbdGhpcy5hdHRyaWJ1dGVdLG49dm9pZCAwO3JldHVybiJpbiIhPT10aGlzLm9wZXJhdG9yfHxBcnJheS5pc0FycmF5KHRoaXMucGFyYW1zKT90aGlzLm9wZXJhdG9yc1t0aGlzLm9wZXJhdG9yXShbdGhpcy5wYXJhbXMscl0pOihuPWUuZ2V0R3JvdXAodGhpcy5wYXJhbXMsdC50byksdGhpcy5vcGVyYXRvcnNbdGhpcy5vcGVyYXRvcl0oW24scl0pKX19XSksQ29uZGl0aW9ufSgpOy8qKgogICAgICogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgogICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgKgogICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAqCiAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICoKICAgICAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICoqLwp0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAxNDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXt2YXIgcjsKLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGUKcj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXsKLy8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApCnI9cnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsKLy8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGUKIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9Ci8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi4KLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3MKLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufQplLmV4cG9ydHM9cn0sLyogMTQ4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoMTEpJiYhcig1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigxMDIpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sLyogMTQ5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt0LmY9cig4KX0sLyogMTUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDIzKSxpPXIoMjQpLG89cig4MSkoITEpLHM9cigxMDQpKCJJRV9QUk9UTyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGE9aShlKSx1PTAsYz1bXTtmb3IociBpbiBhKXIhPXMmJm4oYSxyKSYmYy5wdXNoKHIpOwovLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzCmZvcig7dC5sZW5ndGg+dTspbihhLHI9dFt1KytdKSYmKH5vKGMscil8fGMucHVzaChyKSk7cmV0dXJuIGN9fSwvKiAxNTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTIpLGk9cigzKSxvPXIoNTApO2UuZXhwb3J0cz1yKDExKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2koZSk7Zm9yKHZhciByLHM9byh0KSxhPXMubGVuZ3RoLHU9MDthPnU7KW4uZihlLHI9c1t1KytdLHRbcl0pO3JldHVybiBlfX0sLyogMTUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvdwp2YXIgbj1yKDI0KSxpPXIoNTMpLmYsbz17fS50b1N0cmluZyxzPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGkoZSl9Y2F0Y2goZSl7cmV0dXJuIHMuc2xpY2UoKX19O2UuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBzJiYiW29iamVjdCBXaW5kb3ddIj09by5jYWxsKGUpP2EoZSk6aShuKGUpKX19LC8qIDE1MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pCnZhciBuPXIoNTApLGk9cig4Miksbz1yKDcxKSxzPXIoMTUpLGE9cig3MCksdT1PYmplY3QuYXNzaWduOwovLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1ZykKZS5leHBvcnRzPSF1fHxyKDUpKGZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPVN5bWJvbCgpLG49ImFiY2RlZmdoaWprbG1ub3BxcnN0IjtyZXR1cm4gZVtyXT03LG4uc3BsaXQoIiIpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1lfSksNyE9dSh7fSxlKVtyXXx8T2JqZWN0LmtleXModSh7fSx0KSkuam9pbigiIikhPW59KT9mdW5jdGlvbihlLHQpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciByPXMoZSksdT1hcmd1bWVudHMubGVuZ3RoLGM9MSxmPWkuZixsPW8uZjt1PmM7KWZvcih2YXIgZCxwPWEoYXJndW1lbnRzW2MrK10pLHk9Zj9uKHApLmNvbmNhdChmKHApKTpuKHApLGg9eS5sZW5ndGgsdj0wO2g+djspbC5jYWxsKHAsZD15W3YrK10pJiYocltkXT1wW2RdKTtyZXR1cm4gcn06dX0sLyogMTU0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNiksaT1yKDYpLG89cigxNTUpLHM9W10uc2xpY2UsYT17fSx1PWZ1bmN0aW9uKGUsdCxyKXtpZighKHQgaW4gYSkpe2Zvcih2YXIgbj1bXSxpPTA7aTx0O2krKyluW2ldPSJhWyIraSsiXSI7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYwphW3RdPUZ1bmN0aW9uKCJGLGEiLCJyZXR1cm4gbmV3IEYoIituLmpvaW4oIiwiKSsiKSIpfXJldHVybiBhW3RdKGUscil9O2UuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbihlKXt2YXIgdD1uKHRoaXMpLHI9cy5jYWxsKGFyZ3VtZW50cywxKSxhPWZ1bmN0aW9uKCl7dmFyIG49ci5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2YgYT91KHQsbi5sZW5ndGgsbik6byh0LG4sZSl9O3JldHVybiBpKHQucHJvdG90eXBlKSYmKGEucHJvdG90eXBlPXQucHJvdG90eXBlKSxhfX0sLyogMTU1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNQplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0sLyogMTU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLnBhcnNlSW50LGk9cig2MikudHJpbSxvPXIoMTA4KSxzPS9eWy0rXT8wW3hYXS87ZS5leHBvcnRzPTghPT1uKG8rIjA4Iil8fDIyIT09bihvKyIweDE2Iik/ZnVuY3Rpb24oZSx0KXt2YXIgcj1pKFN0cmluZyhlKSwzKTtyZXR1cm4gbihyLHQ+Pj4wfHwocy50ZXN0KHIpPzE2OjEwKSl9Om59LC8qIDE1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KS5wYXJzZUZsb2F0LGk9cig2MikudHJpbTtlLmV4cG9ydHM9MS9uKHIoMTA4KSsiLTAiKSE9LTEvMD9mdW5jdGlvbihlKXt2YXIgdD1pKFN0cmluZyhlKSwzKSxyPW4odCk7cmV0dXJuIDA9PT1yJiYiLSI9PXQuY2hhckF0KDApPy0wOnJ9Om59LC8qIDE1OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigyOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIm51bWJlciIhPXR5cGVvZiBlJiYiTnVtYmVyIiE9bihlKSl0aHJvdyBUeXBlRXJyb3IodCk7cmV0dXJuK2V9fSwvKiAxNTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4xLjIuMyBOdW1iZXIuaXNJbnRlZ2VyKG51bWJlcikKdmFyIG49cig2KSxpPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiFuKGUpJiZpc0Zpbml0ZShlKSYmaShlKT09PWV9fSwvKiAxNjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gMjAuMi4yLjIwIE1hdGgubG9nMXAoeCkKZS5leHBvcnRzPU1hdGgubG9nMXB8fGZ1bmN0aW9uKGUpe3JldHVybihlPStlKT4tMWUtOCYmZTwxZS04P2UtZSplLzI6TWF0aC5sb2coMStlKX19LC8qIDE2MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNiBNYXRoLmZyb3VuZCh4KQp2YXIgbj1yKDExMSksaT1NYXRoLnBvdyxvPWkoMiwtNTIpLHM9aSgyLC0yMyksYT1pKDIsMTI3KSooMi1zKSx1PWkoMiwtMTI2KSxjPWZ1bmN0aW9uKGUpe3JldHVybiBlKzEvby0xL299O2UuZXhwb3J0cz1NYXRoLmZyb3VuZHx8ZnVuY3Rpb24oZSl7dmFyIHQscixpPU1hdGguYWJzKGUpLGY9bihlKTsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQpyZXR1cm4gaTx1P2YqYyhpL3UvcykqdSpzOih0PSgxK3MvbykqaSxyPXQtKHQtaSkscj5hfHxyIT1yP2YqKDEvMCk6ZipyKX19LC8qIDE2MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3IKdmFyIG49cigzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e3JldHVybiBpP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKHQpe3ZhciBvPWUucmV0dXJuO3Rocm93IHZvaWQgMCE9PW8mJm4oby5jYWxsKGUpKSx0fX19LC8qIDE2MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNiksaT1yKDE1KSxvPXIoNzApLHM9cigxMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGEsdSl7bih0KTt2YXIgYz1pKGUpLGY9byhjKSxsPXMoYy5sZW5ndGgpLGQ9dT9sLTE6MCxwPXU/LTE6MTtpZihyPDIpZm9yKDs7KXtpZihkIGluIGYpe2E9ZltkXSxkKz1wO2JyZWFrfWlmKGQrPXAsdT9kPDA6bDw9ZCl0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKX1mb3IoO3U/ZD49MDpsPmQ7ZCs9cClkIGluIGYmJihhPXQoYSxmW2RdLGQsYykpO3JldHVybiBhfX0sLyogMTY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIyLjEuMy4zIEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluKHRhcmdldCwgc3RhcnQsIGVuZCA9IHRoaXMubGVuZ3RoKQp2YXIgbj1yKDE1KSxpPXIoNTEpLG89cigxMyk7ZS5leHBvcnRzPVtdLmNvcHlXaXRoaW58fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bih0aGlzKSxzPW8oci5sZW5ndGgpLGE9aShlLHMpLHU9aSh0LHMpLGM9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsZj1NYXRoLm1pbigodm9pZCAwPT09Yz9zOmkoYyxzKSktdSxzLWEpLGw9MTtmb3IodTxhJiZhPHUrZiYmKGw9LTEsdSs9Zi0xLGErPWYtMSk7Zi0tID4wOyl1IGluIHI/clthXT1yW3VdOmRlbGV0ZSByW2FdLGErPWwsdSs9bDtyZXR1cm4gcn19LC8qIDE2NSAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTp0LGRvbmU6ISFlfX19LC8qIDE2NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzKCkKcigxMSkmJiJnIiE9Ly4vZy5mbGFncyYmcigxMikuZihSZWdFeHAucHJvdG90eXBlLCJmbGFncyIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6cig4Nil9KX0sLyogMTY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm57ZTohMSx2OmUoKX19Y2F0Y2goZSl7cmV0dXJue2U6ITAsdjplfX19fSwvKiAxNjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMyksaT1yKDYpLG89cigxMjYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG4oZSksaSh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIHI9by5mKGUpO3JldHVybigwLHIucmVzb2x2ZSkodCksci5wcm9taXNlfX0sLyogMTY5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNzApLGk9cig2NCk7Ci8vIDIzLjEgTWFwIE9iamVjdHMKZS5leHBvcnRzPXIoOTApKCJNYXAiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0sewovLyAyMy4xLjMuNiBNYXAucHJvdG90eXBlLmdldChrZXkpCmdldDpmdW5jdGlvbihlKXt2YXIgdD1uLmdldEVudHJ5KGkodGhpcywiTWFwIiksZSk7cmV0dXJuIHQmJnQudn0sCi8vIDIzLjEuMy45IE1hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpCnNldDpmdW5jdGlvbihlLHQpe3JldHVybiBuLmRlZihpKHRoaXMsIk1hcCIpLDA9PT1lPzA6ZSx0KX19LG4sITApfSwvKiAxNzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEyKS5mLGk9cig1Miksbz1yKDU3KSxzPXIoMjgpLGE9cig1NSksdT1yKDU2KSxjPXIoMTE0KSxmPXIoMTY1KSxsPXIoNTQpLGQ9cigxMSkscD1yKDQyKS5mYXN0S2V5LHk9cig2NCksaD1kPyJfcyI6InNpemUiLHY9ZnVuY3Rpb24oZSx0KXsKLy8gZmFzdCBjYXNlCnZhciByLG49cCh0KTtpZigiRiIhPT1uKXJldHVybiBlLl9pW25dOwovLyBmcm96ZW4gb2JqZWN0IGNhc2UKZm9yKHI9ZS5fZjtyO3I9ci5uKWlmKHIuaz09dClyZXR1cm4gcn07ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQscixjKXt2YXIgZj1lKGZ1bmN0aW9uKGUsbil7YShlLGYsdCwiX2kiKSxlLl90PXQsLy8gY29sbGVjdGlvbiB0eXBlCmUuX2k9aShudWxsKSwvLyBpbmRleAplLl9mPXZvaWQgMCwvLyBmaXJzdCBlbnRyeQplLl9sPXZvaWQgMCwvLyBsYXN0IGVudHJ5CmVbaF09MCwvLyBzaXplCnZvaWQgMCE9biYmdShuLHIsZVtjXSxlKX0pO3JldHVybiBvKGYucHJvdG90eXBlLHsKLy8gMjMuMS4zLjEgTWFwLnByb3RvdHlwZS5jbGVhcigpCi8vIDIzLjIuMy4yIFNldC5wcm90b3R5cGUuY2xlYXIoKQpjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT15KHRoaXMsdCkscj1lLl9pLG49ZS5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgcltuLmldO2UuX2Y9ZS5fbD12b2lkIDAsZVtoXT0wfSwKLy8gMjMuMS4zLjMgTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KQovLyAyMy4yLjMuNCBTZXQucHJvdG90eXBlLmRlbGV0ZSh2YWx1ZSkKZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciByPXkodGhpcyx0KSxuPXYocixlKTtpZihuKXt2YXIgaT1uLm4sbz1uLnA7ZGVsZXRlIHIuX2lbbi5pXSxuLnI9ITAsbyYmKG8ubj1pKSxpJiYoaS5wPW8pLHIuX2Y9PW4mJihyLl9mPWkpLHIuX2w9PW4mJihyLl9sPW8pLHJbaF0tLX1yZXR1cm4hIW59LAovLyAyMy4yLjMuNiBTZXQucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZyA9IHVuZGVmaW5lZCkKLy8gMjMuMS4zLjUgTWFwLnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpCmZvckVhY2g6ZnVuY3Rpb24oZSl7eSh0aGlzLHQpO2Zvcih2YXIgcixuPXMoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyPXI/ci5uOnRoaXMuX2Y7KQovLyByZXZlcnQgdG8gdGhlIGxhc3QgZXhpc3RpbmcgZW50cnkKZm9yKG4oci52LHIuayx0aGlzKTtyJiZyLnI7KXI9ci5wfSwKLy8gMjMuMS4zLjcgTWFwLnByb3RvdHlwZS5oYXMoa2V5KQovLyAyMy4yLjMuNyBTZXQucHJvdG90eXBlLmhhcyh2YWx1ZSkKaGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhdih5KHRoaXMsdCksZSl9fSksZCYmbihmLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdClbaF19fSksZn0sZGVmOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbixpLG89dihlLHQpOwovLyBjaGFuZ2UgZXhpc3RpbmcgZW50cnkKLy8gYWRkIHRvIGluZGV4CnJldHVybiBvP28udj1yOihlLl9sPW89e2k6aT1wKHQsITApLC8vIDwtIGluZGV4Cms6dCwvLyA8LSBrZXkKdjpyLC8vIDwtIHZhbHVlCnA6bj1lLl9sLC8vIDwtIHByZXZpb3VzIGVudHJ5Cm46dm9pZCAwLC8vIDwtIG5leHQgZW50cnkKcjohMX0sZS5fZnx8KGUuX2Y9byksbiYmKG4ubj1vKSxlW2hdKyssIkYiIT09aSYmKGUuX2lbaV09bykpLGV9LGdldEVudHJ5OnYsc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxyKXsKLy8gYWRkIC5rZXlzLCAudmFsdWVzLCAuZW50cmllcywgW0BAaXRlcmF0b3JdCi8vIDIzLjEuMy40LCAyMy4xLjMuOCwgMjMuMS4zLjExLCAyMy4xLjMuMTIsIDIzLjIuMy41LCAyMy4yLjMuOCwgMjMuMi4zLjEwLCAyMy4yLjMuMTEKYyhlLHQsZnVuY3Rpb24oZSxyKXt0aGlzLl90PXkoZSx0KSwvLyB0YXJnZXQKdGhpcy5faz1yLC8vIGtpbmQKdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Ci8vIHJldmVydCB0byB0aGUgbGFzdCBleGlzdGluZyBlbnRyeQpmb3IodmFyIGU9dGhpcyx0PWUuX2sscj1lLl9sO3ImJnIucjspcj1yLnA7Ci8vIGdldCBuZXh0IGVudHJ5Ci8vIGdldCBuZXh0IGVudHJ5Ci8vIHJldHVybiBzdGVwIGJ5IGtpbmQKLy8gb3IgZmluaXNoIHRoZSBpdGVyYXRpb24KcmV0dXJuIGUuX3QmJihlLl9sPXI9cj9yLm46ZS5fdC5fZik/ImtleXMiPT10P2YoMCxyLmspOiJ2YWx1ZXMiPT10P2YoMCxyLnYpOmYoMCxbci5rLHIudl0pOihlLl90PXZvaWQgMCxmKDEpKX0scj8iZW50cmllcyI6InZhbHVlcyIsIXIsITApLAovLyBhZGQgW0BAc3BlY2llc10sIDIzLjEuMi4yLCAyMy4yLjIuMgpsKHQpfX19LC8qIDE3MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcwKSxpPXIoNjQpOwovLyAyMy4yIFNldCBPYmplY3RzCmUuZXhwb3J0cz1yKDkwKSgiU2V0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHsKLy8gMjMuMi4zLjEgU2V0LnByb3RvdHlwZS5hZGQodmFsdWUpCmFkZDpmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWYoaSh0aGlzLCJTZXQiKSxlPTA9PT1lPzA6ZSxlKX19LG4pfSwvKiAxNzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixpPXIoMzUpKDApLG89cigxOSkscz1yKDQyKSxhPXIoMTUzKSx1PXIoMTczKSxjPXIoNiksZj1yKDUpLGw9cig2NCksZD1zLmdldFdlYWsscD1PYmplY3QuaXNFeHRlbnNpYmxlLHk9dS51ZnN0b3JlLGg9e30sdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LGc9ewovLyAyMy4zLjMuMyBXZWFrTWFwLnByb3RvdHlwZS5nZXQoa2V5KQpnZXQ6ZnVuY3Rpb24oZSl7aWYoYyhlKSl7dmFyIHQ9ZChlKTtyZXR1cm4hMD09PXQ/eShsKHRoaXMsIldlYWtNYXAiKSkuZ2V0KGUpOnQ/dFt0aGlzLl9pXTp2b2lkIDB9fSwKLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpCnNldDpmdW5jdGlvbihlLHQpe3JldHVybiB1LmRlZihsKHRoaXMsIldlYWtNYXAiKSxlLHQpfX0sYj1lLmV4cG9ydHM9cig5MCkoIldlYWtNYXAiLHYsZyx1LCEwLCEwKTsKLy8gSUUxMSBXZWFrTWFwIGZyb3plbiBrZXlzIGZpeApmKGZ1bmN0aW9uKCl7cmV0dXJuIDchPShuZXcgYikuc2V0KChPYmplY3QuZnJlZXplfHxPYmplY3QpKGgpLDcpLmdldChoKX0pJiYobj11LmdldENvbnN0cnVjdG9yKHYsIldlYWtNYXAiKSxhKG4ucHJvdG90eXBlLGcpLHMuTkVFRD0hMCxpKFsiZGVsZXRlIiwiaGFzIiwiZ2V0Iiwic2V0Il0sZnVuY3Rpb24oZSl7dmFyIHQ9Yi5wcm90b3R5cGUscj10W2VdO28odCxlLGZ1bmN0aW9uKHQsaSl7Ci8vIHN0b3JlIGZyb3plbiBvYmplY3RzIG9uIGludGVybmFsIHdlYWttYXAgc2hpbQppZihjKHQpJiYhcCh0KSl7dGhpcy5fZnx8KHRoaXMuX2Y9bmV3IG4pO3ZhciBvPXRoaXMuX2ZbZV0odCxpKTtyZXR1cm4ic2V0Ij09ZT90aGlzOm99cmV0dXJuIHIuY2FsbCh0aGlzLHQsaSl9KX0pKX0sLyogMTczICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1NyksaT1yKDQyKS5nZXRXZWFrLG89cigzKSxzPXIoNiksYT1yKDU1KSx1PXIoNTYpLGM9cigzNSksZj1yKDIzKSxsPXIoNjQpLGQ9Yyg1KSxwPWMoNikseT0wLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2x8fChlLl9sPW5ldyB2KX0sdj1mdW5jdGlvbigpe3RoaXMuYT1bXX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBkKGUuYSxmdW5jdGlvbihlKXtyZXR1cm4gZVswXT09PXR9KX07di5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1nKHRoaXMsZSk7aWYodClyZXR1cm4gdFsxXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhZyh0aGlzLGUpfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1nKHRoaXMsZSk7cj9yWzFdPXQ6dGhpcy5hLnB1c2goW2UsdF0pfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9cCh0aGlzLmEsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSk7cmV0dXJufnQmJnRoaXMuYS5zcGxpY2UodCwxKSwhIX50fX0sZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQscixvKXt2YXIgYz1lKGZ1bmN0aW9uKGUsbil7YShlLGMsdCwiX2kiKSxlLl90PXQsLy8gY29sbGVjdGlvbiB0eXBlCmUuX2k9eSsrLC8vIGNvbGxlY3Rpb24gaWQKZS5fbD12b2lkIDAsLy8gbGVhayBzdG9yZSBmb3IgdW5jYXVnaHQgZnJvemVuIG9iamVjdHMKdm9pZCAwIT1uJiZ1KG4scixlW29dLGUpfSk7cmV0dXJuIG4oYy5wcm90b3R5cGUsewovLyAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KQovLyAyMy40LjMuMyBXZWFrU2V0LnByb3RvdHlwZS5kZWxldGUodmFsdWUpCmRlbGV0ZTpmdW5jdGlvbihlKXtpZighcyhlKSlyZXR1cm4hMTt2YXIgcj1pKGUpO3JldHVybiEwPT09cj9oKGwodGhpcyx0KSkuZGVsZXRlKGUpOnImJmYocix0aGlzLl9pKSYmZGVsZXRlIHJbdGhpcy5faV19LAovLyAyMy4zLjMuNCBXZWFrTWFwLnByb3RvdHlwZS5oYXMoa2V5KQovLyAyMy40LjMuNCBXZWFrU2V0LnByb3RvdHlwZS5oYXModmFsdWUpCmhhczpmdW5jdGlvbihlKXtpZighcyhlKSlyZXR1cm4hMTt2YXIgcj1pKGUpO3JldHVybiEwPT09cj9oKGwodGhpcyx0KSkuaGFzKGUpOnImJmYocix0aGlzLl9pKX19KSxjfSxkZWY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkobyh0KSwhMCk7cmV0dXJuITA9PT1uP2goZSkuc2V0KHQscik6bltlLl9pXT1yLGV9LHVmc3RvcmU6aH19LC8qIDE3NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvaW5kZXgKdmFyIG49cigzMyksaT1yKDEzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gMDt2YXIgdD1uKGUpLHI9aSh0KTtpZih0IT09cil0aHJvdyBSYW5nZUVycm9yKCJXcm9uZyBsZW5ndGghIik7cmV0dXJuIHJ9fSwvKiAxNzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzCnZhciBuPXIoNTMpLGk9cig4Miksbz1yKDMpLHM9cig0KS5SZWZsZWN0O2UuZXhwb3J0cz1zJiZzLm93bktleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PW4uZihvKGUpKSxyPWkuZjtyZXR1cm4gcj90LmNvbmNhdChyKGUpKTp0fX0sLyogMTc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZmxhdHRlbkludG9BcnJheShlLHQscix1LGMsZixsLGQpe2Zvcih2YXIgcCx5LGg9Yyx2PTAsZz0hIWwmJnMobCxkLDMpO3Y8dTspe2lmKHYgaW4gcil7aWYocD1nP2coclt2XSx2LHQpOnJbdl0seT0hMSxpKHApJiYoeT1wW2FdLHk9dm9pZCAwIT09eT8hIXk6bihwKSkseSYmZj4wKWg9ZmxhdHRlbkludG9BcnJheShlLHQscCxvKHAubGVuZ3RoKSxoLGYtMSktMTtlbHNle2lmKGg+PTkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKCk7ZVtoXT1wfWgrK312Kyt9cmV0dXJuIGh9Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtZmxhdE1hcC8jc2VjLUZsYXR0ZW5JbnRvQXJyYXkKdmFyIG49cig4MyksaT1yKDYpLG89cigxMykscz1yKDI4KSxhPXIoOCkoImlzQ29uY2F0U3ByZWFkYWJsZSIpO2UuZXhwb3J0cz1mbGF0dGVuSW50b0FycmF5fSwvKiAxNzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zdHJpbmctcGFkLXN0YXJ0LWVuZAp2YXIgbj1yKDEzKSxpPXIoMTEwKSxvPXIoMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixzKXt2YXIgYT1TdHJpbmcobyhlKSksdT1hLmxlbmd0aCxjPXZvaWQgMD09PXI/IiAiOlN0cmluZyhyKSxmPW4odCk7aWYoZjw9dXx8IiI9PWMpcmV0dXJuIGE7dmFyIGw9Zi11LGQ9aS5jYWxsKGMsTWF0aC5jZWlsKGwvYy5sZW5ndGgpKTtyZXR1cm4gZC5sZW5ndGg+bCYmKGQ9ZC5zbGljZSgwLGwpKSxzP2QrYTphK2R9fSwvKiAxNzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTApLGk9cigyNCksbz1yKDcxKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciByLHM9aSh0KSxhPW4ocyksdT1hLmxlbmd0aCxjPTAsZj1bXTt1PmM7KW8uY2FsbChzLHI9YVtjKytdKSYmZi5wdXNoKGU/W3Isc1tyXV06c1tyXSk7cmV0dXJuIGZ9fX0sLyogMTc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTgp2YXIgbj1yKDcyKSxpPXIoMTgwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobih0aGlzKSE9ZSl0aHJvdyBUeXBlRXJyb3IoZSsiI3RvSlNPTiBpc24ndCBnZW5lcmljIik7cmV0dXJuIGkodGhpcyl9fX0sLyogMTgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDU2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gbihlLCExLHIucHVzaCxyLHQpLHJ9fSwvKiAxODEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwplLmV4cG9ydHM9TWF0aC5zY2FsZXx8ZnVuY3Rpb24oZSx0LHIsbixpKXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGh8fGUhPWV8fHQhPXR8fHIhPXJ8fG4hPW58fGkhPWk/TmFOOmU9PT0xLzB8fGU9PT0tMS8wP2U6KGUtdCkqKGktbikvKHItdCkrbn19LC8qIDE4MiAqLwovKioqLwpmdW5jdGlvbihlLHQpe30sLyogMTgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig3MyksaT1yKDIxKSxvPXIoMTg1KSxzPXIoNTgpLGE9cig3NSksdT1yKDQxOSksYz1yKDk3KSxmPXIoMTg5KSxsPXIoMjIpKCJpdGVyYXRvciIpLGQ9IShbXS5rZXlzJiYibmV4dCJpbltdLmtleXMoKSkscD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIseSxoLHYsZyl7dShyLHQseSk7dmFyIGIsbSxfLFI9ZnVuY3Rpb24oZSl7aWYoIWQmJmUgaW4gTylyZXR1cm4gT1tlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlInZhbHVlcyI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sdz10KyIgSXRlcmF0b3IiLFM9InZhbHVlcyI9PWgsUD0hMSxPPWUucHJvdG90eXBlLE09T1tsXXx8T1siQEBpdGVyYXRvciJdfHxoJiZPW2hdLGs9TXx8UihoKSxMPWg/Uz9SKCJlbnRyaWVzIik6azp2b2lkIDAseD0iQXJyYXkiPT10P08uZW50cmllc3x8TTpNO2lmKAovLyBGaXggbmF0aXZlCngmJihfPWYoeC5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmXy5uZXh0JiYoCi8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnMKYyhfLHcsITApLAovLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXMKbnx8ImZ1bmN0aW9uIj09dHlwZW9mIF9bbF18fHMoXyxsLHApKSwKLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRgpTJiZNJiYidmFsdWVzIiE9PU0ubmFtZSYmKFA9ITAsaz1mdW5jdGlvbigpe3JldHVybiBNLmNhbGwodGhpcyl9KSwKLy8gRGVmaW5lIGl0ZXJhdG9yCm4mJiFnfHwhZCYmIVAmJk9bbF18fHMoTyxsLGspLAovLyBQbHVnIGZvciBsaWJyYXJ5CmFbdF09ayxhW3ddPXAsaClpZihiPXt2YWx1ZXM6Uz9rOlIoInZhbHVlcyIpLGtleXM6dj9rOlIoImtleXMiKSxlbnRyaWVzOkx9LGcpZm9yKG0gaW4gYiltIGluIE98fG8oTyxtLGJbbV0pO2Vsc2UgaShpLlAraS5GKihkfHxQKSx0LGIpO3JldHVybiBifX0sLyogMTg0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9IXIoNDUpJiYhcig2NikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMTMxKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LC8qIDE4NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNTgpfSwvKiAxODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTkpLGk9cig0Niksbz1yKDQyMSkoITEpLHM9cigxMzUpKCJJRV9QUk9UTyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGE9aShlKSx1PTAsYz1bXTtmb3IociBpbiBhKXIhPXMmJm4oYSxyKSYmYy5wdXNoKHIpOwovLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzCmZvcig7dC5sZW5ndGg+dTspbihhLHI9dFt1KytdKSYmKH5vKGMscil8fGMucHVzaChyKSk7cmV0dXJuIGN9fSwvKiAxODcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5ncwp2YXIgbj1yKDc2KTsKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwplLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1uKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LC8qIDE4OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNykuZG9jdW1lbnQ7ZS5leHBvcnRzPW4mJm4uZG9jdW1lbnRFbGVtZW50fSwvKiAxODkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKQp2YXIgbj1yKDU5KSxpPXIoNzcpLG89cigxMzUpKCJJRV9QUk9UTyIpLHM9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLG4oZSxvKT9lW29dOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3M6bnVsbH19LC8qIDE5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0MjMpO2Zvcih2YXIgbj1yKDE3KSxpPXIoNTgpLG89cig3NSkscz1yKDIyKSgidG9TdHJpbmdUYWciKSxhPSJDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LERPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCxTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCxUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdCIuc3BsaXQoIiwiKSx1PTA7dTxhLmxlbmd0aDt1Kyspe3ZhciBjPWFbdV0sZj1uW2NdLGw9ZiYmZi5wcm90b3R5cGU7bCYmIWxbc10mJmkobCxzLGMpLG9bY109by5BcnJheX19LC8qIDE5MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCnZhciBuPXIoNzYpLGk9cigyMikoInRvU3RyaW5nVGFnIiksbz0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYTtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksaSkpP3I6bz9uKHQpOiJPYmplY3QiPT0oYT1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmF9fSwvKiAxOTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCnZhciBuPXIoNDEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixpKXt0cnl7cmV0dXJuIGk/dChuKHIpWzBdLHJbMV0pOnQocil9Y2F0Y2godCl7dmFyIG89ZS5yZXR1cm47dGhyb3cgdm9pZCAwIT09byYmbihvLmNhbGwoZSkpLHR9fX0sLyogMTkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvcgp2YXIgbj1yKDc1KSxpPXIoMjIpKCJpdGVyYXRvciIpLG89QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxvW2ldPT09ZSl9fSwvKiAxOTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTkxKSxpPXIoMjIpKCJpdGVyYXRvciIpLG89cig3NSk7ZS5leHBvcnRzPXIoMTApLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9ZSlyZXR1cm4gZVtpXXx8ZVsiQEBpdGVyYXRvciJdfHxvW24oZSldfX0sLyogMTk1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpCnZhciBuPXIoNDEpLGk9cig5NSksbz1yKDIyKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLHM9bihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09c3x8dm9pZCAwPT0ocj1uKHMpW29dKT90Omkocil9fSwvKiAxOTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbyxzPXIoNjUpLGE9cig0MjkpLHU9cigxODgpLGM9cigxMzEpLGY9cigxNyksbD1mLnByb2Nlc3MsZD1mLnNldEltbWVkaWF0ZSxwPWYuY2xlYXJJbW1lZGlhdGUseT1mLk1lc3NhZ2VDaGFubmVsLGg9Zi5EaXNwYXRjaCx2PTAsZz17fSxiPWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKaWYoZy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9Z1tlXTtkZWxldGUgZ1tlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe2IuY2FsbChlLmRhdGEpfTsKLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOgpkJiZwfHwoZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gZ1srK3ZdPWZ1bmN0aW9uKCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYwphKCJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6RnVuY3Rpb24oZSksdCl9LG4odiksdn0scD1mdW5jdGlvbihlKXtkZWxldGUgZ1tlXX0sCi8vIE5vZGUuanMgMC44LQoicHJvY2VzcyI9PXIoNzYpKGwpP249ZnVuY3Rpb24oZSl7bC5uZXh0VGljayhzKGIsZSwxKSl9OmgmJmgubm93P249ZnVuY3Rpb24oZSl7aC5ub3cocyhiLGUsMSkpfTp5PyhpPW5ldyB5LG89aS5wb3J0MixpLnBvcnQxLm9ubWVzc2FnZT1tLG49cyhvLnBvc3RNZXNzYWdlLG8sMSkpOmYuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhZi5pbXBvcnRTY3JpcHRzPyhuPWZ1bmN0aW9uKGUpe2YucG9zdE1lc3NhZ2UoZSsiIiwiKiIpfSxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG0sITEpKTpuPSJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gYygic2NyaXB0Iik/ZnVuY3Rpb24oZSl7dS5hcHBlbmRDaGlsZChjKCJzY3JpcHQiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSxiLmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHMoYixlLDEpLDApfSksZS5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpwfX0sLyogMTk3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm57ZTohMSx2OmUoKX19Y2F0Y2goZSl7cmV0dXJue2U6ITAsdjplfX19fSwvKiAxOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDEpLGk9cigzNiksbz1yKDEzOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYobihlKSxpKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgcj1vLmYoZSk7cmV0dXJuKDAsci5yZXNvbHZlKSh0KSxyLnByb21pc2V9fSwvKiAxOTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjIpKCJpdGVyYXRvciIpLGk9ITE7dHJ5e3ZhciBvPVs3XVtuXSgpO28ucmV0dXJuPWZ1bmN0aW9uKCl7aT0hMH0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsCkFycmF5LmZyb20obyxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgbz1bN10scz1vW25dKCk7cy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6cj0hMH19LG9bbl09ZnVuY3Rpb24oKXtyZXR1cm4gc30sZShvKX1jYXRjaChlKXt9cmV0dXJuIHJ9fSwvKiAyMDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQzOSksX19lc01vZHVsZTohMH19LC8qIDIwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmxvZz12b2lkIDA7dmFyIG49cig3KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksbz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJhZGRyZXNzLWFsbG9jYXRpb24iKSxzPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkJ1cyIpLGE9aS5kZWZhdWx0LmdldExvZ2dlcigiTWVzc2FnZUJ1cyIpLHU9aS5kZWZhdWx0LmdldExvZ2dlcigiQ29yZURpc2NvdmVyeSIpLGM9aS5kZWZhdWx0LmdldExvZ2dlcigiR3JhcGhDb25uZWN0b3IiKSxmPWkuZGVmYXVsdC5nZXRMb2dnZXIoIkh5cGVydHlSZXNvdXJjZXNTdG9yYWdlIiksbD1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLGQ9aS5kZWZhdWx0LmdldExvZ2dlcigiUEVQIikscD1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQMlBDb25uZWN0aW9uUmVzb2x2ZSIpLHk9aS5kZWZhdWx0LmdldExvZ2dlcigiUmVnaXN0cnkiKSxoPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlJ1bnRpbWVVQSIpLHY9aS5kZWZhdWx0LmdldExvZ2dlcigiTG9hZGVyIiksZz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJEZXNjcmlwdG9ycyIpLGI9aS5kZWZhdWx0LmdldExvZ2dlcigiRGF0YU9iamVjdHNTdG9yYWdlIiksbT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTdWJzY3JpcHRpb24iKSxfPWkuZGVmYXVsdC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbk1hbmFnZXIiKSxSPWkuZGVmYXVsdC5nZXRMb2dnZXIoIk9ic2VydmVyT2JqZWN0Iiksdz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJSZXBvcnRlck9iamVjdCIpLFM9aS5kZWZhdWx0LmdldExvZ2dlcigiU3luU3Vic2NyaXB0aW9uIiksUD1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJTeW5jaGVyTWFuYWdlciIpLE89aS5kZWZhdWx0LmdldExvZ2dlcigiSWRlbnRpdHlNYW5hZ2VyIiksTT1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJDcnlwdG9NYW5hZ2VyIiksaz1pLmRlZmF1bHQuZ2V0TG9nZ2VyKCJQaXBlbGluZSIpO3QubG9nPWkuZGVmYXVsdCwvKioKICAwIGFjdHVhbCBsb2dnaW5nIG1ldGhvZHMsIG9yZGVyZWQgYW5kIGF2YWlsYWJsZSBhczoKCiAgICAgIDAgLSBsb2cudHJhY2UobXNnKQogICAgICAxIC0gbG9nLmRlYnVnKG1zZykKICAgICAgMiAtIGxvZy5pbmZvKG1zZykKICAgICAgMyAtIGxvZy53YXJuKG1zZykKICAgICAgNCAtIGxvZy5lcnJvcihtc2cpCgogIGxvZy5sb2cobXNnKSBpcyBhbHNvIGF2YWlsYWJsZSwgYXMgYW4gYWxpYXMgZm9yIGxvZy5kZWJ1Zyhtc2cpLCB0byBpbXByb3ZlIGNvbXBhdGliaWxpdHkgd2l0aCBjb25zb2xlLCBhbmQgbWFrZSBtaWdyYXRpb24gZWFzaWVyLgoKICBFeGFjdCBvdXRwdXQgZm9ybWF0dGluZyBvZiB0aGVzZSB3aWxsIGRlcGVuZCBvbiB0aGUgY29uc29sZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgY29udGV4dCBvZiB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZSwgbWFueSBlbnZpcm9ubWVudHMgd2lsbCBpbmNsdWRlIGEgZnVsbCBzdGFjayB0cmFjZSB3aXRoIGFsbCB0cmFjZSgpIGNhbGxzLCBhbmQgaWNvbnMgb3Igc2ltaWxhciB0byBoaWdobGlnaHQgb3RoZXIgY2FsbHMuCgogIFRoZXNlIG1ldGhvZHMgc2hvdWxkIG5ldmVyIGZhaWwgaW4gYW55IGVudmlyb25tZW50LCBldmVuIGlmIG5vIGNvbnNvbGUgb2JqZWN0IGlzIGN1cnJlbnRseSBhdmFpbGFibGUsIGFuZCBzaG91bGQgYWx3YXlzIGZhbGwgYmFjayB0byBhbiBhdmFpbGFibGUgbG9nIG1ldGhvZCBldmVuIGlmIHRoZSBzcGVjaWZpYyBtZXRob2QgY2FsbGVkIChlLmcuIHdhcm4pIGlzbid0IGF2YWlsYWJsZS4KCiAgQmUgYXdhcmUgdGhhdCBhbGwgdGhpcyBtZWFucyB0aGF0IHRoZXNlIG1ldGhvZCB3b24ndCBuZWNlc3NhcmlseSBhbHdheXMgcHJvZHVjZSBleGFjdGx5IHRoZSBvdXRwdXQgeW91IGV4cGVjdCBpbiBldmVyeSBlbnZpcm9ubWVudDsgbG9nbGV2ZWwgb25seSBndWFyYW50ZWVzIHRoYXQgdGhlc2UgbWV0aG9kcyB3aWxsIG5ldmVyIGV4cGxvZGUgb24geW91LCBhbmQgdGhhdCBpdCB3aWxsIGNhbGwgdGhlIG1vc3QgcmVsZXZhbnQgbWV0aG9kIGl0IGNhbiBmaW5kLCB3aXRoIHlvdXIgYXJndW1lbnQuIEZpcmVmb3ggaXMgYSBub3RhYmxlIGV4YW1wbGUgaGVyZTogZHVlIHRvIGEgY3VycmVudCBGaXJlZm94IGJ1ZyBsb2cudHJhY2UobXNnKSBjYWxscyBpbiBGaXJlZm94IHdpbGwgcHJpbnQgb25seSB0aGUgc3RhY2t0cmFjZSwgYW5kIHdvbid0IGluY2x1ZGUgYW55IHBhc3NlZCBtZXNzYWdlIGFyZ3VtZW50cy4KCiovCi8vIGFkZHJlc3MtYWxsb2NhdGlvbgpvLnNldExldmVsKDMpLAovLyBCdXMKcy5zZXRMZXZlbCgzKSwKLy8gTWVzc2FnZUJ1cwphLnNldExldmVsKDApLAovLyBDb3JlRGlzY292ZXJ5CnUuc2V0TGV2ZWwoNSksCi8vIEdyYXBoQ29ubmVjdG9yCmMuc2V0TGV2ZWwoNSksCi8vIEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlCmYuc2V0TGV2ZWwoMyksCi8vIElkZW50aXR5TW9kdWxlCmwuc2V0TGV2ZWwoMCksCi8vIFBFUApkLnNldExldmVsKDMpLAovLyBQMlBDb25uZWN0aW9uUmVzb2x2ZQpwLnNldExldmVsKDMpLAovLyBSZWdpc3RyeQp5LnNldExldmVsKDMpLAovLyBSdW50aW1lVUEKaC5zZXRMZXZlbCgzKSwKLy8gTG9hZGVyCnYuc2V0TGV2ZWwoMyksCi8vIERlc2NyaXB0b3JzCmcuc2V0TGV2ZWwoMyksCi8vIERhdGFPYmplY3RzU3RvcmFnZQpiLnNldExldmVsKDMpLAovLyBTdWJzY3JpcHRpb24KbS5zZXRMZXZlbCgzKSwKLy8gU3Vic2NyaXB0aW9uTWFuYWdlcgpfLnNldExldmVsKDMpLAovLyBPYnNlcnZlck9iamVjdApSLnNldExldmVsKDMpLAovLyBSZXBvcnRlck9iamVjdAp3LnNldExldmVsKDMpLAovLyBTeW5TdWJzY3JpcHRpb24KUy5zZXRMZXZlbCgzKSwKLy8gU3luY2hlck1hbmFnZXIKUC5zZXRMZXZlbCgzKSwKLy8gSWRlbnRpdHlNYW5hZ2VyCk8uc2V0TGV2ZWwoMyksCi8vIENyeXB0b01hbmFnZXIKTS5zZXRMZXZlbCgzKSwKLy8gUGlwZWxpbmUKay5zZXRMZXZlbCgzKX0sLyogMjAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKQp2YXIgbj1yKDE4NiksaT1yKDEzNykuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSwvKiAyMDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQ2MiksX19lc01vZHVsZTohMH19LC8qIDIwNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPWYuZ2V0TG9nZ2VyKCJCdXMiKSxkPWZ1bmN0aW9uKCl7LyogcHJpdmF0ZQogIF9tc2dJZDogbnVtYmVyOwogIF9zdWJzY3JpcHRpb25zOiA8dXJsOiBNc2dMaXN0ZW5lcltdPgogICBfcmVzcG9uc2VUaW1lT3V0OiBudW1iZXIKICBfcmVzcG9uc2VDYWxsYmFja3M6IDx1cmwraWQ6IChtc2cpID0+IHZvaWQ+CiAgICovCmZ1bmN0aW9uIEJ1cygpeygwLHMuZGVmYXVsdCkodGhpcyxCdXMpO3ZhciBlPXRoaXM7ZS5fbXNnSWQ9MCxlLl9zdWJzY3JpcHRpb25zPXt9LGUuX3Jlc3BvbnNlVGltZU91dD0xNWUzLC8vZGVmYXVsdCB0byAzcwplLl9yZXNwb25zZUNhbGxiYWNrcz17fSxlLl9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIoKX0vKioKICAqIFJlZ2lzdGVyIGxpc3RlbmVyIHRvIHJlY2VpdmUgbWVzc2FnZSB3aGVuICJtc2cudG8gPT09IHVybCIuCiAgKiBTcGVjaWFsIHVybCAiKiIgZm9yIGRlZmF1bHQgbGlzdGVuZXIgaXMgYWNjZXB0ZWQgdG8gaW50ZXJjZXB0IGFsbCBtZXNzYWdlcy4KICAqIEBwYXJhbSB7VVJMfSB1cmwgQWRkcmVzcyB0byBpbnRlcmNlcHQsIHRoYSBpcyBpbiB0aGUgbWVzc2FnZSAidG8iCiAgKiBAcGFyYW0ge0xpc3RlbmVyfSBsaXN0ZW5lciBsaXN0ZW5lcgogICogQHJldHVybiB7TXNnTGlzdGVuZXJ9IGluc3RhbmNlIG9mIE1zZ0xpc3RlbmVyCiAgKi8KcmV0dXJuKDAsdS5kZWZhdWx0KShCdXMsW3trZXk6ImFkZExpc3RlbmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1uZXcgcChyLl9zdWJzY3JpcHRpb25zLGUsdCksaT1yLl9zdWJzY3JpcHRpb25zW2VdO3JldHVybiBpfHwoaT1bXSxyLl9zdWJzY3JpcHRpb25zW2VdPWkpLGkucHVzaChuKSxufX0se2tleToiYWRkUmVzcG9uc2VMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzW2UrdF09cn19LHtrZXk6InJlbW92ZVJlc3BvbnNlTGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIHRoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzW2UrdF19fSx7a2V5OiJyZW1vdmVBbGxMaXN0ZW5lcnNPZiIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX3N1YnNjcmlwdGlvbnNbZV19fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxpPXRoaXM7cmV0dXJue3RoaXNMaXN0ZW5lcjppLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24oZSl7ci5wb3N0TWVzc2FnZShlKX0pLHRhcmdldExpc3RlbmVyOnIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpLnBvc3RNZXNzYWdlKGUpfSksdW5iaW5kOmZ1bmN0aW9uKCl7bi50aGlzTGlzdGVuZXIucmVtb3ZlKCksbi50YXJnZXRMaXN0ZW5lci5yZW1vdmUoKX19fX0se2tleToiX3B1Ymxpc2hPbkRlZmF1bHQiLHZhbHVlOmZ1bmN0aW9uKGUpewovL2lzIHRoZXJlIGFueSAiKiIgKGRlZmF1bHQpIGxpc3RlbmVycz8KdmFyIHQ9dGhpcy5fc3Vic2NyaXB0aW9uc1siKiJdO3QmJnRoaXMuX3B1Ymxpc2hPbih0LGUpfX0se2tleToiX3B1Ymxpc2hPbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fY2FsbGJhY2sodCl9KX19LHtrZXk6Il9yZXNwb25zZUNhbGxiYWNrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0sbj10aGlzOwovL2F1dG9tYXRpYyBtYW5hZ2VtZW50IG9mIHJlc3BvbnNlIGhhbmRsZXJzCmlmKHQpe3ZhciBpPWUuZnJvbStlLmlkO24uX3Jlc3BvbnNlQ2FsbGJhY2tzW2ldPXQsciYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PW4uX3Jlc3BvbnNlQ2FsbGJhY2tzW2ldO2lmKGRlbGV0ZSBuLl9yZXNwb25zZUNhbGxiYWNrc1tpXSx0KXt0KHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjQwOCxkZXNjOiJSZXNwb25zZSB0aW1lb3V0ISIsdmFsdWU6ZX19KX19LG4uX3Jlc3BvbnNlVGltZU91dCl9fX0se2tleToiX29uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoInJlc3BvbnNlIj09PWUudHlwZSl7dmFyIHI9ZS50bytlLmlkLG49dC5fcmVzcG9uc2VDYWxsYmFja3Nbcl07aWYoZS5ib2R5LmNvZGU+PTIwMCYmCi8vaWYgaXQncyBhIHByb3Zpc2lvbmFsIHJlc3BvbnNlLCBkb24ndCBkZWxldGUgcmVzcG9uc2UgbGlzdGVuZXIKZGVsZXRlIHQuX3Jlc3BvbnNlQ2FsbGJhY2tzW3JdLG4pcmV0dXJuIG4oZSksITB9cmV0dXJuITF9fSx7a2V5OiJfb25NZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCF0Ll9vblJlc3BvbnNlKGUpKXt2YXIgcj10Ll9zdWJzY3JpcHRpb25zW2UudG9dO3I/dC5fcHVibGlzaE9uKHIsZSk6dC5fcHVibGlzaE9uRGVmYXVsdChlKX19fSx7a2V5OiJfZ2VuSWQiLHZhbHVlOmZ1bmN0aW9uKGUpewovL1RPRE86IGhvdyBkbyB3ZSBtYW5hZ2UgbWVzc2FnZSBJRCdzPyBTaG91bGQgaXQgYmUgYSBnbG9iYWwgcnVudGltZSBjb3VudGVyLCBvciBwZXIgVVJMIGFkZHJlc3M/Ci8vR2xvYmFsIGNvdW50ZXIgd2lsbCBub3Qgd29yaywgYmVjYXVzZSB0aGVyZSB3aWxsIGJlIG11bHRpcGxlIE1pbmlCdXMgaW5zdGFuY2VzIQovL1BlciBVUkwsIGNhbiBiZSBhIGxvdCBvZiBkYXRhIHRvIG1haW50YWluIQovL01heWJlIGEgY291bnRlciBwZXIgTWluaUJ1cyBpbnN0YW5jZS4gVGhpcyBpcyB0aGUgYXNzdW1lZCBzb2x1dGlvbiBmb3Igbm93LgplLmlkJiYwIT09ZS5pZHx8KHRoaXMuX21zZ0lkKyssZS5pZD10aGlzLl9tc2dJZCl9fSx7a2V5OiJwb3N0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fSx7a2V5OiJwb3N0TWVzc2FnZVdpdGhSZXRyaWVzIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPTAscz1mdW5jdGlvbigpe3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHQsaSl7bi5wb3N0TWVzc2FnZShlLGZ1bmN0aW9uKG4pezQwOD09PW4uYm9keS5jb2RlfHw1MDA9PT1uLmJvZHkuY29kZT9pKCk6KGwuaW5mbygiW0J1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzXSBtc2cgZGVsaXZlcmVkOiAiLGUpLHIobiksdCgpKX0pfSl9OyFmdW5jdGlvbiB0cnlBZ2Fpbigpe3MoKS50aGVuKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe2lmKGwud2FybigiW0J1cy5wb3N0TWVzc2FnZVdpdGhSZXRyaWVzXSBNZXNzYWdlIEJvdW5jZWQgKHJldHJ5ICIrbysiKTogJyIsZSksIShvKys8dCkpe3ZhciByPSJbRXJyb3JdIE1lc3NhZ2UgQm91bmNlZCAoZGVsaXZlcnkgYXR0ZW1wdHMgIit0KyIpOiAnIjt0aHJvdyBuZXcgRXJyb3IocitlKX10cnlBZ2FpbigpfSl9KCl9fSx7a2V5OiJfb25Qb3N0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLEJ1c30oKSxwPWZ1bmN0aW9uKCl7LyogcHJpdmF0ZQogIF9zdWJzY3JpcHRpb25zOiA8c3RyaW5nOiBNc2dMaXN0ZW5lcltdPjsKICBfdXJsOiBzdHJpbmc7CiAgX2NhbGxiYWNrOiAobXNnKSA9PiB2b2lkOwogICovCmZ1bmN0aW9uIE1zZ0xpc3RlbmVyKGUsdCxyKXsoMCxzLmRlZmF1bHQpKHRoaXMsTXNnTGlzdGVuZXIpO3ZhciBuPXRoaXM7bi5fc3Vic2NyaXB0aW9ucz1lLG4uX3VybD10LG4uX2NhbGxiYWNrPXJ9cmV0dXJuKDAsdS5kZWZhdWx0KShNc2dMaXN0ZW5lcixbe2tleToicmVtb3ZlIiwvKioKICAgICAqIFJlbW92ZSB0aGlzIGxpc3RlbmVyIGZyb20gdGhlIEJ1cwogICAgICovCnZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuX3N1YnNjcmlwdGlvbnNbZS5fdXJsXTtpZih0KXt2YXIgcj10LmluZGV4T2YoZSk7dC5zcGxpY2UociwxKSwKLy9pZiB0aGVyZSBhcmUgbm8gbGlzdGVuZXJzLCByZW1vdmUgdGhlIHN1YnNjcmlwdGlvbiBlbnRpcmVseS4KMD09PXQubGVuZ3RoJiZkZWxldGUgZS5fc3Vic2NyaXB0aW9uc1tlLl91cmxdfX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksTXNnTGlzdGVuZXJ9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMjA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gdmVyc2lvbjogMC45LjAKLy8gZGF0ZTogVHVlIEp1bCAxMCAyMDE4IDEwOjQ4OjE4IEdNVCswMTAwIChXZXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQovLyBsaWNlbmNlOiAKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCiFmdW5jdGlvbih0LHIpe2UuZXhwb3J0cz1yKCl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXZhciB0PXt9O3JldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LCJhIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD0iIixuKG4ucz0xOTkpfSh7MDpmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz17dmVyc2lvbjoiMi41LjcifTsibnVtYmVyIj09dHlwZW9mIF9fZSYmKF9fZT1yKX0sMTpmdW5jdGlvbihlLHQpe3ZhciByPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1yKX0sMTA6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jYWxsKGUsdCl9fSwxMTpmdW5jdGlvbihlLHQscil7dmFyIG49cig4KSxpPXIoMTYpO2UuZXhwb3J0cz1yKDQpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0sMTIzOmZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSx0LHIsbixpLG8pe2Z1bmN0aW9uIHMoZSxuKXtpZihzLmRlbGF5PW4sIXMucGF1c2UmJnUuY2hhbmdlc2V0Lmxlbmd0aD4wKXtpZighZSl7dmFyIGk9dS5jaGFuZ2VzZXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFyfHxyLmluZGV4T2YoZS50eXBlKT49MH0pO2kubGVuZ3RoPjAmJnQoaSl9dS5jaGFuZ2VzZXQ9W119fXZhciBhLHU9dGhpcztyZXR1cm4gcy5wYXVzZT1pLHMuZGVsYXk9byx1LmdldD1mdW5jdGlvbihlLHQpe3JldHVybiJfX29ic2VydmVyX18iPT09dD91OiJ1bm9ic2VydmUiPT09dD9mdW5jdGlvbigpe3JldHVybiBPYmplY3QudW5vYnNlcnZlKGUpLGV9OiJkZWxpdmVyIj09PXQ/czplW3RdfSx1LnRhcmdldD1lLHUuY2hhbmdlc2V0PVtdLHUudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfX3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyQ2FsbGJhY2tzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSksdS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fLnB1c2godCksdS50YXJnZXQuX19vYnNlcnZlcnNfXy5wdXNoKHRoaXMpLGE9bmV3IFByb3h5KGUsdSkscyghMSxvKSxhfU9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgUHJveHl8fChlLnByb3RvdHlwZS5kZWxpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KG51bGwsImRlbGl2ZXIiKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lW3RdLGk9dm9pZCAwPT09bj8iYWRkIjoidXBkYXRlIjtpZihlW3RdPXIsZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJighdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZihpKT49MCkpe3ZhciBvPXtvYmplY3Q6ZSxuYW1lOnQsdHlwZTppfSxzPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsYT10aGlzLmRlbGl2ZXIoKTsidXBkYXRlIj09PWkmJihvLm9sZFZhbHVlPW4pLHRoaXMuY2hhbmdlc2V0LnB1c2gobykscyYmYSghMSwibnVtYmVyIj09dHlwZW9mIGEuZGVsYXk/YS5kZWxheToxMCl9cmV0dXJuITB9LGUucHJvdG90eXBlLmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVt0XTtpZihkZWxldGUgZVt0XSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoImRlbGV0ZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6ImRlbGV0ZSIsb2xkVmFsdWU6cn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsciksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJyZWNvbmZpZ3VyZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6InJlY29uZmlndXJlIn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuc2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYoT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJzZXRQcm90b3R5cGUiKT49MCl7dmFyIG49e29iamVjdDplLG5hbWU6Il9fcHJvdG9fXyIsdHlwZToic2V0UHJvdG90eXBlIixvbGRWYWx1ZTpyfSxpPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbz10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKG4pLGkmJm8oITEsIm51bWJlciI9PXR5cGVvZiBvLmRlbGF5P28uZGVsYXk6MTApfXJldHVybiEwfSxlLnByb3RvdHlwZS5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihlKXtpZihPYmplY3QucHJldmVudEV4dGVuc2lvbnMoZSksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJwcmV2ZW50RXh0ZW5zaW9ucyIpPj0wKXt2YXIgdD17b2JqZWN0OmUsdHlwZToicHJldmVudEV4dGVuc2lvbnMifSxyPTA9PT10aGlzLmNoYW5nZXNldC5sZW5ndGgsbj10aGlzLmRlbGl2ZXIoKTt0aGlzLmNoYW5nZXNldC5wdXNoKHQpLHImJm4oITEsIm51bWJlciI9PXR5cGVvZiBuLmRlbGF5P24uZGVsYXk6MTApfXJldHVybiEwfSxPYmplY3Qub2JzZXJ2ZT1mdW5jdGlvbih0LHIsbixpLG8scyl7cmV0dXJuIG5ldyBlKHQscixuLGksbyxzKX0sT2JqZWN0LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fKXtpZighdClyZXR1cm4gZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKSx2b2lkIGUuX19vYnNlcnZlcnNfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dD09PXImJihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UobiwxKSxkZWxldGUgZS5fX29ic2VydmVyc19fW25dLmNhbGxiYWNrLGUuX19vYnNlcnZlcnNfXy5zcGxpY2UobiwxKSl9KX19LEFycmF5Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBBcnJheS5vYnNlcnZlciBpcyBub3QgYW4gQXJyYXkiKTtyPXJ8fFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwic3BsaWNlIl07dmFyIHM9bmV3IFByb3h5KGUse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiJ1bm9ic2VydmUiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gZT9PYmplY3QudW5vYnNlcnZlKHQsZSk6dC51bm9ic2VydmUoKX06InNwbGljZSI9PT1uP2Z1bmN0aW9uKG4saSl7aWYoIm51bWJlciIhPXR5cGVvZiBufHwibnVtYmVyIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgdHdvIGFyZ3VtZW50cyB0byBBcnJheSBzcGxpY2UgYXJlIG5vdCBudW1iZXIsIG51bWJlciIpO3ZhciBvPXRoaXMuc2xpY2UobixuK2kpLHM9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50cy5sZW5ndGgtMjowLHU9e29iamVjdDplLHR5cGU6InNwbGljZSIsaW5kZXg6bixyZW1vdmVkOm8sYWRkZWRDb3VudDpzfTtpZih0LnNwbGljZS5hcHBseSh0LGFyZ3VtZW50cyksci5pbmRleE9mKCJzcGxpY2UiKT49MCl7bj0wPT09YS5fX29ic2VydmVyX18uY2hhbmdlc2V0Lmxlbmd0aDt2YXIgYz1hLl9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7YS5fX29ic2VydmVyX18uY2hhbmdlc2V0LnB1c2godSksbiYmYyghMSwibnVtYmVyIj09dHlwZW9mIGMuZGVsYXk/Yy5kZWxheToxMCl9fToicHVzaCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aCwwLGUpfToicG9wIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKX06InVuc2hpZnQiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwwLGUpfToic2hpZnQiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSgwLDEpfTp0W25dfX0pLGE9T2JqZWN0Lm9ic2VydmUocyxmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ibGVuZ3RoIiE9PWUubmFtZSYmImFkZCIhPT1lLm5hbWUmJighcnx8ci5pbmRleE9mKGUudHlwZSk+PTApfSk7bi5sZW5ndGg+MCYmdChuKX0scixuLGksbyk7cmV0dXJuIGF9LEFycmF5LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVub2JzZXJ2ZSh0KX0pLE9iamVjdC5kZWVwT2JzZXJ2ZT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbyhlLHIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoKCJvYmplY3QiPT09bihlW2ldKXx8ImFycmF5Ij09PW4oZVtpXSkpJiYhZVtpXS5oYXNPd25Qcm9wZXJ0eSgiX19vYnNlcnZlcnNfXyIpKXt2YXIgbz1yLnNsaWNlKDApO28ucHVzaChpKSxlW2ldPU9iamVjdC5kZWVwT2JzZXJ2ZShlW2ldLHQsbyl9fSl9dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJue30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCl9O3JldHVybiBvKGUscj1yfHxbXSksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihuKXt2YXIgaT1bXTtuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KHIubGVuZ3RoPjA/ci5qb2luKCIuIikrIi4iOiIiKStlLm5hbWU7InVwZGF0ZSIhPT1lLnR5cGUmJiJhZGQiIT09ZS50eXBlfHxvKGUub2JqZWN0LHIpLGkucHVzaCh7bmFtZTplLm5hbWUsb2JqZWN0OmUub2JqZWN0LHR5cGU6ZS50eXBlLG9sZFZhbHVlOmUub2xkVmFsdWUsbmV3VmFsdWU6ZS5vYmplY3RbZS5uYW1lXSxrZXlwYXRoOnR9KSxmdW5jdGlvbiBlKHQscixuLG8scyl7byBpbnN0YW5jZW9mIE9iamVjdD9PYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKCFufHxuW2FdIT09b1thXSl7dmFyIHU9biYmdm9pZCAwIT09blthXT9uW2FdOnZvaWQgMCxjPXZvaWQgMD09PXU/ImFkZCI6InVwZGF0ZSIsZj1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6YyxvbGRWYWx1ZTp1LG5ld1ZhbHVlOm9bYV0sa2V5cGF0aDpmfSksZSh0LHIsdSxvW2FdLGYpfX0pOm4gaW5zdGFuY2VvZiBPYmplY3QmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHU9bnVsbD09PW8/InVwZGF0ZSI6ImRlbGV0ZSIsYz1zKyIuIithO2kucHVzaCh7bmFtZTp0LG9iamVjdDpyLHR5cGU6dSxvbGRWYWx1ZTpuW2FdLG5ld1ZhbHVlOm8sa2V5cGF0aDpjfSksZSh0LHIsblthXSx2b2lkIDAsYyl9KX0oZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQoaSl9KX19KCl9LDEzOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwxNDpmdW5jdGlvbihlLHQscil7dmFyIG49cigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLGkpe3JldHVybiBlLmNhbGwodCxyLG4saSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwxNjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LDE5OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LldhdGNoaW5nWW91PXZvaWQgMDt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMjAwKSk7dC5XYXRjaGluZ1lvdT1uLmRlZmF1bHR9LDIwMDpmdW5jdGlvbih0LHIsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1pKG4oMykpLHM9aShuKDUpKTtuKDEyMyk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KDAsby5kZWZhdWx0KSh0aGlzLGUpLHRoaXMuX3dhdGNoaW5nPXt9LHRoaXMuX29ic2VydmVycz1bXX1yZXR1cm4oMCxzLmRlZmF1bHQpKGUsW3trZXk6IndhdGNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3JldHVybiB0aGlzLl93YXRjaGluZ1tlXT1uP09iamVjdC5kZWVwT2JzZXJ2ZSh0LGZ1bmN0aW9uKHQpe3QuZXZlcnkoZnVuY3Rpb24odCl7ci5fZmlyZUV2ZW50KGUsdCl9KX0pOk9iamVjdC5vYnNlcnZlKHQsZnVuY3Rpb24odCl7dC5ldmVyeShmdW5jdGlvbih0KXtyLl9maXJlRXZlbnQoZSx0KX0pfSksdGhpcy5fd2F0Y2hpbmdbZV19fSx7a2V5OiJvYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5wdXNoKHtrZXk6ZSxjYWxsYmFjazp0fSl9fSx7a2V5OiJfZmlyZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX29ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayh0KX0pfX1dKSxlfSgpO3IuZGVmYXVsdD1hLHQuZXhwb3J0cz1yLmRlZmF1bHR9LDI0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSwyNzpmdW5jdGlvbihlLHQscil7dmFyIG49cig3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4gZTt2YXIgcixpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSwyODpmdW5jdGlvbihlLHQscil7dmFyIG49cig3KSxpPXIoMSkuZG9jdW1lbnQsbz1uKGkpJiZuKGkuY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudChlKTp7fX19LDM6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSwzOTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDQpJiYhcigxMykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIoMjgpKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sNDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPSFyKDEzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDU6ZnVuY3Rpb24odCxyLG4peyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDU5KSk7ci5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaS5kZWZhdWx0KShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0sNTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz17ZGVmYXVsdDpyKDYxKSxfX2VzTW9kdWxlOiEwfX0sNjpmdW5jdGlvbihlLHQscil7dmFyIG49cigxKSxpPXIoMCksbz1yKDE0KSxzPXIoMTEpLGE9cigxMCksdT1mdW5jdGlvbihlLHQscil7dmFyIGMsZixsLGQ9ZSZ1LkYscD1lJnUuRyx5PWUmdS5TLGg9ZSZ1LlAsdj1lJnUuQixnPWUmdS5XLGI9cD9pOmlbdF18fChpW3RdPXt9KSxtPWIucHJvdG90eXBlLF89cD9uOnk/blt0XTooblt0XXx8e30pLnByb3RvdHlwZTtmb3IoYyBpbiBwJiYocj10KSxyKShmPSFkJiZfJiZ2b2lkIDAhPT1fW2NdKSYmYShiLGMpfHwobD1mP19bY106cltjXSxiW2NdPXAmJiJmdW5jdGlvbiIhPXR5cGVvZiBfW2NdP3JbY106diYmZj9vKGwsbik6ZyYmX1tjXT09bD9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH0obCk6aCYmImZ1bmN0aW9uIj09dHlwZW9mIGw/byhGdW5jdGlvbi5jYWxsLGwpOmwsaCYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVtjXT1sLGUmdS5SJiZtJiYhbVtjXSYmcyhtLGMsbCkpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCxlLmV4cG9ydHM9dX0sNjE6ZnVuY3Rpb24oZSx0LHIpe3IoNjIpO3ZhciBuPXIoMCkuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0sNjI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNik7bihuLlMrbi5GKiFyKDQpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDgpLmZ9KX0sNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSw4OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDkpLGk9cigzOSksbz1yKDI3KSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cig0KT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdD1vKHQsITApLG4ociksaSl0cnl7cmV0dXJuIHMoZSx0LHIpfWNhdGNoKGUpe31pZigiZ2V0ImluIHJ8fCJzZXQiaW4gcil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiByJiYoZVt0XT1yLnZhbHVlKSxlfX0sOTpmdW5jdGlvbihlLHQscil7dmFyIG49cig3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX19KX0pfSwvKiAyMDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig0NzIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoOSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig5OCksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigxKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNyksdj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpLGc9cigxNCksYj1yKDIwNSksbT12LmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSWRlbnRpdGllcyhlLHQpeygwLGQuZGVmYXVsdCkodGhpcyxJZGVudGl0aWVzKTt2YXIgcj10aGlzO3IuX3dhdGNoaW5nWW91PW5ldyBiLldhdGNoaW5nWW91LHIuX3N0b3JhZ2VNYW5hZ2VyPXQsci5fZ3VpZCxyLl90eXBlPWUsci5faWRlbnRpdGllcz17fSxyLl9hY2Nlc3NUb2tlbnM9ci53YXRjaGluZ1lvdS53YXRjaCgiYWNjZXNzVG9rZW5zIix7fSwhMCl9cmV0dXJuKDAseS5kZWZhdWx0KShJZGVudGl0aWVzLFt7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pZGVudGl0aWVzPXt9LHRoaXMuY3VycmVudElkZW50aXR5PXZvaWQgMCx0aGlzLmRlZmF1bHRJZGVudGl0eT12b2lkIDB9fSx7a2V5OiJnZXRJZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuKDAsZi5kZWZhdWx0KSh7fSx0aGlzLl9pZGVudGl0aWVzW2VdKX19LHtrZXk6ImxvYWRJZGVudGl0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KG51bGwsbnVsbCwiaWRlbnRpdGllcyIpLnRoZW4oZnVuY3Rpb24ocil7bS5pbmZvKCJbSWRlbnRpdGllcy5Mb2FkIElkZW50aXRpZXNdIGlkZW50aXRpZXM6ICIsciksciYmKGUuX2lkZW50aXRpZXM9ciwKLy8gbGV0J3Mgc2V0IGFzIGRlZmF1bHQgaWRlbnRpdHkgdGhlIG9uZSB0aGF0IGV4cGlyZXMgbGF0ZXIKZS5pZGVudGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPSgwLGcuc2Vjb25kc1NpbmNlRXBvY2gpKCksbj1lLl9pZGVudGl0aWVzW3RdLGk9bi5leHBpcmVzOwovLyAgICAgICAgICAgIGlmICghaWRlbnRpdHkuaGFzT3duUHJvcGVydHkoJ2ludGVyd29ya2luZycpCi8vICAgICAgICAgICAgfHwgIWlkZW50aXR5LmludGVyd29ya2luZykgewplLmRlZmF1bHRJZGVudGl0eT10LHBhcnNlSW50KGkpPnImJihlLmRlZmF1bHRJZGVudGl0eS5leHBpcmVzPXBhcnNlSW50KGkpLGUuY3VycmVudElkZW50aXR5PXQpfSkpLHQoKX0pfSl9fSx7a2V5OiJsb2FkQWNjZXNzVG9rZW5zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJhY2Nlc3NUb2tlbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3ImJihlLl9hY2Nlc3NUb2tlbnM9ciksdCgpfSl9KX19LHtrZXk6ImFkZElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLGkpe2lmKHIuX2lzVmFsaWQoZSkpe3ZhciBvPWUuaWRlbnRpZmllcnNbMF07KDAsZi5kZWZhdWx0KSh0Ll9pZGVudGl0aWVzW29dLGUpLHQuX3N0b3JlSWRlbnRpdHkoZSkudGhlbihmdW5jdGlvbigpe3QuX2lkZW50aXRpZXNbb10uc3RhdHVzPSJjcmVhdGVkIixuKCl9KX1lbHNlIGkoIltJZGVudGl0aWVzLmFkZElkZW50aXR5XSBpbnZhbGlkIElkQXNzZXJ0aW9uIil9KX19LHtrZXk6ImFkZEFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixpKXtpZihyLl9pc1ZhbGlkKGUpKXtlLnVzZXJQcm9maWxlLmd1aWQ9ci5fZ3VpZDt2YXIgbz1lLnVzZXJQcm9maWxlLnVzZXJVUkw7ci5pZGVudGl0aWVzW29dP3IuaWRlbnRpdGllc1tvXT1lOnIuX2lkZW50aXRpZXNbb109ZSxyLl9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXt0Ll9pZGVudGl0aWVzW29dLnN0YXR1cz0iY3JlYXRlZCIsMD09ci5kZWZhdWx0SWRlbnRpdHkmJihyLmRlZmF1bHRJZGVudGl0eT1vKSxuKGUpfSl9ZWxzZSBpKCJbSWRlbnRpdGllcy5hZGRBc3NlcnRpb25dIGludmFsaWQgSWRBc3NlcnRpb246ICIsZSl9KX19LHtrZXk6InJlbW92ZUlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7ZGVsZXRlIHQuaWRlbnRpdGllc1tlXSx0Ll9zdG9yZSgpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToiYWRkQWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG0uaW5mbygiW0lkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW5dICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2lzVmFsaWRBY2Nlc3NUb2tlbihlKT8oCi8vICAgICAgICBsZXQgbmV3QWNjZXNzVG9rZW4gPSBkZWVwQ2xvbmUoYWNjZXNzVG9rZW4pOwp0Ll9hY2Nlc3NUb2tlbnNbZS5kb21haW5dPWUsdC5fc3RvcmVBY2Nlc3NUb2tlbnMoKS50aGVuKGZ1bmN0aW9uKCl7dC5fYWNjZXNzVG9rZW5zW2UuZG9tYWluXS5zdGF0dXM9ImNyZWF0ZWQiLHIoZSl9KSk6bigiW0lkZW50aXRpZXMuYWRkSWRlbnRpdHldIGludmFsaWQgQWNjZXNzVG9rZW46ICIsZSl9KX19LHtrZXk6InNldEFjY2Vzc1Rva2VuSW5Qcm9ncmVzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYWNjZXNzVG9rZW5zW2VdP3RoaXMuX2FjY2Vzc1Rva2Vuc1tlXS5zdGF0dXM9ImluLXByb2dyZXNzIjp0aGlzLl9hY2Nlc3NUb2tlbnNbZV09e3N0YXR1czoiaW4tcHJvZ3Jlc3MifX19LHtrZXk6ImdldEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2FjY2Vzc1Rva2Vuc1tlXTtyZXR1cm4gcj90LmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybi0xIT1yLnJlc291cmNlcy5pbmRleE9mKGUpfSk/dGhpcy5fYWNjZXNzVG9rZW5zW2VdOm5ldyBFcnJvcigiW0lkZW50aXRpZXMuZ2V0QWNjZXNzVG9rZW5dIE5vdCBmb3VuZCBmb3IgIixlKTp2b2lkIDB9fSx7a2V5OiJ1cGRhdGVBc3NlcnRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocil7dmFyIG49ZS51c2VyUHJvZmlsZS51c2VyVXJsO2lmKCF0LmlkZW50aXRpZXNbbl0pcmV0dXJuIHJlamVjdCgiW0lkZW50aXRpZXMudXBkYXRlQXNzZXJ0aW9uXSBJZGVudGl0eSBub3QgZm91bmQgZm9yICIsbik7dC5pZGVudGl0aWVzW25dPWUsdC5fc3RvcmUoKS50aGVuKGZ1bmN0aW9uKCl7cigpfSl9KX19LHtrZXk6ImFkZElkQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLG89bmV3IFIodCxyLG4pO2kuaWRBc3NlcnRpb25MaXN0LnB1c2gobyl9fSx7a2V5OiJfaXNWYWxpZCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUuaGFzT3duUHJvcGVydHkoImFzc2VydGlvbiIpKXJldHVybiExO3ZhciB0PWUuYXNzZXJ0aW9uLnNwbGl0KCIuIik7Ci8vdmVyaWZ5IGlmIHRoZSB0b2tlbiBjb250YWlucyB0aGUgMyBjb21wb25lbnRzLCBvciBqdXN0IHRoZSBhc3NlcnRpb24KdHJ5e3RbMV0/KDAsZy5kZWNvZGUpKHRbMV0pOigwLGcuZGVjb2RlKShlLmFzc2VydGlvbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSx7a2V5OiJfaXNWYWxpZEFjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWUuaGFzT3duUHJvcGVydHkoImFjY2Vzc1Rva2VuIikmJighIWUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYoISghZS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2VzIil8fCFBcnJheS5pc0FycmF5KGUucmVzb3VyY2VzKSkmJighKCFlLmhhc093blByb3BlcnR5KCJleHBpcmVzIil8fCEoMCxzLmRlZmF1bHQpKGUuZXhwaXJlcykpJiYhIWUuaGFzT3duUHJvcGVydHkoImlucHV0IikpKSl9fSx7a2V5OiJfc3RvcmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0oMCxpLmRlZmF1bHQpKGUuX2lkZW50aXRpZXMpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gdC5fc3RvcmFnZU1hbmFnZXIuc2V0KHIsMCxlLl9pZGVudGl0aWVzW3JdLCJpZGVudGl0aWVzIil9KTt1LmRlZmF1bHQuYWxsKG8pLnRoZW4oZnVuY3Rpb24oKXtyKCl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJPbiBfc2VuZFJlcG9ydGVyU2Vzc2lvbktleSBmcm9tIG1ldGhvZCBzdG9yZUlkZW50aXR5IGVycm9yOiAiK2UpfSl9KX19LHtrZXk6Il9zdG9yZUFjY2Vzc1Rva2VucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHQscil7dmFyIG49KDAsZy5kZWVwQ2xvbmUpKGUuX2FjY2Vzc1Rva2Vucyk7ZS5fc3RvcmFnZU1hbmFnZXIuc2V0KCJhY2Nlc3NUb2tlbnMiLDAsbikudGhlbihmdW5jdGlvbigpe3QoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3IoIk9uIF9zZW5kUmVwb3J0ZXJTZXNzaW9uS2V5IGZyb20gbWV0aG9kIHN0b3JlSWRlbnRpdHkgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9fSx7a2V5OiJhY2Nlc3NUb2tlbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3NUb2tlbnN9fSx7a2V5OiJ3YXRjaGluZ1lvdSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhdGNoaW5nWW91fX0se2tleToiZ3VpZCIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2d1aWQ9ZX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aWR9fSx7a2V5OiJkZWZhdWx0SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IG5ldyBFcnJvcigiW0lkZW50aXRpZXMuc2V0IGRlZmF1bHRJZGVudGl0eSBdIEVycm9yOiBpZGVudGl0eSBkb2VzIG5vdCBleGlzdCBoZXJlOiAiLGUpO3RoaXMuX2RlZmF1bHRJZGVudGl0eT1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2RlZmF1bHRJZGVudGl0eSYmKDAsZi5kZWZhdWx0KSh7fSx0aGlzLmlkZW50aXRpZXNbdGhpcy5fZGVmYXVsdElkZW50aXR5XSl9fSx7a2V5OiJjdXJyZW50SWRlbnRpdHkiLHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5pZGVudGl0aWVzW2VdKXRocm93IGU7dGhpcy5fY3VycmVudElkZW50aXR5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybigwLGYuZGVmYXVsdCkoe30sdGhpcy5pZGVudGl0aWVzW3RoaXMuX2N1cnJlbnRJZGVudGl0eV0pfX0se2tleToiaWRlbnRpZmllcnMiLGdldDpmdW5jdGlvbigpe3JldHVybigwLGkuZGVmYXVsdCkodGhpcy5faWRlbnRpdGllcyl9fV0pLElkZW50aXRpZXN9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIElkQXNzZXJ0aW9uKGUsdCxyKXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRBc3NlcnRpb24pO3ZhciBuPXRoaXM7bi5fYXNzZXJ0aW9uPWUsbi5faWRwPXQsbi5fdXNlclByb2ZpbGU9cn1yZXR1cm4oMCx5LmRlZmF1bHQpKElkQXNzZXJ0aW9uLFt7a2V5OiJhc3NlcnRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hc3NlcnRpb259fSx7a2V5OiJpZHAiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZHB9fSx7a2V5OiJ1c2VyUHJvZmlsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJQcm9maWxlfX1dKSxJZEFzc2VydGlvbn0oKTshZnVuY3Rpb24oKXtmdW5jdGlvbiBJZFZhbGlkYXRpb24oZSx0KXsoMCxkLmRlZmF1bHQpKHRoaXMsSWRWYWxpZGF0aW9uKTt2YXIgcj10aGlzO3IuaWRlbnRpdHk9ZSxyLmNvbnRlbnRzPXR9KDAseS5kZWZhdWx0KShJZFZhbGlkYXRpb24sW3trZXk6InZhbGlkYXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fV0pfSgpO3QuZGVmYXVsdD1fLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBbGxvd092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxBbGxvd092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShBbGxvd092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXphdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpemVzIGEgcG9zaXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoITApfHwtMT09PWUuaW5kZXhPZighMSkmJiJOb3QgQXBwbGljYWJsZSJ9fV0pLEFsbG93T3ZlcnJpZGVzfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIwOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCbG9ja092ZXJyaWRlcygpeygwLGkuZGVmYXVsdCkodGhpcyxCbG9ja092ZXJyaWRlcyl9cmV0dXJuKDAscy5kZWZhdWx0KShCbG9ja092ZXJyaWRlcyxbe2tleToiY29tYmluZSIsLyoqCiAgICAqIEdpdmVuIGFuIGFycmF5IG9mIGluZGl2aWR1YWwgYXV0aG9yaXNhdGlvbiBkZWNpc2lvbnMsIHByaW9yaXRpc2VzIGEgbmVnYXRpdmUgb25lLgogICAgKiBAcGFyYW0gICAge2Jvb2xlYW5bXX0gICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoITEpJiYoLTEhPT1lLmluZGV4T2YoITApfHwiTm90IEFwcGxpY2FibGUiKX19XSksQmxvY2tPdmVycmlkZXN9KCk7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogMjA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZpcnN0QXBwbGljYWJsZSgpeygwLGkuZGVmYXVsdCkodGhpcyxGaXJzdEFwcGxpY2FibGUpfXJldHVybigwLHMuZGVmYXVsdCkoRmlyc3RBcHBsaWNhYmxlLFt7a2V5OiJjb21iaW5lIiwvKioKICAgICogR2l2ZW4gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbCBhdXRob3Jpc2F0aW9uIGRlY2lzaW9ucywgcmV0dXJucyB0aGUgZmlyc3Qgb25lIGRpZmZlcmVudCBmcm9tICdOb3QgQXBwbGljYWJsZScsIGVpdGhlciBwb3NpdGl2ZSBvciBuZWdhdGl2ZS4KICAgICogQHBhcmFtICAgIHtib29sZWFuW119ICAgICBkZWNpc2lvbnMKICAgICogQHJldHVybnMgIHtib29sZWFufQogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoIk5vdCBBcHBsaWNhYmxlIiE9PWVbdF0pcmV0dXJuIGVbdF07cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn19XSksRmlyc3RBcHBsaWNhYmxlfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDIxMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTAxKSxfX2VzTW9kdWxlOiEwfX0sLyogMjExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig1MDgpLF9fZXNNb2R1bGU6ITB9fSwvKiAyMTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlN5blN1YnNjcmlwdGlvbiIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIsbixvKXsoMCxpLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uKTt2YXIgcz10aGlzLGE9cisiL2NoaWxkcmVuLyIsdT1yKyIvY2hhbmdlcyI7Ci8vcHJvY2VzcyBkZWxldGUgbWVzc2FnZQpzLl9kZWxldGVMaXN0ZW5lcj1lLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24obil7aWYoImRlbGV0ZSI9PT1uLnR5cGUpe2MubG9nKCJTdWJzY3JpcHRpb24tREVMRVRFOiAiLG4pOwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gYWxsIHN1YnNjcmliZXJzCnZhciBpPXt0eXBlOiJkZWxldGUiLGZyb206bi5mcm9tLHRvOnQsYm9keTp7aWRlbnRpdHk6bi5ib2R5LmlkZW50aXR5LHJlc291cmNlOnJ9fTsKLy9zZW5kIGRlbGV0ZSB0byBoeXBlcnR5CmUucG9zdE1lc3NhZ2UoaSxmdW5jdGlvbihlKXtjLmxvZygiU3Vic2NyaXB0aW9uLURFTEVURS1SRVBMWTogIixlKSwyMDA9PT1lLmJvZHkuY29kZSYmcy5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSksCi8vYWRkIGNoYW5nZSBwdWJsaXNoIGFkZHJlc3Mgb3IgZm9yd2FyZApzLl9jaGFuZ2VMaXN0ZW5lcj1vP2UuYWRkUHVibGlzaCh1KTplLmFkZEZvcndhcmQodSx0KSxzLl9jaGlsZHJlbkxpc3RlbmVycz1bXSxjLmxvZygiW1N1YnNjcmlwdGlvbl0gLSBjaGlsZElEIixuKSxuLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49YStyO2MubG9nKCJbU3Vic2NyaXB0aW9uXSAtIGNoaWxkSUQiLGEsbixyKTsKLy9hZGQgY2hpbGRyZW4gcHVibGlzaCBhZGRyZXNzCnZhciBpPWUuYWRkUHVibGlzaChuKTsKLy9hZGQgc2VsZiBmb3J3YXJkIGlmIGFuIG9ic2VydmVyCmlmKHMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goaSksIW8pe3ZhciB1PWUuYWRkRm9yd2FyZChuLHQpO3MuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2godSl9fSl9cmV0dXJuKDAscy5kZWZhdWx0KShTdWJzY3JpcHRpb24sW3trZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fZGVsZXRlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hhbmdlTGlzdGVuZXIucmVtb3ZlKCksZS5fY2hpbGRyZW5MaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiAyMTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMjE0KSxlLmV4cG9ydHM9cig0MTYpfSwvKiAyMTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGRlZmluZShlLHIsbil7ZVtyXXx8T2JqZWN0W3RdKGUscix7d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOm59KX1pZihyKDIxNSkscig0MTIpLHIoNDEzKSxlLl9iYWJlbFBvbHlmaWxsKXRocm93IG5ldyBFcnJvcigib25seSBvbmUgaW5zdGFuY2Ugb2YgYmFiZWwtcG9seWZpbGwgaXMgYWxsb3dlZCIpO2UuX2JhYmVsUG9seWZpbGw9ITA7dmFyIHQ9ImRlZmluZVByb3BlcnR5IjtkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwicGFkTGVmdCIsIiIucGFkU3RhcnQpLGRlZmluZShTdHJpbmcucHJvdG90eXBlLCJwYWRSaWdodCIsIiIucGFkRW5kKSwicG9wLHJldmVyc2Usc2hpZnQsa2V5cyx2YWx1ZXMsZW50cmllcyxpbmRleE9mLGV2ZXJ5LHNvbWUsZm9yRWFjaCxtYXAsZmlsdGVyLGZpbmQsZmluZEluZGV4LGluY2x1ZGVzLGpvaW4sc2xpY2UsY29uY2F0LHB1c2gsc3BsaWNlLHVuc2hpZnQsc29ydCxsYXN0SW5kZXhPZixyZWR1Y2UscmVkdWNlUmlnaHQsY29weVdpdGhpbixmaWxsIi5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7W11bZV0mJmRlZmluZShBcnJheSxlLEZ1bmN0aW9uLmNhbGwuYmluZChbXVtlXSkpfSl9KS5jYWxsKHQscigxNDcpKX0sLyogMjE1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDIxNikscigyMTgpLHIoMjE5KSxyKDIyMCkscigyMjEpLHIoMjIyKSxyKDIyMykscigyMjQpLHIoMjI1KSxyKDIyNikscigyMjcpLHIoMjI4KSxyKDIyOSkscigyMzApLHIoMjMxKSxyKDIzMikscigyMzQpLHIoMjM1KSxyKDIzNikscigyMzcpLHIoMjM4KSxyKDIzOSkscigyNDApLHIoMjQxKSxyKDI0MikscigyNDMpLHIoMjQ0KSxyKDI0NSkscigyNDYpLHIoMjQ3KSxyKDI0OCkscigyNDkpLHIoMjUwKSxyKDI1MSkscigyNTIpLHIoMjUzKSxyKDI1NCkscigyNTUpLHIoMjU2KSxyKDI1NykscigyNTgpLHIoMjU5KSxyKDI2MCkscigyNjEpLHIoMjYyKSxyKDI2MykscigyNjQpLHIoMjY1KSxyKDI2NikscigyNjcpLHIoMjY4KSxyKDI2OSkscigyNzApLHIoMjcxKSxyKDI3MikscigyNzMpLHIoMjc0KSxyKDI3NSkscigyNzYpLHIoMjc3KSxyKDI3OCkscigyNzkpLHIoMjgwKSxyKDI4MSkscigyODIpLHIoMjgzKSxyKDI4NCkscigyODUpLHIoMjg2KSxyKDI4NykscigyODgpLHIoMjg5KSxyKDI5MCkscigyOTEpLHIoMjkyKSxyKDI5MykscigyOTQpLHIoMjk2KSxyKDI5NykscigyOTkpLHIoMzAwKSxyKDMwMSkscigzMDIpLHIoMzAzKSxyKDMwNCkscigzMDUpLHIoMzA3KSxyKDMwOCkscigzMDkpLHIoMzEwKSxyKDMxMSkscigzMTIpLHIoMzEzKSxyKDMxNCkscigzMTUpLHIoMzE2KSxyKDMxNykscigzMTgpLHIoMzE5KSxyKDEyMykscigzMjApLHIoMzIxKSxyKDE2NikscigzMjIpLHIoMzIzKSxyKDMyNCkscigzMjUpLHIoMzI2KSxyKDE2OSkscigxNzEpLHIoMTcyKSxyKDMyNykscigzMjgpLHIoMzI5KSxyKDMzMCkscigzMzEpLHIoMzMyKSxyKDMzMykscigzMzQpLHIoMzM1KSxyKDMzNikscigzMzcpLHIoMzM4KSxyKDMzOSkscigzNDApLHIoMzQxKSxyKDM0MikscigzNDMpLHIoMzQ0KSxyKDM0NSkscigzNDYpLHIoMzQ3KSxyKDM0OCkscigzNDkpLHIoMzUwKSxyKDM1MSkscigzNTIpLHIoMzUzKSxyKDM1NCkscigzNTUpLHIoMzU2KSxyKDM1NykscigzNTgpLHIoMzU5KSxyKDM2MCkscigzNjEpLHIoMzYyKSxyKDM2MykscigzNjQpLHIoMzY1KSxyKDM2NikscigzNjcpLHIoMzY4KSxyKDM2OSkscigzNzApLHIoMzcxKSxyKDM3MikscigzNzMpLHIoMzc0KSxyKDM3NSkscigzNzYpLHIoMzc3KSxyKDM3OCkscigzNzkpLHIoMzgwKSxyKDM4MSkscigzODIpLHIoMzgzKSxyKDM4NCkscigzODUpLHIoMzg2KSxyKDM4NykscigzODgpLHIoMzg5KSxyKDM5MCkscigzOTEpLHIoMzkyKSxyKDM5MykscigzOTQpLHIoMzk1KSxyKDM5NikscigzOTcpLHIoMzk4KSxyKDM5OSkscig0MDApLHIoNDAxKSxyKDQwMikscig0MDMpLHIoNDA0KSxyKDQwNSkscig0MDYpLHIoNDA3KSxyKDQwOCkscig0MDkpLHIoNDEwKSxyKDQxMSksZS5leHBvcnRzPXIoMjcpfSwvKiAyMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbQp2YXIgbj1yKDQpLGk9cigyMyksbz1yKDExKSxzPXIoMCksYT1yKDE5KSx1PXIoNDIpLktFWSxjPXIoNSksZj1yKDgwKSxsPXIoNjEpLGQ9cig0OSkscD1yKDgpLHk9cigxNDkpLGg9cigxMDMpLHY9cigyMTcpLGc9cig4MyksYj1yKDMpLG09cig2KSxfPXIoMjQpLFI9cigzMSksdz1yKDQ4KSxTPXIoNTIpLFA9cigxNTIpLE89cigyNSksTT1yKDEyKSxrPXIoNTApLEw9Ty5mLHg9TS5mLEU9UC5mLEE9bi5TeW1ib2wsVT1uLkpTT04sRD1VJiZVLnN0cmluZ2lmeSxJPXAoIl9oaWRkZW4iKSxqPXAoInRvUHJpbWl0aXZlIiksVD17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxDPWYoInN5bWJvbC1yZWdpc3RyeSIpLEY9Zigic3ltYm9scyIpLE49Zigib3Atc3ltYm9scyIpLHE9T2JqZWN0LnByb3RvdHlwZSxIPSJmdW5jdGlvbiI9PXR5cGVvZiBBLEI9bi5RT2JqZWN0LEs9IUJ8fCFCLnByb3RvdHlwZXx8IUIucHJvdG90eXBlLmZpbmRDaGlsZCxHPW8mJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9Uyh4KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHgodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUwocSx0KTtuJiZkZWxldGUgcVt0XSx4KGUsdCxyKSxuJiZlIT09cSYmeChxLHQsbil9OngsVj1mdW5jdGlvbihlKXt2YXIgdD1GW2VdPVMoQS5wcm90b3R5cGUpO3JldHVybiB0Ll9rPWUsdH0sVz1IJiYic3ltYm9sIj09dHlwZW9mIEEuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEF9LFk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09cSYmWShOLHQsciksYihlKSx0PVIodCwhMCksYihyKSxpKEYsdCk/KHIuZW51bWVyYWJsZT8oaShlLEkpJiZlW0ldW3RdJiYoZVtJXVt0XT0hMSkscj1TKHIse2VudW1lcmFibGU6dygwLCExKX0pKTooaShlLEkpfHx4KGUsSSx3KDEse30pKSxlW0ldW3RdPSEwKSxHKGUsdCxyKSk6eChlLHQscil9LHo9ZnVuY3Rpb24oZSx0KXtiKGUpO2Zvcih2YXIgcixuPXYodD1fKHQpKSxpPTAsbz1uLmxlbmd0aDtvPmk7KVkoZSxyPW5baSsrXSx0W3JdKTtyZXR1cm4gZX0sSj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P1MoZSk6eihTKGUpLHQpfSwkPWZ1bmN0aW9uKGUpe3ZhciB0PVQuY2FsbCh0aGlzLGU9UihlLCEwKSk7cmV0dXJuISh0aGlzPT09cSYmaShGLGUpJiYhaShOLGUpKSYmKCEodHx8IWkodGhpcyxlKXx8IWkoRixlKXx8aSh0aGlzLEkpJiZ0aGlzW0ldW2VdKXx8dCl9LFE9ZnVuY3Rpb24oZSx0KXtpZihlPV8oZSksdD1SKHQsITApLGUhPT1xfHwhaShGLHQpfHxpKE4sdCkpe3ZhciByPUwoZSx0KTtyZXR1cm4hcnx8IWkoRix0KXx8aShlLEkpJiZlW0ldW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sWD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1FKF8oZSkpLG49W10sbz0wO3IubGVuZ3RoPm87KWkoRix0PXJbbysrXSl8fHQ9PUl8fHQ9PXV8fG4ucHVzaCh0KTtyZXR1cm4gbn0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lPT09cSxuPUUocj9OOl8oZSkpLG89W10scz0wO24ubGVuZ3RoPnM7KSFpKEYsdD1uW3MrK10pfHxyJiYhaShxLHQpfHxvLnB1c2goRlt0XSk7cmV0dXJuIG99OwovLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSkKSHx8KEE9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgQSl0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEiKTt2YXIgZT1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSx0PWZ1bmN0aW9uKHIpe3RoaXM9PT1xJiZ0LmNhbGwoTixyKSxpKHRoaXMsSSkmJmkodGhpc1tJXSxlKSYmKHRoaXNbSV1bZV09ITEpLEcodGhpcyxlLHcoMSxyKSl9O3JldHVybiBvJiZLJiZHKHEsZSx7Y29uZmlndXJhYmxlOiEwLHNldDp0fSksVihlKX0sYShBLnByb3RvdHlwZSwidG9TdHJpbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2t9KSxPLmY9USxNLmY9WSxyKDUzKS5mPVAuZj1YLHIoNzEpLmY9JCxyKDgyKS5mPVosbyYmIXIoNDMpJiZhKHEsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwkLCEwKSx5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFYocChlKSl9KSxzKHMuRytzLlcrcy5GKiFILHtTeW1ib2w6QX0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOylwKGVlW3RlKytdKTtmb3IodmFyIHJlPWsocC5zdG9yZSksbmU9MDtyZS5sZW5ndGg+bmU7KWgocmVbbmUrK10pO3Mocy5TK3MuRiohSCwiU3ltYm9sIix7Ci8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KQpmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoQyxlKz0iIik/Q1tlXTpDW2VdPUEoZSl9LAovLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSkKa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBDKWlmKENbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtLPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtLPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Ci8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKY3JlYXRlOkosCi8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpkZWZpbmVQcm9wZXJ0eTpZLAovLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpkZWZpbmVQcm9wZXJ0aWVzOnosCi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkKZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlEsCi8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCmdldE93blByb3BlcnR5TmFtZXM6WCwKLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKQpnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Wn0pLAovLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSkKVSYmcyhzLlMrcy5GKighSHx8YyhmdW5jdGlvbigpe3ZhciBlPUEoKTsKLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge30KLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsCi8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzCnJldHVybiJbbnVsbF0iIT1EKFtlXSl8fCJ7fSIhPUQoe2E6ZX0pfHwie30iIT1EKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bZV0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspbi5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPXQ9blsxXSwobSh0KXx8dm9pZCAwIT09ZSkmJiFXKGUpKS8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWQKcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LEQuYXBwbHkoVSxuKX19KSwKLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KQpBLnByb3RvdHlwZVtqXXx8cigxOCkoQS5wcm90b3R5cGUsaixBLnByb3RvdHlwZS52YWx1ZU9mKSwKLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXQpsKEEsIlN5bWJvbCIpLAovLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddCmwoTWF0aCwiTWF0aCIsITApLAovLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXQpsKG4uSlNPTiwiSlNPTiIsITApfSwvKiAyMTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9scwp2YXIgbj1yKDUwKSxpPXIoODIpLG89cig3MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1pLmY7aWYocilmb3IodmFyIHMsYT1yKGUpLHU9by5mLGM9MDthLmxlbmd0aD5jOyl1LmNhbGwoZSxzPWFbYysrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LC8qIDIxOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pCm4obi5TLCJPYmplY3QiLHtjcmVhdGU6cig1Mil9KX0sLyogMjE5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApOwovLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpuKG4uUytuLkYqIXIoMTEpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDEyKS5mfSl9LC8qIDIyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKTsKLy8gMTkuMS4yLjMgLyAxNS4yLjMuNyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpuKG4uUytuLkYqIXIoMTEpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0aWVzOnIoMTUxKX0pfSwvKiAyMjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApCnZhciBuPXIoMjQpLGk9cigyNSkuZjtyKDM0KSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKG4oZSksdCl9fSl9LC8qIDIyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKQp2YXIgbj1yKDE1KSxpPXIoMjYpO3IoMzQpKCJnZXRQcm90b3R5cGVPZiIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkobihlKSl9fSl9LC8qIDIyMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKQp2YXIgbj1yKDE1KSxpPXIoNTApO3IoMzQpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogMjI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTykKcigzNCkoImdldE93blByb3BlcnR5TmFtZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIHIoMTUyKS5mfSl9LC8qIDIyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi41IE9iamVjdC5mcmVlemUoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJmcmVlemUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNyBPYmplY3Quc2VhbChPKQp2YXIgbj1yKDYpLGk9cig0Mikub25GcmVlemU7cigzNCkoInNlYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSYmbih0KT9lKGkodCkpOnR9fSl9LC8qIDIyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xNSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoTykKdmFyIG49cig2KSxpPXIoNDIpLm9uRnJlZXplO3IoMzQpKCJwcmV2ZW50RXh0ZW5zaW9ucyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2UoaSh0KSk6dH19KX0sLyogMjI4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0Zyb3plbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiFuKHQpfHwhIWUmJmUodCl9fSl9LC8qIDIyOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMi4xMyBPYmplY3QuaXNTZWFsZWQoTykKdmFyIG49cig2KTtyKDM0KSgiaXNTZWFsZWQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSwvKiAyMzAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuMTEgT2JqZWN0LmlzRXh0ZW5zaWJsZShPKQp2YXIgbj1yKDYpO3IoMzQpKCJpc0V4dGVuc2libGUiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIW4odCkmJighZXx8ZSh0KSl9fSl9LC8qIDIzMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpCnZhciBuPXIoMCk7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigxNTMpfSl9LC8qIDIzMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjEuMy4xMCBPYmplY3QuaXModmFsdWUxLCB2YWx1ZTIpCnZhciBuPXIoMCk7bihuLlMsIk9iamVjdCIse2lzOnIoMjMzKX0pfSwvKiAyMzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0KXsKLy8gNy4yLjkgU2FtZVZhbHVlKHgsIHkpCmUuZXhwb3J0cz1PYmplY3QuaXN8fGZ1bmN0aW9uKGUsdCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT10PzAhPT1lfHwxL2U9PTEvdDplIT1lJiZ0IT10fX0sLyogMjM0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bykKdmFyIG49cigwKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cigxMDcpLnNldH0pfSwvKiAyMzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCnZhciBuPXIoNzIpLGk9e307aVtyKDgpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsaSsiIiE9IltvYmplY3Qgel0iJiZyKDE5KShPYmplY3QucHJvdG90eXBlLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK24odGhpcykrIl0ifSwhMCl9LC8qIDIzNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDE5LjIuMy4yIC8gMTUuMy40LjUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQodGhpc0FyZywgYXJncy4uLikKdmFyIG49cigwKTtuKG4uUCwiRnVuY3Rpb24iLHtiaW5kOnIoMTU0KX0pfSwvKiAyMzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTIpLmYsaT1GdW5jdGlvbi5wcm90b3R5cGUsbz0vXlxzKmZ1bmN0aW9uIChbXiAoXSopLzsKLy8gMTkuMi40LjIgbmFtZQoibmFtZSJpbiBpfHxyKDExKSYmbihpLCJuYW1lIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4oIiIrdGhpcykubWF0Y2gobylbMV19Y2F0Y2goZSl7cmV0dXJuIiJ9fX0pfSwvKiAyMzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYpLGk9cigyNiksbz1yKDgpKCJoYXNJbnN0YW5jZSIpLHM9RnVuY3Rpb24ucHJvdG90eXBlOwovLyAxOS4yLjMuNiBGdW5jdGlvbi5wcm90b3R5cGVbQEBoYXNJbnN0YW5jZV0oVikKbyBpbiBzfHxyKDEyKS5mKHMsbyx7dmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXN8fCFuKGUpKXJldHVybiExO2lmKCFuKHRoaXMucHJvdG90eXBlKSlyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM7Ci8vIGZvciBlbnZpcm9ubWVudCB3L28gbmF0aXZlIGBAQGhhc0luc3RhbmNlYCBsb2dpYyBlbm91Z2ggYGluc3RhbmNlb2ZgLCBidXQgYWRkIHRoaXM6CmZvcig7ZT1pKGUpOylpZih0aGlzLnByb3RvdHlwZT09PWUpcmV0dXJuITA7cmV0dXJuITF9fSl9LC8qIDIzOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMTguMi41IHBhcnNlSW50KHN0cmluZywgcmFkaXgpCm4obi5HK24uRioocGFyc2VJbnQhPWkpLHtwYXJzZUludDppfSl9LC8qIDI0MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU3KTsKLy8gMTguMi40IHBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uRytuLkYqKHBhcnNlRmxvYXQhPWkpLHtwYXJzZUZsb2F0Oml9KX0sLyogMjQxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0KSxpPXIoMjMpLG89cigyOSkscz1yKDEwOSksYT1yKDMxKSx1PXIoNSksYz1yKDUzKS5mLGY9cigyNSkuZixsPXIoMTIpLmYsZD1yKDYyKS50cmltLHA9bi5OdW1iZXIseT1wLGg9cC5wcm90b3R5cGUsdj0iTnVtYmVyIj09byhyKDUyKShoKSksZz0idHJpbSJpbiBTdHJpbmcucHJvdG90eXBlLGI9ZnVuY3Rpb24oZSl7dmFyIHQ9YShlLCExKTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQubGVuZ3RoPjIpe3Q9Zz90LnRyaW0oKTpkKHQsMyk7dmFyIHIsbixpLG89dC5jaGFyQ29kZUF0KDApO2lmKDQzPT09b3x8NDU9PT1vKXtpZig4OD09PShyPXQuY2hhckNvZGVBdCgyKSl8fDEyMD09PXIpcmV0dXJuIE5hTn1lbHNlIGlmKDQ4PT09byl7c3dpdGNoKHQuY2hhckNvZGVBdCgxKSl7Y2FzZSA2NjpjYXNlIDk4Om49MixpPTQ5O2JyZWFrOy8vIGZhc3QgZXF1YWwgL14wYlswMV0rJC9pCmNhc2UgNzk6Y2FzZSAxMTE6bj04LGk9NTU7YnJlYWs7Ly8gZmFzdCBlcXVhbCAvXjBvWzAtN10rJC9pCmRlZmF1bHQ6cmV0dXJuK3R9Zm9yKHZhciBzLHU9dC5zbGljZSgyKSxjPTAsZj11Lmxlbmd0aDtjPGY7YysrKQovLyBwYXJzZUludCBwYXJzZXMgYSBzdHJpbmcgdG8gYSBmaXJzdCB1bmF2YWlsYWJsZSBzeW1ib2wKLy8gYnV0IFRvTnVtYmVyIHNob3VsZCByZXR1cm4gTmFOIGlmIGEgc3RyaW5nIGNvbnRhaW5zIHVuYXZhaWxhYmxlIHN5bWJvbHMKaWYoKHM9dS5jaGFyQ29kZUF0KGMpKTw0OHx8cz5pKXJldHVybiBOYU47cmV0dXJuIHBhcnNlSW50KHUsbil9fXJldHVybit0fTtpZighcCgiIDBvMSIpfHwhcCgiMGIxIil8fHAoIisweDEiKSl7cD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPDE/MDplLHI9dGhpcztyZXR1cm4gciBpbnN0YW5jZW9mIHAmJih2P3UoZnVuY3Rpb24oKXtoLnZhbHVlT2YuY2FsbChyKX0pOiJOdW1iZXIiIT1vKHIpKT9zKG5ldyB5KGIodCkpLHIscCk6Yih0KX07Zm9yKHZhciBtLF89cigxMSk/Yyh5KToiTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIscGFyc2VGbG9hdCxwYXJzZUludCxpc0ludGVnZXIiLnNwbGl0KCIsIiksUj0wO18ubGVuZ3RoPlI7UisrKWkoeSxtPV9bUl0pJiYhaShwLG0pJiZsKHAsbSxmKHksbSkpO3AucHJvdG90eXBlPWgsaC5jb25zdHJ1Y3Rvcj1wLHIoMTkpKG4sIk51bWJlciIscCl9fSwvKiAyNDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzMyksbz1yKDE1OCkscz1yKDExMCksYT0xLi50b0ZpeGVkLHU9TWF0aC5mbG9vcixjPVswLDAsMCwwLDAsMF0sZj0iTnVtYmVyLnRvRml4ZWQ6IGluY29ycmVjdCBpbnZvY2F0aW9uISIsbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0tMSxuPXQ7KytyPDY7KW4rPWUqY1tyXSxjW3JdPW4lMWU3LG49dShuLzFlNyl9LGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTYscj0wOy0tdD49MDspcis9Y1t0XSxjW3RdPXUoci9lKSxyPXIlZSoxZTd9LHA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Nix0PSIiOy0tZT49MDspaWYoIiIhPT10fHwwPT09ZXx8MCE9PWNbZV0pe3ZhciByPVN0cmluZyhjW2VdKTt0PSIiPT09dD9yOnQrcy5jYWxsKCIwIiw3LXIubGVuZ3RoKStyfXJldHVybiB0fSx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMD09PXQ/cjp0JTI9PTE/eShlLHQtMSxyKmUpOnkoZSplLHQvMixyKX0saD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPWU7cj49NDA5NjspdCs9MTIsci89NDA5Njtmb3IoO3I+PTI7KXQrPTEsci89MjtyZXR1cm4gdH07bihuLlArbi5GKighIWEmJigiMC4wMDAiIT09OGUtNS50b0ZpeGVkKDMpfHwiMSIhPT0uOS50b0ZpeGVkKDApfHwiMS4yNSIhPT0xLjI1NS50b0ZpeGVkKDIpfHwiMTAwMDAwMDAwMDAwMDAwMDEyOCIhPT0oMHhkZTBiNmIzYTc2NDAwODApLnRvRml4ZWQoMCkpfHwhcig1KShmdW5jdGlvbigpewovLyBWOCB+IEFuZHJvaWQgNC4zLQphLmNhbGwoe30pfSkpLCJOdW1iZXIiLHt0b0ZpeGVkOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixhLHU9byh0aGlzLGYpLGM9aShlKSx2PSIiLGc9IjAiO2lmKGM8MHx8Yz4yMCl0aHJvdyBSYW5nZUVycm9yKGYpOwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCmlmKHUhPXUpcmV0dXJuIk5hTiI7aWYodTw9LTFlMjF8fHU+PTFlMjEpcmV0dXJuIFN0cmluZyh1KTtpZih1PDAmJih2PSItIix1PS11KSx1PjFlLTIxKWlmKHQ9aCh1KnkoMiw2OSwxKSktNjkscj10PDA/dSp5KDIsLXQsMSk6dS95KDIsdCwxKSxyKj00NTAzNTk5NjI3MzcwNDk2LCh0PTUyLXQpPjApe2ZvcihsKDAsciksbj1jO24+PTc7KWwoMWU3LDApLG4tPTc7Zm9yKGwoeSgxMCxuLDEpLDApLG49dC0xO24+PTIzOylkKDE8PDIzKSxuLT0yMztkKDE8PG4pLGwoMSwxKSxkKDIpLGc9cCgpfWVsc2UgbCgwLHIpLGwoMTw8LXQsMCksZz1wKCkrcy5jYWxsKCIwIixjKTtyZXR1cm4gYz4wPyhhPWcubGVuZ3RoLGc9disoYTw9Yz8iMC4iK3MuY2FsbCgiMCIsYy1hKStnOmcuc2xpY2UoMCxhLWMpKyIuIitnLnNsaWNlKGEtYykpKTpnPXYrZyxnfX0pfSwvKiAyNDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cig1KSxvPXIoMTU4KSxzPTEuLnRvUHJlY2lzaW9uO24obi5QK24uRiooaShmdW5jdGlvbigpewovLyBJRTctCnJldHVybiIxIiE9PXMuY2FsbCgxLHZvaWQgMCl9KXx8IWkoZnVuY3Rpb24oKXsKLy8gVjggfiBBbmRyb2lkIDQuMy0Kcy5jYWxsKHt9KX0pKSwiTnVtYmVyIix7dG9QcmVjaXNpb246ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzLCJOdW1iZXIjdG9QcmVjaXNpb246IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiB2b2lkIDA9PT1lP3MuY2FsbCh0KTpzLmNhbGwodCxlKX19KX0sLyogMjQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEgTnVtYmVyLkVQU0lMT04KdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7RVBTSUxPTjpNYXRoLnBvdygyLC01Mil9KX0sLyogMjQ1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjIgTnVtYmVyLmlzRmluaXRlKG51bWJlcikKdmFyIG49cigwKSxpPXIoNCkuaXNGaW5pdGU7bihuLlMsIk51bWJlciIse2lzRmluaXRlOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmaShlKX19KX0sLyogMjQ2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse2lzSW50ZWdlcjpyKDE1OSl9KX0sLyogMjQ3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjQgTnVtYmVyLmlzTmFOKG51bWJlcikKdmFyIG49cigwKTtuKG4uUywiTnVtYmVyIix7aXNOYU46ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGUhPWV9fSl9LC8qIDI0OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjEuMi41IE51bWJlci5pc1NhZmVJbnRlZ2VyKG51bWJlcikKdmFyIG49cigwKSxpPXIoMTU5KSxvPU1hdGguYWJzO24obi5TLCJOdW1iZXIiLHtpc1NhZmVJbnRlZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiZvKGUpPD05MDA3MTk5MjU0NzQwOTkxfX0pfSwvKiAyNDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4xLjIuNiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUgp2YXIgbj1yKDApO24obi5TLCJOdW1iZXIiLHtNQVhfU0FGRV9JTlRFR0VSOjkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjUwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSCnZhciBuPXIoMCk7bihuLlMsIk51bWJlciIse01JTl9TQUZFX0lOVEVHRVI6LTkwMDcxOTkyNTQ3NDA5OTF9KX0sLyogMjUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxNTcpOwovLyAyMC4xLjIuMTIgTnVtYmVyLnBhcnNlRmxvYXQoc3RyaW5nKQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUZsb2F0IT1pKSwiTnVtYmVyIix7cGFyc2VGbG9hdDppfSl9LC8qIDI1MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoMTU2KTsKLy8gMjAuMS4yLjEzIE51bWJlci5wYXJzZUludChzdHJpbmcsIHJhZGl4KQpuKG4uUytuLkYqKE51bWJlci5wYXJzZUludCE9aSksIk51bWJlciIse3BhcnNlSW50Oml9KX0sLyogMjUzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjMgTWF0aC5hY29zaCh4KQp2YXIgbj1yKDApLGk9cigxNjApLG89TWF0aC5zcXJ0LHM9TWF0aC5hY29zaDtuKG4uUytuLkYqIShzJiY3MTA9PU1hdGguZmxvb3IocyhOdW1iZXIuTUFYX1ZBTFVFKSkmJnMoMS8wKT09MS8wKSwiTWF0aCIse2Fjb3NoOmZ1bmN0aW9uKGUpe3JldHVybihlPStlKTwxP05hTjplPjk0OTA2MjY1LjYyNDI1MTU2P01hdGgubG9nKGUpK01hdGguTE4yOmkoZS0xK28oZS0xKSpvKGUrMSkpfX0pfSwvKiAyNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGFzaW5oKGUpe3JldHVybiBpc0Zpbml0ZShlPStlKSYmMCE9ZT9lPDA/LWFzaW5oKC1lKTpNYXRoLmxvZyhlK01hdGguc3FydChlKmUrMSkpOmV9Ci8vIDIwLjIuMi41IE1hdGguYXNpbmgoeCkKdmFyIG49cigwKSxpPU1hdGguYXNpbmg7Ci8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hc2luaCgwKSAtPiAtMApuKG4uUytuLkYqIShpJiYxL2koMCk+MCksIk1hdGgiLHthc2luaDphc2luaH0pfSwvKiAyNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuNyBNYXRoLmF0YW5oKHgpCnZhciBuPXIoMCksaT1NYXRoLmF0YW5oOwovLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYXRhbmgoLTApIC0+IDAKbihuLlMrbi5GKiEoaSYmMS9pKC0wKTwwKSwiTWF0aCIse2F0YW5oOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZT0rZSk/ZTpNYXRoLmxvZygoMStlKS8oMS1lKSkvMn19KX0sLyogMjU2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjkgTWF0aC5jYnJ0KHgpCnZhciBuPXIoMCksaT1yKDExMSk7bihuLlMsIk1hdGgiLHtjYnJ0OmZ1bmN0aW9uKGUpe3JldHVybiBpKGU9K2UpKk1hdGgucG93KE1hdGguYWJzKGUpLDEvMyl9fSl9LC8qIDI1NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xMSBNYXRoLmNsejMyKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtjbHozMjpmdW5jdGlvbihlKXtyZXR1cm4oZT4+Pj0wKT8zMS1NYXRoLmZsb29yKE1hdGgubG9nKGUrLjUpKk1hdGguTE9HMkUpOjMyfX0pfSwvKiAyNTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMTIgTWF0aC5jb3NoKHgpCnZhciBuPXIoMCksaT1NYXRoLmV4cDtuKG4uUywiTWF0aCIse2Nvc2g6ZnVuY3Rpb24oZSl7cmV0dXJuKGkoZT0rZSkraSgtZSkpLzJ9fSl9LC8qIDI1OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpCnZhciBuPXIoMCksaT1yKDExMik7bihuLlMrbi5GKihpIT1NYXRoLmV4cG0xKSwiTWF0aCIse2V4cG0xOml9KX0sLyogMjYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE2IE1hdGguZnJvdW5kKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtmcm91bmQ6cigxNjEpfSl9LC8qIDI2MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4xNyBNYXRoLmh5cG90KFt2YWx1ZTFbLCB2YWx1ZTJbLCDigKYgXV1dKQp2YXIgbj1yKDApLGk9TWF0aC5hYnM7bihuLlMsIk1hdGgiLHtoeXBvdDpmdW5jdGlvbihlLHQpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciByLG4sbz0wLHM9MCxhPWFyZ3VtZW50cy5sZW5ndGgsdT0wO3M8YTspcj1pKGFyZ3VtZW50c1tzKytdKSx1PHI/KG49dS9yLG89bypuKm4rMSx1PXIpOnI+MD8obj1yL3Usbys9bipuKTpvKz1yO3JldHVybiB1PT09MS8wPzEvMDp1Kk1hdGguc3FydChvKX19KX0sLyogMjYyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMi4yLjE4IE1hdGguaW11bCh4LCB5KQp2YXIgbj1yKDApLGk9TWF0aC5pbXVsOwovLyBzb21lIFdlYktpdCB2ZXJzaW9ucyBmYWlscyB3aXRoIGJpZyBudW1iZXJzLCBzb21lIGhhcyB3cm9uZyBhcml0eQpuKG4uUytuLkYqcig1KShmdW5jdGlvbigpe3JldHVybi01IT1pKDQyOTQ5NjcyOTUsNSl8fDIhPWkubGVuZ3RofSksIk1hdGgiLHtpbXVsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9K2Usbj0rdCxpPTY1NTM1JnIsbz02NTUzNSZuO3JldHVybiAwfGkqbysoKDY1NTM1JnI+Pj4xNikqbytpKig2NTUzNSZuPj4+MTYpPDwxNj4+PjApfX0pfSwvKiAyNjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMTA6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpKk1hdGguTE9HMTBFfX0pfSwvKiAyNjQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7bG9nMXA6cigxNjApfSl9LC8qIDI2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjIuMi4yMiBNYXRoLmxvZzIoeCkKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2xvZzI6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfX0pfSwvKiAyNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtzaWduOnIoMTExKX0pfSwvKiAyNjcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzAgTWF0aC5zaW5oKHgpCnZhciBuPXIoMCksaT1yKDExMiksbz1NYXRoLmV4cDsKLy8gVjggbmVhciBDaHJvbWl1bSAzOCBoYXMgYSBwcm9ibGVtIHdpdGggdmVyeSBzbWFsbCBudW1iZXJzCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuLTJlLTE3IT0hTWF0aC5zaW5oKC0yZS0xNyl9KSwiTWF0aCIse3Npbmg6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGU9K2UpPDE/KGkoZSktaSgtZSkpLzI6KG8oZS0xKS1vKC1lLTEpKSooTWF0aC5FLzIpfX0pfSwvKiAyNjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzMgTWF0aC50YW5oKHgpCnZhciBuPXIoMCksaT1yKDExMiksbz1NYXRoLmV4cDtuKG4uUywiTWF0aCIse3Rhbmg6ZnVuY3Rpb24oZSl7dmFyIHQ9aShlPStlKSxyPWkoLWUpO3JldHVybiB0PT0xLzA/MTpyPT0xLzA/LTE6KHQtcikvKG8oZSkrbygtZSkpfX0pfSwvKiAyNjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMC4yLjIuMzQgTWF0aC50cnVuYyh4KQp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dHJ1bmM6ZnVuY3Rpb24oZSl7cmV0dXJuKGU+MD9NYXRoLmZsb29yOk1hdGguY2VpbCkoZSl9fSl9LC8qIDI3MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigwKSxpPXIoNTEpLG89U3RyaW5nLmZyb21DaGFyQ29kZSxzPVN0cmluZy5mcm9tQ29kZVBvaW50OwovLyBsZW5ndGggc2hvdWxkIGJlIDEsIG9sZCBGRiBwcm9ibGVtCm4obi5TK24uRiooISFzJiYxIT1zLmxlbmd0aCksIlN0cmluZyIsewovLyAyMS4xLjIuMiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKQpmcm9tQ29kZVBvaW50OmZ1bmN0aW9uKGUpe2ZvcigvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCnZhciB0LHI9W10sbj1hcmd1bWVudHMubGVuZ3RoLHM9MDtuPnM7KXtpZih0PSthcmd1bWVudHNbcysrXSxpKHQsMTExNDExMSkhPT10KXRocm93IFJhbmdlRXJyb3IodCsiIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQiKTtyLnB1c2godDw2NTUzNj9vKHQpOm8oNTUyOTYrKCh0LT02NTUzNik+PjEwKSx0JTEwMjQrNTYzMjApKX1yZXR1cm4gci5qb2luKCIiKX19KX0sLyogMjcxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigyNCksbz1yKDEzKTtuKG4uUywiU3RyaW5nIix7Ci8vIDIxLjEuMi40IFN0cmluZy5yYXcoY2FsbFNpdGUsIC4uLnN1YnN0aXR1dGlvbnMpCnJhdzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9aShlLnJhdykscj1vKHQubGVuZ3RoKSxuPWFyZ3VtZW50cy5sZW5ndGgscz1bXSxhPTA7cj5hOylzLnB1c2goU3RyaW5nKHRbYSsrXSkpLGE8biYmcy5wdXNoKFN0cmluZyhhcmd1bWVudHNbYV0pKTtyZXR1cm4gcy5qb2luKCIiKX19KX0sLyogMjcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy4yNSBTdHJpbmcucHJvdG90eXBlLnRyaW0oKQpyKDYyKSgidHJpbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywzKX19KX0sLyogMjczICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMTMpKCEwKTsKLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKQpyKDExNCkoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLC8vIHRhcmdldAp0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LC8qIDI3NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExMykoITEpO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjMgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdChwb3MpCmNvZGVQb2ludEF0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSl9fSl9LC8qIDI3NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuNiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKHNlYXJjaFN0cmluZyBbLCBlbmRQb3NpdGlvbl0pCnZhciBuPXIoMCksaT1yKDEzKSxvPXIoMTE2KSxzPSIiLmVuZHNXaXRoO24obi5QK24uRipyKDExNykoImVuZHNXaXRoIiksIlN0cmluZyIse2VuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyxlLCJlbmRzV2l0aCIpLHI9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1pKHQubGVuZ3RoKSxhPXZvaWQgMD09PXI/bjpNYXRoLm1pbihpKHIpLG4pLHU9U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LHUsYSk6dC5zbGljZShhLXUubGVuZ3RoLGEpPT09dX19KX0sLyogMjc2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIxLjEuMy43IFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApCnZhciBuPXIoMCksaT1yKDExNik7bihuLlArbi5GKnIoMTE3KSgiaW5jbHVkZXMiKSwiU3RyaW5nIix7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+aSh0aGlzLGUsImluY2x1ZGVzIikuaW5kZXhPZihlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sLyogMjc3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApO24obi5QLCJTdHJpbmciLHsKLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KQpyZXBlYXQ6cigxMTApfSl9LC8qIDI3OCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMS4xLjMuMTggU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdKQp2YXIgbj1yKDApLGk9cigxMyksbz1yKDExNikscz0iIi5zdGFydHNXaXRoO24obi5QK24uRipyKDExNykoInN0YXJ0c1dpdGgiKSwiU3RyaW5nIix7c3RhcnRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMsZSwic3RhcnRzV2l0aCIpLHI9aShNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCx0Lmxlbmd0aCkpLG49U3RyaW5nKGUpO3JldHVybiBzP3MuY2FsbCh0LG4scik6dC5zbGljZShyLHIrbi5sZW5ndGgpPT09bn19KX0sLyogMjc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjIgU3RyaW5nLnByb3RvdHlwZS5hbmNob3IobmFtZSkKcigyMCkoImFuY2hvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImEiLCJuYW1lIix0KX19KX0sLyogMjgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjMgU3RyaW5nLnByb3RvdHlwZS5iaWcoKQpyKDIwKSgiYmlnIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJiaWciLCIiLCIiKX19KX0sLyogMjgxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjQgU3RyaW5nLnByb3RvdHlwZS5ibGluaygpCnIoMjApKCJibGluayIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywiYmxpbmsiLCIiLCIiKX19KX0sLyogMjgyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjUgU3RyaW5nLnByb3RvdHlwZS5ib2xkKCkKcigyMCkoImJvbGQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImIiLCIiLCIiKX19KX0sLyogMjgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjYgU3RyaW5nLnByb3RvdHlwZS5maXhlZCgpCnIoMjApKCJmaXhlZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywidHQiLCIiLCIiKX19KX0sLyogMjg0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjcgU3RyaW5nLnByb3RvdHlwZS5mb250Y29sb3IoY29sb3IpCnIoMjApKCJmb250Y29sb3IiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLCJmb250IiwiY29sb3IiLHQpfX0pfSwvKiAyODUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuOCBTdHJpbmcucHJvdG90eXBlLmZvbnRzaXplKHNpemUpCnIoMjApKCJmb250c2l6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsImZvbnQiLCJzaXplIix0KX19KX0sLyogMjg2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjkgU3RyaW5nLnByb3RvdHlwZS5pdGFsaWNzKCkKcigyMCkoIml0YWxpY3MiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsImkiLCIiLCIiKX19KX0sLyogMjg3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEwIFN0cmluZy5wcm90b3R5cGUubGluayh1cmwpCnIoMjApKCJsaW5rIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywiYSIsImhyZWYiLHQpfX0pfSwvKiAyODggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTEgU3RyaW5nLnByb3RvdHlwZS5zbWFsbCgpCnIoMjApKCJzbWFsbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic21hbGwiLCIiLCIiKX19KX0sLyogMjg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIEIuMi4zLjEyIFN0cmluZy5wcm90b3R5cGUuc3RyaWtlKCkKcigyMCkoInN0cmlrZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywic3RyaWtlIiwiIiwiIil9fSl9LC8qIDI5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBCLjIuMy4xMyBTdHJpbmcucHJvdG90eXBlLnN1YigpCnIoMjApKCJzdWIiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsInN1YiIsIiIsIiIpfX0pfSwvKiAyOTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gQi4yLjMuMTQgU3RyaW5nLnByb3RvdHlwZS5zdXAoKQpyKDIwKSgic3VwIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLCJzdXAiLCIiLCIiKX19KX0sLyogMjkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy4zLjEgLyAxNS45LjQuNCBEYXRlLm5vdygpCnZhciBuPXIoMCk7bihuLlMsIkRhdGUiLHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KX0sLyogMjkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigzMSk7bihuLlArbi5GKnIoNSkoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW5ldyBEYXRlKE5hTikudG9KU09OKCl8fDEhPT1EYXRlLnByb3RvdHlwZS50b0pTT04uY2FsbCh7dG9JU09TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMX19KX0pLCJEYXRlIix7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwp0b0pTT046ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPW8odCk7cmV0dXJuIm51bWJlciIhPXR5cGVvZiByfHxpc0Zpbml0ZShyKT90LnRvSVNPU3RyaW5nKCk6bnVsbH19KX0sLyogMjk0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMy40LjM2IC8gMTUuOS41LjQzIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKCkKdmFyIG49cigwKSxpPXIoMjk1KTsKLy8gUGhhbnRvbUpTIC8gb2xkIFdlYktpdCBoYXMgYSBicm9rZW4gaW1wbGVtZW50YXRpb25zCm4obi5QK24uRiooRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmchPT1pKSwiRGF0ZSIse3RvSVNPU3RyaW5nOml9KX0sLyogMjk1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIwLjMuNC4zNiAvIDE1LjkuNS40MyBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZygpCnZhciBuPXIoNSksaT1EYXRlLnByb3RvdHlwZS5nZXRUaW1lLG89RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcscz1mdW5jdGlvbihlKXtyZXR1cm4gZT45P2U6IjAiK2V9OwovLyBQaGFudG9tSlMgLyBvbGQgV2ViS2l0IGhhcyBhIGJyb2tlbiBpbXBsZW1lbnRhdGlvbnMKZS5leHBvcnRzPW4oZnVuY3Rpb24oKXtyZXR1cm4iMDM4NS0wNy0yNVQwNzowNjozOS45OTlaIiE9by5jYWxsKG5ldyBEYXRlKC01ZTEzLTEpKX0pfHwhbihmdW5jdGlvbigpe28uY2FsbChuZXcgRGF0ZShOYU4pKX0pP2Z1bmN0aW9uKCl7aWYoIWlzRmluaXRlKGkuY2FsbCh0aGlzKSkpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCB0aW1lIHZhbHVlIik7dmFyIGU9dGhpcyx0PWUuZ2V0VVRDRnVsbFllYXIoKSxyPWUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksbj10PDA/Ii0iOnQ+OTk5OT8iKyI6IiI7cmV0dXJuIG4rKCIwMDAwMCIrTWF0aC5hYnModCkpLnNsaWNlKG4/LTY6LTQpKyItIitzKGUuZ2V0VVRDTW9udGgoKSsxKSsiLSIrcyhlLmdldFVUQ0RhdGUoKSkrIlQiK3MoZS5nZXRVVENIb3VycygpKSsiOiIrcyhlLmdldFVUQ01pbnV0ZXMoKSkrIjoiK3MoZS5nZXRVVENTZWNvbmRzKCkpKyIuIisocj45OT9yOiIwIitzKHIpKSsiWiJ9Om99LC8qIDI5NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49RGF0ZS5wcm90b3R5cGUsaT1uLnRvU3RyaW5nLG89bi5nZXRUaW1lO25ldyBEYXRlKE5hTikrIiIhPSJJbnZhbGlkIERhdGUiJiZyKDE5KShuLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwodGhpcyk7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuIGU9PT1lP2kuY2FsbCh0aGlzKToiSW52YWxpZCBEYXRlIn0pfSwvKiAyOTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOCkoInRvUHJpbWl0aXZlIiksaT1EYXRlLnByb3RvdHlwZTtuIGluIGl8fHIoMTgpKGksbixyKDI5OCkpfSwvKiAyOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDMpLGk9cigzMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT09ZSYmIm51bWJlciIhPT1lJiYiZGVmYXVsdCIhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0IGhpbnQiKTtyZXR1cm4gaShuKHRoaXMpLCJudW1iZXIiIT1lKX19LC8qIDI5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIyLjEuMi4yIC8gMTUuNC4zLjIgQXJyYXkuaXNBcnJheShhcmcpCnZhciBuPXIoMCk7bihuLlMsIkFycmF5Iix7aXNBcnJheTpyKDgzKX0pfSwvKiAzMDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI4KSxpPXIoMCksbz1yKDE1KSxzPXIoMTYyKSxhPXIoMTE4KSx1PXIoMTMpLGM9cigxMTkpLGY9cigxMjApO2koaS5TK2kuRiohcig4NSkoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIsewovLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCmZyb206ZnVuY3Rpb24oZSl7dmFyIHQscixpLGwsZD1vKGUpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx5PWFyZ3VtZW50cy5sZW5ndGgsaD15PjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PWgsZz0wLGI9ZihkKTsKLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlCmlmKHYmJihoPW4oaCx5PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ifHxwPT1BcnJheSYmYShiKSlmb3IodD11KGQubGVuZ3RoKSxyPW5ldyBwKHQpO3Q+ZztnKyspYyhyLGcsdj9oKGRbZ10sZyk6ZFtnXSk7ZWxzZSBmb3IobD1iLmNhbGwoZCkscj1uZXcgcDshKGk9bC5uZXh0KCkpLmRvbmU7ZysrKWMocixnLHY/cyhsLGgsW2kudmFsdWUsZ10sITApOmkudmFsdWUpO3JldHVybiByLmxlbmd0aD1nLHJ9fSl9LC8qIDMwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDExOSk7Ci8vIFdlYktpdCBBcnJheS5vZiBpc24ndCBnZW5lcmljCm4obi5TK24uRipyKDUpKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKEFycmF5Lm9mLmNhbGwoRilpbnN0YW5jZW9mIEYpfSksIkFycmF5Iix7Ci8vIDIyLjEuMi4zIEFycmF5Lm9mKCAuLi5pdGVtcykKb2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSkodCk7dD5lOylpKHIsZSxhcmd1bWVudHNbZSsrXSk7cmV0dXJuIHIubGVuZ3RoPXQscn19KX0sLyogMzAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUuam9pbihzZXBhcmF0b3IpCnZhciBuPXIoMCksaT1yKDI0KSxvPVtdLmpvaW47Ci8vIGZhbGxiYWNrIGZvciBub3QgYXJyYXktbGlrZSBzdHJpbmdzCm4obi5QK24uRioocig3MCkhPU9iamVjdHx8IXIoMzApKG8pKSwiQXJyYXkiLHtqb2luOmZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoaSh0aGlzKSx2b2lkIDA9PT1lPyIsIjplKX19KX0sLyogMzAzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTA2KSxvPXIoMjkpLHM9cig1MSksYT1yKDEzKSx1PVtdLnNsaWNlOwovLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzCm4obi5QK24uRipyKDUpKGZ1bmN0aW9uKCl7aSYmdS5jYWxsKGkpfSksIkFycmF5Iix7c2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hKHRoaXMubGVuZ3RoKSxuPW8odGhpcyk7aWYodD12b2lkIDA9PT10P3I6dCwiQXJyYXkiPT1uKXJldHVybiB1LmNhbGwodGhpcyxlLHQpO2Zvcih2YXIgaT1zKGUsciksYz1zKHQsciksZj1hKGMtaSksbD1uZXcgQXJyYXkoZiksZD0wO2Q8ZjtkKyspbFtkXT0iU3RyaW5nIj09bj90aGlzLmNoYXJBdChpK2QpOnRoaXNbaStkXTtyZXR1cm4gbH19KX0sLyogMzA0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYpLG89cigxNSkscz1yKDUpLGE9W10uc29ydCx1PVsxLDIsM107bihuLlArbi5GKihzKGZ1bmN0aW9uKCl7Ci8vIElFOC0KdS5zb3J0KHZvaWQgMCl9KXx8IXMoZnVuY3Rpb24oKXsKLy8gVjggYnVnCnUuc29ydChudWxsKX0pfHwhcigzMCkoYSkpLCJBcnJheSIsewovLyAyMi4xLjMuMjUgQXJyYXkucHJvdG90eXBlLnNvcnQoY29tcGFyZWZuKQpzb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2EuY2FsbChvKHRoaXMpKTphLmNhbGwobyh0aGlzKSxpKGUpKX19KX0sLyogMzA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMzUpKDApLG89cigzMCkoW10uZm9yRWFjaCwhMCk7bihuLlArbi5GKiFvLCJBcnJheSIsewovLyAyMi4xLjMuMTAgLyAxNS40LjQuMTggQXJyYXkucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzWzFdKX19KX0sLyogMzA2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDYpLGk9cig4Myksbz1yKDgpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0OwovLyBjcm9zcy1yZWFsbSBmYWxsYmFjawpyZXR1cm4gaShlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwiZnVuY3Rpb24iIT10eXBlb2YgdHx8dCE9PUFycmF5JiYhaSh0LnByb3RvdHlwZSl8fCh0PXZvaWQgMCksbih0KSYmbnVsbD09PSh0PXRbb10pJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0FycmF5OnR9fSwvKiAzMDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMSk7bihuLlArbi5GKiFyKDMwKShbXS5tYXAsITApLCJBcnJheSIsewovLyAyMi4xLjMuMTUgLyAxNS40LjQuMTkgQXJyYXkucHJvdG90eXBlLm1hcChjYWxsYmFja2ZuIFssIHRoaXNBcmddKQptYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMwOCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSgyKTtuKG4uUCtuLkYqIXIoMzApKFtdLmZpbHRlciwhMCksIkFycmF5Iix7Ci8vIDIyLjEuMy43IC8gMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIoY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSkKZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigzNSkoMyk7bihuLlArbi5GKiFyKDMwKShbXS5zb21lLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjIzIC8gMTUuNC40LjE3IEFycmF5LnByb3RvdHlwZS5zb21lKGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCnNvbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMxMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDM1KSg0KTtuKG4uUCtuLkYqIXIoMzApKFtdLmV2ZXJ5LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjUgLyAxNS40LjQuMTYgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pCmV2ZXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHNbMV0pfX0pfSwvKiAzMTEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNjMpO24obi5QK24uRiohcigzMCkoW10ucmVkdWNlLCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE4IC8gMTUuNC40LjIxIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UoY2FsbGJhY2tmbiBbLCBpbml0aWFsVmFsdWVdKQpyZWR1Y2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzWzFdLCExKX19KX0sLyogMzEyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTYzKTtuKG4uUCtuLkYqIXIoMzApKFtdLnJlZHVjZVJpZ2h0LCEwKSwiQXJyYXkiLHsKLy8gMjIuMS4zLjE5IC8gMTUuNC40LjIyIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZV0pCnJlZHVjZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50c1sxXSwhMCl9fSl9LC8qIDMxMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDgxKSghMSksbz1bXS5pbmRleE9mLHM9ISFvJiYxL1sxXS5pbmRleE9mKDEsLTApPDA7bihuLlArbi5GKihzfHwhcigzMCkobykpLCJBcnJheSIsewovLyAyMi4xLjMuMTEgLyAxNS40LjQuMTQgQXJyYXkucHJvdG90eXBlLmluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQppbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBzP28uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOmkodGhpcyxlLGFyZ3VtZW50c1sxXSl9fSl9LC8qIDMxNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDI0KSxvPXIoMzMpLHM9cigxMyksYT1bXS5sYXN0SW5kZXhPZix1PSEhYSYmMS9bMV0ubGFzdEluZGV4T2YoMSwtMCk8MDtuKG4uUCtuLkYqKHV8fCFyKDMwKShhKSksIkFycmF5Iix7Ci8vIDIyLjEuMy4xNCAvIDE1LjQuNC4xNSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKQpsYXN0SW5kZXhPZjpmdW5jdGlvbihlKXsKLy8gY29udmVydCAtMCB0byArMAppZih1KXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MDt2YXIgdD1pKHRoaXMpLHI9cyh0Lmxlbmd0aCksbj1yLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TWF0aC5taW4obixvKGFyZ3VtZW50c1sxXSkpKSxuPDAmJihuPXIrbik7bj49MDtuLS0paWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbnx8MDtyZXR1cm4tMX19KX0sLyogMzE1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjIuMS4zLjMgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCwgZW5kID0gdGhpcy5sZW5ndGgpCnZhciBuPXIoMCk7bihuLlAsIkFycmF5Iix7Y29weVdpdGhpbjpyKDE2NCl9KSxyKDQ0KSgiY29weVdpdGhpbiIpfSwvKiAzMTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aCkKdmFyIG49cigwKTtuKG4uUCwiQXJyYXkiLHtmaWxsOnIoMTIyKX0pLHIoNDQpKCJmaWxsIil9LC8qIDMxNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyAyMi4xLjMuOCBBcnJheS5wcm90b3R5cGUuZmluZChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg1KSxvPSEwOwovLyBTaG91bGRuJ3Qgc2tpcCBob2xlcwoiZmluZCJpbltdJiZBcnJheSgxKS5maW5kKGZ1bmN0aW9uKCl7bz0hMX0pLG4obi5QK24uRipvLCJBcnJheSIse2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxyKDQ0KSgiZmluZCIpfSwvKiAzMTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjIuMS4zLjkgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpCnZhciBuPXIoMCksaT1yKDM1KSg2KSxvPSJmaW5kSW5kZXgiLHM9ITA7Ci8vIFNob3VsZG4ndCBza2lwIGhvbGVzCm8gaW5bXSYmQXJyYXkoMSlbb10oZnVuY3Rpb24oKXtzPSExfSksbihuLlArbi5GKnMsIkFycmF5Iix7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkscig0NCkobyl9LC8qIDMxOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig1NCkoIkFycmF5Iil9LC8qIDMyMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig0KSxpPXIoMTA5KSxvPXIoMTIpLmYscz1yKDUzKS5mLGE9cig4NCksdT1yKDg2KSxjPW4uUmVnRXhwLGY9YyxsPWMucHJvdG90eXBlLGQ9L2EvZyxwPS9hL2cseT1uZXcgYyhkKSE9PWQ7aWYocigxMSkmJigheXx8cig1KShmdW5jdGlvbigpewovLyBSZWdFeHAgY29uc3RydWN0b3IgY2FuIGFsdGVyIGZsYWdzIGFuZCBJc1JlZ0V4cCB3b3JrcyBjb3JyZWN0IHdpdGggQEBtYXRjaApyZXR1cm4gcFtyKDgpKCJtYXRjaCIpXT0hMSxjKGQpIT1kfHxjKHApPT1wfHwiL2EvaSIhPWMoZCwiaSIpfSkpKXtjPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyBpbnN0YW5jZW9mIGMsbj1hKGUpLG89dm9pZCAwPT09dDtyZXR1cm4hciYmbiYmZS5jb25zdHJ1Y3Rvcj09PWMmJm8/ZTppKHk/bmV3IGYobiYmIW8/ZS5zb3VyY2U6ZSx0KTpmKChuPWUgaW5zdGFuY2VvZiBjKT9lLnNvdXJjZTplLG4mJm8/dS5jYWxsKGUpOnQpLHI/dGhpczpsLGMpfTtmb3IodmFyIGg9cyhmKSx2PTA7aC5sZW5ndGg+djspIWZ1bmN0aW9uKGUpe2UgaW4gY3x8byhjLGUse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZltlXX0sc2V0OmZ1bmN0aW9uKHQpe2ZbZV09dH19KX0oaFt2KytdKTtsLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGU9bCxyKDE5KShuLCJSZWdFeHAiLGMpfXIoNTQpKCJSZWdFeHAiKX0sLyogMzIxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigxNjYpO3ZhciBuPXIoMyksaT1yKDg2KSxvPXIoMTEpLHM9Ly4vLnRvU3RyaW5nLGE9ZnVuY3Rpb24oZSl7cigxOSkoUmVnRXhwLnByb3RvdHlwZSwidG9TdHJpbmciLGUsITApfTsKLy8gMjEuMi41LjE0IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcoKQpyKDUpKGZ1bmN0aW9uKCl7cmV0dXJuIi9hL2IiIT1zLmNhbGwoe3NvdXJjZToiYSIsZmxhZ3M6ImIifSl9KT9hKGZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzKTtyZXR1cm4iLyIuY29uY2F0KGUuc291cmNlLCIvIiwiZmxhZ3MiaW4gZT9lLmZsYWdzOiFvJiZlIGluc3RhbmNlb2YgUmVnRXhwP2kuY2FsbChlKTp2b2lkIDApfSk6InRvU3RyaW5nIiE9cy5uYW1lJiZhKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0pfSwvKiAzMjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBAQG1hdGNoIGxvZ2ljCnIoODcpKCJtYXRjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xMSBTdHJpbmcucHJvdG90eXBlLm1hdGNoKHJlZ2V4cCkKcmV0dXJuW2Z1bmN0aW9uKHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKHRoaXMpLGk9dm9pZCAwPT1yP3ZvaWQgMDpyW3RdO3JldHVybiB2b2lkIDAhPT1pP2kuY2FsbChyLG4pOm5ldyBSZWdFeHAocilbdF0oU3RyaW5nKG4pKX0scl19KX0sLyogMzIzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEByZXBsYWNlIGxvZ2ljCnIoODcpKCJyZXBsYWNlIiwyLGZ1bmN0aW9uKGUsdCxyKXsKLy8gMjEuMS4zLjE0IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKQpyZXR1cm5bZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIG89ZSh0aGlzKSxzPXZvaWQgMD09bj92b2lkIDA6blt0XTtyZXR1cm4gdm9pZCAwIT09cz9zLmNhbGwobixvLGkpOnIuY2FsbChTdHJpbmcobyksbixpKX0scl19KX0sLyogMzI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gQEBzZWFyY2ggbG9naWMKcig4NykoInNlYXJjaCIsMSxmdW5jdGlvbihlLHQscil7Ci8vIDIxLjEuMy4xNSBTdHJpbmcucHJvdG90eXBlLnNlYXJjaChyZWdleHApCnJldHVybltmdW5jdGlvbihyKXsidXNlIHN0cmljdCI7dmFyIG49ZSh0aGlzKSxpPXZvaWQgMD09cj92b2lkIDA6clt0XTtyZXR1cm4gdm9pZCAwIT09aT9pLmNhbGwocixuKTpuZXcgUmVnRXhwKHIpW3RdKFN0cmluZyhuKSl9LHJdfSl9LC8qIDMyNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIEBAc3BsaXQgbG9naWMKcig4NykoInNwbGl0IiwyLGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9cig4NCksbz1uLHM9W10ucHVzaCxhPSJsZW5ndGgiO2lmKCJjIj09ImFiYmMiLnNwbGl0KC8oYikqLylbMV18fDQhPSJ0ZXN0Ii5zcGxpdCgvKD86KS8sLTEpW2FdfHwyIT0iYWIiLnNwbGl0KC8oPzphYikqLylbYV18fDQhPSIuIi5zcGxpdCgvKC4/KSguPykvKVthXXx8Ii4iLnNwbGl0KC8oKSgpLylbYV0+MXx8IiIuc3BsaXQoLy4/LylbYV0pe3ZhciB1PXZvaWQgMD09PS8oKT8/Ly5leGVjKCIiKVsxXTsvLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cAovLyBiYXNlZCBvbiBlczUtc2hpbSBpbXBsZW1lbnRhdGlvbiwgbmVlZCB0byByZXdvcmsgaXQKbj1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyh0aGlzKTtpZih2b2lkIDA9PT1lJiYwPT09dClyZXR1cm5bXTsKLy8gSWYgYHNlcGFyYXRvcmAgaXMgbm90IGEgcmVnZXgsIHVzZSBuYXRpdmUgc3BsaXQKaWYoIWkoZSkpcmV0dXJuIG8uY2FsbChyLGUsdCk7dmFyIG4sYyxmLGwsZCxwPVtdLHk9KGUuaWdub3JlQ2FzZT8iaSI6IiIpKyhlLm11bHRpbGluZT8ibSI6IiIpKyhlLnVuaWNvZGU/InUiOiIiKSsoZS5zdGlja3k/InkiOiIiKSxoPTAsdj12b2lkIDA9PT10PzQyOTQ5NjcyOTU6dD4+PjAsZz1uZXcgUmVnRXhwKGUuc291cmNlLHkrImciKTtmb3IoCi8vIERvZXNuJ3QgbmVlZCBmbGFncyBneSwgYnV0IHRoZXkgZG9uJ3QgaHVydAp1fHwobj1uZXcgUmVnRXhwKCJeIitnLnNvdXJjZSsiJCg/IVxccykiLHkpKTsoYz1nLmV4ZWMocikpJiYhKCgKLy8gYHNlcGFyYXRvckNvcHkubGFzdEluZGV4YCBpcyBub3QgcmVsaWFibGUgY3Jvc3MtYnJvd3NlcgpmPWMuaW5kZXgrY1swXVthXSk+aCYmKHAucHVzaChyLnNsaWNlKGgsYy5pbmRleCkpLAovLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYCBmb3IgTlBDRwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jCiF1JiZjW2FdPjEmJmNbMF0ucmVwbGFjZShuLGZ1bmN0aW9uKCl7Zm9yKGQ9MTtkPGFyZ3VtZW50c1thXS0yO2QrKyl2b2lkIDA9PT1hcmd1bWVudHNbZF0mJihjW2RdPXZvaWQgMCl9KSxjW2FdPjEmJmMuaW5kZXg8clthXSYmcy5hcHBseShwLGMuc2xpY2UoMSkpLGw9Y1swXVthXSxoPWYscFthXT49dikpOylnLmxhc3RJbmRleD09PWMuaW5kZXgmJmcubGFzdEluZGV4Kys7cmV0dXJuIGg9PT1yW2FdPyFsJiZnLnRlc3QoIiIpfHxwLnB1c2goIiIpOnAucHVzaChyLnNsaWNlKGgpKSxwW2FdPnY/cC5zbGljZSgwLHYpOnB9fWVsc2UiMCIuc3BsaXQodm9pZCAwLDApW2FdJiYobj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYwPT09dD9bXTpvLmNhbGwodGhpcyxlLHQpfSk7Ci8vIDIxLjEuMy4xNyBTdHJpbmcucHJvdG90eXBlLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpCnJldHVybltmdW5jdGlvbihyLGkpe3ZhciBvPWUodGhpcykscz12b2lkIDA9PXI/dm9pZCAwOnJbdF07cmV0dXJuIHZvaWQgMCE9PXM/cy5jYWxsKHIsbyxpKTpuLmNhbGwoU3RyaW5nKG8pLHIsaSl9LG5dfSl9LC8qIDMyNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGksbyxzLGE9cig0MyksdT1yKDQpLGM9cigyOCksZj1yKDcyKSxsPXIoMCksZD1yKDYpLHA9cigxNikseT1yKDU1KSxoPXIoNTYpLHY9cig4OCksZz1yKDEyNCkuc2V0LGI9cigxMjUpKCksbT1yKDEyNiksXz1yKDE2NyksUj1yKDg5KSx3PXIoMTY4KSxTPXUuVHlwZUVycm9yLFA9dS5wcm9jZXNzLE89UCYmUC52ZXJzaW9ucyxNPU8mJk8udjh8fCIiLGs9dS5Qcm9taXNlLEw9InByb2Nlc3MiPT1mKFApLHg9ZnVuY3Rpb24oKXt9LEU9aT1tLmYsQT0hIWZ1bmN0aW9uKCl7dHJ5ewovLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnQKdmFyIGU9ay5yZXNvbHZlKDEpLHQ9KGUuY29uc3RydWN0b3I9e30pW3IoOCkoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZSh4LHgpfTsKLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdApyZXR1cm4oTHx8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJmUudGhlbih4KWluc3RhbmNlb2YgdCYmMCE9PU0uaW5kZXhPZigiNi42IikmJi0xPT09Ui5pbmRleE9mKCJDaHJvbWUvNjYiKX1jYXRjaChlKXt9fSgpLFU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuISghZChlKXx8ImZ1bmN0aW9uIiE9dHlwZW9mKHQ9ZS50aGVuKSkmJnR9LEQ9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO2IoZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixpPTE9PWUuX3Msbz0wO3IubGVuZ3RoPm87KSFmdW5jdGlvbih0KXt2YXIgcixvLHMsYT1pP3Qub2s6dC5mYWlsLHU9dC5yZXNvbHZlLGM9dC5yZWplY3QsZj10LmRvbWFpbjt0cnl7YT8oaXx8KDI9PWUuX2gmJlQoZSksZS5faD0xKSwhMD09PWE/cj1uOihmJiZmLmVudGVyKCkscj1hKG4pLC8vIG1heSB0aHJvdwpmJiYoZi5leGl0KCkscz0hMCkpLHI9PT10LnByb21pc2U/YyhTKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihvPVUocikpP28uY2FsbChyLHUsYyk6dShyKSk6YyhuKX1jYXRjaChlKXtmJiYhcyYmZi5leGl0KCksYyhlKX19KHJbbysrXSk7Ly8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2gKZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZJKGUpfSl9fSxJPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQscixuLGk9ZS5fdixvPWooZSk7aWYobyYmKHQ9XyhmdW5jdGlvbigpe0w/UC5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLGksZSk6KHI9dS5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjppfSk6KG49dS5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixpKX0pLAovLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZAplLl9oPUx8fGooZSk/MjoxKSxlLl9hPXZvaWQgMCxvJiZ0LmUpdGhyb3cgdC52fSl9LGo9ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLl9oJiYwPT09KGUuX2F8fGUuX2MpLmxlbmd0aH0sVD1mdW5jdGlvbihlKXtnLmNhbGwodSxmdW5jdGlvbigpe3ZhciB0O0w/UC5lbWl0KCJyZWplY3Rpb25IYW5kbGVkIixlKToodD11Lm9ucmVqZWN0aW9uaGFuZGxlZCkmJnQoe3Byb21pc2U6ZSxyZWFzb246ZS5fdn0pfSl9LEM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9kfHwodC5fZD0hMCx0PXQuX3d8fHQsLy8gdW53cmFwCnQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxEKHQsITApKX0sRj1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyOy8vIHVud3JhcAp0cnl7aWYocj09PWUpdGhyb3cgUygiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1VKGUpKT9iKGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9Oy8vIHdyYXAKdHJ5e3QuY2FsbChlLGMoRixuLDEpLGMoQyxuLDEpKX1jYXRjaChlKXtDLmNhbGwobixlKX19KTooci5fdj1lLHIuX3M9MSxEKHIsITEpKX1jYXRjaChlKXtDLmNhbGwoe193OnIsX2Q6ITF9LGUpfX19OwovLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbApBfHwoCi8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpCms9ZnVuY3Rpb24oZSl7eSh0aGlzLGssIlByb21pc2UiLCJfaCIpLHAoZSksbi5jYWxsKHRoaXMpO3RyeXtlKGMoRix0aGlzLDEpLGMoQyx0aGlzLDEpKX1jYXRjaChlKXtDLmNhbGwodGhpcyxlKX19LAovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9ucwp0aGlzLl9hPXZvaWQgMCwvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9ucwp0aGlzLl9zPTAsLy8gPC0gc3RhdGUKdGhpcy5fZD0hMSwvLyA8LSBkb25lCnRoaXMuX3Y9dm9pZCAwLC8vIDwtIHZhbHVlCnRoaXMuX2g9MCwvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZAp0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1yKDU3KShrLnByb3RvdHlwZSx7Ci8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpCnRoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKHYodGhpcyxrKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPUw/UC5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmRCh0aGlzLCExKSxyLnByb21pc2V9LAovLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKQpjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxvPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWMoRixlLDEpLHRoaXMucmVqZWN0PWMoQyxlLDEpfSxtLmY9RT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWt8fGU9PT1zP25ldyBvKGUpOmkoZSl9KSxsKGwuRytsLlcrbC5GKiFBLHtQcm9taXNlOmt9KSxyKDYxKShrLCJQcm9taXNlIikscig1NCkoIlByb21pc2UiKSxzPXIoMjcpLlByb21pc2UsCi8vIHN0YXRpY3MKbChsLlMrbC5GKiFBLCJQcm9taXNlIix7Ci8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpCnJlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1FKHRoaXMpO3JldHVybigwLHQucmVqZWN0KShlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKihhfHwhQSksIlByb21pc2UiLHsKLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpCnJlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHcoYSYmdGhpcz09PXM/azp0aGlzLGUpfX0pLGwobC5TK2wuRiohKEEmJnIoODUpKGZ1bmN0aW9uKGUpe2suYWxsKGUpLmNhdGNoKHgpfSkpLCJQcm9taXNlIix7Ci8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKQphbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPUUodCksbj1yLnJlc29sdmUsaT1yLnJlamVjdCxvPV8oZnVuY3Rpb24oKXt2YXIgcj1bXSxvPTAscz0xO2goZSwhMSxmdW5jdGlvbihlKXt2YXIgYT1vKyssdT0hMTtyLnB1c2godm9pZCAwKSxzKyssdC5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dXx8KHU9ITAsclthXT1lLC0tc3x8bihyKSl9LGkpfSksLS1zfHxuKHIpfSk7cmV0dXJuIG8uZSYmaShvLnYpLHIucHJvbWlzZX0sCi8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSkKcmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxuPXIucmVqZWN0LGk9XyhmdW5jdGlvbigpe2goZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBpLmUmJm4oaS52KSxyLnByb21pc2V9fSl9LC8qIDMyNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTczKSxpPXIoNjQpOwovLyAyMy40IFdlYWtTZXQgT2JqZWN0cwpyKDkwKSgiV2Vha1NldCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Ci8vIDIzLjQuMy4xIFdlYWtTZXQucHJvdG90eXBlLmFkZCh2YWx1ZSkKYWRkOmZ1bmN0aW9uKGUpe3JldHVybiBuLmRlZihpKHRoaXMsIldlYWtTZXQiKSxlLCEwKX19LG4sITEsITApfSwvKiAzMjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cig5MSksbz1yKDEyNykscz1yKDMpLGE9cig1MSksdT1yKDEzKSxjPXIoNiksZj1yKDQpLkFycmF5QnVmZmVyLGw9cig4OCksZD1vLkFycmF5QnVmZmVyLHA9by5EYXRhVmlldyx5PWkuQUJWJiZmLmlzVmlldyxoPWQucHJvdG90eXBlLnNsaWNlLHY9aS5WSUVXO24obi5HK24uVytuLkYqKGYhPT1kKSx7QXJyYXlCdWZmZXI6ZH0pLG4obi5TK24uRiohaS5DT05TVFIsIkFycmF5QnVmZmVyIix7Ci8vIDI0LjEuMy4xIEFycmF5QnVmZmVyLmlzVmlldyhhcmcpCmlzVmlldzpmdW5jdGlvbihlKXtyZXR1cm4geSYmeShlKXx8YyhlKSYmdiBpbiBlfX0pLG4obi5QK24uVStuLkYqcig1KShmdW5jdGlvbigpe3JldHVybiFuZXcgZCgyKS5zbGljZSgxLHZvaWQgMCkuYnl0ZUxlbmd0aH0pLCJBcnJheUJ1ZmZlciIsewovLyAyNC4xLjQuMyBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2Uoc3RhcnQsIGVuZCkKc2xpY2U6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1oJiZ2b2lkIDA9PT10KXJldHVybiBoLmNhbGwocyh0aGlzKSxlKTtmb3IoLy8gRkYgZml4CnZhciByPXModGhpcykuYnl0ZUxlbmd0aCxuPWEoZSxyKSxpPWEodm9pZCAwPT09dD9yOnQsciksbz1uZXcobCh0aGlzLGQpKSh1KGktbikpLGM9bmV3IHAodGhpcyksZj1uZXcgcChvKSx5PTA7bjxpOylmLnNldFVpbnQ4KHkrKyxjLmdldFVpbnQ4KG4rKykpO3JldHVybiBvfX0pLHIoNTQpKCJBcnJheUJ1ZmZlciIpfSwvKiAzMjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMCk7bihuLkcrbi5XK24uRiohcig5MSkuQUJWLHtEYXRhVmlldzpyKDEyNykuRGF0YVZpZXd9KX0sLyogMzMwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiSW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJVaW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJVaW50OCIsMSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0sITApfSwvKiAzMzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJJbnQxNiIsMixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoMzgpKCJVaW50MTYiLDIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sLyogMzM1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiSW50MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sLyogMzM2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiVWludDMyIiw0LGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUodGhpcyx0LHIsbil9fSl9LC8qIDMzNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigzOCkoIkZsb2F0MzIiLDQsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZSh0aGlzLHQscixuKX19KX0sLyogMzM4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDM4KSgiRmxvYXQ2NCIsOCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiBlKHRoaXMsdCxyLG4pfX0pfSwvKiAzMzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjEgUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmd1bWVudCwgYXJndW1lbnRzTGlzdCkKdmFyIG49cigwKSxpPXIoMTYpLG89cigzKSxzPShyKDQpLlJlZmxlY3R8fHt9KS5hcHBseSxhPUZ1bmN0aW9uLmFwcGx5OwovLyBNUyBFZGdlIGFyZ3VtZW50c0xpc3QgYXJndW1lbnQgaXMgb3B0aW9uYWwKbihuLlMrbi5GKiFyKDUpKGZ1bmN0aW9uKCl7cyhmdW5jdGlvbigpe30pfSksIlJlZmxlY3QiLHthcHBseTpmdW5jdGlvbihlLHQscil7dmFyIG49aShlKSx1PW8ocik7cmV0dXJuIHM/cyhuLHQsdSk6YS5jYWxsKG4sdCx1KX19KX0sLyogMzQwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjYuMS4yIFJlZmxlY3QuY29uc3RydWN0KHRhcmdldCwgYXJndW1lbnRzTGlzdCBbLCBuZXdUYXJnZXRdKQp2YXIgbj1yKDApLGk9cig1Miksbz1yKDE2KSxzPXIoMyksYT1yKDYpLHU9cig1KSxjPXIoMTU0KSxmPShyKDQpLlJlZmxlY3R8fHt9KS5jb25zdHJ1Y3QsbD11KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRigpe31yZXR1cm4hKGYoZnVuY3Rpb24oKXt9LFtdLEYpaW5zdGFuY2VvZiBGKX0pLGQ9IXUoZnVuY3Rpb24oKXtmKGZ1bmN0aW9uKCl7fSl9KTtuKG4uUytuLkYqKGx8fGQpLCJSZWZsZWN0Iix7Y29uc3RydWN0OmZ1bmN0aW9uKGUsdCl7byhlKSxzKHQpO3ZhciByPWFyZ3VtZW50cy5sZW5ndGg8Mz9lOm8oYXJndW1lbnRzWzJdKTtpZihkJiYhbClyZXR1cm4gZihlLHQscik7aWYoZT09cil7Ci8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgb3B0aW1pemF0aW9uIGZvciAwLTQgYXJndW1lbnRzCnN3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHRbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IGUodFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIG5ldyBlKHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyBlKHRbMF0sdFsxXSx0WzJdLHRbM10pfQovLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIGxvdCBvZiBhcmd1bWVudHMgY2FzZQp2YXIgbj1bbnVsbF07cmV0dXJuIG4ucHVzaC5hcHBseShuLHQpLG5ldyhjLmFwcGx5KGUsbikpfQovLyB3aXRoIGFsdGVyZWQgbmV3VGFyZ2V0LCBub3Qgc3VwcG9ydCBidWlsdC1pbiBjb25zdHJ1Y3RvcnMKdmFyIHU9ci5wcm90b3R5cGUscD1pKGEodSk/dTpPYmplY3QucHJvdG90eXBlKSx5PUZ1bmN0aW9uLmFwcGx5LmNhbGwoZSxwLHQpO3JldHVybiBhKHkpP3k6cH19KX0sLyogMzQxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjYuMS4zIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcykKdmFyIG49cigxMiksaT1yKDApLG89cigzKSxzPXIoMzEpOwovLyBNUyBFZGdlIGhhcyBicm9rZW4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSAtIHRocm93aW5nIGluc3RlYWQgb2YgcmV0dXJuaW5nIGZhbHNlCmkoaS5TK2kuRipyKDUpKGZ1bmN0aW9uKCl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgpSZWZsZWN0LmRlZmluZVByb3BlcnR5KG4uZih7fSwxLHt2YWx1ZToxfSksMSx7dmFsdWU6Mn0pfSksIlJlZmxlY3QiLHtkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7byhlKSx0PXModCwhMCksbyhyKTt0cnl7cmV0dXJuIG4uZihlLHQsciksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX0pfSwvKiAzNDIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjQgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5KQp2YXIgbj1yKDApLGk9cigyNSkuZixvPXIoMyk7bihuLlMsIlJlZmxlY3QiLHtkZWxldGVQcm9wZXJ0eTpmdW5jdGlvbihlLHQpe3ZhciByPWkobyhlKSx0KTtyZXR1cm4hKHImJiFyLmNvbmZpZ3VyYWJsZSkmJmRlbGV0ZSBlW3RdfX0pfSwvKiAzNDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gMjYuMS41IFJlZmxlY3QuZW51bWVyYXRlKHRhcmdldCkKdmFyIG49cigwKSxpPXIoMyksbz1mdW5jdGlvbihlKXt0aGlzLl90PWkoZSksLy8gdGFyZ2V0CnRoaXMuX2k9MDsvLyBuZXh0IGluZGV4CnZhciB0LHI9dGhpcy5faz1bXTtmb3IodCBpbiBlKXIucHVzaCh0KX07cigxMTUpKG8sIk9iamVjdCIsZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMscj10Ll9rO2Rve2lmKHQuX2k+PXIubGVuZ3RoKXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19d2hpbGUoISgoZT1yW3QuX2krK10paW4gdC5fdCkpO3JldHVybnt2YWx1ZTplLGRvbmU6ITF9fSksbihuLlMsIlJlZmxlY3QiLHtlbnVtZXJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvKGUpfX0pfSwvKiAzNDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGdldChlLHQpe3ZhciByLHMsYz1hcmd1bWVudHMubGVuZ3RoPDM/ZTphcmd1bWVudHNbMl07cmV0dXJuIHUoZSk9PT1jP2VbdF06KHI9bi5mKGUsdCkpP28ociwidmFsdWUiKT9yLnZhbHVlOnZvaWQgMCE9PXIuZ2V0P3IuZ2V0LmNhbGwoYyk6dm9pZCAwOmEocz1pKGUpKT9nZXQocyx0LGMpOnZvaWQgMH0KLy8gMjYuMS42IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcGVydHlLZXkgWywgcmVjZWl2ZXJdKQp2YXIgbj1yKDI1KSxpPXIoMjYpLG89cigyMykscz1yKDApLGE9cig2KSx1PXIoMyk7cyhzLlMsIlJlZmxlY3QiLHtnZXQ6Z2V0fSl9LC8qIDM0NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDI2LjEuNyBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5S2V5KQp2YXIgbj1yKDI1KSxpPXIoMCksbz1yKDMpO2koaS5TLCJSZWZsZWN0Iix7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZihvKGUpLHQpfX0pfSwvKiAzNDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjggUmVmbGVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpCnZhciBuPXIoMCksaT1yKDI2KSxvPXIoMyk7bihuLlMsIlJlZmxlY3QiLHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gaShvKGUpKX19KX0sLyogMzQ3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjYuMS45IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcGVydHlLZXkpCnZhciBuPXIoMCk7bihuLlMsIlJlZmxlY3QiLHtoYXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbiBlfX0pfSwvKiAzNDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjEwIFJlZmxlY3QuaXNFeHRlbnNpYmxlKHRhcmdldCkKdmFyIG49cigwKSxpPXIoMyksbz1PYmplY3QuaXNFeHRlbnNpYmxlO24obi5TLCJSZWZsZWN0Iix7aXNFeHRlbnNpYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLCFvfHxvKGUpfX0pfSwvKiAzNDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjExIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpCnZhciBuPXIoMCk7bihuLlMsIlJlZmxlY3QiLHtvd25LZXlzOnIoMTc1KX0pfSwvKiAzNTAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjEyIFJlZmxlY3QucHJldmVudEV4dGVuc2lvbnModGFyZ2V0KQp2YXIgbj1yKDApLGk9cigzKSxvPU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucztuKG4uUywiUmVmbGVjdCIse3ByZXZlbnRFeHRlbnNpb25zOmZ1bmN0aW9uKGUpe2koZSk7dHJ5e3JldHVybiBvJiZvKGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX19KX0sLyogMzUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBzZXQoZSx0LHIpe3ZhciBhLGwsZD1hcmd1bWVudHMubGVuZ3RoPDQ/ZTphcmd1bWVudHNbM10scD1pLmYoYyhlKSx0KTtpZighcCl7aWYoZihsPW8oZSkpKXJldHVybiBzZXQobCx0LHIsZCk7cD11KDApfWlmKHMocCwidmFsdWUiKSl7aWYoITE9PT1wLndyaXRhYmxlfHwhZihkKSlyZXR1cm4hMTtpZihhPWkuZihkLHQpKXtpZihhLmdldHx8YS5zZXR8fCExPT09YS53cml0YWJsZSlyZXR1cm4hMTthLnZhbHVlPXIsbi5mKGQsdCxhKX1lbHNlIG4uZihkLHQsdSgwLHIpKTtyZXR1cm4hMH1yZXR1cm4gdm9pZCAwIT09cC5zZXQmJihwLnNldC5jYWxsKGQsciksITApfQovLyAyNi4xLjEzIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHlLZXksIFYgWywgcmVjZWl2ZXJdKQp2YXIgbj1yKDEyKSxpPXIoMjUpLG89cigyNikscz1yKDIzKSxhPXIoMCksdT1yKDQ4KSxjPXIoMyksZj1yKDYpO2EoYS5TLCJSZWZsZWN0Iix7c2V0OnNldH0pfSwvKiAzNTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAyNi4xLjE0IFJlZmxlY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90bykKdmFyIG49cigwKSxpPXIoMTA3KTtpJiZuKG4uUywiUmVmbGVjdCIse3NldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUsdCl7aS5jaGVjayhlLHQpO3RyeXtyZXR1cm4gaS5zZXQoZSx0KSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fSl9LC8qIDM1MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXMKdmFyIG49cigwKSxpPXIoODEpKCEwKTtuKG4uUCwiQXJyYXkiLHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLHIoNDQpKCJpbmNsdWRlcyIpfSwvKiAzNTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXRNYXAKdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMyksYT1yKDE2KSx1PXIoMTIxKTtuKG4uUCwiQXJyYXkiLHtmbGF0TWFwOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1vKHRoaXMpO3JldHVybiBhKGUpLHQ9cyhuLmxlbmd0aCkscj11KG4sMCksaShyLG4sbix0LDAsMSxlLGFyZ3VtZW50c1sxXSkscn19KSxyKDQ0KSgiZmxhdE1hcCIpfSwvKiAzNTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtQXJyYXkucHJvdG90eXBlLmZsYXR0ZW4KdmFyIG49cigwKSxpPXIoMTc2KSxvPXIoMTUpLHM9cigxMyksYT1yKDMzKSx1PXIoMTIxKTtuKG4uUCwiQXJyYXkiLHtmbGF0dGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdLHQ9byh0aGlzKSxyPXModC5sZW5ndGgpLG49dSh0LDApO3JldHVybiBpKG4sdCx0LHIsMCx2b2lkIDA9PT1lPzE6YShlKSksbn19KSxyKDQ0KSgiZmxhdHRlbiIpfSwvKiAzNTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdAp2YXIgbj1yKDApLGk9cigxMTMpKCEwKTtuKG4uUCwiU3RyaW5nIix7YXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlKX19KX0sLyogMzU3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kCnZhciBuPXIoMCksaT1yKDE3Nyksbz1yKDg5KTsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzI4MApuKG4uUCtuLkYqL1ZlcnNpb25cLzEwXC5cZCsoXC5cZCspPyBTYWZhcmlcLy8udGVzdChvKSwiU3RyaW5nIix7cGFkU3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLCEwKX19KX0sLyogMzU4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kCnZhciBuPXIoMCksaT1yKDE3Nyksbz1yKDg5KTsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzI4MApuKG4uUCtuLkYqL1ZlcnNpb25cLzEwXC5cZCsoXC5cZCspPyBTYWZhcmlcLy8udGVzdChvKSwiU3RyaW5nIix7cGFkRW5kOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwhMSl9fSl9LC8qIDM1OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vc2VibWFya2JhZ2UvZWNtYXNjcmlwdC1zdHJpbmctbGVmdC1yaWdodC10cmltCnIoNjIpKCJ0cmltTGVmdCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywxKX19LCJ0cmltU3RhcnQiKX0sLyogMzYwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zZWJtYXJrYmFnZS9lY21hc2NyaXB0LXN0cmluZy1sZWZ0LXJpZ2h0LXRyaW0Kcig2MikoInRyaW1SaWdodCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcywyKX19LCJ0cmltRW5kIil9LC8qIDM2MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL1N0cmluZy5wcm90b3R5cGUubWF0Y2hBbGwvCnZhciBuPXIoMCksaT1yKDMyKSxvPXIoMTMpLHM9cig4NCksYT1yKDg2KSx1PVJlZ0V4cC5wcm90b3R5cGUsYz1mdW5jdGlvbihlLHQpe3RoaXMuX3I9ZSx0aGlzLl9zPXR9O3IoMTE1KShjLCJSZWdFeHAgU3RyaW5nIixmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3IuZXhlYyh0aGlzLl9zKTtyZXR1cm57dmFsdWU6ZSxkb25lOm51bGw9PT1lfX0pLG4obi5QLCJTdHJpbmciLHttYXRjaEFsbDpmdW5jdGlvbihlKXtpZihpKHRoaXMpLCFzKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgcmVnZXhwISIpO3ZhciB0PVN0cmluZyh0aGlzKSxyPSJmbGFncyJpbiB1P1N0cmluZyhlLmZsYWdzKTphLmNhbGwoZSksbj1uZXcgUmVnRXhwKGUuc291cmNlLH5yLmluZGV4T2YoImciKT9yOiJnIityKTtyZXR1cm4gbi5sYXN0SW5kZXg9byhlLmxhc3RJbmRleCksbmV3IGMobix0KX19KX0sLyogMzYyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDEwMykoImFzeW5jSXRlcmF0b3IiKX0sLyogMzYzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDEwMykoIm9ic2VydmFibGUiKX0sLyogMzY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnMKdmFyIG49cigwKSxpPXIoMTc1KSxvPXIoMjQpLHM9cigyNSksYT1yKDExOSk7bihuLlMsIk9iamVjdCIse2dldE93blByb3BlcnR5RGVzY3JpcHRvcnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1vKGUpLHU9cy5mLGM9aShuKSxmPXt9LGw9MDtjLmxlbmd0aD5sOyl2b2lkIDAhPT0ocj11KG4sdD1jW2wrK10pKSYmYShmLHQscik7cmV0dXJuIGZ9fSl9LC8qIDM2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllcwp2YXIgbj1yKDApLGk9cigxNzgpKCExKTtuKG4uUywiT2JqZWN0Iix7dmFsdWVzOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfX0pfSwvKiAzNjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtdmFsdWVzLWVudHJpZXMKdmFyIG49cigwKSxpPXIoMTc4KSghMCk7bihuLlMsIk9iamVjdCIse2VudHJpZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDM2NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDE1KSxvPXIoMTYpLHM9cigxMik7Ci8vIEIuMi4yLjIgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKFAsIGdldHRlcikKcigxMSkmJm4obi5QK3IoOTIpLCJPYmplY3QiLHtfX2RlZmluZUdldHRlcl9fOmZ1bmN0aW9uKGUsdCl7cy5mKGkodGhpcyksZSx7Z2V0Om8odCksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19KX0sLyogMzY4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigwKSxpPXIoMTUpLG89cigxNikscz1yKDEyKTsKLy8gQi4yLjIuMyBPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oUCwgc2V0dGVyKQpyKDExKSYmbihuLlArcig5MiksIk9iamVjdCIse19fZGVmaW5lU2V0dGVyX186ZnVuY3Rpb24oZSx0KXtzLmYoaSh0aGlzKSxlLHtzZXQ6byh0KSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSwvKiAzNjkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDApLGk9cigxNSksbz1yKDMxKSxzPXIoMjYpLGE9cigyNSkuZjsKLy8gQi4yLjIuNCBPYmplY3QucHJvdG90eXBlLl9fbG9va3VwR2V0dGVyX18oUCkKcigxMSkmJm4obi5QK3IoOTIpLCJPYmplY3QiLHtfX2xvb2t1cEdldHRlcl9fOmZ1bmN0aW9uKGUpe3ZhciB0LHI9aSh0aGlzKSxuPW8oZSwhMCk7ZG97aWYodD1hKHIsbikpcmV0dXJuIHQuZ2V0fXdoaWxlKHI9cyhyKSl9fSl9LC8qIDM3MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMCksaT1yKDE1KSxvPXIoMzEpLHM9cigyNiksYT1yKDI1KS5mOwovLyBCLjIuMi41IE9iamVjdC5wcm90b3R5cGUuX19sb29rdXBTZXR0ZXJfXyhQKQpyKDExKSYmbihuLlArcig5MiksIk9iamVjdCIse19fbG9va3VwU2V0dGVyX186ZnVuY3Rpb24oZSl7dmFyIHQscj1pKHRoaXMpLG49byhlLCEwKTtkb3tpZih0PWEocixuKSlyZXR1cm4gdC5zZXR9d2hpbGUocj1zKHIpKX19KX0sLyogMzcxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTgp2YXIgbj1yKDApO24obi5QK24uUiwiTWFwIix7dG9KU09OOnIoMTc5KSgiTWFwIil9KX0sLyogMzcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTgp2YXIgbj1yKDApO24obi5QK24uUiwiU2V0Iix7dG9KU09OOnIoMTc5KSgiU2V0Iil9KX0sLyogMzczICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtbWFwLm9mCnIoOTMpKCJNYXAiKX0sLyogMzc0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtc2V0Lm9mCnIoOTMpKCJTZXQiKX0sLyogMzc1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtd2Vha21hcC5vZgpyKDkzKSgiV2Vha01hcCIpfSwvKiAzNzYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrc2V0Lm9mCnIoOTMpKCJXZWFrU2V0Iil9LC8qIDM3NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vcHJvcG9zYWwtc2V0bWFwLW9mZnJvbS8jc2VjLW1hcC5mcm9tCnIoOTQpKCJNYXAiKX0sLyogMzc4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtc2V0LmZyb20Kcig5NCkoIlNldCIpfSwvKiAzNzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL3Byb3Bvc2FsLXNldG1hcC1vZmZyb20vI3NlYy13ZWFrbWFwLmZyb20Kcig5NCkoIldlYWtNYXAiKX0sLyogMzgwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1zZXRtYXAtb2Zmcm9tLyNzZWMtd2Vha3NldC5mcm9tCnIoOTQpKCJXZWFrU2V0Iil9LC8qIDM4MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWdsb2JhbAp2YXIgbj1yKDApO24obi5HLHtnbG9iYWw6cig0KX0pfSwvKiAzODIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWwKdmFyIG49cigwKTtuKG4uUywiU3lzdGVtIix7Z2xvYmFsOnIoNCl9KX0sLyogMzgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9wcm9wb3NhbC1pcy1lcnJvcgp2YXIgbj1yKDApLGk9cigyOSk7bihuLlMsIkVycm9yIix7aXNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iRXJyb3IiPT09aShlKX19KX0sLyogMzg0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7Y2xhbXA6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNYXRoLm1pbihyLE1hdGgubWF4KHQsZSkpfX0pfSwvKiAzODUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtERUdfUEVSX1JBRDpNYXRoLlBJLzE4MH0pfSwvKiAzODYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL3J3YWxkcm9uLmdpdGh1Yi5pby9wcm9wb3NhbC1tYXRoLWV4dGVuc2lvbnMvCnZhciBuPXIoMCksaT0xODAvTWF0aC5QSTtuKG4uUywiTWF0aCIse2RlZ3JlZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqaX19KX0sLyogMzg3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApLGk9cigxODEpLG89cigxNjEpO24obi5TLCJNYXRoIix7ZnNjYWxlOmZ1bmN0aW9uKGUsdCxyLG4scyl7cmV0dXJuIG8oaShlLHQscixuLHMpKX19KX0sLyogMzg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDMKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse2lhZGRoOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWU+Pj4wLG89dD4+PjAscz1yPj4+MDtyZXR1cm4gbysobj4+PjApKygoaSZzfChpfHMpJn4oaStzPj4+MCkpPj4+MzEpfDB9fSl9LC8qIDM4OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyZW5kYW5FaWNoLzQyOTRkNWMyMTJhNmQyMjU0NzAzCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtpc3ViaDpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1lPj4+MCxvPXQ+Pj4wLHM9cj4+PjA7cmV0dXJuIG8tKG4+Pj4wKS0oKH5pJnN8fihpXnMpJmktcz4+PjApPj4+MzEpfDB9fSl9LC8qIDM5MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyZW5kYW5FaWNoLzQyOTRkNWMyMTJhNmQyMjU0NzAzCnZhciBuPXIoMCk7bihuLlMsIk1hdGgiLHtpbXVsaDpmdW5jdGlvbihlLHQpe3ZhciByPStlLG49K3QsaT02NTUzNSZyLG89NjU1MzUmbixzPXI+PjE2LGE9bj4+MTYsdT0ocypvPj4+MCkrKGkqbz4+PjE2KTtyZXR1cm4gcyphKyh1Pj4xNikrKChpKmE+Pj4wKSsoNjU1MzUmdSk+PjE2KX19KX0sLyogMzkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7UkFEX1BFUl9ERUc6MTgwL01hdGguUEl9KX0sLyogMzkyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9yd2FsZHJvbi5naXRodWIuaW8vcHJvcG9zYWwtbWF0aC1leHRlbnNpb25zLwp2YXIgbj1yKDApLGk9TWF0aC5QSS8xODA7bihuLlMsIk1hdGgiLHtyYWRpYW5zOmZ1bmN0aW9uKGUpe3JldHVybiBlKml9fSl9LC8qIDM5MyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vcndhbGRyb24uZ2l0aHViLmlvL3Byb3Bvc2FsLW1hdGgtZXh0ZW5zaW9ucy8KdmFyIG49cigwKTtuKG4uUywiTWF0aCIse3NjYWxlOnIoMTgxKX0pfSwvKiAzOTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9CcmVuZGFuRWljaC80Mjk0ZDVjMjEyYTZkMjI1NDcwMwp2YXIgbj1yKDApO24obi5TLCJNYXRoIix7dW11bGg6ZnVuY3Rpb24oZSx0KXt2YXIgcj0rZSxuPSt0LGk9NjU1MzUmcixvPTY1NTM1Jm4scz1yPj4+MTYsYT1uPj4+MTYsdT0ocypvPj4+MCkrKGkqbz4+PjE2KTtyZXR1cm4gcyphKyh1Pj4+MTYpKygoaSphPj4+MCkrKDY1NTM1JnUpPj4+MTYpfX0pfSwvKiAzOTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwOi8vamZiYXN0aWVuLmdpdGh1Yi5pby9wYXBlcnMvTWF0aC5zaWduYml0Lmh0bWwKdmFyIG49cigwKTtuKG4uUywiTWF0aCIse3NpZ25iaXQ6ZnVuY3Rpb24oZSl7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKcmV0dXJuKGU9K2UpIT1lP2U6MD09ZT8xL2U9PTEvMDplPjB9fSl9LC8qIDM5NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLWZpbmFsbHkKdmFyIG49cigwKSxpPXIoMjcpLG89cig0KSxzPXIoODgpLGE9cigxNjgpO24obi5QK24uUiwiUHJvbWlzZSIse2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9cyh0aGlzLGkuUHJvbWlzZXx8by5Qcm9taXNlKSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlO3JldHVybiB0aGlzLnRoZW4ocj9mdW5jdGlvbihyKXtyZXR1cm4gYSh0LGUoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiByfSl9OmUscj9mdW5jdGlvbihyKXtyZXR1cm4gYSh0LGUoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHJ9KX06ZSl9fSl9LC8qIDM5NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLXRyeQp2YXIgbj1yKDApLGk9cigxMjYpLG89cigxNjcpO24obi5TLCJQcm9taXNlIix7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PWkuZih0aGlzKSxyPW8oZSk7cmV0dXJuKHIuZT90LnJlamVjdDp0LnJlc29sdmUpKHIudiksdC5wcm9taXNlfX0pfSwvKiAzOTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLGk9cigzKSxvPW4ua2V5LHM9bi5zZXQ7bi5leHAoe2RlZmluZU1ldGFkYXRhOmZ1bmN0aW9uKGUsdCxyLG4pe3MoZSx0LGkociksbyhuKSl9fSl9LC8qIDM5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5rZXkscz1uLm1hcCxhPW4uc3RvcmU7bi5leHAoe2RlbGV0ZU1ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDpvKGFyZ3VtZW50c1syXSksbj1zKGkodCksciwhMSk7aWYodm9pZCAwPT09bnx8IW4uZGVsZXRlKGUpKXJldHVybiExO2lmKG4uc2l6ZSlyZXR1cm4hMDt2YXIgdT1hLmdldCh0KTtyZXR1cm4gdS5kZWxldGUociksISF1LnNpemV8fGEuZGVsZXRlKHQpfX0pfSwvKiA0MDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLGk9cigzKSxvPXIoMjYpLHM9bi5oYXMsYT1uLmdldCx1PW4ua2V5LGM9ZnVuY3Rpb24oZSx0LHIpe2lmKHMoZSx0LHIpKXJldHVybiBhKGUsdCxyKTt2YXIgbj1vKHQpO3JldHVybiBudWxsIT09bj9jKGUsbixyKTp2b2lkIDB9O24uZXhwKHtnZXRNZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBjKGUsaSh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnUoYXJndW1lbnRzWzJdKSl9fSl9LC8qIDQwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxNzEpLGk9cigxODApLG89cigzOSkscz1yKDMpLGE9cigyNiksdT1vLmtleXMsYz1vLmtleSxmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dShlLHQpLG89YShlKTtpZihudWxsPT09bylyZXR1cm4gcjt2YXIgcz1mKG8sdCk7cmV0dXJuIHMubGVuZ3RoP3IubGVuZ3RoP2kobmV3IG4oci5jb25jYXQocykpKTpzOnJ9O28uZXhwKHtnZXRNZXRhZGF0YUtleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGYocyhlKSxhcmd1bWVudHMubGVuZ3RoPDI/dm9pZCAwOmMoYXJndW1lbnRzWzFdKSl9fSl9LC8qIDQwMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89bi5nZXQscz1uLmtleTtuLmV4cCh7Z2V0T3duTWV0YWRhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLGkodCksYXJndW1lbnRzLmxlbmd0aDwzP3ZvaWQgMDpzKGFyZ3VtZW50c1syXSkpfX0pfSwvKiA0MDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMzkpLGk9cigzKSxvPW4ua2V5cyxzPW4ua2V5O24uZXhwKHtnZXRPd25NZXRhZGF0YUtleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oaShlKSxhcmd1bWVudHMubGVuZ3RoPDI/dm9pZCAwOnMoYXJndW1lbnRzWzFdKSl9fSl9LC8qIDQwNCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89cigyNikscz1uLmhhcyxhPW4ua2V5LHU9ZnVuY3Rpb24oZSx0LHIpe2lmKHMoZSx0LHIpKXJldHVybiEwO3ZhciBuPW8odCk7cmV0dXJuIG51bGwhPT1uJiZ1KGUsbixyKX07bi5leHAoe2hhc01ldGFkYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUoZSxpKHQpLGFyZ3VtZW50cy5sZW5ndGg8Mz92b2lkIDA6YShhcmd1bWVudHNbMl0pKX19KX0sLyogNDA1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDM5KSxpPXIoMyksbz1uLmhhcyxzPW4ua2V5O24uZXhwKHtoYXNPd25NZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsaSh0KSxhcmd1bWVudHMubGVuZ3RoPDM/dm9pZCAwOnMoYXJndW1lbnRzWzJdKSl9fSl9LC8qIDQwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigzOSksaT1yKDMpLG89cigxNikscz1uLmtleSxhPW4uc2V0O24uZXhwKHttZXRhZGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe2EoZSx0LCh2b2lkIDAhPT1uP2k6bykocikscyhuKSl9fX0pfSwvKiA0MDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBodHRwczovL2dpdGh1Yi5jb20vcndhbGRyb24vdGMzOS1ub3Rlcy9ibG9iL21hc3Rlci9lczYvMjAxNC0wOS9zZXB0LTI1Lm1kIzUxMC1nbG9iYWxhc2FwLWZvci1lbnF1ZXVpbmctYS1taWNyb3Rhc2sKdmFyIG49cigwKSxpPXIoMTI1KSgpLG89cig0KS5wcm9jZXNzLHM9InByb2Nlc3MiPT1yKDI5KShvKTtuKG4uRyx7YXNhcDpmdW5jdGlvbihlKXt2YXIgdD1zJiZvLmRvbWFpbjtpKHQ/dC5iaW5kKGUpOmUpfX0pfSwvKiA0MDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZQp2YXIgbj1yKDApLGk9cig0KSxvPXIoMjcpLHM9cigxMjUpKCksYT1yKDgpKCJvYnNlcnZhYmxlIiksdT1yKDE2KSxjPXIoMyksZj1yKDU1KSxsPXIoNTcpLGQ9cigxOCkscD1yKDU2KSx5PXAuUkVUVVJOLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOnUoZSl9LHY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5fYzt0JiYoZS5fYz12b2lkIDAsdCgpKX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZS5fb30sYj1mdW5jdGlvbihlKXtnKGUpfHwoZS5fbz12b2lkIDAsdihlKSl9LG09ZnVuY3Rpb24oZSx0KXtjKGUpLHRoaXMuX2M9dm9pZCAwLHRoaXMuX289ZSxlPW5ldyBfKHRoaXMpO3RyeXt2YXIgcj10KGUpLG49cjtudWxsIT1yJiYoImZ1bmN0aW9uIj09dHlwZW9mIHIudW5zdWJzY3JpYmU/cj1mdW5jdGlvbigpe24udW5zdWJzY3JpYmUoKX06dShyKSx0aGlzLl9jPXIpfWNhdGNoKHQpe3JldHVybiB2b2lkIGUuZXJyb3IodCl9Zyh0aGlzKSYmdih0aGlzKX07bS5wcm90b3R5cGU9bCh7fSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtiKHRoaXMpfX0pO3ZhciBfPWZ1bmN0aW9uKGUpe3RoaXMuX3M9ZX07Xy5wcm90b3R5cGU9bCh7fSx7bmV4dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zO2lmKCFnKHQpKXt2YXIgcj10Ll9vO3RyeXt2YXIgbj1oKHIubmV4dCk7aWYobilyZXR1cm4gbi5jYWxsKHIsZSl9Y2F0Y2goZSl7dHJ5e2IodCl9ZmluYWxseXt0aHJvdyBlfX19fSxlcnJvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zO2lmKGcodCkpdGhyb3cgZTt2YXIgcj10Ll9vO3QuX289dm9pZCAwO3RyeXt2YXIgbj1oKHIuZXJyb3IpO2lmKCFuKXRocm93IGU7ZT1uLmNhbGwocixlKX1jYXRjaChlKXt0cnl7dih0KX1maW5hbGx5e3Rocm93IGV9fXJldHVybiB2KHQpLGV9LGNvbXBsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3M7aWYoIWcodCkpe3ZhciByPXQuX287dC5fbz12b2lkIDA7dHJ5e3ZhciBuPWgoci5jb21wbGV0ZSk7ZT1uP24uY2FsbChyLGUpOnZvaWQgMH1jYXRjaChlKXt0cnl7dih0KX1maW5hbGx5e3Rocm93IGV9fXJldHVybiB2KHQpLGV9fX0pO3ZhciBSPWZ1bmN0aW9uKGUpe2YodGhpcyxSLCJPYnNlcnZhYmxlIiwiX2YiKS5fZj11KGUpfTtsKFIucHJvdG90eXBlLHtzdWJzY3JpYmU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBtKGUsdGhpcy5fZil9LGZvckVhY2g6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3KG8uUHJvbWlzZXx8aS5Qcm9taXNlKShmdW5jdGlvbihyLG4pe3UoZSk7dmFyIGk9dC5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBlKHQpfWNhdGNoKGUpe24oZSksaS51bnN1YnNjcmliZSgpfX0sZXJyb3I6bixjb21wbGV0ZTpyfSl9KX19KSxsKFIse2Zyb206ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpSLHI9aChjKGUpW2FdKTtpZihyKXt2YXIgbj1jKHIuY2FsbChlKSk7cmV0dXJuIG4uY29uc3RydWN0b3I9PT10P246bmV3IHQoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3Vic2NyaWJlKGUpfSl9cmV0dXJuIG5ldyB0KGZ1bmN0aW9uKHQpe3ZhciByPSExO3JldHVybiBzKGZ1bmN0aW9uKCl7aWYoIXIpe3RyeXtpZihwKGUsITEsZnVuY3Rpb24oZSl7aWYodC5uZXh0KGUpLHIpcmV0dXJuIHl9KT09PXkpcmV0dXJufWNhdGNoKGUpe2lmKHIpdGhyb3cgZTtyZXR1cm4gdm9pZCB0LmVycm9yKGUpfXQuY29tcGxldGUoKX19KSxmdW5jdGlvbigpe3I9ITB9fSl9LG9mOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQpO2U8dDspcltlXT1hcmd1bWVudHNbZSsrXTtyZXR1cm4gbmV3KCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6UikoZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIHMoZnVuY3Rpb24oKXtpZighdCl7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aDsrK24paWYoZS5uZXh0KHJbbl0pLHQpcmV0dXJuO2UuY29tcGxldGUoKX19KSxmdW5jdGlvbigpe3Q9ITB9fSl9fSksZChSLnByb3RvdHlwZSxhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxuKG4uRyx7T2JzZXJ2YWJsZTpSfSkscig1NCkoIk9ic2VydmFibGUiKX0sLyogNDA5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaWU5LSBzZXRUaW1lb3V0ICYgc2V0SW50ZXJ2YWwgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIGZpeAp2YXIgbj1yKDQpLGk9cigwKSxvPXIoODkpLHM9W10uc2xpY2UsYT0vTVNJRSAuXC4vLnRlc3QobyksdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjIsaT0hIW4mJnMuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGUobj9mdW5jdGlvbigpewovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCkpLmFwcGx5KHRoaXMsaSl9OnQscil9fTtpKGkuRytpLkIraS5GKmEse3NldFRpbWVvdXQ6dShuLnNldFRpbWVvdXQpLHNldEludGVydmFsOnUobi5zZXRJbnRlcnZhbCl9KX0sLyogNDEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDApLGk9cigxMjQpO24obi5HK24uQix7c2V0SW1tZWRpYXRlOmkuc2V0LGNsZWFySW1tZWRpYXRlOmkuY2xlYXJ9KX0sLyogNDExICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49cigxMjMpLGk9cig1MCksbz1yKDE5KSxzPXIoNCksYT1yKDE4KSx1PXIoNjMpLGM9cig4KSxmPWMoIml0ZXJhdG9yIiksbD1jKCJ0b1N0cmluZ1RhZyIpLGQ9dS5BcnJheSxwPXtDU1NSdWxlTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KQ1NTU3R5bGVEZWNsYXJhdGlvbjohMSxDU1NWYWx1ZUxpc3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsRE9NUmVjdExpc3Q6ITEsRE9NU3RyaW5nTGlzdDohMSxET01Ub2tlbkxpc3Q6ITAsRGF0YVRyYW5zZmVySXRlbUxpc3Q6ITEsRmlsZUxpc3Q6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTENvbGxlY3Rpb246ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLE1lZGlhTGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KTWltZVR5cGVBcnJheTohMSxOYW1lZE5vZGVNYXA6ITEsTm9kZUxpc3Q6ITAsUGFpbnRSZXF1ZXN0TGlzdDohMSxQbHVnaW46ITEsUGx1Z2luQXJyYXk6ITEsU1ZHTGVuZ3RoTGlzdDohMSxTVkdOdW1iZXJMaXN0OiExLFNWR1BhdGhTZWdMaXN0OiExLFNWR1BvaW50TGlzdDohMSxTVkdTdHJpbmdMaXN0OiExLFNWR1RyYW5zZm9ybUxpc3Q6ITEsU291cmNlQnVmZmVyTGlzdDohMSxTdHlsZVNoZWV0TGlzdDohMCwvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS4KVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRvdWNoTGlzdDohMX0seT1pKHApLGg9MDtoPHkubGVuZ3RoO2grKyl7dmFyIHYsZz15W2hdLGI9cFtnXSxtPXNbZ10sXz1tJiZtLnByb3RvdHlwZTtpZihfJiYoX1tmXXx8YShfLGYsZCksX1tsXXx8YShfLGwsZyksdVtnXT1kLGIpKWZvcih2IGluIG4pX1t2XXx8byhfLHYsblt2XSwhMCl9fSwvKiA0MTIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpey8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwooZnVuY3Rpb24odCl7LyoqCiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy4KICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW4KICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluCiAqIHRoZSBzYW1lIGRpcmVjdG9yeS4KICovCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gd3JhcChlLHQscixuKXsKLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuCnZhciBpPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yP3Q6R2VuZXJhdG9yLG89T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscz1uZXcgQ29udGV4dChufHxbXSk7Ci8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLgpyZXR1cm4gby5faW52b2tlPW1ha2VJbnZva2VNZXRob2QoZSxyLHMpLG99Ci8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvbgovLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGQKLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlCi8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2UKLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZAovLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nCi8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlCi8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZQovLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoCi8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS4KZnVuY3Rpb24gdHJ5Q2F0Y2goZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX0KLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kCi8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvcgovLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91cgovLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLgpmdW5jdGlvbiBHZW5lcmF0b3IoKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKXt9ZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKXt9Ci8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlCi8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuCmZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSl9ZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihlKXtmdW5jdGlvbiBpbnZva2UodCxyLG4sbyl7dmFyIHM9dHJ5Q2F0Y2goZVt0XSxlLHIpO2lmKCJ0aHJvdyIhPT1zLnR5cGUpe3ZhciBhPXMuYXJnLHU9YS52YWx1ZTtyZXR1cm4gdSYmIm9iamVjdCI9PXR5cGVvZiB1JiZpLmNhbGwodSwiX19hd2FpdCIpP1Byb21pc2UucmVzb2x2ZSh1Ll9fYXdhaXQpLnRoZW4oZnVuY3Rpb24oZSl7aW52b2tlKCJuZXh0IixlLG4sbyl9LGZ1bmN0aW9uKGUpe2ludm9rZSgidGhyb3ciLGUsbixvKX0pOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKGZ1bmN0aW9uKGUpewovLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lcwovLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGUKLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGUKLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWUKLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3QKLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZQovLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluCi8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdAovLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWQKLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2sKLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoCi8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGUKLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZQovLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmQKLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uCmEudmFsdWU9ZSxuKGEpfSxvKX1vKHMuYXJnKX1mdW5jdGlvbiBlbnF1ZXVlKGUsdCl7ZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtpbnZva2UoZSx0LHIsbil9KX0KLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbAovLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZgovLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0bwovLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG8KLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eQovLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwovLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseQovLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZQovLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQovLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuCi8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyCi8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci4KcmV0dXJuIHI9cj9yLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpOmNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCl9Im9iamVjdCI9PXR5cGVvZiB0LnByb2Nlc3MmJnQucHJvY2Vzcy5kb21haW4mJihpbnZva2U9dC5wcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSkpO3ZhciByOwovLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LAovLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS4KdGhpcy5faW52b2tlPWVucXVldWV9ZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLHQscil7dmFyIG49bDtyZXR1cm4gZnVuY3Rpb24oaSxvKXtpZihuPT09cCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihuPT09eSl7aWYoInRocm93Ij09PWkpdGhyb3cgbzsKLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzoKLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZQpyZXR1cm4gZG9uZVJlc3VsdCgpfWZvcihyLm1ldGhvZD1pLHIuYXJnPW87Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYT1tYXliZUludm9rZURlbGVnYXRlKHMscik7aWYoYSl7aWYoYT09PWgpY29udGludWU7cmV0dXJuIGF9fWlmKCJuZXh0Ij09PXIubWV0aG9kKQovLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4Kci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG49PT1sKXRocm93IG49eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO249cDt2YXIgdT10cnlDYXRjaChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKAovLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09Ci8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi4Kbj1yLmRvbmU/eTpkLHUuYXJnPT09aCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihuPXksCi8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGUKLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS4Kci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX0KLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlCi8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGUKLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsCi8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLgpmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYobj09PXIpe2lmKAovLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC4KdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT10Lm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJigKLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYQovLyBjaGFuY2UgdG8gY2xlYW4gdXAuCnQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPXIsbWF5YmVJbnZva2VEZWxlZ2F0ZShlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpCi8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tCi8vICJyZXR1cm4iIHRvICJ0aHJvdyIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuCnJldHVybiBoO3QubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZCIpfXJldHVybiBofXZhciBpPXRyeUNhdGNoKG4sZS5pdGVyYXRvcix0LmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gdC5tZXRob2Q9InRocm93Iix0LmFyZz1pLmFyZyx0LmRlbGVnYXRlPW51bGwsaDt2YXIgbz1pLmFyZzsKLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLgovLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgInRocm93IiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlCi8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKLy8gY29udGV4dC5tZXRob2Qgd2FzICJuZXh0IiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuCi8vICJjb25zdW1lZCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXMKLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCi8vIG91dGVyIGdlbmVyYXRvci4KLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGgKLy8gdGhlIG91dGVyIGdlbmVyYXRvci4KcmV0dXJuIG8/by5kb25lPyh0W2UucmVzdWx0TmFtZV09by52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9ciksdC5kZWxlZ2F0ZT1udWxsLGgpOm86KHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSx0LmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIENvbnRleHQoZSl7Ci8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaAovLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tCi8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC4KdGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChwdXNoVHJ5RW50cnksdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gdmFsdWVzKGUpe2lmKGUpe3ZhciB0PWVbc107aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG49LTEsbz1mdW5jdGlvbiBuZXh0KCl7Zm9yKDsrK248ZS5sZW5ndGg7KWlmKGkuY2FsbChlLG4pKXJldHVybiBuZXh0LnZhbHVlPWVbbl0sbmV4dC5kb25lPSExLG5leHQ7cmV0dXJuIG5leHQudmFsdWU9cixuZXh0LmRvbmU9ITAsbmV4dH07cmV0dXJuIG8ubmV4dD1vfX0KLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLgpyZXR1cm57bmV4dDpkb25lUmVzdWx0fX1mdW5jdGlvbiBkb25lUmVzdWx0KCl7cmV0dXJue3ZhbHVlOnIsZG9uZTohMH19dmFyIHIsbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LHM9by5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLGE9by5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIix1PW8udG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIixjPSJvYmplY3QiPT10eXBlb2YgZSxmPXQucmVnZW5lcmF0b3JSdW50aW1lO2lmKGYpCi8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXMKLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LgovLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsCi8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuCnJldHVybiB2b2lkKGMmJihlLmV4cG9ydHM9ZikpOwovLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXIKLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LgpmPXQucmVnZW5lcmF0b3JSdW50aW1lPWM/ZS5leHBvcnRzOnt9LGYud3JhcD13cmFwO3ZhciBsPSJzdXNwZW5kZWRTdGFydCIsZD0ic3VzcGVuZGVkWWllbGQiLHA9ImV4ZWN1dGluZyIseT0iY29tcGxldGVkIixoPXt9LHY9e307dltzXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsYj1nJiZnKGcodmFsdWVzKFtdKSkpO2ImJmIhPT1uJiZpLmNhbGwoYixzKSYmKAovLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZAovLyBvZiB0aGUgcG9seWZpbGwuCnY9Yik7dmFyIG09R2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlPUdlbmVyYXRvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2KTtHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGU9bS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1HZW5lcmF0b3JGdW5jdGlvbixHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt1XT1HZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZT0iR2VuZXJhdG9yRnVuY3Rpb24iLGYuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjsKLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhbgovLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuCnJldHVybiEhdCYmKHQ9PT1HZW5lcmF0b3JGdW5jdGlvbnx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZi5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOihlLl9fcHJvdG9fXz1HZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSx1IGluIGV8fChlW3VdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG0pLGV9LAovLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3QKLy8gYGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXMKLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KZi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSxBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxmLkFzeW5jSXRlcmF0b3I9QXN5bmNJdGVyYXRvciwKLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZgovLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuCmYuYXN5bmM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9bmV3IEFzeW5jSXRlcmF0b3Iod3JhcChlLHQscixuKSk7cmV0dXJuIGYuaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9pOmkubmV4dCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmkubmV4dCgpfSl9LAovLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQovLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuCmRlZmluZUl0ZXJhdG9yTWV0aG9kcyhtKSxtW3VdPSJHZW5lcmF0b3IiLAovLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZQovLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQovLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvcgovLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi4KLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCm1bc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxmLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpOwovLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAovLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLgpyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbmV4dCgpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbmV4dC52YWx1ZT1yLG5leHQuZG9uZT0hMSxuZXh0fQovLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWUKLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXMKLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uCnJldHVybiBuZXh0LmRvbmU9ITAsbmV4dH19LGYudmFsdWVzPXZhbHVlcyxDb250ZXh0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q29udGV4dCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCwKLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KdGhpcy5zZW50PXRoaXMuX3NlbnQ9cix0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1yLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCFlKWZvcih2YXIgdCBpbiB0aGlzKQovLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOgoidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPXIpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXSx0PWUuY29tcGxldGlvbjtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGhhbmRsZShuLGkpewovLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLAovLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LgpyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSx0Lm5leHQ9bixpJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPXIpLCEhaX1pZih0aGlzLmRvbmUpdGhyb3cgZTtmb3IodmFyIHQ9dGhpcyxuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dLHM9by5jb21wbGV0aW9uO2lmKCJyb290Ij09PW8udHJ5TG9jKQovLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQovLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG8KLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi4KcmV0dXJuIGhhbmRsZSgiZW5kIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIGE9aS5jYWxsKG8sImNhdGNoTG9jIiksdT1pLmNhbGwobywiZmluYWxseUxvYyIpO2lmKGEmJnUpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBoYW5kbGUoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gaGFuZGxlKG8uZmluYWxseUxvYyl9ZWxzZSBpZihhKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gaGFuZGxlKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGhhbmRsZShvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbcl07aWYobi50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKG4sImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PG4uZmluYWxseUxvYyl7dmFyIG89bjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJigKLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYQovLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suCm89bnVsbCk7dmFyIHM9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIHMudHlwZT1lLHMuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MsaCk6dGhpcy5jb21wbGV0ZShzKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxofSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIuZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLHIuYWZ0ZXJMb2MpLHJlc2V0VHJ5RW50cnkociksaH19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgaT1uLmFyZztyZXNldFRyeUVudHJ5KHIpfXJldHVybiBpfX0KLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uCi8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay4KdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQsbil7Ci8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0Ci8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KcmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOnZhbHVlcyhlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXIpLGh9fX0oCi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwKLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90Ci8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuCiJvYmplY3QiPT10eXBlb2YgdD90OiJvYmplY3QiPT10eXBlb2Ygd2luZG93P3dpbmRvdzoib2JqZWN0Ij09dHlwZW9mIHNlbGY/c2VsZjp0aGlzKX0pLmNhbGwodCxyKDE0NykpfSwvKiA0MTMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDE0KSxlLmV4cG9ydHM9cigyNykuUmVnRXhwLmVzY2FwZX0sLyogNDE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gaHR0cHM6Ly9naXRodWIuY29tL2JlbmphbWluZ3IvUmV4RXhwLmVzY2FwZQp2YXIgbj1yKDApLGk9cig0MTUpKC9bXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpO24obi5TLCJSZWdFeHAiLHtlc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9fSl9LC8qIDQxNSAqLwovKioqLwpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXQ9PT1PYmplY3QodCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19OnQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShlLHIpfX19LC8qIDQxNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOTgpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIwMSksZD1yKDcpLHA9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShkKSx5PXIoNDQxKSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDQ3MSksZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHYpLGI9cig0NzcpLG09X2ludGVyb3BSZXF1aXJlRGVmYXVsdChiKSxfPXIoNDc4KSxSPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyksdz1yKDQ4OSksUz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHcpLFA9cigxNCksTz1yKDEwMCksTT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KE8pLGs9cigxMDEpLEw9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChrKSx4PXIoNDkzKSxFPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeCksQT1yKDQ5NCksVT1yKDQ5NSksRD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFUpLEk9cigxNDQpLGo9cig0OTYpLFQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChqKSxDPXIoMTQzKSxGPXIoNDk3KSxOPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoRikscT1yKDQ5OSksSD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHEpLEI9cig1MDApLEs9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChCKSxHPXIoNTA0KSxWPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoRyksVz1yKDUwNyksWT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFcpLHo9cig1MTgpLEo9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh6KSwkPXIoNTIwKSxRPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoJCksWD1wLmdldExvZ2dlcigiUnVudGltZVVBIiksWj1mdW5jdGlvbigpey8qKgogICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBSdW50aW1lIFVzZXIgQWdlbnQKICAgKiBAcGFyYW0ge2Rlc2NyaXB0b3J9IHJ1bnRpbWVEZXNjcmlwdG9yIC0gcGFzcyBhbGwgdGhlIGh5cGVydHkgcnVudGltZSBkZXNjcmlwdG9yCiAgICogQHBhcmFtIHtydW50aW1lRmFjdG9yeX0gcnVudGltZUZhY3RvcnkgLSBTcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGVudmlyb25tZW50IHdoZXJlIHRoZSBjb3JlIHJ1bnRpbWUgd2lsbCBydW47CiAgICogQHBhcmFtIHtkb21haW59IGRvbWFpblVSTCAtIHNwZWNpZnkgdGhlIGRvbWFpbiBiYXNlIGZvciB0aGUgcnVudGltZTsKICAgKi8KZnVuY3Rpb24gUnVudGltZVVBKGUsdCxyKXtpZigoMCx1LmRlZmF1bHQpKHRoaXMsUnVudGltZVVBKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBydW50aW1lIGRlc2NyaXB0b3IgaXMgYSBuZWVkZWQgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgc2FuZGJveCBmYWN0b3J5IGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiWW91IG5lZWQgdGhlIGRvbWFpbiBvZiBydW50aW1lIik7aWYoCi8vIENvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gcmVsYXRlZCB3aXRoIHNlcnZlcnMKdGhpcy5ydW50aW1lQ29uZmlndXJhdGlvbj0oMCxzLmRlZmF1bHQpKHtkb21haW46cn0sSS5ydW50aW1lQ29uZmlndXJhdGlvbiksdGhpcy5ydW50aW1lRmFjdG9yeT10LHRoaXMubG9nPVgsdGhpcy5sb2dMZXZlbHM9bC5sb2csZS5wMnBIYW5kbGVyU3R1YiYmInN0cmluZyI9PXR5cGVvZiBlLnAycEhhbmRsZXJTdHViJiZlLnAycEhhbmRsZXJTdHViLmluY2x1ZGVzKCI6Ly8iKT90aGlzLnAycD0hMDp0aGlzLnAycD0hMSxDLnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvcj1lLHRoaXMucnVudGltZVV0aWxzPUMucnVudGltZVV0aWxzLHRoaXMuc3RvcmFnZXM9e30sImZ1bmN0aW9uIiE9dHlwZW9mIHQuY3JlYXRlUnVudGltZUNhdGFsb2d1ZSl0aHJvdyBuZXcgRXJyb3IoIkNoZWNrIHlvdXIgUnVudGltZSBGYWN0b3J5IGJlY2F1c2UgaXQgbmVlZHMgdGhlIFJ1bnRpbWUgQ2F0YWxvZ3VlIGltcGxlbWVudGF0aW9uIik7aWYodGhpcy5ydW50aW1lQ2F0YWxvZ3VlPXQuY3JlYXRlUnVudGltZUNhdGFsb2d1ZSgpLCJmdW5jdGlvbiIhPXR5cGVvZiB0LnBlcnNpc3RlbmNlTWFuYWdlcil0aHJvdyBuZXcgRXJyb3IoIkNoZWNrIHlvdXIgUnVudGltZSBGYWN0b3J5IGJlY2F1c2UgaXQgbmVlZHMgdGhlIFBlcnNpc3RlbmNlIE1hbmFnZXIgaW1wbGVtZW50YXRpb24iKTtpZih0aGlzLnBlcnNpc3RlbmNlTWFuYWdlcj10LnBlcnNpc3RlbmNlTWFuYWdlcigpLCJmdW5jdGlvbiIhPXR5cGVvZiB0LnN0b3JhZ2VNYW5hZ2VyKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgeW91ciBSdW50aW1lIEZhY3RvcnkgYmVjYXVzZSBpdCBuZWVkcyB0aGUgU3RvcmFnZSBNYW5hZ2VyIGltcGxlbWVudGF0aW9uIik7dGhpcy5zdG9yYWdlcz0oMCxBLnN0b3JhZ2UpKHQpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LnJ1bnRpbWVDYXBhYmlsaXRpZXM/dGhpcy5ydW50aW1lQ2FwYWJpbGl0aWVzPXQucnVudGltZUNhcGFiaWxpdGllcyh0aGlzLnN0b3JhZ2VzLmNhcGFiaWxpdGllcyk6WC5pbmZvKCJDaGVjayB5b3VyIFJ1bnRpbWVGYWN0b3J5IGJlY2F1c2UgaXQgbmVlZHMgdGhlIFJ1bnRpbWUgQ2FwYWJpbGl0aWVzIGltcGxlbWVudGF0aW9uIil9LyoqCiAgICogSW50aWFsaXplIHRoZSBpbnN0YWxsYXRpb24gb2YgcnVudGltZQogICAqCiAgICogQGFjY2VzcyBwdWJsaWMKICAgKiBAcmV0dXJuIHtQcm9taXNlPEJvb2xlYW4sIEVycm9yPn0gdGhpcyBpcyBQcm9taXNlIGFuZCBpZiB0aGUgaW5zdGFsbGF0aW9uIHByb2Nlc3MgaGFwcGVuZWQgd2l0aG91dCBhbnkgcHJvYmxlbXMgcmV0dXJucyB0cnVlIG90aGVyd2lzZSB0aGUgZXJyb3IuCiAgICoKICAgKiBAbWVtYmVyT2YgUnVudGltZVVBCiAgICovCnJldHVybigwLGYuZGVmYXVsdCkoUnVudGltZVVBLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCxyKXtlLmRvbWFpbj1lLnJ1bnRpbWVDb25maWd1cmF0aW9uLmRvbWFpbjt0cnl7dmFyIG49ZS5ydW50aW1lQ2FwYWJpbGl0aWVzLmdldFJ1bnRpbWVDYXBhYmlsaXRpZXMoKSxvPWUuc3RvcmFnZXMucnVudGltZS5nZXQoInJ1bnRpbWU6VVJMIiksYT1lLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLmdldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIpLHU9ZS5zdG9yYWdlcy5oeXBlcnR5UmVzb3VyY2VzLmdldCgpLGM9ZS5zdG9yYWdlcy5ydW50aW1lLmdldCgicDJwSGFuZGxlcjpVUkwiKTtpLmRlZmF1bHQuYWxsKFtvLG4sYSx1LGNdKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJ1bnRpbWVVUkw9dFswXT90WzBdLnJ1bnRpbWVVUkw6dFswXSxlLnJ1bnRpbWVVUkx8fChlLnJ1bnRpbWVVUkw9InJ1bnRpbWU6Ly8iK2UuZG9tYWluKyIvIisoMCxQLmdlbmVyYXRlR1VJRCkoKSxlLnN0b3JhZ2VzLnJ1bnRpbWUuc2V0KCJydW50aW1lOlVSTCIsMSx7cnVudGltZVVSTDplLnJ1bnRpbWVVUkx9KSksZS5jYXBhYmlsaXRpZXM9dFsxXSwoMCxzLmRlZmF1bHQpKEMucnVudGltZVV0aWxzLnJ1bnRpbWVDYXBhYmlsaXRpZXMuY29uc3RyYWludHMsdFsxXSksZS5fZGF0YU9iamVjdHNTdG9yYWdlPW5ldyBLLmRlZmF1bHQoZS5zdG9yYWdlcy5zeW5jaGVyTWFuYWdlcix0WzJdfHx7fSksZS5faHlwZXJ0eVJlc291cmNlcz10WzNdfHx7fSxlLnAycEhhbmRsZXJVUkw9dFs0XT90WzRdLnAycEhhbmRsZXJVUkw6dFs0XSxlLnAycEhhbmRsZXJVUkx8fChlLnAycEhhbmRsZXJVUkw9ZS5ydW50aW1lVVJMKyIvcDJwaGFuZGxlci8iKygwLFAuZ2VuZXJhdGVHVUlEKSgpLFguaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIFAyUEhhbmRsZXJVUkw6ICIsZS5wMnBIYW5kbGVyVVJMKSxlLnN0b3JhZ2VzLnJ1bnRpbWUuc2V0KCJwMnBIYW5kbGVyOlVSTCIsMSx7cDJwSGFuZGxlclVSTDplLnAycEhhbmRsZXJVUkx9KSksZS5fbG9hZENvbXBvbmVudHMoKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuX2h5cGVydHlSZXNvdXJjZXNTdG9yYWdlPW5ldyBWLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnN0b3JhZ2VzLmh5cGVydHlSZXNvdXJjZXMsZS5faHlwZXJ0eVJlc291cmNlcyksZS5wMnA/KFguaW5mbygiW1J1bnRpbWVVQSAtIGluaXRdIGxvYWQgcDJwSGFuZGxlcjogIix0KSxlLl9sb2FkUDJQSGFuZGxlcigpKTooWC5pbmZvKCJbUnVudGltZVVBIC0gaW5pdF0gUDJQIG5vdCBzdXBwb3J0ZWQiKSwiUDJQIE5vdCBTdXBwb3J0ZWQiKX0pLnRoZW4oZnVuY3Rpb24oZSl7WC5pbmZvKCJbcnVudGltZSB1YSAtIGluaXRdIC0gc3RhdHVzOiAiLGUpLHQoITApfSxmdW5jdGlvbihlKXtYLmVycm9yKCJFUlJPUjogIixlKSx0KCEwKX0pfWNhdGNoKGUpe3IoZSl9fSl9fSx7a2V5OiJfbG9hZFAyUEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0KXt2YXIgcj1DLnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvcixuPXIucDJwSGFuZGxlclN0dWIsaT17aXNIYW5kbGVyU3R1YjohMCxydW50aW1lVVJMOmUucnVudGltZVVSTH07WC5sb2coIltSdW50aW1lVUEgbG9hZFAyUEhhbmRsZXJdIFAyUFN0dWJIYW5kbGVyOiAiLG4pLGUubG9hZGVyLmxvYWRTdHViKG4saSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj1lLnJ1bnRpbWVVUkwrIi91YSIsaT17dHlwZToic3Vic2NyaWJlIixmcm9tOm4sdG86ImRvbWFpbjovL21zZy1ub2RlLiIrZS5kb21haW4rIi9zbSIsYm9keTp7c3Vic2NyaWJlOltyLnVybF0sc291cmNlOmUucnVudGltZVVSTH19O2UubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihuLGZ1bmN0aW9uKGUpe1gubG9nKCJbcnVudGltZSB1YSAtIGxpc3RlbmVyXSAtIHJlY2VpdmUgbXNnOiAiLGUpfSksZS5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7WC5sb2coIltydW50aW1lIHVhIC0gcG9zdE1lc3NhZ2VdIC0gcmVwbHk6ICIsZSl9KSxYLmluZm8oIltydW50aW1lIHVhIC0gcDJwIGluc3RhbGxhdGlvbl0gLSBzdWNjZXNzOiAiLHIpLHQoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7WC5pbmZvKCJbcnVudGltZSB1YSAtIHAycCBpbnN0YWxsYXRpb25dIC0gZmFpbDogIixlKSx0KCExKX0pfSl9fSx7a2V5OiJfbG9hZENvbXBvbmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0LHIpe3RyeXsKLy8gUHJlcGFyZSB0aGUgb24gaW5zdGFuY2UgdG8gaGFuZGxlIHdpdGggdGhlIGZhbGxiYWNrcyBhbmQgcnVudGltZUNhdGFsb2d1ZTsKZS5kZXNjcmlwdG9ySW5zdGFuY2U9bmV3IEQuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2F0YWxvZ3VlLGUucnVudGltZUNvbmZpZ3VyYXRpb24pLAovLyBQcmVwYXJlIHRoZSBsb2FkZXIgdG8gbG9hZCB0aGUgaHlwZXJ0aWVzLCBwcm90b3N0dWJzIGFuZCBpZHBwcm94eTsKZS5sb2FkZXI9bmV3IEUuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ29uZmlndXJhdGlvbixlLmRlc2NyaXB0b3JJbnN0YW5jZSksCi8vIEluc3RhbnRpYXRlIHRoZSBpZGVudGl0eSBNb2R1bGUKZS5pZGVudGl0eU1vZHVsZT1uZXcgZy5kZWZhdWx0KGUucnVudGltZVVSTCxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMsZS5zdG9yYWdlcy5pZGVudGl0eSxlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsTC5kZWZhdWx0LGUucnVudGltZUNhdGFsb2d1ZSk7Ci8vIFVzZSB0aGUgc2FuZGJveCBmYWN0b3J5IHRvIGNyZWF0ZSBhbiBBcHBTYW5kYm94OwovLyBJbiB0aGUgZnV0dXJlIGNhbiBiZSBkZWNpZGVkIGJ5IHBvbGljeUVuZ2luZSBpZiB3ZSBuZWVkCi8vIGNyZWF0ZSBhIEFwcFNhbmRib3ggb3Igbm90Owp2YXIgbj1lLnJ1bnRpbWVGYWN0b3J5LmNyZWF0ZUFwcFNhbmRib3goKTsKLy8gSW5zdGFudGlhdGUgdGhlIFJlZ2lzdHJ5IE1vZHVsZQplLnJlZ2lzdHJ5PW5ldyBoLmRlZmF1bHQoZS5ydW50aW1lVVJMLG4sZS5pZGVudGl0eU1vZHVsZSxlLnJ1bnRpbWVDYXRhbG9ndWUsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMucmVnaXN0cnksZS5wMnBIYW5kbGVyVVJMKSwKLy8gU2V0IHRoZSBsb2FkZXIgdG8gbG9hZCBIeXBlcnRpZXMsIFN0dWJzIGFuZCBJZHBQcm94aWVzCmUucmVnaXN0cnkubG9hZGVyPWUubG9hZGVyLAovLyBJbnN0YW50aWF0ZSB0aGUgTWVzc2FnZSBCdXMKZS5tZXNzYWdlQnVzPW5ldyBTLmRlZmF1bHQoZS5yZWdpc3RyeSksCi8vIFByZXBhcmUgdGhlIGFkZHJlc3MgYWxsb2NhdGlvbiBpbnN0YW5jZTsKZS5hZGRyZXNzQWxsb2NhdGlvbj1uZXcgTS5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5yZWdpc3RyeSksCi8vIEluc3RhbnRpYXRlIHRoZSBQb2xpY3kgRW5naW5lCmUucG9saWN5RW5naW5lPW5ldyBSLmRlZmF1bHQobmV3IFEuZGVmYXVsdChlLnJ1bnRpbWVVUkwsZS5pZGVudGl0eU1vZHVsZSxlLnJlZ2lzdHJ5LGUuc3RvcmFnZXMucG9saWN5LGUucnVudGltZUNhcGFiaWxpdGllcykpLAovLyBJbnN0YW50aWF0ZSBEaXNjb3ZlcnkKZS5jb3JlRGlzY292ZXJ5PW5ldyBILmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLmdyYXBoQ29ubmVjdG9yLGUucnVudGltZUZhY3RvcnksZS5yZWdpc3RyeSksCi8vIEluc3RhbnRpYXRlIHRoZSBJZGVudGl0eU1hbmFnZXIKZS5pZGVudGl0eU1hbmFnZXI9bmV3IG0uZGVmYXVsdChlLmlkZW50aXR5TW9kdWxlKSwKLy8gaW5pdGlhbGlzZSB0aGUgQ3J5cHRvTWFuYWdlcgpMLmRlZmF1bHQuaW5pdChlLnJ1bnRpbWVVUkwsZS5ydW50aW1lQ2FwYWJpbGl0aWVzLGUuc3RvcmFnZXMuY3J5cHRvTWFuYWdlcixlLl9kYXRhT2JqZWN0c1N0b3JhZ2UsZS5yZWdpc3RyeSxlLmNvcmVEaXNjb3ZlcnksZS5pZGVudGl0eU1vZHVsZSxlLnJ1bnRpbWVGYWN0b3J5KSwKLy8gSW5zdGFudGlhdGUgdGhlIEdyYXBoIENvbm5lY3RvcgplLmdyYXBoQ29ubmVjdG9yPW5ldyBOLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnN0b3JhZ2VNYW5hZ2VyKSxlLmhhbmRsZXJzPW5ldyBULmRlZmF1bHQoZS5wb2xpY3lFbmdpbmUsZS5pZGVudGl0eU1hbmFnZXIsTC5kZWZhdWx0KSxlLm1lc3NhZ2VCdXMucGlwZWxpbmVPdXQuaGFuZGxlcnM9W2UuaGFuZGxlcnMuaWRtSGFuZGxlcixlLmhhbmRsZXJzLnBlcE91dEhhbmRsZXIsZS5oYW5kbGVycy5lbmNyeXB0SGFuZGxlcl0sZS5tZXNzYWdlQnVzLnBpcGVsaW5lSW4uaGFuZGxlcnM9W2UuaGFuZGxlcnMuZGVjcnlwdEhhbmRsZXIsZS5oYW5kbGVycy5wZXBJbkhhbmRsZXJdLAovLyBBZGQgdG8gQXBwIFNhbmRib3ggdGhlIGxpc3RlbmVyOwpuLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbih0KXtlLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodCl9KSxMLmRlZmF1bHQubWVzc2FnZUJ1cz1lLm1lc3NhZ2VCdXMsCi8vIFJlZ2lzdGVyIG1lc3NhZ2VCdXMgb24gUmVnaXN0cnkKZS5yZWdpc3RyeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUG9saWN5IEVuZ2luZQplLnBvbGljeUVuZ2luZS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUmVnaXN0ZXIgbWVzc2FnZUJ1cyBvbiBJRE0KZS5pZGVudGl0eU1vZHVsZS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gUmVnaXN0ZXIgcmVnaXN0cnkgb24gSWRlbnRpdHlNb2R1bGUKZS5pZGVudGl0eU1vZHVsZS5yZWdpc3RyeT1lLnJlZ2lzdHJ5LAovLyBSZWdpc3RlciBjb3JlRGlzY292ZXJ5IG9uIElkZW50aXR5TW9kdWxlCmUuaWRlbnRpdHlNb2R1bGUuY29yZURpc2NvdmVyeT1lLmNvcmVEaXNjb3ZlcnksCi8vIFVzZSBzYW5kYm94IGZhY3RvcnkgdG8gdXNlIHNwZWNpZmljIG1ldGhvZHMKLy8gYW5kIHNldCB0aGUgbWVzc2FnZSBidXMgdG8gdGhlIGZhY3RvcnkKZS5ydW50aW1lRmFjdG9yeS5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cywKLy8gSW5zdGFuY2lhdGUgdGhlIFN5bmNoZXJNYW5hZ2VyOwplLnN5bmNoZXJNYW5hZ2VyPW5ldyBZLmRlZmF1bHQoZS5ydW50aW1lVVJMLGUubWVzc2FnZUJ1cyxlLnJlZ2lzdHJ5LGUucnVudGltZUNhdGFsb2d1ZSxlLnN0b3JhZ2VzLnN5bmNoZXJNYW5hZ2VyLG51bGwsZS5fZGF0YU9iamVjdHNTdG9yYWdlLGUuaWRlbnRpdHlNb2R1bGUpLAovLyBTZXQgaW50byBsb2FkZXIgdGhlIG5lZWRlZCBjb21wb25lbnRzOwplLmxvYWRlci5ydW50aW1lVVJMPWUucnVudGltZVVSTCxlLmxvYWRlci5tZXNzYWdlQnVzPWUubWVzc2FnZUJ1cyxlLmxvYWRlci5yZWdpc3RyeT1lLnJlZ2lzdHJ5LGUubG9hZGVyLnJ1bnRpbWVDYXRhbG9ndWU9ZS5ydW50aW1lQ2F0YWxvZ3VlLGUubG9hZGVyLnJ1bnRpbWVGYWN0b3J5PWUucnVudGltZUZhY3RvcnksCi8vSW5zdGFudGlhdGUgRGlzY292ZXJ5IExpYiBmb3Igbm90aWZpY2F0aW9uIHRlc3RpbmcKLy8gdGhpcy5kaXNjb3ZlcnkgPSBuZXcgRGlzY292ZXJ5KCJoeXBlcnR5Oi8vbG9jYWxob3N0L3Rlc3QiLCB0aGlzLnJ1bnRpbWVVUkwsIHRoaXMubWVzc2FnZUJ1cyk7Ci8vIHRoaXMubG9hZFN0dWIoImxvY2FsaG9zdCIpOwovLyBzZXRUaW1lb3V0KCgpID0+IHsKLy8gICB0aGlzLmRpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc0RPKCJ1c2VyOi8vZ29vZ2xlLmNvbS9vcGVuaWR0ZXN0MjBAZ21haWwuY29tIikKLy8gICAudGhlbihoeXBlcnRpZXMgPT4gewovLyAgICAgaHlwZXJ0aWVzLmZvckVhY2goaHlwZXJ0eSA9PnsKLy8gICAgICAgaHlwZXJ0eS5vbkxpdmUoKCkgPT4gbG9nLmxvZyhgTm90aWZpY2F0aW9uIGZyb20gJHtoeXBlcnR5LmRhdGEuaHlwZXJ0eUlEfSBjaGFuZ2VkIHRvIGxpdmVgKSk7Ci8vICAgICAgIGh5cGVydHkub25EaXNjb25uZWN0ZWQoKCkgPT4gbG9nLmxvZyhgTm90aWZpY2F0aW9uIGZyb20gJHtoeXBlcnR5LmRhdGEuaHlwZXJ0eUlEfSBjaGFuZ2VkIHRvIGRpc2Nvbm5lY3RlZGApKTsKLy8gICAgIH0pOwovLyAgIH0pOwovLyB9LCAyMDAwKTsKLy8gSW5zdGFuY2lhdGUgdGhlIFN1YnNjcmlwdGlvbk1hbmFnZXI7CmUuc3Vic2NyaXB0aW9uTWFuYWdlcj1uZXcgSi5kZWZhdWx0KGUucnVudGltZVVSTCxlLm1lc3NhZ2VCdXMsZS5zdG9yYWdlcy5zdWJzY3JpcHRpb25zKTsKLy8gdGhpcy5zdWJzY3JpcHRpb25NYW5hZ2VyLmluaXQoKS50aGVuKCgpPT57Ci8vICAgcmVzb2x2ZSh0cnVlKTsKLy8gfSk7CnZhciBvPVtdO28ucHVzaChlLnN1YnNjcmlwdGlvbk1hbmFnZXIuaW5pdCgpKSxvLnB1c2goZS5pZGVudGl0eU1vZHVsZS5pbml0KCkpLG8ucHVzaChMLmRlZmF1bHQubG9hZFNlc3Npb25LZXlzKCkpLGkuZGVmYXVsdC5hbGwobykudGhlbihmdW5jdGlvbihlKXszPT09ZS5sZW5ndGg/dCghMCk6cigiW1J1bnRpbWVVQS5fbG9hZENvbXBvbmVudHNdIEVycm9yIF0gIixlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSl9Y2F0Y2goZSl7cihlKX19KX19LHtrZXk6ImxvYWRIeXBlcnR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKCFlKXRocm93IG5ldyBFcnJvcigiSHlwZXJ0eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRIeXBlcnR5KGUsdCxyKX19LHtrZXk6ImxvYWRTdHViIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlByb3RvU3R1YiBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIHRoaXMubG9hZGVyLmxvYWRTdHViKGUpfX0se2tleToibG9hZElkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXtpZihYLmxvZygiaXBkUHJveHlDYXRhbG9ndWVVUkwiLGUpLCFlKXRocm93IG5ldyBFcnJvcigiVGhlIElEUCBQcm94eSBVUkwgaXMgYSBuZWVkZWQgcGFyYW1ldGVyLCBjb3VsZCBiZSBhIERPTUFJTiBvciBhIFVSTCIpO3JldHVybiB0aGlzLmxvYWRlci5sb2FkSWRwUHJveHkoZSl9fSx7a2V5OiJjbG9zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4hMD09PWUmJnRoaXMuaWRlbnRpdHlNYW5hZ2VyLnJlc2V0KCksWC5pbmZvKCJVbnJlZ2lzdGVyIGFsbCBoeXBlcnRpZXMiKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUscil7dC5yZWdpc3RyeS51bnJlZ2lzdGVyQWxsSHlwZXJ0aWVzKCkudGhlbihmdW5jdGlvbih0KXtYLmluZm8oIkFsbCB0aGUgaHlwZXJ0aWVzIGFyZSB1bnJlZ2lzdGVkIHdpdGggU3VjY2VzczoiLHQpLGUoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7WC5lcnJvcigiRmFpbGVkIHRvIHVucmVnaXN0ZXIgdGhlIGh5cGVydGllcyIsZSkscighMSl9KX0pfX1dKSxSdW50aW1lVUF9KCk7dC5kZWZhdWx0PVosZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDE3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDE4MikscigxMjgpLHIoMTkwKSxyKDQyNikscig0MzQpLHIoNDM1KSxlLmV4cG9ydHM9cigxMCkuUHJvbWlzZX0sLyogNDE4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDEyOSksaT1yKDEzMCk7Ci8vIHRydWUgIC0+IFN0cmluZyNhdAovLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXQKZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBvLHMsYT1TdHJpbmcoaSh0KSksdT1uKHIpLGM9YS5sZW5ndGg7cmV0dXJuIHU8MHx8dT49Yz9lPyIiOnZvaWQgMDoobz1hLmNoYXJDb2RlQXQodSksbzw1NTI5Nnx8bz41NjMxOXx8dSsxPT09Y3x8KHM9YS5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxzPjU3MzQzP2U/YS5jaGFyQXQodSk6bzplP2Euc2xpY2UodSx1KzIpOnMtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNil9fX0sLyogNDE5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMzMpLGk9cig3NCksbz1yKDk3KSxzPXt9OwovLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKQpyKDU4KShzLHIoMjIpKCJpdGVyYXRvciIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UucHJvdG90eXBlPW4ocyx7bmV4dDppKDEscil9KSxvKGUsdCsiIEl0ZXJhdG9yIil9fSwvKiA0MjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApLGk9cig0MSksbz1yKDY3KTtlLmV4cG9ydHM9cig0NSk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtpKGUpO2Zvcih2YXIgcixzPW8odCksYT1zLmxlbmd0aCx1PTA7YT51OyluLmYoZSxyPXNbdSsrXSx0W3JdKTtyZXR1cm4gZX19LC8qIDQyMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2YKLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXMKdmFyIG49cig0NiksaT1yKDEzNCksbz1yKDQyMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGEsdT1uKHQpLGM9aSh1Lmxlbmd0aCksZj1vKHMsYyk7Ci8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG0KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQppZihlJiZyIT1yKXtmb3IoO2M+ZjspCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUKaWYoKGE9dVtmKytdKSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5mO2YrKylpZigoZXx8ZiBpbiB1KSYmdVtmXT09PXIpcmV0dXJuIGV8fGZ8fDA7cmV0dXJuIWUmJi0xfX19LC8qIDQyMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cigxMjkpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uKGUpLGU8MD9pKGUrdCwwKTpvKGUsdCl9fSwvKiA0MjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQyNCksaT1yKDQyNSksbz1yKDc1KSxzPXIoNDYpOwovLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpCi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpCi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKCkKLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCmUuZXhwb3J0cz1yKDE4MykoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9cyhlKSwvLyB0YXJnZXQKdGhpcy5faT0wLC8vIG5leHQgaW5kZXgKdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLHI9dGhpcy5faSsrO3JldHVybiFlfHxyPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsaSgxKSk6ImtleXMiPT10P2koMCxyKToidmFsdWVzIj09dD9pKDAsZVtyXSk6aSgwLFtyLGVbcl1dKX0sInZhbHVlcyIpLAovLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpCm8uQXJndW1lbnRzPW8uQXJyYXksbigia2V5cyIpLG4oInZhbHVlcyIpLG4oImVudHJpZXMiKX0sLyogNDI0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sLyogNDI1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0sLyogNDI2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG4saSxvLHMsYT1yKDczKSx1PXIoMTcpLGM9cig2NSksZj1yKDE5MSksbD1yKDIxKSxkPXIoMzYpLHA9cig5NSkseT1yKDQyNyksaD1yKDQyOCksdj1yKDE5NSksZz1yKDE5Nikuc2V0LGI9cig0MzApKCksbT1yKDEzOCksXz1yKDE5NyksUj1yKDQzMSksdz1yKDE5OCksUz11LlR5cGVFcnJvcixQPXUucHJvY2VzcyxPPVAmJlAudmVyc2lvbnMsTT1PJiZPLnY4fHwiIixrPXUuUHJvbWlzZSxMPSJwcm9jZXNzIj09ZihQKSx4PWZ1bmN0aW9uKCl7fSxFPWk9bS5mLEE9ISFmdW5jdGlvbigpe3RyeXsKLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0CnZhciBlPWsucmVzb2x2ZSgxKSx0PShlLmNvbnN0cnVjdG9yPXt9KVtyKDIyKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKHgseCl9OwovLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0CnJldHVybihMfHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmZS50aGVuKHgpaW5zdGFuY2VvZiB0JiYwIT09TS5pbmRleE9mKCI2LjYiKSYmLTE9PT1SLmluZGV4T2YoIkNocm9tZS82NiIpfWNhdGNoKGUpe319KCksVT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFkKGUpfHwiZnVuY3Rpb24iIT10eXBlb2YodD1lLnRoZW4pKSYmdH0sRD1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7YihmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LGk9MT09ZS5fcyxvPTA7ci5sZW5ndGg+bzspIWZ1bmN0aW9uKHQpe3ZhciByLG8scyxhPWk/dC5vazp0LmZhaWwsdT10LnJlc29sdmUsYz10LnJlamVjdCxmPXQuZG9tYWluO3RyeXthPyhpfHwoMj09ZS5faCYmVChlKSxlLl9oPTEpLCEwPT09YT9yPW46KGYmJmYuZW50ZXIoKSxyPWEobiksLy8gbWF5IHRocm93CmYmJihmLmV4aXQoKSxzPSEwKSkscj09PXQucHJvbWlzZT9jKFMoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KG89VShyKSk/by5jYWxsKHIsdSxjKTp1KHIpKTpjKG4pfWNhdGNoKGUpe2YmJiFzJiZmLmV4aXQoKSxjKGUpfX0ocltvKytdKTsvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaAplLl9jPVtdLGUuX249ITEsdCYmIWUuX2gmJkkoZSl9KX19LEk9ZnVuY3Rpb24oZSl7Zy5jYWxsKHUsZnVuY3Rpb24oKXt2YXIgdCxyLG4saT1lLl92LG89aihlKTtpZihvJiYodD1fKGZ1bmN0aW9uKCl7TD9QLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsaSxlKToocj11Lm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOml9KToobj11LmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLGkpfSksCi8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkCmUuX2g9THx8aihlKT8yOjEpLGUuX2E9dm9pZCAwLG8mJnQuZSl0aHJvdyB0LnZ9KX0saj1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUuX2gmJjA9PT0oZS5fYXx8ZS5fYykubGVuZ3RofSxUPWZ1bmN0aW9uKGUpe2cuY2FsbCh1LGZ1bmN0aW9uKCl7dmFyIHQ7TD9QLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PXUub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sQz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCwvLyB1bndyYXAKdC5fdj1lLHQuX3M9Mix0Ll9hfHwodC5fYT10Ll9jLnNsaWNlKCkpLEQodCwhMCkpfSxGPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZighci5fZCl7ci5fZD0hMCxyPXIuX3d8fHI7Ly8gdW53cmFwCnRyeXtpZihyPT09ZSl0aHJvdyBTKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVUoZSkpP2IoZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07Ly8gd3JhcAp0cnl7dC5jYWxsKGUsYyhGLG4sMSksYyhDLG4sMSkpfWNhdGNoKGUpe0MuY2FsbChuLGUpfX0pOihyLl92PWUsci5fcz0xLEQociwhMSkpfWNhdGNoKGUpe0MuY2FsbCh7X3c6cixfZDohMX0sZSl9fX07Ci8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsCkF8fCgKLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcikKaz1mdW5jdGlvbihlKXt5KHRoaXMsaywiUHJvbWlzZSIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhGLHRoaXMsMSksYyhDLHRoaXMsMSkpfWNhdGNoKGUpe0MuY2FsbCh0aGlzLGUpfX0sCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwpuPWZ1bmN0aW9uKGUpe3RoaXMuX2M9W10sLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zCnRoaXMuX2E9dm9pZCAwLC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zCnRoaXMuX3M9MCwvLyA8LSBzdGF0ZQp0aGlzLl9kPSExLC8vIDwtIGRvbmUKdGhpcy5fdj12b2lkIDAsLy8gPC0gdmFsdWUKdGhpcy5faD0wLC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkCnRoaXMuX249ITF9LG4ucHJvdG90eXBlPXIoNDMyKShrLnByb3RvdHlwZSx7Ci8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpCnRoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1FKHYodGhpcyxrKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fGUsci5mYWlsPSJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0LHIuZG9tYWluPUw/UC5kb21haW46dm9pZCAwLHRoaXMuX2MucHVzaChyKSx0aGlzLl9hJiZ0aGlzLl9hLnB1c2gociksdGhpcy5fcyYmRCh0aGlzLCExKSxyLnByb21pc2V9LAovLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKQpjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxvPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPWMoRixlLDEpLHRoaXMucmVqZWN0PWMoQyxlLDEpfSxtLmY9RT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWt8fGU9PT1zP25ldyBvKGUpOmkoZSl9KSxsKGwuRytsLlcrbC5GKiFBLHtQcm9taXNlOmt9KSxyKDk3KShrLCJQcm9taXNlIikscig0MzMpKCJQcm9taXNlIikscz1yKDEwKS5Qcm9taXNlLAovLyBzdGF0aWNzCmwobC5TK2wuRiohQSwiUHJvbWlzZSIsewovLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKQpyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9RSh0aGlzKTtyZXR1cm4oMCx0LnJlamVjdCkoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooYXx8IUEpLCJQcm9taXNlIix7Ci8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KQpyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiB3KGEmJnRoaXM9PT1zP2s6dGhpcyxlKX19KSxsKGwuUytsLkYqIShBJiZyKDE5OSkoZnVuY3Rpb24oZSl7ay5hbGwoZSkuY2F0Y2goeCl9KSksIlByb21pc2UiLHsKLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpCmFsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9RSh0KSxuPXIucmVzb2x2ZSxpPXIucmVqZWN0LG89XyhmdW5jdGlvbigpe3ZhciByPVtdLG89MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPW8rKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0saSl9KSwtLXN8fG4ocil9KTtyZXR1cm4gby5lJiZpKG8udiksci5wcm9taXNlfSwKLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKQpyYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1FKHQpLG49ci5yZWplY3QsaT1fKGZ1bmN0aW9uKCl7aChlLCExLGZ1bmN0aW9uKGUpe3QucmVzb2x2ZShlKS50aGVuKHIucmVzb2x2ZSxuKX0pfSk7cmV0dXJuIGkuZSYmbihpLnYpLHIucHJvbWlzZX19KX0sLyogNDI3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSwvKiA0MjggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNjUpLGk9cigxOTIpLG89cigxOTMpLHM9cig0MSksYT1yKDEzNCksdT1yKDE5NCksYz17fSxmPXt9LHQ9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGwsZCl7dmFyIHAseSxoLHYsZz1kP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OnUoZSksYj1uKHIsbCx0PzI6MSksbT0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBnKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpOwovLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3IKaWYobyhnKSl7Zm9yKHA9YShlLmxlbmd0aCk7cD5tO20rKylpZigodj10P2Iocyh5PWVbbV0pWzBdLHlbMV0pOmIoZVttXSkpPT09Y3x8dj09PWYpcmV0dXJuIHZ9ZWxzZSBmb3IoaD1nLmNhbGwoZSk7ISh5PWgubmV4dCgpKS5kb25lOylpZigodj1pKGgsYix5LnZhbHVlLHQpKT09PWN8fHY9PT1mKXJldHVybiB2fTt0LkJSRUFLPWMsdC5SRVRVUk49Zn0sLyogNDI5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCl7Ci8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNQplLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0sLyogNDMwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3KSxpPXIoMTk2KS5zZXQsbz1uLk11dGF0aW9uT2JzZXJ2ZXJ8fG4uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzPW4ucHJvY2VzcyxhPW4uUHJvbWlzZSx1PSJwcm9jZXNzIj09cig3Nikocyk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGM9ZnVuY3Rpb24oKXt2YXIgbixpO2Zvcih1JiYobj1zLmRvbWFpbikmJm4uZXhpdCgpO2U7KXtpPWUuZm4sZT1lLm5leHQ7dHJ5e2koKX1jYXRjaChuKXt0aHJvdyBlP3IoKTp0PXZvaWQgMCxufX10PXZvaWQgMCxuJiZuLmVudGVyKCl9OwovLyBOb2RlLmpzCmlmKHUpcj1mdW5jdGlvbigpe3MubmV4dFRpY2soYyl9O2Vsc2UgaWYoIW98fG4ubmF2aWdhdG9yJiZuLm5hdmlnYXRvci5zdGFuZGFsb25lKWlmKGEmJmEucmVzb2x2ZSl7Ci8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyCnZhciBmPWEucmVzb2x2ZSh2b2lkIDApO3I9ZnVuY3Rpb24oKXtmLnRoZW4oYyl9fWVsc2Ugcj1mdW5jdGlvbigpewovLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpCmkuY2FsbChuLGMpfTtlbHNle3ZhciBsPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyBvKGMpLm9ic2VydmUoZCx7Y2hhcmFjdGVyRGF0YTohMH0pLC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3CnI9ZnVuY3Rpb24oKXtkLmRhdGE9bD0hbH19cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXtmbjpuLG5leHQ6dm9pZCAwfTt0JiYodC5uZXh0PWkpLGV8fChlPWkscigpKSx0PWl9fX0sLyogNDMxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE3KSxpPW4ubmF2aWdhdG9yO2UuZXhwb3J0cz1pJiZpLnVzZXJBZ2VudHx8IiJ9LC8qIDQzMiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7dmFyIG49cig1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdClyJiZlW2ldP2VbaV09dFtpXTpuKGUsaSx0W2ldKTtyZXR1cm4gZX19LC8qIDQzMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcpLGk9cigxMCksbz1yKDQwKSxzPXIoNDUpLGE9cigyMikoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGlbZV0/aVtlXTpuW2VdO3MmJnQmJiF0W2FdJiZvLmYodCxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwvKiA0MzQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5CnZhciBuPXIoMjEpLGk9cigxMCksbz1yKDE3KSxzPXIoMTk1KSxhPXIoMTk4KTtuKG4uUCtuLlIsIlByb21pc2UiLHtmaW5hbGx5OmZ1bmN0aW9uKGUpe3ZhciB0PXModGhpcyxpLlByb21pc2V8fG8uUHJvbWlzZSkscj0iZnVuY3Rpb24iPT10eXBlb2YgZTtyZXR1cm4gdGhpcy50aGVuKHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfTplLHI/ZnVuY3Rpb24ocil7cmV0dXJuIGEodCxlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByfSl9OmUpfX0pfSwvKiA0MzUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnkKdmFyIG49cigyMSksaT1yKDEzOCksbz1yKDE5Nyk7bihuLlMsIlByb21pc2UiLHt0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5mKHRoaXMpLHI9byhlKTtyZXR1cm4oci5lP3QucmVqZWN0OnQucmVzb2x2ZSkoci52KSx0LnByb21pc2V9fSl9LC8qIDQzNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cig0MzcpLGUuZXhwb3J0cz1yKDEwKS5PYmplY3QuYXNzaWdufSwvKiA0MzcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKQp2YXIgbj1yKDIxKTtuKG4uUytuLkYsIk9iamVjdCIse2Fzc2lnbjpyKDQzOCl9KX0sLyogNDM4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7Ci8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLikKdmFyIG49cig2NyksaT1yKDEzOSksbz1yKDc4KSxzPXIoNzcpLGE9cigxODcpLHU9T2JqZWN0LmFzc2lnbjsKLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCmUuZXhwb3J0cz0hdXx8cig2NikoZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LHI9U3ltYm9sKCksbj0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiO3JldHVybiBlW3JdPTcsbi5zcGxpdCgiIikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPWV9KSw3IT11KHt9LGUpW3JdfHxPYmplY3Qua2V5cyh1KHt9LHQpKS5qb2luKCIiKSE9bn0pP2Z1bmN0aW9uKGUsdCl7Zm9yKC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKdmFyIHI9cyhlKSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0xLGY9aS5mLGw9by5mO3U+YzspZm9yKHZhciBkLHA9YShhcmd1bWVudHNbYysrXSkseT1mP24ocCkuY29uY2F0KGYocCkpOm4ocCksaD15Lmxlbmd0aCx2PTA7aD52OylsLmNhbGwocCxkPXlbdisrXSkmJihyW2RdPXBbZF0pO3JldHVybiByfTp1fSwvKiA0MzkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDQwKTt2YXIgbj1yKDEwKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5kZWZpbmVQcm9wZXJ0eShlLHQscil9fSwvKiA0NDAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpOwovLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpuKG4uUytuLkYqIXIoNDUpLCJPYmplY3QiLHtkZWZpbmVQcm9wZXJ0eTpyKDQwKS5mfSl9LC8qIDQ0MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDc5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDM3KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDkpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDcpLHk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShwKSxoPXIoMTQzKSx2PXIoNDU1KSxnPXIoMTAwKSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDQ2NyksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9cig0NjkpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChSKSxTPXIoMTQpO3IoNDcwKTt2YXIgUD1yKDIwNSksTz15LmdldExvZ2dlcigiUmVnaXN0cnkiKSxNPXtDUkVBVEVEOiJjcmVhdGVkIixMSVZFOiJsaXZlIixERVBMT1lJTkc6ImRlcGxveWluZyIsREVQTE9ZRUQ6ImRlcGxveWVkIixQUk9HUkVTUzoiaW4tcHJvZ3Jlc3MiLERJU0NPTk5FQ1RFRDoiZGlzY29ubmVjdGVkIixGQUlMRUQ6ImRlcGxveW1lbnQtZmFpbGVkIixERUFEOiJkZWFkIn0saz1mdW5jdGlvbigpey8qKgogICogVG8gaW5pdGlhbGlzZSB0aGUgUnVudGltZSBSZWdpc3RyeSB3aXRoIHRoZSBSdW50aW1lVVJMIHRoYXQgd2lsbCBiZSB0aGUgYmFzaXMgdG8gZGVyaXZlIHRoZSBpbnRlcm5hbCBydW50aW1lIGFkZHJlc3NlcyB3aGVuIGFsbG9jYXRpbmcgYWRkcmVzc2VzIHRvIGludGVybmFsIHJ1bnRpbWUgY29tcG9uZW50LiBJbiBhZGRpdGlvbiwgdGhlIFJlZ2lzdHJ5IGRvbWFpbiBiYWNrLWVuZCB0byBiZSB1c2VkIHRvIHJlbW90ZWx5IHJlZ2lzdGVyIFJ1bnRpbWUgY29tcG9uZW50cywgaXMgYWxzbyBwYXNzZWQgYXMgaW5wdXQgcGFyYW1ldGVyLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1cwogICogQHBhcmFtICB7SHlwZXJ0eVJ1bnRpbWVVUkx9ICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkwKICAqIEBwYXJhbSAge0FwcFNhbmRib3h9ICAgICAgICAgIGFwcFNhbmRib3ggICAgICAgICAgICBhcHBTYW5kYm94CiAgKiBAcGFyYW0gIHtydW50aW1lQ2F0YWxvZ3VlfSAgICBydW50aW1lQ2F0YWxvZ3VlICAgICAgcnVudGltZUNhdGFsb2d1ZQogICogQHBhcmFtICB7RG9tYWluVVJMfSAgICAgICAgICAgcmVtb3RlUmVnaXN0cnkgICAgICAgIHJlbW90ZVJlZ2lzdHJ5CiAgKiBAcGFyYW0gIHtzdG9yYWdlTWFuYWdlcn0gICAgICBzdG9yYWdlTWFuYWdlcgogICovCmZ1bmN0aW9uIFJlZ2lzdHJ5KGUsdCxyLG4saSxvLHMsYSl7Ci8vIGhvdyBzb21lIGZ1bmN0aW9ucyByZWNlaXZlIHRoZSBwYXJhbWV0ZXJzIGZvciBleGFtcGxlOgovLyBuZXcgUmVnaXN0cnkoJ2h5cGVydHktcnVudGltZTovL3NwMS8xMjMnLCBhcHBTYW5kYm94LCBpZE1vZHVsZSwgcmVtb3RlUmVnaXN0cnkpOwovLyByZWdpc3RyeS5yZWdpc3RlclN0dWIoc2FuZGJveCwgJ3NwMScpOwovLyByZWdpc3RyeS5yZWdpc3Rlckh5cGVydHkoc2FuZEJveCwgJ2h5cGVydHktcnVudGltZTovL3NwMS8xMjMnKTsKLy8gcmVnaXN0cnkucmVzb2x2ZSgnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycpOwppZigoMCxmLmRlZmF1bHQpKHRoaXMsUmVnaXN0cnkpLCFlKXRocm93IG5ldyBFcnJvcigicnVudGltZVVSTCBpcyBtaXNzaW5nLiIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigic3RvcmFnZU1hbmFnZXIgaXMgbWlzc2luZy4iKTsvKmlmICghcmVtb3RlUmVnaXN0cnkpIHRocm93IG5ldyBFcnJvcigncmVtb3RlUmVnaXN0cnkgaXMgbWlzc2luZycpOyovCnZhciB1PXRoaXM7dS5yZWdpc3RyeVVSTD1lKyIvcmVnaXN0cnkvIix1LmFwcFNhbmRib3g9dCx1LnJ1bnRpbWVVUkw9ZSx1LnAycEhhbmRsZXJVUkw9cyx1LnJ1bnRpbWVDYXRhbG9ndWU9bix1LnJlbW90ZVJlZ2lzdHJ5PWEsdS5pZE1vZHVsZT1yLHUuc3RvcmFnZU1hbmFnZXI9byx1LnJ1bnRpbWVDYXBhYmlsaXRpZXM9aSx1LmlkZW50aWZpZXI9KDAsUy5nZW5lcmF0ZUdVSUQpKCksdS5yZWdpc3RyYXRpb25SZXRyaWVzPTUsLy8gbnVtYmVyIG9mIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIEh5cGVydGllcyBhbmQgRGF0YU9iamVjdHMgd2hlbiBlcnJvcnMgb2NjdXJzCi8vIHRoZSBleHBpcmVzIGluIDM2MDAsIHJlcHJlc2VudHMgMSBob3VyCi8vdGhlIGV4cGlyZXMgaXMgaW4gc2Vjb25kcywgdW5pdCBvZiBtZWFzdXJlIHJlY2VpdmVkIGJ5IHRoZSBkb21haW4gcmVnaXN0cnkKdS5leHBpcmVzVGltZT0zNjAwLHUuaHlwZXJ0aWVzTGlzdFRvUmVtb3ZlPXt9LHUuaHlwZXJ0aWVzTGlzdD1bXSx1LnJlbW90ZUh5cGVydHlMaXN0PVtdLHUucmVtb3RlRGF0YU9iamVjdExpc3Q9W10sdS5pZHBMZWdhY3lQcm94eUxpc3Q9e30sdS53YXRjaGluZ1lvdT1uZXcgUC5XYXRjaGluZ1lvdSx1LnAycEhhbmRsZXJTdHViPXt9LHUucDJwUmVxdWVzdGVyU3R1Yj11LndhdGNoaW5nWW91LndhdGNoKCJwMnBSZXF1ZXN0ZXJTdHViIix7fSwhMCksdS5wMnBDb25uZWN0aW9uTGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJwMnBDb25uZWN0aW9uTGlzdCIse30sITApLHUucDJwSGFuZGxlckFzc29jaWF0aW9uPXt9LHUucHJvdG9zdHVic0xpc3Q9dS53YXRjaGluZ1lvdS53YXRjaCgicHJvdG9zdHVic0xpc3QiLHt9LCEwKSx1LmlkcFByb3h5TGlzdD11LndhdGNoaW5nWW91LndhdGNoKCJpZHBQcm94eUxpc3QiLHt9LCEwKSx1LmRhdGFPYmplY3RMaXN0PXt9LHUuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0PXt9LHUuc2FuZGJveGVzTGlzdD17c2FuZGJveDp7fSxhcHBTYW5kYm94Ont9fSx1LnBlcExpc3Q9e30sdS5yZWdpc3RyaWVzPXt9LHUuX2RvbWFpbj0oMCxTLmRpdmlkZVVSTCkodS5yZWdpc3RyeVVSTCkuZG9tYWluLHUuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2VdPXQ7dmFyIGM9bmV3IHcuZGVmYXVsdCh1KTt1Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZT1jfXJldHVybigwLGQuZGVmYXVsdCkoUmVnaXN0cnksW3trZXk6Il9nZXRJZGVudGl0eUFzc29jaWF0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztmb3IodmFyIG4gaW4gci5oeXBlcnRpZXNMaXN0KXt2YXIgaT1yLmh5cGVydGllc0xpc3Rbbl07aWYoaS5faHlwZXJ0eVVSTD09PXQpc3dpdGNoKGUpe2Nhc2UidXNlcm5hbWUiOnJldHVybiBpLl91c2VyLnVzZXJuYW1lO2Nhc2UiY24iOnJldHVybiBpLl91c2VyLmNuO2Nhc2UibG9jYWxlIjpyZXR1cm4gaS5fdXNlci5sb2NhbGU7Y2FzZSJhdmF0YXIiOnJldHVybiBpLl91c2VyLmF2YXRhcjtjYXNlInVzZXJVUkwiOnJldHVybiBpLl91c2VyLnVzZXJVUkw7Y2FzZSIuIjpyZXR1cm4gaS5fdXNlcjtkZWZhdWx0OnJldHVybiIifX1yZXR1cm4iIn19LHtrZXk6ImdldEFwcFNhbmRib3giLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwU2FuZGJveH19LHtrZXk6ImdldEh5cGVydHlPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztmb3IodmFyIHIgaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgbj10Lmh5cGVydGllc0xpc3Rbcl07aWYobi5oeXBlcnR5VVJMPT09ZSlyZXR1cm4gbi51c2VyLnVzZXJVUkx9fX0se2tleToiZ2V0RGF0YU9iamVjdFJlcG9ydGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KDAsUy5yZW1vdmVQYXRoRnJvbVVSTCkoZSk7Zm9yKHZhciBuIGluIHQuZGF0YU9iamVjdExpc3Qpe3ZhciBpPXQuZGF0YU9iamVjdExpc3Rbbl07aWYoaS51cmw9PT1yKXJldHVybiBpLnJlcG9ydGVyfXJldHVybiBudWxsfX0se2tleToiZ2V0SHlwZXJ0eU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0iaHlwZXJ0eSI9PT0oMCxTLmRpdmlkZVVSTCkoZSkudHlwZSxuPXZvaWQgMCxpPXI/ZTp0LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhlKTtmb3IodmFyIG8gaW4gdC5oeXBlcnRpZXNMaXN0KXt2YXIgcz10Lmh5cGVydGllc0xpc3Rbb107aWYocy5oeXBlcnR5VVJMPT09aSl7bj1zLm9iamVjdE5hbWU7YnJlYWt9fXJldHVybiBufX0se2tleToiZ2V0UmVwb3J0ZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT10LmRhdGFPYmplY3RMaXN0W2VdO2k/cihpLnJlcG9ydGVyKTpuKCJObyByZXBvcnRlciB3YXMgZm91bmQiKX0pfX0se2tleToiZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dC5kYXRhT2JqZWN0TGlzdFtlXTtyZXR1cm4gcj9yLnJlcG9ydGVyOnZvaWQgMH19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdfX0se2tleToicmVnaXN0ZXJTdWJzY3JpYmVkRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PXIuc3Vic2NyaWJlZERhdGFPYmplY3RMaXN0W2VdJiYoci5zdWJzY3JpYmVkRGF0YU9iamVjdExpc3RbZV09dCl9fSx7a2V5OiJnZXRQcmVBdXRoU3Vic2NyaWJlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10LmRhdGFPYmplY3RMaXN0W2VdLG49W107cmV0dXJuIHImJihuPXIuYXV0aG9yaXNlKSxufX0se2tleToidW5yZWdpc3RlckFsbEh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtmb3IodmFyIGkgaW4gZS5oeXBlcnRpZXNMaXN0KXt2YXIgbz1lLmh5cGVydGllc0xpc3RbaV0scz1lLnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2Uoby5oeXBlcnR5VVJMKTt0LnB1c2gocyl9dS5kZWZhdWx0LmFsbCh0KS50aGVuKGZ1bmN0aW9uKCl7cigic3VjY2Vzc2Z1bGx5IHVucmVnaXN0ZXJlZCBhbGwgaHlwZXJ0aWVzIil9LGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToidW5yZWdpc3Rlckh5cGVydHlJbnN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Ci8vVE9ETyB3b3JraW5nIGJ1dCB0aGUgdXNlcgp2YXIgdD10aGlzLHI9e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5yZWdpc3RyeVVSTCx0bzplLGJvZHk6e21ldGhvZDoiY2xvc2UifX07Ci8vIFNlbmQgbWVzc2FnZSB0byBoeXBlcnR5IHRvIGNsb3NlCnQuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihyKXtPLmxvZygiW1JlZ2lzdHJ5LnVucmVnaXN0ZXJIeXBlcnR5SW5zdGFuY2VdIENsb3NlIFJlcGx5IixyKTt2YXIgbj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOiIvaHlwZXJ0eS8iK2UsdmFsdWU6ImRpc2Nvbm5lY3RlZCIsYXR0cmlidXRlOiJzdGF0dXMifX07dC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKGUpe08ubG9nKCJbUmVnaXN0cnldIHVucmVnaXN0ZXIgaHlwZXJ0eSBSZXBseSIsZSl9KX0pfX0se2tleToidW5yZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5fZG9tYWluLGJvZHk6e3Jlc291cmNlOmUsdmFsdWU6e3N0YXR1czoiZGlzY29ubmVjdGVkIn19fTt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHIsZnVuY3Rpb24oZSl7Ty5sb2coIltSZWdpc3RyeV0gdW5yZWdpc3RlciBkYXRhT2JqZWN0IFJlcGx5IixlKX0pfX0se2tleToiZGVsZXRlRGF0YU9iamVjdEluc3RhbmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9e3R5cGU6ImRlbGV0ZSIsZnJvbTp0LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3QuX2RvbWFpbixib2R5Ont2YWx1ZTp7bmFtZTplfX19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocixmdW5jdGlvbihlKXtPLmxvZygiW1JlZ2lzdHJ5XSB1bnJlZ2lzdGVyIGRhdGFPYmplY3QgUmVwbHkiLGUpfSl9fSx7a2V5OiJ1cGRhdGVIeXBlcnR5SW5zdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt0eXBlOiJVUERBVEUiLGZyb206ci5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIityLl9kb21haW4sYm9keTp7cmVzb3VyY2U6ZSx2YWx1ZTp0fX07ci5fbWVzc2FnZUJ1cy5wb3N0LnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24oZSl7fSl9fSx7a2V5OiJyZWdpc3RlclN1YnNjcmliZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuZGF0YU9iamVjdExpc3RbZV07biYmKG4uc3Vic2NyaWJlcnN8fChuLnN1YnNjcmliZXJzPVtdKSxuLnN1YnNjcmliZXJzLnB1c2godCksci5kYXRhT2JqZWN0TGlzdFtlXT1uKX19LHtrZXk6ImdldERhdGFPYmplY3RTdWJzY3JpYmVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuZGF0YU9iamVjdExpc3RbZV07aWYocilyZXR1cm4gci5zdWJzY3JpYmVyczt0aHJvdyJObyBkYXRhT2JqZWN0IHdhcyBmb3VuZCJ9fSx7a2V5OiJyZWdpc3RlckRhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxTLmRlZXBDbG9uZSkoZSk7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz1bXSxhPXIudXJsLnNwbGl0KCI6Iik7by5wdXNoKGFbMF0pLHQuc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZWdpc3RyeTpEYXRhT2JqZWN0VVJMcyIpLnRoZW4oZnVuY3Rpb24oYSl7YXx8KGE9e30pLAovL3VwZGF0ZSB0aGUgbGlzdCB3aXRoIHRoZSBuZXcgZWxlbWVudHMKYVtlLm5hbWUrZS5zY2hlbWErZS5yZXNvdXJjZXMrZS5yZXBvcnRlcl09ZS51cmw7dmFyIHU9dm9pZCAwLGM9dm9pZCAwOzAhPT0oMCxzLmRlZmF1bHQpKHQucDJwSGFuZGxlclN0dWIpLmxlbmd0aCYmKHU9dC5wMnBIYW5kbGVyU3R1Ylt0LnJ1bnRpbWVVUkxdLnVybCxjPWgucnVudGltZVV0aWxzLnJ1bnRpbWVEZXNjcmlwdG9yLnAycFJlcXVlc3RlclN0dWIpLHIuc3RhcnRpbmdUaW1lPXIuY3JlYXRlZCxkZWxldGUgci5hdXRob3Jpc2UsZGVsZXRlIHIuY3JlYXRlZCxkZWxldGUgci5tdXR1YWwsZGVsZXRlIHIucmVzdW1lLHIuZXhwaXJlc3x8KHIuZXhwaXJlcz10LmV4cGlyZXNUaW1lKSxyLmRhdGFTY2hlbWVzPW8sdSYmKHIucDJwSGFuZGxlcj11LHIucDJwUmVxdWVzdGVyPWMpLHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoci5yZXBvcnRlcikmJihyLmludGVyd29ya2luZz0hMCksci5zdGF0dXM9ImxpdmUiO3ZhciBmPXZvaWQgMDtlLnJlc3VtZT8oTy5sb2coIltSZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3RdIHJlZ2lzdGVyaW5nIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBkYXRhIG9iamVjdCBVUkwiLHIpLGY9e3R5cGU6InVwZGF0ZSIsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixmcm9tOnQucmVnaXN0cnlVUkwsYm9keTp7cmVzb3VyY2U6ci51cmwsdmFsdWU6e3N0YXR1czoibGl2ZSJ9fX0pOihPLmxvZygiW1JlZ2lzdHJ5LnJlZ2lzdGVyRGF0YU9iamVjdF0gcmVnaXN0ZXJpbmcgbmV3IGRhdGEgb2JqZWN0IFVSTCIsciksZj17dHlwZToiY3JlYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixib2R5Ont2YWx1ZTpyLHBvbGljeToicG9saWN5In19KSx0LmRhdGFPYmplY3RMaXN0W3IudXJsXT1lLAovLyBzdGVwIHRvIG9idGFpbiB0aGUgbGlzdCBvZiBhbGwgVVJMIHJlZ2lzdGVyZWQgdG8gdXBkYXRlZCB3aXRoIHRoZSBuZXcgb25lLgp0LnN0b3JhZ2VNYW5hZ2VyLnNldCgicmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiLDAsYSkudGhlbihmdW5jdGlvbigpe3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMoZix0Ll9yZWdpc3RyYXRpb25SZXRyaWVzLGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0XSA9PT0+IHJlZ2lzdGVyRGF0YU9iamVjdCBSZXBseTogJywgcmVwbHkpOwoyMDA9PT1lLmJvZHkuY29kZT9uKHIpOmkoImVycm9yIG9uIHJlZ2lzdGVyIERhdGFPYmplY3QiKX0pfWNhdGNoKGUpe08uZXJyb3IoZSksaShlKX0KLy90aW1lciB0byBrZWVwIHRoZSByZWdpc3RyYXRpb24gYWxpdmUKLy8gdGhlIHRpbWUgaXMgZGVmaW5lZCBieSBhIGxpdHRsZSBsZXNzIHRoYW4gaGFsZiBvZiB0aGUgZXhwaXJlcyB0aW1lIGRlZmluZWQKc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZT17dHlwZToidXBkYXRlIixmcm9tOnQucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrdC5yZWdpc3RyeURvbWFpbixib2R5OntyZXNvdXJjZTpyLnVybCx2YWx1ZTp7c3RhdHVzOiJsaXZlIn0sbWV0aG9kOiJyZWZyZXNoIn19O3QuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSxmdW5jdGlvbihlKXt9KX0sci5leHBpcmVzLzEuMS8yKjFlMyl9KS5jYXRjaChmdW5jdGlvbihlKXtPLmVycm9yKCJbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBFcnJvcjogIixlKSxpKGUpfSl9KX0pfX0se2tleToiX2dldFJlc291cmNlc0FuZFNjaGVtZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocil7dmFyIG49dm9pZCAwOwovLyBjaGVjayBpZiB0aGUgaHlwZXJ0eSByZXNvdXJjZXMgaXMgYSB2ZWN0b3Igb3IgYSBzdHJpbmcKLy8gVE9ETyBkZWxldGUgbGF0ZXIgd2hlbiBjYXRhbG9ndWUgaXMgZml4ZWQKInN0cmluZyI9PXR5cGVvZiBlLmh5cGVydHlUeXBlPyhuPVtdLG4ucHVzaChlLmh5cGVydHlUeXBlKSk6bj1lLmh5cGVydHlUeXBlO3ZhciBpPWUub2JqZWN0TmFtZSxvPWUuZGF0YU9iamVjdHMscz1bXTsKLy90aGlzIHdpbGwgY3JlYXRlIGEgYXJyYXkgd2l0aCBhIFByb21pc2UgaW4gZWFjaCBwb3NpdGlvbgpmb3IodmFyIGEgaW4gbylzLnB1c2godC5ydW50aW1lQ2F0YWxvZ3VlLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKG9bYV0pKTsKLy8gYXMgc29vbiBhcyB0aGUgcHJldmlvdXMgYXJyYXkgaXMgY29tcGxldGVkLCB0aGlzIHdpbGwgd2FpdCBmb3IgdGhlIHJlc29sdmUgb2YgYWxsIHByb21pc2VzIGluIHRoZSBhcnJheQp1LmRlZmF1bHQuYWxsKHMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBvIGluIGUpe3ZhciBzPWVbb107dC5wdXNoKHMuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMuc2NoZW1lLmNvbnN0YW50KX0KLy8gbG9nLmxvZygnW1JlZ2lzdHJ5XSBIeXBlcnR5IFNjaGVtYXMnLCBmaWx0ZXJlZERhdGFTY2hlbWFzKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5XSBIeXBlcnR5IHJlc291cmNlcycsIHJlc291cmNlcyk7CnIoe3Jlc291cmNlczpuLGRhdGFTY2hlbWE6dCxuYW1lOml9KX0pfSl9fSx7a2V5OiJjaGVja1JlZ2lzdGVyZWRVUkxzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24obil7dmFyIGk9ZS5yZXBvcnRlcj8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyI7InN0cmluZyI9PXR5cGVvZiB0JiYoaT10JiYiaHlwZXJ0eSIhPT0oMCxTLmRpdmlkZVVSTCkodCkudHlwZT8icmVnaXN0cnk6RGF0YU9iamVjdFVSTHMiOiJyZWdpc3RyeTpIeXBlcnR5VVJMcyIpLAovL2RlYnVnZ2VyOwpyLnN0b3JhZ2VNYW5hZ2VyLmdldChpKS50aGVuKGZ1bmN0aW9uKG8pe2lmKG98fChvPXt9KSwic3RyaW5nIj09dHlwZW9mIHQpe08uaW5mbygiW1JlZ2lzdHJ5IC0gY2hlY2tSZWdpc3RlcmVkVVJMc10gLSBsb29rIGZvciAiK3QrIiBvbiAiLG8pO3ZhciBhPSgwLHMuZGVmYXVsdCkobykubWFwKGZ1bmN0aW9uKGUpe3ZhciByPW9bZV0uaW5kZXhPZih0KTtyZXR1cm4gb1tlXVtyXX0pO3JldHVybiBPLmluZm8oIltSZWdpc3RyeSAtIGNoZWNrUmVnaXN0ZXJlZFVSTHNdIC0gZm91bmQgIithLmxlbmd0aCsiIHJlc3VsdHMgb24gIixhKSxuKDE9PT1hLmxlbmd0aD9hOnZvaWQgMCl9aWYoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIiE9PWkpe3ZhciB1PWUubmFtZStlLnNjaGVtYStlLnJlc291cmNlcytlLnJlcG9ydGVyO2lmKG9bdV0pewovLyBsb2cubG9nKCdbUmVnaXN0cnldIHJldXNhZ2Ugb2YgZGF0YU9iamVjdCBVUkwnKTsKaWYoInN0cmluZyI9PXR5cGVvZiBvW3VdKXt2YXIgYz1bXTtyZXR1cm4gYy5wdXNoKG9bdV0pLG4oYyl9cmV0dXJuIG4ob1t1XSl9Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeV0gbm8gZGF0YU9iamVjdCBVUkwgd2FzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCcpOwpyZXR1cm4gbih2b2lkIDApfXIuX2dldFJlc291cmNlc0FuZFNjaGVtZXMoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbihvW2UucmVzb3VyY2VzK2UuZGF0YVNjaGVtYStlLm5hbWVdP29bZS5yZXNvdXJjZXMrZS5kYXRhU2NoZW1hK2UubmFtZV06dm9pZCAwKX0pfSl9KX19LHtrZXk6InJlZ2lzdGVySHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz10aGlzLGE9dm9pZCAwO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHUsYyl7Ci8vYXNzdW1pbmcgZGVzY3JpcHRvciBjb21lIGluIHRoaXMgZm9ybWF0LCB0aGUgc2VydmljZS1wcm92aWRlci1kb21haW4gdXJsIGlzIHJldHJpZXZlZCBieSBhIHNwbGl0IGluc3RydWN0aW9uCi8vaHlwZXJ0eS1jYXRhbG9ndWU6Ly88c2VydmljZS1wcm92aWRlci1kb21haW4+LzxjYXRhbG9ndWUtb2JqZWN0LWlkZW50aWZpZXI+CnZhciBmPSgwLFMuZGl2aWRlVVJMKSh0KS5kb21haW47Zi5pbmNsdWRlcygiY2F0YWxvZ3VlIikmJihmPWYucmVwbGFjZSgiY2F0YWxvZ3VlLiIsIiIpKSxvLmlkTW9kdWxlLmdldElkZW50aXR5QXNzZXJ0aW9uKGkpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIGw9aS51c2VyUHJvZmlsZSxkPWwudXNlclVSTDt2b2lkIDA9PT1vLl9tZXNzYWdlQnVzP2MoIltSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIE1lc3NhZ2VCdXMgaXMgdW5kZWZpbmVkIik6Ci8vY2FsbCBjaGVjayBpZiB0aGUgcHJvdG9zdHViIGV4aXN0OiB0byBiZSByZW1vdmVkCi8qICBfdGhpcy5yZXNvbHZlKGRvbWFpblVybCkudGhlbihmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gc3R1YiB0byBkb21haW4gcmVnaXN0cnktICcsIGEpOyovCm8uc3RvcmFnZU1hbmFnZXIuZ2V0KCJyZWdpc3RyeTpIeXBlcnR5VVJMcyIpLnRoZW4oZnVuY3Rpb24oaSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIHN0b3JhZ2VNYW5hZ2VyXSAtICcsIHVybHNMaXN0KTsKby5fZ2V0UmVzb3VyY2VzQW5kU2NoZW1lcyhyKS50aGVuKGZ1bmN0aW9uKHApe2E9cCxpfHwoaT17fSksaVthLnJlc291cmNlcythLmRhdGFTY2hlbWErYS5uYW1lXT1uLmFkZHJlc3Msby5zdG9yYWdlTWFuYWdlci5zZXQoInJlZ2lzdHJ5Okh5cGVydHlVUkxzIiwwLGkpLnRoZW4oZnVuY3Rpb24oKXtvLnJlZ2lzdHJ5RG9tYWluPWYsCi8vY2hlY2sgd2hldGhlciB0aGUgcmVjZWl2ZWQgc2FuYm94IGUgQXBwbGljYXRpb25TYW5kYm94IG9yIGEgbm9ybWFsIHNhbmRib3gKImFwcCI9PT1lLnR5cGU/by5zYW5kYm94ZXNMaXN0LmFwcFNhbmRib3hbbi5hZGRyZXNzWzBdXT1lOiJub3JtYWwiPT09ZS50eXBlP28uc2FuZGJveGVzTGlzdC5zYW5kYm94W24uYWRkcmVzc1swXV09ZTpjKCJXcm9uZyBTYW5kYm94VHlwZSIpO3ZhciBpPXZvaWQgMCxwPXZvaWQgMDswIT09KDAscy5kZWZhdWx0KShvLnAycEhhbmRsZXJTdHViKS5sZW5ndGgmJihpPW8ucDJwSGFuZGxlclN0dWJbby5ydW50aW1lVVJMXS51cmwscD1oLnJ1bnRpbWVVdGlscy5ydW50aW1lRGVzY3JpcHRvci5wMnBSZXF1ZXN0ZXJTdHViKTt2YXIgeT1vLnJ1bnRpbWVVUkwsdj1uZXcgXy5kZWZhdWx0KG8uaWRlbnRpZmllcixvLnJlZ2lzdHJ5VVJMLHQscixuLmFkZHJlc3NbMF0sbCwiZ3VpZCIsby5ydW50aW1lVVJMLCJjdHgiLGkscCxhLmRhdGFTY2hlbWEsYS5yZXNvdXJjZXMpO28uaHlwZXJ0aWVzTGlzdC5wdXNoKHYpOwovL21lc3NhZ2UgdG8gcmVnaXN0ZXIgdGhlIG5ldyBoeXBlcnR5LCB3aXRoaW4gdGhlIGRvbWFpbiByZWdpc3RyeQp2YXIgZz12b2lkIDAsYj12b2lkIDAsbT1vLmV4cGlyZXNUaW1lOwovLyBzZXQgYSBkaWZmZXJlbnQgZXhwaXJlcyB2YWx1ZSBpZiBjb25maWd1cmVkIGluIHRoZSBIeXBlcnR5IGRlc2NyaXB0b3IKci5jb25maWd1cmF0aW9uJiZyLmNvbmZpZ3VyYXRpb24uZXhwaXJlcyYmKG09ci5jb25maWd1cmF0aW9uLmV4cGlyZXMpLG4ubmV3QWRkcmVzcz8oCi8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIHJlZ2lzdGVyaW5nIG5ldyBIeXBlcnR5IFVSTCcsIGFkZHJlc3NVUkwuYWRkcmVzc1swXSk7Cmc9e3VzZXI6ZCxkZXNjcmlwdG9yOnQsdXJsOm4uYWRkcmVzc1swXSxleHBpcmVzOm0scmVzb3VyY2VzOmEucmVzb3VyY2VzLGRhdGFTY2hlbWVzOmEuZGF0YVNjaGVtYSxydW50aW1lOnksc3RhdHVzOiJsaXZlIn0sCi8vIHNldCBhIGRpZmZlcmVudCBleHBpcmVzIGlmIGRlZmluZWQgaW4gdGhlIGh5cGVydHkgY29uZmlndXJhdGlvbgppJiYoZy5wMnBIYW5kbGVyPWksZy5wMnBSZXF1ZXN0ZXI9cCksCi8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIHJlZ2lzdGVyaW5nIG5ldyBIeXBlcnR5IGF0IGRvbWFpbiByZWdpc3RyeSAnLCBtZXNzYWdlVmFsdWUpOwpiPXt0eXBlOiJjcmVhdGUiLGZyb206by5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitvLnJlZ2lzdHJ5RG9tYWluLGJvZHk6e3ZhbHVlOmcscG9saWN5OiJwb2xpY3kifX0pOigKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gcmVnaXN0ZXJpbmcgcHJldmlvdXNseSByZWdpc3RlcmVkIEh5cGVydHkgVVJMJywgYWRkcmVzc1VSTC5hZGRyZXNzWzBdKTsKYj17dHlwZToidXBkYXRlIix0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitvLnJlZ2lzdHJ5RG9tYWluLGZyb206by5yZWdpc3RyeVVSTCxib2R5OntyZXNvdXJjZTpuLmFkZHJlc3NbMF0sdmFsdWU6e3N0YXR1czoibGl2ZSIsdXNlcjpkfX19LGkmJihiLmJvZHkudmFsdWUucDJwSGFuZGxlcj1pLGIuYm9keS52YWx1ZS5wMnBSZXF1ZXN0ZXI9cCkpOwovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBIeXBlcnR5IHJlZ2lzdHJhdGlvbiBhdCBkb21haW4gcmVnaXN0cnkgIC0gJywgbWVzc2FnZSk7CnRyeXtvLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlV2l0aFJldHJpZXMoYixvLnJlZ2lzdHJhdGlvblJldHJpZXMsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldIEh5cGVydHkgcmVnaXN0cmF0aW9uIHJlc3BvbnNlOiAnLCByZXBseSk7CmlmKDIwMD09PWUuYm9keS5jb2RlKXt2YXIgcj17dXJsOm4uYWRkcmVzc1swXX07aSYmKHIucDJwSGFuZGxlcj1pLHIucDJwUmVxdWVzdGVyPXApLHUocil9ZWxzZXtpZig0MDQhPT1lLmJvZHkuY29kZSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byByZWdpc3RlciBhbiBIeXBlcnR5OiAiLGUpOwovLyBsb2cubG9nKCdbUmVnaXN0cnkgcmVnaXN0ZXJIeXBlcnR5XSBUaGUgdXBkYXRlIHdhcyBub3QgcG9zc2libGUuIFJlZ2lzdGVyaW5nIG5ldyBIeXBlcnR5IGF0IGRvbWFpbiByZWdpc3RyeScpOwpnPXt1c2VyOmQsZGVzY3JpcHRvcjp0LHVybDpuLmFkZHJlc3NbMF0sZXhwaXJlczptLHJlc291cmNlczphLnJlc291cmNlcyxkYXRhU2NoZW1lczphLmRhdGFTY2hlbWEscnVudGltZTp5LHN0YXR1czoibGl2ZSJ9LGkmJihnLnAycEhhbmRsZXI9aSxnLnAycFJlcXVlc3Rlcj1wKSxiPXt0eXBlOiJjcmVhdGUiLGZyb206by5yZWdpc3RyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitvLnJlZ2lzdHJ5RG9tYWluLGJvZHk6e3ZhbHVlOmcscG9saWN5OiJwb2xpY3kifX07dHJ5e28uX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2VXaXRoUmV0cmllcyhiLG8ucmVnaXN0cmF0aW9uUmV0cmllcyxmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gSHlwZXJ0eSByZWdpc3RyYXRpb24gdXBkYXRlIHJlc3BvbnNlOiAnLCByZXBseSk7CmlmKDIwMCE9PWUuYm9keS5jb2RlKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlZ2lzdGVyIGFuIEh5cGVydHk6ICIrZSk7dmFyIHQ9e3VybDpuLmFkZHJlc3NbMF19O2kmJih0LnAycEhhbmRsZXI9aSx0LnAycFJlcXVlc3Rlcj1wKSx1KHQpfSl9Y2F0Y2goZSl7Ty5lcnJvcihlKSxjKGUpfX19KX1jYXRjaChlKXtPLmVycm9yKGUpLGMoZSl9Ci8vdGltZXIgdG8ga2VlcCB0aGUgcmVnaXN0cmF0aW9uIGFsaXZlCi8vIHRoZSB0aW1lIGlzIGRlZmluZWQgYnkgYSBsaXR0bGUgbGVzcyB0aGFuIGhhbGYgb2YgdGhlIGV4cGlyZXMgdGltZSBkZWZpbmVkCnNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6InVwZGF0ZSIsZnJvbTpvLnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK28ucmVnaXN0cnlEb21haW4sYm9keTp7cmVzb3VyY2U6bi5hZGRyZXNzWzBdLHZhbHVlOntzdGF0dXM6ImxpdmUifSxtZXRob2Q6InJlZnJlc2gifX07by5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShlLGZ1bmN0aW9uKGUpe30pfSxtLzEuMS8yKjFlMyl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IHJlZ2lzdGVySHlwZXJ0eV0gRXJyb3I6ICcsIHJlYXNvbik7CmMoZSl9KX0pfSl9LGZ1bmN0aW9uKGUpe2MoIltSZWdpc3RyeSByZWdpc3Rlckh5cGVydHldICIsZSl9KX0pfX0se2tleToidW5yZWdpc3Rlckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT0hMSxvPTA7Zm9yKG89MDtvPHQuaHlwZXJ0aWVzTGlzdC5sZW5ndGg7bysrKXt2YXIgcz10Lmh5cGVydGllc0xpc3Rbb107aWYodm9pZCAwIT09cyYmcy5oeXBlcnR5VVJMPT09ZSl7aT0hMDticmVha319ITE9PT1pP24oIkh5cGVydHkgbm90IGZvdW5kIik6KGRlbGV0ZSB0Lmh5cGVydGllc0xpc3Rbb10scigiSHlwZXJ0eSBzdWNjZXNzZnVsbHkgZGVsZXRlZCIpKX0pfX0se2tleToiZGlzY292ZXJQcm90b3N0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTt2YXIgdD10aGlzLHI9KDAsUy5kaXZpZGVVUkwpKGUpLG49ci5kb21haW47aWYodC5wcm90b3N0dWJzTGlzdC5oYXNPd25Qcm9wZXJ0eShuKSYmdC5wcm90b3N0dWJzTGlzdFtuXS5zdGF0dXM9PT1NLkxJVkUpcmV0dXJuIHQucHJvdG9zdHVic0xpc3Rbbl07dGhyb3cgdC5wcm90b3N0dWJzTGlzdFtuXT17c3RhdHVzOk0uREVQTE9ZSU5HfSxuZXcgRXJyb3IoIltSZWdpc3RyeSAtIGRpc2NvdmVyUHJvdG9TdHViIF0gTWVzc2FnZSBOb2RlIFByb3Rvc3R1YiBOb3QgRm91bmQuIENyZWF0aW5nIG9uZSIpfX0se2tleToiZGlzY292ZXJQMlBTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGUpe2lmKHQucDJwUmVxdWVzdGVyU3R1Yi5oYXNPd25Qcm9wZXJ0eShlKSYmdC5wMnBSZXF1ZXN0ZXJTdHViW2VdLnN0YXR1cz09PU0uTElWRSlyZXR1cm4gdC5wMnBSZXF1ZXN0ZXJTdHViW2VdO3Rocm93IHQucDJwUmVxdWVzdGVyU3R1YltlXT17c3RhdHVzOk0uQ1JFQVRFRH0sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlclAyUFN0dWIgXSBQMlAgUmVxdWVzdGVyIFN0dWIgTm90IEZvdW5kLiBDcmVhdGluZyBvbmUiKX1pZih0LnAycEhhbmRsZXJTdHViLmhhc093blByb3BlcnR5KHQucnVudGltZVVSTCkpcmV0dXJuIHQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXTt0aHJvdyB0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF09e3N0YXR1czpNLkNSRUFURUR9LG5ldyBFcnJvcigiW1JlZ2lzdHJ5IC0gZGlzY292ZXJQMlBTdHViIF0gUDJQIEhhbmRsZXIgU3R1YiBOb3QgRm91bmQuIil9fSx7a2V5OiJyZWdpc3RlclN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIHM9dGhpcyxhPW87cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24odSxjKXt2YXIgZj12b2lkIDA7Ci8vY2hlY2sgaWYgbWVzc2FnZUJ1cyBpcyByZWdpc3RlcmVkIGluIHJlZ2lzdHJ5IG9yIG5vdAp2b2lkIDA9PT1zLl9tZXNzYWdlQnVzJiZjKCJNZXNzYWdlQnVzIG5vdCBmb3VuZCBvbiByZWdpc3RlclN0dWIiKSxPLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1Yl0gLSBzdHViSUQgIix0KTsvKiBpZiAoIXN0dWJJRC5pbmRleE9mKCdtc2ctbm9kZS4nKSkgewogICAgICAgICAgc3R1YklEID0gc3R1YklELnN1YnN0cmluZyhzdHViSUQuaW5kZXhPZignLicpICsgMSk7CiAgICAgICAgfSovCnZhciBsPXZvaWQgMDtpZihyKWlmKHIuaGFzT3duUHJvcGVydHkoImlzSGFuZGxlclN0dWIiKSYmci5pc0hhbmRsZXJTdHViKWY9cy5wMnBIYW5kbGVyVVJMLHMucDJwSGFuZGxlclN0dWJbdF09e3VybDpmLHN0YXR1czpNLkNSRUFURUR9LHMucDJwSGFuZGxlckFzc29jaWF0aW9uW3MucnVudGltZVVSTF09W10scy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbZl09ZSxPLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIFAyUEhhbmRsZXJTdHViXSAtICIsdCwiIC0gIixmKSx1KHMucDJwSGFuZGxlclN0dWJbdF0pO2Vsc2V7bD1yLnAycFJlcXVlc3RlclN0dWIsZj0icnVudGltZTovLyIrKDAsUy5kaXZpZGVVUkwpKHIucmVtb3RlUnVudGltZVVSTCkuZG9tYWluKyIvcDJwcmVxdWVzdGVyLyIrKDAsUy5nZW5lcmF0ZUdVSUQpKCksTy5pbmZvKCJbUmVnaXN0cnkgLSByZWdpc3RlclN0dWIgLSBQMlBSZXF1ZXN0ZXJTdHViXSAtICIsbCwiIC0gIixmKSwKLy8gdG8gYmUgY2xhcmlmaWVkIHdoYXQgaXMgdGhpcyBwMnBIYW5kbGVyQXNzb2NpYXRpb24Kcy5wMnBIYW5kbGVyQXNzb2NpYXRpb25bcy5ydW50aW1lVVJMXS5wdXNoKGYpLHMucDJwUmVxdWVzdGVyU3R1Ylt0XT17dXJsOmYsc3RhdHVzOk0uQ1JFQVRFRH0scy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbZl09ZTsKLy9TZXR1cCBQMlAgUmVxdWVzdGVyIHBhdGggaW50byBNTgp2YXIgZD17dHlwZToic3Vic2NyaWJlIixmcm9tOnMucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrcy5fZG9tYWluKyIvc20iLGJvZHk6e3N1YnNjcmliZTpbZl0sc291cmNlOnMucmVnaXN0cnlVUkx9fTtzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGQsZnVuY3Rpb24oZSl7fSksdShzLnAycFJlcXVlc3RlclN0dWJbdF0pfWVsc2UgZj0ic3RyaW5nIj09PSEodm9pZCAwPT09bz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKG8pKSYmby5oYXNPd25Qcm9wZXJ0eSgiX2ludGVyd29ya2luZyIpJiZvLl9pbnRlcndvcmtpbmc/InJ1bnRpbWU6Ly8iK3QrIi9wcm90b3N0dWIvc2NoZW1lMSI6InJ1bnRpbWU6Ly8iK3QrIi9wcm90b3N0dWIvIisoMCxTLmdlbmVyYXRlR1VJRCkoKSxPLmluZm8oIltSZWdpc3RyeSAtIHJlZ2lzdGVyU3R1YiAtIE5vcm1hbCBTdHViXSAtICIsdCksCi8vIFRPRE86IE9wdGltaXplIHRoaXMKcy5wcm90b3N0dWJzTGlzdFt0XT17dXJsOmYsc3RhdHVzOk0uREVQTE9ZSU5HfSxuJiYocy5wcm90b3N0dWJzTGlzdFt0XS5kZXNjcmlwdG9yVVJMPW4pLGEmJmEuaW50ZXJ3b3JraW5nJiYocy5wcm90b3N0dWJzTGlzdFt0XS5pbnRlcndvcmtpbmc9YS5pbnRlcndvcmtpbmcpLHMuc2FuZGJveGVzTGlzdC5zYW5kYm94W2ZdPWUsdShzLnByb3Rvc3R1YnNMaXN0W3RdKTsKLy8gcmVzb2x2ZShydW50aW1lUHJvdG9TdHViVVJMKTsKcy5fbWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihmKyIvc3RhdHVzIixmdW5jdGlvbihlKXtzLl9vblByb3Rvc3R1YlN0YXR1c0V2ZW50KGUpfSl9KX19LHtrZXk6Il9vblByb3Rvc3R1YlN0YXR1c0V2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tO2lmKCFlLnRvLmluY2x1ZGVzKCIvc3RhdHVzIikpcmV0dXJuIHZvaWQgTy5lcnJvcigiW1JlZ2lzdHJ5IG9uUHJvdG9zdHViU3RhdHVzRXZlbnRdIE5vdCBTdGF0dXMgRXZlbnQ6ICIsZSk7Ci8vIHByb2Nlc3Mgc3RhdHVzIGV2ZW50cyBmcm9tIG1lc3NhZ2Ugbm9kZSBwcm90b3N0dWJzCmlmKHIuaW5jbHVkZXMoIi9wcm90b3N0dWIvIikpCi8vIFRPRE86IHVuY29tbWVudCBiZWxvdyB3aGVuIHByb3Rvc3R1YnMgYXJlIHVwZGF0ZWQgd2l0aCBuZXcgc3RhdHVzIHZhbHVlICJsaXZlIgooMCxzLmRlZmF1bHQpKHQucHJvdG9zdHVic0xpc3QpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3N0dWJzTGlzdFtlXS51cmw9PT1yfSkubWFwKGZ1bmN0aW9uKHIpe3QucHJvdG9zdHVic0xpc3Rbcl0uc3RhdHVzPWUuYm9keS52YWx1ZX0pO2Vsc2UKLy8gcHJvY2VzcyBzdGF0dXMgZXZlbnRzIGZyb20gcDJwIGNvbm5lY3Rpb25zCmlmKGUuYm9keS5yZXNvdXJjZSl7dmFyIG49ZS5ib2R5LnJlc291cmNlO2lmKHQucDJwQ29ubmVjdGlvbkxpc3Rbbl0pdC5wMnBDb25uZWN0aW9uTGlzdFtuXS5zdGF0dXM9ZS5ib2R5LnZhbHVlLHQucDJwQ29ubmVjdGlvbkxpc3Rbbl0udXJsPXI7ZWxzZXt2YXIgaT17c3RhdHVzOmUuYm9keS52YWx1ZSx1cmw6cn07dC5wMnBDb25uZWN0aW9uTGlzdFtuXT1pfQovLyBsb2cubG9nKCdbUmVnaXN0cnkgLSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSAtIFAyUENvbm5lY3Rpb24gc3RhdHVzOiAnLCBfdGhpcy5wMnBDb25uZWN0aW9uTGlzdFtyZW1vdGVSdW50aW1lVVJMXSk7Ci8vIFVwZGF0ZSBQMlAgUmVxdWVzdGVyIHByb3Rvc3R1YiBpZiBpdCBpcyBjb21pbmcgZnJvbSB0aGVyZQpyLmluY2x1ZGVzKCIvcDJwcmVxdWVzdGVyLyIpP3QucDJwUmVxdWVzdGVyU3R1YltuXS5zdGF0dXM9ZS5ib2R5LnZhbHVlOgovLyBpZiBmcm9tIFAyUEhhbmRsZXIgd2l0aCBzdGF0dXMgZGlzY29uZW5jdGVkLCBsZXRzIHJlbW92ZSBmcm9tIHAycENvbm5lY3Rpb25MaXN0CiJkaXNjb25uZWN0ZWQiPT09ZS5ib2R5LnZhbHVlJiZkZWxldGUgdC5wMnBDb25uZWN0aW9uTGlzdFtuXX1lbHNle2lmKHIuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIikpCi8vIEl0IGlzIGFuIGV2ZW50IGZyb20gUDJQIFJlcXVlc3RlciB3aXRob3V0IG1hbmRhdG9yeSAicmVzb3VyY2UiIGZpZWxkCnJldHVybiB2b2lkIE8uZXJyb3IoIltSZWdpc3RyeSBvblByb3Rvc3R1YlN0YXR1c0V2ZW50XSByZXNvdXJjZSBtaXNzaW5nOiAiLGUpOwovLyBJdCBpcyBhbiBldmVudCBmcm9tIFAyUCBIYW5kbGVyCnQucDJwSGFuZGxlclN0dWJbdC5ydW50aW1lVVJMXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfX19LHtrZXk6InVucmVnaXN0ZXJTdHViIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5wcm90b3N0dWJzTGlzdC5oYXNPd25Qcm9wZXJ0eShlKT8oZGVsZXRlIHQucHJvdG9zdHVic0xpc3RbZV0scigiUHJvdG9zdHViVVJMIHJlbW92ZWQiKSk6bigiRXJyb3Igb24gdW5yZWdpc3RlclN0dWI6IEh5cGVydHkgbm90IGZvdW5kIil9KX19LHtrZXk6InJlZ2lzdGVySWRwUHJveHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXZvaWQgMDsKLy9jaGVjayBpZiBtZXNzYWdlQnVzIGlzIHJlZ2lzdGVyZWQgaW4gcmVnaXN0cnkgb3Igbm90CnZvaWQgMD09PXIuX21lc3NhZ2VCdXMmJmkoIk1lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YiIpLG89ImRvbWFpbi1pZHA6Ly8iK3QrIi9zdHViLyIrKDAsUy5nZW5lcmF0ZUdVSUQpKCksCi8vIFRPRE86IE9wdGltaXplIHRoaXMKci5pZHBQcm94eUxpc3RbdF09e3VybDpvLHN0YXR1czpNLkRFUExPWUlOR30sci5zYW5kYm94ZXNMaXN0LnNhbmRib3hbb109ZSwKLy8gc2FuZGJveC5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uKG1zZykgewovLyAgIF90aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7Ci8vIH0pOwpuKG8pLHIuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIobysiL3N0YXR1cyIsZnVuY3Rpb24oZSl7ci5fb25JZHBQcm94eVN0YXR1c0V2ZW50KGUpfSl9KX19LHtrZXk6Il9vbklkcFByb3h5U3RhdHVzRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb207aWYoIWUudG8uaW5jbHVkZXMoIi9zdGF0dXMiKSlyZXR1cm4gdm9pZCBPLmVycm9yKCJbUmVnaXN0cnkgb25JZHBQcm94eVN0YXR1c0V2ZW50XSBOb3QgU3RhdHVzIEV2ZW50OiAiLGUpOygwLHMuZGVmYXVsdCkodC5pZHBQcm94eUxpc3QpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pZHBQcm94eUxpc3RbZV0udXJsPT09cn0pLm1hcChmdW5jdGlvbihyKXt0LmlkcFByb3h5TGlzdFtyXS5zdGF0dXM9ZS5ib2R5LnZhbHVlfSl9fSx7a2V5OiJkaXNjb3ZlcklkcFByb3h5Iix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciB1cmwgbmVlZGVkIik7dmFyIHQ9dGhpcyxyPSgwLFMuZGl2aWRlVVJMKShlKSxuPXIuZG9tYWluO2lmKHQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KG4pJiZ0LmlkcFByb3h5TGlzdFtuXS5zdGF0dXM9PT1NLkxJVkUpcmV0dXJuIHQuaWRwUHJveHlMaXN0W25dO3Rocm93IHQuaWRwUHJveHlMaXN0W25dPXtzdGF0dXM6TS5QUk9HUkVTU30sbmV3IEVycm9yKCJbUmVnaXN0cnkgLSBkaXNjb3ZlcklkcFByb3h5IF0gSWRwIFByb3h5IE5vdCBGb3VuZC4gQ3JlYXRpbmcgb25lIil9fSx7a2V5OiJyZWdpc3RlclBFUCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4pewovL1RPRE8gY2hlY2sgd2hhdCBwYXJhbWV0ZXIgaW4gdGhlIHBvc3RNZXNzYWdlIHRoZSBwZXAgaXMuCnIucGVwTGlzdFt0XT1lLG4oIlBFUCByZWdpc3RlcmVkIHdpdGggc3VjY2VzcyIpfSl9fSx7a2V5OiJ1bnJlZ2lzdGVyUEVQIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dm9pZCAwPT09dC5wZXBMaXN0W2VdP24oIlBlcCBOb3QgZm91bmQuIik6cigiUEVQIHN1Y2Nlc3NmdWxseSByZW1vdmVkLiIpfSl9fSx7a2V5OiJnZXRTYW5kYm94Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiUGFyYW1ldGVyIHVybCBuZWVkZWQiKTsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IGdldFNhbmRib3hdIGdldFNhbmRib3ggZm9yOiAnLCB1cmwsICcgYW5kIGNhcGFiaWxpdGllczogJywgY29uc3RyYWludHMpOwp2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89dm9pZCAwOwovL2lmIG5vIGFwcFNhbmRib3ggd2FzIGZvdW5kLCB0cnkgdG8gc2VhcmNoIGluIHRoZSBub3JtYWwgc2FuZGJveGVzIGxpc3QKaWYoISgKLy9maXJzdCB0cnkgdG8gZmluZCB0aGUgdXJsIGluIHRoZSBhcHBTYW5kYm94IGxpc3QKbz1yLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFtlXSkmJiEobz1yLnNhbmRib3hlc0xpc3Quc2FuZGJveFtlXSkpe3ZhciBhPXZvaWQgMDthPWUuaW5jbHVkZXMoIjovLyIpPygwLFMuZGl2aWRlVVJMKShlKS5kb21haW46ZTsKLy8gc2VhcmNoIGluIHRoZSBzYW5kYm94ZXMgbGlzdCBmb3IgYSBlbnRyeSBjb250YWluaW5nIHRoZSBkb21haW4gZ2l2ZW4KZm9yKHZhciB1IGluIHIuc2FuZGJveGVzTGlzdC5zYW5kYm94KQovL3RvZG86IHVuY29tbWVudCBzYW5kYm94IGNvbnN0cmFpbnRzIG1hdGNoIGNvbmRpdGlvbiB3aXRoIHJ1bnRpbWUgc2hhcmluZwppZih1LmluY2x1ZGVzKGEpJiZyLnNhbmRib3hlc0xpc3Quc2FuZGJveFt1XS5tYXRjaGVzKHQpKXt2YXIgYz1mdW5jdGlvbigpe3ZhciBlPXIuc2FuZGJveGVzTGlzdC5zYW5kYm94W3VdO3JldHVybigwLHMuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiJicm93c2VyIj09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuTk9STUFMfHwid2luZG93U2FuYm94Ij09PXQmJmUudHlwZT09PXYuU2FuZGJveFR5cGUuV0lORE9XfSkubGVuZ3RoPjAmJihvPWUpLCJicmVhayJ9KCk7aWYoImJyZWFrIj09PWMpYnJlYWt9fW8/bihvKTppKCJubyBzYW5kYm94IGZvdW5kIGZvcjogIitlKX0pfX0se2tleToicmVzb2x2ZU5vcm1hbFN0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdyZXNvbHZlTm9ybWFsU3R1YiAnICsgdXJsKTsKdmFyIHQ9dGhpcztyZXR1cm4gbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pewovL3NwbGl0IHRoZSB1cmwgdG8gZmluZCB0aGUgZG9tYWluVVJMLiBkZWFscyB3aXRoIHRoZSB1cmwgZm9yIGV4YW1wbGUgYXM6Ci8vImh5cGVydHktcnVudGltZTovL3NwMS9wcm90b3N0dWIvMTIzIiwKdmFyIGk9KDAsUy5kaXZpZGVVUkwpKGUpLG89aS5kb21haW4scz1pLnR5cGU7ZS5pbmNsdWRlcyh0LnJ1bnRpbWVVUkwpJiYoTy5lcnJvcigiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gVVJMIHRvIGJlIHJlc29sdmVkIHNob3VsZCBoYXZlIGxpc3RlbmVycyAiLGUpLG4oIltSZWdpc3RyeSAtIHJlc29sdmVdIFVSTCB0byBiZSByZXNvbHZlZCBzaG91bGQgaGF2ZSBsaXN0ZW5lcnMgIixlKSksCi8vIHJlc29sdmUgdGhlIGRvbWFpbiBwcm90b3N0dWIgaW4gY2FzZSBvZiBhIG1lc3NhZ2UgdG8gZ2xvYmFsIHJlZ2lzdHJ5CmUuaW5jbHVkZXMoImdsb2JhbDovL3JlZ2lzdHJ5Iik/bz10Ll9kb21haW46by5pbmRleE9mKCJtc2ctbm9kZS4iKSYmby5pbmRleE9mKCJyZWdpc3RyeS4iKXx8KG89by5zdWJzdHJpbmcoby5pbmRleE9mKCIuIikrMSkpLHQuaXNMZWdhY3koZSkudGhlbihmdW5jdGlvbihpKXsKLy8gaWYgbGVnYWN5IGl0IHNob3VsZCByZXNvbHZlIGZvciA8cHJvdG9jb2w+Ljxkb21haW4+CmkmJiJkb21haW4taWRwIiE9PXMmJihvPXMrIi4iKygwLFMuZ2V0VXNlcklkZW50aXR5RG9tYWluKShlKSksTy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gZG9tYWluVXJsOiIsbyk7dmFyIGE9dm9pZCAwO2E9ImRvbWFpbi1pZHAiPT09cz8hIXQuaWRwUHJveHlMaXN0Lmhhc093blByb3BlcnR5KG8pJiZ0LmlkcFByb3h5TGlzdFtvXTohIXQucHJvdG9zdHVic0xpc3QuaGFzT3duUHJvcGVydHkobykmJnQucHJvdG9zdHVic0xpc3Rbb10sTy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZV0gcmVnaXN0cmVkOiIsYSksCi8vIFRPRE8gc2luY2UgdGhlIHByb3Rvc3R1YnMgaGF2ZSBvdGhlciBzdGF0ZXMgdGhpcyBzaG91bGQgYmUgcmV2aXNlZCwgYmVjYXVzZSB0aGUgc3RhdHVzIGNvdWxkIGNoYW5nZSBmcm9tIERFUExPWUVEIHRvIExJVkUKLy8gVE9ETyBhbmQgdGhpcyB2YWxpZGF0aW9uIHdpbGwgdHJpZ2dlciBhIG5ldyBsb2FkIG9mIElEUFByb3h5IG9yIFByb3Rvc3R1YjsKYSYmYS5oYXNPd25Qcm9wZXJ0eSgic3RhdHVzIikmJihhLnN0YXR1cz09PU0uREVQTE9ZRUR8fGEuc3RhdHVzPT09TS5DUkVBVEVEfHxhLnN0YXR1cz09PU0uTElWRXx8YS5zdGF0dXM9PT1NLkRJU0NPTk5FQ1RFRCk/KE8uaW5mbygiW1JlZ2lzdHJ5LnJlc29sdmVdIFJlc29sdmVkOiAiLGEudXJsLGEuc3RhdHVzKSxyKGEudXJsKSk6Ci8vdG9kbzogdXNlIHN3aXRjaC1jYXNlIHRvIHN1cHBvcnQgb3RoZXIgdHlwZXMgb2Ygc3R1YnMKImRvbWFpbi1pZHAiPT09cz8oCi8vIFRoZSBJZFAgUHJveHkgZG9lcyBub3QgZXhpc3QsIGxldCdzIHByZXBhcmUgaXRzIGRlcGxveW1lbnQgYnkgd2F0Y2hpbmcgaXRzIHN0YXR1cwp0LndhdGNoaW5nWW91Lm9ic2VydmUoImlkcFByb3h5TGlzdCIsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSAtIHJlc29sdmVOb3JtYWxTdHViXSBpZHBQcm94eUxpc3QgY2hhbmdlZCAnICsgX3RoaXMuaWRwUHJveHlMaXN0KTsKdmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PW8mJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiYKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZU5vcm1hbFN0dWJdIGlkcFByb3h5TGlzdCBpcyBsaXZlICcgKyBfdGhpcy5pZHBQcm94eUxpc3RbZG9tYWluVXJsXSk7CnIodC5pZHBQcm94eUxpc3Rbb10udXJsKX0pLGF8fCgKLy8gdGhpcyBwcm9jZXNzIHdpbGwgbG9hZCB0aGUgaWRwIHByb3h5LCBiZWNhdXNlIGlzIG5vdCB5ZXQgcmVnaXN0ZXJlZDsKTy5pbmZvKCJbUmVnaXN0cnkucmVzb2x2ZU5vcm1hbFN0dWJdIGRlcGxveSBuZXcgSURQUHJveHk6ICIsbyksdC5sb2FkZXIubG9hZElkcFByb3h5KG8pLnRoZW4oZnVuY3Rpb24oKXtPLmluZm8oIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gSWRQIFByb3h5IGRlcGxveWVkOiAiLHQuaWRwUHJveHlMaXN0W29dKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08uZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlXSBFcnJvciByZXNvbHZpbmcgTG9hZCBJRFBQcm94eTogIixlKSx0LmlkcFByb3h5TGlzdFtvXS5zdGF0dXM9ImRlcGxveW1lbnQtZmFpbGVkIixuKGUpfSkpKTooCi8vIFRoZSBwcm90b1N0dWIgZG9lcyBub3QgZXhpc3QsIGxldCdzIHByZXBhcmUgaXRzIGRlcGxveW1lbnQgYnkgd2F0Y2hpbmcgaXRzIHN0YXR1cwp0LndhdGNoaW5nWW91Lm9ic2VydmUoInByb3Rvc3R1YnNMaXN0IixmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZU5vcm1hbFN0dWJdIHByb3Rvc3R1YnNMaXN0IGNoYW5nZWQgJyArIF90aGlzLnByb3Rvc3R1YnNMaXN0KTsKdmFyIG49ZS5rZXlwYXRoO24uaW5jbHVkZXMoInN0YXR1cyIpJiYobj1uLnJlcGxhY2UoIi5zdGF0dXMiLCIiKSksbj09PW8mJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5DUkVBVEVEJiYKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gcHJvdG9zdHViIGlzIGxpdmUgJyArIF90aGlzLnByb3Rvc3R1YnNMaXN0W2RvbWFpblVybF0pOwpyKHQucHJvdG9zdHVic0xpc3Rbb10udXJsKX0pLGF8fCgKLy8gbGV0cyBkZXBsb3kgdGhlIHByb3Rvc3R1YgpPLmluZm8oIltSZWdpc3RyeS5yZXNvbHZlXSB0cmlnZ2VyIG5ldyBQcm90b2NvbFN0dWI6ICIsbyksdC5sb2FkZXIubG9hZFN0dWIobykudGhlbihmdW5jdGlvbigpe30pLmNhdGNoKGZ1bmN0aW9uKGUpe08uZXJyb3IoIltSZWdpc3RyeS5yZXNvbHZlTm9ybWFsU3R1Yl0gRXJyb3IgcmVzb2x2aW5nIExvYWQgUHJvdG9jb2xTdHViOiAiLGUpLG4oZSl9KSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty5lcnJvcigiW1JlZ2lzdHJ5LnJlc29sdmVdIEVycm9yIHJlc29sdmluZyBpc2xlZ2FjeTogIixlKSxuKGUpfSl9KX19LHtrZXk6InJlc29sdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe08uaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSAgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS50bz9lLnRvOmUsbz0hKCFlLmJvZHl8fCFlLmJvZHkucDJwKSYmZS5ib2R5LnAycDsKLy8gbG9nLmxvZygnUDJQOiAnLCBwMnAsIHVybCk7Ci8vIGxvZy5sb2coJ1AyUCAtIHAycEhhbmRsZXJTdHViOiAnLCAhX3RoaXMucDJwSGFuZGxlclN0dWJbX3RoaXMucnVudGltZVVSTF0sIF90aGlzLnAycEhhbmRsZXJTdHViLCBfdGhpcy5ydW50aW1lVVJMKTsKLy8gbG9nLmxvZygnUDJQIC0gaXNCYWNrZW5kU2VydmljZVVSTDogJywgaXNCYWNrZW5kU2VydmljZVVSTCh1cmwpLCBpc0JhY2tlbmRTZXJ2aWNlVVJMLCB1cmwpOwovLyBsb2cubG9nKCdQMlAgLSBpbmNsdWRlcyBydW50aW1lVVJMOiAnLCB1cmwuaW5jbHVkZXMoX3RoaXMucnVudGltZVVSTCkpOwovLyBsb2cubG9nKCdQMlAgLSBpbmNsdWRlcyBwMnBoYW5kbGVyOiAnLCB1cmwuaW5jbHVkZXMoJy9wMnBoYW5kbGVyLycpKTsKLy8gbG9nLmxvZygnUDJQIC0gaW5jbHVkZXMgcDJwcmVxdWVzdGVyOiAnLCB1cmwuaW5jbHVkZXMoJy9wMnByZXF1ZXN0ZXIvJykpOwovLyBTa2lwIHAycCBwcm9jZWR1cmUgd2hlbiBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBSdW50aW1lIG9yIGZvciBiYWNrZW5kIHNlcnZpY2VzCiF0LnAycEhhbmRsZXJTdHViW3QucnVudGltZVVSTF18fCgwLFMuaXNCYWNrZW5kU2VydmljZVVSTCkoaSl8fGkuaW5jbHVkZXModC5ydW50aW1lVVJMKXx8aS5pbmNsdWRlcygiL3AycGhhbmRsZXIvIil8fGkuaW5jbHVkZXMoIi9wMnByZXF1ZXN0ZXIvIik/KE8uaW5mbygiW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gLSBSZXNvbHZlIG5vcm1hbCBzdHViOiAiLHQucDJwSGFuZGxlclN0dWIsdC5ydW50aW1lVVJMLCgwLFMuaXNCYWNrZW5kU2VydmljZVVSTCkoaSksbyxpKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pKTooTy5pbmZvKCJbUmVnaXN0cnkgLSByZXNvbHZlXSAtIGNoZWNrUDJQOiAiLG8saSx0Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZSksdC5fcDJwQ29ubmVjdGlvblJlc29sdmUuY2hlY2tQMlAoZSkudGhlbihmdW5jdGlvbihuKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gcmVzb2x2ZV0gZm91bmQgcmVnaXN0ZXJlZCBQMlA6ICcsIHJlZ2lzdGVyZWRQMlApOwp2YXIgcz10LnAycENvbm5lY3Rpb25MaXN0W24ucnVudGltZV07c3dpdGNoKHN8fChzPW4sdC5wMnBDb25uZWN0aW9uTGlzdFtuLnJ1bnRpbWVdPXMpLHMuc3RhdHVzKXtjYXNlIE0uTElWRTplLmJvZHkucGVlcj1uLnJ1bnRpbWUscihzLnVybCxlKTticmVhaztjYXNlIE0uQ1JFQVRFRDovLyBwMnAgY29ubmVjdGlvbiBzZXR1cCBpcyBvbmdvaW5nLCB1c2UgTU4gU3R1YgpjYXNlIE0uUFJPR1JFU1M6dC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KTticmVhaztjYXNlIE0uRElTQ09OTkVDVEVEOgovLyBwMnAgY29ubmVjdGlvbiBzdHViIHdhcyBkaXNjb25uZWN0ZWQsIGxldCdzIGFzayB0byBjb25uZWN0IGFnYWluCk8uaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBwMnBDb25uZWN0aW9uIGlzIGRpc2Nvbm5lY3RlZCBsZXRzIHRyeSB0byByZWNvbm5lY3QiKSx0Ll9wMnBDb25uZWN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXIocykudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSB3YXMgcmVjb25uZWN0ZWQgd2l0aCBwMnBSZXF1ZXN0ZXJTdHVidDogJywgcmV0dXJuVVJMKTsKcihlKX0sZnVuY3Rpb24oZSl7Ty5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSk7YnJlYWs7ZGVmYXVsdDpPLmluZm8oIltSZWdpc3RyeSAtIHJlc29sdmVdIC0gUDJQOiAiLG8pLG8/dC5fc2V0dXBQMlBSZXF1ZXN0ZXIobikudGhlbihmdW5jdGlvbihlKXsKLy8gbm8gcDJwIGNvbm5lY3Rpb24gZXhpc3RzIGJ1dCB0aGUgbWVzc2FnZSBzZW5kZXIgaXMgYXNraW5nIG9uZS4gTGV0cyB0cnkgdG8gc2V0dXAgb25lCnIoZSl9LGZ1bmN0aW9uKGUpe08uaW5mbygiW1JlZ2lzdHJ5IC0gUmVzb2x2ZV0gLSBSZWFzb246ICIsZSksdC5yZXNvbHZlTm9ybWFsU3R1YihpKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0pOgovLyBubyBwMnAgY29ubmVjdGlvbiBleGlzdHMgYW5kIHRoZSBtZXNzYWdlIHNlbmRlciBkb2VzIG5vdCBhc2sgb25lLiBMZXRzIHVzZSB0aGUgTU4gU3R1Ygp0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfX0sZnVuY3Rpb24oZSl7Ty5pbmZvKCJbUmVnaXN0cnkgLSBSZXNvbHZlXSAtIFJlYXNvbjogIixlKSx0LnJlc29sdmVOb3JtYWxTdHViKGkpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pfSkpfSl9fSx7a2V5OiJfc2V0dXBQMlBSZXF1ZXN0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIE8ubG9nKCJbUmVnaXN0cnkuX3NldHVwUDJQQ29ubmVjdGlvbl0gbG9hZFN0dWIgd2l0aCBwMnBSZXF1ZXN0ZXI6ICIsZSksbmV3IHUuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUucnVudGltZSxvPXtyZW1vdGVSdW50aW1lVVJMOmkscDJwSGFuZGxlcjplLnAycEhhbmRsZXIscDJwUmVxdWVzdGVyU3R1YjohMH07Ci8vIGxldHMgcHJlcGFyZSB0aGUgcDJwUmVxdWVzdGVyU1R1YiBkZXBsb3ltZW50IGJ5IHNldHRpbmcgYW4gb2JzZXJ2ZXIgdG8gaXRzIHN0YXR1cyBjaGFuZ2VzCnQud2F0Y2hpbmdZb3Uub2JzZXJ2ZSgicDJwUmVxdWVzdGVyU3R1YiIsZnVuY3Rpb24oZSl7Ty5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXJTdHVicyBjaGFuZ2VkICIrdC5wMnBSZXF1ZXN0ZXJTdHViKSxlLmtleXBhdGguc3BsaXQoIi4iKVswXT09PWkmJiJzdGF0dXMiPT09ZS5uYW1lJiZlLm5ld1ZhbHVlPT09TS5MSVZFJiYoTy5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgaXMgbGl2ZSAiK3QucDJwUmVxdWVzdGVyU3R1YltpXSkscih0LnAycFJlcXVlc3RlclN0dWJbaV0udXJsKSl9KSwKLy8gIHN0dWIgbG9hZAp0LmxvYWRlci5sb2FkU3R1YihlLnAycFJlcXVlc3RlcixvKS50aGVuKGZ1bmN0aW9uKCl7Ty5sb2coIltSZWdpc3RyeS5fc2V0dXBQMlBDb25uZWN0aW9uXSBwMnBSZXF1ZXN0ZXIgZGVwbG95ZWQ6ICIsdC5wMnBSZXF1ZXN0ZXJTdHViW2ldKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToiaXNMZWdhY3kiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZnVuY3Rpb24ocixuKXtpZihlPT09dC5fZG9tYWluKXJldHVybiByKCExKTtPLmxvZygiW1JlZ2lzdHJ5XSBbUmVnaXN0cnkuUmVnaXN0cnkuaXNMZWdhY3ldICIsZSk7Ci8vIFRPRE86IHRvIGJlIGRlZmluZWQgaW4gdGhlIHJ1bnRpbWUgY29uZmlndXJhdGlvbgp2YXIgaT1bImh5cGVydHktcnVudGltZSIsImRvbWFpbiIsImdsb2JhbCIsImh5cGVydHkiXSxvPSgwLFMuZGl2aWRlVVJMKShlKTtpZigtMSE9PWkuaW5kZXhPZihvLnR5cGUpfHxvLmRvbWFpbj09PXQuX2RvbWFpbilyZXR1cm4gcighMSk7Ci8vIHByb2Nlc3MgVXNlciBVUkxzCmlmKGUuc3BsaXQoIkAiKS5sZW5ndGg+MSl7dmFyIHM9by5kb21haW47Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeV0gW1JlZ2lzdHJ5LlJlZ2lzdHJ5LmlzTGVnYWN5XSBkb21haW46ICcsIGRvbWFpbik7CmlmKHQuaWRwTGVnYWN5UHJveHlMaXN0Lmhhc093blByb3BlcnR5KHMpKXt2YXIgYT10LmlkcExlZ2FjeVByb3h5TGlzdFtzXTtyZXR1cm4gcihhLmludGVyd29ya2luZz9hLmludGVyd29ya2luZzohMSl9dC5fbG9hZGVyLmRlc2NyaXB0b3JzLmdldElkcFByb3h5RGVzY3JpcHRvcihzKS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdbUmVnaXN0cnldIFtSZWdpc3RyeS5SZWdpc3RyeS5pc0xlZ2FjeV0gTGVnYWN5IHN0dWIgZGVzY3JpcHRvcjogJywgcmVzdWx0KTsKZS5pbnRlcndvcmtpbmc/KHQuaWRwTGVnYWN5UHJveHlMaXN0W3NdPWUscihlLmludGVyd29ya2luZykpOnIoITEpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty53YXJuKCJwcm9ibGVtIGxvYWRpbmcgaWRwIHByb3h5IGRlc2NyaXB0b3IgZm9yIGRvbWFpbjoiLHMsIiBiZWNhdXNlICIsZSksbihlKX0pfWVsc2UKLy8gcHJvY2VzcyBwcm90b3N0dWIgVVJMcwpyKHQuaXNJbnRlcndvcmtpbmdQcm90b1N0dWIoZSkpfSl9fSx7a2V5OiJpc0xvY2FsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImh5cGVydHktcnVudGltZSIsInJ1bnRpbWUiXSxyPVsiaHlwZXJ0eSJdLG49ZS5zcGxpdCgiOi8vIilbMF07Ci8vIFByb2Nlc3MgUnVudGltZSBDb3JlIFVSTHMuCi8vIE1lc3NhZ2VzIG9yaWdpbmF0ZWQgZnJvbSBwcm90b3N0dWJzIHNob3VsZCBhbHNvIG5vdCBpbmNsdWRlIHRoZSBydW50aW1lVVJMIGluIGl0cyBVUkwuCmlmKC0xIT09dC5pbmRleE9mKG4pKXJldHVybiBlLmluY2x1ZGVzKHRoaXMucnVudGltZVVSTCk7Ci8vIFByb2Nlc3MgSHlwZXJ0eSBVUkxzCi8vIFRvZG86IGh5cGVydGllc0xpc3Qgc2hvdWxkIGJlIGFuIG9iamVjdCBub3QgYW4gYXJyYXkKaWYoLTEhPT1yLmluZGV4T2Yobikpe2Zvcih2YXIgaSBpbiB0aGlzLmh5cGVydGllc0xpc3Qpe2lmKHRoaXMuaHlwZXJ0aWVzTGlzdFtpXS5oeXBlcnR5VVJMPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0KLy8gUHJvY2VzcyBEYXRhIE9iamVjdCBVUkxzCmUuaW5jbHVkZXMoIi9zdWJzY3JpcHRpb24iKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIi9zdWJzY3JpcHRpb24iKSkpO3ZhciBvPXRoaXMuZGF0YU9iamVjdExpc3RbZV07cmV0dXJuISFvJiYoIW8uaW50ZXJ3b3JraW5nfHwhby5pbnRlcndvcmtpbmcpfX0se2tleToiaXNJbnRlcndvcmtpbmdQcm90b1N0dWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuImJvb2xlYW4iIT10eXBlb2YgZSYmKCEhZS5pbmNsdWRlcygiL3Byb3Rvc3R1Yi8iKSYmKDAscy5kZWZhdWx0KSh0LnByb3Rvc3R1YnNMaXN0KS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHQucHJvdG9zdHVic0xpc3Rbcl0udXJsPT09ZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hIXQucHJvdG9zdHVic0xpc3RbZV0uaGFzT3duUHJvcGVydHkoImludGVyd29ya2luZyIpJiZ0LnByb3Rvc3R1YnNMaXN0W2VdLmludGVyd29ya2luZ30pWzBdKX19LHtrZXk6ImxvYWRlciIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRlcj1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVyfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX21lc3NhZ2VCdXM9ZSx0Ll9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHQucmVnaXN0cnlVUkwsZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ1tSZWdpc3RyeSBsaXN0ZW5lcl0gJywgbXNnKTsKKDAsUy5pc0h5cGVydHlVUkwpKGUuZnJvbSksZS5ib2R5Lmhhc093blByb3BlcnR5KCJjcml0ZXJpYSIpO2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2UiKSYmIi4iIT09ZS5ib2R5LnJlc291cmNlJiYoKDAsUy5pc1VSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzVXNlclVSTCkoZS5ib2R5LnJlc291cmNlKSwoMCxTLmlzSHlwZXJ0eVVSTCkoZS5ib2R5LnJlc291cmNlKSk7ZS50eXBlO2lmKGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmKGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpLGUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgidXNlciIpKSwicmVzcG9uc2UiPT09ZS50eXBlKXJldHVybiB2b2lkIE8uZXJyb3IoIltSZWdpc3RlciBsaXN0ZW5lcl0gc2tpcHBpbmcgIixlKTsKLy8gbXNnIHNlbnQgYnkgaWRlbnRpdHkgbWFuYWdlciBsaWJyYXJ5CnZhciByPXQuX2dldElkZW50aXR5QXNzb2NpYXRlZChlLmJvZHkucmVzb3VyY2UsZS5ib2R5LmNyaXRlcmlhKSxuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIix0bzplLmZyb20sZnJvbTplLnRvLGJvZHk6e3Jlc291cmNlOnJ9fTtuLmJvZHkuY29kZT1yPzIwMDo0MDQsdC5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShuKX0pOwovLyBJbnN0YWxsIEFkZHJlc3NBbGxvY2F0aW9uCnZhciByPWIuZGVmYXVsdC5pbnN0YW5jZTt0LmFkZHJlc3NBbGxvY2F0aW9uPXJ9fV0pLFJlZ2lzdHJ5fSgpO3QuZGVmYXVsdD1rLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ0MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDQzKSxfX2VzTW9kdWxlOiEwfX0sLyogNDQzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDEyOCkscigxOTApLGUuZXhwb3J0cz1yKDE0MCkuZigiaXRlcmF0b3IiKX0sLyogNDQ0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NDUpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NDUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDQ2KSxyKDE4Mikscig0NTEpLHIoNDUyKSxlLmV4cG9ydHM9cigxMCkuU3ltYm9sfSwvKiA0NDYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjsKLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbQp2YXIgbj1yKDE3KSxpPXIoNTkpLG89cig0NSkscz1yKDIxKSxhPXIoMTg1KSx1PXIoNDQ3KS5LRVksYz1yKDY2KSxmPXIoMTM2KSxsPXIoOTcpLGQ9cig5NikscD1yKDIyKSx5PXIoMTQwKSxoPXIoMTQxKSx2PXIoNDQ4KSxnPXIoNDQ5KSxiPXIoNDEpLG09cigzNiksXz1yKDQ2KSxSPXIoMTMyKSx3PXIoNzQpLFM9cigxMzMpLFA9cig0NTApLE89cigxNDIpLE09cig0MCksaz1yKDY3KSxMPU8uZix4PU0uZixFPVAuZixBPW4uU3ltYm9sLFU9bi5KU09OLEQ9VSYmVS5zdHJpbmdpZnksST1wKCJfaGlkZGVuIiksaj1wKCJ0b1ByaW1pdGl2ZSIpLFQ9e30ucHJvcGVydHlJc0VudW1lcmFibGUsQz1mKCJzeW1ib2wtcmVnaXN0cnkiKSxGPWYoInN5bWJvbHMiKSxOPWYoIm9wLXN5bWJvbHMiKSxxPU9iamVjdC5wcm90b3R5cGUsSD0iZnVuY3Rpb24iPT10eXBlb2YgQSxCPW4uUU9iamVjdCxLPSFCfHwhQi5wcm90b3R5cGV8fCFCLnByb3RvdHlwZS5maW5kQ2hpbGQsRz1vJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPVMoeCh7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB4KHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1MKHEsdCk7biYmZGVsZXRlIHFbdF0seChlLHQsciksbiYmZSE9PXEmJngocSx0LG4pfTp4LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9RltlXT1TKEEucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LFc9SCYmInN5bWJvbCI9PXR5cGVvZiBBLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBfSxZPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXEmJlkoTix0LHIpLGIoZSksdD1SKHQsITApLGIociksaShGLHQpPyhyLmVudW1lcmFibGU/KGkoZSxJKSYmZVtJXVt0XSYmKGVbSV1bdF09ITEpLHI9UyhyLHtlbnVtZXJhYmxlOncoMCwhMSl9KSk6KGkoZSxJKXx8eChlLEksdygxLHt9KSksZVtJXVt0XT0hMCksRyhlLHQscikpOngoZSx0LHIpfSx6PWZ1bmN0aW9uKGUsdCl7YihlKTtmb3IodmFyIHIsbj12KHQ9Xyh0KSksaT0wLG89bi5sZW5ndGg7bz5pOylZKGUscj1uW2krK10sdFtyXSk7cmV0dXJuIGV9LEo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9TKGUpOnooUyhlKSx0KX0sJD1mdW5jdGlvbihlKXt2YXIgdD1ULmNhbGwodGhpcyxlPVIoZSwhMCkpO3JldHVybiEodGhpcz09PXEmJmkoRixlKSYmIWkoTixlKSkmJighKHR8fCFpKHRoaXMsZSl8fCFpKEYsZSl8fGkodGhpcyxJKSYmdGhpc1tJXVtlXSl8fHQpfSxRPWZ1bmN0aW9uKGUsdCl7aWYoZT1fKGUpLHQ9Uih0LCEwKSxlIT09cXx8IWkoRix0KXx8aShOLHQpKXt2YXIgcj1MKGUsdCk7cmV0dXJuIXJ8fCFpKEYsdCl8fGkoZSxJKSYmZVtJXVt0XXx8KHIuZW51bWVyYWJsZT0hMCkscn19LFg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9RShfKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKEYsdD1yW28rK10pfHx0PT1JfHx0PT11fHxuLnB1c2godCk7cmV0dXJuIG59LFo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PXEsbj1FKHI/TjpfKGUpKSxvPVtdLHM9MDtuLmxlbmd0aD5zOykhaShGLHQ9bltzKytdKXx8ciYmIWkocSx0KXx8by5wdXNoKEZbdF0pO3JldHVybiBvfTsKLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pCkh8fChBPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIEEpdGhyb3cgVHlwZUVycm9yKCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhIik7dmFyIGU9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksdD1mdW5jdGlvbihyKXt0aGlzPT09cSYmdC5jYWxsKE4sciksaSh0aGlzLEkpJiZpKHRoaXNbSV0sZSkmJih0aGlzW0ldW2VdPSExKSxHKHRoaXMsZSx3KDEscikpfTtyZXR1cm4gbyYmSyYmRyhxLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLFYoZSl9LGEoQS5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksTy5mPVEsTS5mPVkscigyMDIpLmY9UC5mPVgscig3OCkuZj0kLHIoMTM5KS5mPVosbyYmIXIoNzMpJiZhKHEsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwkLCEwKSx5LmY9ZnVuY3Rpb24oZSl7cmV0dXJuIFYocChlKSl9KSxzKHMuRytzLlcrcy5GKiFILHtTeW1ib2w6QX0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOylwKGVlW3RlKytdKTtmb3IodmFyIHJlPWsocC5zdG9yZSksbmU9MDtyZS5sZW5ndGg+bmU7KWgocmVbbmUrK10pO3Mocy5TK3MuRiohSCwiU3ltYm9sIix7Ci8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KQpmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoQyxlKz0iIik/Q1tlXTpDW2VdPUEoZSl9LAovLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSkKa2V5Rm9yOmZ1bmN0aW9uKGUpe2lmKCFXKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpO2Zvcih2YXIgdCBpbiBDKWlmKENbdF09PT1lKXJldHVybiB0fSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtLPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtLPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Ci8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKY3JlYXRlOkosCi8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQpkZWZpbmVQcm9wZXJ0eTpZLAovLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKQpkZWZpbmVQcm9wZXJ0aWVzOnosCi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkKZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlEsCi8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pCmdldE93blByb3BlcnR5TmFtZXM6WCwKLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKQpnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Wn0pLAovLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSkKVSYmcyhzLlMrcy5GKighSHx8YyhmdW5jdGlvbigpe3ZhciBlPUEoKTsKLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge30KLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsCi8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzCnJldHVybiJbbnVsbF0iIT1EKFtlXSl8fCJ7fSIhPUQoe2E6ZX0pfHwie30iIT1EKE9iamVjdChlKSl9KSksIkpTT04iLHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbj1bZV0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspbi5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihyPXQ9blsxXSwobSh0KXx8dm9pZCAwIT09ZSkmJiFXKGUpKS8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWQKcmV0dXJuIGcodCl8fCh0PWZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFXKHQpKXJldHVybiB0fSksblsxXT10LEQuYXBwbHkoVSxuKX19KSwKLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KQpBLnByb3RvdHlwZVtqXXx8cig1OCkoQS5wcm90b3R5cGUsaixBLnByb3RvdHlwZS52YWx1ZU9mKSwKLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXQpsKEEsIlN5bWJvbCIpLAovLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddCmwoTWF0aCwiTWF0aCIsITApLAovLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXQpsKG4uSlNPTiwiSlNPTiIsITApfSwvKiA0NDcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoOTYpKCJtZXRhIiksaT1yKDM2KSxvPXIoNTkpLHM9cig0MCkuZixhPTAsdT1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxjPSFyKDY2KShmdW5jdGlvbigpe3JldHVybiB1KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSksZj1mdW5jdGlvbihlKXtzKGUsbix7dmFsdWU6e2k6Ik8iKyArK2EsLy8gb2JqZWN0IElECnc6e319fSl9LGw9ZnVuY3Rpb24oZSx0KXsKLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeAppZighaShlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIW8oZSxuKSl7Ci8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0CmlmKCF1KGUpKXJldHVybiJGIjsKLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGEKaWYoIXQpcmV0dXJuIkUiOwovLyBhZGQgbWlzc2luZyBtZXRhZGF0YQpmKGUpfXJldHVybiBlW25dLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighbyhlLG4pKXsKLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3QKaWYoIXUoZSkpcmV0dXJuITA7Ci8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhCmlmKCF0KXJldHVybiExOwovLyBhZGQgbWlzc2luZyBtZXRhZGF0YQpmKGUpfXJldHVybiBlW25dLnd9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGMmJnkuTkVFRCYmdShlKSYmIW8oZSxuKSYmZihlKSxlfSx5PWUuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmwsZ2V0V2VhazpkLG9uRnJlZXplOnB9fSwvKiA0NDggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9scwp2YXIgbj1yKDY3KSxpPXIoMTM5KSxvPXIoNzgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uKGUpLHI9aS5mO2lmKHIpZm9yKHZhciBzLGE9cihlKSx1PW8uZixjPTA7YS5sZW5ndGg+YzspdS5jYWxsKGUscz1hW2MrK10pJiZ0LnB1c2gocyk7cmV0dXJuIHR9fSwvKiA0NDkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KQp2YXIgbj1yKDc2KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09bihlKX19LC8qIDQ1MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3cKdmFyIG49cig0NiksaT1yKDIwMikuZixvPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gaShlKX1jYXRjaChlKXtyZXR1cm4gcy5zbGljZSgpfX07ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1vLmNhbGwoZSk/YShlKTppKG4oZSkpfX0sLyogNDUxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDE0MSkoImFzeW5jSXRlcmF0b3IiKX0sLyogNDUyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDE0MSkoIm9ic2VydmFibGUiKX0sLyogNDUzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ1NCksZS5leHBvcnRzPXIoMTApLk9iamVjdC5rZXlzfSwvKiA0NTQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTykKdmFyIG49cig3NyksaT1yKDY3KTtyKDk5KSgia2V5cyIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGkobihlKSl9fSl9LC8qIDQ1NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlNhbmRib3hUeXBlPXZvaWQgMDt2YXIgbj1yKDM3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNjApLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMSksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cigyKSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY4KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDY5KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1yKDQ2NCksYj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGcpLG09cig0NjUpLF89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChtKSxSPSh0LlNhbmRib3hUeXBlPXtBUFA6ImFwcCIsTk9STUFMOiJub3JtYWwiLFdJTkRPVzoid2luZG93In0sZnVuY3Rpb24oZSl7ZnVuY3Rpb24gU2FuZGJveChlKXsoMCxmLmRlZmF1bHQpKHRoaXMsU2FuZGJveCk7dmFyIHQ9KDAseS5kZWZhdWx0KSh0aGlzLChTYW5kYm94Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShTYW5kYm94KSkuY2FsbCh0aGlzKSkscj10O3JldHVybiBlJiYoci5jYXBhYmlsaXRpZXM9ZSksdH0vKioKICAgKiBEZXBsb3kgYW4gaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBzYW5kYm94LgogICAqIEBwYXJhbSAge3N0cmluZ30gY29tcG9uZW50U291cmNlQ29kZSBDb21wb25lbnQgc291cmNlIGNvZGUgKEh5cGVydHksIFByb3RvU3R1YiwgZXRjKQogICAqIEBwYXJhbSAge1VSTH0gY29tcG9uZW50VVJMIEh5cGVydHksIFByb3RvU3R1Yiwgb3IgYW55IG90aGVyIGNvbXBvbmVudCBhZGRyZXNzLgogICAqIEBwYXJhbSAge0NvbmZpZ30gY29uZmlndXJhdGlvbiBDb25maWcgcGFyYW1ldGVycyBvZiB0aGUgY29tcG9uZW50CiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSByZXR1cm4gZGVwbG95ZWQgaWYgc3VjY2Vzc2Z1bCwgb3IgYW55IG90aGVyIHN0cmluZyB3aXRoIGFuIGVycm9yCiAgICovCnJldHVybigwLHYuZGVmYXVsdCkoU2FuZGJveCxlKSwoMCxkLmRlZmF1bHQpKFNhbmRib3gsW3trZXk6ImRlcGxveUNvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7Ci8vIGxldCBtZXNzYWdlRmFjdG9yeSA9IF90aGlzLm1lc3NhZ2VGYWN0b3J5OwpyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLG8pewovL0ZMT1ctT1VUOiBkZXBsb3kgbWVzc2FnZSBmb3IgdGhlIGludGVybmFsIFNhbmRib3hSZWdpc3RyeSAtPiBfb25EZXBsb3kKdmFyIHM9e3R5cGU6ImNyZWF0ZSIsZnJvbTpiLmRlZmF1bHQuRXh0ZXJuYWxEZXBsb3lBZGRyZXNzLHRvOmIuZGVmYXVsdC5JbnRlcm5hbERlcGxveUFkZHJlc3MsYm9keTp7dXJsOnQsc291cmNlQ29kZTplLGNvbmZpZzpyfX07Ci8vc2VuZCBtZXNzYWdlIGludG8gdGhlIHNhbmRib3ggaW50ZXJuYWxzIGFuZCB3YWl0IGZvciByZXBseQpuLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/Ci8vaXMgdGhpcyByZXNwb25zZSBjb21wbGFpbnQgd2l0aCB0aGUgc3BlYz8KaSgiZGVwbG95ZWQiKTpvKGUuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJyZW1vdmVDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy9GTE9XLU9VVDogdW4tZGVwbG95IG1lc3NhZ2UgZm9yIHRoZSBpbnRlcm5hbCBTYW5kYm94UmVnaXN0cnkgLT4gX29uUmVtb3ZlCnZhciBpPXt0eXBlOiJkZWxldGUiLGZyb206Yi5kZWZhdWx0LkV4dGVybmFsRGVwbG95QWRkcmVzcyx0bzpiLmRlZmF1bHQuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLGJvZHk6e3VybDplfX07Ci8vc2VuZCBtZXNzYWdlIGludG8gdGhlIHNhbmRib3ggaW50ZXJuYWxzIGFuZCB3YWl0IGZvciByZXBseQp0LnBvc3RNZXNzYWdlKGksZnVuY3Rpb24oZSl7MjAwPT09ZS5ib2R5LmNvZGU/Ci8vaXMgdGhpcyByZXNwb25zZSBjb21wbGFpbnQgd2l0aCB0aGUgc3BlYz8KcigidW5kZXBsb3llZCIpOm4oZS5ib2R5LmRlc2MpfSl9KX19LHtrZXk6Im1hdGNoZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oMCxpLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4hKHQuY2FwYWJpbGl0aWVzW3JdJiZ0LmNhcGFiaWxpdGllc1tyXT09PWVbcl0pfSk7cmV0dXJuIDA9PT1yLmxlbmd0aHx8IWVbcl19fV0pLFNhbmRib3h9KF8uZGVmYXVsdCkpO3QuZGVmYXVsdD1SfSwvKiA0NTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDU3KSxlLmV4cG9ydHM9cigxMCkuT2JqZWN0LmdldFByb3RvdHlwZU9mfSwvKiA0NTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTykKdmFyIG49cig3NyksaT1yKDE4OSk7cig5OSkoImdldFByb3RvdHlwZU9mIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sLyogNDU4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NTkpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDYwKSxlLmV4cG9ydHM9cigxMCkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSwvKiA0NjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKQp2YXIgbj1yKDIxKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cig0NjEpLnNldH0pfSwvKiA0NjEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpewovLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy4KLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi8KdmFyIG49cigzNiksaT1yKDQxKSxvPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07ZS5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9Py8vIGVzbGludC1kaXNhYmxlLWxpbmUKZnVuY3Rpb24oZSx0LG4pe3RyeXtuPXIoNjUpKEZ1bmN0aW9uLmNhbGwscigxNDIpLmYoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0LDIpLG4oZSxbXSksdD0hKGUgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2goZSl7dD0hMH1yZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gbyhlLHIpLHQ/ZS5fX3Byb3RvX189cjpuKGUsciksZX19KHt9LCExKTp2b2lkIDApLGNoZWNrOm99fSwvKiA0NjIgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDYzKTt2YXIgbj1yKDEwKS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSwvKiA0NjMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMjEpOwovLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKbihuLlMsIk9iamVjdCIse2NyZWF0ZTpyKDEzMyl9KX0sLyogNDY0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpey8qIHByaXZhdGUKICBfY29tcG9uZW50czogPHVybDogaW5zdGFuY2U+CiAgKi8KZnVuY3Rpb24gU2FuZGJveFJlZ2lzdHJ5KGUpeygwLGkuZGVmYXVsdCkodGhpcyxTYW5kYm94UmVnaXN0cnkpO3ZhciB0PXRoaXM7dC5fYnVzPWUsdC5fY29tcG9uZW50cz17fSxlLmFkZExpc3RlbmVyKFNhbmRib3hSZWdpc3RyeS5JbnRlcm5hbERlcGxveUFkZHJlc3MsZnVuY3Rpb24oZSl7Ci8vY29uc29sZS5sb2coJ1NhbmRib3hSZWdpc3RyeS1SQ1Y6ICcsIG1zZyk7Ci8vIGxldCByZXNwb25zZU1zZyA9IHsKLy8gICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBTYW5kYm94UmVnaXN0cnkuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLCB0bzogU2FuZGJveFJlZ2lzdHJ5LkV4dGVybmFsRGVwbG95QWRkcmVzcwovLyB9Owpzd2l0Y2goZS50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25EZXBsb3koZSk7YnJlYWs7Y2FzZSJkZWxldGUiOnQuX29uUmVtb3ZlKGUpfX0pfXJldHVybigwLHMuZGVmYXVsdCkoU2FuZGJveFJlZ2lzdHJ5LFt7a2V5OiJfcmVzcG9uc2VNc2ciLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj17aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTpTYW5kYm94UmVnaXN0cnkuSW50ZXJuYWxEZXBsb3lBZGRyZXNzLHRvOlNhbmRib3hSZWdpc3RyeS5FeHRlcm5hbERlcGxveUFkZHJlc3N9LGk9e307Ci8vIHJldHVybiBtZXNzYWdlRmFjdG9yeS5jcmVhdGVSZXNwb25zZShtc2csIGNvZGUsIHZhbHVlKTsKcmV0dXJuIHQmJihpLmNvZGU9dCksciYmKGkuZGVzYz1yKSxuLmJvZHk9aSxufX0se2tleToiX29uRGVwbG95Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmNvbmZpZyxuPWUuYm9keS51cmwsaT1lLmJvZHkuc291cmNlQ29kZSxvPXZvaWQgMCxzPXZvaWQgMDtpZih0Ll9jb21wb25lbnRzLmhhc093blByb3BlcnR5KG4pKW89NTAwLHM9Ikluc3RhbmNlICIrbisiIGFscmVhZHkgZXhpc3QhIjtlbHNlIHRyeXt0Ll9jb21wb25lbnRzW25dPXQuX2NyZWF0ZShuLGksciksbz0yMDB9Y2F0Y2goZSl7bz01MDAscz1lfXZhciBhPXQuX3Jlc3BvbnNlTXNnKGUsbyxzKTt0Ll9idXMucG9zdE1lc3NhZ2UoYSl9fSx7a2V5OiJfb25SZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkudXJsLG49dm9pZCAwLGk9dm9pZCAwO3QuX2NvbXBvbmVudHMuaGFzT3duUHJvcGVydHkocik/KAovL3JlbW92ZSBjb21wb25lbnQgZnJvbSB0aGUgcG9vbCBhbmQgYWxsIGxpc3RlbmVycwpkZWxldGUgdC5fY29tcG9uZW50c1tyXSx0Ll9idXMucmVtb3ZlQWxsTGlzdGVuZXJzT2Yociksbj0yMDApOihuPTUwMCxpPSJJbnN0YW5jZSAiK3IrIiBkb2Vzbid0IGV4aXN0ISIpO3ZhciBvPXQuX3Jlc3BvbnNlTXNnKGUsbixpKTt0Ll9idXMucG9zdE1lc3NhZ2Uobyl9fSx7a2V5OiJfY3JlYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7fX0se2tleToiY29tcG9uZW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHN9fV0pLFNhbmRib3hSZWdpc3RyeX0oKTthLkV4dGVybmFsRGVwbG95QWRkcmVzcz0iaHlwZXJ0eS1ydW50aW1lOi8vc2FuZGJveC9leHRlcm5hbCIsYS5JbnRlcm5hbERlcGxveUFkZHJlc3M9Imh5cGVydHktcnVudGltZTovL3NhbmRib3gvaW50ZXJuYWwiLHQuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ2NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDYwKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig2OCksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig2OSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigyMDQpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIE1pbmlCdXMoKXtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsTWluaUJ1cyksKDAsZi5kZWZhdWx0KSh0aGlzLChNaW5pQnVzLl9fcHJvdG9fX3x8KDAsaS5kZWZhdWx0KShNaW5pQnVzKSkuY2FsbCh0aGlzKSl9LyoqCiAgICogUG9zdCBhIG1lc3NhZ2UgZm9yIHJvdXRpbmcuIE1lc3NhZ2UgaXMgcm91dGVkIGRpcmVjdGx5IHRvIHRoZSBleHRlcm5hbCByb3V0aW5nIF9vblBvc3RNZXNzYWdlLgogICAqIEBwYXJhbSAge01lc3NhZ2V9IGluTXNnICAgICAgICAgICAgSlNPTiB3aXRoIG1hbmRhdG9yeSBNZXNzYWdlIHN0cnVjdHVyZSB7aWQsIHR5cGUsIGZyb20sIHRvfQogICAqIEBwYXJhbSAge0NhbGxiYWNrfSByZXNwb25zZUNhbGxiYWNrIE9wdGlvbmFsIGNhbGxiYWNrIGlmIGEgcmVzcG9uc2UgaXMgZXhwZWN0ZWQgZnJvbSB0aGUgcmVxdWVzdC4gQSByZXNwb25zZSB3aWxsIGJlIGFsd2F5cyBzZW50LCBldmVuIGlmIGl0IGlzIGEgIlRpbWVvdXQiLgogICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICAgICB0aGUgTWVzc2FnZSBpZAogICAqLwpyZXR1cm4oMCxkLmRlZmF1bHQpKE1pbmlCdXMsZSksKDAsdS5kZWZhdWx0KShNaW5pQnVzLFt7a2V5OiJwb3N0TWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7Ci8vYWx3YXlzIHNlbmQgdG8gZXh0ZXJuYWwgKHRvIGNvcmUgTWVzc2FnZUJ1cykKcmV0dXJuIG4uX2dlbklkKGUpLG4uX3Jlc3BvbnNlQ2FsbGJhY2soZSx0LHIpLG4uX29uUG9zdE1lc3NhZ2UoZSksZS5pZH19LHtrZXk6Il9vbk1lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXQuX29uUmVzcG9uc2UoZSkpe3ZhciByPXQuX3N1YnNjcmlwdGlvbnNbZS50b107cj8odC5fcHVibGlzaE9uKHIsZSksZS50by5zdGFydHNXaXRoKCJoeXBlcnR5Iil8fHQuX3B1Ymxpc2hPbkRlZmF1bHQoZSkpOnQuX3B1Ymxpc2hPbkRlZmF1bHQoZSl9fX1dKSxNaW5pQnVzfSh5LmRlZmF1bHQpOy8qKgogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IElORVNDLUlECiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgUVVPQklTIE5FVFdPUktTIFNMCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0EKICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBEZXV0c2NoZSBUZWxla29tIEFHCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU4KICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgICAgICAgICAgICAgICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICAgICAgICAgICAgICAgICAgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICAgICAgICAgICAgICAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgICAgICAgICAgICAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICoqLwp0LmRlZmF1bHQ9aCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NjYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTApLGk9bi5KU09OfHwobi5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwpyZXR1cm4gaS5zdHJpbmdpZnkuYXBwbHkoaSxhcmd1bWVudHMpfX0sLyogNDY3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNjApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDY4KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY5KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDQ2OCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gSHlwZXJ0eUluc3RhbmNlKGUsdCxyLG4sbyxhLHUsYyxsLGQscCx5LGgsdixnKXsoMCxzLmRlZmF1bHQpKHRoaXMsSHlwZXJ0eUluc3RhbmNlKTt2YXIgYj0oMCxmLmRlZmF1bHQpKHRoaXMsKEh5cGVydHlJbnN0YW5jZS5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlKSkuY2FsbCh0aGlzLGUsdCxyLHAsdixnKSksbT1iO3JldHVybiBtLl9kZXNjcmlwdG9yPW4sbS5faHlwZXJ0eVVSTD1vLG0uX3VzZXI9YSxtLl9ndWlkPXUsbS5fcnVudGltZT1jLG0uX2NvbnRleHQ9bCxtLl9wMnBIYW5kbGVyPWQsbS5fZGF0YVNjaGVtZXM9eSxtLl9yZXNvdXJjZXM9aCxifXJldHVybigwLGQuZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlLGUpLCgwLHUuZGVmYXVsdCkoSHlwZXJ0eUluc3RhbmNlLFt7a2V5OiJ1c2VyIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy51c2VyPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyfX0se2tleToiaHlwZXJ0eVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlVUkx9fSx7a2V5OiJkZXNjcmlwdG9yIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzY3JpcHRvcn19LHtrZXk6Im9iamVjdE5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yLl9vYmplY3ROYW1lfX0se2tleToicDJwSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AycEhhbmRsZXJ9fSx7a2V5OiJkYXRhU2NoZW1lcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFTY2hlbWVzfX0se2tleToicmVzb3VyY2VzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzb3VyY2VzfX0se2tleToicnVudGltZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWV9fV0pLEh5cGVydHlJbnN0YW5jZX0oeS5kZWZhdWx0KTsvKioKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgQXBpemVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKi8KdC5kZWZhdWx0PWgsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDY4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlZ2lzdHJ5RGF0YU1vZGVsKGUsdCxyLG4sbyxzLGEsdSxjKXsoMCxpLmRlZmF1bHQpKHRoaXMsUmVnaXN0cnlEYXRhTW9kZWwpO3ZhciBmPXRoaXM7Zi5faWQ9ZSxmLl91cmw9dCxmLl9kZXNjcmlwdG9yVVJMPXIsZi5fc3RhcnRpbmdUaW1lPW8sZi5fbGFzdE1vZGlmaWVkPXMsZi5fc3RhdHVzPWEsZi5fc3R1YnM9dSxmLl9zdHVic0NvbmZpZ3VyYXRpb249YyxmLl9wMnBSZXF1ZXN0ZXI9bn1yZXR1cm4oMCxzLmRlZmF1bHQpKFJlZ2lzdHJ5RGF0YU1vZGVsLFt7a2V5OiJpZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToiZGVzY3JpcHRvciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3JVUkx9fSx7a2V5OiJwMnBSZXF1ZXN0ZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wMnBSZXF1ZXN0ZXJ9fSx7a2V5OiJsYXN0TW9kaWZpZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXN0TW9kaWZpZWR9fV0pLFJlZ2lzdHJ5RGF0YU1vZGVsfSgpO3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ2OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPWYuZ2V0TG9nZ2VyKCJQMlBDb25uZWN0aW9uUmVzb2x2ZSIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQMlBDb25uZWN0aW9uUmVzb2x2ZShlKXsoMCxzLmRlZmF1bHQpKHRoaXMsUDJQQ29ubmVjdGlvblJlc29sdmUpO3ZhciB0PXRoaXM7dC5fcmVnaXN0cnk9ZSx0Ll9yZW1vdGVQMlBFbnRpdGllcz17fX0vKioKICAqIFZlcmlmaWVzIGlmIHJlbW90ZSBFbnRpdHkgY2FuIGJlIHJlYWNoZWQgd2l0aCBhIFAyUCBDb25uZWN0aW9uLgogICogQHBhcmFtICB7VVJMLlVSTH0gICAgICAgIGluZm8gICAgICAgICAgIG9iamVjdCBVUkwKICAqIEByZXR1cm4ge0h5cGVydHlEYXRhT2JqZWN0SW5zdGFuY2V9ICBhZGRyZXNzVVJMICAgICByZXR1cm4gdGhlIERhdGEgT2JqZWN0IGluc3RhbmNlIHJlZ2lzdGVyZWQgVVJMLCByZXR1cm4gdW5kZWZpbmVkIG90aGVyd2lzZQogICovCnJldHVybigwLHUuZGVmYXVsdCkoUDJQQ29ubmVjdGlvblJlc29sdmUsW3trZXk6ImNoZWNrUDJQIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5oYXNPd25Qcm9wZXJ0eSgidG8iKSkKLy8gdGhyb3cgRXJyb3IoJ1RoZSBwMnAgdmVyaWZpY2F0aW9uIHdhcyBmYWlsZWQnKTsKcmV0dXJuIGkuZGVmYXVsdC5yZWplY3QoIlRoZSBwMnAgdmVyaWZpY2F0aW9uIHdhcyBmYWlsZWQiKTt2YXIgdD1lLnRvLnNwbGl0KCI6Ly8iKVswXSxyPWUudG8uc3BsaXQoIjovLyIpWzFdLnNwbGl0KCIvIilbMl0sbj12b2lkIDA7bj1yP2UudG8uc3Vic3RyaW5nKDAsZS50by5pbmRleE9mKCIvIityKSk6ZS50bzt2YXIgbz17fTtzd2l0Y2goZS5ib2R5JiZlLmJvZHkucDJwJiYoby5wMnA9ZS5ib2R5LnAycCksZS5ib2R5JiZlLmJvZHkucDJwSGFuZGxlciYmZS5ib2R5LnAycFJlcXVlc3RlciYmKG8ucDJwSGFuZGxlcj1lLmJvZHkucDJwSGFuZGxlcixvLnAycFJlcXVlc3Rlcj1lLmJvZHkucDJwUmVxdWVzdGVyLG8ucnVudGltZT1lLmJvZHkucDJwSGFuZGxlci5zcGxpdCgiL3AycGhhbmRsZXIvIilbMF0pLHQpe2Nhc2UicnVudGltZSI6cmV0dXJuIHRoaXMuY2hlY2tQMlBSdW50aW1lKG4sbyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jaGVja1AyUEVudGl0eShuLG8pfX19LHtrZXk6ImNoZWNrUDJQRW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXt2YXIgbz1yLl9yZW1vdGVQMlBFbnRpdGllc1tlXTtpZihvKW4obyk7ZWxzZSBpZih0LnJ1bnRpbWUpbih0KTtlbHNlIGlmKHQucDJwKXsKLy8gb3RoZXJ3aXNlIGxvb2sgb24gRG9tYWluIFJlZ2lzdHJ5CmwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEVudGl0eV0gLSBzZWFyY2ggaW4gRG9tYWluIFJlZ2lzdHJ5OiAiLGUpO3ZhciBzPXt0eXBlOiJyZWFkIixmcm9tOnIuX3JlZ2lzdHJ5LnJlZ2lzdHJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3IuX3JlZ2lzdHJ5Ll9kb21haW4sYm9keTp7cmVzb3VyY2U6ZX19O3IuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHMsZnVuY3Rpb24oZSl7aWYobC5sb2coIltSZWdpc3RyeSAtIGNoZWNrUDJQRW50aXR5XSBEb21haW4gUmVnaXN0cnkgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpewovL3RvZG86IHN0b3JlIHJldHJpZXZlZCBlbnRpdHkKdmFyIHQ9ZS5ib2R5LnZhbHVlO3QuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOmkoIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gSHlwZXJ0eSB3aXRoIFAyUEhhbmRsZXIgbm90IGZvdW5kIixlLmJvZHkuY29kZSl9KX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUEVudGl0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUFJ1bnRpbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9OwovLyBsb29rIG9uIGxvY2FsbHkgc3RvcmVkIHAycCBjb25uZWN0aW9ucwpyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe3IuX3JlZ2lzdHJ5LnAycENvbm5lY3Rpb25MaXN0W2VdP2koe3J1bnRpbWU6ZX0pOnQucnVudGltZT8obj10LGkobikpOm8oIltSZWdpc3RyeS5QMlBDb25uZWN0aW9uUmVzb2x2ZS5jaGVja1AyUFJ1bnRpbWVdIE5vIFAyUCBDb25uZWN0aW9uIGZvdW5kIHRvICIsZSl9KX19LHtrZXk6ImNoZWNrUDJQSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89dm9pZCAwOwovLyBsb29rIG9uIGxvY2FsbHkgc3RvcmVkIGh5cGVydGllcwpmb3IodmFyIHMgaW4gci5fcmVnaXN0cnkucmVtb3RlSHlwZXJ0eUxpc3QpCi8vIHRvZG86IGNoYW5nZSB0byAiaHlwZXJ0eS51cmwiIHRvIGJlIGFsaWduZWQgd2l0aCBoeXBlcnR5IGluc3RhbmNlIGRhdGEgbW9kZWwgc3BlYwppZihvPXIuX3JlZ2lzdHJ5LnJlbW90ZUh5cGVydHlMaXN0W3NdLGwubG9nKCJbUmVnaXN0cnkgLSBjaGVja1AyUEh5cGVydHldIC0gZm9yIGVhY2ggSHlwZXJ0eTogIixvKSxvLmh5cGVydHlJRD09PWUpcmV0dXJuIHZvaWQoby5oYXNPd25Qcm9wZXJ0eSgicDJwSGFuZGxlciIpP24obyk6aSgiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gSHlwZXJ0eSBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsbykpO2lmKCFvJiZ0LnJ1bnRpbWUpbih0KTtlbHNlIGlmKCFvJiZ0LnAycCl7Ci8vIG90aGVyd2lzZSBsb29rIG9uIERvbWFpbiBSZWdpc3RyeQpsLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSAtIHNlYXJjaCBpbiBEb21haW4gUmVnaXN0cnk6ICIsbyk7dmFyIGE9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihlKXtpZihsLmxvZygiW1JlZ2lzdHJ5IC0gY2hlY2tQMlBIeXBlcnR5XSBEb21haW4gUmVnaXN0cnkgcmVwbHkiLGUpLCJ2YWx1ZSJpbiBlLmJvZHkpewovL3RvZG86IHN0b3JlIHJldHJpZXZlZCBoeXBlcnR5CnZhciB0PWUuYm9keS52YWx1ZTtyLl9yZWdpc3RyeS5yZW1vdGVIeXBlcnR5TGlzdC5wdXNoKHQpLHQuaGFzT3duUHJvcGVydHkoInAycEhhbmRsZXIiKT9uKHQpOmkoIltSZWdpc3RyeSBjaGVja1AyUEh5cGVydHldIEh5cGVydHkgZm91bmQgZG9lcyBub3Qgc3VwcG9ydCBQMlAiLGUuYm9keS52YWx1ZSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBIeXBlcnR5XSBIeXBlcnR5IHdpdGggUDJQSGFuZGxlciBub3QgZm91bmQiLGUuYm9keS5jb2RlKX0pfWVsc2UgaSgiW1JlZ2lzdHJ5IGNoZWNrUDJQSHlwZXJ0eV0gTm8gUDJQIENvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciAiLGUpfSl9fSx7a2V5OiJjaGVja1AyUERhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpewovLyBsb29rIG9uIGxvY2FsbHkgc3RvcmVkIFJlbW90ZSBEYXRhIE9iamVjdHMKdmFyIG89ci5fcmVnaXN0cnkucmVtb3RlRGF0YU9iamVjdExpc3QuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiByLl9yZWdpc3RyeS5yZW1vdGVEYXRhT2JqZWN0TGlzdFt0XS51cmw9PT1lfSk7aWYoMCE9PW8ubGVuZ3RoJiZvWzBdLnAycFJlcXVlc3RlciluKG9bMF0pO2Vsc2UgaWYoMCE9PW8ubGVuZ3RoKWkoIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIERhdGEgT2JqZWN0IGZvdW5kIGRvZXMgbm90IHN1cHBvcnQgUDJQIixvWzBdKTtlbHNlIGlmKDA9PT1vLmxlbmd0aCYmdC5ydW50aW1lKW4odCk7ZWxzZSBpZihvLmxlbmd0aCYmdC5wMnApewovLyBvdGhlcndpc2UgbG9vayBvbiBEb21haW4gUmVnaXN0cnkKLy8gbG9vayBvbiBEb21haW4gUmVnaXN0cnkKdmFyIHM9e3R5cGU6InJlYWQiLGZyb206ci5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrci5fcmVnaXN0cnkuX2RvbWFpbixib2R5OntyZXNvdXJjZTplfX07ci5fcmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXtpZihsLmxvZygiZGlzY292ZXIgZGF0YSBvYmplY3QgcGVyIHVybCByZXBseSIsZSksInZhbHVlImluIGUuYm9keSl7Ci8vdG9kbzogc3RvcmUgcmV0cmlldmVkIGh5cGVydHkKdmFyIHQ9ZS5ib2R5LnZhbHVlO3IuX3JlZ2lzdHJ5LnJlbW90ZURhdGFPYmplY3RMaXN0LnB1c2godCksdC5wMnBSZXF1ZXN0ZXI/bih0KTppKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBEYXRhIE9iamVjdCBmb3VuZCBkb2VzIG5vdCBzdXBwb3J0IFAyUCIsZS5ib2R5LnZhbHVlKX1lbHNlIGkoIltSZWdpc3RyeSBjaGVja1AyUERhdGFPYmplY3RdIG5vdCBmb3VuZCIsZS5ib2R5LmNvZGUpfSl9ZWxzZSBpKCJbUmVnaXN0cnkgY2hlY2tQMlBEYXRhT2JqZWN0XSBubyBQMlAgQ29ubmVjdGlvbiBmb3VuZCIpfSl9fSx7a2V5OiJhZGRSZW1vdGVQMlBFbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVtb3RlUDJQRW50aXRpZXNbZV09dH19LHtrZXk6InJlbW92ZVJlbW90ZVAyUEVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX3JlbW90ZVAyUEVudGl0aWVzW2VdfX0se2tleToicmVjb25uZWN0UDJQUmVxdWVzdGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gbGV0cyB0cnkgdG8gcmVjb25uZWN0IFAyUCBSZXF1ZXN0ZXIgU3R1YjogIixlKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS5ydW50aW1lLG89e3R5cGU6ImV4ZWN1dGUiLGZyb206dC5fcmVnaXN0cnkucmVnaXN0cnlVUkwsdG86ZS51cmwsYm9keTp7bWV0aG9kOiJjb25uZWN0IixwYXJhbXM6W2UucDJwSGFuZGxlcl19fTsKLy8gbGV0cyBwcmVwYXJlIHRoZSBwMnBSZXF1ZXN0ZXJTVHViIHJlY29ubmVjdCBieSBzZXR0aW5nIGFuIG9ic2VydmVyIHRvIGl0cyBzdGF0dXMgY2hhbmdlcwp0Ll9yZWdpc3RyeS53YXRjaGluZ1lvdS5vYnNlcnZlKCJwMnBSZXF1ZXN0ZXJTdHViIixmdW5jdGlvbihlKXtpZihsLmxvZygiW1AyUENvbmVuY3Rpb25SZXNvbHZlLnJlY29ubmVjdFAyUFJlcXVlc3Rlcl0gcDJwUmVxdWVzdGVyU3R1YnMgY2hhbmdlZCAiK3QuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWIpLGUua2V5cGF0aC5zcGxpdCgiLiIpWzBdPT09aSYmInN0YXR1cyI9PT1lLm5hbWUpc3dpdGNoKGUubmV3VmFsdWUpe2Nhc2UibGl2ZSI6bC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHAycFJlcXVlc3RlciBpcyBsaXZlICIrdC5fcmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1YltpXSkscih0Ll9yZWdpc3RyeS5wMnBSZXF1ZXN0ZXJTdHViW2ldLnVybCk7YnJlYWs7Y2FzZSJmYWlsZWQiOmwubG9nKCJbUDJQQ29uZW5jdGlvblJlc29sdmUucmVjb25uZWN0UDJQUmVxdWVzdGVyXSBwMnBSZXF1ZXN0ZXIgcmVjb25uZWN0IGZhaWxlZCAiK3QuX3JlZ2lzdHJ5LnAycFJlcXVlc3RlclN0dWJbaV0pLG4oIlAyUCBSZXF1ZXN0ZXIgcmVjb25uZWN0IGZhaWxlZCIpfX0pLAovLyAgc3R1YiBsb2FkCnQuX3JlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7bC5sb2coIltQMlBDb25lbmN0aW9uUmVzb2x2ZS5yZWNvbm5lY3RQMlBSZXF1ZXN0ZXJdIHJlY29ubmVjdCByZXF1ZXN0IHJlcGx5IixlKX0pfSl9fV0pLFAyUENvbm5lY3Rpb25SZXNvbHZlfSgpO3QuZGVmYXVsdD1kLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ3MCAqLwovKioqLwpmdW5jdGlvbihlLHQpewovLyAgICAgcHJveHktb2JzZXJ2ZSB2MC4wLjE4Ci8vICAgICBDb3B5cmlnaHQgKGMpIDIwMTUsIDIwMTYgU2ltb24gWS4gQmxhY2t3ZWxsLCBBbnlXaGljaFdheQovLyAgICAgTUlUIExpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwCiFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBPYnNlcnZlcihlLHQscixuLGksbyl7ZnVuY3Rpb24gZGVsaXZlcihlLG4pe2lmKGRlbGl2ZXIuZGVsYXk9biwhZGVsaXZlci5wYXVzZSYmYS5jaGFuZ2VzZXQubGVuZ3RoPjApe2lmKCFlKXt2YXIgaT1hLmNoYW5nZXNldC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIXJ8fHIuaW5kZXhPZihlLnR5cGUpPj0wfSk7aS5sZW5ndGg+MCYmdChpKX1hLmNoYW5nZXNldD1bXX19dmFyIHMsYT10aGlzOwovLyBfX29ic2VydmVyQ2FsbGJhY2tzX18gaXMgdXNlZCBhcyBhbiBpbmRleCB0byBnZXQgYXQgdGhlIHByb3h5IHdoaWNoIGlzIHRoZSBvYnNlcnZlciwgc28gd2UgY2FuIHVub2JzZXJ2ZQpyZXR1cm4gZGVsaXZlci5wYXVzZT1pLGRlbGl2ZXIuZGVsYXk9byxhLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiJfX29ic2VydmVyX18iPT09dD9hOiJ1bm9ic2VydmUiPT09dD9mdW5jdGlvbigpe3JldHVybiBPYmplY3QudW5vYnNlcnZlKGUpLGV9OiJkZWxpdmVyIj09PXQ/ZGVsaXZlcjplW3RdfSxhLnRhcmdldD1lLGEuY2hhbmdlc2V0PVtdLGEudGFyZ2V0Ll9fb2JzZXJ2ZXJDYWxsYmFja3NfX3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyQ2FsbGJhY2tzX18iLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMSx2YWx1ZTpbXX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX29ic2VydmVyc19fIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITEsdmFsdWU6W119KSksYS50YXJnZXQuX19vYnNlcnZlckNhbGxiYWNrc19fLnB1c2godCksYS50YXJnZXQuX19vYnNlcnZlcnNfXy5wdXNoKHRoaXMpLHM9bmV3IFByb3h5KGUsYSksZGVsaXZlcighMSxvKSxzfQovLyBDcmVhdGVzIGFuZCByZXR1cm5zIGEgUHJveHkgd3JhcHBpbmcgYSB0YXJnZXQgc28gdGhhdCBhbGwgY2hhbmdlcyBjYW4gYmUgdHJhcHBlZCBhbmQgZm9yd2FyZGVkIHRvCi8vIGEgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB0YWtlcyBhbiBhcnJheSBvZiBjaGFuZ2VzIGp1c3QgbGlrZSB0aGUgdHJhZGl0aW9uYWwgb3JpZ2luYWwgQ2hyb21lIE9iamVjdC5vYnNlcnZlCi8vIHtvYmplY3Q6PG9iamVjdCBjaGFuZ2VkPixuYW1lOjxmaWVsZCBjaGFuZ2VkPix0eXBlOmFkZHx1cGRhdGV8ZGVsZXRlfHJlY29uZmlndXJlfHByZXZlbnRFeHRlbnNpb25zfHNldFByb3RvdHlwZSxvbGRWYWx1ZTo8b2xkIHZhbHVlIGlmIHVwZGF0ZSB8IGRlbGV0ZT59Ci8vIFRoZSBhY2NlcHRsaXN0IGNhbiBiZSBhZGR8dXBkYXRlfGRlbGV0ZXxyZWNvbmZpZ3VyZXxwcmV2ZW50RXh0ZW5zaW9uc3xzZXRQcm90b3R5cGUuCi8vIHYgMC4wLjEwIHRvIHN1cHBvcnQgcGF1c2luZyBhbmQgcmVzdGFydGluZyBvYnNlcnZhdGlvbiB0d28gYWRkaXRpb25hbCBjb25zdHJ1Y3RvciBhcmd1bWVudHMgYXJlIGF2YWlsYWJsZSB0byBPYmplY3Qub2JzZXJ2ZToKLy8gcGF1c2FibGUgLSBjcmVhdGUgdGhlIE9ic2VydmVyIHNvIGl0IGNhbiBiZSBwYXVzZWQKLy8gcGF1c2UgLSBjcmVhdGUgb2JzZXJ2ZXIgaW4gcGF1c2VkIHN0YXRlCi8vIGlmIHBhdXNhYmxlIGlzIHRydWUgdGhlbiBhbiBhZGRpdGlvbmFsIG1ldGhvZCBkZWxpdmVyKGlnbm9yZVByZXZpb3VzKSBpcyBhdmFpbGFibGUgdG8gc3RhcnQgZGVsaXZlcnkKLy8gdG8gcGF1c2UgZGVsaXZlcnkgc2V0IGEgcHJvcGVydHkgY2FsbGVkIHBhdXNlIG9uIHRoZSBmdW5jdGlvbiBkZWxpdmVyIHRvIHRydWUKLy8gcGF1c2FibGUgaXMgb3B0aW9uYWwgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2Ygc2hhZG93aW5nIGEgcHJvcGVydHkgb3IgbWV0aG9kIG9uIGFueSBleGlzdGluZyBjb2RlIGNhbGxlZCBkZWxpdmVyCk9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgUHJveHl8fChPYnNlcnZlci5wcm90b3R5cGUuZGVsaXZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChudWxsLCJkZWxpdmVyIil9LE9ic2VydmVyLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpey8vICwgcmVjZWl2ZXIKdmFyIG49ZVt0XSxpPXZvaWQgMD09PW4/ImFkZCI6InVwZGF0ZSI7aWYoZVt0XT1yLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYoIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoaSk+PTApKXt2YXIgbz17b2JqZWN0OmUsbmFtZTp0LHR5cGU6aX0scz0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLGE9dGhpcy5kZWxpdmVyKCk7InVwZGF0ZSI9PT1pJiYoby5vbGRWYWx1ZT1uKSx0aGlzLmNoYW5nZXNldC5wdXNoKG8pLHMmJmEoITEsIm51bWJlciI9PXR5cGVvZiBhLmRlbGF5P2EuZGVsYXk6MTApfXJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuZGVsZXRlUHJvcGVydHk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lW3RdO2lmKAovL2lmKHR5cGVvZihvbGR2YWx1ZSkhPT0idW5kZWZpbmVkIikgewpkZWxldGUgZVt0XSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoImRlbGV0ZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6ImRlbGV0ZSIsb2xkVmFsdWU6cn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX0KLy99CnJldHVybiEwfSxPYnNlcnZlci5wcm90b3R5cGUuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsciksZS5fX29ic2VydmVyc19fLmluZGV4T2YodGhpcyk+PTAmJiF0aGlzLmFjY2VwdGxpc3R8fHRoaXMuYWNjZXB0bGlzdC5pbmRleE9mKCJyZWNvbmZpZ3VyZSIpPj0wKXt2YXIgbj17b2JqZWN0OmUsbmFtZTp0LHR5cGU6InJlY29uZmlndXJlIn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLnNldFByb3RvdHlwZU9mPWZ1bmN0aW9uKGUsdCl7dmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpLGUuX19vYnNlcnZlcnNfXy5pbmRleE9mKHRoaXMpPj0wJiYhdGhpcy5hY2NlcHRsaXN0fHx0aGlzLmFjY2VwdGxpc3QuaW5kZXhPZigic2V0UHJvdG90eXBlIik+PTApe3ZhciBuPXtvYmplY3Q6ZSxuYW1lOiJfX3Byb3RvX18iLHR5cGU6InNldFByb3RvdHlwZSIsb2xkVmFsdWU6cn0saT0wPT09dGhpcy5jaGFuZ2VzZXQubGVuZ3RoLG89dGhpcy5kZWxpdmVyKCk7dGhpcy5jaGFuZ2VzZXQucHVzaChuKSxpJiZvKCExLCJudW1iZXIiPT10eXBlb2Ygby5kZWxheT9vLmRlbGF5OjEwKX1yZXR1cm4hMH0sT2JzZXJ2ZXIucHJvdG90eXBlLnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKGUpe2lmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhlKSxlLl9fb2JzZXJ2ZXJzX18uaW5kZXhPZih0aGlzKT49MCYmIXRoaXMuYWNjZXB0bGlzdHx8dGhpcy5hY2NlcHRsaXN0LmluZGV4T2YoInByZXZlbnRFeHRlbnNpb25zIik+PTApe3ZhciB0PXtvYmplY3Q6ZSx0eXBlOiJwcmV2ZW50RXh0ZW5zaW9ucyJ9LHI9MD09PXRoaXMuY2hhbmdlc2V0Lmxlbmd0aCxuPXRoaXMuZGVsaXZlcigpO3RoaXMuY2hhbmdlc2V0LnB1c2godCksciYmbighMSwibnVtYmVyIj09dHlwZW9mIG4uZGVsYXk/bi5kZWxheToxMCl9cmV0dXJuITB9LE9iamVjdC5vYnNlcnZlPWZ1bmN0aW9uKGUsdCxyLG4saSxvKXtyZXR1cm4gbmV3IE9ic2VydmVyKGUsdCxyLG4saSxvKX0sT2JqZWN0LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe2lmKGUuX19vYnNlcnZlckNhbGxiYWNrc19fKXtpZighdClyZXR1cm4gZS5fX29ic2VydmVyQ2FsbGJhY2tzX18uc3BsaWNlKDAsZS5fX29ic2VydmVyQ2FsbGJhY2tzX18ubGVuZ3RoKSx2b2lkIGUuX19vYnNlcnZlcnNfXy5zcGxpY2UoMCxlLl9fb2JzZXJ2ZXJzX18ubGVuZ3RoKTtlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dD09PXImJihlLl9fb2JzZXJ2ZXJDYWxsYmFja3NfXy5zcGxpY2UobiwxKSxkZWxldGUgZS5fX29ic2VydmVyc19fW25dLmNhbGxiYWNrLGUuX19vYnNlcnZlcnNfXy5zcGxpY2UobiwxKSl9KX19LEFycmF5Lm9ic2VydmU9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5KGUpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBBcnJheS5vYnNlcnZlciBpcyBub3QgYW4gQXJyYXkiKTtyPXJ8fFsiYWRkIiwidXBkYXRlIiwiZGVsZXRlIiwic3BsaWNlIl07dmFyIHM9bmV3IFByb3h5KGUse2dldDpmdW5jdGlvbih0LG4pe3JldHVybiJ1bm9ic2VydmUiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gZT9PYmplY3QudW5vYnNlcnZlKHQsZSk6dC51bm9ic2VydmUoKX06InNwbGljZSI9PT1uP2Z1bmN0aW9uKG4saSl7aWYoIm51bWJlciIhPXR5cGVvZiBufHwibnVtYmVyIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgdHdvIGFyZ3VtZW50cyB0byBBcnJheSBzcGxpY2UgYXJlIG5vdCBudW1iZXIsIG51bWJlciIpO3ZhciBvPXRoaXMuc2xpY2UobixuK2kpLHM9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50cy5sZW5ndGgtMjowLHU9e29iamVjdDplLHR5cGU6InNwbGljZSIsaW5kZXg6bixyZW1vdmVkOm8sYWRkZWRDb3VudDpzfTtpZih0LnNwbGljZS5hcHBseSh0LGFyZ3VtZW50cyksci5pbmRleE9mKCJzcGxpY2UiKT49MCl7dmFyIG49MD09PWEuX19vYnNlcnZlcl9fLmNoYW5nZXNldC5sZW5ndGgsYz1hLl9fb2JzZXJ2ZXJfXy5kZWxpdmVyKCk7YS5fX29ic2VydmVyX18uY2hhbmdlc2V0LnB1c2godSksbiYmYyghMSwibnVtYmVyIj09dHlwZW9mIGMuZGVsYXk/Yy5kZWxheToxMCl9fToicHVzaCI9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNwbGljZSh0aGlzLmxlbmd0aCwwLGUpfToicG9wIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5sZW5ndGgtMSwxKX06InVuc2hpZnQiPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCwwLGUpfToic2hpZnQiPT09bj9mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGljZSgwLDEpfTp0W25dfX0pLGE9T2JqZWN0Lm9ic2VydmUocyxmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ibGVuZ3RoIiE9PWUubmFtZSYmImFkZCIhPT1lLm5hbWUmJighcnx8ci5pbmRleE9mKGUudHlwZSk+PTApfSk7bi5sZW5ndGg+MCYmdChuKX0scixuLGksbyk7cmV0dXJuIGF9LEFycmF5LnVub2JzZXJ2ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVub2JzZXJ2ZSh0KX0pLE9iamVjdC5kZWVwT2JzZXJ2ZT1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gcmVvYnNlcnZlKGUscil7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihpKXtpZigoIm9iamVjdCI9PT1uKGVbaV0pfHwiYXJyYXkiPT09bihlW2ldKSkmJiFlW2ldLmhhc093blByb3BlcnR5KCJfX29ic2VydmVyc19fIikpe3ZhciBvPXIuc2xpY2UoMCk7by5wdXNoKGkpLGVbaV09T2JqZWN0LmRlZXBPYnNlcnZlKGVbaV0sdCxvKX19KX1yPXJ8fFtdO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybnt9LnRvU3RyaW5nLmNhbGwoZSkubWF0Y2goL1xzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpfTtyZXR1cm4gcmVvYnNlcnZlKGUsciksT2JqZWN0Lm9ic2VydmUoZSxmdW5jdGlvbihlKXtmdW5jdGlvbiByZWN1cnNlKGUsdCxyLGksbyl7aWYoaSBpbnN0YW5jZW9mIE9iamVjdCl7T2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihzKXtpZighcnx8cltzXSE9PWlbc10pe3ZhciBhPXImJnZvaWQgMCE9PXJbc10/cltzXTp2b2lkIDAsdT12b2lkIDA9PT1hPyJhZGQiOiJ1cGRhdGUiLGM9bysiLiIrcztuLnB1c2goe25hbWU6ZSxvYmplY3Q6dCx0eXBlOnUsb2xkVmFsdWU6YSxuZXdWYWx1ZTppW3NdLGtleXBhdGg6Y30pLHJlY3Vyc2UoZSx0LGEsaVtzXSxjKX19KX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBzPU9iamVjdC5rZXlzKHIpO3MuZm9yRWFjaChmdW5jdGlvbihzKXt2YXIgYT1udWxsPT09aT8idXBkYXRlIjoiZGVsZXRlIix1PW8rIi4iK3M7bi5wdXNoKHtuYW1lOmUsb2JqZWN0OnQsdHlwZTphLG9sZFZhbHVlOnJbc10sbmV3VmFsdWU6aSxrZXlwYXRoOnV9KSxyZWN1cnNlKGUsdCxyW3NdLHZvaWQgMCx1KX0pfX12YXIgbj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KHIubGVuZ3RoPjA/ci5qb2luKCIuIikrIi4iOiIiKStlLm5hbWU7InVwZGF0ZSIhPT1lLnR5cGUmJiJhZGQiIT09ZS50eXBlfHxyZW9ic2VydmUoZS5vYmplY3Qsciksbi5wdXNoKHtuYW1lOmUubmFtZSxvYmplY3Q6ZS5vYmplY3QsdHlwZTplLnR5cGUsb2xkVmFsdWU6ZS5vbGRWYWx1ZSxuZXdWYWx1ZTplLm9iamVjdFtlLm5hbWVdLGtleXBhdGg6dH0pLHJlY3Vyc2UoZS5uYW1lLGUub2JqZWN0LGUub2xkVmFsdWUsZS5vYmplY3RbZS5uYW1lXSx0KX0pLHQobil9KX19KCl9LC8qIDQ3MSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9cigxNDQpLHA9cigyMDYpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDc2KSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz1mLmdldExvZ2dlcigiSWRlbnRpdHlNb2R1bGUiKSxiPWZ1bmN0aW9uKCl7LyoqCiAgKiBUaGlzIGlzIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXNlIHRoZSBJZGVudGl0eSBNb2R1bGUgaXQgZG9lcyBub3QgcmVxdWlyZSBhbnkgaW5wdXQuCiAgKi8KZnVuY3Rpb24gSWRlbnRpdHlNb2R1bGUoZSx0LHIsbixpLG8peygwLHMuZGVmYXVsdCkodGhpcyxJZGVudGl0eU1vZHVsZSk7dmFyIGE9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoInJ1bnRpbWVVUkwgaXMgbWlzc2luZy4iKTtpZighcil0aHJvdyBuZXcgRXJyb3IoInN0b3JhZ2VNYW5hZ2VyIGlzIG1pc3NpbmciKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoImNyeXB0b01hbmFnZXIgaXMgbWlzc2luZyIpO2lmKCFvKXRocm93IG5ldyBFcnJvcigicnVudGltZUNhdGFsb2d1ZSBpcyBtaXNzaW5nIik7YS5fcnVudGltZVVSTD1lLGEuX3J1bnRpbWVDYXRhbG9ndWU9byxhLmRhdGFPYmplY3RzU3RvcmFnZT1uLGEuX2lkbVVSTD1hLl9ydW50aW1lVVJMKyIvaWRtIixhLl9ndWlVUkw9YS5fcnVudGltZVVSTCsiL2lkZW50aXR5LWd1aSIsYS5ydW50aW1lQ2FwYWJpbGl0aWVzPXQsYS5fZG9tYWluPSgwLGwuZGl2aWRlVVJMKShhLl9ydW50aW1lVVJMKS5kb21haW4sCi8vdG8gc3RvcmUgaXRlbXMgd2l0aCB0aGlzIGZvcm1hdDoge2lkZW50aXR5OiBpZGVudGl0eVVSTCwgdG9rZW46IHRva2VuSUR9CmEuX2lkZW50aXRpZXM9bmV3IHkuZGVmYXVsdCgiaHVtYW4iLHIpLAovLyB0byBiZSByZXZpZXdlZDogd2F0Y2hpbmdZb3UgaWRlbnRpdGllc0xpc3Qgb3IgaWRlbnRpdGllcz8KLy8gICAgX3RoaXMuaWRlbnRpdGllc0xpc3QgPSBfdGhpcy53YXRjaGluZ1lvdS53YXRjaCgnaWRlbnRpdGllc0xpc3QnLCB7fSwgdHJ1ZSk7CmEuX2NyeXB0bz1pLC8qICAgIF90aGlzLmVtYWlsc0xpc3QgPSBbXTsKICAgIGxldCBuZXdJZGVudGl0eSA9IG5ldyBJZGVudGl0eSgnZ3VpZCcsICdIVU1BTicpOwogICAgX3RoaXMuaWRlbnRpdHkgPSBuZXdJZGVudGl0eTsKICAgIF90aGlzLmN1cnJlbnRJZGVudGl0eTsKICAgIF90aGlzLmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5OyovCi8vc3RvcmVzIHRoZSBhc3NvY2lhdGlvbiBvZiB0aGUgZGF0YU9iamVjdCBhbmQgdGhlIEh5cGVydHkgcmVnaXN0ZXJlZCB3aXRoaW4KYS5kYXRhT2JqZWN0c0lkZW50aXR5PXt9LC8vIGlzIHRoaXMgbmVlZGVkPwphLl9saXN0T2ZJZHBzPVtdLAovLyB2YXJpYWJsZSB0byBrbm93IGlmIHRoZSBHVUkgaXMgZGVwbG95ZWQgdG8gY2hvb3NlIHRoZSBpZGVudGl0eS4gaWYgdGhlIHJlYWwgR1VJIGlzIG5vdCBkZXBsb3llZCwgYSBmYWtlIGd1aSBpcyBkZXBsb3llZCBpbnN0ZWFkLgphLmd1aURlcGxveWVkPSExfQovLyoqKioqKioqKioqKioqKioqKiogR0VUIEFORCBTRVQgTUVUSE9EUyAqKioqKioqKioqKioqKioqKioqCi8qKgogICogcmV0dXJuIHRoZSBtZXNzYWdlQnVzIGluIHRoaXMgUmVnaXN0cnkKICAqIEBwYXJhbSB7TWVzc2FnZUJ1c30gICAgICAgICAgIG1lc3NhZ2VCdXMKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKElkZW50aXR5TW9kdWxlLFt7a2V5OiJnZXRJZGVudGl0eSIsCi8vKioqKioqKioqKioqKioqKioqKiBJREVOVElUWSBSRUxFQVRFRCBNRVRIT0RTICoqKioqKioqKioqKioqKioqKioKLyoqCiAgICAqIGdldHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBmcm9tIGEgZ2l2ZW4gdXNlclVSTAogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICB1c2VyVVJMICAgICB1c2VyIHVybAogICAgKiBAcmV0dXJuIHtKU09OfSAgICBpZGVudGl0eSAgICBpZGVudGl0eSBidW5kbGUgZnJvbSB0aGUgdXNlclVSTAogICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaWRlbnRpdGllcy5nZXRJZGVudGl0eShlKX19LHtrZXk6ImdldElkZW50aXRpZXNUb0Nob29zZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzOwovLyAgICBsZXQgaWRlbnRpdGllcyA9IF90aGlzLmlkZW50aXRpZXMuaWRlbnRpZmllcnM7Ci8vIGxldCBpZHBzID0gWwovLyAgIHsgZG9tYWluOiAnZ29vZ2xlLmNvbScsIHR5cGU6ICdpZFRva2VuJ30sCi8vICAgeyBkb21haW46ICdtaWNyb3NvZnQuY29tJywgdHlwZTogJ2lkVG9rZW4nfSwKLy8gICB7IGRvbWFpbjogJ29yYW5nZS5mcicsIHR5cGU6ICdpZFRva2VuJ30sCi8vICAgeyBkb21haW46ICdzbGFjay5jb20nLCB0eXBlOiAnTGVnYWN5J30KLy8gXTsKLy8gdG9kbzogcmV0cmlldmUgYXZhaWxhYmxlIGlkcHMgZnJvbSBydW50aW1lIGNhdGFsb2d1ZQovLyB0b2RvOiBlbmFibGUgb2F1dGggaWRwcwovLyBsZXQgaWRwcyA9IFsKLy8gICB7IGRvbWFpbjogJ2dvb2dsZS5jb20nLCB0eXBlOiAnaWRUb2tlbicgfSwKLy8gICB7IGRvbWFpbjogJ21pY3Jvc29mdC5jb20nLCB0eXBlOiAnaWRUb2tlbicgfSwKLy8gICB7IGRvbWFpbjogJ2ZhY2Vib29rLmNvbScsIHR5cGU6ICdpZFRva2VuJyB9LAovLyAgIHsgZG9tYWluOiAnc2xhY2suY29tJywgdHlwZTogJ2lkVG9rZW4nIH0KLy8gXTsKcmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24odCl7dmFyIHI9ZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnByZWZpeCtlLl9kb21haW4rZC5ydW50aW1lQ29uZmlndXJhdGlvbi5jYXRhbG9ndWVVUkxzLmlkcFByb3h5LnN1ZmZpeDtpLmRlZmF1bHQuYWxsKFtlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoImJyb3dzZXIiKSxlLnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKV0pLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9blswXSxvPW5bMV0scz17Y29uc3RyYWludHM6e319O3MuY29uc3RyYWludHMubm9kZT1vLHMuY29uc3RyYWludHMuYnJvd3Nlcj1pLGUuX3J1bnRpbWVDYXRhbG9ndWUuZ2V0VHlwZUxpc3QocixzKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybntkb21haW46ZSx0eXBlOiJpZFRva2VuIn19KTtyZXR1cm4gZy5pbmZvKCJbSWRlbnRpdHlNb2R1bGUuZ2V0SWRlbnRpdHlBc3NlcnRpb246Z2V0SWRlbnRpdGllc1RvQ2hvb3NlXSIscixuKSxlLl9saXN0T2ZJZHBzPW4sdCh7ZGVmYXVsdElkZW50aXR5OmUuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHksaWRlbnRpdGllczplLmlkZW50aXRpZXMuaWRlbnRpdGllcyxpZHBzOm59KX0pfSl9KX19LHtrZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbih0KXtlLl9pZGVudGl0aWVzLmxvYWRJZGVudGl0aWVzKCkudGhlbihmdW5jdGlvbigpe2UuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fY3J5cHRvLmNyeXB0by5fc2hhMjU2KCgwLGwuc3RyaW5naWZ5KShyKSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj0idXNlci1ndWlkOi8vIityO2UuaWRlbnRpdGllcy5ndWlkPW4sZS5faWRlbnRpdGllcy5sb2FkQWNjZXNzVG9rZW5zKCkudGhlbihmdW5jdGlvbigpe3QoKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7fSl9KX0pfSl9fSx7a2V5OiJnZXRJZGVudGl0eUFzc2VydGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbjppZGVudGl0eUJ1bmRsZV0iLGUpO3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy9DSEVDSyB3aGV0aGVyIGlzIGJyb3dzZXIgZW52aXJvbm1lbnQgb3Igbm9kZWpzCi8vaWYgaXQgaXMgYnJvd3NlciwgdGhlbiBjcmVhdGUgYSBmYWtlIGlkZW50aXR5CnQucnVudGltZUNhcGFiaWxpdGllcy5pc0F2YWlsYWJsZSgiYnJvd3NlciIpLnRoZW4oZnVuY3Rpb24oaSl7aWYoZy5sb2coInJ1bnRpbWUgYnJvd3NlciBpZGVudGl0eSBhY3F1aXNpdGlvbiIsaSksaSkKLy90b2RvOiBvbmx5IGlkcCBzaG91bGQgYmUgbWFuZGF0b3J5IHdoZW4gaWRlbnRpdHlCdW5kbGUgZXhpc3RzCmlmKGUmJmUuaGFzT3duUHJvcGVydHkoImlkcCIpKXt2YXIgbz1lLmlkcCxzPWUuaGFzT3duUHJvcGVydHkoIm9yaWdpbiIpP2Uub3JpZ2luOiJvcmlnaW4iLGE9ZS5oYXNPd25Qcm9wZXJ0eSgiaWRIaW50Iik/ZS5pZEhpbnQ6IiI7dC5zZWxlY3RJZGVudGl0eUZvckh5cGVydHkocyxvLGEpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHlNb2R1bGVdIElkZW50aXR5IHNlbGVjdGVkIGJ5IGh5cGVydHkuIikscihlKX0sZnVuY3Rpb24oZSl7Ci8vIGlmIGl0IGdvdCBhbiBlcnJvciB0aGVuIGp1c3Qgc2VsZWN0IGlkZW50aXR5IGZyb20gR1VJCi8vIGxvZy5lcnJvcignW0lkZW50aXR5TW9kdWxlXSBDb3VsZCBub3Qgc2VsZWN0IGlkZW50aXR5IGZyb20gaHlwZXJ0eS4nKTsKdC5zZWxlY3RJZGVudGl0eUZyb21HVUkoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBieSBoeXBlcnR5LiIpLHIoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSl9KX1lbHNle2lmKHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkmJnQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkuZXhwaXJlcz4oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpKXJldHVybiByKHQuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkpO3Quc2VsZWN0SWRlbnRpdHlGcm9tR1VJKCkudGhlbihmdW5jdGlvbihlKXsvKgogICAgICAgICAgICAgICAgICBfdGhpcy5pZGVudGl0aWVzLmRlZmF1bHRJZGVudGl0eSA9IGFzc2VydGlvbi51c2VyUHJvZmlsZS51c2VyVVJMOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhc3NlcnRpb24pOwogICAgICAgICAgICAgICAgfSovCnJldHVybiBnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBJZGVudGl0eSBzZWxlY3RlZCBmcm9tIEdVSS4iKSx0LmlkZW50aXRpZXMuZGVmYXVsdElkZW50aXR5PWUudXNlclByb2ZpbGUudXNlclVSTCxyKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pfX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KSx0LnJ1bnRpbWVDYXBhYmlsaXRpZXMuaXNBdmFpbGFibGUoIm5vZGUiKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGcubG9nKCJub2RlIGlkZW50aXR5IGFjcXVpc2l0aW9uIixlKSxlKXtpZih0LmlkZW50aXRpZXMuY3VycmVudElkZW50aXR5KQovL1RPRE8gdmVyaWZ5IHdoZXRoZXIgdGhlIHRva2VuIGlzIHN0aWxsIHZhbGlkIG9yIG5vdC4KLy8gc2hvdWxkIGJlIG5lZWRlZCB0byBtYWtlIGZ1cnRoZXIgcmVxdWVzdHMsIHRvIG9idGFpbiBhIHZhbGlkIHRva2VuCnJldHVybiByKHQuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpO2cubG9nKCJnZXRJZGVudGl0eUFzc2VydGlvbiBmb3Igbm9kZWpzIik7dmFyIGk9e3R5cGU6ImlkcCIsdmFsdWU6Im5vZGVqcy1pZHAiLGNvZGU6MjAwLGF1dGg6ITF9O3QuY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyhpLnZhbHVlLCJvcmlnaW4iKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9LGZ1bmN0aW9uKGUpe24oZSl9KX19KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKCJFcnJvciBvbiBpZGVudGl0eSBhY3F1aXNpdGlvbiAiLGUpLG4oZSl9KX0pfX0se2tleToiZ2V0VXNlcnNJRHMiLHZhbHVlOmZ1bmN0aW9uKCl7LyogIGxvZy5sb2coJ1tnZXRVc2Vyc0lEczplbWFpbEZvcm1hdF0nLCBlbWFpbEZvcm1hdCk7CiAgICAgICAgbG9nLmxvZygnZ2V0VXNlcnNJRHM6ZW1haWxGb3JtYXQnLCBlbWFpbEZvcm1hdCk7CiAgICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgICBsZXQgdXNlcnMgPSBbXTsqLwovL2lmIHJlcXVlc3QgY29tZXMgd2l0aCB0aGUgZW1haWxGb3JtYXQgb3B0aW9uLCB0aGVuIGNvbnZlcnQgdXJsIHRvIGVtYWlsIGZvcm1hdAovKiAgICBsZXQgY29udmVydGVyID0gKGVtYWlsRm9ybWF0KSA/IGdldFVzZXJFbWFpbEZyb21VUkwgOiAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlOyB9OwogICAgICAgZm9yIChsZXQgaW5kZXggaW4gX3RoaXMuaWRlbnRpdGllcykgewogICAgICAgIGxldCBpZGVudGl0eSA9IF90aGlzLmlkZW50aXRpZXNbaW5kZXhdOwogICAgICAgIHVzZXJzLnB1c2goY29udmVydGVyKGlkZW50aXR5LmlkZW50aXR5KSk7CiAgICAgIH0qLwpyZXR1cm4gdGhpcy5pZGVudGl0aWVzLmlkZW50aWZpZXJzfX0se2tleToiZGVsZXRlSWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXRpZXMucmVtb3ZlSWRlbnRpdHkoZSl9fSx7a2V5OiJyZXF1ZXN0SWRlbnRpdHlUb0dVSSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkZW50aXRpZXNdIixlKSxnLmxvZygiW0lkZW50aXR5TW9kdWxlLnJlcXVlc3RJZGVudGl0eVRvR1VJOmlkcHNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7Ci8vY29uZGl0aW9uIHRvIGNoZWNrIGlmIHRoZSByZWFsIEdVSSBpcyBkZXBsb3llZC4gSWYgbm90LCBkZXBsb3lzIGEgZmFrZSBndWkKaWYoITE9PT1yLmd1aURlcGxveWVkKXt2YXIgbz1yLl9ndWlVUkwscz1uZXcgdi5kZWZhdWx0KG8sci5fbWVzc2FnZUJ1cyk7ci5ndWlGYWtlPXMsci5ndWlEZXBsb3llZD0hMH12YXIgYT17dHlwZToiY3JlYXRlIix0bzpyLl9ndWlVUkwsZnJvbTpyLl9pZG1VUkwsYm9keTp7dmFsdWU6e2lkZW50aXRpZXM6ZSxpZHBzOnR9fX0sdT1mdW5jdGlvbihlKXsKLy8gdG9kbzogdG8gcmV0dXJuIHRoZSB1c2VyIFVSTCBhbmQgbm90IHRoZSBlbWFpbCBvciBpZGVudGlmaWVyCmlmKHIuX21lc3NhZ2VCdXMucmVtb3ZlUmVzcG9uc2VMaXN0ZW5lcihyLl9pZG1VUkwsZS5pZCksMjAwPT09ZS5ib2R5LmNvZGUpe3ZhciB0PWUuYm9keTtnLmxvZygic2VsZWN0ZWRJZGVudGl0eTogIix0LnZhbHVlKSxuKHQpfWVsc2UgaSgiZXJyb3Igb24gcmVxdWVzdGluZyBhbiBpZGVudGl0eSB0byB0aGUgR1VJIil9OwovL3Bvc3RNZXNzYWdlIHdpdGggY2FsbGJhY2sgYnV0IHdpdGhvdXQgdGltZW91dAp0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLHUsITEpfWNhdGNoKGUpe2koIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6aWRwXSIsZSksZy5sb2coIltjYWxsTm9kZUpzR2VuZXJhdGVNZXRob2RzOm9yaWdpbl0iLHQpO3ZhciByPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXsKLy9kZWJ1Z2dlcjsKdmFyIG89dm9pZCAwOwovL2xldCBrZXlQYWlyID0gbm9kZUpTS2V5UGFpclBvcHVsYXRlOwovL2dlbmVyYXRlcyB0aGUgUlNBIGtleSBwYWlyCnIuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIGcubG9nKCJbY2FsbE5vZGVKc0dlbmVyYXRlTWV0aG9kczprZXldIixuKSxvPSgwLGwuc3RyaW5naWZ5KShuKSxnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHNdIE5PX1VSTCIpLHIuZ2VuZXJhdGVBc3NlcnRpb24obyx0LCJ1cmwiLGUpfSkudGhlbihmdW5jdGlvbihlKXtlP24oZSk6aSgiRXJyb3Igb24gb2J0YWluaW5nIElkZW50aXR5Iil9KS5jYXRjaChmdW5jdGlvbihlKXtnLmxvZyhlKSxpKGUpfSl9KX19LHtrZXk6ImNhbGxHZW5lcmF0ZU1ldGhvZHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zy5sb2coIltjYWxsR2VuZXJhdGVNZXRob2RzOmlkcF0iLGUpLGcubG9nKCJbY2FsbEdlbmVyYXRlTWV0aG9kczpvcmlnaW5dIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89dm9pZCAwOwovL2dlbmVyYXRlcyB0aGUgUlNBIGtleSBwYWlyCnIuX2NyeXB0by5nZXRNeVB1YmxpY0tleSgpLnRoZW4oZnVuY3Rpb24obil7Ci8vICAgICAgICB1c2Vya2V5UGFpciA9IGtleVBhaXI7CnJldHVybiBnLmxvZygiW2NhbGxOb2RlSnNHZW5lcmF0ZU1ldGhvZHM6a2V5XSIsbiksbz0oMCxsLnN0cmluZ2lmeSkobiksZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOm5vX2hpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKG8sdCwiIixlKX0pLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIHIubXlIaW50PW4sZy5sb2coImdlbmVyYXRlQXNzZXJ0aW9uOmhpbnQiKSxyLmdlbmVyYXRlQXNzZXJ0aW9uKG8sdCxuLGUpfSkudGhlbihmdW5jdGlvbihlKXtlP24oZSk6aSgiRXJyb3Igb24gb2J0YWluaW5nIElkZW50aXR5Iil9KS5jYXRjaChmdW5jdGlvbihlKXtnLmVycm9yKGUpLGkoZSl9KX0pfX0se2tleToibG9naW5TZWxlY3RlZElkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpwdWJsaWNLZXldIixlKSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpvcmlnaW5dIix0KSxnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTppZHBdIixyKSwKLy8gICAgbG9nLmxvZygnW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTprZXlQYWlyXScsIGtleVBhaXIpOwpnLmxvZygiW2xvZ2luU2VsZWN0ZWRJZGVudGl0eTpsb2dpblVybF0iLG4pO3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlXSBvcGVuUG9wdXAiKSxvLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOm59KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlfSxmdW5jdGlvbihlKXtyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoZSl9KS50aGVuKGZ1bmN0aW9uKG4pe28uc2VuZEdlbmVyYXRlTWVzc2FnZShlLHQsbixyKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlLmhhc093blByb3BlcnR5KCJhc3NlcnRpb24iKSlyZXR1cm4gZy5lcnJvcigiRXJyb3Igd2hpbGUgbG9nZ2luZyBpbiBmb3IgdGhlIHNlbGVjdGVkIGlkZW50aXR5LiIpLHMoIkNvdWxkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGFzc2VydGlvbiBmb3Igc2VsZWN0ZWQgaWRlbnRpdHkuIik7by5pZGVudGl0aWVzLmFkZEFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKGUpe2koIkxvZ2luIHdhcyBzdWNjZXNzZnVsbCIpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cygiTG9naW4gaGFzIGZhaWxlZDoiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtzKCJPbiBsb2dpblNlbGVjdGVkSWRlbnRpdHkgZnJvbSBtZXRob2Qgc2VuZEdlbmVyYXRlTWVzc2FnZSBlcnJvcjogICIrZSl9KX0pfSl9fSx7a2V5OiJzZWxlY3RJZGVudGl0eUZvckh5cGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTpvcmlnaW5dIixlKSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZHBdIix0KSxnLmxvZygiW3NlbGVjdElkZW50aXR5Rm9ySHlwZXJ0eTppZEhpbnRdIixyKTt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7Ci8vZ2VuZXJhdGVzIHRoZSBSU0Ega2V5IHBhaXIKbi5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihzKXt2YXIgYT0oMCxsLnN0cmluZ2lmeSkocyk7bi5zZW5kR2VuZXJhdGVNZXNzYWdlKGEsZSxyLHQpLnRoZW4oZnVuY3Rpb24ocil7ci5oYXNPd25Qcm9wZXJ0eSgiYXNzZXJ0aW9uIik/Ci8vIGlkZW50aXR5IHdhcyBsb2dnZWQgaW4sIGp1c3Qgc2F2ZSBpdApuLmlkZW50aXRpZXMuYWRkQXNzZXJ0aW9uKHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkocil9LGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSk6ci5oYXNPd25Qcm9wZXJ0eSgibG9naW5VcmwiKT8KLy8gaWRlbnRpdHkgd2FzIG5vdCBsb2dnZWQgaW4Kbi5sb2dpblNlbGVjdGVkSWRlbnRpdHkoYSxlLHQsci5sb2dpblVybCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9KTooCi8vIHlvdSBzaG91bGQgbmV2ZXIgZ2V0IGhlcmUsIGlmIHlvdSBkbyB0aGVuIHRoZSBJZFAgUHJveHkgaXMgbm90IHdlbGwgaW1wbGVtZW50ZWQKLy8gbG9nLmVycm9yKCdHZW5lcmF0ZUFzc2VydGlvbiByZXR1cm5lZCBpbnZhbGlkIHJlc3BvbnNlLicpOwpnLmxvZygiUHJvY2VlZGluZyBieSBsb2dnaW5nIGluLiIpLG4uY2FsbEdlbmVyYXRlTWV0aG9kcyh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5IGZyb20gbWV0aG9kIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgZXJyb3I6ICAiK2UpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBzZWxlY3RJZGVudGl0eUZvckh5cGVydHkgZnJvbSBtZXRob2QgZ2VuZXJhdGVSU0FLZXlQYWlyIGVycm9yOiAgIitlKX0pfSl9fSx7a2V5OiJzZWxlY3RJZGVudGl0eUZyb21HVUkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5zZWxlY3RJZGVudGl0eUZyb21HVUk6b3JpZ2luXSIsZSk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuZ2V0SWRlbnRpdGllc1RvQ2hvb3NlKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5yZXF1ZXN0SWRlbnRpdHlUb0dVSShlLmlkZW50aXRpZXMsZS5pZHBzKX0pLnRoZW4oZnVuY3Rpb24odCl7aWYoImlkZW50aXR5Ij09PXQudHlwZSkKLy8gIGxldCBjaG9zZW5JRCA9IGdldFVzZXJVUkxGcm9tRW1haWwodmFsdWUudmFsdWUpOwovLyBoYWNrIHdoaWxlIHRoZSB1c2VyIHVybCBpcyBub3QgcmV0dXJuZWQgZnJvbSByZXF1ZXN0SWRlbnRpdHlUb0dVSTsKLyogICAgICAgICAgbGV0IGNob3NlbklEID0gJ3VzZXI6Ly8nICsgX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkuaWRwLmRvbWFpbiArICcvJyArIHZhbHVlLnZhbHVlOwogICAgICAgICAgICAgX3RoaXMuaWRlbnRpdGllcy5kZWZhdWx0SWRlbnRpdHkgPSBfdGhpcy5pZGVudGl0aWVzLmN1cnJlbnRJZGVudGl0eTsqLwovLyByZXR1cm5zIHRoZSBpZGVudGl0eSBpbmZvIGZyb20gdGhlIGNob3NlbiBpZAovLyAgICAgICAgICBpZiAoX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkpIHJlc29sdmUoX3RoaXMuaWRlbnRpdGllcy5jdXJyZW50SWRlbnRpdHkuYXNzZXJ0aW9uKTsKci5pZGVudGl0aWVzLmlkZW50aXRpZXNbdC52YWx1ZV0/bihyLmlkZW50aXRpZXMuaWRlbnRpdGllc1t0LnZhbHVlXSk6aSgiW0lkZW50aXR5TW9kdWxlLnNlbGVjdElkZW50aXR5RnJvbUdVSV0gaWRlbnRpdHkgbm90IGZvdW5kOiAiLHQudmFsdWUpO2Vsc2V7aWYoImlkcCIhPT10LnR5cGUpcmV0dXJuIGkoImVycm9yIG9uIEdVSSByZWNlaXZlZCBtZXNzYWdlLiIpO3IuY2FsbEdlbmVyYXRlTWV0aG9kcyh0LnZhbHVlLGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSl9fSkuY2F0Y2goZnVuY3Rpb24oZSl7aSgiT24gc2VsZWN0SWRlbnRpdHlGcm9tR1VJIGZyb20gbWV0aG9kIHJlcXVlc3RJZGVudGl0eVRvR1VJIGVycm9yOiAgIitlKX0pfSl9fSx7a2V5OiJjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIix2YWx1ZTpmdW5jdGlvbihlLHQpe2cubG9nKCJbY2FsbElkZW50aXR5TW9kdWxlRnVuYzptZXRob2ROYW1lXSIsZSksZy5sb2coIltjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOnBhcmFtZXRlcnNdIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89e3R5cGU6ImV4ZWN1dGUiLHRvOnIuX2d1aVVSTCxmcm9tOnIuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDplLHBhcmFtczp0fX0scz1mdW5jdGlvbihlKXtyLl9tZXNzYWdlQnVzLnJlbW92ZVJlc3BvbnNlTGlzdGVuZXIoci5faWRtVVJMLGUuaWQpO3ZhciB0PWUuYm9keS52YWx1ZTtuKHQpfTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLHMsITEpfWNhdGNoKGUpe2koIkluIG1ldGhvZCBjYWxsSWRlbnRpdHlNb2R1bGVGdW5jIGVycm9yOiAiK2UpfX0pfX0se2tleToiZ2V0VG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmZyb20sbj1lLnRvO3JldHVybiBlLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLCJmb3J3YXJkIj09PWUudHlwZSYmKHI9ZS5ib2R5LmZyb20pLGUuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSxuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gZm9yIG1zZyAiLGUpLAovL2xvZy5sb2coJ3RvVXJsJywgdG9VcmwpOwp0LnJlZ2lzdHJ5LmlzTGVnYWN5KG4pLnRoZW4oZnVuY3Rpb24obil7Ci8vIGxvZy5sb2coJ1tJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRUb2tlbl0gaXNMRUdBQ1k6ICcsIHJlc3VsdCk7Cm4/dC5fZ2V0QWNjZXNzVG9rZW4oZSkudGhlbihmdW5jdGlvbihlKXtnLmxvZygiW0lkZW50aXR5TW9kdWxlLmdldFRva2VuXSBhY2Nlc3MgdG9rZW4gIixlKSxpKCgwLGwuZGVlcENsb25lKShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VG9rZW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2UpfSk6dC5fZ2V0VmFsaWRUb2tlbihyKS50aGVuKGZ1bmN0aW9uKGUpe2koZSl9KS5jYXRjaChmdW5jdGlvbihlKXtvKCJPbiBnZXRUb2tlbiBmcm9tIG1ldGhvZCBfZ2V0VmFsaWRUb2tlbiBlcnJvcjogIitlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7bygiT24gZ2V0VG9rZW4gZnJvbSBtZXRob2QgaXNMZWdhY3kgZXJyb3I6ICIrZSl9KX0pfX0se2tleToiZ2V0SWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5pbmZvKCJnZXRJZFRva2VuOmh5cGVydHlVUkwgIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9ZS5zcGxpdCgiOi8vIiksbz12b2lkIDA7aWYoImh5cGVydHkiPT09aVswXSl7aWYobz10LnJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKSl7dmFyIHM9dC5pZGVudGl0aWVzLmdldElkZW50aXR5KG8pO3JldHVybiBzP3Iocyk6bigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIElkZW50aXR5IG5vdCBmb3VuZCBmb3I6ICIsbyl9cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBVc2VyIG5vdCBmb3VuZCBmb3IgaHlwZXJ0eTogIixvKX0KLy8gaXQgaXMgYSBEYXRhIE9iamVjdCBVUkwKdC5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYobz10LnJlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlKSl7dmFyIGk9dC5pZGVudGl0aWVzLmdldElkZW50aXR5KG8pO3JldHVybiBpP3IoaSk6bigiW0lkZW50aXR5TW9kdWxlLmdldElkVG9rZW5dIElkZW50aXR5IG5vdCBmb3VuZCBmb3I6ICIsbyl9cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBVc2VyIG5vdCBmb3VuZCBmb3IgaHlwZXJ0eTogIixlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRJZFRva2VuXSBFcnJvcjogIixlKSxuKGUpfSl9KX19LHtrZXk6Il9nZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPWUudG8sbz12b2lkIDA7aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKSlyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHk6ICIsZSk7aWYoIWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSlyZXR1cm4gbigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gbWlzc2luZyBtYW5kYXRvcnkgbXNnIGJvZHkgdmFsdWU6ICIsZSk7aWYoIWUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgicmVzb3VyY2VzIikpcmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIG1pc3NpbmcgbWFuZGF0b3J5IG1zZyBib2R5IHZhbHVlIHJlc291cmNlczogIixlKTt2YXIgcz0oMCxsLmRpdmlkZVVSTCkoaSkuZG9tYWluO2kuaW5jbHVkZXMoInByb3Rvc3R1YiIpJiYocz1zLnJlcGxhY2Uocy5zcGxpdCgiLiIpWzBdKyIuIiwiIikpO3ZhciBhPWUuYm9keS52YWx1ZS5yZXNvdXJjZXM7dHJ5e289dC5pZGVudGl0aWVzLmdldEFjY2Vzc1Rva2VuKHMsYSl9Y2F0Y2goZSl7cmV0dXJuIG4oIltJZGVudGl0eU1vZHVsZS5fZ2V0QWNjZXNzVG9rZW5dIEFjY2VzcyBUb2tlbiBlcnJvciAiK2Vycil9aWYobyl7aWYoImluLXByb2dyZXNzIj09PW8uc3RhdHVzKXJldHVybiByKHQuX2luUHJvZ3Jlc3NBY2Nlc3NUb2tlbihzLGEpKTt2YXIgdT0oMCxsLnNlY29uZHNTaW5jZUVwb2NoKSgpO3JldHVybiBnLmxvZygiW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldEFjY2Vzc1Rva2VuXSBmb3VuZCAgQWNjZXNzIFRva2VuICIsbykscih1Pj1vLmV4cGlyZXM/dC5fZ2V0TmV3QWNjZXNzVG9rZW4ocyxhKTpvKX10Ll9nZXROZXdBY2Nlc3NUb2tlbihzLGEpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0QWNjZXNzVG9rZW5dIG5ldyBBY2Nlc3MgVG9rZW4gIixlKSxyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bigiW0lkZW50aXR5TW9kdWxlLl9nZXRBY2Nlc3NUb2tlbl0gb24gZ2V0TmV3QWNjZXNzVG9rZW4gIitlKX0pfSl9fSx7a2V5OiJfaW5Qcm9ncmVzc0FjY2Vzc1Rva2VuIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5pZGVudGl0aWVzLndhdGNoaW5nWW91Lm9ic2VydmUoImFjY2Vzc1Rva2VucyIsZnVuY3Rpb24obil7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5faW5Qcm9ncmVzc0FjY2Vzc1Rva2VuXSBhY2Nlc3NUb2tlbnMgY2hhbmdlZCAiK3IuaWRlbnRpdGllcy5hY2Nlc3NUb2tlbnMpO3ZhciBpPW4ua2V5cGF0aDtpZihpLmluY2x1ZGVzKCJzdGF0dXMiKSYmKGk9aS5yZXBsYWNlKCIuc3RhdHVzIiwiIikpLGk9PT1lJiYic3RhdHVzIj09PW4ubmFtZSYmImNyZWF0ZWQiPT09bi5uZXdWYWx1ZSkKLy8gbG9nLmxvZygnW0lkZW50aXR5LklkZW50aXR5TW9kdWxlLmdldFRva2VuXSB0b2tlbiBpcyBjcmVhdGVkICcgKyBfdGhpcy5pZGVudGl0aWVzTGlzdFtkb21haW5dKTsKcmV0dXJuIHIuaWRlbnRpdGllcy5nZXRBY2Nlc3NUb2tlbihlLHQpfSl9fSx7a2V5OiJfZ2V0TmV3QWNjZXNzVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3IuaWRlbnRpdGllcy5zZXRBY2Nlc3NUb2tlbkluUHJvZ3Jlc3MoZSk7dmFyIG89e3R5cGU6ImV4ZWN1dGUiLHRvOnIuX3Jlc29sdmVEb21haW4oZSksZnJvbTpyLl9pZG1VUkwsYm9keTp7bWV0aG9kOiJnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCIscGFyYW1zOnR9fTsKLy9sZXQncyBmaXJzdCBnZXQgdGhlIGF1dGhvcmlzYXRpb24gVVJMIGZyb20gdGhlIElkcCBQcm94eQpyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7aWYoZS5ib2R5LmNvZGU+Mjk5KXJldHVybiBpKCJbSWRlbnRpdHlNb2R1bGUuX2dldE5ld0FjY2Vzc1Rva2VuXSBFcnJvciBvbiBnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCBmcm9tIElkUCBQcm94eTogIixlLmJvZHkuZGVzYyk7Ci8vIGxldCdzIGFzayB0aGUgdXNlciBmb3IgYXV0aG9yaXNhdGlvbgpyLmNhbGxJZGVudGl0eU1vZHVsZUZ1bmMoIm9wZW5Qb3B1cCIse3VybHJlY2VpdmVkOmUuYm9keS52YWx1ZX0pLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm9wZW5Qb3B1cF0gYXVodG9yaXNhdGlvbiByZXN1bHQ6ICIsZSksby5ib2R5Lm1ldGhvZD0iZ2V0QWNjZXNzVG9rZW4iLG8uYm9keS5wYXJhbXM9e3Jlc291cmNlczp0LGxvZ2luOmV9LAovL3dpaHRvdXQgY2FsbGJhY2sgdG8gYXZvaWQgdGltZW91dCBlcnJvcnM/Ci8vIGxldCdzIGFzayBBY2Nlc3MgVG9rZW4gZnJvbSB0aGUgSWRwIFByb3h5CnIuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobyxmdW5jdGlvbihlKXtpZihlLmJvZHkuY29kZT4yOTkpcmV0dXJuIGkoIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIEVycm9yIG9uIGdldEFjY2Vzc1Rva2VuIGZyb20gSWRQIFByb3h5OiAiLGUuYm9keS5kZXNjKTtyLmlkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW4oZS5ib2R5LnZhbHVlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBnLmluZm8oIltJZGVudGl0eU1vZHVsZS5fZ2V0TmV3QWNjZXNzVG9rZW5dIHJlc29sdmluZyB0b2tlbjogIix0KSxuKGUuYm9keS52YWx1ZSl9LGZ1bmN0aW9uKGUpe2koZSl9KX0pfSxmdW5jdGlvbihlKXtpKGUpfSl9KX0pfX0se2tleToic2VuZFJlZnJlc2hNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOwovLyAgICBsZXQgZG9tYWluID0gX3RoaXMuX3Jlc29sdmVEb21haW4ob2xkSWRlbnRpdHkuaWRwKTsKLy8gICAgbGV0IG1lc3NhZ2U7Ci8vICAgIGxldCBhc3NlcnRpb24gPSBfdGhpcy5nZXRJZGVudGl0eShvbGRJZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMKTsKcmV0dXJuIGcubG9nKCJzZW5kUmVmcmVzaE1lc3NhZ2U6b2xkSWRlbnRpdHkiLGUpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgaT10Ll9yZXNvbHZlRG9tYWluKGUuaWRwKSxvPXZvaWQgMCxzPXQuZ2V0SWRlbnRpdHkoZS51c2VyUHJvZmlsZS51c2VyVVJMKTtnLmluZm8oInNlbmRSZWZyZXNoTWVzc2FnZTpvbGRJZGVudGl0eSIsZSksbz17dHlwZToiZXhlY3V0ZSIsdG86aSxmcm9tOnQuX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoicmVmcmVzaEFzc2VydGlvbiIscGFyYW1zOntpZGVudGl0eTpzfX19O3RyeXt0Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LnZhbHVlO3IodCl9KX1jYXRjaChlKXtuKCJJbiBzZW5kUmVmcmVzaE1lc3NhZ2Ugb24gcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJnZXRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2cubG9nKCJbZ2V0QWNjZXNzVG9rZW46aWRwRG9tYWluXSIsZSk7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe3ZhciBzPW4uX3Jlc29sdmVEb21haW4oZSksYT12b2lkIDA7YT17dHlwZToiZXhlY3V0ZSIsdG86cyxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoiZ2V0QWNjZXNzVG9rZW4iLHBhcmFtczp7cmVzb3VyY2VzOnQsbG9naW46cn19fTt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS52YWx1ZTtpKHQpfSl9Y2F0Y2goZSl7bygiSW4gc2VuZFJlZnJlc2hNZXNzYWdlIG9uIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zy5sb2coIltnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludDppZHBEb21haW5dIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89ci5fcmVzb2x2ZURvbWFpbih0KSxzPXZvaWQgMDtzPXt0eXBlOiJleGVjdXRlIix0bzpvLGZyb206ci5faWRtVVJMLGJvZHk6e3Jlc291cmNlOiJpZGVudGl0eSIsbWV0aG9kOiJnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCIscGFyYW1zOntyZXNvdXJjZXM6ZX19fTt0cnl7ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS52YWx1ZTtuKHQpfSl9Y2F0Y2goZSl7aSgiSW4gc2VuZFJlZnJlc2hNZXNzYWdlIG9uIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToic2VuZEdlbmVyYXRlTWVzc2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Zy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOmNvbnRlbnRzXSIsZSksZy5sb2coIltzZW5kR2VuZXJhdGVNZXNzYWdlOm9yaWdpbl0iLHQpLGcubG9nKCJbc2VuZEdlbmVyYXRlTWVzc2FnZTp1c2VybmFtZUhpbnRdIixyKSxnLmxvZygiW3NlbmRHZW5lcmF0ZU1lc3NhZ2U6aWRwRG9tYWluXSIsbiksZy5sb2coInNlbmRHZW5lcmF0ZU1lc3NhZ2VfaGludCIpO3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxzKXt2YXIgYT1vLl9yZXNvbHZlRG9tYWluKG4pLHU9dm9pZCAwO3U9e3R5cGU6ImV4ZWN1dGUiLHRvOmEsZnJvbTpvLl9pZG1VUkwsYm9keTp7cmVzb3VyY2U6ImlkZW50aXR5IixtZXRob2Q6ImdlbmVyYXRlQXNzZXJ0aW9uIixwYXJhbXM6e2NvbnRlbnRzOmUsb3JpZ2luOnQsdXNlcm5hbWVIaW50OnJ9fX07dHJ5e28uX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UodSxmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkudmFsdWU7aSh0KX0pfWNhdGNoKGUpe3MoIkluIHNlbmRSZWZyZXNoTWVzc2FnZSBvbiBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX19LHtrZXk6ImdlbmVyYXRlQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOmNvbnRlbnRzXSIsZSksZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjpvcmlnaW5dIix0KSxnLmxvZygiW2dlbmVyYXRlQXNzZXJ0aW9uOnVzZXJuYW1lSGludF0iLHIpLAovLyAgICBsb2cubG9nKCdbZ2VuZXJhdGVBc3NlcnRpb246a2V5UGFpcl0nLCBrZXlQYWlyKTsKZy5sb2coIltnZW5lcmF0ZUFzc2VydGlvbjppZHBEb21haW5dIixuKTt2YXIgbz10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGkscyl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpzZW5kR2VuZXJhdGVNZXNzYWdlOnNlbmRHZW5lcmF0ZU1lc3NhZ2VdIixyKSxvLnNlbmRHZW5lcmF0ZU1lc3NhZ2UoZSx0LHIsbikudGhlbihmdW5jdGlvbihlKXtlLmxvZ2luVXJsP28uY2FsbElkZW50aXR5TW9kdWxlRnVuYygib3BlblBvcHVwIix7dXJscmVjZWl2ZWQ6ZS5sb2dpblVybH0pLnRoZW4oZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZTpjYWxsSWRlbnRpdHlNb2R1bGVGdW5jOm9wZW5Qb3B1cF0iLHIpLGkoZSl9LGZ1bmN0aW9uKGUpe3MoZSl9KTplP28uaWRlbnRpdGllcy5hZGRBc3NlcnRpb24oZSkudGhlbihmdW5jdGlvbih0KXtpKGUpfSxmdW5jdGlvbihlKXtzKGUpfSk6cygiZXJyb3Igb24gb2J0YWluaW5nIGlkZW50aXR5IGluZm9ybWF0aW9uIil9KS5jYXRjaChmdW5jdGlvbihlKXtzKCJPbiBnZW5lcmF0ZUFzc2VydGlvbiBmcm9tIG1ldGhvZCBzZW5kR2VuZXJhdGVNZXNzYWdlIGVycm9yOiAiK2UpfSl9KX19LHtrZXk6InZhbGlkYXRlQXNzZXJ0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zy5sb2coIlt2YWxpZGF0ZUFzc2VydGlvbjphc3NlcnRpb25dIixlKSxnLmxvZygiW3ZhbGlkYXRlQXNzZXJ0aW9uOm9yaWdpbl0iLHQpLGcubG9nKCJbdmFsaWRhdGVBc3NlcnRpb246aWRwRG9tYWluXSIscik7dmFyIG49dGhpcyxvPW4uX3Jlc29sdmVEb21haW4ocikscz17dHlwZToiZXhlY3V0ZSIsdG86byxmcm9tOm4uX2lkbVVSTCxib2R5OntyZXNvdXJjZToiaWRlbnRpdHkiLG1ldGhvZDoidmFsaWRhdGVBc3NlcnRpb24iLHBhcmFtczp7YXNzZXJ0aW9uOmUsb3JpZ2luOnR9fX07cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXt0cnl7bi5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShzLGZ1bmN0aW9uKHIpezIwMD09PXIuYm9keS5jb2RlP2Uoci5ib2R5LnZhbHVlKTp0KCJlcnJvciIsci5ib2R5LmNvZGUpfSl9Y2F0Y2goZSl7dCgiT24gdmFsaWRhdGVBc3NlcnRpb24gZnJvbSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fSx7a2V5OiJhZGRHVUlMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGUuX2lkbVVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kO2cubG9nKCJbSWRlbnRpdHlNb2R1bGU6YWRkR1VJTGlzdGVuZXJzXSIsdCx0LmJvZHkscik7dmFyIG49dm9pZCAwO2lmKCJkZXBsb3lHVUkiPT09ciluPWUuZGVwbG95R1VJKCk7ZWxzZXtpZigiZ2V0SWRlbnRpdGllc1RvQ2hvb3NlIj09PXIpcmV0dXJuIHZvaWQgZS5nZXRJZGVudGl0aWVzVG9DaG9vc2UoKS50aGVuKGZ1bmN0aW9uKHIpewovLyBpZiB0aGUgZnVuY3Rpb24gcmVxdWVzdGVkIGlzIG5vdCBhIHByb21pc2UKdmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzdG9yZUlkZW50aXR5IG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KTtpZigidW5yZWdpc3RlcklkZW50aXR5Ij09PXIpe3ZhciBpPXQuYm9keS5wYXJhbXMuZW1haWw7bj1lLnVucmVnaXN0ZXJJZGVudGl0eShpKX1lbHNle2lmKCJnZXRNeVB1YmxpY0tleSI9PT1yKQovLyBiZWNhdXNlIGdlbmVyYXRlUlNBS2V5UGFpciBpcyBhIHByb21pc2UKLy8gd2UgaGF2ZSB0byBzZW5kIHRoZSBtZXNzYWdlIG9ubHkgYWZ0ZXIgZ2V0dGluZyB0aGUga2V5IHBhaXIKcmV0dXJuIHZvaWQgZS5fY3J5cHRvLmdldE15UHVibGljS2V5KCkudGhlbihmdW5jdGlvbihyKXtyPSgwLGwuc3RyaW5naWZ5KShyKTt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIGdlbmVyYXRlUlNBS2V5UGFpciBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSk7aWYoInNlbmRHZW5lcmF0ZU1lc3NhZ2UiPT09cil7dmFyIG89dC5ib2R5LnBhcmFtcy5jb250ZW50cyxzPXQuYm9keS5wYXJhbXMub3JpZ2luLGE9dC5ib2R5LnBhcmFtcy51c2VybmFtZUhpbnQsdT10LmJvZHkucGFyYW1zLmlkcERvbWFpbjtyZXR1cm4gdm9pZCBlLnNlbmRHZW5lcmF0ZU1lc3NhZ2UobyxzLGEsdSkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHNlbmRHZW5lcmF0ZU1lc3NhZ2UgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCI9PT1yKXt2YXIgYz10LmJvZHkucGFyYW1zLnNjb3BlLGY9dC5ib2R5LnBhcmFtcy5pZHBEb21haW47cmV0dXJuIHZvaWQgZS5nZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludChjLGYpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOnIsY29kZToyMDB9LGk9e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTpufTt0cnl7ZS5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShpKX1jYXRjaChlKXtnLmVycm9yKCJPbiBhZGRHVUlMaXN0ZW5lcnMgZnJvbSBpZiBzZW5kR2VuZXJhdGVNZXNzYWdlIG1ldGhvZCBwb3N0TWVzc2FnZSBlcnJvcjogIitlKX19KX1pZigiYWRkQWNjZXNzVG9rZW4iPT09cil7dmFyIGQ9dC5ib2R5LnBhcmFtcztyZXR1cm4gdm9pZCBlLmlkZW50aXRpZXMuYWRkQWNjZXNzVG9rZW4oZCkudGhlbihmdW5jdGlvbihyKXt2YXIgbj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6cixjb2RlOjIwMH0saT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5Om59O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfWlmKCJnZXRBY2Nlc3NUb2tlbiI9PT1yKXt2YXIgcD10LmJvZHkucGFyYW1zLmlkcERvbWFpbix5PXQuYm9keS5wYXJhbXMucmVzb3VyY2VzLGg9dC5ib2R5LnBhcmFtcy5sb2dpbjtyZXR1cm4gdm9pZCBlLmdldEFjY2Vzc1Rva2VuKHAseSxoKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc2VuZEdlbmVyYXRlTWVzc2FnZSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9aWYoImFkZEFzc2VydGlvbiI9PT1yKXt2YXIgdj10LmJvZHkucGFyYW1zOwovLyAgICAgICAgbGV0IGtleVBhaXIgPSBtc2cuYm9keS5wYXJhbXMua2V5UGFpcjsKcmV0dXJuIHZvaWQgZS5pZGVudGl0aWVzLmFkZEFzc2VydGlvbih2KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXt0eXBlOiJleGVjdXRlIix2YWx1ZTpyLGNvZGU6MjAwfSxpPXtpZDp0LmlkLHR5cGU6InJlc3BvbnNlIix0bzp0LmZyb20sZnJvbTp0LnRvLGJvZHk6bn07dHJ5e2UuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Zy5lcnJvcigiT24gYWRkR1VJTGlzdGVuZXJzIGZyb20gaWYgc3RvcmVJZGVudGl0eSBtZXRob2QgcG9zdE1lc3NhZ2UgZXJyb3I6ICIrZSl9fSl9fX0vKmVsc2UgaWYgKGZ1bmNOYW1lID09PSAnc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5JykgewogICAgICAgICAgbGV0IG9yaWdpbiA9IG1zZy5ib2R5LnBhcmFtcy5vcmlnaW47CiAgICAgICAgICBsZXQgaWRwID0gbXNnLmJvZHkucGFyYW1zLmlkcDsKICAgICAgICAgIGxldCBpZEhpbnQgPSBtc2cuYm9keS5wYXJhbXMuaWRIaW50OwogICAgICAgICAgX3RoaXMuc2VsZWN0SWRlbnRpdHlGb3JIeXBlcnR5KG9yaWdpbiwgaWRwLCBpZEhpbnQpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSovCi8vIGlmIHRoZSBmdW5jdGlvbiByZXF1ZXN0ZWQgaXMgbm90IGEgcHJvbWlzZQp2YXIgYj17dHlwZToiZXhlY3V0ZSIsdmFsdWU6bixjb2RlOjIwMH0sbT17aWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsdG86dC5mcm9tLGZyb206dC50byxib2R5OmJ9O3RyeXtlLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG0pfWNhdGNoKGUpe2cuZXJyb3IoIk9uIGFkZEdVSUxpc3RlbmVycyBmcm9tIGlmIHN0b3JlSWRlbnRpdHkgbWV0aG9kIHBvc3RNZXNzYWdlIGVycm9yOiAiK2UpfX0pfX0se2tleToiZGVwbG95R1VJIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3VpRGVwbG95ZWQ9ITB9fSx7a2V5OiJfZ2V0VmFsaWRUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7Zy5sb2coIltJZGVudGl0eU1vZHVsZS5fZ2V0VmFsaWRUb2tlbl06aHlwZXJ0eVVSTCIsZSk7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuZ2V0SWRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKGUpe2cubG9nKCJbSWRlbnRpdHlNb2R1bGUuX2dldFZhbGlkVG9rZW5dIHJldHJpZXZlZCBJZEFzc2VydGlvbiIsZSk7dmFyIGk9KDAsbC5zZWNvbmRzU2luY2VFcG9jaCkoKTtpZighZS5oYXNPd25Qcm9wZXJ0eSgiZXhwaXJlcyIpKXJldHVybiByKGUpO3ZhciBvPWUuZXhwaXJlczsvKiBpZiAoY29tcGxldGVJZC5oYXNPd25Qcm9wZXJ0eSgnaW5mbycpKSB7CiAgICAgICAgICAgIGlmIChjb21wbGV0ZUlkLmluZm8uaGFzT3duUHJvcGVydHkoJ2V4cGlyZXMnKSkgewogICAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlID0gY29tcGxldGVJZC5pbmZvLmV4cGlyZXM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVJZC5pbmZvLmhhc093blByb3BlcnR5KCd0b2tlbklESlNPTicpKSB7CiAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGUgPSBjb21wbGV0ZUlkLmluZm8udG9rZW5JREpTT04uZXhwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHRocm93ICdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnOwogICAgICAgICAgICAgIGxvZy5pbmZvKCdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnKTsKICAgICAgICAgICAgICByZXNvbHZlKGFzc2VydGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVJZC5oYXNPd25Qcm9wZXJ0eSgnaW5mb1Rva2VuJykgJiYgY29tcGxldGVJZC5pbmZvVG9rZW4uaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7CiAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlID0gY29tcGxldGVJZC5pbmZvVG9rZW4uZXhwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdGhyb3cgJ1RoZSBJRCBUb2tlbiBkb2VzIG5vdCBoYXZlIGFuIGV4cGlyYXRpb24gdGltZSc7CiAgICAgICAgICAgIGxvZy5pbmZvKCdUaGUgSUQgVG9rZW4gZG9lcyBub3QgaGF2ZSBhbiBleHBpcmF0aW9uIHRpbWUnKTsKICAgICAgICAgICAgcmVzb2x2ZShhc3NlcnRpb24pOwogICAgICAgICAgfSovCmcubG9nKCJbSWRlbnRpdHkuSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gVG9rZW4gZXhwaXJlcyBpbiIsbyksZy5sb2coIltJZGVudGl0eS5JZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSB0aW1lIG5vdzoiLGkpLGk+PW8/ZS5oYXNPd25Qcm9wZXJ0eSgicmVmcmVzaCIpP3Quc2VuZFJlZnJlc2hNZXNzYWdlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5pZGVudGl0aWVzLnVwZGF0ZUFzc2VydGlvbihlKS50aGVuKGZ1bmN0aW9uKCl7cihlKX0sZnVuY3Rpb24oZSl7Zy5lcnJvcigiW0lkZW50aXR5TW9kdWxlLmdldFZhbGlkVG9rZW5dIGVycm9yIHVwZGF0aW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSl9LGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciByZWZyZXNoaW5nIHRoZSBhc3NlcnRpb24gIixlKSxuKGUpfSk6Ci8vIG5vIHJlZnJlc2ggdG9rZW4gYXZhaWxhYmxlLCB1c2VyIGhhcyB0byBhdXRoZW50aWNhdGUgYWdhaW4gdG8gZ2V0IGEgbmV3IGFzc2VydGlvbgovLyBnZW5lcmF0ZSBuZXcgaWRUb2tlbgp0LmNhbGxHZW5lcmF0ZU1ldGhvZHMoZS5pZHAuZG9tYWluKS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKCJbSWRlbnRpdHlNb2R1bGUuZ2V0VmFsaWRUb2tlbl0gZXJyb3Igd2hlbiBnZW5lcmF0aW5nIGEgbmV3IGFzc2VydGlvbiAiK2UpfSk6cihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2cuZXJyb3IoIltJZGVudGl0eU1vZHVsZS5nZXRWYWxpZFRva2VuXSBlcnJvciBvbiBnZXRJZFRva2VuIixlKSxuKGUpfSl9KX19LHtrZXk6Il9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe2cuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0VVJMIixlKTt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAsbC5kaXZpZGVVUkwpKGUpLG89aS5kb21haW4scz0oMCxsLnBhcnNlTWVzc2FnZVVSTCkoZSksYT10LnJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhzKTtpZihnLmluZm8oIl9nZXRIeXBlcnR5RnJvbURhdGFPYmplY3Q6cmVwb3J0ZXJVUkwiLGEpLGEpcihhKTtlbHNlewovLyBjaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIGFzc29jaWF0aW9uIGZyb20gYW4gaHlwZXJ0eVVSTCB0byB0aGUgZGF0YU9iamVjdAp2YXIgdT10LmRhdGFPYmplY3RzSWRlbnRpdHlbc107aWYoZy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OnN0b3JlZFJlcG9ydGVyVVJMIix1KSx1KXIodSk7ZWxzZXsKLy8gY2hlY2sgaWYgdGhlcmUgaXMgYW55IGh5cGVydHkgdGhhdCBzdWJzY3JpYmVkIHRoZSBkYXRhT2JqZWN0VVJMCnZhciBjPXQucmVnaXN0cnkuZ2V0RGF0YU9iamVjdFN1YnNjcmliZXJIeXBlcnR5KGUpO2cuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpzdWJzY3JpYmVySHlwZXJ0eSIsYyksYz9yKGMpOgovLyBzZWFyY2ggaW4gZG9tYWluIHJlZ2lzdHJ5IGZvciB0aGUgaHlwZXJ0eSBhc3NvY2lhdGVkIHRvIHRoZSBkYXRhT2JqZWN0Ci8vIHNlYXJjaCBpbiBjYXNlIGlzIGEgc3Vic2NyaWJlciB3aG8gd2FudHMgdG8ga25vdyB0aGUgcmVwb3J0ZXIKLy8gVG8gYmUgcmV2aWV3ZWQgaW4gb3JkZXIgdG8gYXZvaWQgdGhlIGRpc2NvdmVyeSB0cmFuc2FjdGlvbgp0Ll9jb3JlRGlzY292ZXJ5LmRpc2NvdmVyRGF0YU9iamVjdFBlclVSTChzLG8pLnRoZW4oZnVuY3Rpb24oZSl7Zy5pbmZvKCJfZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0OmRhdGFPYmplY3QiLGUpLHQuZGF0YU9iamVjdHNJZGVudGl0eVtzXT1lLnJlcG9ydGVyLGcuaW5mbygiX2dldEh5cGVydHlGcm9tRGF0YU9iamVjdDpkYXRhT2JqZWN0LnJlcG9ydGVyIixlLnJlcG9ydGVyKSxyKGUucmVwb3J0ZXIpfSxmdW5jdGlvbihlKXtuKGUpfSl9fX0pfX0se2tleToiX3Jlc29sdmVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyJkb21haW4taWRwOi8vIitlOiJkb21haW4taWRwOi8vZ29vZ2xlLmNvbSJ9fSx7a2V5OiJtZXNzYWdlQnVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZUJ1c30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fbWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fSx7a2V5OiJjb3JlRGlzY292ZXJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZURpc2NvdmVyeX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvcmVEaXNjb3Zlcnk9ZX19LHtrZXk6InJlZ2lzdHJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVnaXN0cnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWdpc3RyeT1lfX0se2tleToiaWRlbnRpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aXRpZXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pZGVudGl0aWVzPWV9fSx7a2V5OiJpZHBzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdE9mSWRwc319XSksSWRlbnRpdHlNb2R1bGV9KCk7dC5kZWZhdWx0PWIsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDcyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0NzMpLF9fZXNNb2R1bGU6ITB9fSwvKiA0NzMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpe3IoNDc0KSxlLmV4cG9ydHM9cigxMCkuTnVtYmVyLmlzSW50ZWdlcn0sLyogNDc0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlcihudW1iZXIpCnZhciBuPXIoMjEpO24obi5TLCJOdW1iZXIiLHtpc0ludGVnZXI6cig0NzUpfSl9LC8qIDQ3NSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIDIwLjEuMi4zIE51bWJlci5pc0ludGVnZXIobnVtYmVyKQp2YXIgbj1yKDM2KSxpPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiFuKGUpJiZpc0Zpbml0ZShlKSYmaShlKT09PWV9fSwvKiA0NzYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obiksbz1yKDcpLHM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShvKSxhPXMuZ2V0TG9nZ2VyKCJJZGVudGl0eU1vZHVsZSIpLHU9ZnVuY3Rpb24gR3VpRmFrZShlLHQpeygwLGkuZGVmYXVsdCkodGhpcyxHdWlGYWtlKSxhLmxvZygiRmFrZUdVSV9kZXBsb3llZCIpO3ZhciByPXRoaXM7ci5fdXJsPWUsci5fd2FpdFRpbWU9MWU0LHIuX21lc3NhZ2VCdXM9dCxyLl9tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHIuX3VybCxmdW5jdGlvbihlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJiJjcmVhdGUiPT09ZS50eXBlJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJmUuYm9keS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgiaWRlbnRpdGllcyIpJiZlLmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoImlkcHMiKSl7dmFyIHQ9ZS5ib2R5LnZhbHVlLmlkZW50aXRpZXMsbj1lLmJvZHkudmFsdWUuaWRwcyxpPXZvaWQgMDtpPXZvaWQgMCE9PXRbMF0/e3R5cGU6ImlkZW50aXR5Iix2YWx1ZTp0WzBdLGNvZGU6MjAwfTp7dHlwZToiaWRwIix2YWx1ZTpuWzFdLmRvbWFpbixjb2RlOjIwMH07dmFyIG89e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLHRvOmUuZnJvbSxmcm9tOmUudG8sYm9keTppfTsKLy8gdG8gdGVzdCBvbiB0aGUgaWRlbnRpdHkgc2lkZSB0aGUgbGlzdGVuZXIgd2l0aG91dCB0aGUgdGltZW91dAovLyBjYW4gcmVwcmVzZW50IHRoZSB0aW1lIHRoZSB1c2VyIHRha2VzIHRvIGNob29zZSBhbmQgaWRlbnRpdHkKIndhaXQiPT09ZS5ib2R5LnZhbHVlP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8pfSxyLl93YWl0VGltZSk6ci5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvKX1lbHNlIGEubG9nKCJJZ25vcmluZyBtZXNzYWdlcyBub3QgaW50ZW5kZWQgdG8gRmFrZUdVSS4iLGUpfSl9O3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ3NyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMjA2KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1mLmdldExvZ2dlcigiSWRlbnRpdHlNYW5hZ2VyIikseT1mdW5jdGlvbigpe2Z1bmN0aW9uIElkZW50aXR5TWFuYWdlcihlKXsoMCxzLmRlZmF1bHQpKHRoaXMsSWRlbnRpdHlNYW5hZ2VyKSx0aGlzLl9pZG09ZX1yZXR1cm4oMCx1LmRlZmF1bHQpKElkZW50aXR5TWFuYWdlcixbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7Ci8vIHRoaXMuX2lkbS5pZGVudGl0aWVzLnJlc2V0KCk7CnRoaXMuX2lkbS5pZGVudGl0aWVzPW5ldyBkLmRlZmF1bHQodGhpcy5faWRtLmlkZW50aXRpZXMuX3R5cGUsdGhpcy5faWRtLmlkZW50aXRpZXMuX3N0b3JhZ2VNYW5hZ2VyKX19LHtrZXk6Il9pc1RvU2V0SUQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsiZG9tYWluLWlkcCIsInJ1bnRpbWUiLCJkb21haW4iXSxyPWUuZnJvbTtpZihlLmJvZHkmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJihyPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5Lmhhc093blByb3BlcnR5KCJzdWJzY3JpYmVyIikmJihyPWUuYm9keS5zdWJzY3JpYmVyKSwiZm9yd2FyZCI9PT1lLnR5cGUpcmV0dXJuITE7Ci8vIFNpZ25hbGxpbmcgTWVzc2FnZXMgYmV0d2VlbiBQMlAgU3R1YnMgZG9uJ3QgaGF2ZSBJZGVudGl0aWVzLiBGRlMKaWYoci5pbmNsdWRlcygiL3AycHJlcXVlc3Rlci8iKXx8ci5pbmNsdWRlcygiL3AycGhhbmRsZXIvIikpcmV0dXJuITE7dmFyIG49ci5zcGxpdCgiOi8vIiksaT1uWzBdO3JldHVybi0xPT09dC5pbmRleE9mKGkpfX0se2tleToicHJvY2Vzc01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHAubG9nKCJbSWRlbnRpdHlNYW5hZ2VyLnByb2Nlc3NNZXNzYWdlXSAiLGUpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy8gc2tpcCBtZXNzYWdlcyB0aGF0IGRvbid0IG5lZWQgaWRlbnRpdHkgdG9rZW5zIGluIHRoZSBib2R5CmlmKCF0Ll9pc1RvU2V0SUQoZSkpcmV0dXJuIHIoZSk7LyogICAgICBsZXQgZnJvbSA9IG1lc3NhZ2UuZnJvbTsKICAgICAgICBsZXQgc291cmNlVVJMID0gdW5kZWZpbmVkOwogICAgICAgIGlmICggbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnYm9keScpICYmIG1lc3NhZ2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlJykpIHsKICAgICAgICAgIGZyb20gPSBtZXNzYWdlLmJvZHkuc291cmNlOwogICAgICAgIH0KICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ2ZvcndhcmQnKSB7CiAgICAgICAgICBmcm9tID0gbWVzc2FnZS5ib2R5LmZyb207CiAgICAgICAgfQogICAgICAgICBpZiAobWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnYm9keScpICYmIG1lc3NhZ2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgnc3Vic2NyaWJlcicpKSB7CiAgICAgICAgICBmcm9tID0gbWVzc2FnZS5ib2R5LnN1YnNjcmliZXI7CiAgICAgICAgfSovCnQuX2lkbS5nZXRUb2tlbihlKS50aGVuKGZ1bmN0aW9uKHQpe2UuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8KGUuYm9keT17fSksZS5ib2R5LmlkZW50aXR5PXQscihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3AuZXJyb3IoZSksbihlKX0pfSl9fV0pLElkZW50aXR5TWFuYWdlcn0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0NzggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cig3KSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYyksbD1yKDQ3OSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig0ODApLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoNDgxKSx2PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoaCksZz0ocigxNCksZi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKCl7LyoqCiAgKiBDcmVhdGVzIGEgUG9saWN5IEVuZm9yY2VtZW50IFBvaW50IChQRVApIGluc3RhbmNlCiAgKiBAcGFyYW0gICAge09iamVjdH0gICAgY29udGV4dAogICovCmZ1bmN0aW9uIFBFUChlKXsoMCxzLmRlZmF1bHQpKHRoaXMsUEVQKTt2YXIgdD10aGlzO3QucGRwPW5ldyB5LmRlZmF1bHQoZSksdC5hY3Rpb25zU2VydmljZT1uZXcgZC5kZWZhdWx0KGUpLHQuY29udGV4dD1lLGUucGVwPXQsCi8vVE9ETyBzaG91bGQgYmUgYWRkZWQgYSB0cmlnZ2VyIHRvIHZlcmlmeSB3aGVuIHRoZSBsb2FkQ29uZmlndXJhdGlvbnMgaXMgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZAplLmxvYWRDb25maWd1cmF0aW9ucygpfS8qKgogICogcmV0dXJuIHRoZSBtZXNzYWdlQnVzIGluIHRoaXMgUmVnaXN0cnkKICAqIEBwYXJhbSB7TWVzc2FnZUJ1c30gICAgICAgICAgIG1lc3NhZ2VCdXMKICAqLwpyZXR1cm4oMCx1LmRlZmF1bHQpKFBFUCxbe2tleToiYWRkR1VJTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jb250ZXh0Lm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoZS5jb250ZXh0LnBlcFVSTCxmdW5jdGlvbih0KXt2YXIgcj10LmJvZHkubWV0aG9kLG49dm9pZCAwO2lmKCJhZGRUb0dyb3VwIj09PXIpe3ZhciBpPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLG89dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQuYWRkVG9Hcm91cChpLG8pfWVsc2UgaWYoImNyZWF0ZUdyb3VwIj09PXIpe3ZhciBzPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmNyZWF0ZUdyb3VwKHMpfWVsc2UgaWYoImFkZFBvbGljeSI9PT1yKXt2YXIgYT10LmJvZHkucGFyYW1zLnNvdXJjZSx1PXQuYm9keS5wYXJhbXMua2V5LGM9dC5ib2R5LnBhcmFtcy5wb2xpY3ksZj10LmJvZHkucGFyYW1zLmNvbWJpbmluZ0FsZ29yaXRobTtuPWUuYWRkUG9saWN5KGEsdSxjLGYpfWVsc2UgaWYoImRlbGV0ZUdyb3VwIj09PXIpe3ZhciBsPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lO249ZS5jb250ZXh0LmRlbGV0ZUdyb3VwKGwpfWVsc2UgaWYoInJlbW92ZVBvbGljeSI9PT1yKXt2YXIgZD10LmJvZHkucGFyYW1zLnNvdXJjZSxwPXQuYm9keS5wYXJhbXMua2V5O249ZS5yZW1vdmVQb2xpY3koZCxwKX1lbHNlIGlmKCJzYXZlUG9saWNpZXMiPT09cil7dmFyIHk9dC5ib2R5LnBhcmFtcy5zb3VyY2U7bj1lLmNvbnRleHQuc2F2ZVBvbGljaWVzKHkpfWVsc2UgaWYoInVzZXJQb2xpY2llcyI9PT1yKW49ZS5jb250ZXh0LnVzZXJQb2xpY2llcztlbHNlIGlmKCJhY3RpdmVVc2VyUG9saWN5Ij09PXIpe3ZhciBoPXQuYm9keS5wYXJhbXMudXNlclBvbGljeTtoJiYoZS5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9aCksbj1lLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeX1lbHNlIGlmKCJ1c2VyUG9saWN5Ij09PXIpe3ZhciB2PXQuYm9keS5wYXJhbXMua2V5O249ZS5jb250ZXh0LnVzZXJQb2xpY2llc1t2XX1lbHNlInNhdmVBY3RpdmVQb2xpY3kiPT09cj9uPWUuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCk6ImdldE15RW1haWxzIj09PXI/bj1lLmNvbnRleHQuZ2V0TXlFbWFpbHMoKToiZ2V0TXlIeXBlcnRpZXMiPT09cj9uPWUuY29udGV4dC5nZXRNeUh5cGVydGllcygpOiJncm91cHMiPT09cj9uPWUuY29udGV4dC5ncm91cHM6ImdldEdyb3Vwc05hbWVzIj09PXImJihuPWUuY29udGV4dC5nZXRHcm91cHNOYW1lcygpKTtpZigicmVtb3ZlRnJvbUdyb3VwIj09PXIpe3ZhciBnPXQuYm9keS5wYXJhbXMuZ3JvdXBOYW1lLGI9dC5ib2R5LnBhcmFtcy51c2VyRW1haWw7bj1lLmNvbnRleHQucmVtb3ZlRnJvbUdyb3VwKGcsYil9dmFyIG09e3R5cGU6ImV4ZWN1dGUiLHZhbHVlOm4sY29kZToyMDB9LF89e2lkOnQuaWQsdHlwZToicmVzcG9uc2UiLHRvOnQuZnJvbSxmcm9tOnQudG8sYm9keTptfTtlLmNvbnRleHQubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShfKX0pfX0se2tleToiYWRkUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpcyBub3QgZGVmaW5lZCIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7c3dpdGNoKHZvaWQgMD09PXI/cj1uZXcgdi5kZWZhdWx0KHQsW10sW10sbik6ciBpbnN0YW5jZW9mIHYuZGVmYXVsdHx8KHI9bmV3IHYuZGVmYXVsdChyLmtleSxyLnJ1bGVzLHIuYWN0aW9ucyxyLmNvbWJpbmluZ0FsZ29yaXRobSkpLGUpe2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6dGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlLHIsdCk7YnJlYWs7Y2FzZSJVU0VSIjp0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3RdPXIsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcyhlKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToiYXV0aG9yaXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Ci8vIGxvZy5sb2coJ1tQb2xpY3kuUEVQIEF1dGhvcmlzZV0gJywgbWVzc2FnZSk7Ci8vIGxvZy5sb2cobWVzc2FnZSk7CmlmKCFlKXRocm93IG5ldyBFcnJvcigibWVzc2FnZSBpcyBub3QgZGVmaW5lZCIpO2lmKCFlLmZyb20pdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLmZyb20gaXMgbm90IGRlZmluZWQiKTtpZighZS50byl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UudG8gaXMgbm90IGRlZmluZWQiKTtpZighZS50eXBlKXRocm93IG5ldyBFcnJvcigibWVzc2FnZS50eXBlIGlzIG5vdCBkZWZpbmVkIik7cmV0dXJuIGUuYm9keT1lLmJvZHl8fHt9LG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXtlLmJvZHk9ZS5ib2R5fHx7fTt2YXIgbz1yLHM9by5wZHAuZXZhbHVhdGVQb2xpY2llcyhlLHQpOyJOb3QgQXBwbGljYWJsZSI9PT1zJiYocz1vLmNvbnRleHQuZGVmYXVsdEJlaGF2aW91cixlLmJvZHkuYXV0aD0hMSksby5hY3Rpb25zU2VydmljZS5lbmZvcmNlUG9saWNpZXMoZSx0KS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgciBpbiB0KWlmKGU9dFtyXSxzKWUuYm9keS5hdXRoPXZvaWQgMD09PWUuYm9keS5hdXRofHxlLmJvZHkuYXV0aCxuKGUpO2Vsc2V7dmFyIG89e2JvZHk6e2NvZGU6NDAzLGRlc2NyaXB0aW9uOiJCbG9ja2VkIGJ5IHBvbGljeSJ9LGZyb206ZS50byx0bzplLmZyb20sdHlwZToicmVzcG9uc2UifTtpKG8pfX0sZnVuY3Rpb24oZSl7aShlKX0pfSl9fSx7a2V5OiJhdXRob3Jpc2VTeW5jIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGUuYm9keT1lLmJvZHl8fHt9LHQ9dGhpcy5wZHAuZXZhbHVhdGVQb2xpY2llcyhlLCEwKSwiTm90IEFwcGxpY2FibGUiPT09dCYmKHQ9dGhpcy5jb250ZXh0LmRlZmF1bHRCZWhhdmlvdXIpLHR9fSx7a2V5OiJyZW1vdmVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgaXMgbm90IGRlZmluZWQiKTtpZigiKiIhPT1lJiYhdCl0aHJvdyBuZXcgRXJyb3IoImtleSBpcyBub3QgZGVmaW5lZCIpO3N3aXRjaChlKXtjYXNlIioiOnRoaXMuY29udGV4dC5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9e30sdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llcz17fSx0aGlzLmNvbnRleHQuYWN0aXZlVXNlclBvbGljeT12b2lkIDAsdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygiVVNFUiIpLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlNFUlZJQ0VfUFJPVklERVIiKSx0aGlzLmNvbnRleHQuc2F2ZUFjdGl2ZVBvbGljeSgpO2JyZWFrO2Nhc2UiU0VSVklDRV9QUk9WSURFUiI6ZGVsZXRlIHRoaXMuY29udGV4dC5zZXJ2aWNlUHJvdmlkZXJQb2xpY3lbdF0sdGhpcy5jb250ZXh0LnNhdmVQb2xpY2llcygpO2JyZWFrO2Nhc2UiVVNFUiI6ZGVsZXRlIHRoaXMuY29udGV4dC51c2VyUG9saWNpZXNbdF0sdD09PXRoaXMuY29udGV4dC5hY3RpdmVVc2VyUG9saWN5JiYodGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3k9dm9pZCAwLHRoaXMuY29udGV4dC5zYXZlQWN0aXZlUG9saWN5KCkpLHRoaXMuY29udGV4dC5zYXZlUG9saWNpZXMoIlVTRVIiKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHBvbGljeSBzb3VyY2U6ICIrZSl9fX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvbnRleHQubWVzc2FnZUJ1cz1lLHQuYWRkR1VJTGlzdGVuZXJzKCl9fV0pLFBFUH0oKSk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDc5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWN0aW9uc1NlcnZpY2UoZSl7KDAscy5kZWZhdWx0KSh0aGlzLEFjdGlvbnNTZXJ2aWNlKSx0aGlzLmNvbnRleHQ9ZX1yZXR1cm4oMCx1LmRlZmF1bHQpKEFjdGlvbnNTZXJ2aWNlLFt7a2V5OiJlbmZvcmNlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPXIuY29udGV4dC5nZXRQb2xpY2llcyhlLHQpO3ZvaWQgMCE9PW8/dm9pZCAwIT09by5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k/by5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pOnZvaWQgMCE9PW8udXNlclBvbGljeT9vLnVzZXJQb2xpY3kuZW5mb3JjZUFjdGlvbnMoci5jb250ZXh0LGUpLnRoZW4oZnVuY3Rpb24oZSl7bihlKX0sZnVuY3Rpb24oZSl7aShlKX0pOm4oW2VdKTpuKFtlXSl9KX19LHtrZXk6ImZvcndhcmRUb0lEIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoIXIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkpdGhyb3cgbmV3IEVycm9yKCJmb3J3YXJkIG1lc3NhZ2UgdG8gZ2l2ZW4gSUQgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCIpO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7aWYoci5jb250ZXh0LnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0WzBdLmh5cGVydHlVUkw9PT1lLnRvKXsicnVudGltZSIhPT1lLnRvLnNwbGl0KCI6Ly8iKVswXT9yLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmRpc2NvdmVySHlwZXJ0eVBlclVzZXIodCkudGhlbihmdW5jdGlvbih0KXtlLnRvPXQuaHlwZXJ0eVVSTCxlLmJvZHkudmlhPXZvaWQgMCxuKGUpLHIuY29udGV4dC5ydW50aW1lUmVnaXN0cnkuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9LGZ1bmN0aW9uKGUpe2koZSl9KTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToiZm9yd2FyZFRvSHlwZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCFyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiZm9yd2FyZCBtZXNzYWdlIHRvIGdpdmVuIElEIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQiKTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuKXtpZihyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Lmh5cGVydGllc0xpc3RbMF0uaHlwZXJ0eVVSTD09PWUudG8peyJydW50aW1lIiE9PWUudG8uc3BsaXQoIjovLyIpWzBdPyhlLnRvPXQsZS5ib2R5LnZpYT12b2lkIDAsbihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpKTpuKGUpfWVsc2UgbihlKX0pfX0se2tleToic2VuZEF1dG9tYXRpY01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuKXt2YXIgaT17ZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ont2YWx1ZTp0fSx0eXBlOmUudHlwZX07bihlKSxyLmNvbnRleHQucnVudGltZVJlZ2lzdHJ5Ll9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGkpfSl9fV0pLEFjdGlvbnNTZXJ2aWNlfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4MCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNDUpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUERQKGUpeygwLGkuZGVmYXVsdCkodGhpcyxQRFApLHRoaXMuY29udGV4dD1lLHRoaXMub3BlcmF0b3JzPW5ldyB1LmRlZmF1bHR9cmV0dXJuKDAscy5kZWZhdWx0KShQRFAsW3trZXk6ImV2YWx1YXRlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5jb250ZXh0LmdldFBvbGljaWVzKGUsdCksbj0iTm90IEFwcGxpY2FibGUiO2lmKHZvaWQgMCE9PXImJigobj10aGlzLmV2YWx1YXRlUG9saWN5KGUsci5zZXJ2aWNlUHJvdmlkZXJQb2xpY3ksdCkpfHwiTm90IEFwcGxpY2FibGUiPT09bikpe3ZhciBpPXRoaXMuZXZhbHVhdGVQb2xpY3koZSxyLnVzZXJQb2xpY3ksdCk7Ik5vdCBBcHBsaWNhYmxlIiE9PWkmJihuPWkpfXJldHVybiBufX0se2tleToiZXZhbHVhdGVQb2xpY3kiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0iTm90IEFwcGxpY2FibGUiO3JldHVybiB0JiYobj10LmV2YWx1YXRlUnVsZXModGhpcy5jb250ZXh0LGUscikpLG59fV0pLFBEUH0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0ODEgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyMDcpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMjA4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDIwOSkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig0ODIpLHY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChoKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9saWN5KGUsdCxyLG4pe2lmKCgwLHMuZGVmYXVsdCkodGhpcyxQb2xpY3kpLCFlKXRocm93IG5ldyBFcnJvcigia2V5IGlzIG5vdCBkZWZpbmVkIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJhY3Rpb25zIGFyZSBub3QgZGVmaW5lZCIpO3RoaXMuYWN0aW9ucz1yLHRoaXMua2V5PWUsdGhpcy5fc2V0UnVsZXModCksdGhpcy5fc2V0Q29tYmluaW5nQWxnb3JpdGhtKG4pfXJldHVybigwLHUuZGVmYXVsdCkoUG9saWN5LFt7a2V5OiJhZGRBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5hY3Rpb25zLnB1c2goe21ldGhvZDplLHBhcmFtOnR9KX19LHtrZXk6ImNyZWF0ZVJ1bGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSl7dm9pZCAwPT09aSYmKGk9dGhpcy5nZXRMYXN0UHJpb3JpdHkoKSsxKTt2YXIgbz1uZXcgdi5kZWZhdWx0KGUsdCxyLG4saSk7dGhpcy5ydWxlcy5wdXNoKG8pfX0se2tleToiZGVsZXRlUnVsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlcy5pbmRleE9mKGUpO3RoaXMucnVsZXMuc3BsaWNlKHQsMSl9fSx7a2V5OiJlbmZvcmNlQWN0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7dmFyIHM9W107aWYoMCE9PXIuYWN0aW9ucy5sZW5ndGgpe2Zvcih2YXIgYSBpbiByLmFjdGlvbnMpe3ZhciB1PWUucGVwLmFjdGlvbnNTZXJ2aWNlW3IuYWN0aW9uc1thXS5tZXRob2RdKHQsci5hY3Rpb25zW2FdLnBhcmFtKTtzLnB1c2godSl9aS5kZWZhdWx0LmFsbChzKS50aGVuKGZ1bmN0aW9uKGUpe24oZSl9LGZ1bmN0aW9uKGUpe28oZSl9KX1lbHNlIG4oW3RdKX0pfX0se2tleToiZXZhbHVhdGVSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiB0aGlzLnJ1bGVzKW4ucHVzaCh0aGlzLnJ1bGVzW2ldLmV2YWx1YXRlKGUsdCxyKSk7cmV0dXJuIHRoaXMuY29tYmluaW5nQWxnb3JpdGhtLmNvbWJpbmUobil9fSx7a2V5OiJnZXRMYXN0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107aWYoMCE9PXRoaXMucnVsZXMubGVuZ3RoKXtmb3IodmFyIHQgaW4gdGhpcy5ydWxlcyllLnB1c2godGhpcy5ydWxlc1t0XS5wcmlvcml0eSk7cmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZSl9cmV0dXJuLTF9fSx7a2V5OiJnZXRSdWxlQnlQcmlvcml0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMucnVsZXMpaWYoU3RyaW5nKHRoaXMucnVsZXNbdF0ucHJpb3JpdHkpPT09U3RyaW5nKGUpKXJldHVybiB0aGlzLnJ1bGVzW3RdO3Rocm93IEVycm9yKCJSdWxlIHdpdGggcHJpb3JpdHkgIitlKyIgZG9lcyBub3QgZXhpc3QhIil9fSx7a2V5OiJfc2V0Q29tYmluaW5nQWxnb3JpdGhtIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2goZXx8KGU9ImJsb2NrT3ZlcnJpZGVzIiksZSl7Y2FzZSJibG9ja092ZXJyaWRlcyI6dGhpcy5jb21iaW5pbmdBbGdvcml0aG09bmV3IGQuZGVmYXVsdDticmVhaztjYXNlImFsbG93T3ZlcnJpZGVzIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgZi5kZWZhdWx0O2JyZWFrO2Nhc2UiZmlyc3RBcHBsaWNhYmxlIjp0aGlzLmNvbWJpbmluZ0FsZ29yaXRobT1uZXcgeS5kZWZhdWx0O2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gYWxnb3JpdGhtOiAiK2UpfX19LHtrZXk6Il9zZXRSdWxlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5ydWxlcz1bXTtmb3IodmFyIHQgaW4gZSl7dmFyIHI9ZVt0XTt2b2lkIDA9PT1yLnByaW9yaXR5JiYoci5wcmlvcml0eT10aGlzLmdldExhc3RQcmlvcml0eSgpKzEpLHIgaW5zdGFuY2VvZiB2LmRlZmF1bHR8fChyPW5ldyB2LmRlZmF1bHQoci5kZWNpc2lvbixyLmNvbmRpdGlvbixyLnNjb3BlLHIudGFyZ2V0LHIucHJpb3JpdHkpKSx0aGlzLnJ1bGVzLnB1c2gocil9fX0se2tleToic29ydFJ1bGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnNvcnQoZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnByaW9yaXR5LG49dC5wcmlvcml0eTtyZXR1cm4gcjxuPy0xOnI+bj8xOjB9KX19XSksUG9saWN5fSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ4MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig0ODMpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMTQ2KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDE0KSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUnVsZShlLHQscixuLG8peygwLGkuZGVmYXVsdCkodGhpcyxSdWxlKSx0aGlzLmRlY2lzaW9uPWUsdGhpcy5zZXRDb25kaXRpb24odCksdGhpcy5wcmlvcml0eT1vLHRoaXMuc2NvcGU9cix0aGlzLnRhcmdldD1ufXJldHVybigwLHMuZGVmYXVsdCkoUnVsZSxbe2tleToic2V0Q29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgZi5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0fHxlIGluc3RhbmNlb2YgdS5kZWZhdWx0KXRoaXMuY29uZGl0aW9uPWU7ZWxzZXtzd2l0Y2goZS5hdHRyaWJ1dGUpe2Nhc2Uic3Vic2NyaXB0aW9uIjp0aGlzLmNvbmRpdGlvbj1uZXcgdS5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpO2JyZWFrO2Nhc2Ugdm9pZCAwOnRoaXMuY29uZGl0aW9uPW5ldyB1LmRlZmF1bHQoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNvbmRpdGlvbj1uZXcgZi5kZWZhdWx0KGUuYXR0cmlidXRlLGUub3BlcmF0b3IsZS5wYXJhbXMpfX19fSx7a2V5OiJldmFsdWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/dC50bzp0LmZyb20saT12b2lkIDA7c3dpdGNoKHRoaXMuc2NvcGUpe2Nhc2UiZ2xvYmFsIjpicmVhaztjYXNlImh5cGVydHkiOmlmKCgwLGwuaXNEYXRhT2JqZWN0VVJMKShuKSl7dmFyIG89ZS5ydW50aW1lUmVnaXN0cnkuZ2V0UmVwb3J0ZXJVUkxTeW5jaG9ub3VzKCgwLGwucmVtb3ZlUGF0aEZyb21VUkwpKG4pKTt2b2lkIDAhPT1vJiYoaT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShvKSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYoaT1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZSgoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSkpO2lmKGk9PT10aGlzLnRhcmdldClicmVhaztyZXR1cm4iTm90IEFwcGxpY2FibGUiO2Nhc2UiaWRlbnRpdHkiOnZhciBzPXZvaWQgMDtpZigoMCxsLmlzRGF0YU9iamVjdFVSTCkobikpe3ZhciBhPWUucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cygoMCxsLnJlbW92ZVBhdGhGcm9tVVJMKShuKSk7cz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoYSl9ZWxzZSJoeXBlcnR5Ij09PW4uc3BsaXQoIjovLyIpWzBdJiYocz1lLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5T3duZXIoKDAsbC5yZW1vdmVQYXRoRnJvbVVSTCkobikpKTtpZih2b2lkIDAhPT1zJiYocz0oMCxsLmdldFVzZXJFbWFpbEZyb21VUkwpKHMpKSxzPT09dGhpcy50YXJnZXQpYnJlYWs7cmV0dXJuIk5vdCBBcHBsaWNhYmxlIn1yZXR1cm4gdGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGUsdCx0aGlzLnNjb3BlLHRoaXMudGFyZ2V0KT90aGlzLmRlY2lzaW9uOiJOb3QgQXBwbGljYWJsZSJ9fV0pLFJ1bGV9KCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDgzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDE0NiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxNDUpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDg0KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIEFkdmFuY2VkQ29uZGl0aW9uKGUpeygwLGkuZGVmYXVsdCkodGhpcyxBZHZhbmNlZENvbmRpdGlvbiksdGhpcy5vcGVyYXRvcnM9bmV3IGYuZGVmYXVsdCx2b2lkIDAhPT1lLm9wZXJhdG9ycyYmKGU9ZS5jb25kaXRpb24pLGU9dGhpcy5idWlsZENvbmRpdGlvbihlKSx0aGlzLmNvbmRpdGlvbj1lfXJldHVybigwLHMuZGVmYXVsdCkoQWR2YW5jZWRDb25kaXRpb24sW3trZXk6ImJ1aWxkQ29uZGl0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlWzFdKT9lWzFdPXRoaXMuYnVpbGRDb25kaXRpb24oZVsxXSk6InN1YnNjcmlwdGlvbiI9PT1lWzFdLmF0dHJpYnV0ZT9lWzFdPW5ldyBkLmRlZmF1bHQoZVsxXS5hdHRyaWJ1dGUsZVsxXS5vcGVyYXRvcixlWzFdLnBhcmFtcyk6ZVsxXT1uZXcgdS5kZWZhdWx0KGVbMV0uYXR0cmlidXRlLGVbMV0ub3BlcmF0b3IsZVsxXS5wYXJhbXMpLHZvaWQgMCE9PWVbMl0mJihBcnJheS5pc0FycmF5KGVbMl0pP2VbMl09dGhpcy5idWlsZENvbmRpdGlvbihlWzJdKToic3Vic2NyaXB0aW9uIj09PWVbMl0uYXR0cmlidXRlP2VbMl09bmV3IGQuZGVmYXVsdChlWzJdLmF0dHJpYnV0ZSxlWzJdLm9wZXJhdG9yLGVbMl0ucGFyYW1zKTplWzJdPW5ldyB1LmRlZmF1bHQoZVsyXS5hdHRyaWJ1dGUsZVsyXS5vcGVyYXRvcixlWzJdLnBhcmFtcykpLGV9fSx7a2V5OiJpc0FwcGxpY2FibGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLHMpe2ZvcihpfHwoaT10aGlzLmNvbmRpdGlvblswXSxvPXRoaXMuY29uZGl0aW9uWzFdLHM9dGhpcy5jb25kaXRpb25bMl0pOyEobyBpbnN0YW5jZW9mIHUuZGVmYXVsdCkmIShvIGluc3RhbmNlb2YgZC5kZWZhdWx0KSYiYm9vbGVhbiIhPXR5cGVvZiBvOylvPXRoaXMuaXNBcHBsaWNhYmxlKGUsdCxyLG4sb1swXSxvWzFdLG9bMl0pO2lmKHZvaWQgMCE9PXMpZm9yKDshKHMgaW5zdGFuY2VvZiB1LmRlZmF1bHQpJiEocyBpbnN0YW5jZW9mIGQuZGVmYXVsdCkmImJvb2xlYW4iIT10eXBlb2Ygczspcz10aGlzLmlzQXBwbGljYWJsZShlLHQscixuLHNbMF0sc1sxXSxzWzJdKTt2YXIgYT0iYm9vbGVhbiI9PXR5cGVvZiBvP286by5pc0FwcGxpY2FibGUoZSx0LHIsbiksYz12b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXMmJihjPSJib29sZWFuIj09dHlwZW9mIHM/czpzLmlzQXBwbGljYWJsZShlLHQscixuKSksdGhpcy5vcGVyYXRvcnNbaV0oW2EsY10pfX1dKSxBZHZhbmNlZENvbmRpdGlvbn0oKTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0ODQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig2MCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigxKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDIpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoNjgpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDg1KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDE0Niksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9ZnVuY3Rpb24oZSl7LyoqCiAgKiBDcmVhdGVzIGEgbmV3IFN1YnNjcmlwdGlvbkNvbmRpdGlvbi4KICAqIEBjbGFzcwogICogQHBhcmFtICB7c3RyaW5nfSAgYXR0cmlidXRlCiAgKiBAcGFyYW0gIHtzdHJpbmd9ICBvcGVyYXRvcgogICogQHBhcmFtICB7Kn0gICAgICAgcGFyYW1zCiAgKi8KZnVuY3Rpb24gU3Vic2NyaXB0aW9uQ29uZGl0aW9uKGUsdCxyKXtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsU3Vic2NyaXB0aW9uQ29uZGl0aW9uKSwoMCxmLmRlZmF1bHQpKHRoaXMsKFN1YnNjcmlwdGlvbkNvbmRpdGlvbi5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uKSkuY2FsbCh0aGlzLGUsdCxyKSl9LyoqCiAgKiBWZXJpZmllcyBpZiB0aGUgc3Vic2NyaXB0aW9uIGNvbmRpdGlvbiBpcyBhcHBsaWNhYmxlIHRvIHRoZSBtZXNzYWdlLiBGaXJzdCwgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgb2YgdGhlIHN1YnNjcmlwdGlvbiB0eXBlOyBzZWNvbmQsIHZlcmlmaWVzIGlmIHRoZSBtZXNzYWdlIGlzIGZyb20gYSByZW1vdGUgcnVudGltZSB0byBndWFyYW50ZWUgdGhhdCB0aGUgc3Vic2NyaXB0aW9uIGlzIGJlaW5nIHZhbGlkYXRlZCBpbiB0aGUgZGVzdGluYXRpb24gcnVudGltZTsgdGhpcmQsIHZlcmlmaWVzIGlmIHRoZSBzdWJzY3JpcHRpb24gcHJlZmVyZW5jZSBpcyBtZXQuCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIGNvbnRleHQgICBlbnZpcm9ubWVudCB3aGVyZSB0aGUgUG9saWN5IEVuZ2luZSBpcyBiZWluZyB1c2VkCiAgKiBAcGFyYW0gIHtPYmplY3R9ICAgIG1lc3NhZ2UKICAqLwpyZXR1cm4oMCx5LmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbixlKSwoMCx1LmRlZmF1bHQpKFN1YnNjcmlwdGlvbkNvbmRpdGlvbixbe2tleToiaXNBcHBsaWNhYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhKCJzdWJzY3JpYmUiPT09dC50eXBlJmUuaXNGcm9tUmVtb3RlU00odC5mcm9tKSkmJigwLGQuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLnByb3RvdHlwZS5fX3Byb3RvX198fCgwLGkuZGVmYXVsdCkoU3Vic2NyaXB0aW9uQ29uZGl0aW9uLnByb3RvdHlwZSksImlzQXBwbGljYWJsZSIsdGhpcykuY2FsbCh0aGlzLGUsdCl9fV0pLFN1YnNjcmlwdGlvbkNvbmRpdGlvbn0odi5kZWZhdWx0KTsvKioKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IEFwaXplZQogICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCiAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAgICAgICAgICAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgICAgICAgICAgKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogICAgICAgICAgICAgICAgICAgICAgICAqCiAgICAgICAgICAgICAgICAgICAgICAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogICAgICAgICAgICAgICAgICAgICAgICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAgICAgICAgICAgICAgICAgICAgICAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogICAgICAgICAgICAgICAgICAgICAgICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogICAgICAgICAgICAgICAgICAgICAgICAqKi8KdC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDg1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoNjApLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNDg2KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyk7dC5kZWZhdWx0PWZ1bmN0aW9uIGdldChlLHQscil7bnVsbD09PWUmJihlPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG49KDAscy5kZWZhdWx0KShlLHQpO2lmKHZvaWQgMD09PW4pe3ZhciBvPSgwLGkuZGVmYXVsdCkoZSk7cmV0dXJuIG51bGw9PT1vP3ZvaWQgMDpnZXQobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBhPW4uZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChyKX19LC8qIDQ4NiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDg3KSxfX2VzTW9kdWxlOiEwfX0sLyogNDg3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDQ4OCk7dmFyIG49cigxMCkuT2JqZWN0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0sLyogNDg4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKQp2YXIgbj1yKDQ2KSxpPXIoMTQyKS5mO3IoOTkpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkobihlKSx0KX19KX0sLyogNDg5ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoNjApLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDY4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDY5KSx5PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQocCksaD1yKDcpLHY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSxnPXIoMjA0KSxiPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZyksbT1yKDQ5MCksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9di5nZXRMb2dnZXIoIk1lc3NhZ2VCdXMiKSx3PWZ1bmN0aW9uKGUpey8qIHByaXZhdGUKICBfcmVnaXN0cnk6IFJlZ2lzdHJ5CiAgX2ZvcndhcmRzOiB7IDxmcm9tLXVybD46IHsgZmw6IE1zZ0xpc3RlbmVyLCBzYW5kYm94VG9VcmxzOiBNYXAoU2FuZGJveCwgW3RvLXVybF0pLCB1cmxUb1NhbmRib3g6IHsgdG8tdXJsOiBTYW5kYm94IH0gfSB9CiAgIF9waXBlbGluZTogUGlwZWxpbmUKICAqLwovL1RPRE86IGZ1dHVyZSBvcHRpbWl6YXRpb24KLy8xLiBtZXNzYWdlIGJhdGNoIHByb2Nlc3Npbmcgd2l0aCBzZXRJbnRlcnZhbAovLzIuIHJlc29sdmUgZGVmYXVsdCBnYXRld2F5L3Byb3Rvc3R1YiB3aXRoIHJlZ2lzdGVyLnJlc29sdmUKZnVuY3Rpb24gTWVzc2FnZUJ1cyhlKXsoMCx1LmRlZmF1bHQpKHRoaXMsTWVzc2FnZUJ1cyk7dmFyIHQ9KDAsZC5kZWZhdWx0KSh0aGlzLChNZXNzYWdlQnVzLl9fcHJvdG9fX3x8KDAscy5kZWZhdWx0KShNZXNzYWdlQnVzKSkuY2FsbCh0aGlzKSk7cmV0dXJuIHQuX3JlZ2lzdHJ5PWUsdC5fZm9yd2FyZHM9e30sdC5fcGlwZWxpbmVJbj1uZXcgXy5kZWZhdWx0KGZ1bmN0aW9uKGUpe1IuZXJyb3IoIlBJUEVMSU5FLUVSUk9SOiAiLCgwLGkuZGVmYXVsdCkoZSkpfSksdC5fcGlwZWxpbmVPdXQ9bmV3IF8uZGVmYXVsdChmdW5jdGlvbihlKXtSLmVycm9yKCJQSVBFTElORS1FUlJPUjogIiwoMCxpLmRlZmF1bHQpKGUpKX0pLHR9cmV0dXJuKDAseS5kZWZhdWx0KShNZXNzYWdlQnVzLGUpLCgwLGYuZGVmYXVsdCkoTWVzc2FnZUJ1cyxbe2tleToicG9zdE1lc3NhZ2UiLC8qKgogICAgICogUG9zdCBhIG1lc3NhZ2UgZm9yIHJvdXRpbmcuIEl0IHdpbGwgZmlyc3Qgc2VhcmNoIGZvciBhIGxpc3RlbmVyLCBpZiB0aGVyZSBpcyBubyBvbmUsIGl0IHNlbmRzIHRvIGEgZXh0ZXJuYWwgcm91dGluZyB1c2luZyB0aGUgX29uUG9zdE1lc3NhZ2UuCiAgICAgKiBFeHRlcm5hbCByb3V0aW5nIHVzZSB0aGUgcmVnaXN0cnkucmVzb2x2ZSguLikgbWV0aG9kIHRvIGRlY2lkZSB0aGUgZGVzdGluYXRpb24gc2FuZGJveC4KICAgICAqIEBwYXJhbSAge01lc3NhZ2V9IGluTXNnICAgICAgICAgICAgSlNPTiB3aXRoIG1hbmRhdG9yeSBNZXNzYWdlIHN0cnVjdHVyZSB7aWQsIHR5cGUsIGZyb20sIHRvfQogICAgICogQHBhcmFtICB7Q2FsbGJhY2t9IHJlc3BvbnNlQ2FsbGJhY2sgT3B0aW9uYWwgY2FsbGJhY2sgaWYgYSByZXNwb25zZSBpcyBleHBlY3RlZCBmcm9tIHRoZSByZXF1ZXN0LiBBIHJlc3BvbnNlIHdpbGwgYmUgYWx3YXlzIHNlbnQsIGV2ZW4gaWYgaXQgaXMgYSAiVGltZW91dCIuCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgdGhlIE1lc3NhZ2UgaWQKICAgICAqLwp2YWx1ZTpmdW5jdGlvbihlLHQscil7Ui5pbmZvKCJvblBPU1RNZXNzYWdlOiAiLGUpO3ZhciBuPXRoaXMsaT1mdW5jdGlvbihpKXtpZihuLl9yZXNwb25zZUNhbGxiYWNrKGUsdCxyKSwhbi5fb25SZXNwb25zZShpKSl7dmFyIG89bi5fc3Vic2NyaXB0aW9uc1tpLnRvXTtvPwovL2RvIG5vdCBwdWJsaXNoIG9uIGRlZmF1bHQgYWRkcmVzcywgYmVjYXVzZSBvZiBsb29wYmFjayBjeWNsZQpuLl9wdWJsaXNoT24obyxpKToKLy9pZiB0aGVyZSBpcyBubyBsaXN0ZW5lciwgc2VuZCB0byBleHRlcm5hbCBpbnRlcmZhY2UKbi5fb25Qb3N0TWVzc2FnZShpKX19O2lmKG4uX2dlbklkKGUpLG4uX2lzVG9Qcm9jZXNzKGUpKXtuLl9pc0luY29taW5nTWVzc2FnZShlKT9uLl9waXBlbGluZUluLnByb2Nlc3MoZSxpKTpuLl9waXBlbGluZU91dC5wcm9jZXNzKGUsaSl9ZWxzZSBpKGUpO3JldHVybiBlLmlkfX0se2tleToiX2lzVG9Qcm9jZXNzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bImRvbWFpbiIsImRvbWFpbi1pZHAiLCJnbG9iYWwiLCJoeXBlcnR5LXJ1bnRpbWUiLCJydW50aW1lIl0scj1lLmZyb20uc3BsaXQoIjovLyIpLG49clswXSxpPWUudG8uc3BsaXQoIjovLyIpLG89aVswXSxzPWUuZnJvbSxhPWUudG87Ci8vIFNpZ25hbGxpbmcgbWVzc2FnZXMgYmV0d2VlbiBQMlAgU3R1YnMgZG9uJ3QgaGF2ZSB0byBiZSB2ZXJpZmllZC4gRkZTCnJldHVybiBlLmJvZHkmJmUuYm9keS5zb3VyY2UmJihzPWUuYm9keS5zb3VyY2UpLGUuYm9keSYmZS5ib2R5LnN1YnNjcmliZXImJihzPWUuYm9keS5zdWJzY3JpYmVyKSwtMT09PXMuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09cy5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYtMT09PWEuaW5kZXhPZigiL3AycGhhbmRsZXIvIikmJi0xPT09YS5pbmRleE9mKCIvcDJwcmVxdWVzdGVyLyIpJiYoKCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHMpfHwhdGhpcy5fcmVnaXN0cnkuaXNMb2NhbChlLnRvKSkmJighKGUuZnJvbT09PW58fGUudG89PT1vfHwicmVhZCI9PT1lLnR5cGV8fCJyZXNwb25zZSI9PT1lLnR5cGV8fGUuZnJvbS5pbmNsdWRlcygiaHlwZXJ0eTovLyIpJiYiZGVsZXRlIj09PWUudHlwZSkmJigtMT09PXQuaW5kZXhPZihuKXx8LTE9PT10LmluZGV4T2YobykpKSl9fSx7a2V5OiJfaXNJbmNvbWluZ01lc3NhZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDsKLy9UT0RPOiB0aGlzIHN1YnNjcmliZXIgdmFsaWRhdGlvbiBzaG91bGQgbm90IGV4aXN0LCBiZWNhdXNlIGlzIG91dGRhdGVkCi8vVE9ETzogdGhlIHN5bmNoZXIgYW5kIHN5bmNoZXIgbWFuYWdlciBub3QgZm9sbG93aW5nIHRoZSBjb3JyZWN0IHNwZWM7Ci8vVE9ETzogdGhpcyBzdWJzY3JpYmVyIHZhbGlkYXRpb24gc2hvdWxkIG5vdCBleGlzdCwgYmVjYXVzZSBpcyBvdXRkYXRlZAovL1RPRE86IHRoZSBzeW5jaGVyIGFuZCBzeW5jaGVyIG1hbmFnZXIgbm90IGZvbGxvd2luZyB0aGUgY29ycmVjdCBzcGVjOwpyZXR1cm4iZm9yd2FyZCI9PT1lLnR5cGU/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLnR5cGU6ICIsZS50eXBlKSx0PWUuYm9keS5mcm9tKTplLmhhc093blByb3BlcnR5KCJib2R5IikmJmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic291cmNlIikmJmUuYm9keS5zb3VyY2U/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc291cmNlOiAiLGUuYm9keS5zb3VyY2UpLHQ9ZS5ib2R5LnNvdXJjZSk6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInN1YnNjcmliZXIiKSYmZS5ib2R5LnN1YnNjcmliZXI/KFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBtZXNzYWdlLmJvZHkuc3Vic2NyaWJlcjogIixlLmJvZHkuc3Vic2NyaWJlciksdD1lLmJvZHkuc3Vic2NyaWJlcik6ZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikmJmUuYm9keS5yZXBvcnRlcj8oUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuYm9keS5yZXBvcnRlcjogIixlLmJvZHkucmVwb3J0ZXIpLHQ9ZS5ib2R5LnJlcG9ydGVyKTooUi5pbmZvKCJbTWVzc2FnZUJ1cyAtIGlzSW5jb21pbmdNZXNzYWdlXSAtIG1lc3NhZ2UuZnJvbSAiLGUuZnJvbSksdD1lLmZyb20pLFIuaW5mbygiW01lc3NhZ2VCdXMgLSBpc0luY29taW5nTWVzc2FnZV0gLSBjaGVjayBpZiBpc0xvY2FsOiAiLHQpLCF0aGlzLl9yZWdpc3RyeS5pc0xvY2FsKHQpfX0se2tleToiYWRkUHVibGlzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMsbj1yLl9mb3J3YXJkc1tlXTtpZighbil7bj17Y291bnRlcjowLGZsOnIuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbih0KXtSLmluZm8oIk1CLVBVQkxJU0g6ICggIitlKyIgKSIpLHIuX29uUG9zdE1lc3NhZ2UodCl9KSxyZW1vdmU6ZnVuY3Rpb24oKXswPT09LS10LmNvdW50ZXImJih0LmZsLnJlbW92ZSgpLGRlbGV0ZSByLl9mb3J3YXJkc1tlXSl9fSxyLl9mb3J3YXJkc1tlXT1ufXJldHVybiBuLmNvdW50ZXIrKyxufX0se2tleToiYWRkRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiByLmFkZExpc3RlbmVyKGUsZnVuY3Rpb24obil7Ui5pbmZvKCJNQi1GT1JXQVJEOiAoICIrZSsiIHRvICIrdCsiICkiKSxyLmZvcndhcmQodCxuKX0pfX0se2tleToiZm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49ci5fc3Vic2NyaXB0aW9uc1tlXTtuJiZyLl9wdWJsaXNoT24obix0KX19LHtrZXk6Il9vblBvc3RNZXNzYWdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOwovL3Jlc29sdmUgZXh0ZXJuYWwgcHJvdG9zdHViLi4uCnQuX3JlZ2lzdHJ5LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihyLG4pe24/dC5mb3J3YXJkKHIsbik6dC5mb3J3YXJkKHIsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtSLmVycm9yKCJSRVNPTFZFLUVSUk9SOiAiLGUpfSl9fSx7a2V5OiJwaXBlbGluZUluIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVJbn19LHtrZXk6InBpcGVsaW5lT3V0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVPdXR9fV0pLE1lc3NhZ2VCdXN9KGIuZGVmYXVsdCk7dC5kZWZhdWx0PXcsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDkwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDcpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShhKSxjPShyKDE0KSx1LmdldExvZ2dlcigiUGlwZWxpbmUiKSxmdW5jdGlvbigpey8qIHB1YmxpYwogICAgaGFuZGxlcnM6ICgoUGlwZUNvbnRleHQpID0+IHZvaWQpW10KICAgIG9uRmFpbDogKGVycm9yKSA9PiB2b2lkCiAgKi8KZnVuY3Rpb24gUGlwZWxpbmUoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLFBpcGVsaW5lKTt2YXIgdD10aGlzO3QuaGFuZGxlcnM9W10sdC5vbkZhaWw9ZX0vKioKICAgKiBJbnNlcnQgYSBtZXNzYWdlIGluIHRoZSBwaXBlbGluZSBxdWV1ZS4gQWxsIG1lc3NhZ2VzIGFyZSB3cmFwcGVkIHdpdGggYSBQaXBlQ29udGV4dC4KICAgKiBAcGFyYW0gIHtNZXNzYWdlfSBtc2cgICAgICAgTWVzc2FnZSBmb3IgdGhlIHF1ZXVlCiAgICogQHBhcmFtICB7Q2FsbGJhY2t9IG9uRGVsaXZlciBXaGVuIG1lc3NhZ2UgaXMgZmluaXNoZWQgcHJvY2Vzc2luZyBmcm9tIGFsbCBoYW5kbGVycywgaXQgd2lsbCBiZSBkZWxpdmVyZWQgaW4gdGhpcyBjYWxsYmFjay4KICAgKi8KcmV0dXJuKDAscy5kZWZhdWx0KShQaXBlbGluZSxbe2tleToicHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKHIuaGFuZGxlcnMubGVuZ3RoPjApe3ZhciBuPW5ldyBsKHIuaGFuZGxlcnMpO24ubmV4dChuZXcgZihyLG4sZSx0KSl9ZWxzZSB0KGUpfX1dKSxQaXBlbGluZX0oKSksZj1mdW5jdGlvbigpey8qIHByaXZhdGUKICAgIF9pblN0b3A6IGJvb2xlYW4KICAgICBfcGlwZWxpbmU6IFBpcGVsaW5lCiAgICBfaXRlcjogSXRlcmF0b3IKICAgIF9tc2c6IE1lc3NhZ2UKICAqLwpmdW5jdGlvbiBQaXBlQ29udGV4dChlLHQscixuKXsoMCxpLmRlZmF1bHQpKHRoaXMsUGlwZUNvbnRleHQpO3ZhciBvPXRoaXM7by5faW5TdG9wPSExLG8uX3BpcGVsaW5lPWUsby5faXRlcj10LG8uX21zZz1yLG8uX29uRGVsaXZlcj1ufXJldHVybigwLHMuZGVmYXVsdCkoUGlwZUNvbnRleHQsW3trZXk6Im5leHQiLC8qKgogICAgICogUHJvY2VlZCB0byB0aGUgbmV4dCBpbnRlcmNlcHRvciBoYW5kbGVyLCB1bmxlc3MgdGhlcmUgd2FzIGFuIGVycm9yLiBJZiBpdCdzIHRoZSBsYXN0IG9uZSwgcHJvY2VlZCB0byBvbkRlbGl2ZXIgaGFuZGxlci4KICAgICAqLwp2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faXRlci5oYXNOZXh0P2UuX2l0ZXIubmV4dChlKTplLl9vbkRlbGl2ZXIoZS5fbXNnKSl9fSx7a2V5OiJkZWxpdmVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5faW5TdG9wfHwoZS5faW5TdG9wPSEwLGUuX29uRGVsaXZlcihlLl9tc2cpKX19LHtrZXk6ImZhaWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5faW5TdG9wfHwodC5faW5TdG9wPSEwLHQuX3BpcGVsaW5lLm9uRmFpbCYmdC5fcGlwZWxpbmUub25GYWlsKGUpKX19LHtrZXk6InBpcGVsaW5lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmV9fSx7a2V5OiJtc2ciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tc2d9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tc2c9ZX19XSksUGlwZUNvbnRleHR9KCksbD1mdW5jdGlvbigpey8qIHByaXZhdGUKICAgIF9pbmRleDogbnVtYmVyCiAgICBfYXJyYXk6IFtdCiAgKi8KZnVuY3Rpb24gSXRlcmF0b3IoZSl7KDAsaS5kZWZhdWx0KSh0aGlzLEl0ZXJhdG9yKSx0aGlzLl9pbmRleD0tMSx0aGlzLl9hcnJheT1lfXJldHVybigwLHMuZGVmYXVsdCkoSXRlcmF0b3IsW3trZXk6Imhhc05leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleDx0aGlzLl9hcnJheS5sZW5ndGgtMX19LHtrZXk6Im5leHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleCsrLHRoaXMuX2FycmF5W3RoaXMuX2luZGV4XX19XSksSXRlcmF0b3J9KCk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDkxICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNDkyKSxkPXIoNykscD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGQpLHk9cC5nZXRMb2dnZXIoIkNyeXB0b01hbmFnZXIiKSxoPWZ1bmN0aW9uKCl7LyoqCiAgKiBSdW50aW1lZmFjdG9yeSBpcyBwYXNzZWQgaW4gdGhlIGNvc3RydWN0b3IsIGJlY2F1c2UgdGhlIG5vZGVKUyBoYXMgYSBkaWZmZXJlbnQgY3J5cHRvIG1vZHVsZQogICogZnJvbSB0aGUgYnJvd3Nlci4gUnVudGltZUZhY3RvcnkgcHJvdmlkZXMgYSB3cmFwcGVyIGZvciB0aGUgZnVjdGlvbnMgb2Ygbm9kZUpTLCBzbyB0aGV5IGNhbiBiZQogICogaW52b2tlZCBicm93c2VyIGxpa2UuCiAgKi8KZnVuY3Rpb24gQ3J5cHRvKGUpeygwLHUuZGVmYXVsdCkodGhpcyxDcnlwdG8pO3ZhciB0PXRoaXM7ImZ1bmN0aW9uIj09dHlwZW9mIGUuY3JlYXRlV2ViY3J5cHRvP3QuX2NyeXB0bz1lLmNyZWF0ZVdlYmNyeXB0bygpOnQuX2NyeXB0bz1jcnlwdG99LyoqCiAgKiBQZXJmb3JtcyBhIFJTQSBlbmNyeXB0aW9uCiAgKiBAcGFyYW0gICB7QXJyYXlCdWZmZXJ9ICAgIHZhbHVlICAgIHRoZSBwdWJsaWMga2V5CiAgKiBAcGFyYW0gICB7QnVmZmVyU291cmNlfSAgICB2YWx1ZSAgICBkYXRhIHRvIGJlIGVuY3J5cGVkCiAgKiBAcmV0dXJuICB7VWludDhBcnJheX0gICBlbmNyeXB0ZWQgZGF0YQogICovCnJldHVybigwLGYuZGVmYXVsdCkoQ3J5cHRvLFt7a2V5OiJlbmNyeXB0UlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJlbmNyeXB0UlNBOnB1YktleSIsZSkseS5sb2coImVuY3J5cHRSU0E6ZGF0YSIsdCk7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3IuX2ltcG9ydFJTQWVuY3J5cHRLZXkobmV3IFVpbnQ4QXJyYXkoZSkpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOiJSU0EtT0FFUCJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQp0KS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgZW5jcnlwdGVkIGRhdGEKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRSU0EnLCBuZXcgVWludDhBcnJheShlbmNyeXB0ZWQpKTsKbihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWVuY3J5cHRSU0EnLCBlcnIpOwppKGUpfSl9KX0pfX0se2tleToiZGVjcnlwdFJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt5LmxvZygiZGVjcnlwdFJTQTpwcml2S2V5IixlKSx5LmxvZygiZGVjcnlwdFJTQTpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7ci5faW1wb3J0UlNBZGVjcnlwdEtleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiUlNBLU9BRVAifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKdCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShlKTsKLy8gbG9nLmxvZygnY3J5cHRvLWRlY3J5cHRSU0EnLCBkZWNyeXB0ZWREYXRhKTsKbih0KX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZGVjcnlwdFJTQScsIGVycik7CmkoZSl9KX0pfSl9fSx7a2V5OiJzaWduUlNBIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24obixpKXtyLl9pbXBvcnRSU0FzaWduS2V5KGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5fY3J5cHRvLnN1YnRsZS5zaWduKHtuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQooMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgYW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgc2lnbmF0dXJlCi8vIGxvZy5sb2coJ2NyeXB0by1zaWduUlNBJywgbmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKSk7Cm4obmV3IFVpbnQ4QXJyYXkoZSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1zaWduUlNBJywgZXJyKTsKaShlKX0pfSl9KX19LHtrZXk6InZlcmlmeVJTQSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLl9pbXBvcnRSU0F2ZXJpZnlLZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLnZlcmlmeSh7bmFtZToiUlNBU1NBLVBLQ1MxLXYxXzUifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKciwvL0FycmF5QnVmZmVyIG9mIHRoZSBzaWduYXR1cmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgYm9vbGVhbiBvbiB3aGV0aGVyIHRoZSBzaWduYXR1cmUgaXMgdHJ1ZSBvciBub3QKLy8gbG9nLmxvZygnY3J5cHRvLXZlcmlmeVJTQScsIGlzdmFsaWQpOwppKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by12ZXJpZnlSU0EnLCBlcnIpOwpvKGUpfSl9KX0pfX0se2tleToiZW5jcnlwdEFFUyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3kubG9nKCJlbmNyeXB0QUVTOmtleSIsZSkseS5sb2coImVuY3J5cHRBRVM6ZGF0YSIsdCkseS5sb2coImVuY3J5cHRBRVM6aXYiLHIpO3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLl9pbXBvcnRBRVNrZXkoZSkudGhlbihmdW5jdGlvbihlKXtuLl9jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6IkFFUy1DQkMiLAovL0Rvbid0IHJlLXVzZSBpbml0aWFsaXphdGlvbiB2ZWN0b3JzIQovL0Fsd2F5cyBnZW5lcmF0ZSBhIG5ldyBpdiBldmVyeSB0aW1lIHlvdXIgZW5jcnlwdCEKaXY6cn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCigwLGwuZW5jb2RlVVRGOCkodCkpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBlbmNyeXB0ZWQgZGF0YQovLyBsb2cubG9nKCdjcnlwdG8tZW5jcnlwdEFFUycsIG5ldyBVaW50OEFycmF5KGVuY3J5cHRlZCkpOwppKG5ldyBVaW50OEFycmF5KGUpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZW5jcnlwdEFFUycsIGVycik7Cm8oZSl9KX0pfSl9fSx7a2V5OiJkZWNyeXB0QUVTIix2YWx1ZTpmdW5jdGlvbihlLHQscil7eS5sb2coImRlY3J5cHRBRVM6a2V5IixlKSx5LmxvZygiZGVjcnlwdEFFUzpkYXRhIix0KSx5LmxvZygiZGVjcnlwdEFFUzppdiIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uX2ltcG9ydEFFU2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe24uX2NyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZToiQUVTLUNCQyIsaXY6cn0sZSwvL2Zyb20gZ2VuZXJhdGVLZXkgb3IgaW1wb3J0S2V5IGFib3ZlCnQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9KDAsbC5kZWNvZGVVVEY4KShuZXcgVWludDhBcnJheShlKSk7eS5sb2coImNyeXB0by1kZWNyeXB0QUVTIix0KSxpKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1kZWNyeXB0QUVTJywgZXJyKTsKbyhlKX0pfSl9KX19LHtrZXk6Imhhc2hITUFDIix2YWx1ZTpmdW5jdGlvbihlLHQpe3kubG9nKCJoYXNoSE1BQzprZXkiLGUpLHkubG9nKCJoYXNoSE1BQzpkYXRhIix0KTt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4sbyl7InN0cmluZyIhPXR5cGVvZiB0JiYodD0oMCxpLmRlZmF1bHQpKHQpLHkubG9nKCJDb252ZXJ0aW5nIGhhc2hITUFDIGlucHVyZWQgREFUQSIpLHkubG9nKCJISGFzaEhNQUM6Iix0KSksci5faW1wb3J0SE1BQ2tleShlKS50aGVuKGZ1bmN0aW9uKGUpe3IuX2NyeXB0by5zdWJ0bGUuc2lnbih7bmFtZToiSE1BQyJ9LGUsLy9mcm9tIGdlbmVyYXRlS2V5IG9yIGltcG9ydEtleSBhYm92ZQooMCxsLmVuY29kZVVURjgpKHQpKS50aGVuKGZ1bmN0aW9uKGUpe3kubG9nKCJIYXNoSE1BQyBzaWduYXR1cmU6IixuZXcgVWludDhBcnJheShlKSksCi8vIGxvZy5sb2coJ2NyeXB0by1oYXNoSE1BQycsIHNpZ25hdHVyZSk7Ci8vcmV0dXJucyBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBzaWduYXR1cmUKbihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygnY3J5cHRvLWhhc2hITUFDJywgZXJyKTsKbyhlKX0pfSl9KX19LHtrZXk6InZlcmlmeUhNQUMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt5LmxvZygidmVyaWZ5SE1BQzprZXkiLGUpLHkubG9nKCJ2ZXJpZnlITUFDOmRhdGEiLHQpLHkubG9nKCJ2ZXJpZnlITUFDOnNpZ25hdHVyZSIscik7dmFyIG49dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihvLHMpe24uX2ltcG9ydEhNQUNrZXkoZSkudGhlbihmdW5jdGlvbihlKXsic3RyaW5nIiE9dHlwZW9mIHQmJih0PSgwLGkuZGVmYXVsdCkodCkseS5sb2coIkNvbnZlcnRpbmcgdmVyaWZ5SE1BQyBpbnB1dGVkIERBVEE6Iix0KSksbi5fY3J5cHRvLnN1YnRsZS52ZXJpZnkoe25hbWU6IkhNQUMifSxlLC8vZnJvbSBnZW5lcmF0ZUtleSBvciBpbXBvcnRLZXkgYWJvdmUKciwvL0FycmF5QnVmZmVyIG9mIHRoZSBzaWduYXR1cmUKKDAsbC5lbmNvZGVVVEY4KSh0KSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgYm9vbGVhbiBvbiB3aGV0aGVyIHRoZSBzaWduYXR1cmUgaXMgdHJ1ZSBvciBub3QKLy8gbG9nLmxvZygnY3J5cHRvLXZlcmlmeUhNQUMnLCBpc3ZhbGlkKTsKeS5sb2coInZlcmlmeUhNQUMgcmVzdWx0IixlKSxlP28oZSk6cyhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by12ZXJpZnlITUFDIixlKSxzKGUpfSl9KX0pfX0se2tleToiZ2VuZXJhdGVSU0FLZXlQYWlyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuX2NyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoe25hbWU6IlJTQS1QU1MiLG1vZHVsdXNMZW5ndGg6MjA0OCwvL2NhbiBiZSAxMDI0LCAyMDQ4LCBvciA0MDk2CnB1YmxpY0V4cG9uZW50Om5ldyBVaW50OEFycmF5KFsxLDAsMV0pLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbInNpZ24iLCJ2ZXJpZnkiXSkudGhlbihmdW5jdGlvbihpKXsKLy9yZXR1cm5zIGEga2V5cGFpciBvYmplY3QKLy8gbG9nLmxvZyhrZXkpOwplLl9jcnlwdG8uc3VidGxlLmV4cG9ydEtleSgic3BraSIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKaS5wdWJsaWNLZXkpLnRoZW4oZnVuY3Rpb24ocil7Ci8vcmV0dXJucyB0aGUgZXhwb3J0ZWQga2V5IGRhdGEKLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKcmV0dXJuIHQucHVibGljPW5ldyBVaW50OEFycmF5KHIpLGUuX2NyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCJwa2NzOCIsaS5wcml2YXRlS2V5KX0pLnRoZW4oZnVuY3Rpb24oZSl7dC5wcml2YXRlPW5ldyBVaW50OEFycmF5KGUpLAovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVSU0FLZXlQYWlyJywga2V5UGFpcik7CnIodCl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoZSksbihlKX0pfSl9fSx7a2V5OiJnZW5lcmF0ZUlWIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgxNik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6ImdlbmVyYXRlUmFuZG9tIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7ZS5fY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KTsKLy8gYWRkIGluIHRoZSBmaXJzdCA0IGJ5dGVzIG9mIHRoZSBhcnJheSB0aGUgYnl0ZXMgZXh0cmFjdGVkIHByZXZpb3VzbHk7CmZvcih2YXIgcj1EYXRlLm5vdygpLG49KDAsbC5lbmNvZGVVVEY4KShyLnRvU3RyaW5nKCkpLGk9bi5zbGljZShuLmxlbmd0aC00LG4ubGVuZ3RoKSxvPTA7bzw0O28rKyl0W29dPWlbb107cmV0dXJuIHR9fSx7a2V5OiJnZW5lcmF0ZVBNUyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFVpbnQ4QXJyYXkoNDgpO3JldHVybiBlLl9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLHR9fSx7a2V5OiJnZW5lcmF0ZU1hc3RlclNlY3JldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4saSl7dmFyIG89bmV3IFVpbnQ4QXJyYXkoNDgpLHM9dDtyLl9kaWdlc3QoZSkudGhlbihmdW5jdGlvbihlKXtyLmhhc2hITUFDKGUscykudGhlbihmdW5jdGlvbih0KXsKLy9jb3B5IHRoZSBmaXJzdCAzMiBieXRlcyBpbnRvIHRoZSBrZXkKZm9yKHZhciBuPTA7bjwzMjtuKyspb1tuXT10W25dO3JldHVybiByLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vY29weSB0aGUgZmlyc3QgMTYgYnl0ZXMgdG8gdGhlIGtleSByZW1haW5pbmcgMTYgYnl0ZXMKZm9yKHZhciB0PTA7dDwxNjt0Kyspb1t0KzMyXT1lW3RdOwovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVNYXN0ZXJTZWNyZXQnLCBrZXkpOwpuKG8pfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2NyeXB0by1nZW5lcmF0ZU1hc3RlclNlY3JldCcsIGVycik7CmkoZSl9KX0pfSl9fSx7a2V5OiJnZW5lcmF0ZUtleXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3ZhciBvPVtdLHM9dDsKLy8gaXRlcmF0ZSA0IHRpbWVzIHRvIG9idGFpbiBhIDEwMjQga2V5IHNpemUKci5oYXNoSE1BQyhlLHMpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8ucHVzaCh0KSxyLmhhc2hITUFDKGUscyt0KX0pLnRoZW4oZnVuY3Rpb24oZSl7by5wdXNoKGUpLAovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVLZXlzJywga2V5KTsKbihvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdjcnlwdG8tZ2VuZXJhdGVLZXlzJywgZXJyKTsKaShlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBc2lnbktleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKZSx7Ly90aGVzZSBhcmUgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IlJTQVNTQS1QS0NTMS12MV81IixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJzaWduIl0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQXNpZ25LZXknLCBwcml2YXRlS2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBc2lnbktleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBdmVyaWZ5S2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInNwa2kiLC8vY2FuIGJlICdqd2snIChwdWJsaWMgb3IgcHJpdmF0ZSksICdzcGtpJyAocHVibGljIG9ubHkpLCBvciAncGtjczgnIChwcml2YXRlIG9ubHkpCmUsey8vdGhlc2UgYXJlIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJSU0FTU0EtUEtDUzEtdjFfNSIsaGFzaDp7bmFtZToiU0hBLTI1NiJ9fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsidmVyaWZ5Il0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQXZlcmlmeUtleScsIHB1YmxpY0tleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQXZlcmlmeUtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZW5jcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJzcGtpIiwvL2NhbiBiZSAnandrJyAocHVibGljIG9yIHByaXZhdGUpLCAnc3BraScgKHB1YmxpYyBvbmx5KSwgb3IgJ3BrY3M4JyAocHJpdmF0ZSBvbmx5KQplLHsvL3RoZXNlIGFyZSB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiUlNBLU9BRVAiLGhhc2g6e25hbWU6IlNIQS0yNTYifX0sITAsLy93aGV0aGVyIHRoZSBrZXkgaXMgZXh0cmFjdGFibGUgKGkuZS4gY2FuIGJlIHVzZWQgaW4gZXhwb3J0S2V5KQpbImVuY3J5cHQiXSkudGhlbihmdW5jdGlvbihlKXsKLy9yZXR1cm5zIGEgcHVibGljS2V5IChvciBwcml2YXRlS2V5IGlmIHlvdSBhcmUgaW1wb3J0aW5nIGEgcHJpdmF0ZSBrZXkpCi8vIGxvZy5sb2coJ2NyeXB0by1faW1wb3J0UlNBZW5jcnlwdEtleScsIHB1YmxpY0tleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8tX2ltcG9ydFJTQWVuY3J5cHRLZXkiLGUubmFtZSksbihlKX0pfSl9fSx7a2V5OiJfaW1wb3J0UlNBZGVjcnlwdEtleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJwa2NzOCIsLy9jYW4gYmUgJ2p3aycgKHB1YmxpYyBvciBwcml2YXRlKSwgJ3Nwa2knIChwdWJsaWMgb25seSksIG9yICdwa2NzOCcgKHByaXZhdGUgb25seSkKZSx7Ly90aGVzZSBhcmUgdGhlIGFsZ29yaXRobSBvcHRpb25zCm5hbWU6IlJTQS1PQUVQIixoYXNoOntuYW1lOiJTSEEtMjU2In19LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJkZWNyeXB0Il0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vcmV0dXJucyBhIHB1YmxpY0tleSAob3IgcHJpdmF0ZUtleSBpZiB5b3UgYXJlIGltcG9ydGluZyBhIHByaXZhdGUga2V5KQovLyBsb2cubG9nKCdjcnlwdG8tX2ltcG9ydFJTQWRlY3J5cHRLZXknLCBwcml2YXRlS2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3kuZXJyb3IoImNyeXB0by1faW1wb3J0UlNBZGVjcnlwdEtleSIsZSksbihlKX0pfSl9fSx7a2V5OiJjb25jYXRQTVN3aXRoUmFuZG9tcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpewovLyBhZGQgUHJlbWFzdGVyS2V5CmZvcih2YXIgbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCtyLmxlbmd0aCksaT0wO2k8ZS5sZW5ndGg7aSsrKW5baV09ZVtpXTsKLy9hZGQgdG8gcmFuZG9tCmZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKW5bbytlLmxlbmd0aF09ZVtvXTsKLy9hZGQgZnJvbSByYW5kb20KZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspbltzK2UubGVuZ3RoK3QubGVuZ3RoXT1lW3NdO3JldHVybiBufX0se2tleToiX2dlbmVyYXRlMjU2Yml0S2V5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgVWludDhBcnJheSgzMik7cmV0dXJuIGUuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdH19LHtrZXk6Il9pbXBvcnRITUFDa2V5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fZGlnZXN0KGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5fY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoInJhdyIsLy9jYW4gYmUgJ2p3aycgb3IgJ3JhdycKZSx7Ly90aGlzIGlzIHRoZSBhbGdvcml0aG0gb3B0aW9ucwpuYW1lOiJITUFDIixoYXNoOntuYW1lOiJTSEEtMjU2In0sLy9jYW4gYmUgJ1NIQS0xJywgJ1NIQS0yNTYnLCAnU0hBLTM4NCcsIG9yICdTSEEtNTEyJwpsZW5ndGg6MjU2fSwhMCwvL3doZXRoZXIgdGhlIGtleSBpcyBleHRyYWN0YWJsZSAoaS5lLiBjYW4gYmUgdXNlZCBpbiBleHBvcnRLZXkpClsic2lnbiIsInZlcmlmeSJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIHN5bW1ldHJpYyBrZXkKLy8gbG9nLmxvZygnY3J5cHRvLV9pbXBvcnRITUFDa2V5Jywga2V5KTsKcihlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24oZSl9KX0pfSl9fSx7a2V5OiJfZGlnZXN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fY3J5cHRvLnN1YnRsZS5kaWdlc3Qoe25hbWU6IlNIQS0yNTYifSxlKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIGhhc2ggYXMgYW4gQXJyYXlCdWZmZXIKLy8gbG9nLmxvZygnY3J5cHRvLWRpZ2VzdCcsIG5ldyBVaW50OEFycmF5KGhhc2gpKTsKcihuZXcgVWludDhBcnJheShlKSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKGUpLG4oZSl9KX0pfX0se2tleToiX2ltcG9ydEFFU2tleSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3QuX2NyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCJyYXciLC8vY2FuIGJlICdqd2snIG9yICdyYXcnCmUsey8vdGhpcyBpcyB0aGUgYWxnb3JpdGhtIG9wdGlvbnMKbmFtZToiQUVTLUNCQyJ9LCEwLC8vd2hldGhlciB0aGUga2V5IGlzIGV4dHJhY3RhYmxlIChpLmUuIGNhbiBiZSB1c2VkIGluIGV4cG9ydEtleSkKWyJlbmNyeXB0IiwiZGVjcnlwdCJdKS50aGVuKGZ1bmN0aW9uKGUpewovL3JldHVybnMgdGhlIHN5bW1ldHJpYyBrZXkKLy8gbG9nLmxvZygnY3J5cHRvLWltcG9ydEFFU2tleScsIGtleSk7CnIoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt5LmVycm9yKCJjcnlwdG8taW1wb3J0QUVTa2V5IixlKSxuKGUpfSl9KX19LHtrZXk6Il9zaGEyNTYiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1uZXcgVGV4dEVuY29kZXIoInV0Zi04IikuZW5jb2RlKGUpO3JldHVybiB0Ll9jcnlwdG8uc3VidGxlLmRpZ2VzdCgiU0hBLTI1NiIscikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5faGV4KGUpfSl9fSx7a2V5OiJfaGV4Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj1uZXcgRGF0YVZpZXcoZSksbj0wO248ci5ieXRlTGVuZ3RoO24rPTQpewovLyBVc2luZyBnZXRVaW50MzIgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgbmVlZGVkICh3ZSBwcm9jZXNzIDQgYnl0ZXMgZWFjaCB0aW1lKQp2YXIgaT1yLmdldFVpbnQzMihuKSxvPWkudG9TdHJpbmcoMTYpLHM9KCIwMDAwMDAwMCIrbykuc2xpY2UoLSIwMDAwMDAwMCIubGVuZ3RoKTt0LnB1c2gocyl9Ci8vIEpvaW4gYWxsIHRoZSBoZXggc3RyaW5ncyBpbnRvIG9uZQpyZXR1cm4gdC5qb2luKCIiKX19XSksQ3J5cHRvfSgpO3QuZGVmYXVsdD1oLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5MiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOwovLyBNYXJzaGFscyBhIHN0cmluZyB0byBVaW50OEFycmF5LgpmdW5jdGlvbiBlbmNvZGVVVEY4KGUpe2Zvcih2YXIgdD0wLHI9bmV3IFVpbnQ4QXJyYXkoNCplLmxlbmd0aCksbj0wO24hPWUubGVuZ3RoO24rKyl7dHJ5e2UuY2hhckNvZGVBdChuKX1jYXRjaChlKXtyZXR1cm59dmFyIGk9ZS5jaGFyQ29kZUF0KG4pO2lmKGk8MTI4KXJbdCsrXT1pO2Vsc2V7aWYoaTwyMDQ4KXJbdCsrXT1pPj42fDE5MjtlbHNle2lmKGk+NTUyOTUmJmk8NTYzMjApe2lmKCsrbj09ZS5sZW5ndGgpdGhyb3ciVVRGLTggZW5jb2RlOiBpbmNvbXBsZXRlIHN1cnJvZ2F0ZSBwYWlyIjt2YXIgbz1lLmNoYXJDb2RlQXQobik7aWYobzw1NjMyMHx8bz41NzM0Myl0aHJvdyJVVEYtOCBlbmNvZGU6IHNlY29uZCBjaGFyIGNvZGUgMHgiK28udG9TdHJpbmcoMTYpKyIgYXQgaW5kZXggIituKyIgaW4gc3Vycm9nYXRlIHBhaXIgb3V0IG9mIHJhbmdlIjtpPTY1NTM2KygoMTAyMyZpKTw8MTApKygxMDIzJm8pLHJbdCsrXT1pPj4xOHwyNDAsclt0KytdPWk+PjEyJjYzfDEyOH1lbHNlCi8vIGMgPD0gMHhmZmZmCnJbdCsrXT1pPj4xMnwyMjQ7clt0KytdPWk+PjYmNjN8MTI4fXJbdCsrXT02MyZpfDEyOH19cmV0dXJuIHIuc3ViYXJyYXkoMCx0KX0KLy8gVW5tYXJzaGFscyBhbiBVaW50OEFycmF5IHRvIHN0cmluZy4KZnVuY3Rpb24gZGVjb2RlVVRGOChlKXtmb3IodmFyIHQ9IiIscj0wO3I8ZS5sZW5ndGg7KXt2YXIgbj1lW3IrK107aWYobj4xMjcpe2lmKG4+MTkxJiZuPDIyNCl7aWYocj49ZS5sZW5ndGgpdGhyb3ciVVRGLTggZGVjb2RlOiBpbmNvbXBsZXRlIDItYnl0ZSBzZXF1ZW5jZSI7bj0oMzEmbik8PDZ8NjMmZVtyXX1lbHNlIGlmKG4+MjIzJiZuPDI0MCl7aWYocisxPj1lLmxlbmd0aCl0aHJvdyJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgMy1ieXRlIHNlcXVlbmNlIjtuPSgxNSZuKTw8MTJ8KDYzJmVbcl0pPDw2fDYzJmVbKytyXX1lbHNle2lmKCEobj4yMzkmJm48MjQ4KSl0aHJvdyJVVEYtOCBkZWNvZGU6IHVua25vd24gbXVsdGlieXRlIHN0YXJ0IDB4IituLnRvU3RyaW5nKDE2KSsiIGF0IGluZGV4ICIrKHItMSk7aWYocisyPj1lLmxlbmd0aCl0aHJvdyJVVEYtOCBkZWNvZGU6IGluY29tcGxldGUgNC1ieXRlIHNlcXVlbmNlIjtuPSg3Jm4pPDwxOHwoNjMmZVtyXSk8PDEyfCg2MyZlWysrcl0pPDw2fDYzJmVbKytyXX0rK3J9aWYobjw9NjU1MzUpdCs9U3RyaW5nLmZyb21DaGFyQ29kZShuKTtlbHNle2lmKCEobjw9MTExNDExMSkpdGhyb3ciVVRGLTggZGVjb2RlOiBjb2RlIHBvaW50IDB4IituLnRvU3RyaW5nKDE2KSsiIGV4Y2VlZHMgVVRGLTE2IHJlYWNoIjtuLT02NTUzNix0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4+PjEwfDU1Mjk2KSx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEwMjMmbnw1NjMyMCl9fXJldHVybiB0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmVuY29kZVVURjg9ZW5jb2RlVVRGOCx0LmRlY29kZVVURjg9ZGVjb2RlVVRGOH0sLyogNDkzICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoOTgpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9cigxNCkseT1yKDEwMCksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoImxvYWRlciIpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2FkZXIoZSx0LHIpe2lmKCgwLHUuZGVmYXVsdCkodGhpcyxMb2FkZXIpLCF0KXRocm93IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIFRoZSBkZXNjcmlwdG9yIG5lZWQgdG8ga25vdyB0aGUgcnVudGltZSBjb25maWd1cmF0aW9uIik7aWYoIXIpdGhyb3cgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIERlc2NyaXB0b3IgaW5zdGFuY2UiKTt0aGlzLmxvZz12LHRoaXMucnVudGltZUNvbmZpZ3VyYXRpb249dCx0aGlzLmRlc2NyaXB0b3JzPXJ9LyoqCiAgICogU2V0IHJ1bnRpbWUgdXJsCiAgICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZSBydW50aW1lVVJMCiAgICovCnJldHVybigwLGYuZGVmYXVsdCkoTG9hZGVyLFt7a2V5OiJsb2FkSHlwZXJ0eSIsLyoqCiAgICAgKiBEZXBsb3kgSHlwZXJ0eSBmcm9tIENhdGFsb2d1ZSBVUkwKICAgICAqCiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3Qvc3BlY3MvdHJlZS9tYXN0ZXIvZGF0YW1vZGVsL2NvcmUvYWRkcmVzcwogICAgICoKICAgICAqIEBwYXJhbSB7VVJMLkh5cGVydHlDYXRhbG9ndWVVUkx9IGh5cGVydHlDYXRhbG9ndWVVUkwgLSBUaGUgQ2F0YWxvZ3VlIFVSTCB1c2VkIHRvIGlkZW50aWZ5IGRlc2NyaXB0b3JzIGluIHRoZSBDYXRhbG9ndWUuCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58VVJMLkh5cGVydHlVUkx9IFtyZXVzZVVSTD1mYWxzZV0gcmV1c2VVUkwgLSByZXVzZVVSTCBpcyB1c2VkIHRvIHJldXNlIHRoZSBoeXBlcnR5VVJMIHByZXZpb3VzbHkgcmVnaXN0cmVkLCBieSBkZWZhdWx0IHRoZSByZXVzZSBpcyBkaXNhYmxlZDsKICAgICAqIEBwYXJhbSB7VVJMfSBhcHBVUkwgLSB0aGUgYXBwIHVybCBvcmlnaW4gYWRkcmVzczsKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBJZHBDb25zdHJhaW50IC0gY29uc3RyYWludHMgdG8gYmUgdXNlZCB3aGVuIHNlbGVjdGluZyB0aGUgaWRlbnRpdHkgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBIeXBlcnR5IGluY2x1ZGluZyBvcmlnaW4sIGlkcCwgYW5kIGlkSGludC4KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEJvb2xlYW4sIEVycm9yPn0gdGhpcyBpcyBQcm9taXNlIGFuZCByZXR1cm5zIHRydWUgaWYgYWxsIGNvbXBvbmVudHMgYXJlIGxvYWRlZCB3aXRoIHN1Y2Nlc3Mgb3IgYW4gZXJyb3IgaWYgc29tZW9uZSBmYWlscy4KICAgICAqCiAgICAgKiBAbWVtYmVyT2YgTG9hZGVyCiAgICAgKi8KdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPXRoaXMsbj1hcmd1bWVudHNbMl07YXJndW1lbnRzWzNdO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHkgZGVzY3JpcHRvciB1cmwgcGFyYW1ldGVyIGlzIG5lZWRlZCIpO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7dmFyIGE9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGw9ITEsZD1mdW5jdGlvbihlKXt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gU29tZXRoaW5nIGZhaWxlZCBvbiB0aGUgZGVwbG95IGh5cGVydHk6ICIsZSkscyhlKX0seT1mdW5jdGlvbihlKXtsPSEwLHMoZSl9OwovLyBHZXQgSHlwZXJ0eSBkZXNjcmlwdG9yCi8vIFRPRE86IHRoZSByZXF1ZXN0IE1vZHVsZSBzaG91bGQgYmUgY2hhbmdlZCwKLy8gYmVjYXVzZSBhdCB0aGlzIG1vbWVudCBpdCBpcyBpbmNvbXBhdGlibGUgd2l0aCBub2RlanM7Ci8vIFByb2JhYmx5IHdlIG5lZWQgdG8gcGFzcyBhIGZhY3RvcnkgbGlrZSB3ZSBkbyBmb3Igc2FuZGJveGVzOwpyZXR1cm4gdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBIeXBlcnR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBHZXQgaHlwZXJ0eSBkZXNjcmlwdG9yIGZvciA6IixlKSxyLmRlc2NyaXB0b3JzLmdldEh5cGVydHlEZXNjcmlwdG9yKGUpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgY29tcGxldGVkICJzdGVwIDIgYW5kIDMiIGFzIHNob3duIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQKdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDE6IHJldHVybiBoeXBlcnR5IGRlc2NyaXB0b3IiKSwKLy8gaHlwZXJ0eSBjb250YWlucyB0aGUgZnVsbCBwYXRoIG9mIHRoZSBjYXRhbG9ndWUgVVJMLCBlLmcuCi8vIGNhdGFsb2d1ZS5yZXRoaW5rLmV1Ly53ZWxsLWtub3duLy4uLi4uLi4uLi4KYz1lO3ZhciB0PWUuc291cmNlUGFja2FnZVVSTDtyZXR1cm4iL3NvdXJjZVBhY2thZ2UiPT09dD9lLnNvdXJjZVBhY2thZ2U6ci5ydW50aW1lQ2F0YWxvZ3VlLmdldFNvdXJjZVBhY2thZ2VGcm9tVVJMKHQpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDI6IHJldHVybiBoeXBlcnR5IHNvdXJjZSBjb2RlIiksCi8vIGF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgY29tcGxldGVkICJzdGVwIDQgYW5kIDUiIGFzIHNob3duIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQKZj1lO3JldHVybiEwfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDM6IHJldHVybiBwb2xpY3kgZW5naW5lIHJlc3VsdCIrZSk7Ci8vIHRoaXMgd2lsbCByZXR1cm4gdGhlIHNhbmRib3ggb3Igb25lIHByb21pc2UgdG8gZ2V0U2FuZGJveDsKcmV0dXJuIHIucmVnaXN0cnkuZ2V0QXBwU2FuZGJveCgpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQ6IHJldHVybiB0aGUgc2FuZGJveCIsZSksZSl9LGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDQuMTogVHJ5IHRvIHJlZ2lzdGVyIGEgbmV3IHNhbmRib3giKTsKLy8gY2hlY2sgaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZWQgZm9yIHRoaXMgaHlwZXJ0eSBkZXNjcmlwdG9yIHVybDsKLy8gTWFrZSBTdGVwcyB4eHggLS0tIHh4eAovLyBJbnN0YW50aWF0ZSB0aGUgU2FuZGJveAp2YXIgdD17fTtyZXR1cm4gYyYmYy5oYXNPd25Qcm9wZXJ0eSgiY2FwYWJpbGl0aWVzIikmJih0PWMuc3R1YkNhcGFiaWxpdGllcyksci5fcnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveCh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbihlKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9KSxlfSl9LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gNTogcmV0dXJuIHNhbmRib3ggYW5kIHJlZ2lzdGVyIiksdT1lOwovL2RlYnVnZ2VyOwpyZXR1cm4gci5fYWRkcmVzc0FsbG9jYXRpb24uY3JlYXRlKHIuX3JlZ2lzdHJ5Ll9kb21haW4sMSxjLCJoeXBlcnR5Iix0KX0seSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA2OiByZXR1cm4gdGhlIGFkZHJlc3NlcyBmb3IgdGhlIGh5cGVydHkiLHQpLHIucmVnaXN0cnkucmVnaXN0ZXJIeXBlcnR5KHUsZSxjLHQsbikpfSx5KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDc6IHJlZ2lzdHJhdGlvbiByZXN1bHQiLGUpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDE2IG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93LgphPWUudXJsOwovLyBFeHRlbmQgb3JpZ2luYWwgaHlwZXJ0eSBjb25maWd1cmF0aW9uOwp2YXIgdD17fTtpZighKDAscC5lbXB0eU9iamVjdCkoYy5jb25maWd1cmF0aW9uKSl0cnl7dD0oMCxpLmRlZmF1bHQpKHt9LEpTT04ucGFyc2UoYy5jb25maWd1cmF0aW9uKSl9Y2F0Y2goZSl7dD1jLmNvbmZpZ3VyYXRpb259dC5ydW50aW1lVVJMPXIuX3J1bnRpbWVVUkwsZS5wMnBIYW5kbGVyJiYodC5wMnBIYW5kbGVyPWUucDJwSGFuZGxlcix0LnAycFJlcXVlc3Rlcj1lLnAycFJlcXVlc3Rlcik7Ci8vIFdlIHdpbGwgZGVwbG95IHRoZSBjb21wb25lbnQgLSBzdGVwIDE3IG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93Lgp0cnl7cmV0dXJuIHUuZGVwbG95Q29tcG9uZW50KGYuc291cmNlQ29kZSxhLHQpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSkscyhlKX19LHkpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gODogRGVwbG95IGNvbXBvbmVudCBzdGF0dXMgZm9yIGh5cGVydHk6ICIsZSksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMTkgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCi8vIEFkZCB0aGUgbWVzc2FnZSBidXMgbGlzdGVuZXIgdG8gdGhlIGFwcFNhbmRib3ggb3IgaHlwZXJ0U2FuZGJveDsKci5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKGEsZnVuY3Rpb24oZSl7dS5wb3N0TWVzc2FnZShlKX0pOwovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDIwIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93Lgp2YXIgdD17cnVudGltZUh5cGVydHlVUkw6YSxzdGF0dXM6ZX07di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIEh5cGVydHk6ICIsdCksbyh0KSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAyMSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1oeXBlcnR5Lm1kIHJpZ2h0IG5vdy4Kdi5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIC0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIil9LHkpLmNhdGNoKGQpfSl9fSx7a2V5OiJsb2FkU3R1YiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCF0aGlzLl9yZWFkeVRvVXNlKCkpcmV0dXJuITE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdUHJvdG9TdHViIGRlc2NyaXB0b3IgdXJsIHBhcmFtZXRlciBpcyBuZWVkZWQiKTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pewovLyB0byBhbmFseXNlIGlmIGRvbWFpbiBmb3IgcDJwSGFuZGxlcnMgc2hvdWxkIGJlIHNvbWV0aGluZyBlbHNlIGFuZCBub3QgdGhlIGRlZmF1bHQgZG9tYWluIGl0c2VsZgp2YXIgcz0oMCxwLmRpdmlkZVVSTCkoZSkuZG9tYWluO3N8fChzPWUpO3ZhciBhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPXZvaWQgMCxsPSExLGQ9dm9pZCAwLHk9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdU29tZXRoaW5nIGZhaWxlZCBvbiB0aGUgZGVwbG95IG9mIHByb3RvY29sc3R1YjogIixlKSxvKGUpfSxoPWZ1bmN0aW9uKGUpe2w9ITAsbyhlKX0sZz12b2lkIDAsYj17fTt2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0gc3RhcnRpbmcgbG9hZGluZyBmb3IgIixlLCIgd2l0aCBwMnBjb25maWcgIix0KSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl1EaXNjb3ZlciBvciBDcmVhdGUgYSBuZXcgUHJvdG9TdHViIGZvciBkb21haW46ICIscyk7Ci8vIHN0ZXAgMiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdHJ5e2lmKHQpaWYodC5oYXNPd25Qcm9wZXJ0eSgiaXNIYW5kbGVyU3R1YiIpJiZ0LmlzSGFuZGxlclN0dWIpCi8vIHN0ZXAgNiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKITAsZD1yLnJ1bnRpbWVVUkwsZz1yLnJlZ2lzdHJ5LmRpc2NvdmVyUDJQU3R1YigpO2Vsc2V7ITA7dmFyIG09dC5yZW1vdGVSdW50aW1lVVJMO2Q9bSwKLy8gc3RlcCA0IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAovLyBzdGVwIDUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCmc9ci5yZWdpc3RyeS5kaXNjb3ZlclAyUFN0dWIobSl9ZWxzZQovLyBzdGVwIDMgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCmQ9cyxnPXIucmVnaXN0cnkuZGlzY292ZXJQcm90b3N0dWIocyk7Ci8vIElzIHJlZ2lzdGVkPwp2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0xLiBQcm90byBTdHViIERpc2NvdmVyZWQgZm9yICIsZSwiOiAiLGcpLAovLyBzdGVwIDIzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApuKGcpLHYuaW5mbygiIFtSdW50aW1lLkxvYWRlcl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfWNhdGNoKGcpewovLyBpcyBub3QgcmVnaXN0ZWQ/CnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTEuIFByb3RvIFN0dWIgbm90IGZvdW5kICIrZyksCi8vIHN0ZXAgOCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKci5kZXNjcmlwdG9ycy5nZXRTdHViRGVzY3JpcHRvcihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGwpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdMi4gcmV0dXJuIHRoZSBQcm90b1N0dWIgZGVzY3JpcHRvciIpLAovLyBzdGVwIDkgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnU9ZTt2YXIgdD1lLnNvdXJjZVBhY2thZ2VVUkw7cmV0dXJuIi9zb3VyY2VQYWNrYWdlIj09PXQ/ZS5zb3VyY2VQYWNrYWdlOnIucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCh0KX0saCkuY2F0Y2goeSkudGhlbihmdW5jdGlvbihlKXsKLy8gQWNjb3JkaW5nIHRvIGRlYnVnLCBpdCBzZWVtcyBSdW50aW1lQ2F0YWxvZ3VlIGRvZXMgbm90IHN1cHBvcnQgeWV0IGNvbnN0cmFpbnRzLiBJdCBhcHBlYXJzIGVtcHR5ISEhIQovLyBzdGVwIDExIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApyZXR1cm4hbCYmKHUmJnUuY29uc3RyYWludHMmJihiPXUuY29uc3RyYWludHMpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTMuIHJldHVybiB0aGUgUHJvdG9TdHViIFNvdXJjZSBDb2RlIiksZj1lLHIucmVnaXN0cnkuZ2V0U2FuZGJveChzLGIpKX0pLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIHN0ZXAgMTUgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnJldHVybiFsJiYodi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCAiLGUpLGE9ZSxlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBzdGVwIDEzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZApyZXR1cm4hbCYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXTUuIFNhbmRib3ggd2FzIG5vdCBmb3VuZCwgY3JlYXRpbmcgYSBuZXcgb25lICIsZSksci5fcnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveChiKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZExpc3RlbmVyKCIqIixmdW5jdGlvbihlKXtyLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoZSl9KSxlfSkpfSkudGhlbihmdW5jdGlvbihuKXsKLy8gc3RlcCAxNiBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKcmV0dXJuIWwmJih2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl02LiByZXR1cm4gdGhlIHNhbmRib3ggaW5zdGFuY2UgYW5kIHJlZ2lzdGVyIixuLCJ0byBkb21haW4gIixzKSxhPW4sci5yZWdpc3RyeS5yZWdpc3RlclN0dWIoYSxkLHQsZSx1KSl9LGgpLnRoZW4oZnVuY3Rpb24oZSl7aWYobClyZXR1cm4hMTsKLy8gc3RlcCAyMyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdi5pbmZvKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIDcuIHJldHVybiB0aGUgcnVudGltZSBwcm90b3N0dWIgdXJsOiAiLGUpLGM9ZS51cmw7Ci8vIEV4dGVuZCBvcmlnaW5hbCBoeXBlcnR5IGNvbmZpZ3VyYXRpb247CnZhciBuPXt9O2lmKCEoMCxwLmVtcHR5T2JqZWN0KSh1LmNvbmZpZ3VyYXRpb24pKXRyeXtuPSgwLGkuZGVmYXVsdCkoe30sSlNPTi5wYXJzZSh1LmNvbmZpZ3VyYXRpb24pKX1jYXRjaChlKXtuPXUuY29uZmlndXJhdGlvbn1pZih0KXRyeXtuPSgwLGkuZGVmYXVsdCkobixKU09OLnBhcnNlKHQpKX1jYXRjaChlKXtuPSgwLGkuZGVmYXVsdCkobix0KX0KLy8gcmVxdWlyZWQgZm9yIHByb3Rvc3R1YiBzZXNzaW9uCm4ucnVudGltZVVSTD1yLl9ydW50aW1lVVJMOwovLyBzdGVwIDI0IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp0cnl7Ci8vIHN0ZXAgMjYgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIHN0ZXAgMjcgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCi8vIEFkZCB0aGUgbWVzc2FnZSBidXMgbGlzdGVuZXIKcmV0dXJuIHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSA4OiBhZGRpbmcgc2FuZGJveCBsaXN0ZW5lciB0byBwcm90b3N0dWJVUkwgOiAiLGMpLHIubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihjLGZ1bmN0aW9uKGUpe2EucG9zdE1lc3NhZ2UoZSl9KSxhLmRlcGxveUNvbXBvbmVudChmLnNvdXJjZUNvZGUsYyxuKX1jYXRjaChlKXt2LmVycm9yKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIEVycm9yIG9uIGRlcGxveSBjb21wb25lbnQ6IixlKSxvKGUpfX0saCkudGhlbihmdW5jdGlvbigpe2lmKGwpcmV0dXJuITE7Ci8vIHN0ZXAgMjggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCnZhciBlPXZvaWQgMDt0Pyh2LmxvZygiW1J1bnRpbWUuTG9hZGVyLmxvYWRTdHViXSBwMnBDb25maWc6ICIsdCksdC5oYXNPd25Qcm9wZXJ0eSgiaXNIYW5kbGVyU3R1YiIpJiYoZT1yLnJlZ2lzdHJ5LnAycEhhbmRsZXJTdHViW3IuX3J1bnRpbWVVUkxdKSx0Lmhhc093blByb3BlcnR5KCJwMnBSZXF1ZXN0ZXJTdHViIikmJihlPXIucmVnaXN0cnkucDJwUmVxdWVzdGVyU3R1Ylt0LnJlbW90ZVJ1bnRpbWVVUkxdKSk6ZT1yLnJlZ2lzdHJ5LnByb3Rvc3R1YnNMaXN0W3NdLHYubG9nKCJbUnVudGltZS5Mb2FkZXIubG9hZFN0dWJdIFN0dWI6ICIsZSksbihlKSx2LmluZm8oIltSdW50aW1lLkxvYWRlci5sb2FkU3R1Yl0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIpfSxoKS5jYXRjaCh5KX19KX19LHtrZXk6ImxvYWRJZHBQcm94eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5fcmVhZHlUb1VzZSgpKXJldHVybiExO2lmKCFlKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBJZHBQcm94eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkIik7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt2YXIgbz0oMCxwLmRpdmlkZVVSTCkoZSkuZG9tYWluO298fChvPWUpO3ZhciBzPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxmPSExLGw9ZnVuY3Rpb24oZSl7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIFNvbWV0aGluZyBmYWlsZWQgb24gdGhlIGRlcGxveSBvZiBJZHBQcm94eTogIixlKSxuKGUpfSxkPWZ1bmN0aW9uKGUpe2Y9ITAsbihlKX07Ci8vIERpc2NvdmVyIElEUFByb3h5CnYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAtLS0tLS0tLS0tLS0tLS0tLS0tIElEUCBQcm94eSBEZXBsb3kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IElkcFByb3h5IGZvciBkb21haW4vVVJMOiAiLG8pO3RyeXt2YXIgeT10LnJlZ2lzdHJ5LmRpc2NvdmVySWRwUHJveHkobyk7Ci8vIElzIHJlZ2lzdGVkPwp2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSURQUHJveHkgRGlzY292ZXJlZDogIix5KTsKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAyIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp2YXIgaD10LnJlZ2lzdHJ5LmlkcFByb3h5TGlzdFtvXTt2LmxvZygiRGVwbG95ZWQ6ICIsaCkscihoKSx2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX1jYXRjaCh5KXsKLy8gaXMgbm90IHJlZ2lzdGVkPwp2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMS4gSWRwUHJveHkgbm90IGZvdW5kOiIseSksCi8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gd2UgbmVlZCB0byBnZXQgUHJvdG9TdHViIGRlc2NyaXB0b3Igc3RlcCA0IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAp0LmRlc2NyaXB0b3JzLmdldElkcFByb3h5RGVzY3JpcHRvcihlKS50aGVuKGZ1bmN0aW9uKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSAyLiBSZXR1cm4gdGhlIElEUFByb3h5IGRlc2NyaXB0b3IiKSwKLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCA1IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAphPWU7dmFyIHI9ZS5zb3VyY2VQYWNrYWdlVVJMO3JldHVybiIvc291cmNlUGFja2FnZSI9PT1yP2Uuc291cmNlUGFja2FnZTp0LnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwocil9LGQpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZilyZXR1cm4hMTt2LmluZm8oIltSdW50aW1lLkxvYWRlcl0gMy4gcmV0dXJuIHRoZSBJRFBQcm94eSBzb3VyY2UgcGFja2FnZSIpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDcgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCmM9ZTtyZXR1cm4hMH0sZCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hZiYmdC5yZWdpc3RyeS5nZXRTYW5kYm94KG8pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hZiYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA0LiBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlcmVkIHRoZW4gcmV0dXJuIHRoZSBzYW5kYm94IixlKSxzPWUsZSl9KS5jYXRjaChmdW5jdGlvbihlKXtpZihmKXJldHVybiExO3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA1LiBTYW5kYm94IHdhcyBub3QgZm91bmQsIGNyZWF0aW5nIGEgbmV3IG9uZSIsZSk7dmFyIHI9e307cmV0dXJuIGEmJmEuaGFzT3duUHJvcGVydHkoImNhcGFiaWxpdGllcyIpJiYoYT1hLnN0dWJDYXBhYmlsaXRpZXMpLHQuX3J1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3gocikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRMaXN0ZW5lcigiKiIsZnVuY3Rpb24oZSl7dC5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKGUpfSksZX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4hZiYmKHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSA2LiByZXR1cm4gdGhlIHNhbmRib3ggaW5zdGFuY2UgYW5kIHJlZ2lzdGVyIixlLCJ0byBkb21haW4gIixvKSxzPWUsdC5yZWdpc3RyeS5yZWdpc3RlcklkcFByb3h5KGUsbykpfSxkKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGYpcmV0dXJuITE7di5pbmZvKCJbUnVudGltZS5Mb2FkZXJdIDcuIFJldHVybiB0aGUgcnVudGltZSBJZHAgUHJveHkgVVJMOiAiLGUpLAovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIHh4eCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKdT1lOwovLyBFeHRlbmQgb3JpZ2luYWwgaHlwZXJ0eSBjb25maWd1cmF0aW9uOwp2YXIgcj17fTtpZighKDAscC5lbXB0eU9iamVjdCkoYS5jb25maWd1cmF0aW9uKSl0cnl7cj0oMCxpLmRlZmF1bHQpKHt9LEpTT04ucGFyc2UoYS5jb25maWd1cmF0aW9uKSl9Y2F0Y2goZSl7cj1hLmNvbmZpZ3VyYXRpb259ci5ydW50aW1lVVJMPXQuX3J1bnRpbWVVUkw7Ci8vIERlcGxveSBDb21wb25lbnQgc3RlcCB4eHgKdHJ5ewovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIHh4eCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gQWRkIHRoZSBtZXNzYWdlIGJ1cyBsaXN0ZW5lcgpyZXR1cm4gdC5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKHUsZnVuY3Rpb24oZSl7cy5wb3N0TWVzc2FnZShlKX0pLHMuZGVwbG95Q29tcG9uZW50KGMuc291cmNlQ29kZSxlLHIpfWNhdGNoKGUpe3YuaW5mbygiW1J1bnRpbWUuTG9hZGVyXSBFcnJvciBvbiBkZXBsb3kgY29tcG9uZW50OiIsZSksbihlKX19LGQpLnRoZW4oZnVuY3Rpb24oKXtpZihmKXJldHVybiExOwovLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIHh4eCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKLy8gTG9hZCBTdHViIGZ1bmN0aW9uIHJlc29sdmVkIHdpdGggc3VjY2VzczsKLy8gbGV0IGlkcFByb3h5ID0gewovLyAgIHJ1bnRpbWVJZHBQcm94eVVSTDogX3J1bnRpbWVJZHBQcm94eVVSTCwKLy8gICBzdGF0dXM6IGRlcGxveUNvbXBvbmVudFN0YXR1cwovLyB9OwovL3RoaXMucmVnaXN0cnkuaWRwUHJveHlMaXN0W2RvbWFpbl0uc3RhdHVzID0gJ2RlcGxveWVkJzsKdmFyIGU9dC5yZWdpc3RyeS5pZHBQcm94eUxpc3Rbb107di5sb2coIltSdW50aW1lLkxvYWRlci5sb2FkSWRwUHJveHldIDg6IGxvYWRlZDogIixlKSxyKGUpLHYuaW5mbygiW1J1bnRpbWUuTG9hZGVyLmxvYWRJZHBQcm94eV0gLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKX0sZCkuY2F0Y2gobCl9fSl9fSx7a2V5OiJfcmVhZHlUb1VzZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5fcnVudGltZVVSTCl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSBydW50aW1lIHVybCBhZGRyZXNzIik7aWYoIXRoaXMuX21lc3NhZ2VzQnVzKXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIG1lc3NhZ2VCdXMgY29tcG9uZW50Iik7aWYoIXRoaXMuX3JlZ2lzdHJ5KXRocm93IG5ldyBFcnJvcigiW1J1bnRpbWUuTG9hZGVyXSBUaGUgbG9hZGVyIG5lZWQgdGhlIHJlZ2lzdHJ5IGNvbXBvbmVudCIpO2lmKCF0aGlzLl9ydW50aW1lRmFjdG9yeSl0aHJvdyBuZXcgRXJyb3IoIltSdW50aW1lLkxvYWRlcl0gVGhlIGxvYWRlciBuZWVkIHRoZSBydW50aW1lIGZhY3RvcnkgY29tcG9uZW50Iik7cmV0dXJuITB9fSx7a2V5OiJydW50aW1lVVJMIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcnVudGltZVVSTD1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVudGltZVVSTH19LHtrZXk6InJlZ2lzdHJ5IixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVnaXN0cnk9ZTsKLy8gSW5zdGFsbCBBZGRyZXNzQWxsb2NhdGlvbgp2YXIgdD1oLmRlZmF1bHQuaW5zdGFuY2U7dGhpcy5fYWRkcmVzc0FsbG9jYXRpb249dCx2LmxvZygiW0xvYWRlciAtIEFkZHJlc3NBbGxvY2F0aW9uXSAtICIsdCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWdpc3RyeX19LHtrZXk6Im1lc3NhZ2VCdXMiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlc0J1cz1lfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZXNCdXN9fSx7a2V5OiJydW50aW1lRmFjdG9yeSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3J1bnRpbWVGYWN0b3J5PWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lRmFjdG9yeX19XSksTG9hZGVyfSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5NCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHN0b3JhZ2UoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgcnVudGltZSBmYWN0b3J5IGlzIGEgbmVlZGVkIHBhcmFtZXRlciIpO3JldHVybigwLGkuZGVmYXVsdCkoby5ydW50aW1lQ29uZmlndXJhdGlvbi5zdG9yYWdlU2NoZW1hcykuZm9yRWFjaChmdW5jdGlvbih0KXtzLmhhc093blByb3BlcnR5KHQpfHwoc1t0XT1lLnN0b3JhZ2VNYW5hZ2VyKHQsby5ydW50aW1lQ29uZmlndXJhdGlvbi5zdG9yYWdlU2NoZW1hc1t0XSkpfSksc31PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNyksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3Quc3RvcmFnZT1zdG9yYWdlO3ZhciBvPXIoMTQ0KSxzPXt9fSwvKiA0OTUgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig5KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDEpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMiksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxNCksZj1yKDE0MyksbD1yKDcpLGQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxwPWQuZ2V0TG9nZ2VyKCJEZXNjcmlwdG9ycyIpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEZXNjcmlwdG9ycyhlLHQscil7aWYoKDAscy5kZWZhdWx0KSh0aGlzLERlc2NyaXB0b3JzKSwhZSl0aHJvdyBFcnJvcigiVGhlIGRlc2NyaXB0b3IgbmVlZCB0byBrbm93IHRoZSBydW50aW1lIHVybCB0byBiZSB1c2VkIik7aWYoIXQpdGhyb3cgRXJyb3IoIlRoZSBkZXNjcmlwdG9yIG5lZWRzIHRoZSBjYXRhbG9ndWUgaW5zdGFuY2UiKTtpZighcil0aHJvdyBFcnJvcigiVGhlIGRlc2NyaXB0b3IgbmVlZHMgdGhlIHJ1bnRpbWUgY29uZmlndXJhdGlvbiIpO3RoaXMubG9nPXAsdGhpcy5ydW50aW1lQ29uZmlndXJhdGlvbj1yLHRoaXMucnVudGltZVVSTD1lLHRoaXMuY2F0YWxvZ3VlPXQsdGhpcy5jb25zdHJhaW50cz1mLnJ1bnRpbWVVdGlscy5ydW50aW1lQ2FwYWJpbGl0aWVzfXJldHVybigwLHUuZGVmYXVsdCkoRGVzY3JpcHRvcnMsW3trZXk6ImdldEh5cGVydHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYXRhbG9ndWUuZ2V0SHlwZXJ0eURlc2NyaXB0b3IoZSwhMCx0aGlzLmNvbnN0cmFpbnRzKX19LHtrZXk6ImdldFN0dWJEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dmFyIGk9dm9pZCAwLG89dm9pZCAwLHM9dm9pZCAwLGE9KDAsYy5kaXZpZGVVUkwpKHQucnVudGltZVVSTCksdT1hLmRvbWFpbjtpZihlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIGY9KDAsYy5kaXZpZGVVUkwpKGUpO2k9Zi5kb21haW47dmFyIGw9Zi5pZGVudGl0eTtvPWw/bC5zdWJzdHJpbmcobC5sYXN0SW5kZXhPZigiLyIpKzEpOiJkZWZhdWx0In1lbHNlIG89ImRlZmF1bHQiLGk9ZTtpZihzPSgwLGMuYnVpbGRVUkwpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJwcm90b2NvbHN0dWIiLG8pLGkhPT10LnJ1bnRpbWVDb25maWd1cmF0aW9uLmRvbWFpbilpZihlLmluZGV4T2YoImh0dHBzIikmJmUuaW5kZXhPZigiaHlwZXJ0eS1jYXRhbG9ndWUiKSl7Ci8vIFRPRE86IGNoZWNrIGhvdyB0byBsb2FkIGZvcm0gZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gZG9tYWluCnZhciBkPSgwLGMuZ2V0Q29uZmlndXJhdGlvblJlc291cmNlcykodC5ydW50aW1lQ29uZmlndXJhdGlvbiwiY2F0YWxvZ3VlVVJMcyIsInByb3RvY29sc3R1YiIpO3M9ZC5wcmVmaXgraStkLnN1ZmZpeCtvfWVsc2Ugcz1lO3JldHVybiBwLmxvZygiTG9hZCBQcm90b2NvbFN0dWIgZm9yIGRvbWFpbiwgIitpKyIgOiAiLHMpLHQuY2F0YWxvZ3VlLmdldFN0dWJEZXNjcmlwdG9yKHMsITAsdC5jb25zdHJhaW50cykudGhlbihmdW5jdGlvbihlKXtyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ0Vycm9yOiAnLCBlcnJvcik7Cm89aSxpPXU7dmFyIHI9KDAsYy5nZXRDb25maWd1cmF0aW9uUmVzb3VyY2VzKSh0LnJ1bnRpbWVDb25maWd1cmF0aW9uLCJjYXRhbG9ndWVVUkxzIiwicHJvdG9jb2xzdHViIik7Ci8vIGxvZy5sb2coJ0ZhbGxiYWNrIC0+IExvYWQgUHJvdG9jb2xzdHViIGZvciBkb21haW4sICcgKyBkb21haW4gKyAnIDogJywgcHJvdG9zdHViKTsKcmV0dXJuIHM9ci5wcmVmaXgraStyLnN1ZmZpeCtvLHQuY2F0YWxvZ3VlLmdldFN0dWJEZXNjcmlwdG9yKHMsITAsdC5jb25zdHJhaW50cyl9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19LHtrZXk6ImdldElkcFByb3h5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihyLG4pe3ZhciBpPXZvaWQgMCxvPXZvaWQgMCxzPSgwLGMuZGl2aWRlVVJMKSh0LnJ1bnRpbWVVUkwpLGE9cy5kb21haW4sdT10LmNvbnN0cmFpbnRzO2lmKHUuY29uc3RyYWludHMub25seUFjY2Vzc1Rva2VuPSEwLHUuY29uc3RyYWludHMub25seUlkQXNzZXJ0aW9uVmFsaWRhdGlvbj0hMCxlLmluY2x1ZGVzKCI6Ly8iKSl7dmFyIGY9KDAsYy5kaXZpZGVVUkwpKGUpO2k9Zi5kb21haW47dmFyIGw9Zi5pZGVudGl0eTtvPWw/bC5zdWJzdHJpbmcobC5sYXN0SW5kZXhPZigiLyIpKzEpOiJkZWZhdWx0In1lbHNlIG89ImRlZmF1bHQiLGk9ZTt2YXIgZD0oMCxjLmdldENvbmZpZ3VyYXRpb25SZXNvdXJjZXMpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJpZHBQcm94eSIpOwovLyBsb2cubG9nKCdMb2FkIElkcCBQcm94eSBmb3IgZG9tYWluLCAnICsgZG9tYWluICsgJyA6ICcsIGlkcFByb3h5VVJMKTsKcmV0dXJuIGU9ZC5wcmVmaXgraStkLnN1ZmZpeCtvLHQuY2F0YWxvZ3VlLmdldElkcFByb3h5RGVzY3JpcHRvcihlLCEwLHUpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pLmNhdGNoKGZ1bmN0aW9uKCl7Ci8vIGxvZy5sb2coJ0xvYWQgSWRwIFByb3h5IGZvciBkb21haW4sICcgKyBkb21haW4gKyAnIDogJywgaWRwUHJveHlVUkwpOwpyZXR1cm4gbz1pLGk9YSxlPSgwLGMuYnVpbGRVUkwpKHQucnVudGltZUNvbmZpZ3VyYXRpb24sImNhdGFsb2d1ZVVSTHMiLCJpZHBQcm94eSIsbyksdC5jYXRhbG9ndWUuZ2V0SWRwUHJveHlEZXNjcmlwdG9yKGUsITAsdSl9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KS5jYXRjaChmdW5jdGlvbihlKXtuKGUpfSl9KX19XSksRGVzY3JpcHRvcnN9KCk7dC5kZWZhdWx0PXksZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDk2ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyKSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT0ocigyMDEpLHIoNykpLHU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShhKSxjPXUuZ2V0TG9nZ2VyKCJSdW50aW1lVUEiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTXNnQnVzSGFuZGxlcnMoZSx0LHIpe2lmKCgwLGkuZGVmYXVsdCkodGhpcyxNc2dCdXNIYW5kbGVycyksIWUpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gcGVwIGlucHV0IHBhcmFtZW50ZXIgaXMgbWFuZGF0b3J5Iik7aWYoIXQpdGhyb3cgRXJyb3IoIltNc2dCdXNIYW5kbGVyc10gaWRtIGlucHV0IHBhcmFtZW50ZSBpcyBtYW5kYXRvcnkiKTtpZighcil0aHJvdyBFcnJvcigiW01zZ0J1c0hhbmRsZXJzXSBjcnlwdG8gaW5wdXQgcGFyYW1lbnRlIGlzIG1hbmRhdG9yeSIpO3RoaXMucG9saWN5RW5naW5lPWUsdGhpcy5pZGVudGl0eU1hbmFnZXI9dCx0aGlzLmNyeXB0b01hbmFnZXI9cn0KLy8gUG9saWN5IGJhc2VkIGFjY2VzcyBjb250cm9sIGZvciBpbmNvbWluZyBtZXNzYWdlcwpyZXR1cm4oMCxzLmRlZmF1bHQpKE1zZ0J1c0hhbmRsZXJzLFt7a2V5OiJwZXBJbkhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucG9saWN5RW5naW5lLmF1dGhvcmlzZSh0Lm1zZywhMCkudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJwZXBPdXRIYW5kbGVyIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0KXtlLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UodC5tc2csITEpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiaWRtSGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5pZGVudGl0eU1hbmFnZXIucHJvY2Vzc01lc3NhZ2UodC5tc2cpLnRoZW4oZnVuY3Rpb24oZSl7dC5tc2c9ZSx0Lm5leHQoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2MuZXJyb3IoZSksdC5mYWlsKGUpfSl9fX0se2tleToiZW5jcnlwdEhhbmRsZXIiLGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuY3J5cHRvTWFuYWdlci5lbmNyeXB0TWVzc2FnZSh0Lm1zZykudGhlbihmdW5jdGlvbihlKXt0Lm1zZz1lLHQubmV4dCgpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Yy5lcnJvcihlKSx0LmZhaWwoZSl9KX19fSx7a2V5OiJkZWNyeXB0SGFuZGxlciIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7ZS5jcnlwdG9NYW5hZ2VyLmRlY3J5cHRNZXNzYWdlKHQubXNnKS50aGVuKGZ1bmN0aW9uKGUpe3QubXNnPWUsdC5uZXh0KCl9KS5jYXRjaChmdW5jdGlvbihlKXtjLndhcm4oZSksdC5mYWlsKGUpfSl9fX1dKSxNc2dCdXNIYW5kbGVyc30oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA0OTcgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0OTgpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9aS5kZWZhdWx0LC8vIGxldCBHcmFwaENvbm5lY3RvcjsKLy8gaWYgKHByb2Nlc3MuZW52Lk1PREUgIT09ICdsaWdodCcpIHsKLy8gICBHcmFwaENvbm5lY3RvciA9IHJlcXVpcmUoJy4vR3JhcGhDb25uZWN0b3JCYXNlJyk7Ci8vICAgaWYgKEdyYXBoQ29ubmVjdG9yICYmIEdyYXBoQ29ubmVjdG9yLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykpIEdyYXBoQ29ubmVjdG9yID0gR3JhcGhDb25uZWN0b3IuZGVmYXVsdDsKLy8gfSBlbHNlIHsKLy8gICBHcmFwaENvbm5lY3RvciA9IHJlcXVpcmUoJy4vR3JhcGhDb25uZWN0b3JMaWdodCcpOwovLyAgIGlmIChHcmFwaENvbm5lY3RvciAmJiAgR3JhcGhDb25uZWN0b3IuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSkgR3JhcGhDb25uZWN0b3IgPSBHcmFwaENvbm5lY3Rvci5kZWZhdWx0OwovLyB9Ci8qKgogKiBUaGUgR3JhcGhDb25uZWN0b3JCYXNlIGhhdmUgc29tZSBwcm9ibGVtcyB3aXRoIHRoZSBzaXplOwogKiBAZGVwcmVjYXRlZCBEdWUgdG8gc29tZSBwcm9ibGVtcyBpbmNyZWFzZSBhIGxvdCB0aGUgZmlsZSBzaXplCiAqLwovLyBpbXBvcnQgR3JhcGhDb25uZWN0b3IgZnJvbSAnLi9HcmFwaENvbm5lY3RvckJhc2UnOwovKioKICoKICogQGV4cGVyaW1lbnRhbCB1c2VkIGluc3RlYWQgb2YgR3JhcGhDb25uZWN0b3JCYXNlOwogKi8KZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNDk4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMSksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLG89ZnVuY3Rpb24gR3JhcGhDb25uZWN0b3IoZSx0LHIpeygwLGkuZGVmYXVsdCkodGhpcyxHcmFwaENvbm5lY3Rvcil9O3QuZGVmYXVsdD1vLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDQ5OSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDkpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigyKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDcpLGY9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShjKSxsPXIoMTQpLGQ9Zi5nZXRMb2dnZXIoIkNvcmVEaXNjb3ZlcnkiKSxwPWZ1bmN0aW9uKCl7LyoqCiAgKiBUbyBpbml0aWFsaXNlIHRoZSBEaXNjb3ZlcnksIHdoaWNoIHdpbGwgcHJvdmlkZSB0aGUgc3VwcG9ydCBmb3IgaHlwZXJ0aWVzIHRvCiAgKiBxdWVyeSB1c2VycyByZWdpc3RlcmVkIGluIG91dHNpZGUgdGhlIGludGVybmFsIGNvcmUuCiAgKiBAcGFyYW0gIHtNZXNzYWdlQnVzfSAgICAgICAgICBtc2didXMgICAgICAgICAgICAgICAgbXNnYnVzCiAgKiBAcGFyYW0gIHtSdW50aW1lVVJMfSAgICAgICAgICBydW50aW1lVVJMICAgICAgICAgICAgcnVudGltZVVSTAogICogQHBhcmFtICB7Z3JhcGhDb25uZWN0b3J9ICAgIGdyYXBoQ29ubmVjdG9yCiAgKi8KZnVuY3Rpb24gQ29yZURpc2NvdmVyeShlLHQscixuLGkpe2lmKCgwLHMuZGVmYXVsdCkodGhpcyxDb3JlRGlzY292ZXJ5KSwhbil0aHJvdyBFcnJvcigiVGhlIGNhdGFsb2d1ZSBuZWVkcyB0aGUgcnVudGltZUZhY3RvcnkiKTt2YXIgbz10aGlzO3RoaXMuX21lc3NhZ2VCdXM9dCxvLmdyYXBoQ29ubmVjdG9yPXIsby5odHRwUmVxdWVzdD1uLmNyZWF0ZUh0dHBSZXF1ZXN0KCksby5kb21haW49KDAsbC5kaXZpZGVVUkwpKGUpLmRvbWFpbixvLmRpc2NvdmVyeVVSTD1lKyIvZGlzY292ZXJ5LyIsby5yZWdpc3RyeT1pLG8ubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcihvLmRpc2NvdmVyeVVSTCxmdW5jdGlvbihlKXtvLmRpc2NvdmVyeU1hbmFnZXIoZSkudGhlbihmdW5jdGlvbih0KXsKLy9GTE9XLU9VVDogbWVzc2FnZSByZXNwb25zZQpvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6dH19KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMCxuPXZvaWQgMDsiR3JhcGhDb25uZWN0b3IiPT09dD8ocj0iVGhpcyBzZWFyY2ggaXMgbm90IGF2YWlsYWJsZSBhdCB0aGUgbW9tZW50LiBUcnkgbGF0ZXIuIixuPTUwMCk6KHI9Ik5vdCBGb3VuZCIsbj00MDQpLAovL0ZMT1ctT1VUOiBlcnJvciBtZXNzYWdlIHJlc3BvbnNlCm8ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm4sZGVzY3JpcHRpb246cn19KX0pfSl9LyoqCiAgICogUmV0dXJucyB0aGUgTWVzc2FnZUJ1cy4KICAgKi8KcmV0dXJuKDAsdS5kZWZhdWx0KShDb3JlRGlzY292ZXJ5LFt7a2V5OiJkaXNjb3ZlcnlNYW5hZ2VyIiwvKiBmdW5jdGlvbiB0byBkZWNpZGUgd2hhdCBkaXNjb3ZlcnkgbWV0aG9kIHRvIGNhbGwgYW5kIGxhdGVyIHJldHVybiB0aGUgcmVzcG9uc2UgbXNnICAqLwp2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KCgwLGwuZGl2aWRlVVJMKShlLmZyb20pLmRvbWFpbixlLmJvZHkucmVzb3VyY2Uuc3BsaXQoIi8iKS5maWx0ZXIoQm9vbGVhbikpLG49W10sbz1bXTtzd2l0Y2goZC5sb2coIltDb3JlRGlzY292ZXJ5LmRpc2NvdmVyeU1hbmFnZXJdIHJlY2VpdmVkOiAiLGUpLGUuYm9keS5jcml0ZXJpYSYmKGUuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXMmJihuPWUuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXMpLGUuYm9keS5jcml0ZXJpYS5kYXRhU2NoZW1lcyYmKG89ZS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzKSksclsxXSl7Y2FzZSJ1c2VyIjpyZXR1cm4iaHlwZXJ0eSI9PXJbMF0/dC5kaXNjb3Zlckh5cGVydGllcyhlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXIvIilbMV0sbyxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pOnQuZGlzY292ZXJEYXRhT2JqZWN0cyhlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInVzZXIvIilbMV0sbyxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UidXJsIjpyZXR1cm4iaHlwZXJ0eSI9PXJbMF0/dC5kaXNjb3Zlckh5cGVydHlQZXJVUkwoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1cmwvIilbMV0sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik6dC5kaXNjb3ZlckRhdGFPYmplY3RQZXJVUkwoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1cmwvIilbMV0sZS5ib2R5LmNyaXRlcmlhLmRvbWFpbik7Y2FzZSJuYW1lIjpyZXR1cm4gdC5kaXNjb3ZlckRhdGFPYmplY3RzUGVyTmFtZShlLmJvZHkucmVzb3VyY2Uuc3BsaXQoIm5hbWUvIilbMV0sbyxuLGUuYm9keS5jcml0ZXJpYS5kb21haW4pO2Nhc2UicmVwb3J0ZXIiOnJldHVybiB0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihlLmJvZHkucmVzb3VyY2Uuc3BsaXQoInJlcG9ydGVyLyIpWzFdLG8sbixlLmJvZHkuY3JpdGVyaWEuZG9tYWluKTtjYXNlImd1aWQiOnJldHVybiB2b2lkIDAhPT10LmdyYXBoQ29ubmVjdG9yJiZudWxsIT09dC5ncmFwaENvbm5lY3Rvcj8iaHlwZXJ0eSI9PXJbMF0/dC5kaXNjb3Zlckh5cGVydGllc1BlckdVSUQoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VyLWd1aWQ6Ly8iKVsxXSxvLG4pOnQuZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VyLWd1aWQ6Ly8iKVsxXSxvLG4pOmkuZGVmYXVsdC5yZWplY3QoIkdyYXBoQ29ubmVjdG9yIik7Y2FzZSJ1c2VycHJvZmlsZSI6cmV0dXJuIHZvaWQgMCE9PXQuZ3JhcGhDb25uZWN0b3ImJm51bGwhPT10LmdyYXBoQ29ubmVjdG9yPyJoeXBlcnR5Ij09clswXT90LmRpc2NvdmVySHlwZXJ0aWVzUGVyVXNlclByb2ZpbGVEYXRhKGUuYm9keS5yZXNvdXJjZS5zcGxpdCgidXNlcnByb2ZpbGUvIilbMV0sbyxuKTp0LmRpc2NvdmVyRGF0YU9iamVjdHNQZXJVc2VyUHJvZmlsZURhdGEoZS5ib2R5LnJlc291cmNlLnNwbGl0KCJ1c2VycHJvZmlsZS8iKVsxXSxvLG4pOmkuZGVmYXVsdC5yZWplY3QoIkdyYXBoQ29ubmVjdG9yIil9fX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJVc2VyUHJvZmlsZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKG8scyl7Ci8vdHJhbnNsYXRlIHVzZXIgaWRlbnRpZmllciAoZS5nLiBlbWFpbCwgbmFtZS4uLikgaW50byB0aGUgYXNzb2NpYXRlZCBHVUlEcwpuLmRpc2NvdmVyR1VJRFBlclVzZXJJZGVudGlmaWVyKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLmRpc2NvdmVySHlwZXJ0aWVzUGVyR1VJRChlLHQscikudGhlbihmdW5jdGlvbihlKXtpKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShbXSl9KX0pfSk7aS5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHMoIk5vIGh5cGVydGllcyB3ZXJlIGZvdW5kIik7byh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclVzZXJQcm9maWxlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obyxzKXsKLy90cmFuc2xhdGUgdXNlciBpZGVudGlmaWVyIChlLmcuIGVtYWlsLCBuYW1lLi4uKSBpbnRvIHRoZSBhc3NvY2lhdGVkIEdVSURzCm4uZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uZGlzY292ZXJEYXRhT2JqZWN0c1BlckdVSUQoZSx0LHIpLnRoZW4oZnVuY3Rpb24oZSl7aShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koW10pfSl9KX0pO2kuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBzKCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7byh0KX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl9KX0pfX0se2tleToiZGlzY292ZXJIeXBlcnRpZXNQZXJHVUlEIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihvLHMpewovL3RyYW5zbGF0ZSBHVUlEIGludG8gdGhlIHVzZXIgSURzIHRvIHF1ZXJ5IHRoZSBkb21haW4gcmVnaXN0cnkKbi5kaXNjb3ZlclVzZXJJZHNQZXJHVUlEKGUpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vdHJhbnNsYXRlIHVzZXIgSURzIGludG8gdGhlIGFzc29jaWF0ZWQgaHlwZXJ0aWVzIHJlZ2lzdGVyZWQgaW4gc29tZSBkb21haW4KdmFyIGE9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oaSxvKXtuLmRpc2NvdmVySHlwZXJ0aWVzKGUudUlELHQscixlLmRvbWFpbikudGhlbihmdW5jdGlvbihlKXtpKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7aShbXSl9KX0pfSk7aS5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLmNvbmNhdC5hcHBseShbXSxlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHMoIk5vIGh5cGVydGllcyB3ZXJlIGZvdW5kIik7Ci8vIGxvZy5sb2coJ0h5cGVydGllcyA6ICcsIGh5cGVydGllcyk7Cm8odCl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfSl9KX19LHtrZXk6ImRpc2NvdmVyRGF0YU9iamVjdHNQZXJHVUlEIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcztyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihvLHMpewovL3RyYW5zbGF0ZSBHVUlEIGludG8gdGhlIHVzZXIgSURzIHRvIHF1ZXJ5IHRoZSBkb21haW4gcmVnaXN0cnkKbi5kaXNjb3ZlclVzZXJJZHNQZXJHVUlEKGUpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vdHJhbnNsYXRlIHVzZXIgSURzIGludG8gdGhlIGFzc29jaWF0ZWQgZGF0YU9iamVjdHMgcmVnaXN0ZXJlZCBpbiBzb21lIGRvbWFpbgp2YXIgYT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihpLG8pe24uZGlzY292ZXJEYXRhT2JqZWN0cyhlLnVJRCx0LHIsZS5kb21haW4pLnRoZW4oZnVuY3Rpb24oZSl7aShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2koW10pfSl9KX0pO2kuZGVmYXVsdC5hbGwoYSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1bXS5jb25jYXQuYXBwbHkoW10sZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBzKCJObyBkYXRhT2JqZWN0cyB3ZXJlIGZvdW5kIik7Ci8vIGxvZy5sb2coJ0RhdGFPYmplY3RzIDogJywgZGF0YU9iamVjdHMpOwpvKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89dGhpcyxzPXZvaWQgMDtzPW58fG8uZG9tYWluO3ZhciBhPXt0eXBlOiJyZWFkIixmcm9tOm8uZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK3MsYm9keTp7fX07cmV0dXJuIGUuaW5kZXhPZigidXNlcjovLyIpPi0xP2EuYm9keS5yZXNvdXJjZT1lOmEuYm9keS5yZXNvdXJjZT0iL2h5cGVydHkvaWRwLWlkZW50aWZpZXIvIitlLHQubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWF8fChhLmJvZHkuY3JpdGVyaWE9e30pLGEuYm9keS5jcml0ZXJpYS5kYXRhU2NoZW1lcz10KSxyLmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhfHwoYS5ib2R5LmNyaXRlcmlhPXt9KSxhLmJvZHkuY3JpdGVyaWEucmVzb3VyY2VzPXIpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXsKLy8gbG9nLmxvZygiW0NvcmVEaXNjb3ZlcnkuZGlzY292ZXJIeXBlcnRpZXNdIHNlbmRpbmcgbXNnICIsIG1zZyk7Cm8ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpewovLyBsb2cubG9nKCJbQ29yZURpc2NvdmVyeS5kaXNjb3Zlckh5cGVydGllc10gcmN2ZWQgcmVwbHkgIiwgcmVwbHkpOwppZigyMDAhPT1yLmJvZHkuY29kZSYmNTAwIT09ci5ib2R5LmNvZGUpcmV0dXJuIHQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik7dmFyIG49ci5ib2R5LnZhbHVlLGk9W107Zm9yKHZhciBvIGluIG4paS5wdXNoKG5bb10pO2lmKCEoaS5sZW5ndGg+MCkpcmV0dXJuIHQoIk5vIEh5cGVydHkgd2FzIGZvdW5kIik7Ci8vIGxvZy5sb2coIltDb3JlRGlzY292ZXJ5LmRpc2NvdmVySHlwZXJ0aWVzXSBIeXBlcnRpZXMgRm91bmQ6ICIsIGZpbmFsSHlwZXJ0aWVzKTsKZShpKX0pfSl9fSx7a2V5OiJkaXNjb3ZlckRhdGFPYmplY3RzIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwLGE9W107cmV0dXJuIHM9bnx8by5kb21haW4sbmV3IGkuZGVmYXVsdChmdW5jdGlvbihuLHUpewovL3RyYW5zbGF0ZSB1c2VyIGlkZW50aWZpZXIgKGUuZy4gZW1haWwsIG5hbWUuLi4pIGludG8gdGhlIGFzc29jaWF0ZWQgaHlwZXJ0aWVzCm8uZGlzY292ZXJIeXBlcnRpZXMoZSxbXSxbXSxzKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBjPVtdO2Zvcih2YXIgZiBpbiBlKWMucHVzaChlW2ZdKTsvL3RyYW5zbGF0ZSBoeXBlcnRpZXMgVVJMcyBpbnRvIHRoZSBhc3NvY2lhdGVkIGRhdGFPYmplY3RzIHJlZ2lzdGVyZWQgaW4gc29tZSBkb21haW4KdmFyIGw9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24obixpKXtvLmRpc2NvdmVyRGF0YU9iamVjdHNQZXJSZXBvcnRlcihlLmh5cGVydHlJRCx0LHIscykudGhlbihmdW5jdGlvbihlKXtuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihbXSl9KX0pfSk7aS5kZWZhdWx0LmFsbChsKS50aGVuKGZ1bmN0aW9uKGUpe1tdLmNvbmNhdC5hcHBseShbXSxlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EucHVzaChlKX0pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBhKXQucHVzaChhW3JdKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHUoIk5vIGRhdGFPYmplY3RzIHdlcmUgZm91bmQiKTsKLy8gbG9nLmxvZygnRGF0YU9iamVjdHMgRm91bmQ6ICcsIGZpbmFsRGF0YU9iamVjdHMpOwpuKHQpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdShlKX0pfSl9fSx7a2V5OiJkaXNjb3Zlckh5cGVydHlQZXJVUkwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXZvaWQgMDtuPXR8fHIuZG9tYWluO3ZhciBvPXt0eXBlOiJyZWFkIixmcm9tOnIuZGlzY292ZXJ5VVJMLHRvOiJkb21haW46Ly9yZWdpc3RyeS4iK24sYm9keTp7cmVzb3VyY2U6ZX19O3JldHVybiBuZXcgaS5kZWZhdWx0KGZ1bmN0aW9uKGUsdCl7ci5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24ocil7aWYoMjAwIT09ci5ib2R5LmNvZGUmJjUwMCE9PXIuYm9keS5jb2RlKXJldHVybiB0KCJObyBIeXBlcnR5IHdhcyBmb3VuZCIpO3ZhciBuPXIuYm9keS52YWx1ZTtpZighbilyZXR1cm4gdCgiTm8gSHlwZXJ0eSB3YXMgZm91bmQiKTsKLy8gbG9nLmxvZygnSHlwZXJ0eSBmb3VuZDogJywgaHlwZXJ0eSk7CmUobil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0UGVyVVJMIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj12b2lkIDA7bj10fHxyLmRvbWFpbjt2YXIgbz17dHlwZToicmVhZCIsZnJvbTpyLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIituLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe3IubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShvLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZTtpZighbilyZXR1cm4gdCgiRGF0YU9iamVjdCBub3QgZm91bmQiKTsKLy8gbG9nLmxvZygnRGF0YU9iamVjdCBmb3VuZDogJywgZGF0YU9iamVjdCk7CmUobil9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1Blck5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPXRoaXMscz12b2lkIDA7cz1ufHxvLmRvbWFpbjt2YXIgYT17dHlwZToicmVhZCIsZnJvbTpvLmRpc2NvdmVyeVVSTCx0bzoiZG9tYWluOi8vcmVnaXN0cnkuIitzLGJvZHk6e3Jlc291cmNlOmV9fTtyZXR1cm4gdC5sZW5ndGg+MCYmKGEuYm9keS5jcml0ZXJpYXx8KGEuYm9keS5jcml0ZXJpYT17fSksYS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzPXQpLHIubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWF8fChhLmJvZHkuY3JpdGVyaWE9e30pLGEuYm9keS5jcml0ZXJpYS5yZXNvdXJjZXM9ciksbmV3IGkuZGVmYXVsdChmdW5jdGlvbihlLHQpe28ubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShhLGZ1bmN0aW9uKHIpe3ZhciBuPXIuYm9keS52YWx1ZSxpPVtdO2Zvcih2YXIgbyBpbiBuKWkucHVzaChuW29dKTtpZighKGkubGVuZ3RoPjApKXJldHVybiB0KCJObyBEYXRhT2JqZWN0IHdhcyBmb3VuZCIpOwovLyBsb2cubG9nKCJEYXRhT2JqZWN0cyBGb3VuZDogIiwgZmluYWxEYXRhT2JqZWN0cyk7CmUoaSl9KX0pfX0se2tleToiZGlzY292ZXJEYXRhT2JqZWN0c1BlclJlcG9ydGVyIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgbz10aGlzLHM9dm9pZCAwO3M9bnx8by5kb21haW47dmFyIGE9e3R5cGU6InJlYWQiLGZyb206by5kaXNjb3ZlcnlVUkwsdG86ImRvbWFpbjovL3JlZ2lzdHJ5LiIrcyxib2R5OntyZXNvdXJjZToiL2NvbW0iLGNyaXRlcmlhOntyZXBvcnRlcjplfX19O3JldHVybiB0Lmxlbmd0aD4wJiYoYS5ib2R5LmNyaXRlcmlhLmRhdGFTY2hlbWVzPXQpLHIubGVuZ3RoPjAmJihhLmJvZHkuY3JpdGVyaWEucmVzb3VyY2VzPXIpLG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24oZSx0KXtvLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihyKXt2YXIgbj1yLmJvZHkudmFsdWUsaT1bXTtmb3IodmFyIG8gaW4gbilpLnB1c2gobltvXSk7aWYoIShpLmxlbmd0aD4wKSlyZXR1cm4gdCgiTm8gRGF0YU9iamVjdCB3YXMgZm91bmQiKTsKLy8gbG9nLmxvZygiRGF0YU9iamVjdHMgRm91bmQ6ICIsIGZpbmFsRGF0YU9iamVjdHMpOwplKGkpfSl9KX19LHtrZXk6ImRpc2NvdmVyVXNlcklkc1BlckdVSUQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXsKLy8gbG9nLmxvZygiR08gZ3JhcGhDb25uZWN0b3I6IiwgZ3VpZCk7CnQuZ3JhcGhDb25uZWN0b3IucXVlcnlHbG9iYWxSZWdpc3RyeShlKS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdJbmZvcm1hdGlvbiByZXR1cm5lZCBmcm9tIEdsb2JhbCBSZWdpc3RyeTogJywgZ3JhcGhDb25uZWN0b3JDb250YWN0RGF0YSk7CmlmKCJzdHJpbmciPT10eXBlb2YgZXx8IWUpcmV0dXJuIG4oIlVuc3VjY2Vzc2Z1bCBkaXNjb3ZlciB1c2VySURzIGJ5IEdVSUQiKTt2YXIgdD1lLnVzZXJJRHM7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuKCJVc2VySURzIG5vdCBhdmFpbGFibGUiKTtyKHQpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KX0pfX0se2tleToiZGlzY292ZXJHVUlEUGVyVXNlcklkZW50aWZpZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0Lmh0dHBSZXF1ZXN0LmdldCgiaHR0cHM6Ly9yZXRoaW5rLnRsYWJzY2xvdWQuY29tL2Rpc2NvdmVyeS9yZXN0L2Rpc2NvdmVyL2xvb2t1cD9zZWFyY2hxdWVyeT0iK2UpLnRoZW4oZnVuY3Rpb24oZSl7Ci8vIGxvZy5sb2coJ2Rpc2NvdmVyIEdVSUQgYnkgdXNlciBpZGVudGlmaWVyJywganNvbik7CnZhciB0PUpTT04ucGFyc2UoZSksaT10LnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPWUucmV0aGlua0lEfSk7aWYoMD09PWkubGVuZ3RoKXJldHVybiBuKCJVbnN1Y2Nlc3NmdWwgZGlzY292ZXIgR1VJRCBieSB1c2VyIGlkZW50aWZpZXIiKTt2YXIgbz1pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXRoaW5rSUR9KTtyZXR1cm4gcihvKX0pLmNhdGNoKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCJIVFRQIFJlcXVlc3QgZXJyb3I6ICIsIGVycik7CnJldHVybiBuKGUpfSl9KX19LHtrZXk6Im1lc3NhZ2VCdXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlQnVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVzc2FnZUJ1cz1lfX1dKSxDb3JlRGlzY292ZXJ5fSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUwMCAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDIxMCksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigzNykscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cig5KSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDc5KSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDk4KSxkPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobCkscD1yKDEpLHk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChwKSxoPXIoMiksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cig3KSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksbT1yKDE0KSxfPWIuZ2V0TG9nZ2VyKCJEYXRhT2JqZWN0c1N0b3JhZ2UiKSxSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YU9iamVjdHNTdG9yYWdlKGUsdCl7aWYoKDAseS5kZWZhdWx0KSh0aGlzLERhdGFPYmplY3RzU3RvcmFnZSksIWUpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmUgRGF0YSBPYmplY3RzXSAtIE5lZWRzIHRoZSBzdG9yYWdlTWFuYWdlciBjb21wb25lbnQiKTt0aGlzLl9zdG9yYWdlTWFuYWdlcj1lLHRoaXMuX3N0b3JlRGF0YU9iamVjdD10LHRoaXMuX2NhY2hlPXt9fS8qKgogICAqIEBkZXNjcmlwdGlvbiBzaG91bGQgc2V0IHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBkYXRhT2JqZWN0VVJMIHRvIGJlIHJlc3VtZWQgaWYgbmVjZXNzYXJ5OwogICAqCiAgICogQHBhcmFtIHtEYXRhT2JqZWN0VVJMfSB1cmwgLSBkYXRhT2JqZWN0VVJMIHRvIGJlIHNhdmVkOwogICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSZXBvcnRlciAtIHRoZSBvYmplY3QgdG8gYmUgc2F2ZWQgaXMgYSByZXBvcnRlcgogICAqIEBwYXJhbSB7U2NoZW1hVVJMfSBzY2hlbWEgLSB0aGUgc2NoZW1hIHVybAogICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0dXMgLSB0aGUgc3RhdHVzIG9mIGN1cnJlbnQgZGF0YU9iamVjdAogICAqIEBwYXJhbSB7SHlwZXJ0eVVSTH0gcmVwb3J0ZXIgLSB0aGUgUmVwb3J0ZXIgaHlwZXJ0eVVSTAogICAqIEBwYXJhbSB7QXJyYXk8SHlwZXJ0eVVSTD59IHN1YnNjcmlwdGlvbiAtIGxpc3Qgb2Ygc3Vic2NyaXB0aW9ucwogICAqIEBwYXJhbSB7QXJyYXk8RGF0YU9iamVjdENoaWxkPn0gY2hpbGRyZW4gLSBsaXN0IG9mIGNoaWxkcyBvZiBkYXRhT2JqZWN0VVJMCiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBjaGlsZHJlbnMgLSBsaXN0IG9mIGNoaWxkcmVucywgbGlrZSwgJ2NoYXRtZXNzYWdlJzsKICAgKiBAcGFyYW0ge0FycmF5PFVzZXJVUkx9IHN1YnNjcmliZXJVc2VyIC0gbGlzdCBvZiBzdWJzY3JpYmVkIHVzZXJzOwogICAqLwpyZXR1cm4oMCx2LmRlZmF1bHQpKERhdGFPYmplY3RzU3RvcmFnZSxbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zdG9yZURhdGFPYmplY3Qscj10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZS5pc1JlcG9ydGVyKTsvLyBUT0RPOmRvIHdlIG5lZWQgdGhpcz8KLy8gVE9ETzpkbyB3ZSBuZWVkIHRoaXM/Ci8qaWYgKHNjaGVtYSkgc3RvcmVEYXRhT2JqZWN0W3R5cGVdW21ldGFkYXRhLnVybF0uc2NoZW1hID0gc2NoZW1hOwogICAgICBpZiAoc3RhdHVzKSBzdG9yZURhdGFPYmplY3RbdHlwZV1bbWV0YWRhdGEudXJsXS5zdGF0dXMgPSBzdGF0dXM7CiAgICAgIGlmIChjaGlsZHJlblJlc291cmNlcykgc3RvcmVEYXRhT2JqZWN0W3R5cGVdW21ldGFkYXRhLnVybF0uY2hpbGRyZW5SZXNvdXJjZXMgPSBjaGlsZHJlblJlc291cmNlczsqLwovLyBUT0RPOiBkbyB3ZSBuZWVkIHRoaXM/Ci8vc3RvcmVEYXRhT2JqZWN0W3R5cGVdW21ldGFkYXRhLnVybF0ub3duZXIgPSBvd25lcjsKcmV0dXJuIHQuaGFzT3duUHJvcGVydHkocil8fCh0W3JdPXt9KSx0W3JdLmhhc093blByb3BlcnR5KGUudXJsKXx8KHRbcl1bZS51cmxdPXt9LHRbcl1bZS51cmxdLnN1YnNjcmlwdGlvbnM9W10sdFtyXVtlLnVybF0uc3Vic2NyaWJlclVzZXJzPVtdLHRbcl1bZS51cmxdLmNoaWxkcmVuT2JqZWN0cz17fSx0W3JdW2UudXJsXS5kYXRhPXt9KSwoMCxkLmRlZmF1bHQpKHRbcl1bZS51cmxdLGUpLGRlbGV0ZSB0W3JdW2UudXJsXS5zdWJzY3JpYmVyVXNlcixkZWxldGUgdFtyXVtlLnVybF0uc3Vic2NyaWJlckh5cGVydHksZS5zdWJzY3JpYmVySHlwZXJ0eSYmIWUuaXNSZXBvcnRlciYmdGhpcy5fdXBkYXRlVG9BcnJheSh0W3JdLGUudXJsLCJzdWJzY3JpcHRpb25zIixlLnN1YnNjcmliZXJIeXBlcnR5KSxlLnN1YnNjcmliZXJVc2VyJiZ0W3JdW2UudXJsXS5zdWJzY3JpYmVyVXNlcnMuaW5kZXhPZihlLnN1YnNjcmliZXJVc2VyKSYmdGhpcy5fdXBkYXRlVG9BcnJheSh0W3JdLGUudXJsLCJzdWJzY3JpYmVyVXNlcnMiLGUuc3Vic2NyaWJlclVzZXIpLHRoaXMuX3N0b3JlRGF0YU9iamVjdD10LHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSx0KSx0W3JdW2UudXJsXX19LHtrZXk6InNhdmVEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLl9zdG9yZURhdGFPYmplY3Qsbz10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZSk7aWYoIWl8fCFpW29dfHwhaVtvXVt0XSlyZXR1cm4gdm9pZCBfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSBzYXZlIGRhdGFdIC0gbm90IHNhdmVkIik7aWYoXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gc2F2ZURhdGFdIC0gIixlLG8sdCxyLG4pLGlbb11bdF0uaGFzT3duUHJvcGVydHkoImRhdGEiKXx8KGlbb11bdF0uZGF0YT17fSkscil7dmFyIHM9dm9pZCAwO3M9Im9iamVjdCI9PT0odm9pZCAwPT09bj8idW5kZWZpbmVkIjooMCxmLmRlZmF1bHQpKG4pKT8oMCxtLmRlZXBDbG9uZSkobik6biwoMCxtLmFzc2lnbikoaVtvXVt0XS5kYXRhLHIscyl9ZWxzZSBpW29dW3RdLmRhdGE9KDAsbS5kZWVwQ2xvbmUpKG4pfHx7fTtyZXR1cm4gdGhpcy5fc3RvcmVEYXRhT2JqZWN0PWksdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLGlbb11bdF19fSx7a2V5OiJzYXZlQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLl9zdG9yZURhdGFPYmplY3Qsbz10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZSk7cmV0dXJuIGkmJmlbb10mJmlbb11bdF0/KGlbb11bdF0uaGFzT3duUHJvcGVydHkoImNoaWxkcmVucyIpfHwoaVtvXVt0XS5jaGlsZHJlbk9iamVjdHM9e30pLHI/KDAsbS5hc3NpZ24pKGlbb11bdF0uY2hpbGRyZW5PYmplY3RzLHIsKDAsbS5kZWVwQ2xvbmUpKG4pKTppW29dW3RdLmNoaWxkcmVuT2JqZWN0cz0oMCxtLmRlZXBDbG9uZSkobil8fHt9LHRoaXMuX3N0b3JlRGF0YU9iamVjdD1pLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSxpW29dW3RdKTp2b2lkIF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIHNhdmUgY2hpbGRyZW5zXSAtIG5vdCBzYXZlZCIpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLl9zdG9yZURhdGFPYmplY3Qsbz10aGlzLl9nZXRUeXBlT2ZPYmplY3QoZSk7aWYoIWl8fCFpW29dfHwhaVtvXVt0XSlyZXR1cm4gdm9pZCBfLmxvZygiW1N0b3JlRGF0YU9iamVjdHMgLSB1cGRhdGVdIC0gbm90IHNhdmVkIik7aWYoXy5sb2coIltTdG9yZURhdGFPYmplY3RzIC0gdXBkYXRlXSAtICIsZSxvLHQscixuKSxpW29dJiZpW29dW3RdJiZ0JiZyJiZuKXtpZigic3Vic2NyaXB0aW9ucyI9PT1yfHwic3Vic2NyaWJlclVzZXJzIj09PXIpe3ZhciBzPSEwOyJzdWJzY3JpcHRpb25zIj09PXImJihzPSF0aGlzLl9pc093bmVyKGlbb11bdF0sbikpLHMmJnRoaXMuX3VwZGF0ZVRvQXJyYXkoaVtvXSx0LHIsbil9ZWxzZSBpW29dW3RdW3JdPW47cmV0dXJuIHRoaXMuX3N0b3JlRGF0YU9iamVjdD1pLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLnNldCgic3luY2hlck1hbmFnZXI6T2JqZWN0VVJMcyIsMSxpKSxpW29dW3RdfX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcy5fc3RvcmVEYXRhT2JqZWN0LG89dGhpcy5fZ2V0VHlwZU9mT2JqZWN0KGUpO3JldHVybiBpJiZpW29dJiZpW29dW3RdP2lbb10mJmlbb11bdF0mJnQmJnImJm4/KCJzdWJzY3JpcHRpb25zIj09PXJ8fCJzdWJzY3JpYmVyVXNlcnMiPT09cj90aGlzLl9yZW1vdmVGcm9tQXJyYXkoaVtvXSx0LHIsbik6ZGVsZXRlIGlbb11bdF1bcl0sdGhpcy5fc3RvcmVEYXRhT2JqZWN0PWksdGhpcy5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLGlbb11bdF0pOnZvaWQgMDp2b2lkIF8ubG9nKCJbU3RvcmVEYXRhT2JqZWN0cyAtIGRlbGV0ZV0gLSBub3Qgc2F2ZWQiKX19LHtrZXk6ImRlbGV0ZVJlc291cmNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7aWYoZSlyZXR1cm4gdC5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPSgwLGQuZGVmYXVsdCkobix0Ll9zdG9yZURhdGFPYmplY3R8fHt9KTtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIikmJmkub2JzZXJ2ZXJzLmhhc093blByb3BlcnR5KGUpPyhkZWxldGUgaS5vYnNlcnZlcnNbZV0sdC5fc3RvcmFnZU1hbmFnZXIuc2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIiwxLGkpLHQuX3N0b3JlRGF0YU9iamVjdD1pLHIoaS5vYnNlcnZlcnNbZV0pKTppLmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKSYmaS5yZXBvcnRlcnMuaGFzT3duUHJvcGVydHkoZSk/KGRlbGV0ZSBpLnJlcG9ydGVyc1tlXSx0Ll9zdG9yYWdlTWFuYWdlci5zZXQoInN5bmNoZXJNYW5hZ2VyOk9iamVjdFVSTHMiLDEsaSksdC5fc3RvcmVEYXRhT2JqZWN0PWkscihpLnJlcG9ydGVyc1tlXSkpOnZvaWQgcigiVGhlICIrZSsiIGRvc2VuXHQgZXhpc3RzLCBub3RoaW5nIHdhcyBkZWxldGVkIil9KTtuKG5ldyBFcnJvcigiW1N0b3JlRGF0YU9iamVjdHNdIC0gQ2FuJ3QgZGVsZXRlIHRoaXMgIitlKSl9KX19LHtrZXk6ImdldEFsbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIil9fSx7a2V5OiJnZXREYXRhT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fc3RvcmFnZU1hbmFnZXIuZ2V0KCJzeW5jaGVyTWFuYWdlcjpPYmplY3RVUkxzIikudGhlbihmdW5jdGlvbih0KXt2YXIgaT10Lmhhc093blByb3BlcnR5KCJvYnNlcnZlcnMiKT90Lm9ic2VydmVyczp7fSxvPXQuaGFzT3duUHJvcGVydHkoInJlcG9ydGVycyIpP3QucmVwb3J0ZXJzOnt9LGE9KDAscy5kZWZhdWx0KShvKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pLHU9KDAscy5kZWZhdWx0KShpKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pLGM9dm9pZCAwO3JldHVybiB1JiYoYz10Lm9ic2VydmVyc1t1XSksYSYmKGM9dC5yZXBvcnRlcnNbYV0pLF8uaW5mbygiW1N0b3JlRGF0YU9iamVjdHMgLSBnZXREYXRhT2JqZWN0XSAtIGZvciBvYnNlcnZlcjogIix1KSxfLmluZm8oIltTdG9yZURhdGFPYmplY3RzIC0gZ2V0RGF0YU9iamVjdF0gLSBmb3IgcmVwb3J0ZXJzOiAiLGEpLF8uaW5mbygiW1N0b3JlRGF0YU9iamVjdHMgLSBnZXREYXRhT2JqZWN0XSAtIHJlc29sdmU6ICIsYyksYz9yKGMpOm4oIk5vIGRhdGFPYmplY3Qgd2FzIGZvdW5kIil9KX0pfX0se2tleToiZ2V0UmVzb3VyY2VzQnlDcml0ZXJpYSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgdS5kZWZhdWx0KGZ1bmN0aW9uKG4pe3ZhciBpPXIuX2dldFR5cGVPZk9iamVjdCh0KTtyLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIF8ubG9nKCJbRGF0YU9iamVjdHNTdG9yYWdlLmdldFJlc291cmNlc0J5Q3JpdGVyaWFdIGRvbid0IGhhdmUgc3RvcmVkIGRhdGEgb2JqZWN0cyIpLG4obnVsbCk7aWYoZS5ib2R5JiZlLmJvZHkuaGFzT3duUHJvcGVydHkoInJlc3VtZSIpJiYhZS5ib2R5LnJlc3VtZSlyZXR1cm4gbihudWxsKTsKLy8gY2hlY2sgaWYgdGhlIG1lc3NhZ2UgaGF2ZSBvdGhlciBjcml0ZXJpYQovLyBpZiBub3Qgc2VhcmNoIGZvciBvbiB0aGUgJ2Zyb20nIG9mIHRoZSBtZXNzYWdlLgp2YXIgbz1bXSxhPXIuX2hhc1N1YnNjcmlwdGlvbih0W2ldLGUuZnJvbSksdT1yLl9zZWFyY2hPd25lcih0W2ldLGUuZnJvbSksYz1yLl9jaGVja1Byb3Rvc3R1YlJlc3VtZSh0LGUpO2lmKF8ubG9nKCJbU3RvcmVkRGF0YU9iamVjdHMgLSBnZXRSZXNvdXJjZXNCeUNyaXRlcmlhXToiLHQsZSxhLHUpLCEoZS5oYXNPd25Qcm9wZXJ0eSgiZnJvbSIpJiZhfHx1fHxjKSlyZXR1cm4gbihudWxsKTt2YXIgZj12b2lkIDA7Zj11P3IuX2dldFJlc291cmNlc0J5T3duZXIodFtpXSxlLmZyb20pOnIuX2dldFJlc291cmNlc0J5U3Vic2NyaXB0aW9uKHRbaV0sZS5mcm9tKTt2YXIgbD1bXTtlLmJvZHkmJmUuYm9keS5pZGVudGl0eSYmKGw9ci5fZ2V0UmVzb3VyY2VzQnlJZGVudGl0eSh0W2ldLGUuYm9keS5pZGVudGl0eSkpOwovL1RPRE86IHJlbW92ZSBzY2hlbWEgc2luY2UgbWV0YWRhdGEgYWxyZWFkeSBpbmNsdWRlcyB0aGUgc2NoZW1hPwp2YXIgZD1bXTtlLmJvZHkmJmUuYm9keS5zY2hlbWEmJihkPXIuX2dldFJlc291cmNlc0J5U2NoZW1hKHRbaV0sZS5ib2R5LnNjaGVtYSkpO3ZhciBwPVtdO2lmKGUuYm9keSYmZS5ib2R5LnZhbHVlKXt2YXIgeT1lLmJvZHkudmFsdWU7ZGVsZXRlIHkuZGF0YSxwPXIuX2dldFJlc291cmNlc0J5TWV0YWRhdGEodFtpXSx5KX12YXIgaD1bXTtpZihlLmJvZHkmJmUuYm9keS52YWx1ZSYmZS5ib2R5LnZhbHVlLmRhdGEmJihoPXIuX2dldFJlc291cmNlc0J5RGF0YSh0W2ldLGUuYm9keS52YWx1ZS5kYXRhKSksCi8vIHlvdSBjYW4gcGFzcyBhcyBhcnJheXMgYXMgeW91IHdhbnQuLiBpdCB3aWxsIGJlIG1lcmdlZCBpbiBvbiBwbGFjZQovLyByZW1vdmVkIGR1cGxpY2F0ZXM7Cm89ci5faW50ZXJzZWN0aW9uKGYsbCxkLGgscCksMD09by5sZW5ndGgmJmMmJiJvYnNlcnZlcnMiPT1pJiZlLmZyb20uc3BsaXQoInByb3Rvc3R1YiIpLmxlbmd0aD4wKXt2YXIgdj10W2ldLGc9KDAsbS5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluOygwLHMuZGVmYXVsdCkodikuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PXZbZV0uc3Vic2NyaXB0aW9uczt0LmZvckVhY2goZnVuY3Rpb24odCl7KDAsbS5kaXZpZGVVUkwpKHQpLmRvbWFpbj09ZyYmby5wdXNoKGUpfSl9KX12YXIgYj17fTtvLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dFtpXVtlXTtyZXR1cm4gYltlXT1yLGJ9KSxfLmxvZygiW1N0b3JlIERhdGEgT2JqZWN0c10gLSAiLGIpLG4oYil9KX0pfX0se2tleToiX2dldFJlc291cmNlc0J5SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0uc3Vic2NyaWJlclVzZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeU93bmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnJlcG9ydGVyPT09dH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPygwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnN1YnNjcmlwdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmxlbmd0aH0pOltdfX0se2tleToiX2dldFJlc291cmNlc0J5U2NoZW1hIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybigwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInNjaGVtYSI9PT1lJiZuW2VdPT09dH0pLmxlbmd0aH0pfX0se2tleToiX2dldFJlc291cmNlc0J5TWV0YWRhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtyZXR1cm4oMCxzLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXsKLy8gc2VhcmNoIG9uIHN0b3JlRGF0YU9iamVjdHMgZm9yIHNwZWNpZmljIGtleSBwcm92aWRlZCBmcm9tIGRhdGE7CnJldHVybigwLHMuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlPT09ciYmbltlXT09PXRbcl19KS5sZW5ndGh9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9nZXRSZXNvdXJjZXNCeURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/KDAscy5kZWZhdWx0KShlKS5maWx0ZXIoZnVuY3Rpb24ocil7dmFyIG49ZVtyXS5oYXNPd25Qcm9wZXJ0eSgiZGF0YSIpP2Vbcl0uZGF0YTp7fTtyZXR1cm4oMCxzLmRlZmF1bHQpKG4pLmZpbHRlcihmdW5jdGlvbihlKXsKLy8gc2VhcmNoIG9uIHN0b3JlRGF0YU9iamVjdHMgZm9yIHNwZWNpZmljIGtleSBwcm92aWRlZCBmcm9tIGRhdGE7CnJldHVybigwLHMuZGVmYXVsdCkodCkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlPT09ciYmbltlXT09PXRbcl19KS5sZW5ndGh9KS5sZW5ndGh9KTpbXX19LHtrZXk6Il9oYXNTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiYoMCxzLmRlZmF1bHQpKGUpLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gZVtyXS5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5sZW5ndGh9KS5sZW5ndGg+MH19LHtrZXk6Il9zZWFyY2hPd25lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUmJigwLHMuZGVmYXVsdCkoZSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdLnJlcG9ydGVyPT09dH0pLmxlbmd0aD4wfX0se2tleToiX2NoZWNrUHJvdG9zdHViUmVzdW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiExO2lmKHQuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmdC5ib2R5Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiZ0LmJvZHkudmFsdWUuaGFzT3duUHJvcGVydHkoInJlcG9ydGVyIikpe3ZhciByPXQuYm9keS52YWx1ZS5yZXBvcnRlcjtpZihlLmhhc093blByb3BlcnR5KCJyZXBvcnRlcnMiKSl7dmFyIG49ZS5yZXBvcnRlcnM7cmV0dXJuKDAscy5kZWZhdWx0KShuKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0ucmVwb3J0ZXI9PT1yfSkubGVuZ3RoPjB9cmV0dXJuITF9aWYoZS5oYXNPd25Qcm9wZXJ0eSgib2JzZXJ2ZXJzIikpe3ZhciBpPWUub2JzZXJ2ZXJzLG89KDAsbS5kaXZpZGVVUkwpKHQuZnJvbSkuZG9tYWluO3JldHVybigwLHMuZGVmYXVsdCkoaSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PWlbZV0uc3Vic2NyaXB0aW9ucyxyPSExO2lmKHQuZm9yRWFjaChmdW5jdGlvbihlKXsoMCxtLmRpdmlkZVVSTCkoZSkuZG9tYWluPT1vJiYocj0hMCl9KSxyKXJldHVybiEwfSkubGVuZ3RoPjB9fX0se2tleToiX2lzT3duZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlJiZlLnJlcG9ydGVyPT09dH19LHtrZXk6Il9pbnRlcnNlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsaS5kZWZhdWx0KShhcmd1bWVudHMpLHQ9ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KS5maWx0ZXIoZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmluZGV4T2YoZSk9PT10fSk7cmV0dXJuIF8ubG9nKCJEYXRhT2JqZWN0c1N0b3JhZ2UuX2ludGVyc2VjdGlvbl0gUmVzdWx0IGFuIHVuaXF1ZSBhcnJheSBvZiBzdHJpbmdzOiAiLHQpLHR9fSx7a2V5OiJfdXBkYXRlVG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7Xy5sb2coIltEYXRhT2JqZWN0c1N0b3JhZ2VdIC0gX3VwZGF0ZVRvQXJyYXk6ICIsZSx0LHIsbiksLTE9PT1lW3RdW3JdLmluZGV4T2YobikmJmVbdF1bcl0ucHVzaChuKX19LHtrZXk6Il9yZW1vdmVGcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWVbdF1bcl0uaW5kZXhPZihuKTstMT09PWkmJmVbdF1bcl0uc3BsaWNlKGksMSl9fSx7a2V5OiJfaGFzVmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0KSYmZVt0XT09PXJ9fSx7a2V5OiJfZ2V0VHlwZU9mT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8icmVwb3J0ZXJzIjoib2JzZXJ2ZXJzIn19XSksRGF0YU9iamVjdHNTdG9yYWdlfSgpO3QuZGVmYXVsdD1SLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUwMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7cigxMjgpLHIoNTAyKSxlLmV4cG9ydHM9cigxMCkuQXJyYXkuZnJvbX0sLyogNTAyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig2NSksaT1yKDIxKSxvPXIoNzcpLHM9cigxOTIpLGE9cigxOTMpLHU9cigxMzQpLGM9cig1MDMpLGY9cigxOTQpO2koaS5TK2kuRiohcigxOTkpKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSwiQXJyYXkiLHsKLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKQpmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxsLGQ9byhlKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkseT1hcmd1bWVudHMubGVuZ3RoLGg9eT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1oLGc9MCxiPWYoZCk7Ci8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZQppZih2JiYoaD1uKGgseT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09Ynx8cD09QXJyYXkmJmEoYikpZm9yKHQ9dShkLmxlbmd0aCkscj1uZXcgcCh0KTt0Pmc7ZysrKWMocixnLHY/aChkW2ddLGcpOmRbZ10pO2Vsc2UgZm9yKGw9Yi5jYWxsKGQpLHI9bmV3IHA7IShpPWwubmV4dCgpKS5kb25lO2crKyljKHIsZyx2P3MobCxoLFtpLnZhbHVlLGddLCEwKTppLnZhbHVlKTtyZXR1cm4gci5sZW5ndGg9ZyxyfX0pfSwvKiA1MDMgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQwKSxpPXIoNzQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7dCBpbiBlP24uZihlLHQsaSgwLHIpKTplW3RdPXJ9fSwvKiA1MDQgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigzNyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig3KSxkPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obCkscD1yKDE0KSx5PXIoNTA1KSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1kLmdldExvZ2dlcigiSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UoZSx0LHIsbil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlKSwhcil0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZSBjb25zdHJ1Y3Rvcl0gbWFuZGF0b3J5IHN0b3JhZ2VNYW5hZ2VyIHBhcmFtZXRlciBtaXNzaW5nIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UgY29uc3RydWN0b3JdIG1hbmRhdG9yeSBydW50aW1lVVJMIHBhcmFtZXRlciBtaXNzaW5nIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UgY29uc3RydWN0b3JdIG1hbmRhdG9yeSBidXMgcGFyYW1ldGVyIG1pc3NpbmciKTt2YXIgaT10aGlzO2kuX2J1cz10LGkuX3N0b3JhZ2VMaW1pdD0uOSwvLyB0aGUgc2F2ZSBzdG9yYWdlTGltaXQ7CmkuX3VybD1lKyIvc3RvcmFnZSIsaS5fc3RvcmFnZU1hbmFnZXI9cixpLnByb21pc2VRdWV1ZT1uZXcgaC5kZWZhdWx0LGkuX2h5cGVydHlSZXNvdXJjZXM9bix0LmFkZExpc3RlbmVyKGkuX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2VdIE1lc3NhZ2UgUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOmkuX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UicmVhZCI6aS5fb25SZWFkKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjppLl9vbkRlbGV0ZShlKX19KX0vKioKICAgKiBjaGVjayB0aGUgYXZhaWxhYmxlIHN0b3JhZ2UgcXVvdGEKICAgKgogICAqIEBtZW1iZXJvZiBIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZQogICAqLwpyZXR1cm4oMCxmLmRlZmF1bHQpKEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlLFt7a2V5OiJjaGVja1N0b3JhZ2VRdW90YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQscil7aWYoZS5fYXZhaWxhYmxlUXVvdGEmJmUuX3VzYWdlKXJldHVybiB0KCgwLHAuYXZhaWxhYmxlU3BhY2UpKGUuX3VzYWdlLGUuX2F2YWlsYWJsZVF1b3RhKSk7bmF2aWdhdG9yJiZuYXZpZ2F0b3Iuc3RvcmFnZS5lc3RpbWF0ZSgpLnRoZW4oZnVuY3Rpb24ocil7ZS5fYXZhaWxhYmxlUXVvdGE9ci5xdW90YSxlLl91c2FnZT1yLnVzYWdlLHQoKDAscC5hdmFpbGFibGVTcGFjZSkoZS5fdXNhZ2UsZS5fYXZhaWxhYmxlUXVvdGEpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3YuZXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gQ2hlY2tTdG9yYWdlUXVvdGEgZXJyb3I6ICIsZSkscihlKX0pfSl9fSx7a2V5OiJfb25DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25DcmVhdGVdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgdmFsdWUgbWlzc2luZzogIixlKTt2YXIgcj1lLmJvZHkudmFsdWUsbj1yLmNvbnRlbnRVUkwsaT0iIjtpZihuKXt2YXIgbz1uWzBdLHM9by5zdWJzdHIoby5sYXN0SW5kZXhPZigiLyIpKzEpO2k9dC5fdXJsKyIvIitzfWVsc2Ugbj1bXSxpPXQuX3VybCsiLyIrKDAscC5nZW5lcmF0ZUdVSUQpKCk7dC5faHlwZXJ0eVJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShpKXx8KG4ucHVzaChpKSxyLmNvbnRlbnRVUkw9biksdGhpcy5faHlwZXJ0eVJlc291cmNlc1tpXT1yLHRoaXMucHJvbWlzZVF1ZXVlLmFkZCh0aGlzLl90b1NhdmUoaSxlLHIpKX19LHtrZXk6Il90b1NhdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKGksbyl7dmFyIHM9ZnVuY3Rpb24ocil7dmFyIGk9e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjUwMCxkZXNjcmlwdGlvbjpyfX07cmV0dXJuIG4uX2J1cy5wb3N0TWVzc2FnZShpKSxvKHIpfTtuLmNoZWNrU3RvcmFnZVF1b3RhKCkudGhlbihmdW5jdGlvbihlKXtpZihyLnNpemU+ZS5xdW90YSl7dmFyIHQ9IlRoZSBzdG9yYWdlIGRvIG5vdCBoYXZlIHNwYWNlIHRvIHN0b3JlIHRoYXQgcmVzb3VyY2UiO3Rocm93IHModCksRXJyb3IodCl9dmFyIGk9ZS5xdW90YSxvPWUudXNhZ2Urci5zaXplO3JldHVybiEoZS5wZXJjZW50Pj1uLl9zdG9yYWdlTGltaXR8fG8+aSl8fG4uX2dldE9sZGVyUmVzb3VyY2VzKHIuc2l6ZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX3N0b3JhZ2VNYW5hZ2VyLnNldChlLDEscil9KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHI9e2Zyb206dC50byx0bzp0LmZyb20saWQ6dC5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7dmFsdWU6ZSxjb2RlOjIwMH19O3JldHVybiBuLl9idXMucG9zdE1lc3NhZ2Uociksdi5sb2coIlN1Y2Nlc3MiKSxpKCl9KS5jYXRjaChzKX0pfX0se2tleToiX2dldE9sZGVyUmVzb3VyY2VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIsbil7dC5fc3RvcmFnZU1hbmFnZXIuZ2V0KCkudGhlbihmdW5jdGlvbihvKXt2YXIgYT0oMCxpLmRlZmF1bHQpKG8pLHU9MCxjPWEuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBvW2VdLmNyZWF0ZWQ8b1t0XS5jcmVhdGVkfSkucmVkdWNlKGZ1bmN0aW9uKHIsbil7dmFyIGk9dC5faHlwZXJ0eVJlc291cmNlc1tuXTtyZXR1cm4gdi5sb2coIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZV0gX2dldE9sZGVyUmVzb3VyY2VzOiAiLHUsZSxuLHQuX2F2YWlsYWJsZVF1b3RhKSx1PD1lJiYodSs9aS5zaXplLHIucHVzaChuKSkscn0sW10pLGY9Yy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3N0b3JhZ2VNYW5hZ2VyLmRlbGV0ZShlKX0pO3MuZGVmYXVsdC5hbGwoZikudGhlbihmdW5jdGlvbigpe3IoITApfSkuY2F0Y2goZnVuY3Rpb24oZSl7bihlKX0pfSl9KX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keXx8IWUuYm9keS5yZXNvdXJjZSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25SZWFkXSBtYW5kYXRvcnkgbWVzc2FnZSBib2R5IHJlc291cmNlIG1pc3Npbmc6ICIsZSk7dmFyIHI9ZS5ib2R5LnJlc291cmNlLG49e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7fX07Ci8vIGxldCBjb250ZW50ID0gX3RoaXMuX2h5cGVydHlSZXNvdXJjZXNbY29udGVudFVybF07CnYuaW5mbygiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vblJlYWRdIGdldCByZXNvdXJjZVVSTDoiLHIpLHRoaXMuX3N0b3JhZ2VNYW5hZ2VyLmdldCgicmVzb3VyY2VVUkwiLHIpLnRoZW4oZnVuY3Rpb24oZSl7di5pbmZvKCJbSHlwZXJ0eVJlc291cmNlc1N0b3JhZ2UuX29uUmVhZF0gZm91bmQgY29udGVudDoiLGUpLGU/ImZpbGUiPT09ZS5yZXNvdXJjZVR5cGU/dC5fb25SZWFkRmlsZShuLGUpOihuLmJvZHkuY29kZT0yMDAsbi5ib2R5LnAycD0hMCxuLmJvZHkudmFsdWU9ZSx0Ll9idXMucG9zdE1lc3NhZ2UobikpOihuLmJvZHkuY29kZT00MDQsbi5ib2R5LmRlc2M9IkNvbnRlbnQgTm90IEZvdW5kIGZvciAiK3IsdC5fYnVzLnBvc3RNZXNzYWdlKG4pKX0pfX0se2tleToiX29uUmVhZEZpbGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPW5ldyBGaWxlUmVhZGVyO2lmKG4ub25sb2FkPWZ1bmN0aW9uKG4pe3YuaW5mbygiW0ZpbGVIeXBlcnR5UmVzb3VyY2UuaW5pdF0gZmlsZSBsb2FkZWQgIixuKSxlLmJvZHkuY29kZT0yMDAsZS5ib2R5LnAycD0hMCxlLmJvZHkudmFsdWU9KDAscC5kZWVwQ2xvbmUpKHQpLGUuYm9keS52YWx1ZS5jb250ZW50PW4udGFyZ2V0LnJlc3VsdCxyLl9idXMucG9zdE1lc3NhZ2UoZSl9LHQubWltZXR5cGUuaW5jbHVkZXMoInRleHQvIikpbi5yZWFkQXNUZXh0KHQuY29udGVudCk7ZWxzZXt2YXIgaT10LmNvbnRlbnQsbz12b2lkIDA7bz1BcnJheS5pc0FycmF5KGkpP25ldyBCbG9iKGkse3R5cGU6dC5taW1ldHlwZX0pOm5ldyBCbG9iKFtpXSx7dHlwZTp0Lm1pbWV0eXBlfSksbi5yZWFkQXNBcnJheUJ1ZmZlcihvKX19fSx7a2V5OiJfb25EZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuYm9keSl0aHJvdyBuZXcgRXJyb3IoIltIeXBlcnR5UmVzb3VyY2VzU3RvcmFnZS5fb25EZWxldGVdIG1hbmRhdG9yeSBtZXNzYWdlIGJvZHkgbWlzc2luZzogIixlKTtpZihlLmJvZHkucmVzb3VyY2UpZGVsZXRlIHQuX2h5cGVydHlSZXNvdXJjZXNbZS5ib2R5LnJlc291cmNlXTtlbHNle2lmKCFlLmJvZHkucmVzb3VyY2VzKXRocm93IG5ldyBFcnJvcigiW0h5cGVydHlSZXNvdXJjZXNTdG9yYWdlLl9vbkRlbGV0ZV0gbWFuZGF0b3J5IHJlc291cmNlIG1pc3Npbmc6ICIsZSk7ZS5ib2R5LnJlc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0Ll9oeXBlcnR5UmVzb3VyY2VzW2VdfSl9dC5fc3RvcmFnZU1hbmFnZXIuZGVsZXRlKCJyZXNvdXJjZVVSTCIsZS5ib2R5LnJlc291cmNlKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHI9e2Zyb206ZS50byx0bzplLmZyb20saWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsYm9keTp7Y29kZToyMDB9fTt0Ll9idXMucG9zdE1lc3NhZ2Uocil9KS5jYXRjaChmdW5jdGlvbihyKXt2YXIgbj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6InJlc3BvbnNlIixib2R5Ontjb2RlOjQwMCxkZXNjcmlwdGlvbjpyfX07dC5fYnVzLnBvc3RNZXNzYWdlKG4pfSl9fV0pLEh5cGVydHlSZXNvdXJjZXNTdG9yYWdlfSgpO3QuZGVmYXVsdD1nLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUwNSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDUwNiksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDEpLHU9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChhKSxjPXIoMiksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9ZnVuY3Rpb24oKXsKLy8gVE9ETzogSW1wcm92ZSB0aGlzIFF1ZXVpbmcKZnVuY3Rpb24gUHJvbWlzZVF1ZXVlKGUpeygwLHUuZGVmYXVsdCkodGhpcyxQcm9taXNlUXVldWUpLHRoaXMuZmx1c2hpbmc9ITEsdGhpcy5Qcm9taXNlPXMuZGVmYXVsdCx0aGlzLmNvbmN1cnJlbmN5PSJudW1iZXIiIT10eXBlb2YgZT8xOmUsdGhpcy5wcm9taXNlcz1bXSx0aGlzLnF1ZXVlPVtdLHRoaXMuaXNQcm9jZXNzaW5nPSExfXJldHVybigwLGYuZGVmYXVsdCkoUHJvbWlzZVF1ZXVlLFt7a2V5OiJkb25lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrPWV9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5xdWV1ZS5wdXNoKGUpLCF0aGlzLmlzUHJvY2Vzc2luZylyZXR1cm4gdGhpcy5xdWV1ZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuW10uY29uY2F0KCgwLGkuZGVmYXVsdCkoZSksW3RdKX0pfSl9LHMuZGVmYXVsdC5yZXNvbHZlKFtdKSkudGhlbihmdW5jdGlvbihlKXsKLy8gRG8gc29tZXRoaW5nIHdpdGggYWxsIHJlc3VsdHMKdC5pc1Byb2Nlc3Npbmc9ITF9KX19XSksUHJvbWlzZVF1ZXVlfSgpO3QuZGVmYXVsdD1sLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUwNiAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIxMCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxyPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9cmV0dXJuKDAsaS5kZWZhdWx0KShlKX19LC8qIDUwNyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigzNyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoMTQpLHY9cig1MTEpLGc9cigxMDApLGI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChnKSxtPXIoNTE2KSxfPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobSksUj1yKDUxNyksdz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KFIpLFM9cigxMDEpLFA9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoUyksTz15LmdldExvZ2dlcigiU3luY2hlck1hbmFnZXIiKSxNPWZ1bmN0aW9uKCl7LyogcHJpdmF0ZQogIF91cmw6IFVSTAogIF9idXM6IE1pbmlCdXMKICBfcmVnaXN0cnk6IFJlZ2lzdHJ5CiAgX2FsbG9jYXRvcjogQWRkcmVzc0FsbG9jYXRpb24KICAgX3JlcG9ydGVyczogeyBPYmplY3RVUkw6IFJlcG9ydGVyT2JqZWN0IH0KICBfb2JzZXJ2ZXJzOiB7IE9iamVjdFVSTDogT2JzZXJ2ZXJPYmplY3QgfQogICovCmZ1bmN0aW9uIFN5bmNoZXJNYW5hZ2VyKGUsdCxyLG4saSxvLHMsYSl7aWYoKDAsZi5kZWZhdWx0KSh0aGlzLFN5bmNoZXJNYW5hZ2VyKSwhZSl0aHJvdyBuZXcgRXJyb3IoIltTeW5jaGVyIE1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBNZXNzYWdlQnVzIGluc3RhbmNlIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJbU3luY2hlciBNYW5hZ2VyXSAtIG5lZWRzIHRoZSBSZWdpc3RyeSBpbnN0YW5jZSIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkcyB0aGUgUnVudGltZUNhdGFsb2d1ZSBpbnN0YW5jZSIpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXIgTWFuYWdlcl0gLSBuZWVkIHRoZSBzdG9yYWdlTWFuYWdlciBpbnN0YW5jZSIpO3ZhciB1PXRoaXM7dS5fYnVzPXQsdS5fcmVnaXN0cnk9cix1Ll9jYXRhbG9nPW4sdS5fc3RvcmFnZU1hbmFnZXI9aSx1Ll9pZGVudGl0eU1vZHVsZT1hLAovL1RPRE86IHRoZXNlIHNob3VsZCBiZSBzYXZlZCBpbiBwZXJzaXN0ZW5jZSBlbmdpbmU/CnUucnVudGltZVVSTD1lLHUuX3VybD1lKyIvc20iLHUuX29iamVjdFVSTD1lKyIvb2JqZWN0LWFsbG9jYXRpb24iLHUuX3JlcG9ydGVycz17fSx1Ll9vYnNlcnZlcnM9e30sdS5fZGF0YU9iamVjdHNTdG9yYWdlPXMsCi8vVE9ETzogdGhpcyBzaG91bGQgbm90IGJlIGhhcmRjb2RlZCEKdS5fZG9tYWluPSgwLGguZGl2aWRlVVJMKShlKS5kb21haW4sdS5fYWxsb2NhdG9yPW98fGIuZGVmYXVsdC5pbnN0YW5jZSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gQWRkcmVzc0FsbG9jYXRpb25dIC0gIix1Ll9hbGxvY2F0b3IpLHQuYWRkTGlzdGVuZXIodS5fdXJsLGZ1bmN0aW9uKGUpe3N3aXRjaChPLmluZm8oIltTeW5jaGVyTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJjcmVhdGUiOnUuX29uQ3JlYXRlKGUpO2JyZWFrO2Nhc2UiZGVsZXRlIjp1Ll9vbkRlbGV0ZShlKTticmVhaztjYXNlInN1YnNjcmliZSI6dS5fb25Mb2NhbFN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp1Ll9vbkxvY2FsVW5TdWJzY3JpYmUoZSl9fSl9cmV0dXJuKDAsZC5kZWZhdWx0KShTeW5jaGVyTWFuYWdlcixbe2tleToiX29uQ3JlYXRlIiwKLy9GTE9XLUlOOiBtZXNzYWdlIHJlY2VpdmVkIGZyb20gU3luY2hlciAtPiBjcmVhdGUKdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbSxuPWUudG87Ci8vIGNoZWNrIGlmIG1lc3NhZ2UgaXMgdG8gc2F2ZSBuZXcgY2hpbGRyZW5PYmplY3RzIGluIHRoZSBsb2NhbCBzdG9yYWdlCi8vIFRPRE86IGNoZWNrIGlmIG1lc3NhZ2UgaXMgdG8gc3RvcmUgbmV3IGNoaWxkIGluIHRoZSBsb2NhbCBzdG9yYWdlIGFuZCBjYWxsIHN0b3JlQ2hpbGQuIEhvdyB0byBkaXN0aW5ndWlzaCBmcm9tIG90aGVycz8KLy9kZWJ1Z2dlcjsKZS5ib2R5LmF0dHJpYnV0ZT90aGlzLl9zdG9yZUNoaWxkcmVucyhlKTohZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKXx8ZS5ib2R5Lmhhc093blByb3BlcnR5KCJyZXN1bWUiKSYmIWUuYm9keS5yZXN1bWU/Ci8vIGNoZWNrIGlmIHRoaXMgaXMgYW4gaW52aXRhdGlvbiBtZXNzYWdlCmUuYm9keS5hdXRob3Jpc2U/KHRoaXMuX2F1dGhvcmlzZShlKSxPLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkNyZWF0ZSAtIGludml0ZSBvYnNlcnZlcnNdIixlKSk6KAovLyB0aGlzIGlzIHRvIGNyZWF0ZSBhIG5ldyBkYXRhIG9iamVjdApPLmluZm8oIltTeW5jaGVyTWFuYWdlci5vbkNyZWF0ZSAtIENyZWF0ZSBOZXcgT2JqZWN0XSIsZSksdGhpcy5fbmV3Q3JlYXRlKGUpKToKLy8gSWYgZnJvbSB0aGUgaHlwZXJ0eSBzaWRlLCBjYWxsIHRoZSByZXN1bWVSZXBvcnRlciB3ZSB3aWxsIGhhdmUgcmVzdW1lID0gdHJ1ZScKLy8gc28gd2Ugd2lsbCBjcmVhdGUgYW4gcmVzdW1lZCBvYmplY3QgYW5kIHdpbGwgdHJ5IHRvIHJlc3VtZSB0aGUgb2JqZWN0IHByZXZpb3VzbHkgc2F2ZWQ7CnRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITApLnRoZW4oZnVuY3Rpb24obyl7aWYoTy5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0gLSBSZXNvdXJjZXNCeUNyaXRlcmlhIHwgTWVzc2FnZTogIixlLCIgcmVzdWx0OiAiLG8pLG8mJigwLHUuZGVmYXVsdCkobykubGVuZ3RoPjApe3ZhciBhPVtdOygwLHUuZGVmYXVsdCkobykuZm9yRWFjaChmdW5jdGlvbihyKXthLnB1c2godC5fcmVzdW1lQ3JlYXRlKGUsb1tyXSkpfSkscy5kZWZhdWx0LmFsbChhKS50aGVuKGZ1bmN0aW9uKG8pe08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSBDcmVhdGUgUmVzdW1lZF0iLG8pOwovLyBUT0RPOiBzaG91ZCBzZW5kIHRoZSBpbmZvcm1hdGlvbiBpZiBzb21lIG9iamVjdCB3YXMgZmFpbDsKdmFyIHM9KDAsaS5kZWZhdWx0KShvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSk7Ty5pbmZvKCJbU3luY2hlck1hbmFnZXIub25DcmVhdGVdIHJldHVybmluZyByZXN1bWVkIG9iamVjdHMgOiAiLHMpLAovL0ZMT1ctT1VUOiBtZXNzYWdlIHJlc3BvbnNlIHRvIFN5bmNoZXIgLT4gY3JlYXRlIHJlc3VtZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206bix0bzpyLGJvZHk6e2NvZGU6MjAwLHZhbHVlOnN9fSl9KX1lbHNlewovL2ZvcndhcmQgdG8gaHlwZXJ0eToKdmFyIGM9e307Yy5pZD1lLmlkLGMuZnJvbT1lLnRvLGMudG89ZS5mcm9tLGMudHlwZT0icmVzcG9uc2UiLGMuYm9keT17Y29kZTo0MDQsZGVzYzoiTm8gZGF0YSBvYmplY3RzIHJlcG9ydGVycyB0byBiZSByZXN1bWVkIn0sdC5fYnVzLnBvc3RNZXNzYWdlKGMpfX0pfX0se2tleToiX3N0b3JlQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49ZS5ib2R5LmF0dHJpYnV0ZTsiY2hpbGRyZW5PYmplY3RzIj09PW4/dC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEscix2b2lkIDAsZS5ib2R5LnZhbHVlKTp0Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxyLG4sZS5ib2R5LnZhbHVlKX19LHtrZXk6Il9uZXdDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLG49ZS5mcm9tLGk9KDAsaC5kaXZpZGVVUkwpKGUuZnJvbSkuZG9tYWluOwovLyBpZiByZXBvcnRlciBpcyBpbiBhIEludGVyd29ya2luZyBQcm90b3N0dWIgdGhlIHJ1bnRpbWUgZG9tYWluIGJhY2tlbmQgc2VydmljZXMgd2lsbCBiZSB1c2VkCnIuX3JlZ2lzdHJ5LmlzSW50ZXJ3b3JraW5nUHJvdG9TdHViKGUuZnJvbSkmJihpPSgwLGguZGl2aWRlVVJMKShyLnJ1bnRpbWVVUkwpLmRvbWFpbiksCi8vIFByb2Nlc3MgaW52aXRhdGlvbiBtZXNzYWdlIHRvIG9ic2VydmVycwovKmlmIChtc2cuYm9keS5hdXRob3Jpc2UpIHsKICAgICAgICBfdGhpcy5fYXV0aG9yaXNlKG1zZyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9Ki8KLy9nZXQgc2NoZW1hIGZyb20gY2F0YWxvZ3VlIGFuZCBwYXJzZSAtPiAoc2NoZW1lLCBjaGlsZHJlbikKci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKG8pe3ZhciBzPW8uc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsYT1zLnNjaGVtZT9zLnNjaGVtZS5jb25zdGFudDoicmVzb3VyY2UiLHU9cy5jaGlsZHJlbj9zLmNoaWxkcmVuLmNvbnN0YW50OltdOwovLyBEbyBzY2hlbWEgdmFsaWRhdGlvbgovLyBUT0RPOiBjaGVjayBpZiBpcyBuZWVkIHRvIGhhbmRsZSB3aXRoIHRoZSByZXN1bHQgb2YgdmFsaWRhdGlvbgooMCx2LnNjaGVtYVZhbGlkYXRpb24pKGEsbyxlLmJvZHkudmFsdWUpO3ZhciBjPXtuYW1lOmUuYm9keS52YWx1ZS5uYW1lLHNjaGVtYTplLmJvZHkudmFsdWUuc2NoZW1hLHJlcG9ydGVyOmUuYm9keS52YWx1ZS5yZXBvcnRlcixyZXNvdXJjZXM6ZS5ib2R5LnZhbHVlLnJlc291cmNlc30sZj1lLmJvZHkudmFsdWUucmVzb3VyY2U7Ci8vZGVidWdnZXI7Ci8vcmVxdWVzdCBhZGRyZXNzIGFsbG9jYXRpb24gb2YgYSBuZXcgb2JqZWN0IGZyb20gdGhlIG1zZy1ub2RlCi8vX3RoaXMuX2FsbG9jYXRvci5jcmVhdGUoZG9tYWluLCBudW1PZkFkZHJlc3MsIG9iamVjdEluZm8sIHNjaGVtZSwgcmV1c2VEYXRhT2JqZWN0KS50aGVuKChhbGxvY2F0ZWQpID0+IHsKci5fYWxsb2NhdG9yLmNyZWF0ZShpLDEsYyxhLGYpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG89KDAsaC5kZWVwQ2xvbmUpKGUuYm9keS52YWx1ZSk7by51cmw9aS5hZGRyZXNzWzBdLG8uYXV0aG9yaXNlPWUuYm9keS5hdXRob3Jpc2Usby5jaGlsZHJlbnM9dSwKLy9vYmplY3RSZWdpc3RyYXRpb24uZXhwaXJlcyA9IDMwOy8vVE9ETzogZ2V0IGl0IGZyb20gZGF0YSBvYmplY3QgY29uZmlndXJhdGlvbiBkZXNjcmlwdGlvbiB3aGVuIHByZXNlbnQKZGVsZXRlIG8uZGF0YSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIEFMTE9DQVRPUiBDUkVBVEU6IixpKTt2YXIgcz1vLnVybCsiL3N1YnNjcmlwdGlvbiI7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3Q3JlYXRlXSBTdWJzY3JpcHRpb24gVVJMIixzKSwKLy9UbyByZWdpc3RlciB0aGUgZGF0YU9iamVjdCBpbiB0aGUgcnVudGltZVJlZ2lzdHJ5Ck8uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIFJlZ2lzdGVyIE9iamVjdDogIixvKSwKLy9fdGhpcy5fcmVnaXN0cnkucmVnaXN0ZXJEYXRhT2JqZWN0KG1zZy5ib2R5LnZhbHVlLm5hbWUsIG1zZy5ib2R5LnZhbHVlLnNjaGVtYSwgb2JqVVJMLCBtc2cuYm9keS52YWx1ZS5yZXBvcnRlciwgbXNnLmJvZHkudmFsdWUucmVzb3VyY2VzLCBhbGxvY2F0ZWQsIG1zZy5ib2R5LmF1dGhvcmlzZSkudGhlbigocmVzb2x2ZSkgPT4gewpyLl9yZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3QobykudGhlbihmdW5jdGlvbihpKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdDcmVhdGVdIERhdGFPYmplY3Qgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQiLGkpOwovL2FsbCBPSyAtPiBjcmVhdGUgcmVwb3J0ZXIgYW5kIHJlZ2lzdGVyIGxpc3RlbmVycwp2YXIgYT12b2lkIDA7YT10Ll9yZXBvcnRlcnNbby51cmxdP3QuX3JlcG9ydGVyc1tvLnVybF06bmV3IF8uZGVmYXVsdChyLG4sby51cmwpLE8ubG9nKCJbU3luY2hlck1hbmFnZXIgLSBuZXcgQ3JlYXRlXSAtICIsZSk7Ci8vIFN0b3JlIGZvciBlYWNoIHJlcG9ydGVyIGh5cGVydHkgdGhlIGRhdGFPYmplY3QKdmFyIGM9dm9pZCAwOwovLyBsZXQgaW50ZXJ3b3JraW5nID0gZmFsc2U7CmM9ZS5ib2R5Lmhhc093blByb3BlcnR5KCJpZGVudGl0eSIpJiZlLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMP2UuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMOnIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pOwovLyBzaG91bGQgd2UgdXNlIHRoZSBtc2cuYm9keS52YWx1ZSBpbnN0ZWFkPwp2YXIgZj0oMCxoLmRlZXBDbG9uZSkobyk7Zi5zdWJzY3JpYmVyVXNlcj1jLGYuaXNSZXBvcnRlcj0hMCwKLy8gU3RvcmUgdGhlIGRhdGFPYmplY3QgaW5mb3JtYXRpb24KLy9pZiAoIWludGVyd29ya2luZykgewpyLl9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2V0KGYpLGUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic3RvcmUiKSYmZS5ib2R5LnN0b3JlJiYoYS5pc1RvU2F2ZURhdGE9ITAsci5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCxvLnVybCwiaXNUb1NhdmVEYXRhIiwhMCksZS5ib2R5LnZhbHVlLmRhdGEmJnIuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMCxvLnVybCxudWxsLGUuYm9keS52YWx1ZS5kYXRhKSksCi8vfQovLyBhZGRpbmcgbGlzdGVuZXJzIHRvIGZvcndhcmQgdG8gcmVwb3J0ZXIKYS5mb3J3YXJkU3Vic2NyaWJlKFtvLnVybCxzXSkudGhlbihmdW5jdGlvbigpe2EuYWRkQ2hpbGRyZW5zKHUpLnRoZW4oZnVuY3Rpb24oKXtyLl9yZXBvcnRlcnNbby51cmxdPWE7dmFyIHQ9e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpuLGJvZHk6e2NvZGU6MjAwLHJlc291cmNlOm8udXJsLGNoaWxkcmVuUmVzb3VyY2VzOnV9fTsKLy9GTE9XLU9VVDogbWVzc2FnZSByZXNwb25zZSB0byBTeW5jaGVyIC0+IGNyZWF0ZQpyLl9idXMucG9zdE1lc3NhZ2UodCl9KX0pfSxmdW5jdGlvbihlKXtPLmVycm9yKGUpfSl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpewovL0ZMT1ctT1VUOiBlcnJvciBtZXNzYWdlIHJlc3BvbnNlIHRvIFN5bmNoZXIgLT4gY3JlYXRlCnZhciBpPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86bixib2R5Ontjb2RlOjUwMCxkZXNjOnR9fTtyLl9idXMucG9zdE1lc3NhZ2UoaSl9KX19LHtrZXk6Il9yZXN1bWVDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24oaSl7dmFyIG89ZS5mcm9tLHM9dC5zY2hlbWEsYT10LnVybCx1PXQuZGF0YTtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyXSAtIHJlc3VtZSBjcmVhdGUiLGUsdCksCi8vZ2V0IHNjaGVtYSBmcm9tIGNhdGFsb2d1ZSBhbmQgcGFyc2UgLT4gKHNjaGVtZSwgY2hpbGRyZW4pCm4uX2NhdGFsb2cuZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IocykudGhlbihmdW5jdGlvbihzKXt2YXIgYz1zLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZS5wcm9wZXJ0aWVzLGY9Yy5zY2hlbWU/Yy5zY2hlbWUuY29uc3RhbnQ6InJlc291cmNlIixsPWMuY2hpbGRyZW4/Yy5jaGlsZHJlbi5jb25zdGFudDpbXTtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyXSAtIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLHMsbCksCi8vIERvIHNjaGVtYSB2YWxpZGF0aW9uCi8vIFRPRE86IGNoZWNrIGlmIGlzIG5lZWQgdG8gaGFuZGxlIHdpdGggdGhlIHJlc3VsdCBvZiB2YWxpZGF0aW9uCigwLHYuc2NoZW1hVmFsaWRhdGlvbikoZixzLHUpO3ZhciBkPSgwLGguZGVlcENsb25lKShlLmJvZHkudmFsdWUpO2QudXJsPXQudXJsLGQuZXhwaXJlcz10LmV4cGlyZXMsZGVsZXRlIGQuZGF0YTsKLy9hbGwgT0sgLT4gY3JlYXRlIHJlcG9ydGVyIGFuZCByZWdpc3RlciBsaXN0ZW5lcnMKdmFyIHA9dm9pZCAwO3A9ci5fcmVwb3J0ZXJzW2FdP3IuX3JlcG9ydGVyc1thXTpuZXcgXy5kZWZhdWx0KG4sbyxhKSxwLmlzVG9TYXZlRGF0YT10LmlzVG9TYXZlRGF0YSxwLmZvcndhcmRTdWJzY3JpYmUoW3QudXJsXSkudGhlbihmdW5jdGlvbigpe3AuYWRkQ2hpbGRyZW5zKGwpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcC5yZXN1bWVTdWJzY3JpcHRpb25zKHQuc3Vic2NyaXB0aW9ucyksbi5fcmVwb3J0ZXJzW2FdPXAsTy5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSByZXN1bWUgY3JlYXRlXSAtIHJlc29sdmVkIHJlc3VtZWQ6ICIsdCksbi5fZGVjcnlwdENoaWxkcmVucyh0LGwpfSkudGhlbihmdW5jdGlvbihlKXsKLy8gbG9nLmxvZygncmVzdWx0IG9mIHByZXZpb3VzIHByb21pc2UnKTsKaShlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe08uZXJyb3IoIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBjcmVhdGVdIC0gZmFpbCBvbiBhZGRDaGlsZHJlbnM6ICIsZSksaSghMSl9KX0pLE8uaW5mbygiW1N5bmNoZXJNYW5hZ2VyLl9yZXN1bWVDcmVhdGVdIFJlZ2lzdGVyIE9iamVjdDogIixkKSxuLl9yZWdpc3RyeS5yZWdpc3RlckRhdGFPYmplY3QoZCkudGhlbihmdW5jdGlvbihlKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9yZXN1bWVDcmVhdGVdIERhdGFPYmplY3QgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWxseSB1cGRhdGVkIixlKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIGNyZWF0ZV0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLGkoITEpfSl9KX19LHtrZXk6Il9kZWNyeXB0Q2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHIpe2lmKHQpezA9PT0oMCx1LmRlZmF1bHQpKGUuY2hpbGRyZW5PYmplY3RzKS5sZW5ndGgmJnIoZSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuY2hpbGRyZW5PYmplY3RzW3RdO08ubG9nKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGRhdGFPYmplY3RDaGlsZHMgdG8gZGVjcnlwdCAiLG4pO3ZhciBpPVtdOygwLHUuZGVmYXVsdCkobikuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uW3RdLG89dC5zcGxpdCgiIyIpWzBdO2lmKCJzdHJpbmciPT10eXBlb2Ygci52YWx1ZSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gY3JlYXRlZEJ5ICIsbywiIG9iamVjdDogIixyLnZhbHVlKTt2YXIgcz1QLmRlZmF1bHQuZGVjcnlwdERhdGFPYmplY3QoSlNPTi5wYXJzZShyLnZhbHVlKSxlLnVybCk7aS5wdXNoKHMpfX0pLHMuZGVmYXVsdC5hbGwoaSkudGhlbihmdW5jdGlvbihuKXtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSByZXR1cm5pbmcgZGVjcnlwdGVkICIsbiksbi5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBuPXIudmFsdWUudXJsO2UuY2hpbGRyZW5PYmplY3RzW3RdW25dLnZhbHVlPXIudmFsdWV9KSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9kZWNyeXB0Q2hpbGRyZW5zXSBzdG9yZWRPYmplY3QgIixlKSxyKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty53YXJuKCJbU3luY2hlck1hbmFnZXIuX2RlY3J5cHRDaGlsZHJlbnNdIGZhaWxlZCA6ICIsZSl9KX0pfWVsc2UgcihlKX0pfX0se2tleToiX2F1dGhvcmlzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5ib2R5LnJlc291cmNlKXRocm93IG5ldyBFcnJvcigiW1N5bmNoZXJNYW5hZ2VyLl9hdXRob3Jpc2VdIGludml0YXRpb24gcmVxdWVzdCB3aXRob3V0IGRhdGEgb2JqZWN0IHVybDoiLGUpO3ZhciByPWUuYm9keS5yZXNvdXJjZSsiL3N1YnNjcmlwdGlvbiIsbj0hIWUuYm9keS5wMnAmJmUuYm9keS5wMnA7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtICBhdXRob3Jpc2VdIC0gIixlKSxlLmJvZHkuYXV0aG9yaXNlJiZlLmJvZHkuYXV0aG9yaXNlLmZvckVhY2goZnVuY3Rpb24oaSl7Ci8vRkxPVy1PVVQ6IHNlbmQgaW52aXRlcyB0byBsaXN0IG9mIHJlbW90ZSBTeW5jaGVyIC0+IF9vblJlbW90ZUNyZWF0ZSAtPiBvbk5vdGlmaWNhdGlvbgp0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImNyZWF0ZSIsZnJvbTpyLHRvOmksYm9keTp7cDJwOm4saWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHNvdXJjZTplLmZyb20sdmFsdWU6ZS5ib2R5LnZhbHVlLHNjaGVtYTplLmJvZHkuc2NoZW1hfX0sZnVuY3Rpb24ocil7Ci8vIGxldHMgZm9yd2FyZCB0aGUgaW52aXRhdGlvbiByZXNwb25zZQp2YXIgbj17ZnJvbTplLnRvLHRvOmUuZnJvbSxpZDplLmlkLHR5cGU6ci50eXBlLGJvZHk6ci5ib2R5fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX0pfX0se2tleToiX29uRGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlLG49dC5fcmVwb3J0ZXJzW3JdO24mJigKLy9UT0RPOiBpcyB0aGVyZSBhbnkgcG9saWN5IHZlcmlmaWNhdGlvbiBiZWZvcmUgZGVsZXRlPwpuLmRlbGV0ZSgpLHRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5kZWxldGVSZXNvdXJjZShyKS50aGVuKGZ1bmN0aW9uKG4pe08ubG9nKCJbU3luY2hlck1hbmFnZXIgLSBvbkRlbGV0ZV0gLSBkZWxldGVSZXNvdXJjZTogIixuKSx0Ll9yZWdpc3RyeS51bnJlZ2lzdGVyRGF0YU9iamVjdChyKSwKLy9UT0RPOiB1bnJlZ2lzdGVyIG9iamVjdD8KdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pfSkpfX0se2tleToiX29uTG9jYWxTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Ci8vZGVidWdnZXI7CnRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5nZXRSZXNvdXJjZXNCeUNyaXRlcmlhKGUsITEpLnRoZW4oZnVuY3Rpb24ocil7aWYoTy5pbmZvKCJbU3luY2hlck1hbmFnZXIgLSBTdWJzY3JpYmVdIC0gUmVzb3VyY2VzQnlDcml0ZXJpYSB8IE1lc3NhZ2U6ICIsZSwiIHJlc3VsdDogIixyKSxyJiYoMCx1LmRlZmF1bHQpKHIpLmxlbmd0aD4wKXt2YXIgbj1bXTsKLy8gVE9ETzogc2hvdWxkIHJldXNlIHRoZSBzdG9yYWdlZCBpbmZvcm1hdGlvbgooMCx1LmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24oaSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIHJlc3VtZSBTdWJzY3JpYmVdIC0gcmV1c2UgY3VycmVudCBvYmplY3QgdXJsOiAiLHJbaV0pLG4ucHVzaCh0Ll9yZXN1bWVTdWJzY3JpcHRpb24oZSxyW2ldKSl9KSxzLmRlZmF1bHQuYWxsKG4pLnRoZW4oZnVuY3Rpb24ocil7Ty5sb2coIltTeW5jaGVyTWFuYWdlciAtIE9ic2VydmVycyBSZXN1bWVkXSIscik7Ci8vIFRPRE86IHNob3VkIHNlbmQgdGhlIGluZm9ybWF0aW9uIGlmIHNvbWUgb2JqZWN0IHdhcyBmYWlsOwp2YXIgbj0oMCxpLmRlZmF1bHQpKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWV9KTsKLy9GTE9XLU9VVDogbWVzc2FnZSByZXNwb25zZSB0byBTeW5jaGVyIC0+IGNyZWF0ZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZToyMDAsdmFsdWU6bn19KX0pfWVsc2UgaWYoZS5ib2R5LnNjaGVtYSYmZS5ib2R5LnJlc291cmNlKU8ubG9nKCJbU3luY2hlck1hbmFnZXIub25Mb2NhbFN1YnNjcmliZSAtIG5ldyBTdWJzY3JpYmVdIC0gIixlLmJvZHkuc2NoZW1hLGUuYm9keS5yZXNvdXJjZSksdC5fbmV3U3Vic2NyaXB0aW9uKGUpO2Vsc2V7Ci8vZm9yd2FyZCB0byBoeXBlcnR5Ogp2YXIgbz17fTtvLmlkPWUuaWQsby5mcm9tPWUudG8sby50bz1lLmZyb20sby50eXBlPSJyZXNwb25zZSIsby5ib2R5PXtjb2RlOjQwNCxkZXNjOiJObyBkYXRhIG9iamVjdHMgb2JzZXJ2ZXJzIHRvIGJlIHJlc3VtZWQifSx0Ll9idXMucG9zdE1lc3NhZ2Uobyl9fSl9fSx7a2V5OiJfbmV3U3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcyxuPWUuYm9keS5yZXNvdXJjZSxpPWUuZnJvbSxvPSgwLGguZGl2aWRlVVJMKShuKS5kb21haW4scz1uKyIvc3Vic2NyaXB0aW9uIixhPW4rIi9jaGlsZHJlbi8iOwovL2dldCBzY2hlbWEgZnJvbSBjYXRhbG9ndWUgYW5kIHBhcnNlIC0+IChjaGlsZHJlbikKci5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihlLmJvZHkuc2NoZW1hKS50aGVuKGZ1bmN0aW9uKHUpe3ZhciBjPXUuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXMsZj1jLmNoaWxkcmVuP2MuY2hpbGRyZW4uY29uc3RhbnQ6W10sbD1bXTtsLnB1c2gobisiL2NoYW5nZXMiKSxmLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGwucHVzaChhK2UpfSk7Ci8vY2hpbGRyZW4gYWRkcmVzc2VzCi8vRkxPVy1PVVQ6IHN1YnNjcmliZSBtZXNzYWdlIHRvIHRoZSBtc2ctbm9kZSwgcmVnaXN0ZXJpbmcgbGlzdGVuZXJzIG9uIHRoZSBicm9rZXIKdmFyIGQ9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrbysiL3NtIixib2R5OntpZGVudGl0eTplLmJvZHkuaWRlbnRpdHkscmVzb3VyY2VzOmwsc291cmNlOml9fTsKLy9zdWJzY3JpYmUgaW4gbXNnLW5vZGUKci5fYnVzLnBvc3RNZXNzYWdlKGQsZnVuY3Rpb24obyl7aWYoTy5sb2coIm5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlKG9ic2VydmVyKTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7Ci8vRkxPVy1PVVQ6IHJlcGx5IHdpdGggcHJvdmlzaW9uYWwgcmVzcG9uc2UKci5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86aSxib2R5Ontjb2RlOjEwMCxjaGlsZHJlblJlc291cmNlczpmLHNjaGVtYTplLmJvZHkuc2NoZW1hLHJlc291cmNlOmUuYm9keS5yZXNvdXJjZX19KTsKLy9GTE9XLU9VVDogc3Vic2NyaWJlIG1lc3NhZ2UgdG8gcmVtb3RlIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZQp2YXIgYT17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX3VybCx0bzpzLGJvZHk6e2lkZW50aXR5OmQuYm9keS5pZGVudGl0eSxzdWJzY3JpYmVyOml9fTsKLy9UT0RPOiBGb3IgRnVydGhlciBTdHVkeQplLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYoYS5ib2R5Lm11dHVhbD1lLmJvZHkubXV0dWFsKSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIixhLGUpLAovL3N1YnNjcmliZSB0byByZXBvcnRlciBTTQpyLl9idXMucG9zdE1lc3NhZ2UoYSxmdW5jdGlvbihvKXtpZihPLmxvZygicmVwb3J0ZXItc3Vic2NyaWJlLXJlc3BvbnNlLW5ldzogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7Ty5sb2coIltTeW5jaGVyTWFuYWdlci5fbmV3U3Vic2NyaXB0aW9uXSAtIG9ic2VydmVyczogIixyLl9vYnNlcnZlcnMsbixyLl9vYnNlcnZlcnNbbl0pO3ZhciBzPXIuX29ic2VydmVyc1tuXTtzfHwocz1uZXcgdy5kZWZhdWx0KHIsbixmKSxPLmxvZygiW1N5bmNoZXJNYW5hZ2VyLl9uZXdTdWJzY3JpcHRpb25dIC0gb2JzZXJ2ZXJzOiBjcmVhdGUgbmV3IE9ic2VydmVyT2JqZWN0OiAiLHMpLHIuX29ic2VydmVyc1tuXT1zLAovLyByZWdpc3RlciBuZXcgaHlwZXJ0eSBzdWJzY3JpcHRpb24Kcy5hZGRTdWJzY3JpcHRpb24oaSksCi8vIGFkZCBjaGlsZHJlbnMgYW5kIGxpc3RlbmVycyB0byBzYXZlIGRhdGEgaWYgbmVjZXNzYXJ5CnMuYWRkQ2hpbGRyZW5zKGYpKTt2YXIgYT0hMSx1PXZvaWQgMDtlLmJvZHkuaGFzT3duUHJvcGVydHkoImlkZW50aXR5IikmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZSYmZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkw/KHU9ZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJVUkwsdS5pbmNsdWRlcygidXNlcjovLyIpfHwoYT0hMCkpOih1PXIuX3JlZ2lzdHJ5LmdldEh5cGVydHlPd25lcihlLmZyb20pKXx8KGE9ITApO3ZhciBjPSgwLGguZGVlcENsb25lKShvLmJvZHkudmFsdWUpOwovLyBsZXQgY2hpbGRyZW5PYmplY3RzID0gbWV0YWRhdGEuY2hpbGRyZW5PYmplY3RzIHx8IHt9OwpkZWxldGUgYy5kYXRhLGRlbGV0ZSBjLmNoaWxkcmVuT2JqZWN0cyxjLmNoaWxkcmVucz1mLGMuc3Vic2NyaWJlclVzZXI9dSxjLmlzUmVwb3J0ZXI9ITEsYy5zdWJzY3JpYmVySHlwZXJ0eT1pLGF8fCgKLy9fdGhpcy5fZGF0YU9iamVjdHNTdG9yYWdlLnNldChvYmpVUkwsIGZhbHNlLCBtc2cuYm9keS5zY2hlbWEsICdvbicsIHJlcGx5LmJvZHkub3duZXIsIGh5cGVydHlVUkwsIGNoaWxkcmVucywgdXNlclVSTCk7CnIuX2RhdGFPYmplY3RzU3RvcmFnZS5zZXQoYyksKGMuaGFzT3duUHJvcGVydHkoInN0b3JlIikmJmMuc3RvcmV8fGMuaGFzT3duUHJvcGVydHkoImlzVG9TYXZlRGF0YSIpJiZjLmlzVG9TYXZlRGF0YSkmJihzLmlzVG9TYXZlRGF0YT0hMCxyLl9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLG4sImlzVG9TYXZlRGF0YSIsITApLHIuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMSxuLG51bGwsby5ib2R5LnZhbHVlLmRhdGEpKSksCi8vZm9yd2FyZCB0byBoeXBlcnR5OgpvLmlkPWUuaWQsby5mcm9tPXIuX3VybCxvLnRvPWksby5ib2R5LnNjaGVtYT1lLmJvZHkuc2NoZW1hLG8uYm9keS5yZXNvdXJjZT1lLmJvZHkucmVzb3VyY2UsCi8vVE9ETzogRm9yIEZ1cnRoZXIgU3R1ZHkKZS5ib2R5Lmhhc093blByb3BlcnR5KCJtdXR1YWwiKSYmKG8uYm9keS5tdXR1YWw9ZS5ib2R5Lm11dHVhbCksTy5sb2coIltzdWJzY3JpYmVdIC0gbmV3IHN1YnNjcmlwdGlvbjogIixlLG8scyksdC5fYnVzLnBvc3RNZXNzYWdlKG8pfX0pfWVsc2UKLy9saXN0ZW5lciByZWplY3RlZApyLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzppLGJvZHk6by5ib2R5fSl9KX0pfX0se2tleToiX3Jlc3VtZVN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG4pe3ZhciBpPXQudXJsLG89dC5zY2hlbWEscz1lLmZyb20sYT1pKyIvY2hpbGRyZW4vIjtPLmxvZygiW1N5bmNoZXJNYW5hZ2VyIC0gUmV1c2VTdWJzY3JpcHRpb25dIC0gb2JqVVJMOiAiLGksIiAtIHNjaGVtYToiLG8pLAovL2dldCBzY2hlbWEgZnJvbSBjYXRhbG9ndWUgYW5kIHBhcnNlIC0+IChjaGlsZHJlbikKLy8gVE9ETzogcmVtb3ZlIHRoaXMgc2luY2UgY2hpbGRyZW4gcmVzb3VyY2VzIHNob3VsZCBiZSBhdmFpbGFibGUgaW4gdGhlIERhdGFPYmplY3RzU3RvcmFnZQpyLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKG8pLnRoZW4oZnVuY3Rpb24obil7dmFyIHU9bi5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllcyxjPXUuY2hpbGRyZW4/dS5jaGlsZHJlbi5jb25zdGFudDpbXSxmPVtdO2YucHVzaChpKyIvY2hhbmdlcyIpLGMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZi5wdXNoKGErZSl9KSwKLy9GTE9XLU9VVDogcmVwbHkgd2l0aCBwcm92aXNpb25hbCByZXNwb25zZQpyLl9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzpzLGJvZHk6e2NvZGU6MTAwLGNoaWxkcmVuUmVzb3VyY2VzOmMsc2NoZW1hOm8scmVzb3VyY2U6aX19KTsKLy9GTE9XLU9VVDogc3Vic2NyaWJlIG1lc3NhZ2UgdG8gcmVtb3RlIFJlcG9ydGVyT2JqZWN0IC0+IF9vblJlbW90ZVN1YnNjcmliZQovKmxldCBvYmpTdWJzY3JpYmVNc2cgPSB7CiAgICAgICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLCBmcm9tOiB0aGlzLl91cmwsIHRvOiBvYmpVUkxTdWJzY3JpcHRpb24sCiAgICAgICAgICAgIGJvZHk6IHsgc3Vic2NyaWJlcjogaHlwZXJ0eVVSTCwgaWRlbnRpdHk6IG1zZy5ib2R5LmlkZW50aXR5IH0KICAgICAgICAgIH07CiAgICAgICAgICAgLy9zdWJzY3JpYmUgdG8gcmVwb3J0ZXIgU00KICAgICAgICAgIHRoaXMuX2J1cy5wb3N0TWVzc2FnZShvYmpTdWJzY3JpYmVNc2csIChyZXBseSkgPT4geyovCnZhciBsPXIuX29ic2VydmVyc1tpXTsKLy8gT2JqZWN0LmFzc2lnbihzdG9yZWRPYmplY3QuZGF0YSwgcmVwbHkuYm9keS52YWx1ZS5kYXRhKTsKLy8gT2JqZWN0LmFzc2lnbihzdG9yZWRPYmplY3QuY2hpbGRyZW5zLCByZXBseS5ib2R5LnZhbHVlLmNoaWxkcmVucyk7Ci8vbG9nLmxvZygnW3N1YnNjcmliZV0gLSByZXN1bWUgc3Vic2NyaXB0aW9uOiAnLCBtc2csIHJlcGx5LCBzdG9yZWRPYmplY3QsIG9ic2VydmVyKTsKLy9yZWdpc3RlciBuZXcgaHlwZXJ0eSBzdWJzY3JpcHRpb24KcmV0dXJuIGx8fChsPW5ldyB3LmRlZmF1bHQocixpLGMpLGwuaXNUb1NhdmVEYXRhPXQuaXNUb1NhdmVEYXRhLHIuX29ic2VydmVyc1tpXT1sKSxsLmFkZFN1YnNjcmlwdGlvbihzKSxsLmFkZENoaWxkcmVucyhjKSxyLl9kZWNyeXB0Q2hpbGRyZW5zKHQsYyl9KS50aGVuKGZ1bmN0aW9uKGUpewovLyBsb2cubG9nKCdyZXN1bHQgb2YgcHJldmlvdXMgcHJvbWlzZScpOwpuKGUpfSkuY2F0Y2goZnVuY3Rpb24oZSl7Ty5lcnJvcigiW1N5bmNoZXJNYW5hZ2VyIC0gcmVzdW1lIHN1YnNjcmlwdGlvbl0gLSBmYWlsIG9uIGdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUpLG4oITEpfSl9KX19LHtrZXk6Il9vbkxvY2FsVW5TdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0oZS5mcm9tLGUuYm9keS5yZXNvdXJjZSksbj10Ll9vYnNlcnZlcnNbcl07biYmKAovL1RPRE86IGlzIHRoZXJlIGFueSBwb2xpY3kgdmVyaWZpY2F0aW9uIGJlZm9yZSBkZWxldGU/Cm4ucmVtb3ZlU3Vic2NyaXB0aW9uKGUpLAovL1RPRE86IGRlc3Ryb3kgb2JqZWN0IGluIHRoZSByZWdpc3RyeT8KdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwfX0pLHRoaXMuX2RhdGFPYmplY3RzU3RvcmFnZS5kZWxldGVSZXNvdXJjZShyKSwKLy9UT0RPOiByZW1vdmUgT2JqZWN0IGlmIG5vIG1vcmUgc3Vic2NyaXB0aW9uPwpkZWxldGUgdC5fb2JzZXJ2ZXJzW3JdKX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksU3luY2hlck1hbmFnZXJ9KCk7dC5kZWZhdWx0PU0sZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTA4ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDUwOSksZS5leHBvcnRzPXIoMTApLk9iamVjdC52YWx1ZXN9LC8qIDUwOSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7Ci8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9iamVjdC12YWx1ZXMtZW50cmllcwp2YXIgbj1yKDIxKSxpPXIoNTEwKSghMSk7bihuLlMsIk9iamVjdCIse3ZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gaShlKX19KX0sLyogNTEwICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDY3KSxpPXIoNDYpLG89cig3OCkuZjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcixzPWkodCksYT1uKHMpLHU9YS5sZW5ndGgsYz0wLGY9W107dT5jOylvLmNhbGwocyxyPWFbYysrXSkmJmYucHVzaChlP1tyLHNbcl1dOnNbcl0pO3JldHVybiBmfX19LC8qIDUxMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHNjaGVtYVZhbGlkYXRpb24oZSx0LHIpe3RyeXt2YXIgbj1yLGk9dC5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGU7Ci8vIGFkZCBzdXBwb3J0IGZvciBzY2hlbWEgcmVmZXJlbmNpbmcgaXRzZWxmCm8uZGVmYXVsdC5hZGRTY2hlbWEoaS5pZCxpKTsKLy8gdmFsaWRhdGUKdmFyIHM9by5kZWZhdWx0LnZhbGlkYXRlTXVsdGlwbGUobixpKTsKLy8gZGVsZXRlIGVycm9yIHN0YWNrcyB0byBpbXByb3ZlIGxvZ2dpbmcKcy5lcnJvcnMuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgZS5zdGFja30pLCFzLnZhbGlkfHxzLm1pc3NpbmcubGVuZ3RofWNhdGNoKGUpe319T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDcpO19pbnRlcm9wUmVxdWlyZURlZmF1bHQobik7dC5zY2hlbWFWYWxpZGF0aW9uPXNjaGVtYVZhbGlkYXRpb247dmFyIGk9cig1MTIpLG89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChpKX0sLyogNTEyICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbm90UmVhbGx5UGVyY2VudEVuY29kZShlKXtyZXR1cm4gZW5jb2RlVVJJKGUpLnJlcGxhY2UoLyUyNVswLTldWzAtOV0vZyxmdW5jdGlvbihlKXtyZXR1cm4iJSIrZS5zdWJzdHJpbmcoMyl9KX1mdW5jdGlvbiB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihlKXt2YXIgdD0iIjtoW2UuY2hhckF0KDApXSYmKHQ9ZS5jaGFyQXQoMCksZT1lLnN1YnN0cmluZygxKSk7dmFyIHI9IiIsbj0iIixpPSEwLG89ITEscz0hMTsiKyI9PT10P2k9ITE6Ii4iPT09dD8obj0iLiIscj0iLiIpOiIvIj09PXQ/KG49Ii8iLHI9Ii8iKToiIyI9PT10PyhuPSIjIixpPSExKToiOyI9PT10PyhuPSI7IixyPSI7IixvPSEwLHM9ITApOiI/Ij09PXQ/KG49Ij8iLHI9IiYiLG89ITApOiImIj09PXQmJihuPSImIixyPSImIixvPSEwKTtmb3IodmFyIGE9W10sdT1lLnNwbGl0KCIsIiksYz1bXSxmPXt9LGw9MDtsPHUubGVuZ3RoO2wrKyl7dmFyIHA9dVtsXSxnPW51bGw7aWYoLTEhPT1wLmluZGV4T2YoIjoiKSl7dmFyIGI9cC5zcGxpdCgiOiIpO3A9YlswXSxnPXBhcnNlSW50KGJbMV0sMTApfWZvcih2YXIgbT17fTt2W3AuY2hhckF0KHAubGVuZ3RoLTEpXTspbVtwLmNoYXJBdChwLmxlbmd0aC0xKV09ITAscD1wLnN1YnN0cmluZygwLHAubGVuZ3RoLTEpO3ZhciBfPXt0cnVuY2F0ZTpnLG5hbWU6cCxzdWZmaWNlczptfTtjLnB1c2goXyksZltwXT1fLGEucHVzaChwKX12YXIgUj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIsYT0wLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGY9Y1t1XSxsPWUoZi5uYW1lKTtpZihudWxsPT09bHx8dm9pZCAwPT09bHx8QXJyYXkuaXNBcnJheShsKSYmMD09PWwubGVuZ3RofHwib2JqZWN0Ij09PSh2b2lkIDA9PT1sPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkobCkpJiYwPT09KDAseS5kZWZhdWx0KShsKS5sZW5ndGgpYSsrO2Vsc2UgaWYodCs9dT09PWE/bjpyfHwiLCIsQXJyYXkuaXNBcnJheShsKSl7byYmKHQrPWYubmFtZSsiPSIpO2Zvcih2YXIgcD0wO3A8bC5sZW5ndGg7cCsrKXA+MCYmKHQrPWYuc3VmZmljZXNbIioiXT9yfHwiLCI6IiwiLGYuc3VmZmljZXNbIioiXSYmbyYmKHQrPWYubmFtZSsiPSIpKSx0Kz1pP2VuY29kZVVSSUNvbXBvbmVudChsW3BdKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobFtwXSl9ZWxzZSBpZigib2JqZWN0Ij09PSh2b2lkIDA9PT1sPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkobCkpKXtvJiYhZi5zdWZmaWNlc1siKiJdJiYodCs9Zi5uYW1lKyI9Iik7dmFyIGg9ITA7Zm9yKHZhciB2IGluIGwpaHx8KHQrPWYuc3VmZmljZXNbIioiXT9yfHwiLCI6IiwiKSxoPSExLHQrPWk/ZW5jb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZSh2KSx0Kz1mLnN1ZmZpY2VzWyIqIl0/Ij0iOiIsIix0Kz1pP2VuY29kZVVSSUNvbXBvbmVudChsW3ZdKS5yZXBsYWNlKC8hL2csIiUyMSIpOm5vdFJlYWxseVBlcmNlbnRFbmNvZGUobFt2XSl9ZWxzZSBvJiYodCs9Zi5uYW1lLHMmJiIiPT09bHx8KHQrPSI9IikpLG51bGwhPWYudHJ1bmNhdGUmJihsPWwuc3Vic3RyaW5nKDAsZi50cnVuY2F0ZSkpLHQrPWk/ZW5jb2RlVVJJQ29tcG9uZW50KGwpLnJlcGxhY2UoLyEvZywiJTIxIik6bm90UmVhbGx5UGVyY2VudEVuY29kZShsKX1yZXR1cm4gdH07cmV0dXJuIFIudmFyTmFtZXM9YSx7cHJlZml4Om4sc3Vic3RpdHV0aW9uOlJ9fWZ1bmN0aW9uIFVyaVRlbXBsYXRlKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFVyaVRlbXBsYXRlKSlyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKGUpO2Zvcih2YXIgdD1lLnNwbGl0KCJ7Iikscj1bdC5zaGlmdCgpXSxuPVtdLGk9W10sbz1bXTt0Lmxlbmd0aD4wOyl7dmFyIHM9dC5zaGlmdCgpLGE9cy5zcGxpdCgifSIpWzBdLHU9cy5zdWJzdHJpbmcoYS5sZW5ndGgrMSksYz11cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihhKTtpLnB1c2goYy5zdWJzdGl0dXRpb24pLG4ucHVzaChjLnByZWZpeCksci5wdXNoKHUpLG89by5jb25jYXQoYy5zdWJzdGl0dXRpb24udmFyTmFtZXMpfXRoaXMuZmlsbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9clswXSxuPTA7bjxpLmxlbmd0aDtuKyspe3QrPSgwLGlbbl0pKGUpLHQrPXJbbisxXX1yZXR1cm4gdH0sdGhpcy52YXJOYW1lcz1vLHRoaXMudGVtcGxhdGU9ZX1mdW5jdGlvbiByZWN1cnNpdmVDb21wYXJlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoZSYmdCYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSYmIm9iamVjdCI9PT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKHQpKSl7aWYoQXJyYXkuaXNBcnJheShlKSE9PUFycmF5LmlzQXJyYXkodCkpcmV0dXJuITE7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZighcmVjdXJzaXZlQ29tcGFyZShlW3JdLHRbcl0pKXJldHVybiExfWVsc2V7dmFyIG47Zm9yKG4gaW4gZSlpZih2b2lkIDA9PT10W25dJiZ2b2lkIDAhPT1lW25dKXJldHVybiExO2ZvcihuIGluIHQpaWYodm9pZCAwPT09ZVtuXSYmdm9pZCAwIT09dFtuXSlyZXR1cm4hMTtmb3IobiBpbiBlKWlmKCFyZWN1cnNpdmVDb21wYXJlKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9Ci8vIHBhcnNlVVJJKCkgYW5kIHJlc29sdmVVcmwoKSBhcmUgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDg4ODUwCi8vICAgLSAgcmVsZWFzZWQgYXMgcHVibGljIGRvbWFpbiBieSBhdXRob3IgKCJZYWZmbGUiKSAtIHNlZSBjb21tZW50cyBvbiBnaXN0CmZ1bmN0aW9uIHBhcnNlVVJJKGUpe3ZhciB0PVN0cmluZyhlKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikubWF0Y2goL14oW146XC8/I10rOik/KFwvXC8oPzpbXjpAXSooPzo6W146QF0qKT9AKT8oKFteOlwvPyNdKikoPzo6KFxkKikpPykpPyhbXj8jXSopKFw/W14jXSopPygjW1xzXFNdKik/Lyk7Ci8vIGF1dGhvcml0eSA9ICcvLycgKyB1c2VyICsgJzonICsgcGFzcyAnQCcgKyBob3N0bmFtZSArICc6JyBwb3J0CnJldHVybiB0P3tocmVmOnRbMF18fCIiLHByb3RvY29sOnRbMV18fCIiLGF1dGhvcml0eTp0WzJdfHwiIixob3N0OnRbM118fCIiLGhvc3RuYW1lOnRbNF18fCIiLHBvcnQ6dFs1XXx8IiIscGF0aG5hbWU6dFs2XXx8IiIsc2VhcmNoOnRbN118fCIiLGhhc2g6dFs4XXx8IiJ9Om51bGx9ZnVuY3Rpb24gcmVzb2x2ZVVybChlLHQpewovLyBSRkMgMzk4NgpyZXR1cm4gdD1wYXJzZVVSSSh0fHwiIiksZT1wYXJzZVVSSShlfHwiIiksdCYmZT8odC5wcm90b2NvbHx8ZS5wcm90b2NvbCkrKHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5P3QuYXV0aG9yaXR5OmUuYXV0aG9yaXR5KStmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5yZXBsYWNlKC9eKFwuXC4/KFwvfCQpKSsvLCIiKS5yZXBsYWNlKC9cLyhcLihcL3wkKSkrL2csIi8iKS5yZXBsYWNlKC9cL1wuXC4kLywiLy4uLyIpLnJlcGxhY2UoL1wvP1teXC9dKi9nLGZ1bmN0aW9uKGUpeyIvLi4iPT09ZT90LnBvcCgpOnQucHVzaChlKX0pLHQuam9pbigiIikucmVwbGFjZSgvXlwvLywiLyI9PT1lLmNoYXJBdCgwKT8iLyI6IiIpfSh0LnByb3RvY29sfHx0LmF1dGhvcml0eXx8Ii8iPT09dC5wYXRobmFtZS5jaGFyQXQoMCk/dC5wYXRobmFtZTp0LnBhdGhuYW1lPyhlLmF1dGhvcml0eSYmIWUucGF0aG5hbWU/Ii8iOiIiKStlLnBhdGhuYW1lLnNsaWNlKDAsZS5wYXRobmFtZS5sYXN0SW5kZXhPZigiLyIpKzEpK3QucGF0aG5hbWU6ZS5wYXRobmFtZSkrKHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5fHx0LnBhdGhuYW1lP3Quc2VhcmNoOnQuc2VhcmNofHxlLnNlYXJjaCkrdC5oYXNoOm51bGx9ZnVuY3Rpb24gZ2V0RG9jdW1lbnRVcmkoZSl7cmV0dXJuIGUuc3BsaXQoIiMiKVswXX1mdW5jdGlvbiBub3JtU2NoZW1hKGUsdCl7aWYoZSYmIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSlpZih2b2lkIDA9PT10P3Q9ZS5pZDoic3RyaW5nIj09dHlwZW9mIGUuaWQmJih0PXJlc29sdmVVcmwodCxlLmlkKSxlLmlkPXQpLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspbm9ybVNjaGVtYShlW3JdLHQpO2Vsc2V7InN0cmluZyI9PXR5cGVvZiBlLiRyZWYmJihlLiRyZWY9cmVzb2x2ZVVybCh0LGUuJHJlZikpO2Zvcih2YXIgbiBpbiBlKSJlbnVtIiE9PW4mJm5vcm1TY2hlbWEoZVtuXSx0KX19ZnVuY3Rpb24gZGVmYXVsdEVycm9yUmVwb3J0ZXIoZSl7ZT1lfHwiZW4iO3ZhciB0PVBbZV07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPXRbZS5jb2RlXXx8U1tlLmNvZGVdO2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4iVW5rbm93biBlcnJvciBjb2RlICIrZS5jb2RlKyI6ICIrKDAsaS5kZWZhdWx0KShlLm1lc3NhZ2VQYXJhbXMpO3ZhciBuPWUucGFyYW1zOwovLyBBZGFwdGVkIGZyb20gQ3JvY2tmb3JkJ3Mgc3VwcGxhbnQoKQpyZXR1cm4gci5yZXBsYWNlKC9ceyhbXnt9XSopXH0vZyxmdW5jdGlvbihlLHQpe3ZhciByPW5bdF07cmV0dXJuInN0cmluZyI9PXR5cGVvZiByfHwibnVtYmVyIj09dHlwZW9mIHI/cjplfSl9fWZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihlLHQscixuLGkpe2lmKEVycm9yLmNhbGwodGhpcyksdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vIGVycm9yIGNvZGUgc3VwcGxpZWQ6ICIrbik7dGhpcy5tZXNzYWdlPSIiLHRoaXMucGFyYW1zPXQsdGhpcy5jb2RlPWUsdGhpcy5kYXRhUGF0aD1yfHwiIix0aGlzLnNjaGVtYVBhdGg9bnx8IiIsdGhpcy5zdWJFcnJvcnM9aXx8bnVsbDt2YXIgbz1uZXcgRXJyb3IodGhpcy5tZXNzYWdlKTtpZih0aGlzLnN0YWNrPW8uc3RhY2t8fG8uc3RhY2t0cmFjZSwhdGhpcy5zdGFjayl0cnl7dGhyb3cgb31jYXRjaChvKXt0aGlzLnN0YWNrPW8uc3RhY2t8fG8uc3RhY2t0cmFjZX19ZnVuY3Rpb24gaXNUcnVzdGVkVXJsKGUsdCl7aWYodC5zdWJzdHJpbmcoMCxlLmxlbmd0aCk9PT1lKXt2YXIgcj10LnN1YnN0cmluZyhlLmxlbmd0aCk7aWYodC5sZW5ndGg+MCYmIi8iPT09dC5jaGFyQXQoZS5sZW5ndGgtMSl8fCIjIj09PXIuY2hhckF0KDApfHwiPyI9PT1yLmNoYXJBdCgwKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVBcGkoZSl7dmFyIHQscixuPW5ldyBnLGk9e3NldEVycm9yUmVwb3J0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3RoaXMubGFuZ3VhZ2UoZSk6KHI9ZSwhMCl9LGFkZEZvcm1hdDpmdW5jdGlvbigpe24uYWRkRm9ybWF0LmFwcGx5KG4sYXJndW1lbnRzKX0sbGFuZ3VhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KFBbZV18fChlPWUuc3BsaXQoIi0iKVswXSksISFQW2VdJiYodD1lLGUpKTp0fSxhZGRMYW5ndWFnZTpmdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyIGluIF8pdFtyXSYmIXRbX1tyXV0mJih0W19bcl1dPXRbcl0pO3ZhciBuPWUuc3BsaXQoIi0iKVswXTtpZihQW25dKXtQW2VdPSgwLGYuZGVmYXVsdCkoUFtuXSk7Zm9yKHIgaW4gdCl2b2lkIDA9PT1QW25dW3JdJiYoUFtuXVtyXT10W3JdKSxQW2VdW3JdPXRbcl19ZWxzZQovLyB1c2UgZm9yIGJhc2UgbGFuZ3VhZ2UgaWYgbm90IHlldCBkZWZpbmVkClBbZV09dCxQW25dPXQ7cmV0dXJuIHRoaXN9LGZyZXNoQXBpOmZ1bmN0aW9uKGUpe3ZhciB0PWNyZWF0ZUFwaSgpO3JldHVybiBlJiZ0Lmxhbmd1YWdlKGUpLHR9LHZhbGlkYXRlOmZ1bmN0aW9uKGUsaSxvLHMpe3ZhciBhPWRlZmF1bHRFcnJvclJlcG9ydGVyKHQpLHU9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxhKGUsdCxuKX06YSxjPW5ldyBnKG4sITEsdSxvLHMpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9eyRyZWY6aX0pLGMuYWRkU2NoZW1hKCIiLGkpO3ZhciBmPWMudmFsaWRhdGVBbGwoZSxpLG51bGwsbnVsbCwiIik7cmV0dXJuIWYmJnMmJihmPWMuYmFuVW5rbm93blByb3BlcnRpZXMoZSxpKSksdGhpcy5lcnJvcj1mLHRoaXMubWlzc2luZz1jLm1pc3NpbmcsdGhpcy52YWxpZD1udWxsPT09Zix0aGlzLnZhbGlkfSx2YWxpZGF0ZVJlc3VsdDpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLnZhbGlkYXRlLmFwcGx5KGUsYXJndW1lbnRzKSxlfSx2YWxpZGF0ZU11bHRpcGxlOmZ1bmN0aW9uKGUsaSxvLHMpe3ZhciBhPWRlZmF1bHRFcnJvclJlcG9ydGVyKHQpLHU9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxhKGUsdCxuKX06YSxjPW5ldyBnKG4sITAsdSxvLHMpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9eyRyZWY6aX0pLGMuYWRkU2NoZW1hKCIiLGkpLGMudmFsaWRhdGVBbGwoZSxpLG51bGwsbnVsbCwiIikscyYmYy5iYW5Vbmtub3duUHJvcGVydGllcyhlLGkpO3ZhciBmPXt9O3JldHVybiBmLmVycm9ycz1jLmVycm9ycyxmLm1pc3Npbmc9Yy5taXNzaW5nLGYudmFsaWQ9MD09PWYuZXJyb3JzLmxlbmd0aCxmfSxhZGRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hZGRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWFNYXAuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2NoZW1hVXJpcy5hcHBseShuLGFyZ3VtZW50cyl9LGdldE1pc3NpbmdVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0TWlzc2luZ1VyaXMuYXBwbHkobixhcmd1bWVudHMpfSxkcm9wU2NoZW1hczpmdW5jdGlvbigpe24uZHJvcFNjaGVtYXMuYXBwbHkobixhcmd1bWVudHMpfSxkZWZpbmVLZXl3b3JkOmZ1bmN0aW9uKCl7bi5kZWZpbmVLZXl3b3JkLmFwcGx5KG4sYXJndW1lbnRzKX0sZGVmaW5lRXJyb3I6ZnVuY3Rpb24oZSx0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMiKTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fHQlMSE9MHx8dDwxZTQpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCIpO2lmKHZvaWQgMCE9PV9bZV0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICIrZSsiIGFzICIrX1tlXSk7aWYodm9pZCAwIT09Ult0XSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAiK1JbdF0rIiBhcyAiK3QpO19bZV09dCxSW3RdPWUsU1tlXT1TW3RdPXI7Zm9yKHZhciBuIGluIFApe3ZhciBpPVBbbl07aVtlXSYmKGlbdF09aVt0XXx8aVtlXSl9fSxyZXNldDpmdW5jdGlvbigpe24ucmVzZXQoKSx0aGlzLmVycm9yPW51bGwsdGhpcy5taXNzaW5nPVtdLHRoaXMudmFsaWQ9ITB9LG1pc3Npbmc6W10sZXJyb3I6bnVsbCx2YWxpZDohMCxub3JtU2NoZW1hOm5vcm1TY2hlbWEscmVzb2x2ZVVybDpyZXNvbHZlVXJsLGdldERvY3VtZW50VXJpOmdldERvY3VtZW50VXJpLGVycm9yQ29kZXM6X307cmV0dXJuIGkubGFuZ3VhZ2UoZXx8ImVuIiksaX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0NyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cigyMDApLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNTEzKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIwMyksZj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGMpLGw9cig3OSksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cigzNykseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApOy8qCiBBdXRob3I6IEdlcmFpbnQgTHVmZiBhbmQgb3RoZXJzCiBZZWFyOiAyMDEzCgogVGhpcyBjb2RlIGlzIHJlbGVhc2VkIGludG8gdGhlICJwdWJsaWMgZG9tYWluIiBieSBpdHMgYXV0aG9yKHMpLiAgQW55Ym9keSBtYXkgdXNlLCBhbHRlciBhbmQgZGlzdHJpYnV0ZSB0aGUgY29kZSB3aXRob3V0IHJlc3RyaWN0aW9uLiAgVGhlIGF1dGhvciBtYWtlcyBubyBndWFyYW50ZWVzLCBhbmQgdGFrZXMgbm8gbGlhYmlsaXR5IG9mIGFueSBraW5kIGZvciB1c2Ugb2YgdGhpcyBjb2RlLgoKIElmIHlvdSBmaW5kIGEgYnVnIG9yIG1ha2UgYW4gaW1wcm92ZW1lbnQsIGl0IHdvdWxkIGJlIGNvdXJ0ZW91cyB0byBsZXQgdGhlIGF1dGhvciBrbm93LCBidXQgaXQgaXMgbm90IGNvbXB1bHNvcnkuCiAqLwovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qva2V5cz9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGT2JqZWN0JTJGa2V5cwp5LmRlZmF1bHR8fChPYmplY3Qua2V5cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCJ0b1N0cmluZyIpLHI9WyJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc3RydWN0b3IiXSxuPXIubGVuZ3RoO3JldHVybiBmdW5jdGlvbihpKXtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1pPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoaSkpJiYiZnVuY3Rpb24iIT10eXBlb2YgaXx8bnVsbD09PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QiKTt2YXIgbz1bXTtmb3IodmFyIHMgaW4gaSllLmNhbGwoaSxzKSYmby5wdXNoKHMpO2lmKHQpZm9yKHZhciBhPTA7YTxuO2ErKyllLmNhbGwoaSxyW2FdKSYmby5wdXNoKHJbYV0pO3JldHVybiBvfX0oKSksCi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUKZi5kZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEYoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4iKTtyZXR1cm4gRi5wcm90b3R5cGU9ZSxuZXcgRn19KCkpLAovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5P3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmlzQXJyYXkKQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pLAovLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmluZGV4T2YKQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlKXtpZihudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciB0PU9iamVjdCh0aGlzKSxyPXQubGVuZ3RoPj4+MDtpZigwPT09cilyZXR1cm4tMTt2YXIgbj0wO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSYmKG49TnVtYmVyKGFyZ3VtZW50c1sxXSksbiE9PW4/Ci8vIHNob3J0Y3V0IGZvciB2ZXJpZnlpbmcgaWYgaXQncyBOYU4Kbj0wOjAhPT1uJiZuIT09MS8wJiZuIT09LTEvMCYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSksbj49cilyZXR1cm4tMTtmb3IodmFyIGk9bj49MD9uOk1hdGgubWF4KHItTWF0aC5hYnMobiksMCk7aTxyO2krKylpZihpIGluIHQmJnRbaV09PT1lKXJldHVybiBpO3JldHVybi0xfSksCi8vIEdydW5nZXkgT2JqZWN0LmlzRnJvemVuIGhhY2sKdS5kZWZhdWx0fHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0idHY0X3Rlc3RfZnJvemVuX2tleSI7ZS5oYXNPd25Qcm9wZXJ0eSh0KTspdCs9TWF0aC5yYW5kb20oKTt0cnl7cmV0dXJuIGVbdF09ITAsZGVsZXRlIGVbdF0sITF9Y2F0Y2goZSl7cmV0dXJuITB9fSk7Ci8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ2VyYWludGx1ZmYvdXJpLXRlbXBsYXRlcywgYnV0IHdpdGggYWxsIHRoZSBkZS1zdWJzdGl0dXRpb24gc3R1ZmYgcmVtb3ZlZAp2YXIgaD17IisiOiEwLCIjIjohMCwiLiI6ITAsIi8iOiEwLCI7IjohMCwiPyI6ITAsIiYiOiEwfSx2PXsiKiI6ITB9O1VyaVRlbXBsYXRlLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZX0sZmlsbEZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlsbChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pfX07dmFyIGc9ZnVuY3Rpb24oZSx0LHIsbixpKXtpZih0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZm9ybWF0VmFsaWRhdG9ycz1lPygwLGYuZGVmYXVsdCkoZS5mb3JtYXRWYWxpZGF0b3JzKTp7fSx0aGlzLnNjaGVtYXM9ZT8oMCxmLmRlZmF1bHQpKGUuc2NoZW1hcyk6e30sdGhpcy5jb2xsZWN0TXVsdGlwbGU9dCx0aGlzLmVycm9ycz1bXSx0aGlzLmhhbmRsZUVycm9yPXQ/dGhpcy5jb2xsZWN0RXJyb3I6dGhpcy5yZXR1cm5FcnJvcixuJiYodGhpcy5jaGVja1JlY3Vyc2l2ZT0hMCx0aGlzLnNjYW5uZWQ9W10sdGhpcy5zY2FubmVkRnJvemVuPVtdLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXM9W10sdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycz1bXSx0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXk9InR2NF92YWxpZGF0aW9uX2lkIix0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXk9InR2NF92YWxpZGF0aW9uX2Vycm9yc19pZCIpLGkmJih0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXM9ITAsdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSksdGhpcy5lcnJvclJlcG9ydGVyPXJ8fGRlZmF1bHRFcnJvclJlcG9ydGVyKCJlbiIpLCJzdHJpbmciPT10eXBlb2YgdGhpcy5lcnJvclJlcG9ydGVyKXRocm93IG5ldyBFcnJvcigiZGVidWciKTtpZih0aGlzLmRlZmluZWRLZXl3b3Jkcz17fSxlKWZvcih2YXIgbyBpbiBlLmRlZmluZWRLZXl3b3Jkcyl0aGlzLmRlZmluZWRLZXl3b3Jkc1tvXT1lLmRlZmluZWRLZXl3b3Jkc1tvXS5zbGljZSgwKX07Zy5wcm90b3R5cGUuZGVmaW5lS2V5d29yZD1mdW5jdGlvbihlLHQpe3RoaXMuZGVmaW5lZEtleXdvcmRzW2VdPXRoaXMuZGVmaW5lZEtleXdvcmRzW2VdfHxbXSx0aGlzLmRlZmluZWRLZXl3b3Jkc1tlXS5wdXNoKHQpfSxnLnByb3RvdHlwZS5jcmVhdGVFcnJvcj1mdW5jdGlvbihlLHQscixuLGksbyxzKXt2YXIgYT1uZXcgVmFsaWRhdGlvbkVycm9yKGUsdCxyLG4saSk7cmV0dXJuIGEubWVzc2FnZT10aGlzLmVycm9yUmVwb3J0ZXIoYSxvLHMpLGF9LGcucHJvdG90eXBlLnJldHVybkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxnLnByb3RvdHlwZS5jb2xsZWN0RXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuZXJyb3JzLnB1c2goZSksbnVsbH0sZy5wcm90b3R5cGUucHJlZml4RXJyb3JzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZTtuPHRoaXMuZXJyb3JzLmxlbmd0aDtuKyspdGhpcy5lcnJvcnNbbl09dGhpcy5lcnJvcnNbbl0ucHJlZml4V2l0aCh0LHIpO3JldHVybiB0aGlzfSxnLnByb3RvdHlwZS5iYW5Vbmtub3duUHJvcGVydGllcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKXt2YXIgbj10aGlzLmNyZWF0ZUVycm9yKF8uVU5LTk9XTl9QUk9QRVJUWSx7cGF0aDpyfSxyLCIiLG51bGwsZSx0KSxpPXRoaXMuaGFuZGxlRXJyb3Iobik7aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUuYWRkRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpKSl7Zm9yKHZhciByIGluIGUpdGhpcy5hZGRGb3JtYXQocixlW3JdKTtyZXR1cm4gdGhpc310aGlzLmZvcm1hdFZhbGlkYXRvcnNbZV09dH0sZy5wcm90b3R5cGUucmVzb2x2ZVJlZnM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1lLiRyZWYpe2lmKHQ9dHx8e30sdFtlLiRyZWZdKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uQ0lSQ1VMQVJfUkVGRVJFTkNFLHt1cmxzOigwLHkuZGVmYXVsdCkodCkuam9pbigiLCAiKX0sIiIsIiIsbnVsbCx2b2lkIDAsZSk7dFtlLiRyZWZdPSEwLGU9dGhpcy5nZXRTY2hlbWEoZS4kcmVmLHQpfXJldHVybiBlfSxnLnByb3RvdHlwZS5nZXRTY2hlbWE9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDAhPT10aGlzLnNjaGVtYXNbZV0pcmV0dXJuIHI9dGhpcy5zY2hlbWFzW2VdLHRoaXMucmVzb2x2ZVJlZnMocix0KTt2YXIgbj1lLGk9IiI7aWYoLTEhPT1lLmluZGV4T2YoIiMiKSYmKGk9ZS5zdWJzdHJpbmcoZS5pbmRleE9mKCIjIikrMSksbj1lLnN1YnN0cmluZygwLGUuaW5kZXhPZigiIyIpKSksIm9iamVjdCI9PT0oMCxkLmRlZmF1bHQpKHRoaXMuc2NoZW1hc1tuXSkpe3I9dGhpcy5zY2hlbWFzW25dO3ZhciBvPWRlY29kZVVSSUNvbXBvbmVudChpKTtpZigiIj09PW8pcmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMocix0KTtpZigiLyIhPT1vLmNoYXJBdCgwKSlyZXR1cm47Zm9yKHZhciBzPW8uc3BsaXQoIi8iKS5zbGljZSgxKSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciB1PXNbYV0ucmVwbGFjZSgvfjEvZywiLyIpLnJlcGxhY2UoL34wL2csIn4iKTtpZih2b2lkIDA9PT1yW3VdKXtyPXZvaWQgMDticmVha31yPXJbdV19aWYodm9pZCAwIT09cilyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhyLHQpfXZvaWQgMD09PXRoaXMubWlzc2luZ1tuXSYmKHRoaXMubWlzc2luZy5wdXNoKG4pLHRoaXMubWlzc2luZ1tuXT1uLHRoaXMubWlzc2luZ01hcFtuXT1uKX0sZy5wcm90b3R5cGUuc2VhcmNoU2NoZW1hcz1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5zZWFyY2hTY2hlbWFzKGVbcl0sdCk7ZWxzZSBpZihlJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpKXsic3RyaW5nIj09dHlwZW9mIGUuaWQmJmlzVHJ1c3RlZFVybCh0LGUuaWQpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbZS5pZF0mJih0aGlzLnNjaGVtYXNbZS5pZF09ZSk7Zm9yKHZhciBuIGluIGUpaWYoImVudW0iIT09bilpZigib2JqZWN0Ij09PSgwLGQuZGVmYXVsdCkoZVtuXSkpdGhpcy5zZWFyY2hTY2hlbWFzKGVbbl0sdCk7ZWxzZSBpZigiJHJlZiI9PT1uKXt2YXIgaT1nZXREb2N1bWVudFVyaShlW25dKTtpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbaV0mJnZvaWQgMD09PXRoaXMubWlzc2luZ01hcFtpXSYmKHRoaXMubWlzc2luZ01hcFtpXT1pKX19fSxnLnByb3RvdHlwZS5hZGRTY2hlbWE9ZnVuY3Rpb24oZSx0KXsKLy9vdmVybG9hZAppZigic3RyaW5nIiE9dHlwZW9mIGV8fHZvaWQgMD09PXQpe2lmKCJvYmplY3QiIT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSl8fCJzdHJpbmciIT10eXBlb2YgZS5pZClyZXR1cm47dD1lLGU9dC5pZH1lPT09Z2V0RG9jdW1lbnRVcmkoZSkrIiMiJiYoCi8vIFJlbW92ZSBlbXB0eSBmcmFnbWVudAplPWdldERvY3VtZW50VXJpKGUpKSx0aGlzLnNjaGVtYXNbZV09dCxkZWxldGUgdGhpcy5taXNzaW5nTWFwW2VdLG5vcm1TY2hlbWEodCxlKSx0aGlzLnNlYXJjaFNjaGVtYXModCxlKX0sZy5wcm90b3R5cGUuZ2V0U2NoZW1hTWFwPWZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIHRoaXMuc2NoZW1hcyllW3RdPXRoaXMuc2NoZW1hc1t0XTtyZXR1cm4gZX0sZy5wcm90b3R5cGUuZ2V0U2NoZW1hVXJpcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gdGhpcy5zY2hlbWFzKWUmJiFlLnRlc3Qocil8fHQucHVzaChyKTtyZXR1cm4gdH0sZy5wcm90b3R5cGUuZ2V0TWlzc2luZ1VyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMubWlzc2luZ01hcCllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LGcucHJvdG90eXBlLmRyb3BTY2hlbWFzPWZ1bmN0aW9uKCl7dGhpcy5zY2hlbWFzPXt9LHRoaXMucmVzZXQoKX0sZy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZXJyb3JzPVtdfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFsbD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvO2lmKCEodD10aGlzLnJlc29sdmVSZWZzKHQpKSlyZXR1cm4gbnVsbDtpZih0IGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKXJldHVybiB0aGlzLmVycm9ycy5wdXNoKHQpLHQ7dmFyIGEsYz10aGlzLmVycm9ycy5sZW5ndGgsZj1udWxsLGw9bnVsbDtpZih0aGlzLmNoZWNrUmVjdXJzaXZlJiZlJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLGQuZGVmYXVsdCkoZSkpKXtpZihvPSF0aGlzLnNjYW5uZWQubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl7dmFyIHA9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2YodCk7aWYoLTEhPT1wKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3BdKSxudWxsfWlmKCgwLHUuZGVmYXVsdCkoZSkmJi0xIT09KGE9dGhpcy5zY2FubmVkRnJvemVuLmluZGV4T2YoZSkpKXt2YXIgeT10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2FdLmluZGV4T2YodCk7aWYoLTEhPT15KXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQodGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1thXVt5XSksbnVsbH1pZih0aGlzLnNjYW5uZWQucHVzaChlKSwoMCx1LmRlZmF1bHQpKGUpKS0xPT09YSYmKGE9dGhpcy5zY2FubmVkRnJvemVuLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW4ucHVzaChlKSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzLnB1c2goW10pKSxmPXRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV0ubGVuZ3RoLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV1bZl09dCx0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2ZdPVtdO2Vsc2V7aWYoIWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl0cnl7KDAscy5kZWZhdWx0KShlLHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSksKDAscy5kZWZhdWx0KShlLHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2godCl7Ci8vSUUgNy84IHdvcmthcm91bmQKZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldPVtdLGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XT1bXX1sPWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5sZW5ndGgsZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldW2xdPXQsZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdPVtdfX12YXIgaD10aGlzLmVycm9ycy5sZW5ndGgsdj10aGlzLnZhbGlkYXRlQmFzaWMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlTnVtZXJpYyhlLHQsaSl8fHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LGkpfHx0aGlzLnZhbGlkYXRlQXJyYXkoZSx0LGkpfHx0aGlzLnZhbGlkYXRlT2JqZWN0KGUsdCxpKXx8dGhpcy52YWxpZGF0ZUNvbWJpbmF0aW9ucyhlLHQsaSl8fHRoaXMudmFsaWRhdGVIeXBlcm1lZGlhKGUsdCxpKXx8dGhpcy52YWxpZGF0ZUZvcm1hdChlLHQsaSl8fHRoaXMudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMoZSx0LGkpfHxudWxsO2lmKG8pe2Zvcig7dGhpcy5zY2FubmVkLmxlbmd0aDspe2RlbGV0ZSB0aGlzLnNjYW5uZWQucG9wKClbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XX10aGlzLnNjYW5uZWRGcm96ZW49W10sdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcz1bXX1pZih2fHxoIT09dGhpcy5lcnJvcnMubGVuZ3RoKWZvcig7ciYmci5sZW5ndGh8fG4mJm4ubGVuZ3RoOyl7dmFyIGc9ciYmci5sZW5ndGg/IiIrci5wb3AoKTpudWxsLGI9biYmbi5sZW5ndGg/IiIrbi5wb3AoKTpudWxsO3YmJih2PXYucHJlZml4V2l0aChnLGIpKSx0aGlzLnByZWZpeEVycm9ycyhoLGcsYil9cmV0dXJuIG51bGwhPT1mP3RoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbYV1bZl09dGhpcy5lcnJvcnMuc2xpY2UoYyk6bnVsbCE9PWwmJihlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bbF09dGhpcy5lcnJvcnMuc2xpY2UoYykpLHRoaXMuaGFuZGxlRXJyb3Iodil9LGcucHJvdG90eXBlLnZhbGlkYXRlRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiB0LmZvcm1hdHx8IXRoaXMuZm9ybWF0VmFsaWRhdG9yc1t0LmZvcm1hdF0pcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XS5jYWxsKG51bGwsZSx0KTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHJ8fCJudW1iZXIiPT10eXBlb2Ygcj90aGlzLmNyZWF0ZUVycm9yKF8uRk9STUFUX0NVU1RPTSx7bWVzc2FnZTpyfSwiIiwiL2Zvcm1hdCIsbnVsbCxlLHQpOnImJiJvYmplY3QiPT09KHZvaWQgMD09PXI/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShyKSk/dGhpcy5jcmVhdGVFcnJvcihfLkZPUk1BVF9DVVNUT00se21lc3NhZ2U6ci5tZXNzYWdlfHwiPyJ9LHIuZGF0YVBhdGh8fCIiLHIuc2NoZW1hUGF0aHx8Ii9mb3JtYXQiLG51bGwsZSx0KTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZURlZmluZWRLZXl3b3Jkcz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuIGluIHRoaXMuZGVmaW5lZEtleXdvcmRzKWlmKHZvaWQgMCE9PXRbbl0pZm9yKHZhciBpPXRoaXMuZGVmaW5lZEtleXdvcmRzW25dLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXSxhPXMoZSx0W25dLHQscik7aWYoInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5LRVlXT1JEX0NVU1RPTSx7a2V5Om4sbWVzc2FnZTphfSwiIiwiIixudWxsLGUsdCkucHJlZml4V2l0aChudWxsLG4pO2lmKGEmJiJvYmplY3QiPT09KHZvaWQgMD09PWE/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShhKSkpe3ZhciB1PWEuY29kZTtpZigic3RyaW5nIj09dHlwZW9mIHUpe2lmKCFfW3VdKXRocm93IG5ldyBFcnJvcigiVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICIrdSk7dT1fW3VdfWVsc2UibnVtYmVyIiE9dHlwZW9mIHUmJih1PV8uS0VZV09SRF9DVVNUT00pO3ZhciBjPSJvYmplY3QiPT09KDAsZC5kZWZhdWx0KShhLm1lc3NhZ2UpP2EubWVzc2FnZTp7a2V5Om4sbWVzc2FnZTphLm1lc3NhZ2V8fCI/In0sZj1hLnNjaGVtYVBhdGh8fCIvIituLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpO3JldHVybiB0aGlzLmNyZWF0ZUVycm9yKHUsYyxhLmRhdGFQYXRofHxudWxsLGYsbnVsbCxlLHQpfX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVCYXNpYz1mdW5jdGlvbihlLHQscil7dmFyIG47cmV0dXJuKG49dGhpcy52YWxpZGF0ZVR5cGUoZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOihuPXRoaXMudmFsaWRhdGVFbnVtKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKTpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZVR5cGU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LnR5cGUpcmV0dXJuIG51bGw7dmFyIHI9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjooMCxkLmRlZmF1bHQpKGUpO251bGw9PT1lP3I9Im51bGwiOkFycmF5LmlzQXJyYXkoZSkmJihyPSJhcnJheSIpO3ZhciBuPXQudHlwZTtBcnJheS5pc0FycmF5KG4pfHwobj1bbl0pO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldO2lmKG89PT1yfHwiaW50ZWdlciI9PT1vJiYibnVtYmVyIj09PXImJmUlMT09MClyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLklOVkFMSURfVFlQRSx7dHlwZTpyLGV4cGVjdGVkOm4uam9pbigiLyIpfSwiIiwiIixudWxsLGUsdCl9LGcucHJvdG90eXBlLnZhbGlkYXRlRW51bT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQuZW51bSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHQuZW51bS5sZW5ndGg7cisrKXtpZihyZWN1cnNpdmVDb21wYXJlKGUsdC5lbnVtW3JdKSlyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLkVOVU1fTUlTTUFUQ0gse3ZhbHVlOiJ1bmRlZmluZWQiIT10eXBlb2YgSlNPTj8oMCxpLmRlZmF1bHQpKGUpOmV9LCIiLCIiLG51bGwsZSx0KX0sZy5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTWluTWF4KGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5hTihlLHQscil8fG51bGx9O3ZhciBiPU1hdGgucG93KDIsLTUxKSxtPTEtYjtnLnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm11bHRpcGxlT2Z8fHQuZGl2aXNpYmxlQnk7aWYodm9pZCAwPT09cilyZXR1cm4gbnVsbDtpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBuPWUvciUxO2lmKG4+PWImJm48bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NVUxUSVBMRV9PRix7dmFsdWU6ZSxtdWx0aXBsZU9mOnJ9LCIiLCIiLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXg9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYodm9pZCAwIT09dC5taW5pbXVtKXtpZihlPHQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NSU5JTVVNLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL21pbmltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1pbmltdW0mJmU9PT10Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvZXhjbHVzaXZlTWluaW11bSIsbnVsbCxlLHQpfWlmKHZvaWQgMCE9PXQubWF4aW11bSl7aWYoZT50Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUFYSU1VTSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9tYXhpbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNYXhpbXVtJiZlPT09dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL2V4Y2x1c2l2ZU1heGltdW0iLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVOYU49ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGU/bnVsbDohMD09PWlzTmFOKGUpfHxlPT09MS8wfHxlPT09LTEvMD90aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX05PVF9BX05VTUJFUix7dmFsdWU6ZX0sIiIsIi90eXBlIixudWxsLGUsdCk6bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGUsdCxyKXx8dGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZSx0LHIpfHxudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aD1mdW5jdGlvbihlLHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9udWxsOnZvaWQgMCE9PXQubWluTGVuZ3RoJiZlLmxlbmd0aDx0Lm1pbkxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uU1RSSU5HX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5MZW5ndGh9LCIiLCIvbWluTGVuZ3RoIixudWxsLGUsdCk6dm9pZCAwIT09dC5tYXhMZW5ndGgmJmUubGVuZ3RoPnQubWF4TGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IoXy5TVFJJTkdfTEVOR1RIX0xPTkcse2xlbmd0aDplLmxlbmd0aCxtYXhpbXVtOnQubWF4TGVuZ3RofSwiIiwiL21heExlbmd0aCIsbnVsbCxlLHQpOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8InN0cmluZyIhPXR5cGVvZiB0LnBhdHRlcm4mJiEodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSlyZXR1cm4gbnVsbDt2YXIgcjtpZih0LnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApcj10LnBhdHRlcm47ZWxzZXt2YXIgbixpPSIiLG89dC5wYXR0ZXJuLm1hdGNoKC9eXC8oLispXC8oW2ltZ10qKSQvKTtvPyhuPW9bMV0saT1vWzJdKTpuPXQucGF0dGVybixyPW5ldyBSZWdFeHAobixpKX1yZXR1cm4gci50ZXN0KGUpP251bGw6dGhpcy5jcmVhdGVFcnJvcihfLlNUUklOR19QQVRURVJOLHtwYXR0ZXJuOnQucGF0dGVybn0sIiIsIi9wYXR0ZXJuIixudWxsLGUsdCl9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3RoaXMudmFsaWRhdGVBcnJheUxlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZSx0LHIpfHxudWxsOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdm9pZCAwIT09dC5taW5JdGVtcyYmZS5sZW5ndGg8dC5taW5JdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0xFTkdUSF9TSE9SVCx7bGVuZ3RoOmUubGVuZ3RoLG1pbmltdW06dC5taW5JdGVtc30sIiIsIi9taW5JdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhJdGVtcyYmZS5sZW5ndGg+dC5tYXhJdGVtcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heEl0ZW1zfSwiIiwiL21heEl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjpudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXM9ZnVuY3Rpb24oZSx0KXtpZih0LnVuaXF1ZUl0ZW1zKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1yKzE7bjxlLmxlbmd0aDtuKyspaWYocmVjdXJzaXZlQ29tcGFyZShlW3JdLGVbbl0pKXt2YXIgaT10aGlzLmNyZWF0ZUVycm9yKF8uQVJSQVlfVU5JUVVFLHttYXRjaDE6cixtYXRjaDI6bn0sIiIsIi91bmlxdWVJdGVtcyIsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IoaSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5pdGVtcylyZXR1cm4gbnVsbDt2YXIgbixpO2lmKEFycmF5LmlzQXJyYXkodC5pdGVtcykpe2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspaWYoaTx0Lml0ZW1zLmxlbmd0aCl7aWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5pdGVtc1tpXSxbaV0sWyJpdGVtcyIsaV0scisiLyIraSkpcmV0dXJuIG59ZWxzZSBpZih2b2lkIDAhPT10LmFkZGl0aW9uYWxJdGVtcylpZigiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxJdGVtcyl7aWYoIXQuYWRkaXRpb25hbEl0ZW1zJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uQVJSQVlfQURESVRJT05BTF9JVEVNUyx7fSwiLyIraSwiL2FkZGl0aW9uYWxJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5hZGRpdGlvbmFsSXRlbXMsW2ldLFsiYWRkaXRpb25hbEl0ZW1zIl0scisiLyIraSkpcmV0dXJuIG59ZWxzZSBmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQuaXRlbXMsW2ldLFsiaXRlbXMiXSxyKyIvIitpKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJvYmplY3QiIT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsZC5kZWZhdWx0KShlKSl8fG51bGw9PT1lfHxBcnJheS5pc0FycmF5KGUpP251bGw6dGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGUsdCxyKXx8bnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj0oMCx5LmRlZmF1bHQpKGUpO3JldHVybiB2b2lkIDAhPT10Lm1pblByb3BlcnRpZXMmJm4ubGVuZ3RoPHQubWluUHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWluaW11bTp0Lm1pblByb3BlcnRpZXN9LCIiLCIvbWluUHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6dm9pZCAwIT09dC5tYXhQcm9wZXJ0aWVzJiZuLmxlbmd0aD50Lm1heFByb3BlcnRpZXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLHtwcm9wZXJ0eUNvdW50Om4ubGVuZ3RoLG1heGltdW06dC5tYXhQcm9wZXJ0aWVzfSwiIiwiL21heFByb3BlcnRpZXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5yZXF1aXJlZClmb3IodmFyIHI9MDtyPHQucmVxdWlyZWQubGVuZ3RoO3IrKyl7dmFyIG49dC5yZXF1aXJlZFtyXTtpZih2b2lkIDA9PT1lW25dKXt2YXIgaT10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX1JFUVVJUkVELHtrZXk6bn0sIiIsIi9yZXF1aXJlZC8iK3IsbnVsbCxlLHQpO2lmKHRoaXMuaGFuZGxlRXJyb3IoaSkpcmV0dXJuIGl9fXJldHVybiBudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2Zvcih2YXIgaSBpbiBlKXt2YXIgbz1yKyIvIitpLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHM9ITE7aWYodm9pZCAwIT09dC5wcm9wZXJ0aWVzJiZ2b2lkIDAhPT10LnByb3BlcnRpZXNbaV0mJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQucHJvcGVydGllc1tpXSxbaV0sWyJwcm9wZXJ0aWVzIixpXSxvKSkpcmV0dXJuIG47aWYodm9pZCAwIT09dC5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIGEgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIHU9bmV3IFJlZ0V4cChhKTtpZih1LnRlc3QoaSkmJihzPSEwLG49dGhpcy52YWxpZGF0ZUFsbChlW2ldLHQucGF0dGVyblByb3BlcnRpZXNbYV0sW2ldLFsicGF0dGVyblByb3BlcnRpZXMiLGFdLG8pKSlyZXR1cm4gbn1pZihzKXRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dKTtlbHNlIGlmKHZvaWQgMCE9PXQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwLGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dKSwiYm9vbGVhbiI9PXR5cGVvZiB0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXtpZighdC5hZGRpdGlvbmFsUHJvcGVydGllcyYmKG49dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMse2tleTppfSwiIiwiL2FkZGl0aW9uYWxQcm9wZXJ0aWVzIixudWxsLGUsdCkucHJlZml4V2l0aChpLG51bGwpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5hZGRpdGlvbmFsUHJvcGVydGllcyxbaV0sWyJhZGRpdGlvbmFsUHJvcGVydGllcyJdLG8pKXJldHVybiBufWVsc2UgdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYhdGhpcy5rbm93blByb3BlcnR5UGF0aHNbb10mJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW29dPSEwKX1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKHZvaWQgMCE9PXQuZGVwZW5kZW5jaWVzKWZvcih2YXIgaSBpbiB0LmRlcGVuZGVuY2llcylpZih2b2lkIDAhPT1lW2ldKXt2YXIgbz10LmRlcGVuZGVuY2llc1tpXTtpZigic3RyaW5nIj09dHlwZW9mIG8pe2lmKHZvaWQgMD09PWVbb10mJihuPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTppLG1pc3Npbmc6b30sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxpKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYoQXJyYXkuaXNBcnJheShvKSlmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIGE9b1tzXTtpZih2b2lkIDA9PT1lW2FdJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX0RFUEVOREVOQ1lfS0VZLHtrZXk6aSxtaXNzaW5nOmF9LCIiLCIvIitzLG51bGwsZSx0KS5wcmVmaXhXaXRoKG51bGwsaSkucHJlZml4V2l0aChudWxsLCJkZXBlbmRlbmNpZXMiKSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlLG8sW10sWyJkZXBlbmRlbmNpZXMiLGldLHIpKXJldHVybiBufXJldHVybiBudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihlLHQscil8fHRoaXMudmFsaWRhdGVBbnlPZihlLHQscil8fHRoaXMudmFsaWRhdGVPbmVPZihlLHQscil8fHRoaXMudmFsaWRhdGVOb3QoZSx0LHIpfHxudWxsfSxnLnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFsbE9mKXJldHVybiBudWxsO2Zvcih2YXIgbixpPTA7aTx0LmFsbE9mLmxlbmd0aDtpKyspe3ZhciBvPXQuYWxsT2ZbaV07aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsbyxbXSxbImFsbE9mIixpXSxyKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZy5wcm90b3R5cGUudmFsaWRhdGVBbnlPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5hbnlPZilyZXR1cm4gbnVsbDt2YXIgbixpLG89W10scz10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLGk9dGhpcy5rbm93blByb3BlcnR5UGF0aHMpO2Zvcih2YXIgYT0hMCx1PTA7dTx0LmFueU9mLmxlbmd0aDt1Kyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBjPXQuYW55T2ZbdV0sZj10aGlzLmVycm9ycy5sZW5ndGgsbD10aGlzLnZhbGlkYXRlQWxsKGUsYyxbXSxbImFueU9mIix1XSxyKTtpZihudWxsPT09bCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgZCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylpW2RdPSEwLGRlbGV0ZSBuW2RdO2Zvcih2YXIgcCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKWlbcF18fChuW3BdPSEwKTsKLy8gV2UgbmVlZCB0byBjb250aW51ZSBsb29waW5nIHNvIHdlIGNhdGNoIGFsbCB0aGUgcHJvcGVydHkgZGVmaW5pdGlvbnMsIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhbiBlcnJvcgphPSExO2NvbnRpbnVlfXJldHVybiBudWxsfWwmJm8ucHVzaChsLnByZWZpeFdpdGgobnVsbCwiIit1KS5wcmVmaXhXaXRoKG51bGwsImFueU9mIikpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksYT8obz1vLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKF8uQU5ZX09GX01JU1NJTkcse30sIiIsIi9hbnlPZiIsbyxlLHQpKTp2b2lkIDB9LGcucHJvdG90eXBlLnZhbGlkYXRlT25lT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQub25lT2YpcmV0dXJuIG51bGw7dmFyIG4saSxvPW51bGwscz1bXSxhPXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsaT10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciB1PTA7dTx0Lm9uZU9mLmxlbmd0aDt1Kyspe3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBjPXQub25lT2ZbdV0sZj10aGlzLmVycm9ycy5sZW5ndGgsbD10aGlzLnZhbGlkYXRlQWxsKGUsYyxbXSxbIm9uZU9mIix1XSxyKTtpZihudWxsPT09bCYmZj09PXRoaXMuZXJyb3JzLmxlbmd0aCl7aWYobnVsbCE9PW8pcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksdGhpcy5jcmVhdGVFcnJvcihfLk9ORV9PRl9NVUxUSVBMRSx7aW5kZXgxOm8saW5kZXgyOnV9LCIiLCIvb25lT2YiLG51bGwsZSx0KTtpZihvPXUsdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKXtmb3IodmFyIGQgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpaVtkXT0hMCxkZWxldGUgbltkXTtmb3IodmFyIHAgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocylpW3BdfHwobltwXT0hMCl9fWVsc2UgbCYmcy5wdXNoKGwpfXJldHVybiB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksbnVsbD09PW8/KHM9cy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2UoYSkpLHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksdGhpcy5jcmVhdGVFcnJvcihfLk9ORV9PRl9NSVNTSU5HLHt9LCIiLCIvb25lT2YiLHMsZSx0KSk6KHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKDAsYSksbnVsbCl9LGcucHJvdG90eXBlLnZhbGlkYXRlTm90PWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lm5vdClyZXR1cm4gbnVsbDt2YXIgbixpLG89dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxpPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzLHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30pO3ZhciBzPXRoaXMudmFsaWRhdGVBbGwoZSx0Lm5vdCxudWxsLG51bGwsciksYT10aGlzLmVycm9ycy5zbGljZShvKTtyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxvKSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJih0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzPW4sdGhpcy5rbm93blByb3BlcnR5UGF0aHM9aSksbnVsbD09PXMmJjA9PT1hLmxlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uTk9UX1BBU1NFRCx7fSwiIiwiL25vdCIsbnVsbCxlLHQpOm51bGx9LGcucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYT1mdW5jdGlvbihlLHQscil7aWYoIXQubGlua3MpcmV0dXJuIG51bGw7Zm9yKHZhciBuLGk9MDtpPHQubGlua3MubGVuZ3RoO2krKyl7dmFyIG89dC5saW5rc1tpXTtpZigiZGVzY3JpYmVkYnkiPT09by5yZWwpe2Zvcih2YXIgcz1uZXcgVXJpVGVtcGxhdGUoby5ocmVmKSxhPSEwLHU9MDt1PHMudmFyTmFtZXMubGVuZ3RoO3UrKylpZighKHMudmFyTmFtZXNbdV1pbiBlKSl7YT0hMTticmVha31pZihhKXt2YXIgYz1zLmZpbGxGcm9tT2JqZWN0KGUpLGY9eyRyZWY6Y307aWYobj10aGlzLnZhbGlkYXRlQWxsKGUsZixbXSxbImxpbmtzIixpXSxyKSlyZXR1cm4gbn19fX07dmFyIF89e0lOVkFMSURfVFlQRTowLEVOVU1fTUlTTUFUQ0g6MSxBTllfT0ZfTUlTU0lORzoxMCxPTkVfT0ZfTUlTU0lORzoxMSxPTkVfT0ZfTVVMVElQTEU6MTIsTk9UX1BBU1NFRDoxMywKLy8gTnVtZXJpYyBlcnJvcnMKTlVNQkVSX01VTFRJUExFX09GOjEwMCxOVU1CRVJfTUlOSU1VTToxMDEsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOjEwMixOVU1CRVJfTUFYSU1VTToxMDMsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOjEwNCxOVU1CRVJfTk9UX0FfTlVNQkVSOjEwNSwKLy8gU3RyaW5nIGVycm9ycwpTVFJJTkdfTEVOR1RIX1NIT1JUOjIwMCxTVFJJTkdfTEVOR1RIX0xPTkc6MjAxLFNUUklOR19QQVRURVJOOjIwMiwKLy8gT2JqZWN0IGVycm9ycwpPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOjMwMCxPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOjMwMSxPQkpFQ1RfUkVRVUlSRUQ6MzAyLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6MzAzLE9CSkVDVF9ERVBFTkRFTkNZX0tFWTozMDQsCi8vIEFycmF5IGVycm9ycwpBUlJBWV9MRU5HVEhfU0hPUlQ6NDAwLEFSUkFZX0xFTkdUSF9MT05HOjQwMSxBUlJBWV9VTklRVUU6NDAyLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6NDAzLAovLyBDdXN0b20vdXNlci1kZWZpbmVkIGVycm9ycwpGT1JNQVRfQ1VTVE9NOjUwMCxLRVlXT1JEX0NVU1RPTTo1MDEsCi8vIFNjaGVtYSBzdHJ1Y3R1cmUKQ0lSQ1VMQVJfUkVGRVJFTkNFOjYwMCwKLy8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9ucwpVTktOT1dOX1BST1BFUlRZOjFlM30sUj17fTtmb3IodmFyIHcgaW4gXylSW19bd11dPXc7dmFyIFM9e0lOVkFMSURfVFlQRToiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pIixFTlVNX01JU01BVENIOiJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfSIsQU5ZX09GX01JU1NJTkc6J0RhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAiYW55T2YiJyxPTkVfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJvbmVPZiInLE9ORV9PRl9NVUxUSVBMRTonRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gIm9uZU9mIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn0nLE5PVF9QQVNTRUQ6J0RhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSAibm90IicsCi8vIE51bWVyaWMgZXJyb3JzCk5VTUJFUl9NVUxUSVBMRV9PRjoiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSBtdWx0aXBsZSBvZiB7bXVsdGlwbGVPZn0iLE5VTUJFUl9NSU5JTVVNOiJWYWx1ZSB7dmFsdWV9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHttaW5pbXVtfSIsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtaW5pbXVtIHttaW5pbXVtfSIsTlVNQkVSX01BWElNVU06IlZhbHVlIHt2YWx1ZX0gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0ge21heGltdW19IixOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1heGltdW0ge21heGltdW19IixOVU1CRVJfTk9UX0FfTlVNQkVSOiJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciIsCi8vIFN0cmluZyBlcnJvcnMKU1RSSU5HX0xFTkdUSF9TSE9SVDoiU3RyaW5nIGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0gY2hhcnMpLCBtaW5pbXVtIHttaW5pbXVtfSIsU1RSSU5HX0xFTkdUSF9MT05HOiJTdHJpbmcgaXMgdG9vIGxvbmcgKHtsZW5ndGh9IGNoYXJzKSwgbWF4aW11bSB7bWF4aW11bX0iLFNUUklOR19QQVRURVJOOiJTdHJpbmcgZG9lcyBub3QgbWF0Y2ggcGF0dGVybjoge3BhdHRlcm59IiwKLy8gT2JqZWN0IGVycm9ycwpPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiJUb28gZmV3IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWluaW11bSB7bWluaW11bX0iLE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IlRvbyBtYW55IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWF4aW11bSB7bWF4aW11bX0iLE9CSkVDVF9SRVFVSVJFRDoiTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eToge2tleX0iLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IkFkZGl0aW9uYWwgcHJvcGVydGllcyBub3QgYWxsb3dlZCIsT0JKRUNUX0RFUEVOREVOQ1lfS0VZOiJEZXBlbmRlbmN5IGZhaWxlZCAtIGtleSBtdXN0IGV4aXN0OiB7bWlzc2luZ30gKGR1ZSB0byBrZXk6IHtrZXl9KSIsCi8vIEFycmF5IGVycm9ycwpBUlJBWV9MRU5HVEhfU0hPUlQ6IkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsQVJSQVlfTEVOR1RIX0xPTkc6IkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19IixBUlJBWV9VTklRVUU6IkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSkiLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWQiLAovLyBGb3JtYXQgZXJyb3JzCkZPUk1BVF9DVVNUT006IkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KSIsS0VZV09SRF9DVVNUT006IktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KSIsCi8vIFNjaGVtYSBzdHJ1Y3R1cmUKQ0lSQ1VMQVJfUkVGRVJFTkNFOiJDaXJjdWxhciAkcmVmczoge3VybHN9IiwKLy8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9ucwpVTktOT1dOX1BST1BFUlRZOiJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKSJ9O1ZhbGlkYXRpb25FcnJvci5wcm90b3R5cGU9KDAsZi5kZWZhdWx0KShFcnJvci5wcm90b3R5cGUpLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3I9VmFsaWRhdGlvbkVycm9yLFZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUubmFtZT0iVmFsaWRhdGlvbkVycm9yIixWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnByZWZpeFdpdGg9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT09ZSYmKGU9ZS5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKSx0aGlzLmRhdGFQYXRoPSIvIitlK3RoaXMuZGF0YVBhdGgpLG51bGwhPT10JiYodD10LnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuc2NoZW1hUGF0aD0iLyIrdCt0aGlzLnNjaGVtYVBhdGgpLG51bGwhPT10aGlzLnN1YkVycm9ycylmb3IodmFyIHI9MDtyPHRoaXMuc3ViRXJyb3JzLmxlbmd0aDtyKyspdGhpcy5zdWJFcnJvcnNbcl0ucHJlZml4V2l0aChlLHQpO3JldHVybiB0aGlzfTt2YXIgUD17fSxPPWNyZWF0ZUFwaSgpO08uYWRkTGFuZ3VhZ2UoImVuLWdiIixTKSwKLy9sZWdhY3kgcHJvcGVydHkKTy50djQ9TywKLy9yZXR1cm4gdHY0Owp0LmRlZmF1bHQ9TywKLy99CmUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUxMyAqLwovKioqLwpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNTE0KSxfX2VzTW9kdWxlOiEwfX0sLyogNTE0ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXtyKDUxNSksZS5leHBvcnRzPXIoMTApLk9iamVjdC5pc0Zyb3plbn0sLyogNTE1ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsKLy8gMTkuMS4yLjEyIE9iamVjdC5pc0Zyb3plbihPKQp2YXIgbj1yKDM2KTtyKDk5KSgiaXNGcm96ZW4iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hbih0KXx8ISFlJiZlKHQpfX0pfSwvKiA1MTYgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNDcpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigzNyksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigxKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDIpLGQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChsKSxwPXIoNykseT1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChwKSxoPXIoMTQpLHY9cigyMTIpLGc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdCh2KSxiPXIoMTAxKSxtPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGIpLF89eS5nZXRMb2dnZXIoIlJlcG9ydGVyT2JqZWN0IiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlcG9ydGVyT2JqZWN0KGUsdCxyKXsoMCxmLmRlZmF1bHQpKHRoaXMsUmVwb3J0ZXJPYmplY3QpO3ZhciBuPXRoaXM7bi5fcGFyZW50PWUsbi5fb3duZXI9dCxuLl91cmw9cixuLl9idXM9ZS5fYnVzLG4uX2RvbWFpbj0oMCxoLmRpdmlkZVVSTCkocikuZG9tYWluLG4uX29ialN1YnNjcmlwdG9yVVJMPW4uX3VybCsiL3N1YnNjcmlwdGlvbiIsbi5fc3Vic2NyaXB0aW9ucz17fSxuLl9jaGlsZHJlbnM9W10sbi5fY2hpbGRyZW5MaXN0ZW5lcnM9W10sbi5fZm9yd2FyZHM9e30sbi5faXNUb1NhdmVEYXRhPSExLG4uX2FsbG9jYXRlTGlzdGVuZXJzKCl9cmV0dXJuKDAsZC5kZWZhdWx0KShSZXBvcnRlck9iamVjdCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzOwovL2FkZCBzdWJzY3JpcHRpb24gbGlzdGVuZXIuLi4KdC5fc3Vic2NyaXB0aW9uTGlzdGVuZXI9dC5fYnVzLmFkZExpc3RlbmVyKHQuX29ialN1YnNjcmlwdG9yVVJMLGZ1bmN0aW9uKGUpe3N3aXRjaChfLmluZm8oIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCByZWNlaXZlZCBdIixlKSxlLnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblJlbW90ZVN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblJlbW90ZVVuU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UicmVzcG9uc2UiOnQuX29uUmVtb3RlUmVzcG9uc2UoZSl9fSk7dmFyIHI9dC5fdXJsKyIvY2hhbmdlcyI7dC5fY2hhbmdlTGlzdGVuZXI9dC5fYnVzLmFkZExpc3RlbmVyKHIsZnVuY3Rpb24obil7Xy5pbmZvKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlci0iK3IrIi1SQ1Y6ICIsbiksCi8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hhbmdlcz8KZS5faXNUb1NhdmVEYXRhJiZuLmJvZHkuYXR0cmlidXRlJiYoXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdIFN5bmNoZXJNYW5hZ2VyIC0gc2F2ZSBkYXRhOiAiLG4pLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnVwZGF0ZSghMCx0Ll91cmwsInZlcnNpb24iLG4uYm9keS52ZXJzaW9uKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJsYXN0TW9kaWZpZWQiLG4uYm9keS5sYXN0TW9kaWZpZWQpLHQuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVEYXRhKCEwLHQuX3VybCxuLmJvZHkuYXR0cmlidXRlLG4uYm9keS52YWx1ZSkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3N1YnNjcmlwdGlvbkxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoYW5nZUxpc3RlbmVyLnJlbW92ZSgpLGUuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLCgwLHUuZGVmYXVsdCkoZS5fZm9yd2FyZHMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5mb3J3YXJkVW5TdWJzY3JpYmUodCl9KSwKLy9yZW1vdmUgYWxsIHN1YnNjcmlwdGlvbnMKKDAsdS5kZWZhdWx0KShlLl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX3N1YnNjcmlwdGlvbnNbdF0uX3JlbGVhc2VMaXN0ZW5lcnMoKX0pfX0se2tleToicmVzdW1lU3Vic2NyaXB0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYoMCx1LmRlZmF1bHQpKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0XSAtIHJlc3VtZSBzdWJzY3JpcHRpb25zIix0LG4sdC5fY2hpbGRyZW5zKSx0Ll9zdWJzY3JpcHRpb25zW25dfHwodC5fc3Vic2NyaXB0aW9uc1tuXT1uZXcgZy5kZWZhdWx0KHQuX2J1cyx0Ll9vd25lcix0Ll91cmwsdC5fY2hpbGRyZW5zLCEwKSl9KX19LHtrZXk6ImZvcndhcmRTdWJzY3JpYmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj17dHlwZToic3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK3QuX2RvbWFpbisiL3NtIixib2R5OntyZXNvdXJjZXM6ZSxzb3VyY2U6dC5fb3duZXJ9fTtyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLGkpe3QuX2J1cy5wb3N0TWVzc2FnZShyLGZ1bmN0aW9uKHIpe2lmKF8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtc3Vic2NyaWJlLXJlc3BvbnNlKHJlcG9ydGVyKTogIixyKSwyMDA9PT1yLmJvZHkuY29kZSl7dmFyIG89dC5fYnVzLmFkZEZvcndhcmQodC5fdXJsLHQuX293bmVyKTt0Ll9mb3J3YXJkc1tlWzBdXT1vLG4oKX1lbHNlIGkoIkVycm9yIG9uIG1zZy1ub2RlIHN1YnNjcmlwdGlvbjogIityLmJvZHkuZGVzYyl9KX0pfX0se2tleToiZm9yd2FyZFVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2ZvcndhcmRzW2VdLnJlbW92ZSgpLGRlbGV0ZSB0Ll9mb3J3YXJkc1tlXTsKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIHRoZSBtc2ctbm9kZSBTdWJzY3JpcHRpb25NYW5hZ2VyIGNvbXBvbmVudAp2YXIgcj17dHlwZToidW5zdWJzY3JpYmUiLGZyb206dC5fcGFyZW50Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIrdC5fZG9tYWluKyIvc20iLGJvZHk6e3Jlc291cmNlczpbZV0sc291cmNlOnQuX293bmVyfX07dC5fYnVzLnBvc3RNZXNzYWdlKHIpfX0se2tleToiYWRkQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuLG8pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCBuKCk7dmFyIHM9ci5fdXJsKyIvY2hpbGRyZW4vIjtfLmxvZygiW1N5bmNoZXJNYW5hZ2VyLlJlcG9ydGVyT2JqZWN0IC0gYWRkQ2hpbGRyZW5zXSAtIGNoaWxkcmVuczogIixlLHMpLGUuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9jaGlsZHJlbnMucHVzaChlKX0pOy8qCiAgICAgICAgX3RoaXMuX2NoaWxkcmVucy5mb3JFYWNoKChjaGlsZCkgPT4gewogICAgICAgICAgbGV0IGNoaWxkSWQgPSBjaGlsZEJhc2VVUkwgKyBjaGlsZDsKICAgICAgICAgICBsZXQgc2VsZkZvcndhcmQgPSBfdGhpcy5fYnVzLmFkZEZvcndhcmQoY2hpbGRJZCwgb3duZXIpOwogICAgICAgICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goc2VsZkZvcndhcmQpOwogICAgICAgIH0pOyovCnZhciBhPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gYS5wdXNoKHMrZSl9KTsKLy9fdGhpcy5fc3RvcmFnZVN1YnNjcmlwdGlvbnNbX3RoaXMuX29ialN1YnNjcmlwdG9yVVJMXSA9IHt1cmw6IF90aGlzLl91cmwsIG93bmVyOiBfdGhpcy5fb3duZXIsIGNoaWxkcmVuczogX3RoaXMuX2NoaWxkcmVuc307Ci8vRkxPVy1PVVQ6IG1lc3NhZ2Ugc2VudCB0byB0aGUgbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdmFyIHU9e3R5cGU6InN1YnNjcmliZSIsZnJvbTpyLl9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIityLl9kb21haW4rIi9zbSIsYm9keTp7cmVzb3VyY2VzOmEsc291cmNlOnIuX293bmVyfX07ci5fYnVzLnBvc3RNZXNzYWdlKHUsZnVuY3Rpb24oZSl7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdCBdbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2UocmVwb3J0ZXIpOiIsZSksMjAwPT09ZS5ib2R5LmNvZGU/KAovL2FkZCBjaGlsZHJlbiBsaXN0ZW5lcnMgb24gbG9jYWwgLi4uCmEuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1yLl9idXMuYWRkTGlzdGVuZXIoZSxmdW5jdGlvbihlKXtpZigKLy9UT0RPOiB3aGF0IHRvZG8gaGVyZT8gU2F2ZSBjaGlsZHJlbnM/Cl8ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgcmVjZWl2ZWRdIixlKSwiY3JlYXRlIj09PWUudHlwZSYmZS50by5pbmNsdWRlcygiY2hpbGRyZW4iKSYmdC5faXNUb1NhdmVEYXRhKXsKLy8gaWYgdGhlIHZhbHVlIGlzIG5vdCBlbmNyeXB0ZWQgbGV0cyBlbmNyeXB0IGl0Ci8vIHRvZG86IHNob3VsZCBiZSBzdWJqZWN0IHRvIHNvbWUgcG9saWN5CnZhciBuPSgwLGguc3BsaXRPYmplY3RVUkwpKGUudG8pLG89bi51cmw7Ci8vcmVtb3ZlIGZhbHNlIHdoZW4gbXV0dWFsQXV0aGVudGljYXRpb24gaXMgZW5hYmxlZAoic3RyaW5nIiE9dHlwZW9mIGUuYm9keS52YWx1ZT8oXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGluZyByZWNlaXZlZCBkYXRhICIsZS5ib2R5LnZhbHVlKSxtLmRlZmF1bHQuZW5jcnlwdERhdGFPYmplY3QoZS5ib2R5LnZhbHVlLG8pLnRoZW4oZnVuY3Rpb24odCl7Xy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gZW5jcnlwdGVkIGRhdGEgIix0KSxyLl9zdG9yZUNoaWxkT2JqZWN0KGUsKDAsaS5kZWZhdWx0KSh0KSl9KS5jYXRjaChmdW5jdGlvbih0KXtfLndhcm4oIltTeW5jaGVyTWFuYWdlci5fZGVjcnlwdENoaWxkcmVuc10gZmFpbGVkIDogIix0LCIgU3RvcmluZyB1bmVuY3J5cHRlZCIpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfX0pO3IuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2gobik7dmFyIG89ci5fYnVzLmFkZEZvcndhcmQoZSxyLl9vd25lcik7ci5fY2hpbGRyZW5MaXN0ZW5lcnMucHVzaChvKX0pLG4oKSk6bygiRXJyb3Igb24gbXNnLW5vZGUgc3Vic2NyaXB0aW9uOiAiK2UuYm9keS5kZXNjKX0pfSl9fSx7a2V5OiJfc3RvcmVDaGlsZE9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49KDAsaC5zcGxpdE9iamVjdFVSTCkoZS50byksaT1uLnVybCxvPW4ucmVzb3VyY2Uscz17aWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5LHZhbHVlOnR9LGE9ZS5ib2R5LnJlc291cmNlLHU9bzthJiYodSs9Ii4iK2EpLAovLyB0aGlzIGlkZW50aXR5IGRhdGEgaXMgbm90IG5lZWRlZCB0byBiZSBzdG9yZWQKZGVsZXRlIHMuaWRlbnRpdHkuYXNzZXJ0aW9uLGRlbGV0ZSBzLmlkZW50aXR5LmV4cGlyZXMsci5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2Uuc2F2ZUNoaWxkcmVucyghMCxpLHUscyl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSgwLGguZGl2aWRlVVJMKShlLl9vd25lcikuZG9tYWluOwovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgZGlyZWN0bHkgdG8gYWxsIHN1YnNjcmliZXJzIG9mIHRoZSByZXBvcnRlcgplLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9vYmpTdWJzY3JpcHRvclVSTCx0bzplLl91cmwrIi9jaGFuZ2VzIn0pLAovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gdGhlIG1zZy1ub2RlIE9iamVjdEFsbG9jYXRpb25NYW5hZ2VyIGNvbXBvbmVudAplLl9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImRlbGV0ZSIsZnJvbTplLl9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIit0KyIvb2JqZWN0LWFkZHJlc3MtYWxsb2NhdGlvbiIsYm9keTp7cmVzb3VyY2U6ZS5fdXJsLGNoaWxkcmVuUmVzb3VyY2VzOmUuX2NoaWxkcmVuc319KSxlLl9yZWxlYXNlTGlzdGVuZXJzKCksZGVsZXRlIGUuX3BhcmVudC5fcmVwb3J0ZXJzW2UuX3VybF19fSx7a2V5OiJfb25SZW1vdGVSZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzp0Ll91cmwsYm9keTp7Y29kZTplLmJvZHkuY29kZSxpZGVudGl0eTplLmJvZHkuaWRlbnRpdHksc291cmNlOmUuZnJvbX19KX19LHtrZXk6Il9vblJlbW90ZVN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5zdWJzY3JpYmVyOwovL3ZhbGlkYXRlIGlmIHN1YnNjcmlwdGlvbiBhbHJlYWR5IGV4aXN0cz8KdC5fc3Vic2NyaXB0aW9uc1tyXSYmCi8vIGxldCBlcnJvck1zZyA9IHsKLy8gICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBoeXBlcnR5VVJMLAovLyAgIGJvZHk6IHsgY29kZTogNTAwLCBkZXNjOiAnU3Vic2NyaXB0aW9uIGZvciAoJyArIF90aGlzLl91cmwgKyAnIDogJyArICBoeXBlcnR5VVJMICsgJykgYWxyZWFkeSBleGlzdHMhJyB9Ci8vIH07Ci8vCi8vIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZXJyb3JNc2cpOwovLyByZXR1cm47Ci8vIG5ldyB2ZXJzaW9uIGJlY2F1c2Ugb2YgcmV1c2FnZQp0Ll9zdWJzY3JpcHRpb25zW3JdLl9yZWxlYXNlTGlzdGVuZXJzKCk7Ci8vYXNrIHRvIHN1YnNjcmliZSB0byBTeW5jaGVyPyAoZGVwZW5kcyBvbiB0aGUgb3BlcmF0aW9uIG1vZGUpCi8vVE9ETzogZ2V0IG1vZGUgZnJvbSBvYmplY3QhCnZhciBuPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19OwovL1RPRE86IEZvciBGdXJ0aGVyIFN0dWR5CmUuYm9keS5oYXNPd25Qcm9wZXJ0eSgibXV0dWFsIikmJihuLmJvZHkubXV0dWFsPWUuYm9keS5tdXR1YWwpLHQuX2J1cy5wb3N0TWVzc2FnZShuLGZ1bmN0aW9uKG4pe18ubG9nKCJbU3luY2hlck1hbmFnZXIuUmVwb3J0ZXJPYmplY3QgXWZvcndhcmQtcmVwbHk6ICIsbiksMjAwPT09bi5ib2R5LmNvZGUmJih0Ll9zdWJzY3JpcHRpb25zW3JdfHwoXy5sb2coIltTeW5jaGVyTWFuYWdlci5SZXBvcnRlck9iamVjdF0gLSBfb25SZW1vdGVTdWJzY3JpYmU6Iix0Ll9jaGlsZHJlbnMpLHQuX3N1YnNjcmlwdGlvbnNbcl09bmV3IGcuZGVmYXVsdCh0Ll9idXMsdC5fb3duZXIsdC5fdXJsLHQuX2NoaWxkcmVucywhMCkpKTsKLy9UT0RPOiBhdHVhbGl6YXIgbXV0dWFsIG5vIHN0b3JhZ2UgZSB0YiBuYSBzZXNzaW9uS2V5cwovLyBTdG9yZSBmb3IgZWFjaCByZXBvcnRlciBoeXBlcnR5IHRoZSBkYXRhT2JqZWN0CnZhciBpPXZvaWQgMDtlLmJvZHkuaWRlbnRpdHkmJmUuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VyVVJMJiYoaT1lLmJvZHkuaWRlbnRpdHkudXNlclByb2ZpbGUudXNlclVSTCx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpYmVyVXNlcnMiLGkpKSxlLmJvZHkuaGFzT3duUHJvcGVydHkoIm11dHVhbCIpJiYKLy8gICAgICAgICAgX3RoaXMuX3BhcmVudC5faWRlbnRpdHlNb2R1bGUudXBkYXRlSXNUb0VuY3J5cHRGb3JEYXRhT2JqZWN0U2Vzc2lvbktleShfdGhpcy5fdXJsLCBtc2cuYm9keS5tdXR1YWwpLnRoZW4oKCk9PnsKdC5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCEwLHQuX3VybCwibXV0dWFsIixlLmJvZHkubXV0dWFsKSx0Ll9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITAsdC5fdXJsLCJzdWJzY3JpcHRpb25zIixyKSxuLmJvZHkub3duZXI9dC5fb3duZXIsCi8vRkxPVy1PVVQ6IHN1YnNjcmlwdGlvbiByZXNwb25zZSBzZW50IChmb3J3YXJkIGZyb20gaW50ZXJuYWwgSHlwZXJ0eSkKdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6bi5ib2R5fSl9KX19LHtrZXk6Il9vblJlbW90ZVVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnNvdXJjZSxuPXQuX3N1YnNjcmlwdGlvbnNbcl07aWYobil7bi5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBpPXt0eXBlOiJmb3J3YXJkIixmcm9tOnQuX3VybCx0bzp0Ll9vd25lcixib2R5Ont0eXBlOmUudHlwZSxmcm9tOnIsdG86dC5fdXJsLGlkZW50aXR5OmUuYm9keS5pZGVudGl0eX19O3QuX2J1cy5wb3N0TWVzc2FnZShpKX19fSx7a2V5OiJpc1RvU2F2ZURhdGEiLHNldDpmdW5jdGlvbihlKXt0aGlzLl9pc1RvU2F2ZURhdGE9ZX19XSksUmVwb3J0ZXJPYmplY3R9KCk7dC5kZWZhdWx0PVIsZS5leHBvcnRzPXQuZGVmYXVsdH0sLyogNTE3ICovCi8qKiovCmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQ3KSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDkpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoMSksdT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGEpLGM9cigyKSxmPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYyksbD1yKDcpLGQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQobCkscD1yKDE0KSx5PXIoMjEyKSxoPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoeSksdj1yKDEwMSksZz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZCh2KSxiPWQuZ2V0TG9nZ2VyKCJPYnNlcnZlck9iamVjdCIpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBPYnNlcnZlck9iamVjdChlLHQscil7dmFyIG49dGhpczsoMCx1LmRlZmF1bHQpKHRoaXMsT2JzZXJ2ZXJPYmplY3QpO3ZhciBpPXRoaXM7aS5fcGFyZW50PWUsaS5fdXJsPXQsaS5fY2hpbGRyZW5zPXIsaS5fYnVzPWUuX2J1cyxpLl9zdWJzY3JpcHRpb25zPXt9LGkuX3N0b3JhZ2VTdWJzY3JpcHRpb25zPXt9LGkuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLHRoaXMuX2lzVG9TYXZlRGF0YT0hMTt2YXIgbz1pLl91cmwrIi9jaGFuZ2VzIjtpLl9jaGFuZ2VMaXN0ZW5lcj1pLl9idXMuYWRkTGlzdGVuZXIobyxmdW5jdGlvbihlKXtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IF0gU3luY2hlck1hbmFnZXItIitvKyItUkNWOiAiLGUpLAovL1RPRE86IHdoYXQgdG9kbyBoZXJlPyBTYXZlIGNoYW5nZXM/Cm4uX2lzVG9TYXZlRGF0YSYmZS5ib2R5LmF0dHJpYnV0ZSYmKGIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgXSBTeW5jaGVyTWFuYWdlciAtIHNhdmUgZGF0YTogIixlKSxpLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS51cGRhdGUoITEsaS5fdXJsLCJ2ZXJzaW9uIixlLmJvZHkudmVyc2lvbiksaS5fcGFyZW50Ll9kYXRhT2JqZWN0c1N0b3JhZ2UudXBkYXRlKCExLGkuX3VybCwibGFzdE1vZGlmaWVkIixlLmJvZHkubGFzdE1vZGlmaWVkKSxpLl9wYXJlbnQuX2RhdGFPYmplY3RzU3RvcmFnZS5zYXZlRGF0YSghMSxpLl91cmwsZS5ib2R5LmF0dHJpYnV0ZSxlLmJvZHkudmFsdWUpKX0pfXJldHVybigwLGYuZGVmYXVsdCkoT2JzZXJ2ZXJPYmplY3QsW3trZXk6Il9uZXdTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10Ll9zdWJzY3JpcHRpb25zW2VdO2IubG9nKCJbT2JzZXJ2ZXIgT2JqZWN0IC0gbmV3IHN1YnNjcmlwdGlvbl0gLSAiLHQuX3N1YnNjcmlwdGlvbnMsZSx0Ll9zdWJzY3JpcHRpb25zLmhhc093blByb3BlcnR5KGUpKSxyfHwodC5fc3Vic2NyaXB0aW9uc1tlXT1uZXcgaC5kZWZhdWx0KHQuX2J1cyxlLHQuX3VybCx0Ll9jaGlsZHJlbnMsITEpKX19LHtrZXk6ImFkZFN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmV3U3Vic2NyaXB0aW9uKGUpfX0se2tleToiYWRkQ2hpbGRyZW5zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihuKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG4oKTt2YXIgbz1yLl91cmwrIi9jaGlsZHJlbi8iO2IubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgLSBhZGRDaGlsZHJlbnNdIC0gY2hpbGRyZW5zOiAiLGUsbyksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXIuX2J1cy5hZGRMaXN0ZW5lcihvK2UsZnVuY3Rpb24oZSl7aWYoCi8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hpbGRyZW5zPwpiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0IHJlY2VpdmVkXSIsZSksImNyZWF0ZSI9PT1lLnR5cGUmJmUudG8uaW5jbHVkZXMoImNoaWxkcmVuIikmJnQuX2lzVG9TYXZlRGF0YSl7dmFyIG89KDAscC5zcGxpdE9iamVjdFVSTCkoZS50bykscz1vLnVybDsKLy9yZW1vdmUgZmFsc2Ugd2hlbiBtdXR1YWxBdXRoZW50aWNhdGlvbiBpcyBlbmFibGVkCiJzdHJpbmciIT10eXBlb2YgZS5ib2R5LnZhbHVlPyhiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0aW5nIHJlY2VpdmVkIGRhdGEgIixlLmJvZHkudmFsdWUpLGcuZGVmYXVsdC5lbmNyeXB0RGF0YU9iamVjdChlLmJvZHkudmFsdWUscykudGhlbihmdW5jdGlvbih0KXtiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0XSBlbmNyeXB0ZWQgZGF0YSAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSwoMCxpLmRlZmF1bHQpKHQpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2Iud2FybigiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9lbmNyeXB0Q2hpbGRdIGZhaWxlZCwgc3RvcmluZyB1bmVuY3J5cHRlZCAiLHQpLHIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfSkpOnIuX3N0b3JlQ2hpbGRPYmplY3QoZSxlLmJvZHkudmFsdWUpfWIubG9nKCJbU3luY2hlck1hbmFnZXIuT2JzZXJ2ZXJPYmplY3QgY2hpbGRyZW4gTGlzdGVuZXJzXSIsci5fY2hpbGRyZW5MaXN0ZW5lcnMsbiksLTE9PT1yLl9jaGlsZHJlbkxpc3RlbmVycy5pbmRleE9mKG4pJiZyLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKG4pfSl9KX0pfX0se2tleToiX3N0b3JlQ2hpbGRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSgwLHAuc3BsaXRPYmplY3RVUkwpKGUudG8pLGk9bi51cmwsbz1uLnJlc291cmNlLHM9e2lkZW50aXR5OmUuYm9keS5pZGVudGl0eSx2YWx1ZTp0fTsKLy8gdGhpcyBpZGVudGl0eSBkYXRhIGlzIG5vdCBuZWVkZWQgdG8gYmUgc3RvcmVkCmRlbGV0ZSBzLmlkZW50aXR5LmFzc2VydGlvbixkZWxldGUgcy5pZGVudGl0eS5leHBpcmVzO3ZhciBhPWUuYm9keS5yZXNvdXJjZSx1PW87YSYmKHUrPSIuIithKSxiLmxvZygiW1N5bmNoZXJNYW5hZ2VyLk9ic2VydmVyT2JqZWN0Ll9zdG9yZUNoaWxkT2JqZWN0XSA6ICIsaSx1LHMpLHIuX3BhcmVudC5fZGF0YU9iamVjdHNTdG9yYWdlLnNhdmVDaGlsZHJlbnMoITEsaSx1LHMpfX0se2tleToicmVtb3ZlU3Vic2NyaXB0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49KDAscC5kaXZpZGVVUkwpKHIpLmRvbWFpbixpPXQuX3VybCsiL3N1YnNjcmlwdGlvbiIsbz10Ll9zdWJzY3JpcHRpb25zW3JdO28mJigKLy9GTE9XLU9VVDogbWVzc2FnZSBzZW50IHRvIHJlbW90ZSBSZXBvcnRlck9iamVjdCAtPiBfb25SZW1vdGVVblN1YnNjcmliZQp0Ll9idXMucG9zdE1lc3NhZ2Uoe3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOnQuX3BhcmVudC5fdXJsLHRvOmksYm9keTp7c291cmNlOnIsaWRlbnRpdHk6ZS5ib2R5LmlkZW50aXR5fX0pLAovL1RPRE86IHNob3VsZCBJIHdhaXQgZm9yIHJlc3BvbnNlIGJlZm9yZSB1bnN1YnNjcmliZSBvbiBtc2ctbm9kZQovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll9wYXJlbnQuX3VybCx0bzoiZG9tYWluOi8vbXNnLW5vZGUuIituKyIvc20iLGJvZHk6e3Jlc291cmNlOnQuX3VybCxjaGlsZHJlblJlc291cmNlczp0Ll9jaGlsZHJlbnN9fSksby5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdKX19LHtrZXk6ImlzVG9TYXZlRGF0YSIsc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzVG9TYXZlRGF0YT1lfX1dKSxPYnNlcnZlck9iamVjdH0oKTt0LmRlZmF1bHQ9bSxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTggKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigyMTEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoOSkscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDIpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoNyksZD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGwpLHA9cigxNCkseT1yKDUxOSksaD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHkpLHY9ZC5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbk1hbmFnZXIiKSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWFuYWdlcihlLHQscil7aWYoKDAsdS5kZWZhdWx0KSh0aGlzLFN1YnNjcmlwdGlvbk1hbmFnZXIpLCFlKXRocm93IG5ldyBFcnJvcigiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gbmVlZHMgdGhlIHJ1bnRpbWVVUkwgcGFyYW1ldGVyIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gLSBuZWVkcyB0aGUgTWVzc2FnZUJ1cyBpbnN0YW5jZSIpO3ZhciBuPXRoaXM7bi5fYnVzPXQsbi5fc3RvcmFnZT1yLG4uX3N1YnNjcmlwdGlvbnM9e30sbi5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9e30sCi8vVE9ETzogdGhlc2Ugc2hvdWxkIGJlIHNhdmVkIGluIHBlcnNpc3RlbmNlIGVuZ2luZT8Kbi5ydW50aW1lVVJMPWUsbi5fdXJsPWUrIi9zdWJzY3JpcHRpb25zIiwKLy9UT0RPOiB0aGlzIHNob3VsZCBub3QgYmUgaGFyZGNvZGVkIQpuLl9kb21haW49KDAscC5kaXZpZGVVUkwpKGUpLmRvbWFpbix0LmFkZExpc3RlbmVyKG4uX3VybCxmdW5jdGlvbihlKXtzd2l0Y2godi5pbmZvKCJbU3Vic2NyaXB0aW9uTWFuYWdlcl0gUkNWOiAiLGUpLGUudHlwZSl7Y2FzZSJzdWJzY3JpYmUiOm4uX29uU3Vic2NyaWJlKGUpO2JyZWFrO2Nhc2UidW5zdWJzY3JpYmUiOm4uX29uVW5TdWJzY3JpYmUoZSk7YnJlYWs7Y2FzZSJyZWFkIjpuLl9vblJlYWQoZSl9fSl9cmV0dXJuKDAsZi5kZWZhdWx0KShTdWJzY3JpcHRpb25NYW5hZ2VyLFt7a2V5OiJpbml0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24odCl7ZS5fc3RvcmFnZS5nZXQoInN1YnNjcmlwdGlvbnMiKS50aGVuKGZ1bmN0aW9uKHIpe3YubG9nKCJbU3Vic2NyaXB0aW9uTWFuYWdlci5pbml0XSByZXN1bWUgc3Vic2NyaXB0aW9uczogIixyKSxyJiYoZS5fc3Vic2NyaXB0aW9uc1N0b3JhZ2U9ciwoMCxpLmRlZmF1bHQpKHIpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY3JlYXRlU3Vic2NyaXB0aW9uKHQuZG9tYWluLHQucmVzb3VyY2VzLHQuc3Vic2NyaWJlcix0LmlkZW50aXR5KX0pKSx0KCl9KX0pfX0se2tleToiX29uU3Vic2NyaWJlIiwKLy9tZXNzYWdlIHJlY2VpdmVkIHRvIHNldCBhIHJvdXRpbmcgcGF0aAp2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LnJlc291cmNlcyxuPWUuZnJvbSxpPSgwLHAuZGl2aWRlVVJMKShyWzBdKS5kb21haW4sbz1lLmJvZHkuaWRlbnRpdHk7dC5fY3JlYXRlU3Vic2NyaXB0aW9uKGkscixuLG8pLnRoZW4oZnVuY3Rpb24ocyl7Ci8vZm9yd2FyZCB0byBoeXBlcnR5OgpzLmlkPWUuaWQscy5mcm9tPXQuX3VybCxzLnRvPW4scy5ib2R5PWUuYm9keSxzLmJvZHkuY29kZT0yMDAsdi5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIGNyYWV0ZVN1YnNjcmlwdGlvbjogIixlLHMsbiksdC5fYnVzLnBvc3RNZXNzYWdlKHMpLHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dP3IuZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtuXS5yZXNvdXJjZXMuaW5jbHVkZXMoZSl8fHQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW25dLnJlc291cmNlcy5wdXNoKGUpfSk6dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbbl09e2RvbWFpbjppLHJlc291cmNlczpyLHN1YnNjcmliZXI6bixpZGVudGl0eTpvfSx0Ll9zdG9yYWdlLnNldCgic3Vic2NyaXB0aW9ucyIsMSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZSl9KX19LHtrZXk6Il9jcmVhdGVTdWJzY3JpcHRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXM7Ci8vZGVidWdnZXI7CnJldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKG8pewovL0ZMT1ctT1VUOiBzdWJzY3JpYmUgbWVzc2FnZSB0byB0aGUgbXNnLW5vZGUsIHJlZ2lzdGVyaW5nIGxpc3RlbmVycyBvbiB0aGUgYnJva2VyCnZhciBzPXt0eXBlOiJzdWJzY3JpYmUiLGZyb206aS5fdXJsLHRvOiJkb21haW46Ly9tc2ctbm9kZS4iK2UrIi9zbSIsYm9keTp7aWRlbnRpdHk6bixyZXNvdXJjZXM6dCxzb3VyY2U6cn19OwovL3N1YnNjcmliZSBpbiBtc2ctbm9kZQppLl9idXMucG9zdE1lc3NhZ2UocyxmdW5jdGlvbihlKXt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIG5vZGUtc3Vic2NyaWJlLXJlc3BvbnNlOiAiLGUpOwovL2lmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgey8vVE9ETzogdW5jb21tZW50IHdoZW4gIE1OIHJlcGxpZXMgd2l0aCBjb3JyZWN0IHJlc3BvbnNlIGJvZHkgY29kZQovL1RPRE86IHN1cHBvcnQgbXVsdGlwbGUgcm91dGVzIGZvciBtdWx0aXBsZSByZXNvdXJjZXMKdmFyIG49aS5fc3Vic2NyaXB0aW9uc1tyXTt2LmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXJdIC0gIixpLl9zdWJzY3JpcHRpb25zLHQsaS5fc3Vic2NyaXB0aW9ucy5oYXNPd25Qcm9wZXJ0eShyKSksbnx8KGkuX3N1YnNjcmlwdGlvbnNbcl09e30pLHQuZm9yRWFjaChmdW5jdGlvbihlKXtpLl9zdWJzY3JpcHRpb25zW3JdW2VdPW5ldyBoLmRlZmF1bHQoaS5fYnVzLHIsZSl9KSxvKGUpfSl9KX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5mcm9tLG49ZS5ib2R5LnJlc291cmNlO2lmKHQuX3N1YnNjcmlwdGlvbnNbcl0mJnQuX3N1YnNjcmlwdGlvbnNbcl1bbl0pe3ZhciBpPSgwLHAuZGl2aWRlVVJMKShuKS5kb21haW4sbz10Ll9zdWJzY3JpcHRpb25zW3JdW25dO2lmKAovL0ZMT1ctT1VUOiBtZXNzYWdlIHNlbnQgdG8gbXNnLW5vZGUgU3Vic2NyaXB0aW9uTWFuYWdlciBjb21wb25lbnQKdC5fYnVzLnBvc3RNZXNzYWdlKHt0eXBlOiJ1bnN1YnNjcmliZSIsZnJvbTp0Ll91cmwsdG86ImRvbWFpbjovL21zZy1ub2RlLiIraSsiL3NtIixib2R5OntyZXNvdXJjZXM6W25dLHNvdXJjZTpyfX0pLG8uX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgdC5fc3Vic2NyaXB0aW9uc1tyXVtuXSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZVtyXSl7dmFyIHM9dC5fc3Vic2NyaXB0aW9uc1N0b3JhZ2Vbcl0ucmVzb3VyY2VzLmluZGV4T2Yobik7LTEhPXMmJnQuX3N1YnNjcmlwdGlvbnNTdG9yYWdlW3JdLnJlc291cmNlcy5zcGxpY2UocywxKSx0Ll9zdG9yYWdlLnNldCgic3Vic2NyaXB0aW9ucyIsMSx0Ll9zdWJzY3JpcHRpb25zU3RvcmFnZSl9fXQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjIwMH19KX19LHtrZXk6Il9vblJlYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj12b2lkIDA7di5sb2coIltTdWJzY3JpcHRpb25NYW5hZ2VyXSAtIHJlcXVlc3QgdG8gcmVhZCBTdWJzY3JpcHRpb25zOiAiLGUpLHQuX3N0b3JhZ2UuZ2V0KCJzdWJzY3JpcHRpb25zIikudGhlbihmdW5jdGlvbihpKXtpZihpJiZpW3JdKXt2YXIgbz1pW3JdLnJlc291cmNlcztuPXtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHZhbHVlOm99fX1lbHNlIG49e2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTo0MDQsZGVzY3JpcHRpb246Ik5vdCBGb3VuZCJ9fTt0Ll9idXMucG9zdE1lc3NhZ2Uobil9KX19LHtrZXk6InVybCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VybH19XSksU3Vic2NyaXB0aW9uTWFuYWdlcn0oKTt0LmRlZmF1bHQ9ZyxlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MTkgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cigxKSxpPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobiksbz1yKDIpLHM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChvKSxhPXIoNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGM9dS5nZXRMb2dnZXIoIlN1YnNjcmlwdGlvbiIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb24oZSx0LHIpeygwLGkuZGVmYXVsdCkodGhpcyxTdWJzY3JpcHRpb24pO3ZhciBuPXRoaXM7bi5fc3Vic2NyaWJlcj10LG4ucmVzb3VyY2U9cixjLmxvZygiW1N1YnNjcmlwdGlvbk1hbmFnZXIuU3Vic2NyaXB0aW9uXSBuZXc6ICIsdCxyKSwKLy9hZGQgZm9yd2FyZApuLl9saXN0ZW5lcj1lLmFkZEZvcndhcmQocix0KX1yZXR1cm4oMCxzLmRlZmF1bHQpKFN1YnNjcmlwdGlvbixbe2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXIucmVtb3ZlKCl9fV0pLFN1YnNjcmlwdGlvbn0oKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSwvKiA1MjAgKi8KLyoqKi8KZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig0NyksaT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG4pLG89cig5KSxzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQobyksYT1yKDYwKSx1PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYSksYz1yKDEpLGY9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChjKSxsPXIoMiksZD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGwpLHA9cig2OCkseT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KHApLGg9cig2OSksdj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KGgpLGc9cig3KSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksbT1yKDIwNyksXz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG0pLFI9cigyMDgpLHc9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChSKSxTPXIoMTQpLFA9cigyMDkpLE89X2ludGVyb3BSZXF1aXJlRGVmYXVsdChQKSxNPXIoNTIxKSxrPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoTSksTD0oYi5nZXRMb2dnZXIoIlBFUCIpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFJ1bnRpbWVDb3JlQ3R4KGUsdCxyLG4saSl7KDAsZi5kZWZhdWx0KSh0aGlzLFJ1bnRpbWVDb3JlQ3R4KTt2YXIgbz0oMCx5LmRlZmF1bHQpKHRoaXMsKFJ1bnRpbWVDb3JlQ3R4Ll9fcHJvdG9fX3x8KDAsdS5kZWZhdWx0KShSdW50aW1lQ29yZUN0eCkpLmNhbGwodGhpcykpO3JldHVybiBvLl9ydW50aW1lVVJMPWUsby5fcGVwVVJMPW8uX3J1bnRpbWVVUkwrIi9wZXAiLG8uX2d1aVVSTD1vLl9ydW50aW1lVVJMKyIvcG9saWN5LWd1aSIsby5pZE1vZHVsZT10LG8ucnVudGltZVJlZ2lzdHJ5PXIsby5hY3RpdmVVc2VyUG9saWN5PXZvaWQgMCxvLnNlcnZpY2VQcm92aWRlclBvbGljeT17fSxvLnVzZXJQb2xpY2llcz17fSxvLnN0b3JhZ2VNYW5hZ2VyPW4sby5ydW50aW1lQ2FwYWJpbGl0aWVzPWksb31yZXR1cm4oMCx2LmRlZmF1bHQpKFJ1bnRpbWVDb3JlQ3R4LGUpLCgwLGQuZGVmYXVsdCkoUnVudGltZUNvcmVDdHgsW3trZXk6ImxvYWRDb25maWd1cmF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgcy5kZWZhdWx0KGZ1bmN0aW9uKHQscil7ZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6YWN0aXZlUG9saWN5IikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5hY3RpdmVVc2VyUG9saWN5PXQsZS5zdG9yYWdlTWFuYWdlci5nZXQoInJldGhpbms6Z3JvdXBzIil9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPXQ7cmV0dXJuIGUuZ3JvdXBzPXZvaWQgMD09PXI/e306cixlLnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazpzcFBvbGljaWVzIil9KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXI7ZS5zZXJ2aWNlUHJvdmlkZXJQb2xpY3k9dm9pZCAwPT09bj97fTpuLGUuX2xvYWRVc2VyUG9saWNpZXMoKS50aGVuKGZ1bmN0aW9uKCl7dCgpfSl9KX0pfX0se2tleToiZ2V0UG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIHZvaWQgMCE9PXRoaXMuYWN0aXZlVXNlclBvbGljeSYmKHIudXNlclBvbGljeT10aGlzLnVzZXJQb2xpY2llc1t0aGlzLmFjdGl2ZVVzZXJQb2xpY3ldKSxyLnNlcnZpY2VQcm92aWRlclBvbGljeT10aGlzLmdldFNlcnZpY2VQcm92aWRlclBvbGljeShlLHQpLHJ9fSx7a2V5OiJfaXNWYWxpZFVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe2UuZnJvbS5zcGxpdCgiOi8vIikubGVuZ3RoPjE/dC5pZE1vZHVsZS5fZ2V0SHlwZXJ0eUZyb21EYXRhT2JqZWN0KGUuZnJvbSkudGhlbihmdW5jdGlvbih0KXt0PT09ZS5ib2R5LnNvdXJjZT9yKGUpOm4oIlRoZSBzb3VyY2Ugb2YgdGhlIG1lc3NhZ2UgaXMgbm90IHZhbGlkLiIpfSxmdW5jdGlvbihlKXtuKGUpfSk6cihlKX0pfX0se2tleToiZ2V0TXlFbWFpbHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pZE1vZHVsZS5nZXRJZGVudGl0aWVzKCksdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2goKDAsUy5nZXRVc2VyRW1haWxGcm9tVVJMKShlW3JdLmlkZW50aXR5KSk7cmV0dXJuIHR9fSx7a2V5OiJnZXRNeUh5cGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJ1bnRpbWVSZWdpc3RyeS5oeXBlcnRpZXNMaXN0LHQ9W107Zm9yKHZhciByIGluIGUpe3ZhciBuPWVbcl0ub2JqZWN0TmFtZTstMT09PXQuaW5kZXhPZihuKSYmdC5wdXNoKG4pfXJldHVybiB0fX0se2tleToiZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMDtpZih0KXt2YXIgbj10aGlzLnJ1bnRpbWVSZWdpc3RyeS5nZXRIeXBlcnR5TmFtZShlLnRvKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W25dfWVsc2V7dmFyIGk9dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoZS5mcm9tKTtyPXRoaXMuc2VydmljZVByb3ZpZGVyUG9saWN5W2ldfXJldHVybiByfX0se2tleToiZ2V0VVJMIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIHRbMF0rIi8vIit0WzJdKyIvIit0WzNdfX0se2tleToiX2xvYWRVc2VyUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXM7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZnVuY3Rpb24ocixuKXt0LnN0b3JhZ2VNYW5hZ2VyLmdldCgicmV0aGluazp1c2VyUG9saWNpZXMiKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQ7aWYodm9pZCAwIT09bilmb3IodmFyIGkgaW4gbillLnBlcC5hZGRQb2xpY3koIlVTRVIiLGksbltpXSk7cigpfSl9KX19LHtrZXk6Il9nZXRMYXN0Q29tcG9uZW50T2ZVUkwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIi8iKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX19LHtrZXk6Il9nZXRQb2xpY2llc0pTT04iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXt2YXIgcj1lW3RdLmNvbWJpbmluZ0FsZ29yaXRobTtyIGluc3RhbmNlb2Ygdy5kZWZhdWx0P2VbdF0uY29tYmluaW5nQWxnb3JpdGhtPSJibG9ja092ZXJyaWRlcyI6ciBpbnN0YW5jZW9mIF8uZGVmYXVsdD9lW3RdLmNvbWJpbmluZ0FsZ29yaXRobT0iYWxsb3dPdmVycmlkZXMiOnIgaW5zdGFuY2VvZiBPLmRlZmF1bHQ/ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09ImZpcnN0QXBwbGljYWJsZSI6ZVt0XS5jb21iaW5pbmdBbGdvcml0aG09dm9pZCAwfXJldHVybiBlfX0se2tleToic2F2ZUFjdGl2ZVBvbGljeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmFjdGl2ZVBvbGljeSIsMCxlLmFjdGl2ZVVzZXJQb2xpY3kpLnRoZW4oZnVuY3Rpb24oKXtyKCl9KX0pfX0se2tleToic2F2ZUdyb3VwcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztyZXR1cm4gbmV3IHMuZGVmYXVsdChmdW5jdGlvbihyLG4pe3Quc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOmdyb3VwcyIsMCxlLmdyb3VwcykudGhlbihmdW5jdGlvbigpe3IoKX0pfSl9fSx7a2V5OiJzYXZlUG9saWNpZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA7c3dpdGNoKGUpe2Nhc2UiVVNFUiI6bj0oMCxpLmRlZmF1bHQpKHRoaXMudXNlclBvbGljaWVzKSxuPXRoaXMuX2dldFBvbGljaWVzSlNPTihKU09OLnBhcnNlKG4pKSx0aGlzLnN0b3JhZ2VNYW5hZ2VyLnNldCgicmV0aGluazp1c2VyUG9saWNpZXMiLDAsbik7YnJlYWs7Y2FzZSJTRVJWSUNFX1BST1ZJREVSIjp2b2lkIDAhPT10JnZvaWQgMCE9PXImJih0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljeVtyXT10KSxuPSgwLGkuZGVmYXVsdCkodGhpcy5zZXJ2aWNlUHJvdmlkZXJQb2xpY3kpLG49dGhpcy5fZ2V0UG9saWNpZXNKU09OKEpTT04ucGFyc2UobikpLHRoaXMuc3RvcmFnZU1hbmFnZXIuc2V0KCJyZXRoaW5rOnNwUG9saWNpZXMiLDAsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biBwb2xpY3kgc291cmNlOiAiK2UpfX19LHtrZXk6ImdldEdyb3Vwc05hbWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ3JvdXBzLHQ9W107aWYodm9pZCAwIT09ZSlmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHR9fSx7a2V5OiJnZXRHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZigicHJlYXV0aG9yaXNlZCI9PT1lKXt2YXIgbj10LnNwbGl0KCIvIik7bi5wb3AoKSxuPW5bMF0rIi8vIituWzJdLHI9dGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0UHJlQXV0aFN1YnNjcmliZXJzKG4pfWVsc2Ugdm9pZCAwIT09dGhpcy5ncm91cHNbZV0mJihyPXRoaXMuZ3JvdXBzW2VdKTtyZXR1cm4gcn19LHtrZXk6ImNyZWF0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdyb3Vwc1tlXT1bXSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6ImRlbGV0ZUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5ncm91cHNbZV0sdGhpcy5zYXZlR3JvdXBzKCl9fSx7a2V5OiJhZGRUb0dyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzO2lmKHZvaWQgMD09PXJbZV0pdGhyb3cgRXJyb3IoJ0dyb3VwICInK2UrJyIgZG9lcyBub3QgZXhpc3QhJyk7LTE9PT1yW2VdLmluZGV4T2YodCkmJihyW2VdLnB1c2godCksdGhpcy5zYXZlR3JvdXBzKCkpfX0se2tleToicmVtb3ZlRnJvbUdyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ3JvdXBzW2VdO3Iuc3BsaWNlKHIuaW5kZXhPZih0KSwxKSx0aGlzLnNhdmVHcm91cHMoKX19LHtrZXk6InBlcFVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlcFVSTH19LHtrZXk6Imd1aVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2d1aVVSTH19LHtrZXk6InJ1bnRpbWVVUkwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVVJMfX0se2tleToibWVzc2FnZUJ1cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VCdXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tZXNzYWdlQnVzPWV9fSx7a2V5OiJzdWJzY3JpcHRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zdWJzY3JpcHRpb249ZS5tZXNzYWdlLmJvZHkuc3Vic2NyaWJlcn19XSksUnVudGltZUNvcmVDdHh9KGsuZGVmYXVsdCkpO3QuZGVmYXVsdD1MLGUuZXhwb3J0cz10LmRlZmF1bHR9LC8qIDUyMSAqLwovKioqLwpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDEpLGk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChuKSxvPXIoMikscz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KG8pLGE9cigxNCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJlVGhpbmtDdHgoKXsoMCxpLmRlZmF1bHQpKHRoaXMsUmVUaGlua0N0eCksdGhpcy5kZWZhdWx0QmVoYXZpb3VyPSEwLHRoaXMuZ3JvdXBzPXt9fXJldHVybigwLHMuZGVmYXVsdCkoUmVUaGlua0N0eCxbe2tleToic2NoZW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1lfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZXNzYWdlLmZyb207KDAsYS5pc0RhdGFPYmplY3RVUkwpKHQpP3RoaXMuX3NjaGVtZT0oMCxhLmRpdmlkZVVSTCkodCkudHlwZTp0aGlzLl9zY2hlbWU9dm9pZCAwfX0se2tleToiZGF0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZSxyPVN0cmluZyh0LmdldERhdGUoKSk7MT09PXIubGVuZ3RoJiYocj0iMCIrcik7dmFyIG49U3RyaW5nKHQuZ2V0TW9udGgoKSsxKTsxPT09bi5sZW5ndGgmJihuPSIwIituKSx0aGlzLl9kYXRlPXIrIi8iK24rIi8iK3QuZ2V0RnVsbFllYXIoKX19LHtrZXk6ImRvbWFpbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbWFpbn0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUubWVzc2FnZS5ib2R5LmlkZW50aXR5JiYodGhpcy5fZG9tYWluPSgwLGEuZGl2aWRlRW1haWwpKGUubWVzc2FnZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJuYW1lKS5kb21haW4pfX0se2tleToidHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2U7dm9pZCAwIT09dC5ib2R5LnZhbHVlJiYodGhpcy5fdHlwZT10LmJvZHkudmFsdWUucmVzb3VyY2VUeXBlKX19LHtrZXk6InNvdXJjZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUubWVzc2FnZS5ib2R5LmlkZW50aXR5JiYodGhpcy5fc291cmNlPWUubWVzc2FnZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJuYW1lKX19LHtrZXk6InRpbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lfSxzZXQ6ZnVuY3Rpb24oZSl7ZT1uZXcgRGF0ZTt2YXIgdD1TdHJpbmcoZS5nZXRNaW51dGVzKCkpOzE9PT10Lmxlbmd0aCYmKHQ9IjAiK3QpLHRoaXMuX3RpbWU9cGFyc2VJbnQoU3RyaW5nKGUuZ2V0SG91cnMoKSkrdCl9fSx7a2V5OiJ3ZWVrZGF5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2Vla2RheX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dlZWtkYXk9U3RyaW5nKChuZXcgRGF0ZSkuZ2V0RGF5KCkpfX1dKSxSZVRoaW5rQ3R4fSgpO3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9XSl9KTs=",
      "sourceCodeClassname": "Runtime",
      "encoding": "base64",
      "signature": ""
    },
    "sourcePackageURL": "/sourcePackage",
    "version": "7.70",
    "description": "",
    "language": "Javascript",
    "cguid": "3bc366f2d0ba3d681e7a3899917c5d3de",
    "type": "Runtimes",
    "runtimeType": "browser",
    "p2pHandlerStub": "",
    "p2pRequesterStub": "",
    "constraints": {
      "browser": true,
      "mic": true,
      "camera": true,
      "sensor": false,
      "webrtc": true,
      "ortc": true,
      "http": true,
      "https": true,
      "ws": true,
      "wss": true,
      "coap": false,
      "datachannel": false
    },
    "objectName": "Runtime",
    "configuration": {},
    "messageSchemas": [],
    "dataObjects": [],
    "signature": "",
    "accessControlPolicy": "somePolicy"
  }
}